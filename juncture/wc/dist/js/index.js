var Yw=Object.defineProperty;var Hw=(D,O,z)=>O in D?Yw(D,O,{enumerable:!0,configurable:!0,writable:!0,value:z}):D[O]=z;var F1=(D,O,z)=>(Hw(D,typeof O!="symbol"?O+"":O,z),z);(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const Y of document.querySelectorAll('link[rel="modulepreload"]'))F(Y);new MutationObserver(Y=>{for(const W of Y)if(W.type==="childList")for(const q of W.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&F(q)}).observe(document,{childList:!0,subtree:!0});function z(Y){const W={};return Y.integrity&&(W.integrity=Y.integrity),Y.referrerPolicy&&(W.referrerPolicy=Y.referrerPolicy),Y.crossOrigin==="use-credentials"?W.credentials="include":Y.crossOrigin==="anonymous"?W.credentials="omit":W.credentials="same-origin",W}function F(Y){if(Y.ep)return;Y.ep=!0;const W=z(Y);fetch(Y.href,W)}})();const scriptRel="modulepreload",assetsURL=function(D){return"/juncture-wc/"+D},seen={},__vitePreload=function(O,z,F){if(!z||z.length===0)return O();const Y=document.getElementsByTagName("link");return Promise.all(z.map(W=>{if(W=assetsURL(W),W in seen)return;seen[W]=!0;const q=W.endsWith(".css"),X=q?'[rel="stylesheet"]':"";if(!!F)for(let st=Y.length-1;st>=0;st--){const ct=Y[st];if(ct.href===W&&(!q||ct.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${W}"]${X}`))return;const nt=document.createElement("link");if(nt.rel=q?"stylesheet":scriptRel,q||(nt.as="script",nt.crossOrigin=""),nt.href=W,document.head.appendChild(nt),q)return new Promise((st,ct)=>{nt.addEventListener("load",st),nt.addEventListener("error",()=>ct(new Error(`Unable to preload CSS for ${W}`)))})})).then(()=>O()).catch(W=>{const q=new Event("vite:preloadError",{cancelable:!0});if(q.payload=W,window.dispatchEvent(q),!q.defaultPrevented)throw W})};function makeMap(D,O){const z=Object.create(null),F=D.split(",");for(let Y=0;Y<F.length;Y++)z[F[Y]]=!0;return O?Y=>!!z[Y.toLowerCase()]:Y=>!!z[Y]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=D=>onRE.test(D),isModelListener=D=>D.startsWith("onUpdate:"),extend$2=Object.assign,remove$1=(D,O)=>{const z=D.indexOf(O);z>-1&&D.splice(z,1)},hasOwnProperty$i=Object.prototype.hasOwnProperty,hasOwn=(D,O)=>hasOwnProperty$i.call(D,O),isArray$2=Array.isArray,isMap$2=D=>toTypeString(D)==="[object Map]",isSet$2=D=>toTypeString(D)==="[object Set]",isFunction$1=D=>typeof D=="function",isString=D=>typeof D=="string",isSymbol$1=D=>typeof D=="symbol",isObject$2=D=>D!==null&&typeof D=="object",isPromise=D=>(isObject$2(D)||isFunction$1(D))&&isFunction$1(D.then)&&isFunction$1(D.catch),objectToString$1=Object.prototype.toString,toTypeString=D=>objectToString$1.call(D),toRawType=D=>toTypeString(D).slice(8,-1),isPlainObject$1=D=>toTypeString(D)==="[object Object]",isIntegerKey=D=>isString(D)&&D!=="NaN"&&D[0]!=="-"&&""+parseInt(D,10)===D,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=D=>{const O=Object.create(null);return z=>O[z]||(O[z]=D(z))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(D=>D.replace(camelizeRE,(O,z)=>z?z.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(D=>D.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(D=>D.charAt(0).toUpperCase()+D.slice(1)),toHandlerKey=cacheStringFunction(D=>D?`on${capitalize(D)}`:""),hasChanged=(D,O)=>!Object.is(D,O),invokeArrayFns=(D,O)=>{for(let z=0;z<D.length;z++)D[z](O)},def=(D,O,z)=>{Object.defineProperty(D,O,{configurable:!0,enumerable:!1,value:z})},looseToNumber=D=>{const O=parseFloat(D);return isNaN(O)?D:O},toNumber$1=D=>{const O=isString(D)?Number(D):NaN;return isNaN(O)?D:O};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(D){if(isArray$2(D)){const O={};for(let z=0;z<D.length;z++){const F=D[z],Y=isString(F)?parseStringStyle(F):normalizeStyle(F);if(Y)for(const W in Y)O[W]=Y[W]}return O}else if(isString(D)||isObject$2(D))return D}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(D){const O={};return D.replace(styleCommentRE,"").split(listDelimiterRE).forEach(z=>{if(z){const F=z.split(propertyDelimiterRE);F.length>1&&(O[F[0].trim()]=F[1].trim())}}),O}function normalizeClass(D){let O="";if(isString(D))O=D;else if(isArray$2(D))for(let z=0;z<D.length;z++){const F=normalizeClass(D[z]);F&&(O+=F+" ")}else if(isObject$2(D))for(const z in D)D[z]&&(O+=z+" ");return O.trim()}function normalizeProps(D){if(!D)return null;let{class:O,style:z}=D;return O&&!isString(O)&&(D.class=normalizeClass(O)),z&&(D.style=normalizeStyle(z)),D}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(D){return!!D||D===""}const toDisplayString=D=>isString(D)?D:D==null?"":isArray$2(D)||isObject$2(D)&&(D.toString===objectToString$1||!isFunction$1(D.toString))?JSON.stringify(D,replacer,2):String(D),replacer=(D,O)=>O&&O.__v_isRef?replacer(D,O.value):isMap$2(O)?{[`Map(${O.size})`]:[...O.entries()].reduce((z,[F,Y])=>(z[`${F} =>`]=Y,z),{})}:isSet$2(O)?{[`Set(${O.size})`]:[...O.values()]}:isObject$2(O)&&!isArray$2(O)&&!isPlainObject$1(O)?String(O):O;let activeEffectScope;class EffectScope{constructor(O=!1){this.detached=O,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!O&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(O){if(this._active){const z=activeEffectScope;try{return activeEffectScope=this,O()}finally{activeEffectScope=z}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(O){if(this._active){let z,F;for(z=0,F=this.effects.length;z<F;z++)this.effects[z].stop();for(z=0,F=this.cleanups.length;z<F;z++)this.cleanups[z]();if(this.scopes)for(z=0,F=this.scopes.length;z<F;z++)this.scopes[z].stop(!0);if(!this.detached&&this.parent&&!O){const Y=this.parent.scopes.pop();Y&&Y!==this&&(this.parent.scopes[this.index]=Y,Y.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(D,O=activeEffectScope){O&&O.active&&O.effects.push(D)}function getCurrentScope(){return activeEffectScope}const createDep=D=>{const O=new Set(D);return O.w=0,O.n=0,O},wasTracked=D=>(D.w&trackOpBit)>0,newTracked=D=>(D.n&trackOpBit)>0,initDepMarkers=({deps:D})=>{if(D.length)for(let O=0;O<D.length;O++)D[O].w|=trackOpBit},finalizeDepMarkers=D=>{const{deps:O}=D;if(O.length){let z=0;for(let F=0;F<O.length;F++){const Y=O[F];wasTracked(Y)&&!newTracked(Y)?Y.delete(D):O[z++]=Y,Y.w&=~trackOpBit,Y.n&=~trackOpBit}O.length=z}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(O,z=null,F){this.fn=O,this.scheduler=z,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,F)}run(){if(!this.active)return this.fn();let O=activeEffect,z=shouldTrack;for(;O;){if(O===this)return;O=O.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=z,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(D){const{deps:O}=D;if(O.length){for(let z=0;z<O.length;z++)O[z].delete(D);O.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const D=trackStack.pop();shouldTrack=D===void 0?!0:D}function track(D,O,z){if(shouldTrack&&activeEffect){let F=targetMap.get(D);F||targetMap.set(D,F=new Map);let Y=F.get(z);Y||F.set(z,Y=createDep()),trackEffects(Y)}}function trackEffects(D,O){let z=!1;effectTrackDepth<=maxMarkerBits?newTracked(D)||(D.n|=trackOpBit,z=!wasTracked(D)):z=!D.has(activeEffect),z&&(D.add(activeEffect),activeEffect.deps.push(D))}function trigger(D,O,z,F,Y,W){const q=targetMap.get(D);if(!q)return;let X=[];if(O==="clear")X=[...q.values()];else if(z==="length"&&isArray$2(D)){const tt=Number(F);q.forEach((nt,st)=>{(st==="length"||!isSymbol$1(st)&&st>=tt)&&X.push(nt)})}else switch(z!==void 0&&X.push(q.get(z)),O){case"add":isArray$2(D)?isIntegerKey(z)&&X.push(q.get("length")):(X.push(q.get(ITERATE_KEY)),isMap$2(D)&&X.push(q.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(D)||(X.push(q.get(ITERATE_KEY)),isMap$2(D)&&X.push(q.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2(D)&&X.push(q.get(ITERATE_KEY));break}if(X.length===1)X[0]&&triggerEffects(X[0]);else{const tt=[];for(const nt of X)nt&&tt.push(...nt);triggerEffects(createDep(tt))}}function triggerEffects(D,O){const z=isArray$2(D)?D:[...D];for(const F of z)F.computed&&triggerEffect(F);for(const F of z)F.computed||triggerEffect(F)}function triggerEffect(D,O){(D!==activeEffect||D.allowRecurse)&&(D.scheduler?D.scheduler():D.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(D=>D!=="arguments"&&D!=="caller").map(D=>Symbol[D]).filter(isSymbol$1)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const D={};return["includes","indexOf","lastIndexOf"].forEach(O=>{D[O]=function(...z){const F=toRaw(this);for(let W=0,q=this.length;W<q;W++)track(F,"get",W+"");const Y=F[O](...z);return Y===-1||Y===!1?F[O](...z.map(toRaw)):Y}}),["push","pop","shift","unshift","splice"].forEach(O=>{D[O]=function(...z){pauseTracking();const F=toRaw(this)[O].apply(this,z);return resetTracking(),F}}),D}function hasOwnProperty$h(D){const O=toRaw(this);return track(O,"has",D),O.hasOwnProperty(D)}class BaseReactiveHandler{constructor(O=!1,z=!1){this._isReadonly=O,this._shallow=z}get(O,z,F){const Y=this._isReadonly,W=this._shallow;if(z==="__v_isReactive")return!Y;if(z==="__v_isReadonly")return Y;if(z==="__v_isShallow")return W;if(z==="__v_raw"&&F===(Y?W?shallowReadonlyMap:readonlyMap:W?shallowReactiveMap:reactiveMap).get(O))return O;const q=isArray$2(O);if(!Y){if(q&&hasOwn(arrayInstrumentations,z))return Reflect.get(arrayInstrumentations,z,F);if(z==="hasOwnProperty")return hasOwnProperty$h}const X=Reflect.get(O,z,F);return(isSymbol$1(z)?builtInSymbols.has(z):isNonTrackableKeys(z))||(Y||track(O,"get",z),W)?X:isRef(X)?q&&isIntegerKey(z)?X:X.value:isObject$2(X)?Y?readonly(X):reactive(X):X}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(O=!1){super(!1,O)}set(O,z,F,Y){let W=O[z];if(isReadonly(W)&&isRef(W)&&!isRef(F))return!1;if(!this._shallow&&(!isShallow(F)&&!isReadonly(F)&&(W=toRaw(W),F=toRaw(F)),!isArray$2(O)&&isRef(W)&&!isRef(F)))return W.value=F,!0;const q=isArray$2(O)&&isIntegerKey(z)?Number(z)<O.length:hasOwn(O,z),X=Reflect.set(O,z,F,Y);return O===toRaw(Y)&&(q?hasChanged(F,W)&&trigger(O,"set",z,F):trigger(O,"add",z,F)),X}deleteProperty(O,z){const F=hasOwn(O,z);O[z];const Y=Reflect.deleteProperty(O,z);return Y&&F&&trigger(O,"delete",z,void 0),Y}has(O,z){const F=Reflect.has(O,z);return(!isSymbol$1(z)||!builtInSymbols.has(z))&&track(O,"has",z),F}ownKeys(O){return track(O,"iterate",isArray$2(O)?"length":ITERATE_KEY),Reflect.ownKeys(O)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(O=!1){super(!0,O)}set(O,z){return!0}deleteProperty(O,z){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=D=>D,getProto=D=>Reflect.getPrototypeOf(D);function get$4(D,O,z=!1,F=!1){D=D.__v_raw;const Y=toRaw(D),W=toRaw(O);z||(hasChanged(O,W)&&track(Y,"get",O),track(Y,"get",W));const{has:q}=getProto(Y),X=F?toShallow:z?toReadonly:toReactive;if(q.call(Y,O))return X(D.get(O));if(q.call(Y,W))return X(D.get(W));D!==Y&&D.get(O)}function has$1(D,O=!1){const z=this.__v_raw,F=toRaw(z),Y=toRaw(D);return O||(hasChanged(D,Y)&&track(F,"has",D),track(F,"has",Y)),D===Y?z.has(D):z.has(D)||z.has(Y)}function size$1(D,O=!1){return D=D.__v_raw,!O&&track(toRaw(D),"iterate",ITERATE_KEY),Reflect.get(D,"size",D)}function add(D){D=toRaw(D);const O=toRaw(this);return getProto(O).has.call(O,D)||(O.add(D),trigger(O,"add",D,D)),this}function set$3(D,O){O=toRaw(O);const z=toRaw(this),{has:F,get:Y}=getProto(z);let W=F.call(z,D);W||(D=toRaw(D),W=F.call(z,D));const q=Y.call(z,D);return z.set(D,O),W?hasChanged(O,q)&&trigger(z,"set",D,O):trigger(z,"add",D,O),this}function deleteEntry(D){const O=toRaw(this),{has:z,get:F}=getProto(O);let Y=z.call(O,D);Y||(D=toRaw(D),Y=z.call(O,D)),F&&F.call(O,D);const W=O.delete(D);return Y&&trigger(O,"delete",D,void 0),W}function clear$h(){const D=toRaw(this),O=D.size!==0,z=D.clear();return O&&trigger(D,"clear",void 0,void 0),z}function createForEach(D,O){return function(F,Y){const W=this,q=W.__v_raw,X=toRaw(q),tt=O?toShallow:D?toReadonly:toReactive;return!D&&track(X,"iterate",ITERATE_KEY),q.forEach((nt,st)=>F.call(Y,tt(nt),tt(st),W))}}function createIterableMethod(D,O,z){return function(...F){const Y=this.__v_raw,W=toRaw(Y),q=isMap$2(W),X=D==="entries"||D===Symbol.iterator&&q,tt=D==="keys"&&q,nt=Y[D](...F),st=z?toShallow:O?toReadonly:toReactive;return!O&&track(W,"iterate",tt?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ct,done:lt}=nt.next();return lt?{value:ct,done:lt}:{value:X?[st(ct[0]),st(ct[1])]:st(ct),done:lt}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(D){return function(...O){return D==="delete"?!1:this}}function createInstrumentations(){const D={get(W){return get$4(this,W)},get size(){return size$1(this)},has:has$1,add,set:set$3,delete:deleteEntry,clear:clear$h,forEach:createForEach(!1,!1)},O={get(W){return get$4(this,W,!1,!0)},get size(){return size$1(this)},has:has$1,add,set:set$3,delete:deleteEntry,clear:clear$h,forEach:createForEach(!1,!0)},z={get(W){return get$4(this,W,!0)},get size(){return size$1(this,!0)},has(W){return has$1.call(this,W,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},F={get(W){return get$4(this,W,!0,!0)},get size(){return size$1(this,!0)},has(W){return has$1.call(this,W,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(W=>{D[W]=createIterableMethod(W,!1,!1),z[W]=createIterableMethod(W,!0,!1),O[W]=createIterableMethod(W,!1,!0),F[W]=createIterableMethod(W,!0,!0)}),[D,z,O,F]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(D,O){const z=O?D?shallowReadonlyInstrumentations:shallowInstrumentations:D?readonlyInstrumentations:mutableInstrumentations;return(F,Y,W)=>Y==="__v_isReactive"?!D:Y==="__v_isReadonly"?D:Y==="__v_raw"?F:Reflect.get(hasOwn(z,Y)&&Y in F?z:F,Y,W)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(D){switch(D){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(D){return D.__v_skip||!Object.isExtensible(D)?0:targetTypeMap(toRawType(D))}function reactive(D){return isReadonly(D)?D:createReactiveObject(D,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(D){return createReactiveObject(D,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(D){return createReactiveObject(D,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(D,O,z,F,Y){if(!isObject$2(D)||D.__v_raw&&!(O&&D.__v_isReactive))return D;const W=Y.get(D);if(W)return W;const q=getTargetType(D);if(q===0)return D;const X=new Proxy(D,q===2?F:z);return Y.set(D,X),X}function isReactive(D){return isReadonly(D)?isReactive(D.__v_raw):!!(D&&D.__v_isReactive)}function isReadonly(D){return!!(D&&D.__v_isReadonly)}function isShallow(D){return!!(D&&D.__v_isShallow)}function isProxy(D){return isReactive(D)||isReadonly(D)}function toRaw(D){const O=D&&D.__v_raw;return O?toRaw(O):D}function markRaw(D){return def(D,"__v_skip",!0),D}const toReactive=D=>isObject$2(D)?reactive(D):D,toReadonly=D=>isObject$2(D)?readonly(D):D;function trackRefValue(D){shouldTrack&&activeEffect&&(D=toRaw(D),trackEffects(D.dep||(D.dep=createDep())))}function triggerRefValue(D,O){D=toRaw(D);const z=D.dep;z&&triggerEffects(z)}function isRef(D){return!!(D&&D.__v_isRef===!0)}function ref(D){return createRef(D,!1)}function createRef(D,O){return isRef(D)?D:new RefImpl(D,O)}class RefImpl{constructor(O,z){this.__v_isShallow=z,this.dep=void 0,this.__v_isRef=!0,this._rawValue=z?O:toRaw(O),this._value=z?O:toReactive(O)}get value(){return trackRefValue(this),this._value}set value(O){const z=this.__v_isShallow||isShallow(O)||isReadonly(O);O=z?O:toRaw(O),hasChanged(O,this._rawValue)&&(this._rawValue=O,this._value=z?O:toReactive(O),triggerRefValue(this))}}function unref(D){return isRef(D)?D.value:D}const shallowUnwrapHandlers={get:(D,O,z)=>unref(Reflect.get(D,O,z)),set:(D,O,z,F)=>{const Y=D[O];return isRef(Y)&&!isRef(z)?(Y.value=z,!0):Reflect.set(D,O,z,F)}};function proxyRefs(D){return isReactive(D)?D:new Proxy(D,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(O,z,F,Y){this._setter=z,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(O,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Y,this.__v_isReadonly=F}get value(){const O=toRaw(this);return trackRefValue(O),(O._dirty||!O._cacheable)&&(O._dirty=!1,O._value=O.effect.run()),O._value}set value(O){this._setter(O)}}function computed$1(D,O,z=!1){let F,Y;const W=isFunction$1(D);return W?(F=D,Y=NOOP):(F=D.get,Y=D.set),new ComputedRefImpl(F,Y,W||!Y,z)}function warn(D,...O){}function callWithErrorHandling(D,O,z,F){let Y;try{Y=F?D(...F):D()}catch(W){handleError$1(W,O,z)}return Y}function callWithAsyncErrorHandling(D,O,z,F){if(isFunction$1(D)){const W=callWithErrorHandling(D,O,z,F);return W&&isPromise(W)&&W.catch(q=>{handleError$1(q,O,z)}),W}const Y=[];for(let W=0;W<D.length;W++)Y.push(callWithAsyncErrorHandling(D[W],O,z,F));return Y}function handleError$1(D,O,z,F=!0){const Y=O?O.vnode:null;if(O){let W=O.parent;const q=O.proxy,X=z;for(;W;){const nt=W.ec;if(nt){for(let st=0;st<nt.length;st++)if(nt[st](D,q,X)===!1)return}W=W.parent}const tt=O.appContext.config.errorHandler;if(tt){callWithErrorHandling(tt,null,10,[D,q,X]);return}}logError(D,z,Y,F)}function logError(D,O,z,F=!0){console.error(D)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(D){const O=currentFlushPromise||resolvedPromise;return D?O.then(this?D.bind(this):D):O}function findInsertionIndex(D){let O=flushIndex+1,z=queue.length;for(;O<z;){const F=O+z>>>1,Y=queue[F],W=getId$1(Y);W<D||W===D&&Y.pre?O=F+1:z=F}return O}function queueJob(D){(!queue.length||!queue.includes(D,isFlushing&&D.allowRecurse?flushIndex+1:flushIndex))&&(D.id==null?queue.push(D):queue.splice(findInsertionIndex(D.id),0,D),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(D){const O=queue.indexOf(D);O>flushIndex&&queue.splice(O,1)}function queuePostFlushCb(D){isArray$2(D)?pendingPostFlushCbs.push(...D):(!activePostFlushCbs||!activePostFlushCbs.includes(D,D.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(D),queueFlush()}function flushPreFlushCbs(D,O=isFlushing?flushIndex+1:0){for(;O<queue.length;O++){const z=queue[O];z&&z.pre&&(queue.splice(O,1),O--,z())}}function flushPostFlushCbs(D){if(pendingPostFlushCbs.length){const O=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...O);return}for(activePostFlushCbs=O,activePostFlushCbs.sort((z,F)=>getId$1(z)-getId$1(F)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=D=>D.id==null?1/0:D.id,comparator=(D,O)=>{const z=getId$1(D)-getId$1(O);if(z===0){if(D.pre&&!O.pre)return-1;if(O.pre&&!D.pre)return 1}return z};function flushJobs(D){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const O=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const z=queue[flushIndex];z&&z.active!==!1&&callWithErrorHandling(z,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(D,O,...z){if(D.isUnmounted)return;const F=D.vnode.props||EMPTY_OBJ;let Y=z;const W=O.startsWith("update:"),q=W&&O.slice(7);if(q&&q in F){const st=`${q==="modelValue"?"model":q}Modifiers`,{number:ct,trim:lt}=F[st]||EMPTY_OBJ;lt&&(Y=z.map(ht=>isString(ht)?ht.trim():ht)),ct&&(Y=z.map(looseToNumber))}let X,tt=F[X=toHandlerKey(O)]||F[X=toHandlerKey(camelize(O))];!tt&&W&&(tt=F[X=toHandlerKey(hyphenate(O))]),tt&&callWithAsyncErrorHandling(tt,D,6,Y);const nt=F[X+"Once"];if(nt){if(!D.emitted)D.emitted={};else if(D.emitted[X])return;D.emitted[X]=!0,callWithAsyncErrorHandling(nt,D,6,Y)}}function normalizeEmitsOptions(D,O,z=!1){const F=O.emitsCache,Y=F.get(D);if(Y!==void 0)return Y;const W=D.emits;let q={},X=!1;if(!isFunction$1(D)){const tt=nt=>{const st=normalizeEmitsOptions(nt,O,!0);st&&(X=!0,extend$2(q,st))};!z&&O.mixins.length&&O.mixins.forEach(tt),D.extends&&tt(D.extends),D.mixins&&D.mixins.forEach(tt)}return!W&&!X?(isObject$2(D)&&F.set(D,null),null):(isArray$2(W)?W.forEach(tt=>q[tt]=null):extend$2(q,W),isObject$2(D)&&F.set(D,q),q)}function isEmitListener(D,O){return!D||!isOn(O)?!1:(O=O.slice(2).replace(/Once$/,""),hasOwn(D,O[0].toLowerCase()+O.slice(1))||hasOwn(D,hyphenate(O))||hasOwn(D,O))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(D){const O=currentRenderingInstance;return currentRenderingInstance=D,currentScopeId=D&&D.type.__scopeId||null,O}function pushScopeId(D){currentScopeId=D}function popScopeId(){currentScopeId=null}function withCtx(D,O=currentRenderingInstance,z){if(!O||D._n)return D;const F=(...Y)=>{F._d&&setBlockTracking(-1);const W=setCurrentRenderingInstance(O);let q;try{q=D(...Y)}finally{setCurrentRenderingInstance(W),F._d&&setBlockTracking(1)}return q};return F._n=!0,F._c=!0,F._d=!0,F}function markAttrsAccessed(){}function renderComponentRoot(D){const{type:O,vnode:z,proxy:F,withProxy:Y,props:W,propsOptions:[q],slots:X,attrs:tt,emit:nt,render:st,renderCache:ct,data:lt,setupState:ht,ctx:bt,inheritAttrs:wt}=D;let mt,_t;const Et=setCurrentRenderingInstance(D);try{if(z.shapeFlag&4){const Ct=Y||F;mt=normalizeVNode(st.call(Ct,Ct,ct,W,ht,lt,bt)),_t=tt}else{const Ct=O;mt=normalizeVNode(Ct.length>1?Ct(W,{attrs:tt,slots:X,emit:nt}):Ct(W,null)),_t=O.props?tt:getFunctionalFallthrough(tt)}}catch(Ct){blockStack.length=0,handleError$1(Ct,D,1),mt=createVNode(Comment)}let At=mt;if(_t&&wt!==!1){const Ct=Object.keys(_t),{shapeFlag:Ft}=At;Ct.length&&Ft&7&&(q&&Ct.some(isModelListener)&&(_t=filterModelListeners(_t,q)),At=cloneVNode(At,_t))}return z.dirs&&(At=cloneVNode(At),At.dirs=At.dirs?At.dirs.concat(z.dirs):z.dirs),z.transition&&(At.transition=z.transition),mt=At,setCurrentRenderingInstance(Et),mt}const getFunctionalFallthrough=D=>{let O;for(const z in D)(z==="class"||z==="style"||isOn(z))&&((O||(O={}))[z]=D[z]);return O},filterModelListeners=(D,O)=>{const z={};for(const F in D)(!isModelListener(F)||!(F.slice(9)in O))&&(z[F]=D[F]);return z};function shouldUpdateComponent(D,O,z){const{props:F,children:Y,component:W}=D,{props:q,children:X,patchFlag:tt}=O,nt=W.emitsOptions;if(O.dirs||O.transition)return!0;if(z&&tt>=0){if(tt&1024)return!0;if(tt&16)return F?hasPropsChanged(F,q,nt):!!q;if(tt&8){const st=O.dynamicProps;for(let ct=0;ct<st.length;ct++){const lt=st[ct];if(q[lt]!==F[lt]&&!isEmitListener(nt,lt))return!0}}}else return(Y||X)&&(!X||!X.$stable)?!0:F===q?!1:F?q?hasPropsChanged(F,q,nt):!0:!!q;return!1}function hasPropsChanged(D,O,z){const F=Object.keys(O);if(F.length!==Object.keys(D).length)return!0;for(let Y=0;Y<F.length;Y++){const W=F[Y];if(O[W]!==D[W]&&!isEmitListener(z,W))return!0}return!1}function updateHOCHostEl({vnode:D,parent:O},z){for(;O&&O.subTree===D;)(D=O.vnode).el=z,O=O.parent}const isSuspense=D=>D.__isSuspense;function queueEffectWithSuspense(D,O){O&&O.pendingBranch?isArray$2(D)?O.effects.push(...D):O.effects.push(D):queuePostFlushCb(D)}const INITIAL_WATCHER_VALUE={};function watch$1(D,O,z){return doWatch(D,O,z)}function doWatch(D,O,{immediate:z,deep:F,flush:Y,onTrack:W,onTrigger:q}=EMPTY_OBJ){var X;const tt=getCurrentScope()===((X=currentInstance)==null?void 0:X.scope)?currentInstance:null;let nt,st=!1,ct=!1;if(isRef(D)?(nt=()=>D.value,st=isShallow(D)):isReactive(D)?(nt=()=>D,F=!0):isArray$2(D)?(ct=!0,st=D.some(Ct=>isReactive(Ct)||isShallow(Ct)),nt=()=>D.map(Ct=>{if(isRef(Ct))return Ct.value;if(isReactive(Ct))return traverse(Ct);if(isFunction$1(Ct))return callWithErrorHandling(Ct,tt,2)})):isFunction$1(D)?O?nt=()=>callWithErrorHandling(D,tt,2):nt=()=>{if(!(tt&&tt.isUnmounted))return lt&&lt(),callWithAsyncErrorHandling(D,tt,3,[ht])}:nt=NOOP,O&&F){const Ct=nt;nt=()=>traverse(Ct())}let lt,ht=Ct=>{lt=Et.onStop=()=>{callWithErrorHandling(Ct,tt,4)}},bt;if(isInSSRComponentSetup)if(ht=NOOP,O?z&&callWithAsyncErrorHandling(O,tt,3,[nt(),ct?[]:void 0,ht]):nt(),Y==="sync"){const Ct=useSSRContext();bt=Ct.__watcherHandles||(Ct.__watcherHandles=[])}else return NOOP;let wt=ct?new Array(D.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const mt=()=>{if(Et.active)if(O){const Ct=Et.run();(F||st||(ct?Ct.some((Ft,Lt)=>hasChanged(Ft,wt[Lt])):hasChanged(Ct,wt)))&&(lt&&lt(),callWithAsyncErrorHandling(O,tt,3,[Ct,wt===INITIAL_WATCHER_VALUE?void 0:ct&&wt[0]===INITIAL_WATCHER_VALUE?[]:wt,ht]),wt=Ct)}else Et.run()};mt.allowRecurse=!!O;let _t;Y==="sync"?_t=mt:Y==="post"?_t=()=>queuePostRenderEffect(mt,tt&&tt.suspense):(mt.pre=!0,tt&&(mt.id=tt.uid),_t=()=>queueJob(mt));const Et=new ReactiveEffect(nt,_t);O?z?mt():wt=Et.run():Y==="post"?queuePostRenderEffect(Et.run.bind(Et),tt&&tt.suspense):Et.run();const At=()=>{Et.stop(),tt&&tt.scope&&remove$1(tt.scope.effects,Et)};return bt&&bt.push(At),At}function instanceWatch(D,O,z){const F=this.proxy,Y=isString(D)?D.includes(".")?createPathGetter(F,D):()=>F[D]:D.bind(F,F);let W;isFunction$1(O)?W=O:(W=O.handler,z=O);const q=currentInstance;setCurrentInstance(this);const X=doWatch(Y,W.bind(F),z);return q?setCurrentInstance(q):unsetCurrentInstance(),X}function createPathGetter(D,O){const z=O.split(".");return()=>{let F=D;for(let Y=0;Y<z.length&&F;Y++)F=F[z[Y]];return F}}function traverse(D,O){if(!isObject$2(D)||D.__v_skip||(O=O||new Set,O.has(D)))return D;if(O.add(D),isRef(D))traverse(D.value,O);else if(isArray$2(D))for(let z=0;z<D.length;z++)traverse(D[z],O);else if(isSet$2(D)||isMap$2(D))D.forEach(z=>{traverse(z,O)});else if(isPlainObject$1(D))for(const z in D)traverse(D[z],O);return D}function invokeDirectiveHook(D,O,z,F){const Y=D.dirs,W=O&&O.dirs;for(let q=0;q<Y.length;q++){const X=Y[q];W&&(X.oldValue=W[q].value);let tt=X.dir[F];tt&&(pauseTracking(),callWithAsyncErrorHandling(tt,z,8,[D.el,X,D,O]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(D,O){return isFunction$1(D)?(()=>extend$2({name:D.name},O,{setup:D}))():D}const isAsyncWrapper=D=>!!D.type.__asyncLoader,isKeepAlive=D=>D.type.__isKeepAlive;function onActivated(D,O){registerKeepAliveHook(D,"a",O)}function onDeactivated(D,O){registerKeepAliveHook(D,"da",O)}function registerKeepAliveHook(D,O,z=currentInstance){const F=D.__wdc||(D.__wdc=()=>{let Y=z;for(;Y;){if(Y.isDeactivated)return;Y=Y.parent}return D()});if(injectHook(O,F,z),z){let Y=z.parent;for(;Y&&Y.parent;)isKeepAlive(Y.parent.vnode)&&injectToKeepAliveRoot(F,O,z,Y),Y=Y.parent}}function injectToKeepAliveRoot(D,O,z,F){const Y=injectHook(O,D,F,!0);onUnmounted(()=>{remove$1(F[O],Y)},z)}function injectHook(D,O,z=currentInstance,F=!1){if(z){const Y=z[D]||(z[D]=[]),W=O.__weh||(O.__weh=(...q)=>{if(z.isUnmounted)return;pauseTracking(),setCurrentInstance(z);const X=callWithAsyncErrorHandling(O,z,D,q);return unsetCurrentInstance(),resetTracking(),X});return F?Y.unshift(W):Y.push(W),W}}const createHook=D=>(O,z=currentInstance)=>(!isInSSRComponentSetup||D==="sp")&&injectHook(D,(...F)=>O(...F),z),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(D,O=currentInstance){injectHook("ec",D,O)}const COMPONENTS="components";function resolveComponent(D,O){return resolveAsset(COMPONENTS,D,!0,O)||D}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(D,O,z=!0,F=!1){const Y=currentRenderingInstance||currentInstance;if(Y){const W=Y.type;if(D===COMPONENTS){const X=getComponentName(W,!1);if(X&&(X===O||X===camelize(O)||X===capitalize(camelize(O))))return W}const q=resolve(Y[D]||W[D],O)||resolve(Y.appContext[D],O);return!q&&F?W:q}}function resolve(D,O){return D&&(D[O]||D[camelize(O)]||D[capitalize(camelize(O))])}function renderList(D,O,z,F){let Y;const W=z&&z[F];if(isArray$2(D)||isString(D)){Y=new Array(D.length);for(let q=0,X=D.length;q<X;q++)Y[q]=O(D[q],q,void 0,W&&W[q])}else if(typeof D=="number"){Y=new Array(D);for(let q=0;q<D;q++)Y[q]=O(q+1,q,void 0,W&&W[q])}else if(isObject$2(D))if(D[Symbol.iterator])Y=Array.from(D,(q,X)=>O(q,X,void 0,W&&W[X]));else{const q=Object.keys(D);Y=new Array(q.length);for(let X=0,tt=q.length;X<tt;X++){const nt=q[X];Y[X]=O(D[nt],nt,X,W&&W[X])}}else Y=[];return z&&(z[F]=Y),Y}const getPublicInstance=D=>D?isStatefulComponent(D)?getExposeProxy(D)||D.proxy:getPublicInstance(D.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:D=>D,$el:D=>D.vnode.el,$data:D=>D.data,$props:D=>D.props,$attrs:D=>D.attrs,$slots:D=>D.slots,$refs:D=>D.refs,$parent:D=>getPublicInstance(D.parent),$root:D=>getPublicInstance(D.root),$emit:D=>D.emit,$options:D=>resolveMergedOptions(D),$forceUpdate:D=>D.f||(D.f=()=>queueJob(D.update)),$nextTick:D=>D.n||(D.n=nextTick.bind(D.proxy)),$watch:D=>instanceWatch.bind(D)}),hasSetupBinding=(D,O)=>D!==EMPTY_OBJ&&!D.__isScriptSetup&&hasOwn(D,O),PublicInstanceProxyHandlers={get({_:D},O){const{ctx:z,setupState:F,data:Y,props:W,accessCache:q,type:X,appContext:tt}=D;let nt;if(O[0]!=="$"){const ht=q[O];if(ht!==void 0)switch(ht){case 1:return F[O];case 2:return Y[O];case 4:return z[O];case 3:return W[O]}else{if(hasSetupBinding(F,O))return q[O]=1,F[O];if(Y!==EMPTY_OBJ&&hasOwn(Y,O))return q[O]=2,Y[O];if((nt=D.propsOptions[0])&&hasOwn(nt,O))return q[O]=3,W[O];if(z!==EMPTY_OBJ&&hasOwn(z,O))return q[O]=4,z[O];shouldCacheAccess&&(q[O]=0)}}const st=publicPropertiesMap[O];let ct,lt;if(st)return O==="$attrs"&&track(D,"get",O),st(D);if((ct=X.__cssModules)&&(ct=ct[O]))return ct;if(z!==EMPTY_OBJ&&hasOwn(z,O))return q[O]=4,z[O];if(lt=tt.config.globalProperties,hasOwn(lt,O))return lt[O]},set({_:D},O,z){const{data:F,setupState:Y,ctx:W}=D;return hasSetupBinding(Y,O)?(Y[O]=z,!0):F!==EMPTY_OBJ&&hasOwn(F,O)?(F[O]=z,!0):hasOwn(D.props,O)||O[0]==="$"&&O.slice(1)in D?!1:(W[O]=z,!0)},has({_:{data:D,setupState:O,accessCache:z,ctx:F,appContext:Y,propsOptions:W}},q){let X;return!!z[q]||D!==EMPTY_OBJ&&hasOwn(D,q)||hasSetupBinding(O,q)||(X=W[0])&&hasOwn(X,q)||hasOwn(F,q)||hasOwn(publicPropertiesMap,q)||hasOwn(Y.config.globalProperties,q)},defineProperty(D,O,z){return z.get!=null?D._.accessCache[O]=0:hasOwn(z,"value")&&this.set(D,O,z.value,null),Reflect.defineProperty(D,O,z)}};function normalizePropsOrEmits(D){return isArray$2(D)?D.reduce((O,z)=>(O[z]=null,O),{}):D}let shouldCacheAccess=!0;function applyOptions(D){const O=resolveMergedOptions(D),z=D.proxy,F=D.ctx;shouldCacheAccess=!1,O.beforeCreate&&callHook(O.beforeCreate,D,"bc");const{data:Y,computed:W,methods:q,watch:X,provide:tt,inject:nt,created:st,beforeMount:ct,mounted:lt,beforeUpdate:ht,updated:bt,activated:wt,deactivated:mt,beforeDestroy:_t,beforeUnmount:Et,destroyed:At,unmounted:Ct,render:Ft,renderTracked:Lt,renderTriggered:Yt,errorCaptured:Ht,serverPrefetch:qt,expose:te,inheritAttrs:Xt,components:Dt,directives:Qt,filters:Nt}=O;if(nt&&resolveInjections(nt,F,null),q)for(const de in q){const ye=q[de];isFunction$1(ye)&&(F[de]=ye.bind(z))}if(Y){const de=Y.call(z,z);isObject$2(de)&&(D.data=reactive(de))}if(shouldCacheAccess=!0,W)for(const de in W){const ye=W[de],pe=isFunction$1(ye)?ye.bind(z,z):isFunction$1(ye.get)?ye.get.bind(z,z):NOOP,ve=!isFunction$1(ye)&&isFunction$1(ye.set)?ye.set.bind(z):NOOP,Ce=computed({get:pe,set:ve});Object.defineProperty(F,de,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:De=>Ce.value=De})}if(X)for(const de in X)createWatcher(X[de],F,z,de);if(tt){const de=isFunction$1(tt)?tt.call(z):tt;Reflect.ownKeys(de).forEach(ye=>{provide(ye,de[ye])})}st&&callHook(st,D,"c");function Pt(de,ye){isArray$2(ye)?ye.forEach(pe=>de(pe.bind(z))):ye&&de(ye.bind(z))}if(Pt(onBeforeMount,ct),Pt(onMounted,lt),Pt(onBeforeUpdate,ht),Pt(onUpdated,bt),Pt(onActivated,wt),Pt(onDeactivated,mt),Pt(onErrorCaptured,Ht),Pt(onRenderTracked,Lt),Pt(onRenderTriggered,Yt),Pt(onBeforeUnmount,Et),Pt(onUnmounted,Ct),Pt(onServerPrefetch,qt),isArray$2(te))if(te.length){const de=D.exposed||(D.exposed={});te.forEach(ye=>{Object.defineProperty(de,ye,{get:()=>z[ye],set:pe=>z[ye]=pe})})}else D.exposed||(D.exposed={});Ft&&D.render===NOOP&&(D.render=Ft),Xt!=null&&(D.inheritAttrs=Xt),Dt&&(D.components=Dt),Qt&&(D.directives=Qt)}function resolveInjections(D,O,z=NOOP){isArray$2(D)&&(D=normalizeInject(D));for(const F in D){const Y=D[F];let W;isObject$2(Y)?"default"in Y?W=inject(Y.from||F,Y.default,!0):W=inject(Y.from||F):W=inject(Y),isRef(W)?Object.defineProperty(O,F,{enumerable:!0,configurable:!0,get:()=>W.value,set:q=>W.value=q}):O[F]=W}}function callHook(D,O,z){callWithAsyncErrorHandling(isArray$2(D)?D.map(F=>F.bind(O.proxy)):D.bind(O.proxy),O,z)}function createWatcher(D,O,z,F){const Y=F.includes(".")?createPathGetter(z,F):()=>z[F];if(isString(D)){const W=O[D];isFunction$1(W)&&watch$1(Y,W)}else if(isFunction$1(D))watch$1(Y,D.bind(z));else if(isObject$2(D))if(isArray$2(D))D.forEach(W=>createWatcher(W,O,z,F));else{const W=isFunction$1(D.handler)?D.handler.bind(z):O[D.handler];isFunction$1(W)&&watch$1(Y,W,D)}}function resolveMergedOptions(D){const O=D.type,{mixins:z,extends:F}=O,{mixins:Y,optionsCache:W,config:{optionMergeStrategies:q}}=D.appContext,X=W.get(O);let tt;return X?tt=X:!Y.length&&!z&&!F?tt=O:(tt={},Y.length&&Y.forEach(nt=>mergeOptions(tt,nt,q,!0)),mergeOptions(tt,O,q)),isObject$2(O)&&W.set(O,tt),tt}function mergeOptions(D,O,z,F=!1){const{mixins:Y,extends:W}=O;W&&mergeOptions(D,W,z,!0),Y&&Y.forEach(q=>mergeOptions(D,q,z,!0));for(const q in O)if(!(F&&q==="expose")){const X=internalOptionMergeStrats[q]||z&&z[q];D[q]=X?X(D[q],O[q]):O[q]}return D}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(D,O){return O?D?function(){return extend$2(isFunction$1(D)?D.call(this,this):D,isFunction$1(O)?O.call(this,this):O)}:O:D}function mergeInject(D,O){return mergeObjectOptions(normalizeInject(D),normalizeInject(O))}function normalizeInject(D){if(isArray$2(D)){const O={};for(let z=0;z<D.length;z++)O[D[z]]=D[z];return O}return D}function mergeAsArray(D,O){return D?[...new Set([].concat(D,O))]:O}function mergeObjectOptions(D,O){return D?extend$2(Object.create(null),D,O):O}function mergeEmitsOrPropsOptions(D,O){return D?isArray$2(D)&&isArray$2(O)?[...new Set([...D,...O])]:extend$2(Object.create(null),normalizePropsOrEmits(D),normalizePropsOrEmits(O??{})):O}function mergeWatchOptions(D,O){if(!D)return O;if(!O)return D;const z=extend$2(Object.create(null),D);for(const F in O)z[F]=mergeAsArray(D[F],O[F]);return z}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(D,O){return function(F,Y=null){isFunction$1(F)||(F=extend$2({},F)),Y!=null&&!isObject$2(Y)&&(Y=null);const W=createAppContext(),q=new WeakSet;let X=!1;const tt=W.app={_uid:uid$1++,_component:F,_props:Y,_container:null,_context:W,_instance:null,version:version$2,get config(){return W.config},set config(nt){},use(nt,...st){return q.has(nt)||(nt&&isFunction$1(nt.install)?(q.add(nt),nt.install(tt,...st)):isFunction$1(nt)&&(q.add(nt),nt(tt,...st))),tt},mixin(nt){return W.mixins.includes(nt)||W.mixins.push(nt),tt},component(nt,st){return st?(W.components[nt]=st,tt):W.components[nt]},directive(nt,st){return st?(W.directives[nt]=st,tt):W.directives[nt]},mount(nt,st,ct){if(!X){const lt=createVNode(F,Y);return lt.appContext=W,st&&O?O(lt,nt):D(lt,nt,ct),X=!0,tt._container=nt,nt.__vue_app__=tt,getExposeProxy(lt.component)||lt.component.proxy}},unmount(){X&&(D(null,tt._container),delete tt._container.__vue_app__)},provide(nt,st){return W.provides[nt]=st,tt},runWithContext(nt){currentApp=tt;try{return nt()}finally{currentApp=null}}};return tt}}let currentApp=null;function provide(D,O){if(currentInstance){let z=currentInstance.provides;const F=currentInstance.parent&&currentInstance.parent.provides;F===z&&(z=currentInstance.provides=Object.create(F)),z[D]=O}}function inject(D,O,z=!1){const F=currentInstance||currentRenderingInstance;if(F||currentApp){const Y=F?F.parent==null?F.vnode.appContext&&F.vnode.appContext.provides:F.parent.provides:currentApp._context.provides;if(Y&&D in Y)return Y[D];if(arguments.length>1)return z&&isFunction$1(O)?O.call(F&&F.proxy):O}}function initProps(D,O,z,F=!1){const Y={},W={};def(W,InternalObjectKey,1),D.propsDefaults=Object.create(null),setFullProps(D,O,Y,W);for(const q in D.propsOptions[0])q in Y||(Y[q]=void 0);z?D.props=F?Y:shallowReactive(Y):D.type.props?D.props=Y:D.props=W,D.attrs=W}function updateProps(D,O,z,F){const{props:Y,attrs:W,vnode:{patchFlag:q}}=D,X=toRaw(Y),[tt]=D.propsOptions;let nt=!1;if((F||q>0)&&!(q&16)){if(q&8){const st=D.vnode.dynamicProps;for(let ct=0;ct<st.length;ct++){let lt=st[ct];if(isEmitListener(D.emitsOptions,lt))continue;const ht=O[lt];if(tt)if(hasOwn(W,lt))ht!==W[lt]&&(W[lt]=ht,nt=!0);else{const bt=camelize(lt);Y[bt]=resolvePropValue(tt,X,bt,ht,D,!1)}else ht!==W[lt]&&(W[lt]=ht,nt=!0)}}}else{setFullProps(D,O,Y,W)&&(nt=!0);let st;for(const ct in X)(!O||!hasOwn(O,ct)&&((st=hyphenate(ct))===ct||!hasOwn(O,st)))&&(tt?z&&(z[ct]!==void 0||z[st]!==void 0)&&(Y[ct]=resolvePropValue(tt,X,ct,void 0,D,!0)):delete Y[ct]);if(W!==X)for(const ct in W)(!O||!hasOwn(O,ct))&&(delete W[ct],nt=!0)}nt&&trigger(D,"set","$attrs")}function setFullProps(D,O,z,F){const[Y,W]=D.propsOptions;let q=!1,X;if(O)for(let tt in O){if(isReservedProp(tt))continue;const nt=O[tt];let st;Y&&hasOwn(Y,st=camelize(tt))?!W||!W.includes(st)?z[st]=nt:(X||(X={}))[st]=nt:isEmitListener(D.emitsOptions,tt)||(!(tt in F)||nt!==F[tt])&&(F[tt]=nt,q=!0)}if(W){const tt=toRaw(z),nt=X||EMPTY_OBJ;for(let st=0;st<W.length;st++){const ct=W[st];z[ct]=resolvePropValue(Y,tt,ct,nt[ct],D,!hasOwn(nt,ct))}}return q}function resolvePropValue(D,O,z,F,Y,W){const q=D[z];if(q!=null){const X=hasOwn(q,"default");if(X&&F===void 0){const tt=q.default;if(q.type!==Function&&!q.skipFactory&&isFunction$1(tt)){const{propsDefaults:nt}=Y;z in nt?F=nt[z]:(setCurrentInstance(Y),F=nt[z]=tt.call(null,O),unsetCurrentInstance())}else F=tt}q[0]&&(W&&!X?F=!1:q[1]&&(F===""||F===hyphenate(z))&&(F=!0))}return F}function normalizePropsOptions(D,O,z=!1){const F=O.propsCache,Y=F.get(D);if(Y)return Y;const W=D.props,q={},X=[];let tt=!1;if(!isFunction$1(D)){const st=ct=>{tt=!0;const[lt,ht]=normalizePropsOptions(ct,O,!0);extend$2(q,lt),ht&&X.push(...ht)};!z&&O.mixins.length&&O.mixins.forEach(st),D.extends&&st(D.extends),D.mixins&&D.mixins.forEach(st)}if(!W&&!tt)return isObject$2(D)&&F.set(D,EMPTY_ARR),EMPTY_ARR;if(isArray$2(W))for(let st=0;st<W.length;st++){const ct=camelize(W[st]);validatePropName(ct)&&(q[ct]=EMPTY_OBJ)}else if(W)for(const st in W){const ct=camelize(st);if(validatePropName(ct)){const lt=W[st],ht=q[ct]=isArray$2(lt)||isFunction$1(lt)?{type:lt}:extend$2({},lt);if(ht){const bt=getTypeIndex(Boolean,ht.type),wt=getTypeIndex(String,ht.type);ht[0]=bt>-1,ht[1]=wt<0||bt<wt,(bt>-1||hasOwn(ht,"default"))&&X.push(ct)}}}const nt=[q,X];return isObject$2(D)&&F.set(D,nt),nt}function validatePropName(D){return D[0]!=="$"}function getType(D){const O=D&&D.toString().match(/^\s*(function|class) (\w+)/);return O?O[2]:D===null?"null":""}function isSameType(D,O){return getType(D)===getType(O)}function getTypeIndex(D,O){return isArray$2(O)?O.findIndex(z=>isSameType(z,D)):isFunction$1(O)&&isSameType(O,D)?0:-1}const isInternalKey=D=>D[0]==="_"||D==="$stable",normalizeSlotValue=D=>isArray$2(D)?D.map(normalizeVNode):[normalizeVNode(D)],normalizeSlot=(D,O,z)=>{if(O._n)return O;const F=withCtx((...Y)=>normalizeSlotValue(O(...Y)),z);return F._c=!1,F},normalizeObjectSlots=(D,O,z)=>{const F=D._ctx;for(const Y in D){if(isInternalKey(Y))continue;const W=D[Y];if(isFunction$1(W))O[Y]=normalizeSlot(Y,W,F);else if(W!=null){const q=normalizeSlotValue(W);O[Y]=()=>q}}},normalizeVNodeSlots=(D,O)=>{const z=normalizeSlotValue(O);D.slots.default=()=>z},initSlots=(D,O)=>{if(D.vnode.shapeFlag&32){const z=O._;z?(D.slots=toRaw(O),def(O,"_",z)):normalizeObjectSlots(O,D.slots={})}else D.slots={},O&&normalizeVNodeSlots(D,O);def(D.slots,InternalObjectKey,1)},updateSlots=(D,O,z)=>{const{vnode:F,slots:Y}=D;let W=!0,q=EMPTY_OBJ;if(F.shapeFlag&32){const X=O._;X?z&&X===1?W=!1:(extend$2(Y,O),!z&&X===1&&delete Y._):(W=!O.$stable,normalizeObjectSlots(O,Y)),q=O}else O&&(normalizeVNodeSlots(D,O),q={default:1});if(W)for(const X in Y)!isInternalKey(X)&&q[X]==null&&delete Y[X]};function setRef(D,O,z,F,Y=!1){if(isArray$2(D)){D.forEach((lt,ht)=>setRef(lt,O&&(isArray$2(O)?O[ht]:O),z,F,Y));return}if(isAsyncWrapper(F)&&!Y)return;const W=F.shapeFlag&4?getExposeProxy(F.component)||F.component.proxy:F.el,q=Y?null:W,{i:X,r:tt}=D,nt=O&&O.r,st=X.refs===EMPTY_OBJ?X.refs={}:X.refs,ct=X.setupState;if(nt!=null&&nt!==tt&&(isString(nt)?(st[nt]=null,hasOwn(ct,nt)&&(ct[nt]=null)):isRef(nt)&&(nt.value=null)),isFunction$1(tt))callWithErrorHandling(tt,X,12,[q,st]);else{const lt=isString(tt),ht=isRef(tt);if(lt||ht){const bt=()=>{if(D.f){const wt=lt?hasOwn(ct,tt)?ct[tt]:st[tt]:tt.value;Y?isArray$2(wt)&&remove$1(wt,W):isArray$2(wt)?wt.includes(W)||wt.push(W):lt?(st[tt]=[W],hasOwn(ct,tt)&&(ct[tt]=st[tt])):(tt.value=[W],D.k&&(st[D.k]=tt.value))}else lt?(st[tt]=q,hasOwn(ct,tt)&&(ct[tt]=q)):ht&&(tt.value=q,D.k&&(st[D.k]=q))};q?(bt.id=-1,queuePostRenderEffect(bt,z)):bt()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(D){return baseCreateRenderer(D)}function baseCreateRenderer(D,O){const z=getGlobalThis();z.__VUE__=!0;const{insert:F,remove:Y,patchProp:W,createElement:q,createText:X,createComment:tt,setText:nt,setElementText:st,parentNode:ct,nextSibling:lt,setScopeId:ht=NOOP,insertStaticContent:bt}=D,wt=(Kt,kt,jt,$t=null,oe=null,Vt=null,Be=!1,ge=null,Pe=!!kt.dynamicChildren)=>{if(Kt===kt)return;Kt&&!isSameVNodeType(Kt,kt)&&($t=we(Kt),De(Kt,oe,Vt,!0),Kt=null),kt.patchFlag===-2&&(Pe=!1,kt.dynamicChildren=null);const{type:ke,ref:$e,shapeFlag:Fe}=kt;switch(ke){case Text:mt(Kt,kt,jt,$t);break;case Comment:_t(Kt,kt,jt,$t);break;case Static:Kt==null&&Et(kt,jt,$t,Be);break;case Fragment:Dt(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe);break;default:Fe&1?Ft(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe):Fe&6?Qt(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe):(Fe&64||Fe&128)&&ke.process(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe,He)}$e!=null&&oe&&setRef($e,Kt&&Kt.ref,Vt,kt||Kt,!kt)},mt=(Kt,kt,jt,$t)=>{if(Kt==null)F(kt.el=X(kt.children),jt,$t);else{const oe=kt.el=Kt.el;kt.children!==Kt.children&&nt(oe,kt.children)}},_t=(Kt,kt,jt,$t)=>{Kt==null?F(kt.el=tt(kt.children||""),jt,$t):kt.el=Kt.el},Et=(Kt,kt,jt,$t)=>{[Kt.el,Kt.anchor]=bt(Kt.children,kt,jt,$t,Kt.el,Kt.anchor)},At=({el:Kt,anchor:kt},jt,$t)=>{let oe;for(;Kt&&Kt!==kt;)oe=lt(Kt),F(Kt,jt,$t),Kt=oe;F(kt,jt,$t)},Ct=({el:Kt,anchor:kt})=>{let jt;for(;Kt&&Kt!==kt;)jt=lt(Kt),Y(Kt),Kt=jt;Y(kt)},Ft=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe)=>{Be=Be||kt.type==="svg",Kt==null?Lt(kt,jt,$t,oe,Vt,Be,ge,Pe):qt(Kt,kt,oe,Vt,Be,ge,Pe)},Lt=(Kt,kt,jt,$t,oe,Vt,Be,ge)=>{let Pe,ke;const{type:$e,props:Fe,shapeFlag:Qe,transition:We,dirs:rn}=Kt;if(Pe=Kt.el=q(Kt.type,Vt,Fe&&Fe.is,Fe),Qe&8?st(Pe,Kt.children):Qe&16&&Ht(Kt.children,Pe,null,$t,oe,Vt&&$e!=="foreignObject",Be,ge),rn&&invokeDirectiveHook(Kt,null,$t,"created"),Yt(Pe,Kt,Kt.scopeId,Be,$t),Fe){for(const Bn in Fe)Bn!=="value"&&!isReservedProp(Bn)&&W(Pe,Bn,null,Fe[Bn],Vt,Kt.children,$t,oe,ze);"value"in Fe&&W(Pe,"value",null,Fe.value),(ke=Fe.onVnodeBeforeMount)&&invokeVNodeHook(ke,$t,Kt)}rn&&invokeDirectiveHook(Kt,null,$t,"beforeMount");const zn=needTransition(oe,We);zn&&We.beforeEnter(Pe),F(Pe,kt,jt),((ke=Fe&&Fe.onVnodeMounted)||zn||rn)&&queuePostRenderEffect(()=>{ke&&invokeVNodeHook(ke,$t,Kt),zn&&We.enter(Pe),rn&&invokeDirectiveHook(Kt,null,$t,"mounted")},oe)},Yt=(Kt,kt,jt,$t,oe)=>{if(jt&&ht(Kt,jt),$t)for(let Vt=0;Vt<$t.length;Vt++)ht(Kt,$t[Vt]);if(oe){let Vt=oe.subTree;if(kt===Vt){const Be=oe.vnode;Yt(Kt,Be,Be.scopeId,Be.slotScopeIds,oe.parent)}}},Ht=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe=0)=>{for(let ke=Pe;ke<Kt.length;ke++){const $e=Kt[ke]=ge?cloneIfMounted(Kt[ke]):normalizeVNode(Kt[ke]);wt(null,$e,kt,jt,$t,oe,Vt,Be,ge)}},qt=(Kt,kt,jt,$t,oe,Vt,Be)=>{const ge=kt.el=Kt.el;let{patchFlag:Pe,dynamicChildren:ke,dirs:$e}=kt;Pe|=Kt.patchFlag&16;const Fe=Kt.props||EMPTY_OBJ,Qe=kt.props||EMPTY_OBJ;let We;jt&&toggleRecurse(jt,!1),(We=Qe.onVnodeBeforeUpdate)&&invokeVNodeHook(We,jt,kt,Kt),$e&&invokeDirectiveHook(kt,Kt,jt,"beforeUpdate"),jt&&toggleRecurse(jt,!0);const rn=oe&&kt.type!=="foreignObject";if(ke?te(Kt.dynamicChildren,ke,ge,jt,$t,rn,Vt):Be||ye(Kt,kt,ge,null,jt,$t,rn,Vt,!1),Pe>0){if(Pe&16)Xt(ge,kt,Fe,Qe,jt,$t,oe);else if(Pe&2&&Fe.class!==Qe.class&&W(ge,"class",null,Qe.class,oe),Pe&4&&W(ge,"style",Fe.style,Qe.style,oe),Pe&8){const zn=kt.dynamicProps;for(let Bn=0;Bn<zn.length;Bn++){const Pn=zn[Bn],jn=Fe[Pn],Jn=Qe[Pn];(Jn!==jn||Pn==="value")&&W(ge,Pn,jn,Jn,oe,Kt.children,jt,$t,ze)}}Pe&1&&Kt.children!==kt.children&&st(ge,kt.children)}else!Be&&ke==null&&Xt(ge,kt,Fe,Qe,jt,$t,oe);((We=Qe.onVnodeUpdated)||$e)&&queuePostRenderEffect(()=>{We&&invokeVNodeHook(We,jt,kt,Kt),$e&&invokeDirectiveHook(kt,Kt,jt,"updated")},$t)},te=(Kt,kt,jt,$t,oe,Vt,Be)=>{for(let ge=0;ge<kt.length;ge++){const Pe=Kt[ge],ke=kt[ge],$e=Pe.el&&(Pe.type===Fragment||!isSameVNodeType(Pe,ke)||Pe.shapeFlag&70)?ct(Pe.el):jt;wt(Pe,ke,$e,null,$t,oe,Vt,Be,!0)}},Xt=(Kt,kt,jt,$t,oe,Vt,Be)=>{if(jt!==$t){if(jt!==EMPTY_OBJ)for(const ge in jt)!isReservedProp(ge)&&!(ge in $t)&&W(Kt,ge,jt[ge],null,Be,kt.children,oe,Vt,ze);for(const ge in $t){if(isReservedProp(ge))continue;const Pe=$t[ge],ke=jt[ge];Pe!==ke&&ge!=="value"&&W(Kt,ge,ke,Pe,Be,kt.children,oe,Vt,ze)}"value"in $t&&W(Kt,"value",jt.value,$t.value)}},Dt=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe)=>{const ke=kt.el=Kt?Kt.el:X(""),$e=kt.anchor=Kt?Kt.anchor:X("");let{patchFlag:Fe,dynamicChildren:Qe,slotScopeIds:We}=kt;We&&(ge=ge?ge.concat(We):We),Kt==null?(F(ke,jt,$t),F($e,jt,$t),Ht(kt.children,jt,$e,oe,Vt,Be,ge,Pe)):Fe>0&&Fe&64&&Qe&&Kt.dynamicChildren?(te(Kt.dynamicChildren,Qe,jt,oe,Vt,Be,ge),(kt.key!=null||oe&&kt===oe.subTree)&&traverseStaticChildren(Kt,kt,!0)):ye(Kt,kt,jt,$e,oe,Vt,Be,ge,Pe)},Qt=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe)=>{kt.slotScopeIds=ge,Kt==null?kt.shapeFlag&512?oe.ctx.activate(kt,jt,$t,Be,Pe):Nt(kt,jt,$t,oe,Vt,Be,Pe):ce(Kt,kt,Pe)},Nt=(Kt,kt,jt,$t,oe,Vt,Be)=>{const ge=Kt.component=createComponentInstance(Kt,$t,oe);if(isKeepAlive(Kt)&&(ge.ctx.renderer=He),setupComponent(ge),ge.asyncDep){if(oe&&oe.registerDep(ge,Pt),!Kt.el){const Pe=ge.subTree=createVNode(Comment);_t(null,Pe,kt,jt)}return}Pt(ge,Kt,kt,jt,oe,Vt,Be)},ce=(Kt,kt,jt)=>{const $t=kt.component=Kt.component;if(shouldUpdateComponent(Kt,kt,jt))if($t.asyncDep&&!$t.asyncResolved){de($t,kt,jt);return}else $t.next=kt,invalidateJob($t.update),$t.update();else kt.el=Kt.el,$t.vnode=kt},Pt=(Kt,kt,jt,$t,oe,Vt,Be)=>{const ge=()=>{if(Kt.isMounted){let{next:$e,bu:Fe,u:Qe,parent:We,vnode:rn}=Kt,zn=$e,Bn;toggleRecurse(Kt,!1),$e?($e.el=rn.el,de(Kt,$e,Be)):$e=rn,Fe&&invokeArrayFns(Fe),(Bn=$e.props&&$e.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Bn,We,$e,rn),toggleRecurse(Kt,!0);const Pn=renderComponentRoot(Kt),jn=Kt.subTree;Kt.subTree=Pn,wt(jn,Pn,ct(jn.el),we(jn),Kt,oe,Vt),$e.el=Pn.el,zn===null&&updateHOCHostEl(Kt,Pn.el),Qe&&queuePostRenderEffect(Qe,oe),(Bn=$e.props&&$e.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Bn,We,$e,rn),oe)}else{let $e;const{el:Fe,props:Qe}=kt,{bm:We,m:rn,parent:zn}=Kt,Bn=isAsyncWrapper(kt);if(toggleRecurse(Kt,!1),We&&invokeArrayFns(We),!Bn&&($e=Qe&&Qe.onVnodeBeforeMount)&&invokeVNodeHook($e,zn,kt),toggleRecurse(Kt,!0),Fe&&Ye){const Pn=()=>{Kt.subTree=renderComponentRoot(Kt),Ye(Fe,Kt.subTree,Kt,oe,null)};Bn?kt.type.__asyncLoader().then(()=>!Kt.isUnmounted&&Pn()):Pn()}else{const Pn=Kt.subTree=renderComponentRoot(Kt);wt(null,Pn,jt,$t,Kt,oe,Vt),kt.el=Pn.el}if(rn&&queuePostRenderEffect(rn,oe),!Bn&&($e=Qe&&Qe.onVnodeMounted)){const Pn=kt;queuePostRenderEffect(()=>invokeVNodeHook($e,zn,Pn),oe)}(kt.shapeFlag&256||zn&&isAsyncWrapper(zn.vnode)&&zn.vnode.shapeFlag&256)&&Kt.a&&queuePostRenderEffect(Kt.a,oe),Kt.isMounted=!0,kt=jt=$t=null}},Pe=Kt.effect=new ReactiveEffect(ge,()=>queueJob(ke),Kt.scope),ke=Kt.update=()=>Pe.run();ke.id=Kt.uid,toggleRecurse(Kt,!0),ke()},de=(Kt,kt,jt)=>{kt.component=Kt;const $t=Kt.vnode.props;Kt.vnode=kt,Kt.next=null,updateProps(Kt,kt.props,$t,jt),updateSlots(Kt,kt.children,jt),pauseTracking(),flushPreFlushCbs(),resetTracking()},ye=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe=!1)=>{const ke=Kt&&Kt.children,$e=Kt?Kt.shapeFlag:0,Fe=kt.children,{patchFlag:Qe,shapeFlag:We}=kt;if(Qe>0){if(Qe&128){ve(ke,Fe,jt,$t,oe,Vt,Be,ge,Pe);return}else if(Qe&256){pe(ke,Fe,jt,$t,oe,Vt,Be,ge,Pe);return}}We&8?($e&16&&ze(ke,oe,Vt),Fe!==ke&&st(jt,Fe)):$e&16?We&16?ve(ke,Fe,jt,$t,oe,Vt,Be,ge,Pe):ze(ke,oe,Vt,!0):($e&8&&st(jt,""),We&16&&Ht(Fe,jt,$t,oe,Vt,Be,ge,Pe))},pe=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe)=>{Kt=Kt||EMPTY_ARR,kt=kt||EMPTY_ARR;const ke=Kt.length,$e=kt.length,Fe=Math.min(ke,$e);let Qe;for(Qe=0;Qe<Fe;Qe++){const We=kt[Qe]=Pe?cloneIfMounted(kt[Qe]):normalizeVNode(kt[Qe]);wt(Kt[Qe],We,jt,null,oe,Vt,Be,ge,Pe)}ke>$e?ze(Kt,oe,Vt,!0,!1,Fe):Ht(kt,jt,$t,oe,Vt,Be,ge,Pe,Fe)},ve=(Kt,kt,jt,$t,oe,Vt,Be,ge,Pe)=>{let ke=0;const $e=kt.length;let Fe=Kt.length-1,Qe=$e-1;for(;ke<=Fe&&ke<=Qe;){const We=Kt[ke],rn=kt[ke]=Pe?cloneIfMounted(kt[ke]):normalizeVNode(kt[ke]);if(isSameVNodeType(We,rn))wt(We,rn,jt,null,oe,Vt,Be,ge,Pe);else break;ke++}for(;ke<=Fe&&ke<=Qe;){const We=Kt[Fe],rn=kt[Qe]=Pe?cloneIfMounted(kt[Qe]):normalizeVNode(kt[Qe]);if(isSameVNodeType(We,rn))wt(We,rn,jt,null,oe,Vt,Be,ge,Pe);else break;Fe--,Qe--}if(ke>Fe){if(ke<=Qe){const We=Qe+1,rn=We<$e?kt[We].el:$t;for(;ke<=Qe;)wt(null,kt[ke]=Pe?cloneIfMounted(kt[ke]):normalizeVNode(kt[ke]),jt,rn,oe,Vt,Be,ge,Pe),ke++}}else if(ke>Qe)for(;ke<=Fe;)De(Kt[ke],oe,Vt,!0),ke++;else{const We=ke,rn=ke,zn=new Map;for(ke=rn;ke<=Qe;ke++){const ie=kt[ke]=Pe?cloneIfMounted(kt[ke]):normalizeVNode(kt[ke]);ie.key!=null&&zn.set(ie.key,ke)}let Bn,Pn=0;const jn=Qe-rn+1;let Jn=!1,rr=0;const sr=new Array(jn);for(ke=0;ke<jn;ke++)sr[ke]=0;for(ke=We;ke<=Fe;ke++){const ie=Kt[ke];if(Pn>=jn){De(ie,oe,Vt,!0);continue}let ne;if(ie.key!=null)ne=zn.get(ie.key);else for(Bn=rn;Bn<=Qe;Bn++)if(sr[Bn-rn]===0&&isSameVNodeType(ie,kt[Bn])){ne=Bn;break}ne===void 0?De(ie,oe,Vt,!0):(sr[ne-rn]=ke+1,ne>=rr?rr=ne:Jn=!0,wt(ie,kt[ne],jt,null,oe,Vt,Be,ge,Pe),Pn++)}const on=Jn?getSequence(sr):EMPTY_ARR;for(Bn=on.length-1,ke=jn-1;ke>=0;ke--){const ie=rn+ke,ne=kt[ie],xe=ie+1<$e?kt[ie+1].el:$t;sr[ke]===0?wt(null,ne,jt,xe,oe,Vt,Be,ge,Pe):Jn&&(Bn<0||ke!==on[Bn]?Ce(ne,jt,xe,2):Bn--)}}},Ce=(Kt,kt,jt,$t,oe=null)=>{const{el:Vt,type:Be,transition:ge,children:Pe,shapeFlag:ke}=Kt;if(ke&6){Ce(Kt.component.subTree,kt,jt,$t);return}if(ke&128){Kt.suspense.move(kt,jt,$t);return}if(ke&64){Be.move(Kt,kt,jt,He);return}if(Be===Fragment){F(Vt,kt,jt);for(let Fe=0;Fe<Pe.length;Fe++)Ce(Pe[Fe],kt,jt,$t);F(Kt.anchor,kt,jt);return}if(Be===Static){At(Kt,kt,jt);return}if($t!==2&&ke&1&&ge)if($t===0)ge.beforeEnter(Vt),F(Vt,kt,jt),queuePostRenderEffect(()=>ge.enter(Vt),oe);else{const{leave:Fe,delayLeave:Qe,afterLeave:We}=ge,rn=()=>F(Vt,kt,jt),zn=()=>{Fe(Vt,()=>{rn(),We&&We()})};Qe?Qe(Vt,rn,zn):zn()}else F(Vt,kt,jt)},De=(Kt,kt,jt,$t=!1,oe=!1)=>{const{type:Vt,props:Be,ref:ge,children:Pe,dynamicChildren:ke,shapeFlag:$e,patchFlag:Fe,dirs:Qe}=Kt;if(ge!=null&&setRef(ge,null,jt,Kt,!0),$e&256){kt.ctx.deactivate(Kt);return}const We=$e&1&&Qe,rn=!isAsyncWrapper(Kt);let zn;if(rn&&(zn=Be&&Be.onVnodeBeforeUnmount)&&invokeVNodeHook(zn,kt,Kt),$e&6)qe(Kt.component,jt,$t);else{if($e&128){Kt.suspense.unmount(jt,$t);return}We&&invokeDirectiveHook(Kt,null,kt,"beforeUnmount"),$e&64?Kt.type.remove(Kt,kt,jt,oe,He,$t):ke&&(Vt!==Fragment||Fe>0&&Fe&64)?ze(ke,kt,jt,!1,!0):(Vt===Fragment&&Fe&384||!oe&&$e&16)&&ze(Pe,kt,jt),$t&&Oe(Kt)}(rn&&(zn=Be&&Be.onVnodeUnmounted)||We)&&queuePostRenderEffect(()=>{zn&&invokeVNodeHook(zn,kt,Kt),We&&invokeDirectiveHook(Kt,null,kt,"unmounted")},jt)},Oe=Kt=>{const{type:kt,el:jt,anchor:$t,transition:oe}=Kt;if(kt===Fragment){Je(jt,$t);return}if(kt===Static){Ct(Kt);return}const Vt=()=>{Y(jt),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(Kt.shapeFlag&1&&oe&&!oe.persisted){const{leave:Be,delayLeave:ge}=oe,Pe=()=>Be(jt,Vt);ge?ge(Kt.el,Vt,Pe):Pe()}else Vt()},Je=(Kt,kt)=>{let jt;for(;Kt!==kt;)jt=lt(Kt),Y(Kt),Kt=jt;Y(kt)},qe=(Kt,kt,jt)=>{const{bum:$t,scope:oe,update:Vt,subTree:Be,um:ge}=Kt;$t&&invokeArrayFns($t),oe.stop(),Vt&&(Vt.active=!1,De(Be,Kt,kt,jt)),ge&&queuePostRenderEffect(ge,kt),queuePostRenderEffect(()=>{Kt.isUnmounted=!0},kt),kt&&kt.pendingBranch&&!kt.isUnmounted&&Kt.asyncDep&&!Kt.asyncResolved&&Kt.suspenseId===kt.pendingId&&(kt.deps--,kt.deps===0&&kt.resolve())},ze=(Kt,kt,jt,$t=!1,oe=!1,Vt=0)=>{for(let Be=Vt;Be<Kt.length;Be++)De(Kt[Be],kt,jt,$t,oe)},we=Kt=>Kt.shapeFlag&6?we(Kt.component.subTree):Kt.shapeFlag&128?Kt.suspense.next():lt(Kt.anchor||Kt.el),Me=(Kt,kt,jt)=>{Kt==null?kt._vnode&&De(kt._vnode,null,null,!0):wt(kt._vnode||null,Kt,kt,null,null,null,jt),flushPreFlushCbs(),flushPostFlushCbs(),kt._vnode=Kt},He={p:wt,um:De,m:Ce,r:Oe,mt:Nt,mc:Ht,pc:ye,pbc:te,n:we,o:D};let Le,Ye;return O&&([Le,Ye]=O(He)),{render:Me,hydrate:Le,createApp:createAppAPI(Me,Le)}}function toggleRecurse({effect:D,update:O},z){D.allowRecurse=O.allowRecurse=z}function needTransition(D,O){return(!D||D&&!D.pendingBranch)&&O&&!O.persisted}function traverseStaticChildren(D,O,z=!1){const F=D.children,Y=O.children;if(isArray$2(F)&&isArray$2(Y))for(let W=0;W<F.length;W++){const q=F[W];let X=Y[W];X.shapeFlag&1&&!X.dynamicChildren&&((X.patchFlag<=0||X.patchFlag===32)&&(X=Y[W]=cloneIfMounted(Y[W]),X.el=q.el),z||traverseStaticChildren(q,X)),X.type===Text&&(X.el=q.el)}}function getSequence(D){const O=D.slice(),z=[0];let F,Y,W,q,X;const tt=D.length;for(F=0;F<tt;F++){const nt=D[F];if(nt!==0){if(Y=z[z.length-1],D[Y]<nt){O[F]=Y,z.push(F);continue}for(W=0,q=z.length-1;W<q;)X=W+q>>1,D[z[X]]<nt?W=X+1:q=X;nt<D[z[W]]&&(W>0&&(O[F]=z[W-1]),z[W]=F)}}for(W=z.length,q=z[W-1];W-- >0;)z[W]=q,q=O[q];return z}const isTeleport=D=>D.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(D=!1){blockStack.push(currentBlock=D?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(D){isBlockTreeEnabled+=D}function setupBlock(D){return D.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(D),D}function createElementBlock(D,O,z,F,Y,W){return setupBlock(createBaseVNode(D,O,z,F,Y,W,!0))}function createBlock(D,O,z,F,Y){return setupBlock(createVNode(D,O,z,F,Y,!0))}function isVNode(D){return D?D.__v_isVNode===!0:!1}function isSameVNodeType(D,O){return D.type===O.type&&D.key===O.key}const InternalObjectKey="__vInternal",normalizeKey=({key:D})=>D??null,normalizeRef=({ref:D,ref_key:O,ref_for:z})=>(typeof D=="number"&&(D=""+D),D!=null?isString(D)||isRef(D)||isFunction$1(D)?{i:currentRenderingInstance,r:D,k:O,f:!!z}:D:null);function createBaseVNode(D,O=null,z=null,F=0,Y=null,W=D===Fragment?0:1,q=!1,X=!1){const tt={__v_isVNode:!0,__v_skip:!0,type:D,props:O,key:O&&normalizeKey(O),ref:O&&normalizeRef(O),scopeId:currentScopeId,slotScopeIds:null,children:z,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:W,patchFlag:F,dynamicProps:Y,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return X?(normalizeChildren(tt,z),W&128&&D.normalize(tt)):z&&(tt.shapeFlag|=isString(z)?8:16),isBlockTreeEnabled>0&&!q&&currentBlock&&(tt.patchFlag>0||W&6)&&tt.patchFlag!==32&&currentBlock.push(tt),tt}const createVNode=_createVNode;function _createVNode(D,O=null,z=null,F=0,Y=null,W=!1){if((!D||D===NULL_DYNAMIC_COMPONENT)&&(D=Comment),isVNode(D)){const X=cloneVNode(D,O,!0);return z&&normalizeChildren(X,z),isBlockTreeEnabled>0&&!W&&currentBlock&&(X.shapeFlag&6?currentBlock[currentBlock.indexOf(D)]=X:currentBlock.push(X)),X.patchFlag|=-2,X}if(isClassComponent(D)&&(D=D.__vccOpts),O){O=guardReactiveProps(O);let{class:X,style:tt}=O;X&&!isString(X)&&(O.class=normalizeClass(X)),isObject$2(tt)&&(isProxy(tt)&&!isArray$2(tt)&&(tt=extend$2({},tt)),O.style=normalizeStyle(tt))}const q=isString(D)?1:isSuspense(D)?128:isTeleport(D)?64:isObject$2(D)?4:isFunction$1(D)?2:0;return createBaseVNode(D,O,z,F,Y,q,W,!0)}function guardReactiveProps(D){return D?isProxy(D)||InternalObjectKey in D?extend$2({},D):D:null}function cloneVNode(D,O,z=!1){const{props:F,ref:Y,patchFlag:W,children:q}=D,X=O?mergeProps(F||{},O):F;return{__v_isVNode:!0,__v_skip:!0,type:D.type,props:X,key:X&&normalizeKey(X),ref:O&&O.ref?z&&Y?isArray$2(Y)?Y.concat(normalizeRef(O)):[Y,normalizeRef(O)]:normalizeRef(O):Y,scopeId:D.scopeId,slotScopeIds:D.slotScopeIds,children:q,target:D.target,targetAnchor:D.targetAnchor,staticCount:D.staticCount,shapeFlag:D.shapeFlag,patchFlag:O&&D.type!==Fragment?W===-1?16:W|16:W,dynamicProps:D.dynamicProps,dynamicChildren:D.dynamicChildren,appContext:D.appContext,dirs:D.dirs,transition:D.transition,component:D.component,suspense:D.suspense,ssContent:D.ssContent&&cloneVNode(D.ssContent),ssFallback:D.ssFallback&&cloneVNode(D.ssFallback),el:D.el,anchor:D.anchor,ctx:D.ctx,ce:D.ce}}function createTextVNode(D=" ",O=0){return createVNode(Text,null,D,O)}function createStaticVNode(D,O){const z=createVNode(Static,null,D);return z.staticCount=O,z}function createCommentVNode(D="",O=!1){return O?(openBlock(),createBlock(Comment,null,D)):createVNode(Comment,null,D)}function normalizeVNode(D){return D==null||typeof D=="boolean"?createVNode(Comment):isArray$2(D)?createVNode(Fragment,null,D.slice()):typeof D=="object"?cloneIfMounted(D):createVNode(Text,null,String(D))}function cloneIfMounted(D){return D.el===null&&D.patchFlag!==-1||D.memo?D:cloneVNode(D)}function normalizeChildren(D,O){let z=0;const{shapeFlag:F}=D;if(O==null)O=null;else if(isArray$2(O))z=16;else if(typeof O=="object")if(F&65){const Y=O.default;Y&&(Y._c&&(Y._d=!1),normalizeChildren(D,Y()),Y._c&&(Y._d=!0));return}else{z=32;const Y=O._;!Y&&!(InternalObjectKey in O)?O._ctx=currentRenderingInstance:Y===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?O._=1:(O._=2,D.patchFlag|=1024))}else isFunction$1(O)?(O={default:O,_ctx:currentRenderingInstance},z=32):(O=String(O),F&64?(z=16,O=[createTextVNode(O)]):z=8);D.children=O,D.shapeFlag|=z}function mergeProps(...D){const O={};for(let z=0;z<D.length;z++){const F=D[z];for(const Y in F)if(Y==="class")O.class!==F.class&&(O.class=normalizeClass([O.class,F.class]));else if(Y==="style")O.style=normalizeStyle([O.style,F.style]);else if(isOn(Y)){const W=O[Y],q=F[Y];q&&W!==q&&!(isArray$2(W)&&W.includes(q))&&(O[Y]=W?[].concat(W,q):q)}else Y!==""&&(O[Y]=F[Y])}return O}function invokeVNodeHook(D,O,z,F=null){callWithAsyncErrorHandling(D,O,7,[z,F])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(D,O,z){const F=D.type,Y=(O?O.appContext:D.appContext)||emptyAppContext,W={uid:uid++,vnode:D,type:F,parent:O,appContext:Y,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:O?O.provides:Object.create(Y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(F,Y),emitsOptions:normalizeEmitsOptions(F,Y),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:F.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:z,suspenseId:z?z.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return W.ctx={_:W},W.root=O?O.root:W,W.emit=emit.bind(null,W),D.ce&&D.ce(W),W}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(D=>currentInstance=D),internalSetCurrentInstance=D=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(O=>O(D)):globalCurrentInstanceSetters[0](D)};const setCurrentInstance=D=>{internalSetCurrentInstance(D),D.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(D){return D.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(D,O=!1){isInSSRComponentSetup=O;const{props:z,children:F}=D.vnode,Y=isStatefulComponent(D);initProps(D,z,Y,O),initSlots(D,F);const W=Y?setupStatefulComponent(D,O):void 0;return isInSSRComponentSetup=!1,W}function setupStatefulComponent(D,O){const z=D.type;D.accessCache=Object.create(null),D.proxy=markRaw(new Proxy(D.ctx,PublicInstanceProxyHandlers));const{setup:F}=z;if(F){const Y=D.setupContext=F.length>1?createSetupContext(D):null;setCurrentInstance(D),pauseTracking();const W=callWithErrorHandling(F,D,0,[D.props,Y]);if(resetTracking(),unsetCurrentInstance(),isPromise(W)){if(W.then(unsetCurrentInstance,unsetCurrentInstance),O)return W.then(q=>{handleSetupResult(D,q,O)}).catch(q=>{handleError$1(q,D,0)});D.asyncDep=W}else handleSetupResult(D,W,O)}else finishComponentSetup(D,O)}function handleSetupResult(D,O,z){isFunction$1(O)?D.type.__ssrInlineRender?D.ssrRender=O:D.render=O:isObject$2(O)&&(D.setupState=proxyRefs(O)),finishComponentSetup(D,z)}let compile$1;function finishComponentSetup(D,O,z){const F=D.type;if(!D.render){if(!O&&compile$1&&!F.render){const Y=F.template||resolveMergedOptions(D).template;if(Y){const{isCustomElement:W,compilerOptions:q}=D.appContext.config,{delimiters:X,compilerOptions:tt}=F,nt=extend$2(extend$2({isCustomElement:W,delimiters:X},q),tt);F.render=compile$1(Y,nt)}}D.render=F.render||NOOP}{setCurrentInstance(D),pauseTracking();try{applyOptions(D)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(D){return D.attrsProxy||(D.attrsProxy=new Proxy(D.attrs,{get(O,z){return track(D,"get","$attrs"),O[z]}}))}function createSetupContext(D){const O=z=>{D.exposed=z||{}};return{get attrs(){return getAttrsProxy(D)},slots:D.slots,emit:D.emit,expose:O}}function getExposeProxy(D){if(D.exposed)return D.exposeProxy||(D.exposeProxy=new Proxy(proxyRefs(markRaw(D.exposed)),{get(O,z){if(z in O)return O[z];if(z in publicPropertiesMap)return publicPropertiesMap[z](D)},has(O,z){return z in O||z in publicPropertiesMap}}))}function getComponentName(D,O=!0){return isFunction$1(D)?D.displayName||D.name:D.name||O&&D.__name}function isClassComponent(D){return isFunction$1(D)&&"__vccOpts"in D}const computed=(D,O)=>computed$1(D,O,isInSSRComponentSetup),ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$2="3.3.7",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(D,O,z)=>{O.insertBefore(D,z||null)},remove:D=>{const O=D.parentNode;O&&O.removeChild(D)},createElement:(D,O,z,F)=>{const Y=O?doc.createElementNS(svgNS,D):doc.createElement(D,z?{is:z}:void 0);return D==="select"&&F&&F.multiple!=null&&Y.setAttribute("multiple",F.multiple),Y},createText:D=>doc.createTextNode(D),createComment:D=>doc.createComment(D),setText:(D,O)=>{D.nodeValue=O},setElementText:(D,O)=>{D.textContent=O},parentNode:D=>D.parentNode,nextSibling:D=>D.nextSibling,querySelector:D=>doc.querySelector(D),setScopeId(D,O){D.setAttribute(O,"")},insertStaticContent(D,O,z,F,Y,W){const q=z?z.previousSibling:O.lastChild;if(Y&&(Y===W||Y.nextSibling))for(;O.insertBefore(Y.cloneNode(!0),z),!(Y===W||!(Y=Y.nextSibling)););else{templateContainer.innerHTML=F?`<svg>${D}</svg>`:D;const X=templateContainer.content;if(F){const tt=X.firstChild;for(;tt.firstChild;)X.appendChild(tt.firstChild);X.removeChild(tt)}O.insertBefore(X,z)}return[q?q.nextSibling:O.firstChild,z?z.previousSibling:O.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(D,O,z){const F=D[vtcKey];F&&(O=(O?[O,...F]:[...F]).join(" ")),O==null?D.removeAttribute("class"):z?D.setAttribute("class",O):D.className=O}const vShowOldKey=Symbol("_vod");function patchStyle(D,O,z){const F=D.style,Y=isString(z);if(z&&!Y){if(O&&!isString(O))for(const W in O)z[W]==null&&setStyle$1(F,W,"");for(const W in z)setStyle$1(F,W,z[W])}else{const W=F.display;Y?O!==z&&(F.cssText=z):O&&D.removeAttribute("style"),vShowOldKey in D&&(F.display=W)}}const importantRE=/\s*!important$/;function setStyle$1(D,O,z){if(isArray$2(z))z.forEach(F=>setStyle$1(D,O,F));else if(z==null&&(z=""),O.startsWith("--"))D.setProperty(O,z);else{const F=autoPrefix(D,O);importantRE.test(z)?D.setProperty(hyphenate(F),z.replace(importantRE,""),"important"):D[F]=z}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(D,O){const z=prefixCache[O];if(z)return z;let F=camelize(O);if(F!=="filter"&&F in D)return prefixCache[O]=F;F=capitalize(F);for(let Y=0;Y<prefixes$1.length;Y++){const W=prefixes$1[Y]+F;if(W in D)return prefixCache[O]=W}return O}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(D,O,z,F,Y){if(F&&O.startsWith("xlink:"))z==null?D.removeAttributeNS(xlinkNS,O.slice(6,O.length)):D.setAttributeNS(xlinkNS,O,z);else{const W=isSpecialBooleanAttr(O);z==null||W&&!includeBooleanAttr(z)?D.removeAttribute(O):D.setAttribute(O,W?"":z)}}function patchDOMProp(D,O,z,F,Y,W,q){if(O==="innerHTML"||O==="textContent"){F&&q(F,Y,W),D[O]=z??"";return}const X=D.tagName;if(O==="value"&&X!=="PROGRESS"&&!X.includes("-")){D._value=z;const nt=X==="OPTION"?D.getAttribute("value"):D.value,st=z??"";nt!==st&&(D.value=st),z==null&&D.removeAttribute(O);return}let tt=!1;if(z===""||z==null){const nt=typeof D[O];nt==="boolean"?z=includeBooleanAttr(z):z==null&&nt==="string"?(z="",tt=!0):nt==="number"&&(z=0,tt=!0)}try{D[O]=z}catch{}tt&&D.removeAttribute(O)}function addEventListener(D,O,z,F){D.addEventListener(O,z,F)}function removeEventListener(D,O,z,F){D.removeEventListener(O,z,F)}const veiKey=Symbol("_vei");function patchEvent(D,O,z,F,Y=null){const W=D[veiKey]||(D[veiKey]={}),q=W[O];if(F&&q)q.value=F;else{const[X,tt]=parseName(O);if(F){const nt=W[O]=createInvoker(F,Y);addEventListener(D,X,nt,tt)}else q&&(removeEventListener(D,X,q,tt),W[O]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(D){let O;if(optionsModifierRE.test(D)){O={};let F;for(;F=D.match(optionsModifierRE);)D=D.slice(0,D.length-F[0].length),O[F[0].toLowerCase()]=!0}return[D[2]===":"?D.slice(3):hyphenate(D.slice(2)),O]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(D,O){const z=F=>{if(!F._vts)F._vts=Date.now();else if(F._vts<=z.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(F,z.value),O,5,[F])};return z.value=D,z.attached=getNow(),z}function patchStopImmediatePropagation(D,O){if(isArray$2(O)){const z=D.stopImmediatePropagation;return D.stopImmediatePropagation=()=>{z.call(D),D._stopped=!0},O.map(F=>Y=>!Y._stopped&&F&&F(Y))}else return O}const nativeOnRE=/^on[a-z]/,patchProp=(D,O,z,F,Y=!1,W,q,X,tt)=>{O==="class"?patchClass(D,F,Y):O==="style"?patchStyle(D,z,F):isOn(O)?isModelListener(O)||patchEvent(D,O,z,F,q):(O[0]==="."?(O=O.slice(1),!0):O[0]==="^"?(O=O.slice(1),!1):shouldSetAsProp(D,O,F,Y))?patchDOMProp(D,O,F,W,q,X,tt):(O==="true-value"?D._trueValue=F:O==="false-value"&&(D._falseValue=F),patchAttr(D,O,F,Y))};function shouldSetAsProp(D,O,z,F){return F?!!(O==="innerHTML"||O==="textContent"||O in D&&nativeOnRE.test(O)&&isFunction$1(z)):O==="spellcheck"||O==="draggable"||O==="translate"||O==="form"||O==="list"&&D.tagName==="INPUT"||O==="type"&&D.tagName==="TEXTAREA"||nativeOnRE.test(O)&&isString(z)?!1:O in D}/*! #__NO_SIDE_EFFECTS__ */function defineCustomElement(D,O){const z=defineComponent(D);class F extends VueElement{constructor(W){super(z,W,O)}}return F.def=z,F}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(O,z={},F){super(),this._def=O,this._props=z,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&F?F(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),nextTick(()=>{this._connected||(render$4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let F=0;F<this.attributes.length;F++)this._setAttr(this.attributes[F].name);this._ob=new MutationObserver(F=>{for(const Y of F)this._setAttr(Y.attributeName)}),this._ob.observe(this,{attributes:!0});const O=(F,Y=!1)=>{const{props:W,styles:q}=F;let X;if(W&&!isArray$2(W))for(const tt in W){const nt=W[tt];(nt===Number||nt&&nt.type===Number)&&(tt in this._props&&(this._props[tt]=toNumber$1(this._props[tt])),(X||(X=Object.create(null)))[camelize(tt)]=!0)}this._numberProps=X,Y&&this._resolveProps(F),this._applyStyles(q),this._update()},z=this._def.__asyncLoader;z?z().then(F=>O(F,!0)):O(this._def)}_resolveProps(O){const{props:z}=O,F=isArray$2(z)?z:Object.keys(z||{});for(const Y of Object.keys(this))Y[0]!=="_"&&F.includes(Y)&&this._setProp(Y,this[Y],!0,!1);for(const Y of F.map(camelize))Object.defineProperty(this,Y,{get(){return this._getProp(Y)},set(W){this._setProp(Y,W)}})}_setAttr(O){let z=this.getAttribute(O);const F=camelize(O);this._numberProps&&this._numberProps[F]&&(z=toNumber$1(z)),this._setProp(F,z,!1)}_getProp(O){return this._props[O]}_setProp(O,z,F=!0,Y=!0){z!==this._props[O]&&(this._props[O]=z,Y&&this._instance&&this._update(),F&&(z===!0?this.setAttribute(hyphenate(O),""):typeof z=="string"||typeof z=="number"?this.setAttribute(hyphenate(O),z+""):z||this.removeAttribute(hyphenate(O))))}_update(){render$4(this._createVNode(),this.shadowRoot)}_createVNode(){const O=createVNode(this._def,extend$2({},this._props));return this._instance||(O.ce=z=>{this._instance=z,z.isCE=!0;const F=(W,q)=>{this.dispatchEvent(new CustomEvent(W,{detail:q}))};z.emit=(W,...q)=>{F(W,q),hyphenate(W)!==W&&F(hyphenate(W),q)};let Y=this;for(;Y=Y&&(Y.parentNode||Y.host);)if(Y instanceof VueElement){z.parent=Y._instance,z.provides=Y._instance.provides;break}}),O}_applyStyles(O){O&&O.forEach(z=>{const F=document.createElement("style");F.textContent=z,this.shadowRoot.appendChild(F)})}}const rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$4=(...D)=>{ensureRenderer().render(...D)};class Md5{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(O,z=!1){return this.onePassHasher.start().appendStr(O).end(z)}static hashAsciiStr(O,z=!1){return this.onePassHasher.start().appendAsciiStr(O).end(z)}static _hex(O){const z=Md5.hexChars,F=Md5.hexOut;let Y,W,q,X;for(X=0;X<4;X+=1)for(W=X*8,Y=O[X],q=0;q<8;q+=2)F[W+1+q]=z.charAt(Y&15),Y>>>=4,F[W+0+q]=z.charAt(Y&15),Y>>>=4;return F.join("")}static _md5cycle(O,z){let F=O[0],Y=O[1],W=O[2],q=O[3];F+=(Y&W|~Y&q)+z[0]-680876936|0,F=(F<<7|F>>>25)+Y|0,q+=(F&Y|~F&W)+z[1]-389564586|0,q=(q<<12|q>>>20)+F|0,W+=(q&F|~q&Y)+z[2]+606105819|0,W=(W<<17|W>>>15)+q|0,Y+=(W&q|~W&F)+z[3]-1044525330|0,Y=(Y<<22|Y>>>10)+W|0,F+=(Y&W|~Y&q)+z[4]-176418897|0,F=(F<<7|F>>>25)+Y|0,q+=(F&Y|~F&W)+z[5]+1200080426|0,q=(q<<12|q>>>20)+F|0,W+=(q&F|~q&Y)+z[6]-1473231341|0,W=(W<<17|W>>>15)+q|0,Y+=(W&q|~W&F)+z[7]-45705983|0,Y=(Y<<22|Y>>>10)+W|0,F+=(Y&W|~Y&q)+z[8]+1770035416|0,F=(F<<7|F>>>25)+Y|0,q+=(F&Y|~F&W)+z[9]-1958414417|0,q=(q<<12|q>>>20)+F|0,W+=(q&F|~q&Y)+z[10]-42063|0,W=(W<<17|W>>>15)+q|0,Y+=(W&q|~W&F)+z[11]-1990404162|0,Y=(Y<<22|Y>>>10)+W|0,F+=(Y&W|~Y&q)+z[12]+1804603682|0,F=(F<<7|F>>>25)+Y|0,q+=(F&Y|~F&W)+z[13]-40341101|0,q=(q<<12|q>>>20)+F|0,W+=(q&F|~q&Y)+z[14]-1502002290|0,W=(W<<17|W>>>15)+q|0,Y+=(W&q|~W&F)+z[15]+1236535329|0,Y=(Y<<22|Y>>>10)+W|0,F+=(Y&q|W&~q)+z[1]-165796510|0,F=(F<<5|F>>>27)+Y|0,q+=(F&W|Y&~W)+z[6]-1069501632|0,q=(q<<9|q>>>23)+F|0,W+=(q&Y|F&~Y)+z[11]+643717713|0,W=(W<<14|W>>>18)+q|0,Y+=(W&F|q&~F)+z[0]-373897302|0,Y=(Y<<20|Y>>>12)+W|0,F+=(Y&q|W&~q)+z[5]-701558691|0,F=(F<<5|F>>>27)+Y|0,q+=(F&W|Y&~W)+z[10]+38016083|0,q=(q<<9|q>>>23)+F|0,W+=(q&Y|F&~Y)+z[15]-660478335|0,W=(W<<14|W>>>18)+q|0,Y+=(W&F|q&~F)+z[4]-405537848|0,Y=(Y<<20|Y>>>12)+W|0,F+=(Y&q|W&~q)+z[9]+568446438|0,F=(F<<5|F>>>27)+Y|0,q+=(F&W|Y&~W)+z[14]-1019803690|0,q=(q<<9|q>>>23)+F|0,W+=(q&Y|F&~Y)+z[3]-187363961|0,W=(W<<14|W>>>18)+q|0,Y+=(W&F|q&~F)+z[8]+1163531501|0,Y=(Y<<20|Y>>>12)+W|0,F+=(Y&q|W&~q)+z[13]-1444681467|0,F=(F<<5|F>>>27)+Y|0,q+=(F&W|Y&~W)+z[2]-51403784|0,q=(q<<9|q>>>23)+F|0,W+=(q&Y|F&~Y)+z[7]+1735328473|0,W=(W<<14|W>>>18)+q|0,Y+=(W&F|q&~F)+z[12]-1926607734|0,Y=(Y<<20|Y>>>12)+W|0,F+=(Y^W^q)+z[5]-378558|0,F=(F<<4|F>>>28)+Y|0,q+=(F^Y^W)+z[8]-2022574463|0,q=(q<<11|q>>>21)+F|0,W+=(q^F^Y)+z[11]+1839030562|0,W=(W<<16|W>>>16)+q|0,Y+=(W^q^F)+z[14]-35309556|0,Y=(Y<<23|Y>>>9)+W|0,F+=(Y^W^q)+z[1]-1530992060|0,F=(F<<4|F>>>28)+Y|0,q+=(F^Y^W)+z[4]+1272893353|0,q=(q<<11|q>>>21)+F|0,W+=(q^F^Y)+z[7]-155497632|0,W=(W<<16|W>>>16)+q|0,Y+=(W^q^F)+z[10]-1094730640|0,Y=(Y<<23|Y>>>9)+W|0,F+=(Y^W^q)+z[13]+681279174|0,F=(F<<4|F>>>28)+Y|0,q+=(F^Y^W)+z[0]-358537222|0,q=(q<<11|q>>>21)+F|0,W+=(q^F^Y)+z[3]-722521979|0,W=(W<<16|W>>>16)+q|0,Y+=(W^q^F)+z[6]+76029189|0,Y=(Y<<23|Y>>>9)+W|0,F+=(Y^W^q)+z[9]-640364487|0,F=(F<<4|F>>>28)+Y|0,q+=(F^Y^W)+z[12]-421815835|0,q=(q<<11|q>>>21)+F|0,W+=(q^F^Y)+z[15]+530742520|0,W=(W<<16|W>>>16)+q|0,Y+=(W^q^F)+z[2]-995338651|0,Y=(Y<<23|Y>>>9)+W|0,F+=(W^(Y|~q))+z[0]-198630844|0,F=(F<<6|F>>>26)+Y|0,q+=(Y^(F|~W))+z[7]+1126891415|0,q=(q<<10|q>>>22)+F|0,W+=(F^(q|~Y))+z[14]-1416354905|0,W=(W<<15|W>>>17)+q|0,Y+=(q^(W|~F))+z[5]-57434055|0,Y=(Y<<21|Y>>>11)+W|0,F+=(W^(Y|~q))+z[12]+1700485571|0,F=(F<<6|F>>>26)+Y|0,q+=(Y^(F|~W))+z[3]-1894986606|0,q=(q<<10|q>>>22)+F|0,W+=(F^(q|~Y))+z[10]-1051523|0,W=(W<<15|W>>>17)+q|0,Y+=(q^(W|~F))+z[1]-2054922799|0,Y=(Y<<21|Y>>>11)+W|0,F+=(W^(Y|~q))+z[8]+1873313359|0,F=(F<<6|F>>>26)+Y|0,q+=(Y^(F|~W))+z[15]-30611744|0,q=(q<<10|q>>>22)+F|0,W+=(F^(q|~Y))+z[6]-1560198380|0,W=(W<<15|W>>>17)+q|0,Y+=(q^(W|~F))+z[13]+1309151649|0,Y=(Y<<21|Y>>>11)+W|0,F+=(W^(Y|~q))+z[4]-145523070|0,F=(F<<6|F>>>26)+Y|0,q+=(Y^(F|~W))+z[11]-1120210379|0,q=(q<<10|q>>>22)+F|0,W+=(F^(q|~Y))+z[2]+718787259|0,W=(W<<15|W>>>17)+q|0,Y+=(q^(W|~F))+z[9]-343485551|0,Y=(Y<<21|Y>>>11)+W|0,O[0]=F+O[0]|0,O[1]=Y+O[1]|0,O[2]=W+O[2]|0,O[3]=q+O[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Md5.stateIdentity),this}appendStr(O){const z=this._buffer8,F=this._buffer32;let Y=this._bufferLength,W,q;for(q=0;q<O.length;q+=1){if(W=O.charCodeAt(q),W<128)z[Y++]=W;else if(W<2048)z[Y++]=(W>>>6)+192,z[Y++]=W&63|128;else if(W<55296||W>56319)z[Y++]=(W>>>12)+224,z[Y++]=W>>>6&63|128,z[Y++]=W&63|128;else{if(W=(W-55296)*1024+(O.charCodeAt(++q)-56320)+65536,W>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");z[Y++]=(W>>>18)+240,z[Y++]=W>>>12&63|128,z[Y++]=W>>>6&63|128,z[Y++]=W&63|128}Y>=64&&(this._dataLength+=64,Md5._md5cycle(this._state,F),Y-=64,F[0]=F[16])}return this._bufferLength=Y,this}appendAsciiStr(O){const z=this._buffer8,F=this._buffer32;let Y=this._bufferLength,W,q=0;for(;;){for(W=Math.min(O.length-q,64-Y);W--;)z[Y++]=O.charCodeAt(q++);if(Y<64)break;this._dataLength+=64,Md5._md5cycle(this._state,F),Y=0}return this._bufferLength=Y,this}appendByteArray(O){const z=this._buffer8,F=this._buffer32;let Y=this._bufferLength,W,q=0;for(;;){for(W=Math.min(O.length-q,64-Y);W--;)z[Y++]=O[q++];if(Y<64)break;this._dataLength+=64,Md5._md5cycle(this._state,F),Y=0}return this._bufferLength=Y,this}getState(){const O=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[O[0],O[1],O[2],O[3]]}}setState(O){const z=O.buffer,F=O.state,Y=this._state;let W;for(this._dataLength=O.length,this._bufferLength=O.buflen,Y[0]=F[0],Y[1]=F[1],Y[2]=F[2],Y[3]=F[3],W=0;W<z.length;W+=1)this._buffer8[W]=z.charCodeAt(W)}end(O=!1){const z=this._bufferLength,F=this._buffer8,Y=this._buffer32,W=(z>>2)+1;this._dataLength+=z;const q=this._dataLength*8;if(F[z]=128,F[z+1]=F[z+2]=F[z+3]=0,Y.set(Md5.buffer32Identity.subarray(W),W),z>55&&(Md5._md5cycle(this._state,Y),Y.set(Md5.buffer32Identity)),q<=4294967295)Y[14]=q;else{const X=q.toString(16).match(/(.*?)(.{0,8})$/);if(X===null)return;const tt=parseInt(X[2],16),nt=parseInt(X[1],16)||0;Y[14]=tt,Y[15]=nt}return Md5._md5cycle(this._state,Y),O?this._state:Md5._hex(this._state)}}Md5.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);Md5.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Md5.hexChars="0123456789abcdef";Md5.hexOut=[];Md5.onePassHasher=new Md5;if(Md5.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Component{constructor(O,z){this.$collection=[],this.selector=O,this.config=z,this.events={}}_fireEvent(O,z=null){this.events.hasOwnProperty(O)&&this.events[O](z)}_dispatch(O,z,F=null){const Y=new CustomEvent(O,{detail:{payload:F},bubbles:!0,cancelable:!0,composed:!1});z.dispatchEvent(Y)}on(O,z){this.events[O]=z}afterTransition(O,z){const F=()=>{z(),O.removeEventListener("transitionend",F,!0)};window.getComputedStyle(O,null).getPropertyValue("transition")!=="all 0s ease 0s"?O.addEventListener("transitionend",F,!0):z()}getClassProperty(O,z,F=""){return(window.getComputedStyle(O).getPropertyValue(z)||F).replace(" ","")}}var top$2="top",bottom$1="bottom",right$1="right",left$1="left",auto="auto",basePlacements=[top$2,bottom$1,right$1,left$1],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(D,O){return D.concat([O+"-"+start$2,O+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(D,O){return D.concat([O,O+"-"+start$2,O+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write$1="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write$1,afterWrite];function getNodeName$1(D){return D?(D.nodeName||"").toLowerCase():null}function getWindow$1(D){if(D==null)return window;if(D.toString()!=="[object Window]"){var O=D.ownerDocument;return O&&O.defaultView||window}return D}function isElement$2(D){var O=getWindow$1(D).Element;return D instanceof O||D instanceof Element}function isHTMLElement$1(D){var O=getWindow$1(D).HTMLElement;return D instanceof O||D instanceof HTMLElement}function isShadowRoot$1(D){if(typeof ShadowRoot>"u")return!1;var O=getWindow$1(D).ShadowRoot;return D instanceof O||D instanceof ShadowRoot}function applyStyles(D){var O=D.state;Object.keys(O.elements).forEach(function(z){var F=O.styles[z]||{},Y=O.attributes[z]||{},W=O.elements[z];!isHTMLElement$1(W)||!getNodeName$1(W)||(Object.assign(W.style,F),Object.keys(Y).forEach(function(q){var X=Y[q];X===!1?W.removeAttribute(q):W.setAttribute(q,X===!0?"":X)}))})}function effect$2(D){var O=D.state,z={popper:{position:O.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(O.elements.popper.style,z.popper),O.styles=z,O.elements.arrow&&Object.assign(O.elements.arrow.style,z.arrow),function(){Object.keys(O.elements).forEach(function(F){var Y=O.elements[F],W=O.attributes[F]||{},q=Object.keys(O.styles.hasOwnProperty(F)?O.styles[F]:z[F]),X=q.reduce(function(tt,nt){return tt[nt]="",tt},{});!isHTMLElement$1(Y)||!getNodeName$1(Y)||(Object.assign(Y.style,X),Object.keys(W).forEach(function(tt){Y.removeAttribute(tt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(D){return D.split("-")[0]}var max$4=Math.max,min$4=Math.min,round$1=Math.round;function getUAString(){var D=navigator.userAgentData;return D!=null&&D.brands&&Array.isArray(D.brands)?D.brands.map(function(O){return O.brand+"/"+O.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect$1(D,O,z){O===void 0&&(O=!1),z===void 0&&(z=!1);var F=D.getBoundingClientRect(),Y=1,W=1;O&&isHTMLElement$1(D)&&(Y=D.offsetWidth>0&&round$1(F.width)/D.offsetWidth||1,W=D.offsetHeight>0&&round$1(F.height)/D.offsetHeight||1);var q=isElement$2(D)?getWindow$1(D):window,X=q.visualViewport,tt=!isLayoutViewport()&&z,nt=(F.left+(tt&&X?X.offsetLeft:0))/Y,st=(F.top+(tt&&X?X.offsetTop:0))/W,ct=F.width/Y,lt=F.height/W;return{width:ct,height:lt,top:st,right:nt+ct,bottom:st+lt,left:nt,x:nt,y:st}}function getLayoutRect(D){var O=getBoundingClientRect$1(D),z=D.offsetWidth,F=D.offsetHeight;return Math.abs(O.width-z)<=1&&(z=O.width),Math.abs(O.height-F)<=1&&(F=O.height),{x:D.offsetLeft,y:D.offsetTop,width:z,height:F}}function contains(D,O){var z=O.getRootNode&&O.getRootNode();if(D.contains(O))return!0;if(z&&isShadowRoot$1(z)){var F=O;do{if(F&&D.isSameNode(F))return!0;F=F.parentNode||F.host}while(F)}return!1}function getComputedStyle$2(D){return getWindow$1(D).getComputedStyle(D)}function isTableElement$1(D){return["table","td","th"].indexOf(getNodeName$1(D))>=0}function getDocumentElement$1(D){return((isElement$2(D)?D.ownerDocument:D.document)||window.document).documentElement}function getParentNode$1(D){return getNodeName$1(D)==="html"?D:D.assignedSlot||D.parentNode||(isShadowRoot$1(D)?D.host:null)||getDocumentElement$1(D)}function getTrueOffsetParent$1(D){return!isHTMLElement$1(D)||getComputedStyle$2(D).position==="fixed"?null:D.offsetParent}function getContainingBlock$1(D){var O=/firefox/i.test(getUAString()),z=/Trident/i.test(getUAString());if(z&&isHTMLElement$1(D)){var F=getComputedStyle$2(D);if(F.position==="fixed")return null}var Y=getParentNode$1(D);for(isShadowRoot$1(Y)&&(Y=Y.host);isHTMLElement$1(Y)&&["html","body"].indexOf(getNodeName$1(Y))<0;){var W=getComputedStyle$2(Y);if(W.transform!=="none"||W.perspective!=="none"||W.contain==="paint"||["transform","perspective"].indexOf(W.willChange)!==-1||O&&W.willChange==="filter"||O&&W.filter&&W.filter!=="none")return Y;Y=Y.parentNode}return null}function getOffsetParent$1(D){for(var O=getWindow$1(D),z=getTrueOffsetParent$1(D);z&&isTableElement$1(z)&&getComputedStyle$2(z).position==="static";)z=getTrueOffsetParent$1(z);return z&&(getNodeName$1(z)==="html"||getNodeName$1(z)==="body"&&getComputedStyle$2(z).position==="static")?O:z||getContainingBlock$1(D)||O}function getMainAxisFromPlacement(D){return["top","bottom"].indexOf(D)>=0?"x":"y"}function within(D,O,z){return max$4(D,min$4(O,z))}function withinMaxClamp(D,O,z){var F=within(D,O,z);return F>z?z:F}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(D){return Object.assign({},getFreshSideObject(),D)}function expandToHashMap(D,O){return O.reduce(function(z,F){return z[F]=D,z},{})}var toPaddingObject=function(O,z){return O=typeof O=="function"?O(Object.assign({},z.rects,{placement:z.placement})):O,mergePaddingObject(typeof O!="number"?O:expandToHashMap(O,basePlacements))};function arrow$1(D){var O,z=D.state,F=D.name,Y=D.options,W=z.elements.arrow,q=z.modifiersData.popperOffsets,X=getBasePlacement$1(z.placement),tt=getMainAxisFromPlacement(X),nt=[left$1,right$1].indexOf(X)>=0,st=nt?"height":"width";if(!(!W||!q)){var ct=toPaddingObject(Y.padding,z),lt=getLayoutRect(W),ht=tt==="y"?top$2:left$1,bt=tt==="y"?bottom$1:right$1,wt=z.rects.reference[st]+z.rects.reference[tt]-q[tt]-z.rects.popper[st],mt=q[tt]-z.rects.reference[tt],_t=getOffsetParent$1(W),Et=_t?tt==="y"?_t.clientHeight||0:_t.clientWidth||0:0,At=wt/2-mt/2,Ct=ct[ht],Ft=Et-lt[st]-ct[bt],Lt=Et/2-lt[st]/2+At,Yt=within(Ct,Lt,Ft),Ht=tt;z.modifiersData[F]=(O={},O[Ht]=Yt,O.centerOffset=Yt-Lt,O)}}function effect$1(D){var O=D.state,z=D.options,F=z.element,Y=F===void 0?"[data-popper-arrow]":F;Y!=null&&(typeof Y=="string"&&(Y=O.elements.popper.querySelector(Y),!Y)||contains(O.elements.popper,Y)&&(O.elements.arrow=Y))}const arrow$2={name:"arrow",enabled:!0,phase:"main",fn:arrow$1,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(D){return D.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(D,O){var z=D.x,F=D.y,Y=O.devicePixelRatio||1;return{x:round$1(z*Y)/Y||0,y:round$1(F*Y)/Y||0}}function mapToStyles(D){var O,z=D.popper,F=D.popperRect,Y=D.placement,W=D.variation,q=D.offsets,X=D.position,tt=D.gpuAcceleration,nt=D.adaptive,st=D.roundOffsets,ct=D.isFixed,lt=q.x,ht=lt===void 0?0:lt,bt=q.y,wt=bt===void 0?0:bt,mt=typeof st=="function"?st({x:ht,y:wt}):{x:ht,y:wt};ht=mt.x,wt=mt.y;var _t=q.hasOwnProperty("x"),Et=q.hasOwnProperty("y"),At=left$1,Ct=top$2,Ft=window;if(nt){var Lt=getOffsetParent$1(z),Yt="clientHeight",Ht="clientWidth";if(Lt===getWindow$1(z)&&(Lt=getDocumentElement$1(z),getComputedStyle$2(Lt).position!=="static"&&X==="absolute"&&(Yt="scrollHeight",Ht="scrollWidth")),Lt=Lt,Y===top$2||(Y===left$1||Y===right$1)&&W===end$1){Ct=bottom$1;var qt=ct&&Lt===Ft&&Ft.visualViewport?Ft.visualViewport.height:Lt[Yt];wt-=qt-F.height,wt*=tt?1:-1}if(Y===left$1||(Y===top$2||Y===bottom$1)&&W===end$1){At=right$1;var te=ct&&Lt===Ft&&Ft.visualViewport?Ft.visualViewport.width:Lt[Ht];ht-=te-F.width,ht*=tt?1:-1}}var Xt=Object.assign({position:X},nt&&unsetSides),Dt=st===!0?roundOffsetsByDPR({x:ht,y:wt},getWindow$1(z)):{x:ht,y:wt};if(ht=Dt.x,wt=Dt.y,tt){var Qt;return Object.assign({},Xt,(Qt={},Qt[Ct]=Et?"0":"",Qt[At]=_t?"0":"",Qt.transform=(Ft.devicePixelRatio||1)<=1?"translate("+ht+"px, "+wt+"px)":"translate3d("+ht+"px, "+wt+"px, 0)",Qt))}return Object.assign({},Xt,(O={},O[Ct]=Et?wt+"px":"",O[At]=_t?ht+"px":"",O.transform="",O))}function computeStyles(D){var O=D.state,z=D.options,F=z.gpuAcceleration,Y=F===void 0?!0:F,W=z.adaptive,q=W===void 0?!0:W,X=z.roundOffsets,tt=X===void 0?!0:X,nt={placement:getBasePlacement$1(O.placement),variation:getVariation(O.placement),popper:O.elements.popper,popperRect:O.rects.popper,gpuAcceleration:Y,isFixed:O.options.strategy==="fixed"};O.modifiersData.popperOffsets!=null&&(O.styles.popper=Object.assign({},O.styles.popper,mapToStyles(Object.assign({},nt,{offsets:O.modifiersData.popperOffsets,position:O.options.strategy,adaptive:q,roundOffsets:tt})))),O.modifiersData.arrow!=null&&(O.styles.arrow=Object.assign({},O.styles.arrow,mapToStyles(Object.assign({},nt,{offsets:O.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:tt})))),O.attributes.popper=Object.assign({},O.attributes.popper,{"data-popper-placement":O.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(D){var O=D.state,z=D.instance,F=D.options,Y=F.scroll,W=Y===void 0?!0:Y,q=F.resize,X=q===void 0?!0:q,tt=getWindow$1(O.elements.popper),nt=[].concat(O.scrollParents.reference,O.scrollParents.popper);return W&&nt.forEach(function(st){st.addEventListener("scroll",z.update,passive)}),X&&tt.addEventListener("resize",z.update,passive),function(){W&&nt.forEach(function(st){st.removeEventListener("scroll",z.update,passive)}),X&&tt.removeEventListener("resize",z.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(D){return D.replace(/left|right|bottom|top/g,function(O){return hash$1[O]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(D){return D.replace(/start|end/g,function(O){return hash[O]})}function getWindowScroll(D){var O=getWindow$1(D),z=O.pageXOffset,F=O.pageYOffset;return{scrollLeft:z,scrollTop:F}}function getWindowScrollBarX$1(D){return getBoundingClientRect$1(getDocumentElement$1(D)).left+getWindowScroll(D).scrollLeft}function getViewportRect$1(D,O){var z=getWindow$1(D),F=getDocumentElement$1(D),Y=z.visualViewport,W=F.clientWidth,q=F.clientHeight,X=0,tt=0;if(Y){W=Y.width,q=Y.height;var nt=isLayoutViewport();(nt||!nt&&O==="fixed")&&(X=Y.offsetLeft,tt=Y.offsetTop)}return{width:W,height:q,x:X+getWindowScrollBarX$1(D),y:tt}}function getDocumentRect$1(D){var O,z=getDocumentElement$1(D),F=getWindowScroll(D),Y=(O=D.ownerDocument)==null?void 0:O.body,W=max$4(z.scrollWidth,z.clientWidth,Y?Y.scrollWidth:0,Y?Y.clientWidth:0),q=max$4(z.scrollHeight,z.clientHeight,Y?Y.scrollHeight:0,Y?Y.clientHeight:0),X=-F.scrollLeft+getWindowScrollBarX$1(D),tt=-F.scrollTop;return getComputedStyle$2(Y||z).direction==="rtl"&&(X+=max$4(z.clientWidth,Y?Y.clientWidth:0)-W),{width:W,height:q,x:X,y:tt}}function isScrollParent(D){var O=getComputedStyle$2(D),z=O.overflow,F=O.overflowX,Y=O.overflowY;return/auto|scroll|overlay|hidden/.test(z+Y+F)}function getScrollParent(D){return["html","body","#document"].indexOf(getNodeName$1(D))>=0?D.ownerDocument.body:isHTMLElement$1(D)&&isScrollParent(D)?D:getScrollParent(getParentNode$1(D))}function listScrollParents(D,O){var z;O===void 0&&(O=[]);var F=getScrollParent(D),Y=F===((z=D.ownerDocument)==null?void 0:z.body),W=getWindow$1(F),q=Y?[W].concat(W.visualViewport||[],isScrollParent(F)?F:[]):F,X=O.concat(q);return Y?X:X.concat(listScrollParents(getParentNode$1(q)))}function rectToClientRect$1(D){return Object.assign({},D,{left:D.x,top:D.y,right:D.x+D.width,bottom:D.y+D.height})}function getInnerBoundingClientRect$1(D,O){var z=getBoundingClientRect$1(D,!1,O==="fixed");return z.top=z.top+D.clientTop,z.left=z.left+D.clientLeft,z.bottom=z.top+D.clientHeight,z.right=z.left+D.clientWidth,z.width=D.clientWidth,z.height=D.clientHeight,z.x=z.left,z.y=z.top,z}function getClientRectFromMixedType(D,O,z){return O===viewport?rectToClientRect$1(getViewportRect$1(D,z)):isElement$2(O)?getInnerBoundingClientRect$1(O,z):rectToClientRect$1(getDocumentRect$1(getDocumentElement$1(D)))}function getClippingParents(D){var O=listScrollParents(getParentNode$1(D)),z=["absolute","fixed"].indexOf(getComputedStyle$2(D).position)>=0,F=z&&isHTMLElement$1(D)?getOffsetParent$1(D):D;return isElement$2(F)?O.filter(function(Y){return isElement$2(Y)&&contains(Y,F)&&getNodeName$1(Y)!=="body"}):[]}function getClippingRect$1(D,O,z,F){var Y=O==="clippingParents"?getClippingParents(D):[].concat(O),W=[].concat(Y,[z]),q=W[0],X=W.reduce(function(tt,nt){var st=getClientRectFromMixedType(D,nt,F);return tt.top=max$4(st.top,tt.top),tt.right=min$4(st.right,tt.right),tt.bottom=min$4(st.bottom,tt.bottom),tt.left=max$4(st.left,tt.left),tt},getClientRectFromMixedType(D,q,F));return X.width=X.right-X.left,X.height=X.bottom-X.top,X.x=X.left,X.y=X.top,X}function computeOffsets(D){var O=D.reference,z=D.element,F=D.placement,Y=F?getBasePlacement$1(F):null,W=F?getVariation(F):null,q=O.x+O.width/2-z.width/2,X=O.y+O.height/2-z.height/2,tt;switch(Y){case top$2:tt={x:q,y:O.y-z.height};break;case bottom$1:tt={x:q,y:O.y+O.height};break;case right$1:tt={x:O.x+O.width,y:X};break;case left$1:tt={x:O.x-z.width,y:X};break;default:tt={x:O.x,y:O.y}}var nt=Y?getMainAxisFromPlacement(Y):null;if(nt!=null){var st=nt==="y"?"height":"width";switch(W){case start$2:tt[nt]=tt[nt]-(O[st]/2-z[st]/2);break;case end$1:tt[nt]=tt[nt]+(O[st]/2-z[st]/2);break}}return tt}function detectOverflow$1(D,O){O===void 0&&(O={});var z=O,F=z.placement,Y=F===void 0?D.placement:F,W=z.strategy,q=W===void 0?D.strategy:W,X=z.boundary,tt=X===void 0?clippingParents:X,nt=z.rootBoundary,st=nt===void 0?viewport:nt,ct=z.elementContext,lt=ct===void 0?popper:ct,ht=z.altBoundary,bt=ht===void 0?!1:ht,wt=z.padding,mt=wt===void 0?0:wt,_t=mergePaddingObject(typeof mt!="number"?mt:expandToHashMap(mt,basePlacements)),Et=lt===popper?reference:popper,At=D.rects.popper,Ct=D.elements[bt?Et:lt],Ft=getClippingRect$1(isElement$2(Ct)?Ct:Ct.contextElement||getDocumentElement$1(D.elements.popper),tt,st,q),Lt=getBoundingClientRect$1(D.elements.reference),Yt=computeOffsets({reference:Lt,element:At,strategy:"absolute",placement:Y}),Ht=rectToClientRect$1(Object.assign({},At,Yt)),qt=lt===popper?Ht:Lt,te={top:Ft.top-qt.top+_t.top,bottom:qt.bottom-Ft.bottom+_t.bottom,left:Ft.left-qt.left+_t.left,right:qt.right-Ft.right+_t.right},Xt=D.modifiersData.offset;if(lt===popper&&Xt){var Dt=Xt[Y];Object.keys(te).forEach(function(Qt){var Nt=[right$1,bottom$1].indexOf(Qt)>=0?1:-1,ce=[top$2,bottom$1].indexOf(Qt)>=0?"y":"x";te[Qt]+=Dt[ce]*Nt})}return te}function computeAutoPlacement(D,O){O===void 0&&(O={});var z=O,F=z.placement,Y=z.boundary,W=z.rootBoundary,q=z.padding,X=z.flipVariations,tt=z.allowedAutoPlacements,nt=tt===void 0?placements:tt,st=getVariation(F),ct=st?X?variationPlacements:variationPlacements.filter(function(bt){return getVariation(bt)===st}):basePlacements,lt=ct.filter(function(bt){return nt.indexOf(bt)>=0});lt.length===0&&(lt=ct);var ht=lt.reduce(function(bt,wt){return bt[wt]=detectOverflow$1(D,{placement:wt,boundary:Y,rootBoundary:W,padding:q})[getBasePlacement$1(wt)],bt},{});return Object.keys(ht).sort(function(bt,wt){return ht[bt]-ht[wt]})}function getExpandedFallbackPlacements(D){if(getBasePlacement$1(D)===auto)return[];var O=getOppositePlacement$1(D);return[getOppositeVariationPlacement(D),O,getOppositeVariationPlacement(O)]}function flip$1(D){var O=D.state,z=D.options,F=D.name;if(!O.modifiersData[F]._skip){for(var Y=z.mainAxis,W=Y===void 0?!0:Y,q=z.altAxis,X=q===void 0?!0:q,tt=z.fallbackPlacements,nt=z.padding,st=z.boundary,ct=z.rootBoundary,lt=z.altBoundary,ht=z.flipVariations,bt=ht===void 0?!0:ht,wt=z.allowedAutoPlacements,mt=O.options.placement,_t=getBasePlacement$1(mt),Et=_t===mt,At=tt||(Et||!bt?[getOppositePlacement$1(mt)]:getExpandedFallbackPlacements(mt)),Ct=[mt].concat(At).reduce(function(Je,qe){return Je.concat(getBasePlacement$1(qe)===auto?computeAutoPlacement(O,{placement:qe,boundary:st,rootBoundary:ct,padding:nt,flipVariations:bt,allowedAutoPlacements:wt}):qe)},[]),Ft=O.rects.reference,Lt=O.rects.popper,Yt=new Map,Ht=!0,qt=Ct[0],te=0;te<Ct.length;te++){var Xt=Ct[te],Dt=getBasePlacement$1(Xt),Qt=getVariation(Xt)===start$2,Nt=[top$2,bottom$1].indexOf(Dt)>=0,ce=Nt?"width":"height",Pt=detectOverflow$1(O,{placement:Xt,boundary:st,rootBoundary:ct,altBoundary:lt,padding:nt}),de=Nt?Qt?right$1:left$1:Qt?bottom$1:top$2;Ft[ce]>Lt[ce]&&(de=getOppositePlacement$1(de));var ye=getOppositePlacement$1(de),pe=[];if(W&&pe.push(Pt[Dt]<=0),X&&pe.push(Pt[de]<=0,Pt[ye]<=0),pe.every(function(Je){return Je})){qt=Xt,Ht=!1;break}Yt.set(Xt,pe)}if(Ht)for(var ve=bt?3:1,Ce=function(qe){var ze=Ct.find(function(we){var Me=Yt.get(we);if(Me)return Me.slice(0,qe).every(function(He){return He})});if(ze)return qt=ze,"break"},De=ve;De>0;De--){var Oe=Ce(De);if(Oe==="break")break}O.placement!==qt&&(O.modifiersData[F]._skip=!0,O.placement=qt,O.reset=!0)}}const flip$2={name:"flip",enabled:!0,phase:"main",fn:flip$1,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(D,O,z){return z===void 0&&(z={x:0,y:0}),{top:D.top-O.height-z.y,right:D.right-O.width+z.x,bottom:D.bottom-O.height+z.y,left:D.left-O.width-z.x}}function isAnySideFullyClipped(D){return[top$2,right$1,bottom$1,left$1].some(function(O){return D[O]>=0})}function hide(D){var O=D.state,z=D.name,F=O.rects.reference,Y=O.rects.popper,W=O.modifiersData.preventOverflow,q=detectOverflow$1(O,{elementContext:"reference"}),X=detectOverflow$1(O,{altBoundary:!0}),tt=getSideOffsets(q,F),nt=getSideOffsets(X,Y,W),st=isAnySideFullyClipped(tt),ct=isAnySideFullyClipped(nt);O.modifiersData[z]={referenceClippingOffsets:tt,popperEscapeOffsets:nt,isReferenceHidden:st,hasPopperEscaped:ct},O.attributes.popper=Object.assign({},O.attributes.popper,{"data-popper-reference-hidden":st,"data-popper-escaped":ct})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(D,O,z){var F=getBasePlacement$1(D),Y=[left$1,top$2].indexOf(F)>=0?-1:1,W=typeof z=="function"?z(Object.assign({},O,{placement:D})):z,q=W[0],X=W[1];return q=q||0,X=(X||0)*Y,[left$1,right$1].indexOf(F)>=0?{x:X,y:q}:{x:q,y:X}}function offset$1(D){var O=D.state,z=D.options,F=D.name,Y=z.offset,W=Y===void 0?[0,0]:Y,q=placements.reduce(function(st,ct){return st[ct]=distanceAndSkiddingToXY(ct,O.rects,W),st},{}),X=q[O.placement],tt=X.x,nt=X.y;O.modifiersData.popperOffsets!=null&&(O.modifiersData.popperOffsets.x+=tt,O.modifiersData.popperOffsets.y+=nt),O.modifiersData[F]=q}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(D){var O=D.state,z=D.name;O.modifiersData[z]=computeOffsets({reference:O.rects.reference,element:O.rects.popper,strategy:"absolute",placement:O.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(D){return D==="x"?"y":"x"}function preventOverflow(D){var O=D.state,z=D.options,F=D.name,Y=z.mainAxis,W=Y===void 0?!0:Y,q=z.altAxis,X=q===void 0?!1:q,tt=z.boundary,nt=z.rootBoundary,st=z.altBoundary,ct=z.padding,lt=z.tether,ht=lt===void 0?!0:lt,bt=z.tetherOffset,wt=bt===void 0?0:bt,mt=detectOverflow$1(O,{boundary:tt,rootBoundary:nt,padding:ct,altBoundary:st}),_t=getBasePlacement$1(O.placement),Et=getVariation(O.placement),At=!Et,Ct=getMainAxisFromPlacement(_t),Ft=getAltAxis(Ct),Lt=O.modifiersData.popperOffsets,Yt=O.rects.reference,Ht=O.rects.popper,qt=typeof wt=="function"?wt(Object.assign({},O.rects,{placement:O.placement})):wt,te=typeof qt=="number"?{mainAxis:qt,altAxis:qt}:Object.assign({mainAxis:0,altAxis:0},qt),Xt=O.modifiersData.offset?O.modifiersData.offset[O.placement]:null,Dt={x:0,y:0};if(Lt){if(W){var Qt,Nt=Ct==="y"?top$2:left$1,ce=Ct==="y"?bottom$1:right$1,Pt=Ct==="y"?"height":"width",de=Lt[Ct],ye=de+mt[Nt],pe=de-mt[ce],ve=ht?-Ht[Pt]/2:0,Ce=Et===start$2?Yt[Pt]:Ht[Pt],De=Et===start$2?-Ht[Pt]:-Yt[Pt],Oe=O.elements.arrow,Je=ht&&Oe?getLayoutRect(Oe):{width:0,height:0},qe=O.modifiersData["arrow#persistent"]?O.modifiersData["arrow#persistent"].padding:getFreshSideObject(),ze=qe[Nt],we=qe[ce],Me=within(0,Yt[Pt],Je[Pt]),He=At?Yt[Pt]/2-ve-Me-ze-te.mainAxis:Ce-Me-ze-te.mainAxis,Le=At?-Yt[Pt]/2+ve+Me+we+te.mainAxis:De+Me+we+te.mainAxis,Ye=O.elements.arrow&&getOffsetParent$1(O.elements.arrow),Kt=Ye?Ct==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,kt=(Qt=Xt==null?void 0:Xt[Ct])!=null?Qt:0,jt=de+He-kt-Kt,$t=de+Le-kt,oe=within(ht?min$4(ye,jt):ye,de,ht?max$4(pe,$t):pe);Lt[Ct]=oe,Dt[Ct]=oe-de}if(X){var Vt,Be=Ct==="x"?top$2:left$1,ge=Ct==="x"?bottom$1:right$1,Pe=Lt[Ft],ke=Ft==="y"?"height":"width",$e=Pe+mt[Be],Fe=Pe-mt[ge],Qe=[top$2,left$1].indexOf(_t)!==-1,We=(Vt=Xt==null?void 0:Xt[Ft])!=null?Vt:0,rn=Qe?$e:Pe-Yt[ke]-Ht[ke]-We+te.altAxis,zn=Qe?Pe+Yt[ke]+Ht[ke]-We-te.altAxis:Fe,Bn=ht&&Qe?withinMaxClamp(rn,Pe,zn):within(ht?rn:$e,Pe,ht?zn:Fe);Lt[Ft]=Bn,Dt[Ft]=Bn-Pe}O.modifiersData[F]=Dt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(D){return{scrollLeft:D.scrollLeft,scrollTop:D.scrollTop}}function getNodeScroll$1(D){return D===getWindow$1(D)||!isHTMLElement$1(D)?getWindowScroll(D):getHTMLElementScroll(D)}function isElementScaled(D){var O=D.getBoundingClientRect(),z=round$1(O.width)/D.offsetWidth||1,F=round$1(O.height)/D.offsetHeight||1;return z!==1||F!==1}function getCompositeRect(D,O,z){z===void 0&&(z=!1);var F=isHTMLElement$1(O),Y=isHTMLElement$1(O)&&isElementScaled(O),W=getDocumentElement$1(O),q=getBoundingClientRect$1(D,Y,z),X={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(F||!F&&!z)&&((getNodeName$1(O)!=="body"||isScrollParent(W))&&(X=getNodeScroll$1(O)),isHTMLElement$1(O)?(tt=getBoundingClientRect$1(O,!0),tt.x+=O.clientLeft,tt.y+=O.clientTop):W&&(tt.x=getWindowScrollBarX$1(W))),{x:q.left+X.scrollLeft-tt.x,y:q.top+X.scrollTop-tt.y,width:q.width,height:q.height}}function order$1(D){var O=new Map,z=new Set,F=[];D.forEach(function(W){O.set(W.name,W)});function Y(W){z.add(W.name);var q=[].concat(W.requires||[],W.requiresIfExists||[]);q.forEach(function(X){if(!z.has(X)){var tt=O.get(X);tt&&Y(tt)}}),F.push(W)}return D.forEach(function(W){z.has(W.name)||Y(W)}),F}function orderModifiers(D){var O=order$1(D);return modifierPhases.reduce(function(z,F){return z.concat(O.filter(function(Y){return Y.phase===F}))},[])}function debounce$1(D){var O;return function(){return O||(O=new Promise(function(z){Promise.resolve().then(function(){O=void 0,z(D())})})),O}}function mergeByName(D){var O=D.reduce(function(z,F){var Y=z[F.name];return z[F.name]=Y?Object.assign({},Y,F,{options:Object.assign({},Y.options,F.options),data:Object.assign({},Y.data,F.data)}):F,z},{});return Object.keys(O).map(function(z){return O[z]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var D=arguments.length,O=new Array(D),z=0;z<D;z++)O[z]=arguments[z];return!O.some(function(F){return!(F&&typeof F.getBoundingClientRect=="function")})}function popperGenerator(D){D===void 0&&(D={});var O=D,z=O.defaultModifiers,F=z===void 0?[]:z,Y=O.defaultOptions,W=Y===void 0?DEFAULT_OPTIONS:Y;return function(X,tt,nt){nt===void 0&&(nt=W);var st={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,W),modifiersData:{},elements:{reference:X,popper:tt},attributes:{},styles:{}},ct=[],lt=!1,ht={state:st,setOptions:function(_t){var Et=typeof _t=="function"?_t(st.options):_t;wt(),st.options=Object.assign({},W,st.options,Et),st.scrollParents={reference:isElement$2(X)?listScrollParents(X):X.contextElement?listScrollParents(X.contextElement):[],popper:listScrollParents(tt)};var At=orderModifiers(mergeByName([].concat(F,st.options.modifiers)));return st.orderedModifiers=At.filter(function(Ct){return Ct.enabled}),bt(),ht.update()},forceUpdate:function(){if(!lt){var _t=st.elements,Et=_t.reference,At=_t.popper;if(areValidElements(Et,At)){st.rects={reference:getCompositeRect(Et,getOffsetParent$1(At),st.options.strategy==="fixed"),popper:getLayoutRect(At)},st.reset=!1,st.placement=st.options.placement,st.orderedModifiers.forEach(function(te){return st.modifiersData[te.name]=Object.assign({},te.data)});for(var Ct=0;Ct<st.orderedModifiers.length;Ct++){if(st.reset===!0){st.reset=!1,Ct=-1;continue}var Ft=st.orderedModifiers[Ct],Lt=Ft.fn,Yt=Ft.options,Ht=Yt===void 0?{}:Yt,qt=Ft.name;typeof Lt=="function"&&(st=Lt({state:st,options:Ht,name:qt,instance:ht})||st)}}}},update:debounce$1(function(){return new Promise(function(mt){ht.forceUpdate(),mt(st)})}),destroy:function(){wt(),lt=!0}};if(!areValidElements(X,tt))return ht;ht.setOptions(nt).then(function(mt){!lt&&nt.onFirstUpdate&&nt.onFirstUpdate(mt)});function bt(){st.orderedModifiers.forEach(function(mt){var _t=mt.name,Et=mt.options,At=Et===void 0?{}:Et,Ct=mt.effect;if(typeof Ct=="function"){var Ft=Ct({state:st,name:_t,instance:ht,options:At}),Lt=function(){};ct.push(Ft||Lt)}})}function wt(){ct.forEach(function(mt){return mt()}),ct=[]}return ht}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$2,flip$2,preventOverflow$1,arrow$2,hide$1],createPopper=popperGenerator({defaultModifiers});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class HSTooltip extends Component{constructor(z){super(".hs-tooltip");F1(this,"root");this.root=z}init(){this.root.addEventListener("click",z=>{const Y=z.target.closest(this.selector);Y&&this.getClassProperty(Y,"--trigger")==="focus"&&this._focus(Y),Y&&this.getClassProperty(Y,"--trigger")==="click"&&this._click(Y)}),this.root.addEventListener("mousemove",z=>{const Y=z.target.closest(this.selector);Y&&this.getClassProperty(Y,"--trigger")!=="focus"&&this.getClassProperty(Y,"--trigger")!=="click"&&this._hover(Y)})}_hover(z){if(z.classList.contains("show"))return;const F=z.querySelector(".hs-tooltip-toggle"),Y=z.querySelector(".hs-tooltip-content"),W=this.getClassProperty(z,"--placement");createPopper(F,Y,{placement:W||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(z);const q=X=>{X.relatedTarget.closest(this.selector)&&X.relatedTarget.closest(this.selector)==z||(this.hide(z),z.removeEventListener("mouseleave",q,!0))};z.addEventListener("mouseleave",q,!0)}_focus(z){const F=z.querySelector(".hs-tooltip-toggle"),Y=z.querySelector(".hs-tooltip-content"),W=this.getClassProperty(z,"--placement"),q=this.getClassProperty(z,"--strategy");createPopper(F,Y,{placement:W||"top",strategy:q||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(z);const X=()=>{this.hide(z),z.removeEventListener("blur",X,!0)};z.addEventListener("blur",X,!0)}_click(z){if(z.classList.contains("show"))return;const F=z.querySelector(".hs-tooltip-toggle"),Y=z.querySelector(".hs-tooltip-content"),W=this.getClassProperty(z,"--placement"),q=this.getClassProperty(z,"--strategy");createPopper(F,Y,{placement:W||"top",strategy:q||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(z);const X=tt=>{setTimeout(()=>{this.hide(z),z.removeEventListener("click",X,!0),z.removeEventListener("blur",X,!0)})};z.addEventListener("blur",X,!0),z.addEventListener("click",X,!0)}show(z){z.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{z.classList.add("show"),this._fireEvent("show",z),this._dispatch("show.hs.tooltip",z,z)})}hide(z){const F=z.querySelector(".hs-tooltip-content");z.classList.remove("show"),this._fireEvent("hide",z),this._dispatch("hide.hs.tooltip",z,z),this.afterTransition(F,()=>{z.classList.contains("show")||F.classList.add("hidden")})}}const _hoisted_1$e={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},_hoisted_2$a=["innerHTML"],_hoisted_3$8={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},_hoisted_4$7={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_5$5=["src"],_hoisted_6$5={class:"p-4 md:p-5"},_hoisted_7$5={class:"text-lg font-bold text-gray-800 dark:text-white"},_hoisted_8$5={class:"mt-1 text-gray-800 dark:text-gray-400"},_hoisted_9$5={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},_hoisted_10$5=["href"],_hoisted_11$4=createBaseVNode("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),_hoisted_12$4=createBaseVNode("span",{class:"ml-1"},"Wikipedia",-1),_hoisted_13$4=[_hoisted_11$4,_hoisted_12$4],_sfc_main$h=defineComponent({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(D){const O=D;watch$1(O,()=>{q.value=O.qid});const z=ref(null),F=computed(()=>{var bt,wt;return(wt=(bt=z.value)==null?void 0:bt.getRootNode())==null?void 0:wt.host}),Y=computed(()=>{var bt;return(bt=F.value)==null?void 0:bt.textContent}),W=computed(()=>{var bt;return(bt=z==null?void 0:z.value)==null?void 0:bt.parentNode});watch$1(W,()=>{new HSTooltip(W.value).init()});const q=ref(O.qid);watch$1(q,()=>{lt(q.value)});const X=ref({}),tt=computed(()=>q.value&&X.value[q.value]),nt=computed(()=>{var bt,wt,mt;return(mt=(wt=(bt=tt.value)==null?void 0:bt.labels)==null?void 0:wt[O.language])==null?void 0:mt.value}),st=computed(()=>{var bt,wt,mt;return(mt=(wt=(bt=tt.value)==null?void 0:bt.descriptions)==null?void 0:wt[O.language])==null?void 0:mt.value}),ct=computed(()=>tt.value&&tt.value.sitelinks[`${O.language}wiki`].url);onMounted(()=>{lt(q.value)});async function lt(bt){if(!bt||X.value[bt])return;let wt=`https://www.wikidata.org/wiki/Special:EntityData/${bt}.json`;const _t=await(await fetch(wt)).json();Object.values(_t.entities).forEach(Et=>{Et.summaryText={},Et.claims.P18&&(Et.image=Et.claims.P18[0].mainsnak.datavalue.value,Et.thumbnail=ht(Et.image))}),X.value={...X.value,..._t.entities}}function ht(bt,wt=300){Array.isArray(bt)&&(bt=bt[0]),bt=bt.split("/").pop(),bt=decodeURIComponent(bt).replace(/ /g,"_");const mt=Md5.hashStr(bt),_t=bt.split(".").pop();let Et=`https://upload.wikimedia.org/wikipedia/commons${wt?"/thumb":""}`;return Et+=`/${mt.slice(0,1)}/${mt.slice(0,2)}/${bt}`,wt&&(Et+=`/${wt}px-${bt}`,_t==="svg"?Et+=".png":(_t==="tif"||_t==="tiff")&&(Et+=".jpg")),Et}return(bt,wt)=>{var mt;return openBlock(),createElementBlock("div",{ref_key:"root",ref:z,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[createBaseVNode("a",_hoisted_1$e,[createBaseVNode("span",{innerHTML:Y.value,class:"underline underline-offset-4 decoration-dotted"},null,8,_hoisted_2$a),createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$7,[createBaseVNode("img",{class:"w-full h-auto rounded-t-xl",src:(mt=tt.value)==null?void 0:mt.thumbnail,alt:"Image Description"},null,8,_hoisted_5$5),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("h3",_hoisted_7$5,toDisplayString(nt.value),1),createBaseVNode("p",_hoisted_8$5,toDisplayString(st.value),1),createBaseVNode("div",_hoisted_9$5,[createBaseVNode("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:ct.value},_hoisted_13$4,8,_hoisted_10$5)])])])])])],512)}}}),_style_0$e=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}.underline{text-decoration-color:green}
`,_export_sfc=(D,O)=>{const z=D.__vccOpts||D;for(const[F,Y]of O)z[F]=Y;return z},EntityInfobox=_export_sfc(_sfc_main$h,[["styles",[_style_0$e]]]),_hoisted_1$d=["innerHTML","onClick"],_sfc_main$g=defineComponent({__name:"Footer.ce",props:{sticky:{type:Boolean}},setup(D){const O=D,z=ref([]),F=ref(null),Y=computed(()=>{var ht,bt;return(bt=(ht=F.value)==null?void 0:ht.getRootNode())==null?void 0:bt.host});computed(()=>{var ht;return(ht=F==null?void 0:F.value)==null?void 0:ht.parentNode});const W=ref(!1);watch$1(W,()=>q.open=W.value);let q;const X=ref();watch$1(Y,()=>{}),watch$1(Y,()=>tt());function tt(){var ht;Y.value.style.clear="both",O.sticky&&nt(),z.value=Array.from((ht=Y.value)==null?void 0:ht.querySelectorAll("li"))}function nt(){Y.value.classList.add("sticky");let ht=Y.value.offsetHeight;ht+=parseInt(window.getComputedStyle(Y.value).getPropertyValue("margin-top")),ht+=parseInt(window.getComputedStyle(Y.value).getPropertyValue("margin-bottom"));let bt=document.querySelector("main");bt&&(bt.style.paddingBottom=`${ht}px`),Y.value.style.width=`${Y.value.parentElement.clientWidth}px`,document.body.style.marginBottom="80px"}function st(ht){return ht?Object.fromEntries(ht.split(";").filter(bt=>bt.trim()).map(bt=>bt.split(":").map(wt=>wt.trim()))):{}}function ct(){let ht=window.PREFIX,bt=location.hostname.indexOf("github.io")!==-1,wt=location.pathname.split("/").filter(mt=>mt).filter(mt=>mt!=="editor").slice(bt?1:0).join("/");X.value=ht&&wt.indexOf(ht)!==0?`${ht}/${wt}`:wt,W.value=!0}function lt(ht,bt){ht.innerHTML==="view-code"&&(bt.stopPropagation(),ct())}return(ht,bt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:F,class:"flex bg-slate-100 p-6 gap-8 mt-8 items-center w-full h-8 justify-between"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(z.value,(wt,mt)=>(openBlock(),createElementBlock("div",{key:`li-${mt}`,class:normalizeClass(`flex items-center gap-4 whitespace-nowrap ${wt.className}`),style:normalizeStyle(st(wt.getAttribute("style")||"")),innerHTML:wt.innerHTML,onClick:_t=>lt(wt,_t)},null,14,_hoisted_1$d))),128))],512))}}),_style_0$d=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}img{height:36px}.push{margin-left:auto}
`,Footer=_export_sfc(_sfc_main$g,[["styles",[_style_0$d]]]);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}function getAugmentedNamespace(D){if(D.__esModule)return D;var O=D.default;if(typeof O=="function"){var z=function F(){return this instanceof F?Reflect.construct(O,arguments,this.constructor):O.apply(this,arguments)};z.prototype=O.prototype}else z={};return Object.defineProperty(z,"__esModule",{value:!0}),Object.keys(D).forEach(function(F){var Y=Object.getOwnPropertyDescriptor(D,F);Object.defineProperty(z,F,Y.get?Y:{enumerable:!0,get:function(){return D[F]}})}),z}var sha256$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */(function(D){(function(){var O="input is invalid type",z=typeof window=="object",F=z?window:{};F.JS_SHA256_NO_WINDOW&&(z=!1);var Y=!z&&typeof self=="object",W=!F.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;W?F=commonjsGlobal$1:Y&&(F=self);var q=!F.JS_SHA256_NO_COMMON_JS&&!0&&D.exports,X=!F.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",tt="0123456789abcdef".split(""),nt=[-2147483648,8388608,32768,128],st=[24,16,8,0],ct=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],lt=["hex","array","digest","arrayBuffer"],ht=[];(F.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Lt){return Object.prototype.toString.call(Lt)==="[object Array]"}),X&&(F.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Lt){return typeof Lt=="object"&&Lt.buffer&&Lt.buffer.constructor===ArrayBuffer});var bt=function(Lt,Yt){return function(Ht){return new At(Yt,!0).update(Ht)[Lt]()}},wt=function(Lt){var Yt=bt("hex",Lt);W&&(Yt=mt(Yt,Lt)),Yt.create=function(){return new At(Lt)},Yt.update=function(te){return Yt.create().update(te)};for(var Ht=0;Ht<lt.length;++Ht){var qt=lt[Ht];Yt[qt]=bt(qt,Lt)}return Yt},mt=function(Lt,Yt){var Ht=require$$4,qt=require$$4.Buffer,te=Yt?"sha224":"sha256",Xt;qt.from&&!F.JS_SHA256_NO_BUFFER_FROM?Xt=qt.from:Xt=function(Qt){return new qt(Qt)};var Dt=function(Qt){if(typeof Qt=="string")return Ht.createHash(te).update(Qt,"utf8").digest("hex");if(Qt==null)throw new Error(O);return Qt.constructor===ArrayBuffer&&(Qt=new Uint8Array(Qt)),Array.isArray(Qt)||ArrayBuffer.isView(Qt)||Qt.constructor===qt?Ht.createHash(te).update(Xt(Qt)).digest("hex"):Lt(Qt)};return Dt},_t=function(Lt,Yt){return function(Ht,qt){return new Ct(Ht,Yt,!0).update(qt)[Lt]()}},Et=function(Lt){var Yt=_t("hex",Lt);Yt.create=function(te){return new Ct(te,Lt)},Yt.update=function(te,Xt){return Yt.create(te).update(Xt)};for(var Ht=0;Ht<lt.length;++Ht){var qt=lt[Ht];Yt[qt]=_t(qt,Lt)}return Yt};function At(Lt,Yt){Yt?(ht[0]=ht[16]=ht[1]=ht[2]=ht[3]=ht[4]=ht[5]=ht[6]=ht[7]=ht[8]=ht[9]=ht[10]=ht[11]=ht[12]=ht[13]=ht[14]=ht[15]=0,this.blocks=ht):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Lt?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=Lt}At.prototype.update=function(Lt){if(!this.finalized){var Yt,Ht=typeof Lt;if(Ht!=="string"){if(Ht==="object"){if(Lt===null)throw new Error(O);if(X&&Lt.constructor===ArrayBuffer)Lt=new Uint8Array(Lt);else if(!Array.isArray(Lt)&&(!X||!ArrayBuffer.isView(Lt)))throw new Error(O)}else throw new Error(O);Yt=!0}for(var qt,te=0,Xt,Dt=Lt.length,Qt=this.blocks;te<Dt;){if(this.hashed&&(this.hashed=!1,Qt[0]=this.block,Qt[16]=Qt[1]=Qt[2]=Qt[3]=Qt[4]=Qt[5]=Qt[6]=Qt[7]=Qt[8]=Qt[9]=Qt[10]=Qt[11]=Qt[12]=Qt[13]=Qt[14]=Qt[15]=0),Yt)for(Xt=this.start;te<Dt&&Xt<64;++te)Qt[Xt>>2]|=Lt[te]<<st[Xt++&3];else for(Xt=this.start;te<Dt&&Xt<64;++te)qt=Lt.charCodeAt(te),qt<128?Qt[Xt>>2]|=qt<<st[Xt++&3]:qt<2048?(Qt[Xt>>2]|=(192|qt>>6)<<st[Xt++&3],Qt[Xt>>2]|=(128|qt&63)<<st[Xt++&3]):qt<55296||qt>=57344?(Qt[Xt>>2]|=(224|qt>>12)<<st[Xt++&3],Qt[Xt>>2]|=(128|qt>>6&63)<<st[Xt++&3],Qt[Xt>>2]|=(128|qt&63)<<st[Xt++&3]):(qt=65536+((qt&1023)<<10|Lt.charCodeAt(++te)&1023),Qt[Xt>>2]|=(240|qt>>18)<<st[Xt++&3],Qt[Xt>>2]|=(128|qt>>12&63)<<st[Xt++&3],Qt[Xt>>2]|=(128|qt>>6&63)<<st[Xt++&3],Qt[Xt>>2]|=(128|qt&63)<<st[Xt++&3]);this.lastByteIndex=Xt,this.bytes+=Xt-this.start,Xt>=64?(this.block=Qt[16],this.start=Xt-64,this.hash(),this.hashed=!0):this.start=Xt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},At.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Lt=this.blocks,Yt=this.lastByteIndex;Lt[16]=this.block,Lt[Yt>>2]|=nt[Yt&3],this.block=Lt[16],Yt>=56&&(this.hashed||this.hash(),Lt[0]=this.block,Lt[16]=Lt[1]=Lt[2]=Lt[3]=Lt[4]=Lt[5]=Lt[6]=Lt[7]=Lt[8]=Lt[9]=Lt[10]=Lt[11]=Lt[12]=Lt[13]=Lt[14]=Lt[15]=0),Lt[14]=this.hBytes<<3|this.bytes>>>29,Lt[15]=this.bytes<<3,this.hash()}},At.prototype.hash=function(){var Lt=this.h0,Yt=this.h1,Ht=this.h2,qt=this.h3,te=this.h4,Xt=this.h5,Dt=this.h6,Qt=this.h7,Nt=this.blocks,ce,Pt,de,ye,pe,ve,Ce,De,Oe,Je,qe;for(ce=16;ce<64;++ce)pe=Nt[ce-15],Pt=(pe>>>7|pe<<25)^(pe>>>18|pe<<14)^pe>>>3,pe=Nt[ce-2],de=(pe>>>17|pe<<15)^(pe>>>19|pe<<13)^pe>>>10,Nt[ce]=Nt[ce-16]+Pt+Nt[ce-7]+de<<0;for(qe=Yt&Ht,ce=0;ce<64;ce+=4)this.first?(this.is224?(De=300032,pe=Nt[0]-1413257819,Qt=pe-150054599<<0,qt=pe+24177077<<0):(De=704751109,pe=Nt[0]-210244248,Qt=pe-1521486534<<0,qt=pe+143694565<<0),this.first=!1):(Pt=(Lt>>>2|Lt<<30)^(Lt>>>13|Lt<<19)^(Lt>>>22|Lt<<10),de=(te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7),De=Lt&Yt,ye=De^Lt&Ht^qe,Ce=te&Xt^~te&Dt,pe=Qt+de+Ce+ct[ce]+Nt[ce],ve=Pt+ye,Qt=qt+pe<<0,qt=pe+ve<<0),Pt=(qt>>>2|qt<<30)^(qt>>>13|qt<<19)^(qt>>>22|qt<<10),de=(Qt>>>6|Qt<<26)^(Qt>>>11|Qt<<21)^(Qt>>>25|Qt<<7),Oe=qt&Lt,ye=Oe^qt&Yt^De,Ce=Qt&te^~Qt&Xt,pe=Dt+de+Ce+ct[ce+1]+Nt[ce+1],ve=Pt+ye,Dt=Ht+pe<<0,Ht=pe+ve<<0,Pt=(Ht>>>2|Ht<<30)^(Ht>>>13|Ht<<19)^(Ht>>>22|Ht<<10),de=(Dt>>>6|Dt<<26)^(Dt>>>11|Dt<<21)^(Dt>>>25|Dt<<7),Je=Ht&qt,ye=Je^Ht&Lt^Oe,Ce=Dt&Qt^~Dt&te,pe=Xt+de+Ce+ct[ce+2]+Nt[ce+2],ve=Pt+ye,Xt=Yt+pe<<0,Yt=pe+ve<<0,Pt=(Yt>>>2|Yt<<30)^(Yt>>>13|Yt<<19)^(Yt>>>22|Yt<<10),de=(Xt>>>6|Xt<<26)^(Xt>>>11|Xt<<21)^(Xt>>>25|Xt<<7),qe=Yt&Ht,ye=qe^Yt&qt^Je,Ce=Xt&Dt^~Xt&Qt,pe=te+de+Ce+ct[ce+3]+Nt[ce+3],ve=Pt+ye,te=Lt+pe<<0,Lt=pe+ve<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+Lt<<0,this.h1=this.h1+Yt<<0,this.h2=this.h2+Ht<<0,this.h3=this.h3+qt<<0,this.h4=this.h4+te<<0,this.h5=this.h5+Xt<<0,this.h6=this.h6+Dt<<0,this.h7=this.h7+Qt<<0},At.prototype.hex=function(){this.finalize();var Lt=this.h0,Yt=this.h1,Ht=this.h2,qt=this.h3,te=this.h4,Xt=this.h5,Dt=this.h6,Qt=this.h7,Nt=tt[Lt>>28&15]+tt[Lt>>24&15]+tt[Lt>>20&15]+tt[Lt>>16&15]+tt[Lt>>12&15]+tt[Lt>>8&15]+tt[Lt>>4&15]+tt[Lt&15]+tt[Yt>>28&15]+tt[Yt>>24&15]+tt[Yt>>20&15]+tt[Yt>>16&15]+tt[Yt>>12&15]+tt[Yt>>8&15]+tt[Yt>>4&15]+tt[Yt&15]+tt[Ht>>28&15]+tt[Ht>>24&15]+tt[Ht>>20&15]+tt[Ht>>16&15]+tt[Ht>>12&15]+tt[Ht>>8&15]+tt[Ht>>4&15]+tt[Ht&15]+tt[qt>>28&15]+tt[qt>>24&15]+tt[qt>>20&15]+tt[qt>>16&15]+tt[qt>>12&15]+tt[qt>>8&15]+tt[qt>>4&15]+tt[qt&15]+tt[te>>28&15]+tt[te>>24&15]+tt[te>>20&15]+tt[te>>16&15]+tt[te>>12&15]+tt[te>>8&15]+tt[te>>4&15]+tt[te&15]+tt[Xt>>28&15]+tt[Xt>>24&15]+tt[Xt>>20&15]+tt[Xt>>16&15]+tt[Xt>>12&15]+tt[Xt>>8&15]+tt[Xt>>4&15]+tt[Xt&15]+tt[Dt>>28&15]+tt[Dt>>24&15]+tt[Dt>>20&15]+tt[Dt>>16&15]+tt[Dt>>12&15]+tt[Dt>>8&15]+tt[Dt>>4&15]+tt[Dt&15];return this.is224||(Nt+=tt[Qt>>28&15]+tt[Qt>>24&15]+tt[Qt>>20&15]+tt[Qt>>16&15]+tt[Qt>>12&15]+tt[Qt>>8&15]+tt[Qt>>4&15]+tt[Qt&15]),Nt},At.prototype.toString=At.prototype.hex,At.prototype.digest=function(){this.finalize();var Lt=this.h0,Yt=this.h1,Ht=this.h2,qt=this.h3,te=this.h4,Xt=this.h5,Dt=this.h6,Qt=this.h7,Nt=[Lt>>24&255,Lt>>16&255,Lt>>8&255,Lt&255,Yt>>24&255,Yt>>16&255,Yt>>8&255,Yt&255,Ht>>24&255,Ht>>16&255,Ht>>8&255,Ht&255,qt>>24&255,qt>>16&255,qt>>8&255,qt&255,te>>24&255,te>>16&255,te>>8&255,te&255,Xt>>24&255,Xt>>16&255,Xt>>8&255,Xt&255,Dt>>24&255,Dt>>16&255,Dt>>8&255,Dt&255];return this.is224||Nt.push(Qt>>24&255,Qt>>16&255,Qt>>8&255,Qt&255),Nt},At.prototype.array=At.prototype.digest,At.prototype.arrayBuffer=function(){this.finalize();var Lt=new ArrayBuffer(this.is224?28:32),Yt=new DataView(Lt);return Yt.setUint32(0,this.h0),Yt.setUint32(4,this.h1),Yt.setUint32(8,this.h2),Yt.setUint32(12,this.h3),Yt.setUint32(16,this.h4),Yt.setUint32(20,this.h5),Yt.setUint32(24,this.h6),this.is224||Yt.setUint32(28,this.h7),Lt};function Ct(Lt,Yt,Ht){var qt,te=typeof Lt;if(te==="string"){var Xt=[],Dt=Lt.length,Qt=0,Nt;for(qt=0;qt<Dt;++qt)Nt=Lt.charCodeAt(qt),Nt<128?Xt[Qt++]=Nt:Nt<2048?(Xt[Qt++]=192|Nt>>6,Xt[Qt++]=128|Nt&63):Nt<55296||Nt>=57344?(Xt[Qt++]=224|Nt>>12,Xt[Qt++]=128|Nt>>6&63,Xt[Qt++]=128|Nt&63):(Nt=65536+((Nt&1023)<<10|Lt.charCodeAt(++qt)&1023),Xt[Qt++]=240|Nt>>18,Xt[Qt++]=128|Nt>>12&63,Xt[Qt++]=128|Nt>>6&63,Xt[Qt++]=128|Nt&63);Lt=Xt}else if(te==="object"){if(Lt===null)throw new Error(O);if(X&&Lt.constructor===ArrayBuffer)Lt=new Uint8Array(Lt);else if(!Array.isArray(Lt)&&(!X||!ArrayBuffer.isView(Lt)))throw new Error(O)}else throw new Error(O);Lt.length>64&&(Lt=new At(Yt,!0).update(Lt).array());var ce=[],Pt=[];for(qt=0;qt<64;++qt){var de=Lt[qt]||0;ce[qt]=92^de,Pt[qt]=54^de}At.call(this,Yt,Ht),this.update(Pt),this.oKeyPad=ce,this.inner=!0,this.sharedMemory=Ht}Ct.prototype=new At,Ct.prototype.finalize=function(){if(At.prototype.finalize.call(this),this.inner){this.inner=!1;var Lt=this.array();At.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(Lt),At.prototype.finalize.call(this)}};var Ft=wt();Ft.sha256=Ft,Ft.sha224=wt(!0),Ft.sha256.hmac=Et(),Ft.sha224.hmac=Et(!0),q?D.exports=Ft:(F.sha256=Ft.sha256,F.sha224=Ft.sha224)})()})(sha256$1);var sha256Exports=sha256$1.exports;const iiifServer="https://iiif.juncture-digital.org";function sha256(D){return sha256Exports.sha256(D)}function isURL(D){return/^https*:\/\//.test(D)}function isMobile(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}async function getEntity(D,O="en"){return(await getEntityData([D],O))[D]}let entityData={};async function getEntityData(D=[],O="en"){let z=D.filter(F=>!entityData[F]).map(F=>`(<http://www.wikidata.org/entity/${F}>)`);if(z.length>0){let F=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${z.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${O}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${O}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${O}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${O}.wikipedia.org/> . }
    }`,Y=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(F)}`});if(Y.ok)return(await Y.json()).results.bindings.forEach(q=>{let X=q.item.value.split("/").pop();entityData[X]?q.alias&&entityData[X].aliases.push(q.alias.value):(entityData[X]={id:X,label:q.label.value},q.description&&(entityData[X].description=q.description.value),q.alias&&(entityData[X].aliases=[q.alias.value]),q.coords&&(entityData[X].coords=q.coords.value.slice(6,-1).split(" ").reverse().join(",")),q.wikipedia&&(entityData[X].wikipedia=q.wikipedia.value),q.pageBanner&&(entityData[X].pageBanner=q.pageBanner.value),q.image&&(entityData[X].image=q.image.value,entityData[X].thumbnail=mwImage(q.image.value,300)),q.logoImage&&(entityData[X].logoImage=q.logoImage.value,entityData[X].thumbnail||(entityData[X].thumbnail=mwImage(q.logoImage.value,300))),q.whosOnFirst&&(entityData[X].geojson=whosOnFirstUrl(q.whosOnFirst.value)))}),Object.fromEntries(D.filter(q=>entityData[q]).map(q=>[q,entityData[q]]))}return Object.fromEntries(D.filter(F=>entityData[F]).map(F=>[F,entityData[F]]))}function mwImage(D,O){D=(Array.isArray(D)?D[0]:D).replace(/Special:FilePath\//,"File:").split("File:").pop(),D=decodeURIComponent(D).replace(/ /g,"_");const z=Md5.hashStr(D),F=D.split(".").pop();let Y=`https://upload.wikimedia.org/wikipedia/commons${O?"/thumb":""}`;return Y+=`/${z.slice(0,1)}/${z.slice(0,2)}/${D}`,O&&(Y+=`/${O}px-${D}`,F==="svg"?Y+=".png":(F==="tif"||F==="tiff")&&(Y+=".jpg")),Y}function whosOnFirstUrl(D){let O=[];for(let z=0;z<D.length;z+=3)O.push(D.slice(z,z+3));return`https://data.whosonfirst.org/${O.join("/")}/${D}.geojson`}async function getManifest(D,O=!1){let z=D.indexOf("http")===0?D:`${iiifServer}/${D}/manifest.json`;return(await loadManifests([z],O))[0]}const _manifestCache={};async function loadManifests(D,O=!1){let z=D.map(Y=>Y.indexOf("http")===0?Y:`${iiifServer}/${Y}/manifest.json`),F=z.filter(Y=>!_manifestCache[Y]);if(F.length>0){let Y=F.map(X=>(O&&["localhost","iiif.juncture-digital.org"].includes(new URL(X).hostname)&&(X+="?refresh"),fetch(X))),W=await Promise.all(Y),q=await Promise.all(W.map(X=>X.json()));if(Y=q.filter(X=>!Array.isArray(X["@context"])&&parseFloat(X["@context"].split("/").slice(-2,-1).pop())<3).map(X=>fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(X)})),Y.length>0){W=await Promise.all(Y);let X=await Promise.all(W.map(tt=>tt.json()));for(let tt=0;tt<q.length;tt++){let nt=q[tt].id||q[tt]["@id"],st=X.find(ct=>(ct.id||ct["@id"])===nt);st&&(q[tt]=st)}}return q.forEach((X,tt)=>_manifestCache[F[tt]]=X),z.map(X=>_manifestCache[X])}else return z.map(Y=>_manifestCache[Y])}async function imageDataUrl(D,O,z){return new Promise(F=>{let{x:Y,y:W,w:q,h:X}=O,{width:tt,height:nt}=z,st=new Image;st.crossOrigin="anonymous",Y=Y?Y/100:0,W=W?W/100:0,q=q?q/100:0,X=X?X/100:0,st.onload=()=>{let ct=st.width,lt=st.height,ht=q>0?ct*q:ct-ct*Y,bt=X>0?lt*X:lt-lt*W,wt=ht/bt;wt>1?nt=tt/wt:tt=nt*wt;const mt=document.createElement("canvas"),_t=mt.getContext("2d");mt.width=tt,mt.height=nt,Y=Y*ct,W=W*lt,_t==null||_t.drawImage(st,Y,W,ht,bt,0,0,tt,nt);let Et=mt.toDataURL();F(Et)},st.src=D})}function findItem(D,O,z=1){const F=_findItems(D,O);return F.length>=z?F[z-1]:null}function _findItems(D,O,z=[]){if(z=z||[],O.items)for(let F=0;F<O.items.length;F++){let Y=O.items[F];!Object.entries(D).find(([q,X])=>Y[q]&&Y[q]!==X)?z.push(Y):_findItems(D,Y,z)}return z}function getItemInfo(D,O=1){return findItem({type:"Annotation",motivation:"painting"},D,O).body}function parseImageOptions(D){let O=(D==null?void 0:D.split("/"))||[],z="full",F="full",Y="0",W="default",q="jpg",X=0;return{region:O.length>X&&O[X]?O[X]:z,size:O.length>X+1&&O[X+1]?O[X+1]:F,rotation:O.length>X+2&&O[X+2]?O[X+2]:Y,quality:O.length>X+3&&O[X+3]?O[X+3]:W,format:O.length>X+4&&O[X+4]?O[X+4]:q}}function kebabToCamel(D){return D.replace(/-([a-z])/g,function(O){return O[1].toUpperCase()})}function isNum(D){return D&&!isNaN(D)}function isQID(D){return D[0]==="Q"&&isNum(D.slice(1))}function _value(D,O="en"){return typeof D=="object"?D[O]||D.none||D[Object.keys(D).sort()[0]]:D}function label(D,O="en"){return D?_value(D.label,O):null}function getMetadata(D,O="en"){let z=[];return D.metadata&&D.metadata.forEach(F=>{z.push({label:_value(F.label,O)[0],value:_value(F.value,O)})}),z}function metadataAsObj(D,O="en"){return Object.fromEntries(getMetadata(D,O).map(z=>[z.label,z.value]))}function observeNavbar(D,O){const z=()=>{let Y=parseInt(D.style.top.replace(/^-/,"").replace(/px$/,""))||0,q=(parseInt(D.style.height.replace(/px$/,""))||D.clientHeight)-Y;O.style.top=`${q}px`};z(),new MutationObserver(z).observe(D,{attributes:!0})}function makeSticky(D){var z;D.classList.add("sticky"),D.style.position="sticky";let O=document.querySelector('ve-navbar[sticky="true"]');if(O)observeNavbar(O,D);else{let F=document.querySelector("ve-header[sticky]");F?(O=(z=F==null?void 0:F.shadowRoot)==null?void 0:z.querySelector("ve-navbar"),O?observeNavbar(O,D):new MutationObserver(()=>{var W;O=(W=F==null?void 0:F.shadowRoot)==null?void 0:W.querySelector("ve-navbar"),O&&observeNavbar(O,D)}).observe(F,{childList:!0,subtree:!0,attributes:!0})):D.style.top="0"}}function imageCount(D){return _findItems({type:"Annotation",motivation:"painting"},D).length}function parseRegionString(D,O){let z;const F=D.split(":");let[Y,W,q,X]=F[F.length-1].split(",").map(nt=>parseInt(nt));const tt=O.world.getItemAt(0).getContentSize();return F.length===2&&(F[0]==="pct"||F[0]==="percent")&&(Y=Math.round(tt.x*Y/100),W=Math.round(tt.y*W/100),q=Math.round(tt.x*q/100),X=Math.round(tt.y*X/100)),z=O.viewport.imageToViewportRectangle(Y,W,q,X),z}function staticImage(D,O,z=0,F=0){let Y=getItemInfo(D),W=O.region||"full",q=O.size?O.size:z?F?`${z},${F}`:`${z},`:F?`,${F}`:"400,",X=O.rotation||"0",tt=O.quality||"default",nt=O.format||"jpg";return`${Y.service[0].id||Y.service[0]["@id"]}/${W}/${q}/${X}/${tt}.${nt}`}function thumbnail(D,O=400,z=1){if(!D)return null;let F=getItemInfo(D,z);return F.service?`${F.service[0].id||F.service[0]["@id"]}/full/${O},/0/default.jpg`:F.type==="Video"?`https://iiif.juncture-digital.org/thumbnail?url=${F.id}`:F.id}let stickyElems=[];function top$1(){return stickyElems.length>0&&stickyElems[0].localName.toLowerCase()==="ve-navbar"?parseInt(window.getComputedStyle(stickyElems[0]).height.slice(0,-2)):0}const _hoisted_1$c=["background","options","position","sticky","height","top"],_hoisted_2$9=["label","subtitle","logo","url","sticky","search-domain","search-cx","search-key","contact","height","background","alpha","offset"],_hoisted_3$7=["innerHTML"],navbarHeight=100,heroHeight=400,_sfc_main$f=defineComponent({__name:"Header.ce",props:{label:{type:String},subtitle:{type:String},logo:{type:String},url:{type:String},contact:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},entities:{type:String},sticky:{type:Boolean},background:{type:String},options:{type:String},height:{type:Number},position:{type:String}},setup(D){const O=D,z=/^\w+:/,F=ref(null),Y=computed(()=>{var bt,wt;return(wt=(bt=F.value)==null?void 0:bt.getRootNode())==null?void 0:wt.host});watch$1(Y,()=>{st.value=Y.value.querySelector("ul")});const W=ref(),q=ref([]),X=ref(),tt=ref("#444A1E"),nt=ref(),st=ref(),ct=ref(O.height||navbarHeight);onMounted(()=>{console.log("mounted"),lt()}),onUpdated(()=>lt());function lt(){q.value=O.entities?O.entities.split(/\s+/).filter(bt=>bt):[],O.background!==void 0&&(isURL(O.background)||ht(O.background))?(nt.value=O.background,ct.value=O.height||heroHeight):tt.value=O.background||"#444",O.label&&O.label!=="static"&&(W.value=O.label),O.sticky&&Y.value.classList.add("sticky")}watch$1(q,async()=>{q.value.length>0&&!X.value&&(X.value=await getEntity(q.value[0]),X.value&&(W.value=X.value.label,X.value.pageBanner&&(nt.value=`https://iiif.juncture-digital.org/wc:${decodeURIComponent(X.value.pageBanner.split("/Special:FilePath/").pop()).replace(/\s/,"_")}/manifest.json`,ct.value=heroHeight)))});function ht(bt){return z.test(bt)}return(bt,wt)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",normalizeProps(guardReactiveProps(bt.$attrs)),null,16),nt.value?(openBlock(),createElementBlock("ve-hero",{key:0,background:nt.value,options:O.options,position:O.position,sticky:O.sticky?"":null,height:ct.value,top:O.sticky?ct.value-navbarHeight:0},null,8,_hoisted_1$c)):createCommentVNode("",!0),createBaseVNode("ve-navbar",{ref_key:"navbar",ref:F,class:"sticky z-10",label:W.value,subtitle:O.subtitle,logo:O.logo,url:O.url,sticky:O.sticky?"":null,"search-domain":O.searchDomain,"search-cx":O.searchCx,"search-key":O.searchKey,contact:O.contact,height:nt.value?navbarHeight:ct.value,background:tt.value,alpha:nt.value?.2:0,offset:nt.value?navbarHeight:0},[st.value?(openBlock(),createElementBlock("ul",{key:0,innerHTML:st.value.outerHTML},null,8,_hoisted_3$7)):createCommentVNode("",!0)],8,_hoisted_2$9)],64))}}),_style_0$c=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Header=_export_sfc(_sfc_main$f,[["styles",[_style_0$c]]]);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$5=globalThis,e$9=t$5.ShadowRoot&&(t$5.ShadyCSS===void 0||t$5.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$3=Symbol(),o$8=new WeakMap;let n$6=class{constructor(O,z,F){if(this._$cssResult$=!0,F!==s$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=O,this.t=z}get styleSheet(){let O=this.o;const z=this.t;if(e$9&&O===void 0){const F=z!==void 0&&z.length===1;F&&(O=o$8.get(z)),O===void 0&&((this.o=O=new CSSStyleSheet).replaceSync(this.cssText),F&&o$8.set(z,O))}return O}toString(){return this.cssText}};const r$7=D=>new n$6(typeof D=="string"?D:D+"",void 0,s$3),i$5=(D,...O)=>{const z=D.length===1?D[0]:O.reduce((F,Y,W)=>F+(q=>{if(q._$cssResult$===!0)return q.cssText;if(typeof q=="number")return q;throw Error("Value passed to 'css' function must be a 'css' function result: "+q+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(Y)+D[W+1],D[0]);return new n$6(z,D,s$3)},S$1=(D,O)=>{if(e$9)D.adoptedStyleSheets=O.map(z=>z instanceof CSSStyleSheet?z:z.styleSheet);else for(const z of O){const F=document.createElement("style"),Y=t$5.litNonce;Y!==void 0&&F.setAttribute("nonce",Y),F.textContent=z.cssText,D.appendChild(F)}},c$3=e$9?D=>D:D=>D instanceof CSSStyleSheet?(O=>{let z="";for(const F of O.cssRules)z+=F.cssText;return r$7(z)})(D):D;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$4,defineProperty:e$8,getOwnPropertyDescriptor:r$6,getOwnPropertyNames:h$1,getOwnPropertySymbols:o$7,getPrototypeOf:n$5}=Object,a$2=globalThis,c$2=a$2.trustedTypes,l$3=c$2?c$2.emptyScript:"",p$1=a$2.reactiveElementPolyfillSupport,d$1=(D,O)=>D,u$2={toAttribute(D,O){switch(O){case Boolean:D=D?l$3:null;break;case Object:case Array:D=D==null?D:JSON.stringify(D)}return D},fromAttribute(D,O){let z=D;switch(O){case Boolean:z=D!==null;break;case Number:z=D===null?null:Number(D);break;case Object:case Array:try{z=JSON.parse(D)}catch{z=null}}return z}},f$3=(D,O)=>!i$4(D,O),y$2={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$3};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$2.litPropertyMetadata??(a$2.litPropertyMetadata=new WeakMap);class b extends HTMLElement{static addInitializer(O){this._$Ei(),(this.l??(this.l=[])).push(O)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(O,z=y$2){if(z.state&&(z.attribute=!1),this._$Ei(),this.elementProperties.set(O,z),!z.noAccessor){const F=Symbol(),Y=this.getPropertyDescriptor(O,F,z);Y!==void 0&&e$8(this.prototype,O,Y)}}static getPropertyDescriptor(O,z,F){const{get:Y,set:W}=r$6(this.prototype,O)??{get(){return this[z]},set(q){this[z]=q}};return{get(){return Y==null?void 0:Y.call(this)},set(q){const X=Y==null?void 0:Y.call(this);W.call(this,q),this.requestUpdate(O,X,F)},configurable:!0,enumerable:!0}}static getPropertyOptions(O){return this.elementProperties.get(O)??y$2}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const O=n$5(this);O.finalize(),O.l!==void 0&&(this.l=[...O.l]),this.elementProperties=new Map(O.elementProperties)}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const z=this.properties,F=[...h$1(z),...o$7(z)];for(const Y of F)this.createProperty(Y,z[Y])}const O=this[Symbol.metadata];if(O!==null){const z=litPropertyMetadata.get(O);if(z!==void 0)for(const[F,Y]of z)this.elementProperties.set(F,Y)}this._$Eh=new Map;for(const[z,F]of this.elementProperties){const Y=this._$Eu(z,F);Y!==void 0&&this._$Eh.set(Y,z)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(O){const z=[];if(Array.isArray(O)){const F=new Set(O.flat(1/0).reverse());for(const Y of F)z.unshift(c$3(Y))}else O!==void 0&&z.push(c$3(O));return z}static _$Eu(O,z){const F=z.attribute;return F===!1?void 0:typeof F=="string"?F:typeof O=="string"?O.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var O;this._$Eg=new Promise(z=>this.enableUpdating=z),this._$AL=new Map,this._$E_(),this.requestUpdate(),(O=this.constructor.l)==null||O.forEach(z=>z(this))}addController(O){var z;(this._$ES??(this._$ES=[])).push(O),this.renderRoot!==void 0&&this.isConnected&&((z=O.hostConnected)==null||z.call(O))}removeController(O){var z;(z=this._$ES)==null||z.splice(this._$ES.indexOf(O)>>>0,1)}_$E_(){const O=new Map,z=this.constructor.elementProperties;for(const F of z.keys())this.hasOwnProperty(F)&&(O.set(F,this[F]),delete this[F]);O.size>0&&(this._$Ep=O)}createRenderRoot(){const O=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(O,this.constructor.elementStyles),O}connectedCallback(){var O;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(O=this._$ES)==null||O.forEach(z=>{var F;return(F=z.hostConnected)==null?void 0:F.call(z)})}enableUpdating(O){}disconnectedCallback(){var O;(O=this._$ES)==null||O.forEach(z=>{var F;return(F=z.hostDisconnected)==null?void 0:F.call(z)})}attributeChangedCallback(O,z,F){this._$AK(O,F)}_$EO(O,z){var W;const F=this.constructor.elementProperties.get(O),Y=this.constructor._$Eu(O,F);if(Y!==void 0&&F.reflect===!0){const q=(((W=F.converter)==null?void 0:W.toAttribute)!==void 0?F.converter:u$2).toAttribute(z,F.type);this._$Em=O,q==null?this.removeAttribute(Y):this.setAttribute(Y,q),this._$Em=null}}_$AK(O,z){var W;const F=this.constructor,Y=F._$Eh.get(O);if(Y!==void 0&&this._$Em!==Y){const q=F.getPropertyOptions(Y),X=typeof q.converter=="function"?{fromAttribute:q.converter}:((W=q.converter)==null?void 0:W.fromAttribute)!==void 0?q.converter:u$2;this._$Em=Y,this[Y]=X.fromAttribute(z,q.type),this._$Em=null}}requestUpdate(O,z,F,Y=!1,W){if(O!==void 0){if(F??(F=this.constructor.getPropertyOptions(O)),!(F.hasChanged??f$3)(Y?W:this[O],z))return;this.C(O,z,F)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}C(O,z,F){this._$AL.has(O)||this._$AL.set(O,z),F.reflect===!0&&this._$Em!==O&&(this._$Ej??(this._$Ej=new Set)).add(O)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(z){Promise.reject(z)}const O=this.scheduleUpdate();return O!=null&&await O,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var F;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this._$Ep){for(const[W,q]of this._$Ep)this[W]=q;this._$Ep=void 0}const Y=this.constructor.elementProperties;if(Y.size>0)for(const[W,q]of Y)q.wrapped!==!0||this._$AL.has(W)||this[W]===void 0||this.C(W,this[W],q)}let O=!1;const z=this._$AL;try{O=this.shouldUpdate(z),O?(this.willUpdate(z),(F=this._$ES)==null||F.forEach(Y=>{var W;return(W=Y.hostUpdate)==null?void 0:W.call(Y)}),this.update(z)):this._$ET()}catch(Y){throw O=!1,this._$ET(),Y}O&&this._$AE(z)}willUpdate(O){}_$AE(O){var z;(z=this._$ES)==null||z.forEach(F=>{var Y;return(Y=F.hostUpdated)==null?void 0:Y.call(F)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(O)),this.updated(O)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(O){return!0}update(O){this._$Ej&&(this._$Ej=this._$Ej.forEach(z=>this._$EO(z,this[z]))),this._$ET()}updated(O){}firstUpdated(O){}}b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[d$1("elementProperties")]=new Map,b[d$1("finalized")]=new Map,p$1==null||p$1({ReactiveElement:b}),(a$2.reactiveElementVersions??(a$2.reactiveElementVersions=[])).push("2.0.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$4=globalThis,i$3=t$4.trustedTypes,s$2=i$3?i$3.createPolicy("lit-html",{createHTML:D=>D}):void 0,e$7="$lit$",h=`lit$${(Math.random()+"").slice(9)}$`,o$6="?"+h,n$4=`<${o$6}>`,r$5=document,l$2=()=>r$5.createComment(""),c$1=D=>D===null||typeof D!="object"&&typeof D!="function",a$1=Array.isArray,u$1=D=>a$1(D)||typeof(D==null?void 0:D[Symbol.iterator])=="function",d=`[ 	
\f\r]`,f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_$1=/>/g,m$1=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g=/"/g,$=/^(?:script|style|textarea|title)$/i,y$1=D=>(O,...z)=>({_$litType$:D,strings:O,values:z}),x$1=y$1(1),w$1=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),A=new WeakMap,E=r$5.createTreeWalker(r$5,129);function C(D,O){if(!Array.isArray(D)||!D.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$2!==void 0?s$2.createHTML(O):O}const P=(D,O)=>{const z=D.length-1,F=[];let Y,W=O===2?"<svg>":"",q=f$2;for(let X=0;X<z;X++){const tt=D[X];let nt,st,ct=-1,lt=0;for(;lt<tt.length&&(q.lastIndex=lt,st=q.exec(tt),st!==null);)lt=q.lastIndex,q===f$2?st[1]==="!--"?q=v:st[1]!==void 0?q=_$1:st[2]!==void 0?($.test(st[2])&&(Y=RegExp("</"+st[2],"g")),q=m$1):st[3]!==void 0&&(q=m$1):q===m$1?st[0]===">"?(q=Y??f$2,ct=-1):st[1]===void 0?ct=-2:(ct=q.lastIndex-st[2].length,nt=st[1],q=st[3]===void 0?m$1:st[3]==='"'?g:p):q===g||q===p?q=m$1:q===v||q===_$1?q=f$2:(q=m$1,Y=void 0);const ht=q===m$1&&D[X+1].startsWith("/>")?" ":"";W+=q===f$2?tt+n$4:ct>=0?(F.push(nt),tt.slice(0,ct)+e$7+tt.slice(ct)+h+ht):tt+h+(ct===-2?X:ht)}return[C(D,W+(D[z]||"<?>")+(O===2?"</svg>":"")),F]};class V{constructor({strings:O,_$litType$:z},F){let Y;this.parts=[];let W=0,q=0;const X=O.length-1,tt=this.parts,[nt,st]=P(O,z);if(this.el=V.createElement(nt,F),E.currentNode=this.el.content,z===2){const ct=this.el.content.firstChild;ct.replaceWith(...ct.childNodes)}for(;(Y=E.nextNode())!==null&&tt.length<X;){if(Y.nodeType===1){if(Y.hasAttributes())for(const ct of Y.getAttributeNames())if(ct.endsWith(e$7)){const lt=st[q++],ht=Y.getAttribute(ct).split(h),bt=/([.?@])?(.*)/.exec(lt);tt.push({type:1,index:W,name:bt[2],strings:ht,ctor:bt[1]==="."?k:bt[1]==="?"?H:bt[1]==="@"?I:R}),Y.removeAttribute(ct)}else ct.startsWith(h)&&(tt.push({type:6,index:W}),Y.removeAttribute(ct));if($.test(Y.tagName)){const ct=Y.textContent.split(h),lt=ct.length-1;if(lt>0){Y.textContent=i$3?i$3.emptyScript:"";for(let ht=0;ht<lt;ht++)Y.append(ct[ht],l$2()),E.nextNode(),tt.push({type:2,index:++W});Y.append(ct[lt],l$2())}}}else if(Y.nodeType===8)if(Y.data===o$6)tt.push({type:2,index:W});else{let ct=-1;for(;(ct=Y.data.indexOf(h,ct+1))!==-1;)tt.push({type:7,index:W}),ct+=h.length-1}W++}}static createElement(O,z){const F=r$5.createElement("template");return F.innerHTML=O,F}}function N(D,O,z=D,F){var q,X;if(O===w$1)return O;let Y=F!==void 0?(q=z._$Co)==null?void 0:q[F]:z._$Cl;const W=c$1(O)?void 0:O._$litDirective$;return(Y==null?void 0:Y.constructor)!==W&&((X=Y==null?void 0:Y._$AO)==null||X.call(Y,!1),W===void 0?Y=void 0:(Y=new W(D),Y._$AT(D,z,F)),F!==void 0?(z._$Co??(z._$Co=[]))[F]=Y:z._$Cl=Y),Y!==void 0&&(O=N(D,Y._$AS(D,O.values),Y,F)),O}class S{constructor(O,z){this._$AV=[],this._$AN=void 0,this._$AD=O,this._$AM=z}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(O){const{el:{content:z},parts:F}=this._$AD,Y=((O==null?void 0:O.creationScope)??r$5).importNode(z,!0);E.currentNode=Y;let W=E.nextNode(),q=0,X=0,tt=F[0];for(;tt!==void 0;){if(q===tt.index){let nt;tt.type===2?nt=new M(W,W.nextSibling,this,O):tt.type===1?nt=new tt.ctor(W,tt.name,tt.strings,this,O):tt.type===6&&(nt=new L$2(W,this,O)),this._$AV.push(nt),tt=F[++X]}q!==(tt==null?void 0:tt.index)&&(W=E.nextNode(),q++)}return E.currentNode=r$5,Y}p(O){let z=0;for(const F of this._$AV)F!==void 0&&(F.strings!==void 0?(F._$AI(O,F,z),z+=F.strings.length-2):F._$AI(O[z])),z++}}class M{get _$AU(){var O;return((O=this._$AM)==null?void 0:O._$AU)??this._$Cv}constructor(O,z,F,Y){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=O,this._$AB=z,this._$AM=F,this.options=Y,this._$Cv=(Y==null?void 0:Y.isConnected)??!0}get parentNode(){let O=this._$AA.parentNode;const z=this._$AM;return z!==void 0&&(O==null?void 0:O.nodeType)===11&&(O=z.parentNode),O}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(O,z=this){O=N(this,O,z),c$1(O)?O===T||O==null||O===""?(this._$AH!==T&&this._$AR(),this._$AH=T):O!==this._$AH&&O!==w$1&&this._(O):O._$litType$!==void 0?this.g(O):O.nodeType!==void 0?this.$(O):u$1(O)?this.T(O):this._(O)}k(O){return this._$AA.parentNode.insertBefore(O,this._$AB)}$(O){this._$AH!==O&&(this._$AR(),this._$AH=this.k(O))}_(O){this._$AH!==T&&c$1(this._$AH)?this._$AA.nextSibling.data=O:this.$(r$5.createTextNode(O)),this._$AH=O}g(O){var W;const{values:z,_$litType$:F}=O,Y=typeof F=="number"?this._$AC(O):(F.el===void 0&&(F.el=V.createElement(C(F.h,F.h[0]),this.options)),F);if(((W=this._$AH)==null?void 0:W._$AD)===Y)this._$AH.p(z);else{const q=new S(Y,this),X=q.u(this.options);q.p(z),this.$(X),this._$AH=q}}_$AC(O){let z=A.get(O.strings);return z===void 0&&A.set(O.strings,z=new V(O)),z}T(O){a$1(this._$AH)||(this._$AH=[],this._$AR());const z=this._$AH;let F,Y=0;for(const W of O)Y===z.length?z.push(F=new M(this.k(l$2()),this.k(l$2()),this,this.options)):F=z[Y],F._$AI(W),Y++;Y<z.length&&(this._$AR(F&&F._$AB.nextSibling,Y),z.length=Y)}_$AR(O=this._$AA.nextSibling,z){var F;for((F=this._$AP)==null?void 0:F.call(this,!1,!0,z);O&&O!==this._$AB;){const Y=O.nextSibling;O.remove(),O=Y}}setConnected(O){var z;this._$AM===void 0&&(this._$Cv=O,(z=this._$AP)==null||z.call(this,O))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(O,z,F,Y,W){this.type=1,this._$AH=T,this._$AN=void 0,this.element=O,this.name=z,this._$AM=Y,this.options=W,F.length>2||F[0]!==""||F[1]!==""?(this._$AH=Array(F.length-1).fill(new String),this.strings=F):this._$AH=T}_$AI(O,z=this,F,Y){const W=this.strings;let q=!1;if(W===void 0)O=N(this,O,z,0),q=!c$1(O)||O!==this._$AH&&O!==w$1,q&&(this._$AH=O);else{const X=O;let tt,nt;for(O=W[0],tt=0;tt<W.length-1;tt++)nt=N(this,X[F+tt],z,tt),nt===w$1&&(nt=this._$AH[tt]),q||(q=!c$1(nt)||nt!==this._$AH[tt]),nt===T?O=T:O!==T&&(O+=(nt??"")+W[tt+1]),this._$AH[tt]=nt}q&&!Y&&this.j(O)}j(O){O===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,O??"")}}class k extends R{constructor(){super(...arguments),this.type=3}j(O){this.element[this.name]=O===T?void 0:O}}class H extends R{constructor(){super(...arguments),this.type=4}j(O){this.element.toggleAttribute(this.name,!!O&&O!==T)}}class I extends R{constructor(O,z,F,Y,W){super(O,z,F,Y,W),this.type=5}_$AI(O,z=this){if((O=N(this,O,z,0)??T)===w$1)return;const F=this._$AH,Y=O===T&&F!==T||O.capture!==F.capture||O.once!==F.once||O.passive!==F.passive,W=O!==T&&(F===T||Y);Y&&this.element.removeEventListener(this.name,this,F),W&&this.element.addEventListener(this.name,this,O),this._$AH=O}handleEvent(O){var z;typeof this._$AH=="function"?this._$AH.call(((z=this.options)==null?void 0:z.host)??this.element,O):this._$AH.handleEvent(O)}}let L$2=class{constructor(O,z,F){this.element=O,this.type=6,this._$AN=void 0,this._$AM=z,this.options=F}get _$AU(){return this._$AM._$AU}_$AI(O){N(this,O)}};const Z=t$4.litHtmlPolyfillSupport;Z==null||Z(V,M),(t$4.litHtmlVersions??(t$4.litHtmlVersions=[])).push("3.0.0");const j=(D,O,z)=>{const F=(z==null?void 0:z.renderBefore)??O;let Y=F._$litPart$;if(Y===void 0){const W=(z==null?void 0:z.renderBefore)??null;F._$litPart$=Y=new M(O.insertBefore(l$2(),W),W,void 0,z??{})}return Y._$AI(D),Y};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let s$1=class extends b{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var z;const O=super.createRenderRoot();return(z=this.renderOptions).renderBefore??(z.renderBefore=O.firstChild),O}update(O){const z=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(O),this._$Do=j(z,this.renderRoot,this.renderOptions)}connectedCallback(){var O;super.connectedCallback(),(O=this._$Do)==null||O.setConnected(!0)}disconnectedCallback(){var O;super.disconnectedCallback(),(O=this._$Do)==null||O.setConnected(!1)}render(){return w$1}};var Eb;s$1._$litElement$=!0,s$1.finalized=!0,(Eb=globalThis.litElementHydrateSupport)==null||Eb.call(globalThis,{LitElement:s$1});const r$4=globalThis.litElementPolyfillSupport;r$4==null||r$4({LitElement:s$1});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.0");var component_styles_default=i$5`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,icon_styles_default=i$5`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,basePath="";function setBasePath(D){basePath=D}function getBasePath(D=""){if(!basePath){const O=[...document.getElementsByTagName("script")],z=O.find(F=>F.hasAttribute("data-shoelace"));if(z)setBasePath(z.getAttribute("data-shoelace"));else{const F=O.find(W=>/shoelace(\.min)?\.js($|\?)/.test(W.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(W.src));let Y="";F&&(Y=F.getAttribute("src")),setBasePath(Y.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")+(D?`/${D.replace(/^\//,"")}`:"")}var library={name:"default",resolver:D=>getBasePath(`assets/icons/${D}.svg`)},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16" part="svg">
      <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"></path>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:D=>D in icons?`data:image/svg+xml,${encodeURIComponent(icons[D])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(D){watchedIcons.push(D)}function unwatchIcon(D){watchedIcons=watchedIcons.filter(O=>O!==D)}function getIconLibrary(D){return registry.find(O=>O.name===D)}var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__knownSymbol=(D,O)=>{if(O=Symbol[D])return O;throw Error("Symbol."+D+" is not defined")},__defNormalProp=(D,O,z)=>O in D?__defProp(D,O,{enumerable:!0,configurable:!0,writable:!0,value:z}):D[O]=z,__spreadValues=(D,O)=>{for(var z in O||(O={}))__hasOwnProp.call(O,z)&&__defNormalProp(D,z,O[z]);if(__getOwnPropSymbols)for(var z of __getOwnPropSymbols(O))__propIsEnum.call(O,z)&&__defNormalProp(D,z,O[z]);return D},__spreadProps=(D,O)=>__defProps(D,__getOwnPropDescs(O)),__decorateClass=(D,O,z,F)=>{for(var Y=F>1?void 0:F?__getOwnPropDesc(O,z):O,W=D.length-1,q;W>=0;W--)(q=D[W])&&(Y=(F?q(O,z,Y):q(Y))||Y);return F&&Y&&__defProp(O,z,Y),Y},__await=function(D,O){this[0]=D,this[1]=O},__yieldStar=D=>{var O=D[__knownSymbol("asyncIterator")],z=!1,F,Y={};return O==null?(O=D[__knownSymbol("iterator")](),F=W=>Y[W]=q=>O[W](q)):(O=O.call(D),F=W=>Y[W]=q=>{if(z){if(z=!1,W==="throw")throw q;return q}return z=!0,{done:!1,value:new __await(new Promise(X=>{var tt=O[W](q);if(!(tt instanceof Object))throw TypeError("Object expected");X(tt)}),1)}}),Y[__knownSymbol("iterator")]=()=>Y,F("next"),"throw"in O?F("throw"):Y.throw=W=>{throw W},"return"in O&&F("return"),Y};function watch(D,O){const z=__spreadValues({waitUntilFirstUpdate:!1},O);return(F,Y)=>{const{update:W}=F,q=Array.isArray(D)?D:[D];F.update=function(X){q.forEach(tt=>{const nt=tt;if(X.has(nt)){const st=X.get(nt),ct=this[nt];st!==ct&&(!z.waitUntilFirstUpdate||this.hasUpdated)&&this[Y](st,ct)}}),W.call(this,X)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$5={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$3},r$3=(D=o$5,O,z)=>{const{kind:F,metadata:Y}=z;let W=globalThis.litPropertyMetadata.get(Y);if(W===void 0&&globalThis.litPropertyMetadata.set(Y,W=new Map),W.set(z.name,D),F==="accessor"){const{name:q}=z;return{set(X){const tt=O.get.call(this);O.set.call(this,X),this.requestUpdate(q,tt,D)},init(X){return X!==void 0&&this.C(q,void 0,D),X}}}if(F==="setter"){const{name:q}=z;return function(X){const tt=this[q];O.call(this,X),this.requestUpdate(q,tt,D)}}throw Error("Unsupported decorator location: "+F)};function n$3(D){return(O,z)=>typeof z=="object"?r$3(D,O,z):((F,Y,W)=>{const q=Y.hasOwnProperty(W);return Y.constructor.createProperty(W,q?{...F,wrapped:!0}:F),q?Object.getOwnPropertyDescriptor(Y,W):void 0})(D,O,z)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$2(D){return n$3({...D,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function t$3(D){return(O,z)=>{const F=typeof O=="function"?O:O[z];Object.assign(F,D)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$6=(D,O,z)=>(z.configurable=!0,z.enumerable=!0,Reflect.decorate&&typeof O!="object"&&Object.defineProperty(D,O,z),z);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function e$5(D,O){return(z,F,Y)=>{const W=q=>{var X;return((X=q.renderRoot)==null?void 0:X.querySelector(D))??null};if(O){const{get:q,set:X}=typeof F=="object"?z:Y??(()=>{const tt=Symbol();return{get(){return this[tt]},set(nt){this[tt]=nt}}})();return e$6(z,F,{get(){if(O){let tt=q.call(this);return tt===void 0&&(tt=W(this),X.call(this,tt)),tt}return W(this)}})}return e$6(z,F,{get(){return W(this)}})}}var ShoelaceElement=class extends s$1{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([D,O])=>{this.constructor.define(D,O)})}emit(D,O){const z=new CustomEvent(D,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},O));return this.dispatchEvent(z),z}static define(D,O=this,z={}){const F=customElements.get(D);if(!F){customElements.define(D,class extends O{},z);return}let Y=" (unknown version)",W=Y;"version"in O&&O.version&&(Y=" v"+O.version),"version"in F&&F.version&&(W=" v"+F.version),!(Y&&W&&Y===W)&&console.warn(`Attempted to register <${D}>${Y}, but <${D}>${W} has already been registered.`)}};ShoelaceElement.version="2.11.2";ShoelaceElement.dependencies={};__decorateClass([n$3()],ShoelaceElement.prototype,"dir",2);__decorateClass([n$3()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$4=(D,O)=>O===void 0?(D==null?void 0:D._$litType$)!==void 0:(D==null?void 0:D._$litType$)===O,f$1=D=>D.strings===void 0,u={},m=(D,O=u)=>D._$AH=O;var CACHEABLE_ERROR=Symbol(),RETRYABLE_ERROR=Symbol(),parser$e,iconCache=new Map,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(D,O){var z;let F;if(O!=null&&O.spriteSheet)return x$1`<svg part="svg">
        <use part="use" href="${D}"></use>
      </svg>`;try{if(F=await fetch(D,{mode:"cors"}),!F.ok)return F.status===410?CACHEABLE_ERROR:RETRYABLE_ERROR}catch{return RETRYABLE_ERROR}try{const Y=document.createElement("div");Y.innerHTML=await F.text();const W=Y.firstElementChild;if(((z=W==null?void 0:W.tagName)==null?void 0:z.toLowerCase())!=="svg")return CACHEABLE_ERROR;parser$e||(parser$e=new DOMParser);const X=parser$e.parseFromString(W.outerHTML,"text/html").body.querySelector("svg");return X?(X.part.add("svg"),document.adoptNode(X)):CACHEABLE_ERROR}catch{return CACHEABLE_ERROR}}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getIconSource(){const D=getIconLibrary(this.library);return this.name&&D?{url:D.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var D;const{url:O,fromLibrary:z}=this.getIconSource(),F=z?getIconLibrary(this.library):void 0;if(!O){this.svg=null;return}let Y=iconCache.get(O);if(Y||(Y=this.resolveIcon(O,F),iconCache.set(O,Y)),!this.initialRender)return;const W=await Y;if(W===RETRYABLE_ERROR&&iconCache.delete(O),O===this.getIconSource().url){if(e$4(W)){this.svg=W;return}switch(W){case RETRYABLE_ERROR:case CACHEABLE_ERROR:this.svg=null,this.emit("sl-error");break;default:this.svg=W.cloneNode(!0),(D=F==null?void 0:F.mutator)==null||D.call(F,this.svg),this.emit("sl-load")}}}render(){return this.svg}};SlIcon.styles=icon_styles_default;__decorateClass([r$2()],SlIcon.prototype,"svg",2);__decorateClass([n$3({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([n$3()],SlIcon.prototype,"src",2);__decorateClass([n$3()],SlIcon.prototype,"label",2);__decorateClass([n$3({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch(["name","src","library"])],SlIcon.prototype,"setIcon",1);SlIcon.define("sl-icon");const _hoisted_1$b=["src","alt"],_sfc_main$e=defineComponent({__name:"GIF.ce",props:{src:{type:String,required:!0},alt:{type:String},initiallyPaused:{type:Boolean},restartOnPlay:{type:Boolean}},setup(D){const O=D,z=ref(null),F=computed(()=>{var lt;return(lt=z==null?void 0:z.value)==null?void 0:lt.parentNode}),Y=computed(()=>{var lt;return(lt=F.value)==null?void 0:lt.querySelector("#gif")}),W=ref(!1),q=ref(!1),X=ref(),tt={buttonPlayIconID:"",buttonPauseIconID:"",buttonPlayIconHTML:"",buttonPauseIconHTML:"",inheritClasses:!0,initiallyPaused:!1,restartOnPlay:!1,langPause:"Pause animation:",langPlay:"Play animation:",langPauseAllButton:"Pause all animations",langPlayAllButton:"Play all animations",langMissingAlt:"Animated GIF."};watch$1(Y,()=>{nextTick(()=>nt())});function nt(){X.value={...tt,initiallyPaused:O.initiallyPaused,restartOnPlay:O.restartOnPlay},st()}function st(){let lt=()=>{W.value=!0;let ht;if(ht=Y.value.src.split("."),ht=ht[ht.length-1].toLowerCase(),ht=ht.substring(0,4),ht==="gif"){const bt=document.createElement("canvas");let wt=parseFloat(getComputedStyle(Y.value,null).getPropertyValue("border-left-width")),mt=parseFloat(getComputedStyle(Y.value,null).getPropertyValue("border-right-width")),_t=wt+mt,Et=Y.value.getAttribute("width");Et!==null?(bt.width=parseInt(Et),bt.setAttribute("style","width:"+Et+"px !important;")):Y.value.clientWidth==0?bt.width=Y.value.naturalWidth+.5+_t:bt.width=Y.value.clientWidth+.5+_t;const At=Y.value.naturalHeight/Y.value.naturalWidth*bt.width;if(bt.height=At+.5,bt.setAttribute("role","img"),X.value.inheritClasses===!0){let Ht=Y.value.getAttribute("class");Ht==null&&(Ht=""),bt.setAttribute("class","gifa11y-canvas "+Ht)}else bt.setAttribute("class","gifa11y-canvas");let Ct=Y.value.getAttribute("alt")||X.value.langMissingAlt;bt.setAttribute("aria-label",Ct);const Ft=Y.value.src,Lt=window.matchMedia("(prefers-reduced-motion: reduce)");!Lt||Lt.matches||Y.value.classList.contains("gifa11y-paused")||Ft.indexOf("gifa11y-paused")>-1||X.value.initiallyPaused===!0?Y.value.style.display="none":bt.style.display="none",bt.getContext("2d").drawImage(Y.value,0,0,bt.width,bt.height),Y.value.after(bt)}};Y.value.complete?lt():Y.value.addEventListener("load",()=>{W.value||nextTick(()=>lt())})}function ct(lt,ht){q.value=!q.value;const bt=Y.value.nextElementSibling;q.value?(X.value.restartOnPlay&&(Y.value.src=O.src),Y.value.style.display="block",bt.style.display="none"):(X.value.restartOnPlay&&(Y.value.src=O.src),Y.value.style.display="none",bt.style.display="block"),ht.preventDefault()}return(lt,ht)=>{const bt=resolveComponent("sl-icon");return openBlock(),createElementBlock("div",{ref_key:"root",ref:z,class:"main"},[createBaseVNode("img",{src:O.src,i:"",id:"gif",style:{width:"100%"},alt:O.alt||"Animated GIF",onClick:ht[0]||(ht[0]=wt=>ct("image",wt))},null,8,_hoisted_1$b),W.value?(openBlock(),createBlock(bt,{key:0,id:"play-button",name:q.value?"pause-circle":"play-circle","data-state":q.value?"playing":"paused",style:{"font-size":"100px"},onClick:ht[1]||(ht[1]=wt=>ct("icon",wt))},null,8,["name","data-state"])):createCommentVNode("",!0)],512)}}}),_style_0$b=`.main{position:relative}canvas.gifa11y-canvas{-o-object-fit:contain;object-fit:contain;max-width:100%}#play-button{position:absolute;top:calc(50% - 50px);left:calc(50% - 50px);color:#fff;visibility:hidden;background-color:#0006;border-radius:50%}#play-button:hover{cursor:pointer}#play-button[data-state=paused],.main:hover #play-button{visibility:visible}
`,GIF=_export_sfc(_sfc_main$e,[["styles",[_style_0$b]]]),_hoisted_1$a=["manifest"],_sfc_main$d=defineComponent({__name:"Hero.ce",props:{background:{type:String},options:{type:String},position:{type:String,default:"center"},sticky:{type:Boolean,default:!1},height:{type:Number,default:350},top:{type:Number,default:0}},setup(D){const O=D,z=ref(null),F=computed(()=>{var nt,st;return(st=(nt=z.value)==null?void 0:nt.getRootNode())==null?void 0:st.host}),Y=ref(),W=ref(),q=ref(),X=ref();watch$1(O,()=>{O.sticky&&(F.value.style.position="sticky",F.value.style.top="-320px")}),watch$1(F,()=>{W.value=parseImageOptions(O.options||""),O.background&&getManifest(O.background).then(nt=>Y.value=nt),F.value.style.height=`${O.height}px`,O.sticky&&(F.value.style.position="sticky"),O.top&&(F.value.style.top=`-${O.top}px`)}),watch$1(Y,(nt,st)=>{nt!==st&&(q.value=getItemInfo(nt))}),watch$1(q,async(nt,st)=>{nt!==st&&(X.value=nt.service?tt(nt.service[0].id||nt.service[0]["@id"],W.value):await imageDataUrl(q.value.id,W.value.region,{width:F.value.clientWidth,height:O.height}))}),watch$1(X,()=>{F.value.style.backgroundImage=`url("${X.value}")`,F.value.style.backgroundPosition=O.position});function tt(nt,st){let ct=q.value,lt=Number((ct.width/ct.height).toFixed(4)),ht=Math.min(800,F.value.clientWidth),bt=Number(ht/lt).toFixed(0),wt=`${ht},${bt}`;return`${nt.replace(/\/info.json$/,"")}/${st.region}/${wt}/${st.rotation}/${st.quality}.${st.format}`}return(nt,st)=>{var ct;return openBlock(),createElementBlock("section",{ref_key:"root",ref:z,class:"ve-hero media-item"},[createBaseVNode("ve-manifest-popup",{manifest:(ct=Y.value)==null?void 0:ct.id},null,8,_hoisted_1$a)],512)}}}),_style_0$a=`*{box-sizing:border-box}:host{display:block;position:relative;width:100%;z-index:10}.ve-hero{background-repeat:no-repeat;background-size:cover;background-position:center;z-index:8}ve-manifest-popup{position:absolute;top:12px;right:12px;visibility:hidden;opacity:0;cursor:pointer}.media-item:hover ve-manifest-popup{visibility:visible;opacity:.8;transition:all .5s ease-in}
`,Hero=_export_sfc(_sfc_main$d,[["styles",[_style_0$a]]]),_withScopeId=D=>(pushScopeId("data-v-b4ddce3a"),D=D(),popScopeId(),D),_hoisted_1$9={class:"main"},_hoisted_2$8=["src"],_hoisted_3$6=["innerHTML"],_hoisted_4$6=["innerHTML"],_hoisted_5$4=["href","innerHTML"],_hoisted_6$4={class:"links"},_hoisted_7$4={class:"detail"},_hoisted_8$4={key:0,class:"provider"},_hoisted_9$4=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_10$4={key:0,style:{display:"flex","align-items":"center"}},_hoisted_11$3=["src"],_hoisted_12$3=["href","innerHTML"],_hoisted_13$3={key:1},_hoisted_14$2=["src"],_hoisted_15$2=["href","innerHTML"],_hoisted_16$1={key:1,class:"requiredStatement"},_hoisted_17$1=["innerHTML"],_hoisted_18$1={key:2,class:"rights"},_hoisted_19$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"Reuse rights",-1)),_hoisted_20$1=["href","innerHTML"],_hoisted_21$1={key:3,class:"metadata"},_hoisted_22$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"metadata",-1)),_hoisted_23$1=["innerHTML"],_hoisted_24$1=["innerHTML"],_hoisted_25$1={key:1},_hoisted_26$1=["innerHTML"],_hoisted_27$1={key:4,class:"navDate"},_hoisted_28$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_29$1=["innerHTML"],_hoisted_30={key:5,class:"homepage"},_hoisted_31=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_32=["href","innerHTML"],_hoisted_33={key:6,class:"seeAlso"},_hoisted_34=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_35=["href","innerHTML"],_hoisted_36={key:7,class:"logo"},_hoisted_37=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_38=["href","innerHTML"],_hoisted_39={key:8,class:"imageData"},_hoisted_40=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_41=["href","innerHTML"],_hoisted_42=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_43=["innerHTML"],_hoisted_44=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_45=["innerHTML"],_hoisted_46=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_47=["innerHTML"],_sfc_main$c=defineComponent({__name:"Manifest.ce",props:{manifest:{type:String}},setup(D){const O=D,z=ref(null);computed(()=>{var ct,lt;return(lt=(ct=z.value)==null?void 0:ct.getRootNode())==null?void 0:lt.host});const F=ref(null),Y=ref(null);watch$1(F,()=>Y.value=tt(F.value));const W=computed(()=>Y.value&&st(Y.value));onMounted(()=>q());function q(){typeof O.manifest=="object"?F.value=O.manifest:getManifest(O.manifest).then(ct=>F.value=ct)}function X(ct,lt="en"){return typeof ct=="object"&&!Array.isArray(ct)?ct[lt]||ct.none||ct[Object.keys(ct).sort()[0]]:ct}function tt(ct){let lt={};if(lt.id=X(ct.id),lt.label=X(ct.label),ct.summary&&(lt.summary=X(ct.summary)),ct.rights&&(lt.rights=ct.rights),ct.thumbnail&&(lt.thumbnail=ct.thumbnail[0].id||ct.thumbnail),ct.metadata){lt.metadata=ct.metadata.map(wt=>({label:X(wt.label)[0],value:X(wt.value)}));let ht=lt.metadata.find(wt=>wt.label=="source_url");lt.sourceUrl=ht?ht.value[0]:null;let bt=lt.metadata.find(wt=>wt.label==="depicts");bt&&(lt.depicts=bt.value)}if(ct.provider&&(lt.provider=ct.provider.map(ht=>{let bt={label:X(ht.label),href:ht.id};return ht.logo&&(bt.logo={src:ht.logo[0].id}),bt})),ct.logo&&(lt.logo=ct.logo.map(ht=>{let bt={src:typeof ht=="object"?ht.id||ht["@id"]:ht};return typeof ht=="object"&&(ht.width&&(bt.width=ht.width),ht.height&&(bt.height=ht.height)),bt})),lt.imageData=getItemInfo(ct),lt.service=lt.imageData.service&&`${(lt.imageData.service[0].id||lt.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,ct.requiredStatement){let ht=ct.requiredStatement;lt.requiredStatement={label:X(ht.label),value:X(ht.value)}}return ct.homepage&&(lt.homepage={label:ct.homepage.label?X(ct.homepage.label):ct.homepage.id,href:ct.homepage.id}),ct.seeAlso&&(lt.seeAlso=ct.seeAlso.map(ht=>({label:ht.label?X(ht.label):ht.id,href:ht.id}))),lt}function nt(ct){navigator.clipboard&&navigator.clipboard.writeText(ct)}function st(ct){let lt={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const ht=function(Ct,Ft){return new Function("return `"+Ct+"`;").call(Ft)};let bt=ct.rights||"",wt="",[mt,_t,Et,At]=bt.split("/").slice(2);return mt==="creativecommons.org"?(Et=Et==="zero"?"publicdomain":Et,wt=`<img src="${ht(lt.cc.badgeTemplate,{...lt.cc,rightsCode:Et,version:At})}"/>`):mt==="rightsstatements.org"&&(wt=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${lt.rs.backgroundColor};"><img style="height:100%;" src="${ht(lt.rs.badgeTemplate,{...lt.rs,rightsCode:Et})}"/></div>`),wt}return(ct,lt)=>{var ht,bt,wt,mt,_t,Et,At,Ct,Ft,Lt,Yt,Ht,qt,te,Xt;return openBlock(),createElementBlock("div",{ref_key:"root",ref:z,class:"manifest"},[createBaseVNode("div",_hoisted_1$9,[createBaseVNode("img",{class:"thumbnail",src:(ht=Y.value)==null?void 0:ht.thumbnail},null,8,_hoisted_2$8),createBaseVNode("div",{class:"label",innerHTML:(bt=Y.value)==null?void 0:bt.label},null,8,_hoisted_3$6),(wt=Y.value)!=null&&wt.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(mt=Y.value)==null?void 0:mt.summary},null,8,_hoisted_4$6)):createCommentVNode("",!0),(_t=Y.value)!=null&&_t.rights?(openBlock(),createElementBlock("a",{key:1,href:(Et=Y.value)==null?void 0:Et.rights,innerHTML:W.value},null,8,_hoisted_5$4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$4,[createBaseVNode("img",{src:"https://juncture-digital.github.io/web-app/static/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:lt[0]||(lt[0]=Dt=>nt(F.value.id))})])]),createBaseVNode("div",_hoisted_7$4,[(At=Y.value)!=null&&At.provider?(openBlock(),createElementBlock("div",_hoisted_8$4,[_hoisted_9$4,Y.value.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_10$4,[Y.value.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:Y.value.provider[0].logo.src},null,8,_hoisted_11$3)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:Y.value.provider[0].href,innerHTML:Y.value.provider[0].label},null,8,_hoisted_12$3)])):(openBlock(),createElementBlock("ul",_hoisted_13$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Y.value.provider,(Dt,Qt)=>(openBlock(),createElementBlock("li",{key:`provider-${Qt}`},[Dt.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:Dt.logo.src},null,8,_hoisted_14$2)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:Dt.href,innerHTML:Dt.label},null,8,_hoisted_15$2)]))),128))]))])):createCommentVNode("",!0),(Ct=Y.value)!=null&&Ct.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("span",{class:"value",innerHTML:Y.value.requiredStatement.value},null,8,_hoisted_17$1)])):createCommentVNode("",!0),(Ft=Y.value)!=null&&Ft.rights?(openBlock(),createElementBlock("div",_hoisted_18$1,[_hoisted_19$1,createBaseVNode("a",{class:"value",href:Y.value.rights,innerHTML:Y.value.rights},null,8,_hoisted_20$1)])):createCommentVNode("",!0),(Lt=Y.value)!=null&&Lt.metadata?(openBlock(),createElementBlock("div",_hoisted_21$1,[_hoisted_22$1,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Y.value.metadata,(Dt,Qt)=>(openBlock(),createElementBlock("li",{key:`md-${Qt}`},[createBaseVNode("span",{class:"label",innerHTML:Dt.label},null,8,_hoisted_23$1),Dt.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"value",innerHTML:Dt.value[0]},null,8,_hoisted_24$1)):(openBlock(),createElementBlock("ul",_hoisted_25$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Dt.value,Nt=>(openBlock(),createElementBlock("li",{class:"value",innerHTML:Nt},null,8,_hoisted_26$1))),256))]))]))),128))])])):createCommentVNode("",!0),(Yt=Y.value)!=null&&Yt.navDate?(openBlock(),createElementBlock("div",_hoisted_27$1,[_hoisted_28$1,createBaseVNode("span",{class:"value",innerHTML:Y.value.navDate},null,8,_hoisted_29$1)])):createCommentVNode("",!0),(Ht=Y.value)!=null&&Ht.homepage?(openBlock(),createElementBlock("div",_hoisted_30,[_hoisted_31,createBaseVNode("a",{class:"value",href:Y.value.homepage.href,innerHTML:Y.value.homepage.label},null,8,_hoisted_32)])):createCommentVNode("",!0),(qt=Y.value)!=null&&qt.seeAlso?(openBlock(),createElementBlock("div",_hoisted_33,[_hoisted_34,createBaseVNode("a",{class:"value",href:Y.value.seeAlso[0].href,innerHTML:Y.value.seeAlso[0].label},null,8,_hoisted_35)])):createCommentVNode("",!0),(te=Y.value)!=null&&te.logo?(openBlock(),createElementBlock("div",_hoisted_36,[_hoisted_37,createBaseVNode("a",{class:"value",href:Y.value.logo[0].src,innerHTML:Y.value.logo[0].src},null,8,_hoisted_38)])):createCommentVNode("",!0),(Xt=Y.value)!=null&&Xt.imageData?(openBlock(),createElementBlock("div",_hoisted_39,[createBaseVNode("div",null,[_hoisted_40,createBaseVNode("a",{class:"value",href:Y.value.imageData.id,innerHTML:Y.value.imageData.id.split("/").pop()},null,8,_hoisted_41)]),createBaseVNode("div",null,[_hoisted_42,createBaseVNode("span",{class:"value",innerHTML:Y.value.imageData.format},null,8,_hoisted_43)]),createBaseVNode("div",null,[_hoisted_44,createBaseVNode("span",{class:"value",innerHTML:Y.value.imageData.width},null,8,_hoisted_45)]),createBaseVNode("div",null,[_hoisted_46,createBaseVNode("span",{class:"value",innerHTML:Y.value.imageData.height},null,8,_hoisted_47)])])):createCommentVNode("",!0)])],512)}}}),_style_0$9=`*[data-v-b4ddce3a]{box-sizing:border-box}.manifest[data-v-b4ddce3a]{width:100%;height:100%;overflow-y:scroll;background-color:#fff}.main[data-v-b4ddce3a],.detail[data-v-b4ddce3a]{display:flow-root;margin:6px}.main>*[data-v-b4ddce3a]{margin-bottom:6px}.detail>div[data-v-b4ddce3a]{margin-top:12px}.main .label[data-v-b4ddce3a]{font-size:1.2em;font-weight:700}.thumbnail[data-v-b4ddce3a]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-b4ddce3a]{margin-top:6px}img.iiif[data-v-b4ddce3a]{height:24px;cursor:copy}ul[data-v-b4ddce3a]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-b4ddce3a]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-b4ddce3a]:after{content:":"}.detail .value[data-v-b4ddce3a],.main .label[data-v-b4ddce3a]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-b4ddce3a]{padding-right:6px}img.logo[data-v-b4ddce3a]{height:40px}.manifest-id[data-v-b4ddce3a],.manifest-label[data-v-b4ddce3a],.summary[data-v-b4ddce3a],.provider[data-v-b4ddce3a],.rights[data-v-b4ddce3a],.service[data-v-b4ddce3a],.imageData div[data-v-b4ddce3a],.thumbnail[data-v-b4ddce3a]{display:flex;align-items:flex-start}.metadata>ul[data-v-b4ddce3a],.requiredStatement ul[data-v-b4ddce3a]{padding-left:24px}.metadata ul li[data-v-b4ddce3a],.requiredStatement ul li[data-v-b4ddce3a]{display:flex}.metadata ul ul[data-v-b4ddce3a]{padding-left:0}a[data-v-b4ddce3a]:link,a[data-v-b4ddce3a]:visited{color:#00e}
`,Manifest=_export_sfc(_sfc_main$c,[["styles",[_style_0$9]],["__scopeId","data-v-b4ddce3a"]]);var BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(D,O,z){if(Array.isArray(D)){var F=D[O];return F??(Array.isArray(z)?z[O]:z)}return D}function isType(D,O){var z={}.toString.call(D);return z.indexOf("[object")===0&&z.indexOf(O+"]")>-1}function invokeWithArgsOrReturn(D,O){return typeof D=="function"?D.apply(void 0,O):D}function debounce(D,O){if(O===0)return D;var z;return function(F){clearTimeout(z),z=setTimeout(function(){D(F)},O)}}function splitBySpaces(D){return D.split(/\s+/).filter(Boolean)}function normalizeToArray(D){return[].concat(D)}function pushIfUnique(D,O){D.indexOf(O)===-1&&D.push(O)}function unique(D){return D.filter(function(O,z){return D.indexOf(O)===z})}function getBasePlacement(D){return D.split("-")[0]}function arrayFrom(D){return[].slice.call(D)}function removeUndefinedProps(D){return Object.keys(D).reduce(function(O,z){return D[z]!==void 0&&(O[z]=D[z]),O},{})}function div(){return document.createElement("div")}function isElement$1(D){return["Element","Fragment"].some(function(O){return isType(D,O)})}function isNodeList(D){return isType(D,"NodeList")}function isMouseEvent(D){return isType(D,"MouseEvent")}function isReferenceElement(D){return!!(D&&D._tippy&&D._tippy.reference===D)}function getArrayOfElements(D){return isElement$1(D)?[D]:isNodeList(D)?arrayFrom(D):Array.isArray(D)?D:arrayFrom(document.querySelectorAll(D))}function setTransitionDuration(D,O){D.forEach(function(z){z&&(z.style.transitionDuration=O+"ms")})}function setVisibilityState(D,O){D.forEach(function(z){z&&z.setAttribute("data-state",O)})}function getOwnerDocument(D){var O,z=normalizeToArray(D),F=z[0];return F!=null&&(O=F.ownerDocument)!=null&&O.body?F.ownerDocument:document}function isCursorOutsideInteractiveBorder(D,O){var z=O.clientX,F=O.clientY;return D.every(function(Y){var W=Y.popperRect,q=Y.popperState,X=Y.props,tt=X.interactiveBorder,nt=getBasePlacement(q.placement),st=q.modifiersData.offset;if(!st)return!0;var ct=nt==="bottom"?st.top.y:0,lt=nt==="top"?st.bottom.y:0,ht=nt==="right"?st.left.x:0,bt=nt==="left"?st.right.x:0,wt=W.top-F+ct>tt,mt=F-W.bottom-lt>tt,_t=W.left-z+ht>tt,Et=z-W.right-bt>tt;return wt||mt||_t||Et})}function updateTransitionEndListener(D,O,z){var F=O+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(Y){D[F](Y,z)})}function actualContains(D,O){for(var z=O;z;){var F;if(D.contains(z))return!0;z=z.getRootNode==null||(F=z.getRootNode())==null?void 0:F.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var D=performance.now();D-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=D}function onWindowBlur(){var D=document.activeElement;if(isReferenceElement(D)){var O=D._tippy;D.blur&&!O.state.isVisible&&D.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser=typeof window<"u"&&typeof document<"u",isIE11=isBrowser?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function(O){var z=Object.keys(O);z.forEach(function(F){defaultProps[F]=O[F]})};function getExtendedPassedProps(D){var O=D.plugins||[],z=O.reduce(function(F,Y){var W=Y.name,q=Y.defaultValue;if(W){var X;F[W]=D[W]!==void 0?D[W]:(X=defaultProps[W])!=null?X:q}return F},{});return Object.assign({},D,z)}function getDataAttributeProps(D,O){var z=O?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:O}))):defaultKeys,F=z.reduce(function(Y,W){var q=(D.getAttribute("data-tippy-"+W)||"").trim();if(!q)return Y;if(W==="content")Y[W]=q;else try{Y[W]=JSON.parse(q)}catch{Y[W]=q}return Y},{});return F}function evaluateProps(D,O){var z=Object.assign({},O,{content:invokeWithArgsOrReturn(O.content,[D])},O.ignoreAttributes?{}:getDataAttributeProps(D,O.plugins));return z.aria=Object.assign({},defaultProps.aria,z.aria),z.aria={expanded:z.aria.expanded==="auto"?O.interactive:z.aria.expanded,content:z.aria.content==="auto"?O.interactive?null:"describedby":z.aria.content},z}var innerHTML=function(){return"innerHTML"};function dangerouslySetInnerHTML(D,O){D[innerHTML()]=O}function createArrowElement(D){var O=div();return D===!0?O.className=ARROW_CLASS:(O.className=SVG_ARROW_CLASS,isElement$1(D)?O.appendChild(D):dangerouslySetInnerHTML(O,D)),O}function setContent(D,O){isElement$1(O.content)?(dangerouslySetInnerHTML(D,""),D.appendChild(O.content)):typeof O.content!="function"&&(O.allowHTML?dangerouslySetInnerHTML(D,O.content):D.textContent=O.content)}function getChildren(D){var O=D.firstElementChild,z=arrayFrom(O.children);return{box:O,content:z.find(function(F){return F.classList.contains(CONTENT_CLASS)}),arrow:z.find(function(F){return F.classList.contains(ARROW_CLASS)||F.classList.contains(SVG_ARROW_CLASS)}),backdrop:z.find(function(F){return F.classList.contains(BACKDROP_CLASS)})}}function render$3(D){var O=div(),z=div();z.className=BOX_CLASS,z.setAttribute("data-state","hidden"),z.setAttribute("tabindex","-1");var F=div();F.className=CONTENT_CLASS,F.setAttribute("data-state","hidden"),setContent(F,D.props),O.appendChild(z),z.appendChild(F),Y(D.props,D.props);function Y(W,q){var X=getChildren(O),tt=X.box,nt=X.content,st=X.arrow;q.theme?tt.setAttribute("data-theme",q.theme):tt.removeAttribute("data-theme"),typeof q.animation=="string"?tt.setAttribute("data-animation",q.animation):tt.removeAttribute("data-animation"),q.inertia?tt.setAttribute("data-inertia",""):tt.removeAttribute("data-inertia"),tt.style.maxWidth=typeof q.maxWidth=="number"?q.maxWidth+"px":q.maxWidth,q.role?tt.setAttribute("role",q.role):tt.removeAttribute("role"),(W.content!==q.content||W.allowHTML!==q.allowHTML)&&setContent(nt,D.props),q.arrow?st?W.arrow!==q.arrow&&(tt.removeChild(st),tt.appendChild(createArrowElement(q.arrow))):tt.appendChild(createArrowElement(q.arrow)):st&&tt.removeChild(st)}return{popper:O,onUpdate:Y}}render$3.$$tippy=!0;var idCounter$1=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(D,O){var z=evaluateProps(D,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(O)))),F,Y,W,q=!1,X=!1,tt=!1,nt=!1,st,ct,lt,ht=[],bt=debounce(jt,z.interactiveDebounce),wt,mt=idCounter$1++,_t=null,Et=unique(z.plugins),At={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},Ct={id:mt,reference:D,popper:div(),popperInstance:_t,props:z,state:At,plugins:Et,clearDelayTimeouts:rn,setProps:zn,setContent:Bn,show:Pn,hide:jn,hideWithInteractivity:Jn,enable:Qe,disable:We,unmount:rr,destroy:sr};if(!z.render)return Ct;var Ft=z.render(Ct),Lt=Ft.popper,Yt=Ft.onUpdate;Lt.setAttribute("data-tippy-root",""),Lt.id="tippy-"+Ct.id,Ct.popper=Lt,D._tippy=Ct,Lt._tippy=Ct;var Ht=Et.map(function(on){return on.fn(Ct)}),qt=D.hasAttribute("aria-expanded");return Ye(),ve(),de(),ye("onCreate",[Ct]),z.showOnCreate&&$e(),Lt.addEventListener("mouseenter",function(){Ct.props.interactive&&Ct.state.isVisible&&Ct.clearDelayTimeouts()}),Lt.addEventListener("mouseleave",function(){Ct.props.interactive&&Ct.props.trigger.indexOf("mouseenter")>=0&&Nt().addEventListener("mousemove",bt)}),Ct;function te(){var on=Ct.props.touch;return Array.isArray(on)?on:[on,0]}function Xt(){return te()[0]==="hold"}function Dt(){var on;return!!((on=Ct.props.render)!=null&&on.$$tippy)}function Qt(){return wt||D}function Nt(){var on=Qt().parentNode;return on?getOwnerDocument(on):document}function ce(){return getChildren(Lt)}function Pt(on){return Ct.state.isMounted&&!Ct.state.isVisible||currentInput.isTouch||st&&st.type==="focus"?0:getValueAtIndexOrReturn(Ct.props.delay,on?0:1,defaultProps.delay)}function de(on){on===void 0&&(on=!1),Lt.style.pointerEvents=Ct.props.interactive&&!on?"":"none",Lt.style.zIndex=""+Ct.props.zIndex}function ye(on,ie,ne){if(ne===void 0&&(ne=!0),Ht.forEach(function(Ae){Ae[on]&&Ae[on].apply(Ae,ie)}),ne){var xe;(xe=Ct.props)[on].apply(xe,ie)}}function pe(){var on=Ct.props.aria;if(on.content){var ie="aria-"+on.content,ne=Lt.id,xe=normalizeToArray(Ct.props.triggerTarget||D);xe.forEach(function(Ae){var Ve=Ae.getAttribute(ie);if(Ct.state.isVisible)Ae.setAttribute(ie,Ve?Ve+" "+ne:ne);else{var vn=Ve&&Ve.replace(ne,"").trim();vn?Ae.setAttribute(ie,vn):Ae.removeAttribute(ie)}})}}function ve(){if(!(qt||!Ct.props.aria.expanded)){var on=normalizeToArray(Ct.props.triggerTarget||D);on.forEach(function(ie){Ct.props.interactive?ie.setAttribute("aria-expanded",Ct.state.isVisible&&ie===Qt()?"true":"false"):ie.removeAttribute("aria-expanded")})}}function Ce(){Nt().removeEventListener("mousemove",bt),mouseMoveListeners=mouseMoveListeners.filter(function(on){return on!==bt})}function De(on){if(!(currentInput.isTouch&&(tt||on.type==="mousedown"))){var ie=on.composedPath&&on.composedPath()[0]||on.target;if(!(Ct.props.interactive&&actualContains(Lt,ie))){if(normalizeToArray(Ct.props.triggerTarget||D).some(function(ne){return actualContains(ne,ie)})){if(currentInput.isTouch||Ct.state.isVisible&&Ct.props.trigger.indexOf("click")>=0)return}else ye("onClickOutside",[Ct,on]);Ct.props.hideOnClick===!0&&(Ct.clearDelayTimeouts(),Ct.hide(),X=!0,setTimeout(function(){X=!1}),Ct.state.isMounted||ze())}}}function Oe(){tt=!0}function Je(){tt=!1}function qe(){var on=Nt();on.addEventListener("mousedown",De,!0),on.addEventListener("touchend",De,TOUCH_OPTIONS),on.addEventListener("touchstart",Je,TOUCH_OPTIONS),on.addEventListener("touchmove",Oe,TOUCH_OPTIONS)}function ze(){var on=Nt();on.removeEventListener("mousedown",De,!0),on.removeEventListener("touchend",De,TOUCH_OPTIONS),on.removeEventListener("touchstart",Je,TOUCH_OPTIONS),on.removeEventListener("touchmove",Oe,TOUCH_OPTIONS)}function we(on,ie){He(on,function(){!Ct.state.isVisible&&Lt.parentNode&&Lt.parentNode.contains(Lt)&&ie()})}function Me(on,ie){He(on,ie)}function He(on,ie){var ne=ce().box;function xe(Ae){Ae.target===ne&&(updateTransitionEndListener(ne,"remove",xe),ie())}if(on===0)return ie();updateTransitionEndListener(ne,"remove",ct),updateTransitionEndListener(ne,"add",xe),ct=xe}function Le(on,ie,ne){ne===void 0&&(ne=!1);var xe=normalizeToArray(Ct.props.triggerTarget||D);xe.forEach(function(Ae){Ae.addEventListener(on,ie,ne),ht.push({node:Ae,eventType:on,handler:ie,options:ne})})}function Ye(){Xt()&&(Le("touchstart",kt,{passive:!0}),Le("touchend",$t,{passive:!0})),splitBySpaces(Ct.props.trigger).forEach(function(on){if(on!=="manual")switch(Le(on,kt),on){case"mouseenter":Le("mouseleave",$t);break;case"focus":Le(isIE11?"focusout":"blur",oe);break;case"focusin":Le("focusout",oe);break}})}function Kt(){ht.forEach(function(on){var ie=on.node,ne=on.eventType,xe=on.handler,Ae=on.options;ie.removeEventListener(ne,xe,Ae)}),ht=[]}function kt(on){var ie,ne=!1;if(!(!Ct.state.isEnabled||Vt(on)||X)){var xe=((ie=st)==null?void 0:ie.type)==="focus";st=on,wt=on.currentTarget,ve(),!Ct.state.isVisible&&isMouseEvent(on)&&mouseMoveListeners.forEach(function(Ae){return Ae(on)}),on.type==="click"&&(Ct.props.trigger.indexOf("mouseenter")<0||q)&&Ct.props.hideOnClick!==!1&&Ct.state.isVisible?ne=!0:$e(on),on.type==="click"&&(q=!ne),ne&&!xe&&Fe(on)}}function jt(on){var ie=on.target,ne=Qt().contains(ie)||Lt.contains(ie);if(!(on.type==="mousemove"&&ne)){var xe=ke().concat(Lt).map(function(Ae){var Ve,vn=Ae._tippy,Ge=(Ve=vn.popperInstance)==null?void 0:Ve.state;return Ge?{popperRect:Ae.getBoundingClientRect(),popperState:Ge,props:z}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(xe,on)&&(Ce(),Fe(on))}}function $t(on){var ie=Vt(on)||Ct.props.trigger.indexOf("click")>=0&&q;if(!ie){if(Ct.props.interactive){Ct.hideWithInteractivity(on);return}Fe(on)}}function oe(on){Ct.props.trigger.indexOf("focusin")<0&&on.target!==Qt()||Ct.props.interactive&&on.relatedTarget&&Lt.contains(on.relatedTarget)||Fe(on)}function Vt(on){return currentInput.isTouch?Xt()!==on.type.indexOf("touch")>=0:!1}function Be(){ge();var on=Ct.props,ie=on.popperOptions,ne=on.placement,xe=on.offset,Ae=on.getReferenceClientRect,Ve=on.moveTransition,vn=Dt()?getChildren(Lt).arrow:null,Ge=Ae?{getBoundingClientRect:Ae,contextElement:Ae.contextElement||Qt()}:D,Dn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function($n){var Kn=$n.state;if(Dt()){var Wn=ce(),mr=Wn.box;["placement","reference-hidden","escaped"].forEach(function(ir){ir==="placement"?mr.setAttribute("data-placement",Kn.placement):Kn.attributes.popper["data-popper-"+ir]?mr.setAttribute("data-"+ir,""):mr.removeAttribute("data-"+ir)}),Kn.attributes.popper={}}}},en=[{name:"offset",options:{offset:xe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ve}},Dn];Dt()&&vn&&en.push({name:"arrow",options:{element:vn,padding:3}}),en.push.apply(en,(ie==null?void 0:ie.modifiers)||[]),Ct.popperInstance=createPopper(Ge,Lt,Object.assign({},ie,{placement:ne,onFirstUpdate:lt,modifiers:en}))}function ge(){Ct.popperInstance&&(Ct.popperInstance.destroy(),Ct.popperInstance=null)}function Pe(){var on=Ct.props.appendTo,ie,ne=Qt();Ct.props.interactive&&on===TIPPY_DEFAULT_APPEND_TO||on==="parent"?ie=ne.parentNode:ie=invokeWithArgsOrReturn(on,[ne]),ie.contains(Lt)||ie.appendChild(Lt),Ct.state.isMounted=!0,Be()}function ke(){return arrayFrom(Lt.querySelectorAll("[data-tippy-root]"))}function $e(on){Ct.clearDelayTimeouts(),on&&ye("onTrigger",[Ct,on]),qe();var ie=Pt(!0),ne=te(),xe=ne[0],Ae=ne[1];currentInput.isTouch&&xe==="hold"&&Ae&&(ie=Ae),ie?F=setTimeout(function(){Ct.show()},ie):Ct.show()}function Fe(on){if(Ct.clearDelayTimeouts(),ye("onUntrigger",[Ct,on]),!Ct.state.isVisible){ze();return}if(!(Ct.props.trigger.indexOf("mouseenter")>=0&&Ct.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(on.type)>=0&&q)){var ie=Pt(!1);ie?Y=setTimeout(function(){Ct.state.isVisible&&Ct.hide()},ie):W=requestAnimationFrame(function(){Ct.hide()})}}function Qe(){Ct.state.isEnabled=!0}function We(){Ct.hide(),Ct.state.isEnabled=!1}function rn(){clearTimeout(F),clearTimeout(Y),cancelAnimationFrame(W)}function zn(on){if(!Ct.state.isDestroyed){ye("onBeforeUpdate",[Ct,on]),Kt();var ie=Ct.props,ne=evaluateProps(D,Object.assign({},ie,removeUndefinedProps(on),{ignoreAttributes:!0}));Ct.props=ne,Ye(),ie.interactiveDebounce!==ne.interactiveDebounce&&(Ce(),bt=debounce(jt,ne.interactiveDebounce)),ie.triggerTarget&&!ne.triggerTarget?normalizeToArray(ie.triggerTarget).forEach(function(xe){xe.removeAttribute("aria-expanded")}):ne.triggerTarget&&D.removeAttribute("aria-expanded"),ve(),de(),Yt&&Yt(ie,ne),Ct.popperInstance&&(Be(),ke().forEach(function(xe){requestAnimationFrame(xe._tippy.popperInstance.forceUpdate)})),ye("onAfterUpdate",[Ct,on])}}function Bn(on){Ct.setProps({content:on})}function Pn(){var on=Ct.state.isVisible,ie=Ct.state.isDestroyed,ne=!Ct.state.isEnabled,xe=currentInput.isTouch&&!Ct.props.touch,Ae=getValueAtIndexOrReturn(Ct.props.duration,0,defaultProps.duration);if(!(on||ie||ne||xe)&&!Qt().hasAttribute("disabled")&&(ye("onShow",[Ct],!1),Ct.props.onShow(Ct)!==!1)){if(Ct.state.isVisible=!0,Dt()&&(Lt.style.visibility="visible"),de(),qe(),Ct.state.isMounted||(Lt.style.transition="none"),Dt()){var Ve=ce(),vn=Ve.box,Ge=Ve.content;setTransitionDuration([vn,Ge],0)}lt=function(){var en;if(!(!Ct.state.isVisible||nt)){if(nt=!0,Lt.offsetHeight,Lt.style.transition=Ct.props.moveTransition,Dt()&&Ct.props.animation){var Fn=ce(),$n=Fn.box,Kn=Fn.content;setTransitionDuration([$n,Kn],Ae),setVisibilityState([$n,Kn],"visible")}pe(),ve(),pushIfUnique(mountedInstances,Ct),(en=Ct.popperInstance)==null||en.forceUpdate(),ye("onMount",[Ct]),Ct.props.animation&&Dt()&&Me(Ae,function(){Ct.state.isShown=!0,ye("onShown",[Ct])})}},Pe()}}function jn(){var on=!Ct.state.isVisible,ie=Ct.state.isDestroyed,ne=!Ct.state.isEnabled,xe=getValueAtIndexOrReturn(Ct.props.duration,1,defaultProps.duration);if(!(on||ie||ne)&&(ye("onHide",[Ct],!1),Ct.props.onHide(Ct)!==!1)){if(Ct.state.isVisible=!1,Ct.state.isShown=!1,nt=!1,q=!1,Dt()&&(Lt.style.visibility="hidden"),Ce(),ze(),de(!0),Dt()){var Ae=ce(),Ve=Ae.box,vn=Ae.content;Ct.props.animation&&(setTransitionDuration([Ve,vn],xe),setVisibilityState([Ve,vn],"hidden"))}pe(),ve(),Ct.props.animation?Dt()&&we(xe,Ct.unmount):Ct.unmount()}}function Jn(on){Nt().addEventListener("mousemove",bt),pushIfUnique(mouseMoveListeners,bt),bt(on)}function rr(){Ct.state.isVisible&&Ct.hide(),Ct.state.isMounted&&(ge(),ke().forEach(function(on){on._tippy.unmount()}),Lt.parentNode&&Lt.parentNode.removeChild(Lt),mountedInstances=mountedInstances.filter(function(on){return on!==Ct}),Ct.state.isMounted=!1,ye("onHidden",[Ct]))}function sr(){Ct.state.isDestroyed||(Ct.clearDelayTimeouts(),Ct.unmount(),Kt(),delete D._tippy,Ct.state.isDestroyed=!0,ye("onDestroy",[Ct]))}}function tippy(D,O){O===void 0&&(O={});var z=defaultProps.plugins.concat(O.plugins||[]);bindGlobalEventListeners();var F=Object.assign({},O,{plugins:z}),Y=getArrayOfElements(D),W=Y.reduce(function(q,X){var tt=X&&createTippy(X,F);return tt&&q.push(tt),q},[]);return isElement$1(D)?W[0]:W}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function(O){var z=O.state,F={popper:{position:z.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(z.elements.popper.style,F.popper),z.styles=F,z.elements.arrow&&Object.assign(z.elements.arrow.style,F.arrow)}});tippy.setDefaultProps({render:render$3});const _sfc_main$b=defineComponent({__name:"ManifestPopup.ce",props:{manifest:{type:String}},setup(D){const O=D,z=ref(null),F=computed(()=>{var Y,W;return(W=(Y=z.value)==null?void 0:Y.getRootNode())==null?void 0:W.host});return watch$1(F,()=>{tippy(F.value,{theme:"light-border",allowHTML:!0,interactive:!0,appendTo:document.body,placement:"bottom-end",arrow:!0,delay:[null,null],onShow:Y=>Y.setContent(`<div class="manifest-popup"><ve-manifest manifest="${O.manifest}"></ve-manifest></div>`)})}),(Y,W)=>{const q=resolveComponent("sl-icon");return openBlock(),createElementBlock("div",{ref_key:"root",ref:z},[createVNode(q,{id:"tippy",name:"info-circle-fill"})],512)}}}),_style_0$8=`#tippy{width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center}
`,ManifestPopup=_export_sfc(_sfc_main$b,[["styles",[_style_0$8]]]);var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(D,O){(function(z,F){F(O)})(commonjsGlobal$1,function(z){var F="1.9.4";function Y(it){var pt,St,Ut,se;for(St=1,Ut=arguments.length;St<Ut;St++){se=arguments[St];for(pt in se)it[pt]=se[pt]}return it}var W=Object.create||function(){function it(){}return function(pt){return it.prototype=pt,new it}}();function q(it,pt){var St=Array.prototype.slice;if(it.bind)return it.bind.apply(it,St.call(arguments,1));var Ut=St.call(arguments,2);return function(){return it.apply(pt,Ut.length?Ut.concat(St.call(arguments)):arguments)}}var X=0;function tt(it){return"_leaflet_id"in it||(it._leaflet_id=++X),it._leaflet_id}function nt(it,pt,St){var Ut,se,Ne,nn;return nn=function(){Ut=!1,se&&(Ne.apply(St,se),se=!1)},Ne=function(){Ut?se=arguments:(it.apply(St,arguments),setTimeout(nn,pt),Ut=!0)},Ne}function st(it,pt,St){var Ut=pt[1],se=pt[0],Ne=Ut-se;return it===Ut&&St?it:((it-se)%Ne+Ne)%Ne+se}function ct(){return!1}function lt(it,pt){if(pt===!1)return it;var St=Math.pow(10,pt===void 0?6:pt);return Math.round(it*St)/St}function ht(it){return it.trim?it.trim():it.replace(/^\s+|\s+$/g,"")}function bt(it){return ht(it).split(/\s+/)}function wt(it,pt){Object.prototype.hasOwnProperty.call(it,"options")||(it.options=it.options?W(it.options):{});for(var St in pt)it.options[St]=pt[St];return it.options}function mt(it,pt,St){var Ut=[];for(var se in it)Ut.push(encodeURIComponent(St?se.toUpperCase():se)+"="+encodeURIComponent(it[se]));return(!pt||pt.indexOf("?")===-1?"?":"&")+Ut.join("&")}var _t=/\{ *([\w_ -]+) *\}/g;function Et(it,pt){return it.replace(_t,function(St,Ut){var se=pt[Ut];if(se===void 0)throw new Error("No value provided for variable "+St);return typeof se=="function"&&(se=se(pt)),se})}var At=Array.isArray||function(it){return Object.prototype.toString.call(it)==="[object Array]"};function Ct(it,pt){for(var St=0;St<it.length;St++)if(it[St]===pt)return St;return-1}var Ft="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Lt(it){return window["webkit"+it]||window["moz"+it]||window["ms"+it]}var Yt=0;function Ht(it){var pt=+new Date,St=Math.max(0,16-(pt-Yt));return Yt=pt+St,window.setTimeout(it,St)}var qt=window.requestAnimationFrame||Lt("RequestAnimationFrame")||Ht,te=window.cancelAnimationFrame||Lt("CancelAnimationFrame")||Lt("CancelRequestAnimationFrame")||function(it){window.clearTimeout(it)};function Xt(it,pt,St){if(St&&qt===Ht)it.call(pt);else return qt.call(window,q(it,pt))}function Dt(it){it&&te.call(window,it)}var Qt={__proto__:null,extend:Y,create:W,bind:q,get lastId(){return X},stamp:tt,throttle:nt,wrapNum:st,falseFn:ct,formatNum:lt,trim:ht,splitWords:bt,setOptions:wt,getParamString:mt,template:Et,isArray:At,indexOf:Ct,emptyImageUrl:Ft,requestFn:qt,cancelFn:te,requestAnimFrame:Xt,cancelAnimFrame:Dt};function Nt(){}Nt.extend=function(it){var pt=function(){wt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},St=pt.__super__=this.prototype,Ut=W(St);Ut.constructor=pt,pt.prototype=Ut;for(var se in this)Object.prototype.hasOwnProperty.call(this,se)&&se!=="prototype"&&se!=="__super__"&&(pt[se]=this[se]);return it.statics&&Y(pt,it.statics),it.includes&&(ce(it.includes),Y.apply(null,[Ut].concat(it.includes))),Y(Ut,it),delete Ut.statics,delete Ut.includes,Ut.options&&(Ut.options=St.options?W(St.options):{},Y(Ut.options,it.options)),Ut._initHooks=[],Ut.callInitHooks=function(){if(!this._initHooksCalled){St.callInitHooks&&St.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ne=0,nn=Ut._initHooks.length;Ne<nn;Ne++)Ut._initHooks[Ne].call(this)}},pt},Nt.include=function(it){var pt=this.prototype.options;return Y(this.prototype,it),it.options&&(this.prototype.options=pt,this.mergeOptions(it.options)),this},Nt.mergeOptions=function(it){return Y(this.prototype.options,it),this},Nt.addInitHook=function(it){var pt=Array.prototype.slice.call(arguments,1),St=typeof it=="function"?it:function(){this[it].apply(this,pt)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(St),this};function ce(it){if(!(typeof L>"u"||!L||!L.Mixin)){it=At(it)?it:[it];for(var pt=0;pt<it.length;pt++)it[pt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Pt={on:function(it,pt,St){if(typeof it=="object")for(var Ut in it)this._on(Ut,it[Ut],pt);else{it=bt(it);for(var se=0,Ne=it.length;se<Ne;se++)this._on(it[se],pt,St)}return this},off:function(it,pt,St){if(!arguments.length)delete this._events;else if(typeof it=="object")for(var Ut in it)this._off(Ut,it[Ut],pt);else{it=bt(it);for(var se=arguments.length===1,Ne=0,nn=it.length;Ne<nn;Ne++)se?this._off(it[Ne]):this._off(it[Ne],pt,St)}return this},_on:function(it,pt,St,Ut){if(typeof pt!="function"){console.warn("wrong listener type: "+typeof pt);return}if(this._listens(it,pt,St)===!1){St===this&&(St=void 0);var se={fn:pt,ctx:St};Ut&&(se.once=!0),this._events=this._events||{},this._events[it]=this._events[it]||[],this._events[it].push(se)}},_off:function(it,pt,St){var Ut,se,Ne;if(this._events&&(Ut=this._events[it],!!Ut)){if(arguments.length===1){if(this._firingCount)for(se=0,Ne=Ut.length;se<Ne;se++)Ut[se].fn=ct;delete this._events[it];return}if(typeof pt!="function"){console.warn("wrong listener type: "+typeof pt);return}var nn=this._listens(it,pt,St);if(nn!==!1){var _n=Ut[nn];this._firingCount&&(_n.fn=ct,this._events[it]=Ut=Ut.slice()),Ut.splice(nn,1)}}},fire:function(it,pt,St){if(!this.listens(it,St))return this;var Ut=Y({},pt,{type:it,target:this,sourceTarget:pt&&pt.sourceTarget||this});if(this._events){var se=this._events[it];if(se){this._firingCount=this._firingCount+1||1;for(var Ne=0,nn=se.length;Ne<nn;Ne++){var _n=se[Ne],kn=_n.fn;_n.once&&this.off(it,kn,_n.ctx),kn.call(_n.ctx||this,Ut)}this._firingCount--}}return St&&this._propagateEvent(Ut),this},listens:function(it,pt,St,Ut){typeof it!="string"&&console.warn('"string" type argument expected');var se=pt;typeof pt!="function"&&(Ut=!!pt,se=void 0,St=void 0);var Ne=this._events&&this._events[it];if(Ne&&Ne.length&&this._listens(it,se,St)!==!1)return!0;if(Ut){for(var nn in this._eventParents)if(this._eventParents[nn].listens(it,pt,St,Ut))return!0}return!1},_listens:function(it,pt,St){if(!this._events)return!1;var Ut=this._events[it]||[];if(!pt)return!!Ut.length;St===this&&(St=void 0);for(var se=0,Ne=Ut.length;se<Ne;se++)if(Ut[se].fn===pt&&Ut[se].ctx===St)return se;return!1},once:function(it,pt,St){if(typeof it=="object")for(var Ut in it)this._on(Ut,it[Ut],pt,!0);else{it=bt(it);for(var se=0,Ne=it.length;se<Ne;se++)this._on(it[se],pt,St,!0)}return this},addEventParent:function(it){return this._eventParents=this._eventParents||{},this._eventParents[tt(it)]=it,this},removeEventParent:function(it){return this._eventParents&&delete this._eventParents[tt(it)],this},_propagateEvent:function(it){for(var pt in this._eventParents)this._eventParents[pt].fire(it.type,Y({layer:it.target,propagatedFrom:it.target},it),!0)}};Pt.addEventListener=Pt.on,Pt.removeEventListener=Pt.clearAllEventListeners=Pt.off,Pt.addOneTimeEventListener=Pt.once,Pt.fireEvent=Pt.fire,Pt.hasEventListeners=Pt.listens;var de=Nt.extend(Pt);function ye(it,pt,St){this.x=St?Math.round(it):it,this.y=St?Math.round(pt):pt}var pe=Math.trunc||function(it){return it>0?Math.floor(it):Math.ceil(it)};ye.prototype={clone:function(){return new ye(this.x,this.y)},add:function(it){return this.clone()._add(ve(it))},_add:function(it){return this.x+=it.x,this.y+=it.y,this},subtract:function(it){return this.clone()._subtract(ve(it))},_subtract:function(it){return this.x-=it.x,this.y-=it.y,this},divideBy:function(it){return this.clone()._divideBy(it)},_divideBy:function(it){return this.x/=it,this.y/=it,this},multiplyBy:function(it){return this.clone()._multiplyBy(it)},_multiplyBy:function(it){return this.x*=it,this.y*=it,this},scaleBy:function(it){return new ye(this.x*it.x,this.y*it.y)},unscaleBy:function(it){return new ye(this.x/it.x,this.y/it.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(it){it=ve(it);var pt=it.x-this.x,St=it.y-this.y;return Math.sqrt(pt*pt+St*St)},equals:function(it){return it=ve(it),it.x===this.x&&it.y===this.y},contains:function(it){return it=ve(it),Math.abs(it.x)<=Math.abs(this.x)&&Math.abs(it.y)<=Math.abs(this.y)},toString:function(){return"Point("+lt(this.x)+", "+lt(this.y)+")"}};function ve(it,pt,St){return it instanceof ye?it:At(it)?new ye(it[0],it[1]):it==null?it:typeof it=="object"&&"x"in it&&"y"in it?new ye(it.x,it.y):new ye(it,pt,St)}function Ce(it,pt){if(it)for(var St=pt?[it,pt]:it,Ut=0,se=St.length;Ut<se;Ut++)this.extend(St[Ut])}Ce.prototype={extend:function(it){var pt,St;if(!it)return this;if(it instanceof ye||typeof it[0]=="number"||"x"in it)pt=St=ve(it);else if(it=De(it),pt=it.min,St=it.max,!pt||!St)return this;return!this.min&&!this.max?(this.min=pt.clone(),this.max=St.clone()):(this.min.x=Math.min(pt.x,this.min.x),this.max.x=Math.max(St.x,this.max.x),this.min.y=Math.min(pt.y,this.min.y),this.max.y=Math.max(St.y,this.max.y)),this},getCenter:function(it){return ve((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,it)},getBottomLeft:function(){return ve(this.min.x,this.max.y)},getTopRight:function(){return ve(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(it){var pt,St;return typeof it[0]=="number"||it instanceof ye?it=ve(it):it=De(it),it instanceof Ce?(pt=it.min,St=it.max):pt=St=it,pt.x>=this.min.x&&St.x<=this.max.x&&pt.y>=this.min.y&&St.y<=this.max.y},intersects:function(it){it=De(it);var pt=this.min,St=this.max,Ut=it.min,se=it.max,Ne=se.x>=pt.x&&Ut.x<=St.x,nn=se.y>=pt.y&&Ut.y<=St.y;return Ne&&nn},overlaps:function(it){it=De(it);var pt=this.min,St=this.max,Ut=it.min,se=it.max,Ne=se.x>pt.x&&Ut.x<St.x,nn=se.y>pt.y&&Ut.y<St.y;return Ne&&nn},isValid:function(){return!!(this.min&&this.max)},pad:function(it){var pt=this.min,St=this.max,Ut=Math.abs(pt.x-St.x)*it,se=Math.abs(pt.y-St.y)*it;return De(ve(pt.x-Ut,pt.y-se),ve(St.x+Ut,St.y+se))},equals:function(it){return it?(it=De(it),this.min.equals(it.getTopLeft())&&this.max.equals(it.getBottomRight())):!1}};function De(it,pt){return!it||it instanceof Ce?it:new Ce(it,pt)}function Oe(it,pt){if(it)for(var St=pt?[it,pt]:it,Ut=0,se=St.length;Ut<se;Ut++)this.extend(St[Ut])}Oe.prototype={extend:function(it){var pt=this._southWest,St=this._northEast,Ut,se;if(it instanceof qe)Ut=it,se=it;else if(it instanceof Oe){if(Ut=it._southWest,se=it._northEast,!Ut||!se)return this}else return it?this.extend(ze(it)||Je(it)):this;return!pt&&!St?(this._southWest=new qe(Ut.lat,Ut.lng),this._northEast=new qe(se.lat,se.lng)):(pt.lat=Math.min(Ut.lat,pt.lat),pt.lng=Math.min(Ut.lng,pt.lng),St.lat=Math.max(se.lat,St.lat),St.lng=Math.max(se.lng,St.lng)),this},pad:function(it){var pt=this._southWest,St=this._northEast,Ut=Math.abs(pt.lat-St.lat)*it,se=Math.abs(pt.lng-St.lng)*it;return new Oe(new qe(pt.lat-Ut,pt.lng-se),new qe(St.lat+Ut,St.lng+se))},getCenter:function(){return new qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(it){typeof it[0]=="number"||it instanceof qe||"lat"in it?it=ze(it):it=Je(it);var pt=this._southWest,St=this._northEast,Ut,se;return it instanceof Oe?(Ut=it.getSouthWest(),se=it.getNorthEast()):Ut=se=it,Ut.lat>=pt.lat&&se.lat<=St.lat&&Ut.lng>=pt.lng&&se.lng<=St.lng},intersects:function(it){it=Je(it);var pt=this._southWest,St=this._northEast,Ut=it.getSouthWest(),se=it.getNorthEast(),Ne=se.lat>=pt.lat&&Ut.lat<=St.lat,nn=se.lng>=pt.lng&&Ut.lng<=St.lng;return Ne&&nn},overlaps:function(it){it=Je(it);var pt=this._southWest,St=this._northEast,Ut=it.getSouthWest(),se=it.getNorthEast(),Ne=se.lat>pt.lat&&Ut.lat<St.lat,nn=se.lng>pt.lng&&Ut.lng<St.lng;return Ne&&nn},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(it,pt){return it?(it=Je(it),this._southWest.equals(it.getSouthWest(),pt)&&this._northEast.equals(it.getNorthEast(),pt)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Je(it,pt){return it instanceof Oe?it:new Oe(it,pt)}function qe(it,pt,St){if(isNaN(it)||isNaN(pt))throw new Error("Invalid LatLng object: ("+it+", "+pt+")");this.lat=+it,this.lng=+pt,St!==void 0&&(this.alt=+St)}qe.prototype={equals:function(it,pt){if(!it)return!1;it=ze(it);var St=Math.max(Math.abs(this.lat-it.lat),Math.abs(this.lng-it.lng));return St<=(pt===void 0?1e-9:pt)},toString:function(it){return"LatLng("+lt(this.lat,it)+", "+lt(this.lng,it)+")"},distanceTo:function(it){return Me.distance(this,ze(it))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(it){var pt=180*it/40075017,St=pt/Math.cos(Math.PI/180*this.lat);return Je([this.lat-pt,this.lng-St],[this.lat+pt,this.lng+St])},clone:function(){return new qe(this.lat,this.lng,this.alt)}};function ze(it,pt,St){return it instanceof qe?it:At(it)&&typeof it[0]!="object"?it.length===3?new qe(it[0],it[1],it[2]):it.length===2?new qe(it[0],it[1]):null:it==null?it:typeof it=="object"&&"lat"in it?new qe(it.lat,"lng"in it?it.lng:it.lon,it.alt):pt===void 0?null:new qe(it,pt,St)}var we={latLngToPoint:function(it,pt){var St=this.projection.project(it),Ut=this.scale(pt);return this.transformation._transform(St,Ut)},pointToLatLng:function(it,pt){var St=this.scale(pt),Ut=this.transformation.untransform(it,St);return this.projection.unproject(Ut)},project:function(it){return this.projection.project(it)},unproject:function(it){return this.projection.unproject(it)},scale:function(it){return 256*Math.pow(2,it)},zoom:function(it){return Math.log(it/256)/Math.LN2},getProjectedBounds:function(it){if(this.infinite)return null;var pt=this.projection.bounds,St=this.scale(it),Ut=this.transformation.transform(pt.min,St),se=this.transformation.transform(pt.max,St);return new Ce(Ut,se)},infinite:!1,wrapLatLng:function(it){var pt=this.wrapLng?st(it.lng,this.wrapLng,!0):it.lng,St=this.wrapLat?st(it.lat,this.wrapLat,!0):it.lat,Ut=it.alt;return new qe(St,pt,Ut)},wrapLatLngBounds:function(it){var pt=it.getCenter(),St=this.wrapLatLng(pt),Ut=pt.lat-St.lat,se=pt.lng-St.lng;if(Ut===0&&se===0)return it;var Ne=it.getSouthWest(),nn=it.getNorthEast(),_n=new qe(Ne.lat-Ut,Ne.lng-se),kn=new qe(nn.lat-Ut,nn.lng-se);return new Oe(_n,kn)}},Me=Y({},we,{wrapLng:[-180,180],R:6371e3,distance:function(it,pt){var St=Math.PI/180,Ut=it.lat*St,se=pt.lat*St,Ne=Math.sin((pt.lat-it.lat)*St/2),nn=Math.sin((pt.lng-it.lng)*St/2),_n=Ne*Ne+Math.cos(Ut)*Math.cos(se)*nn*nn,kn=2*Math.atan2(Math.sqrt(_n),Math.sqrt(1-_n));return this.R*kn}}),He=6378137,Le={R:He,MAX_LATITUDE:85.0511287798,project:function(it){var pt=Math.PI/180,St=this.MAX_LATITUDE,Ut=Math.max(Math.min(St,it.lat),-St),se=Math.sin(Ut*pt);return new ye(this.R*it.lng*pt,this.R*Math.log((1+se)/(1-se))/2)},unproject:function(it){var pt=180/Math.PI;return new qe((2*Math.atan(Math.exp(it.y/this.R))-Math.PI/2)*pt,it.x*pt/this.R)},bounds:function(){var it=He*Math.PI;return new Ce([-it,-it],[it,it])}()};function Ye(it,pt,St,Ut){if(At(it)){this._a=it[0],this._b=it[1],this._c=it[2],this._d=it[3];return}this._a=it,this._b=pt,this._c=St,this._d=Ut}Ye.prototype={transform:function(it,pt){return this._transform(it.clone(),pt)},_transform:function(it,pt){return pt=pt||1,it.x=pt*(this._a*it.x+this._b),it.y=pt*(this._c*it.y+this._d),it},untransform:function(it,pt){return pt=pt||1,new ye((it.x/pt-this._b)/this._a,(it.y/pt-this._d)/this._c)}};function Kt(it,pt,St,Ut){return new Ye(it,pt,St,Ut)}var kt=Y({},Me,{code:"EPSG:3857",projection:Le,transformation:function(){var it=.5/(Math.PI*Le.R);return Kt(it,.5,-it,.5)}()}),jt=Y({},kt,{code:"EPSG:900913"});function $t(it){return document.createElementNS("http://www.w3.org/2000/svg",it)}function oe(it,pt){var St="",Ut,se,Ne,nn,_n,kn;for(Ut=0,Ne=it.length;Ut<Ne;Ut++){for(_n=it[Ut],se=0,nn=_n.length;se<nn;se++)kn=_n[se],St+=(se?"L":"M")+kn.x+" "+kn.y;St+=pt?tr.svg?"z":"x":""}return St||"M0 0"}var Vt=document.documentElement.style,Be="ActiveXObject"in window,ge=Be&&!document.addEventListener,Pe="msLaunchUri"in navigator&&!("documentMode"in document),ke=xo("webkit"),$e=xo("android"),Fe=xo("android 2")||xo("android 3"),Qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),We=$e&&xo("Google")&&Qe<537&&!("AudioNode"in window),rn=!!window.opera,zn=!Pe&&xo("chrome"),Bn=xo("gecko")&&!ke&&!rn&&!Be,Pn=!zn&&xo("safari"),jn=xo("phantom"),Jn="OTransition"in Vt,rr=navigator.platform.indexOf("Win")===0,sr=Be&&"transition"in Vt,on="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fe,ie="MozPerspective"in Vt,ne=!window.L_DISABLE_3D&&(sr||on||ie)&&!Jn&&!jn,xe=typeof orientation<"u"||xo("mobile"),Ae=xe&&ke,Ve=xe&&on,vn=!window.PointerEvent&&window.MSPointerEvent,Ge=!!(window.PointerEvent||vn),Dn="ontouchstart"in window||!!window.TouchEvent,en=!window.L_NO_TOUCH&&(Dn||Ge),Fn=xe&&rn,$n=xe&&Bn,Kn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wn=function(){var it=!1;try{var pt=Object.defineProperty({},"passive",{get:function(){it=!0}});window.addEventListener("testPassiveEventSupport",ct,pt),window.removeEventListener("testPassiveEventSupport",ct,pt)}catch{}return it}(),mr=function(){return!!document.createElement("canvas").getContext}(),ir=!!(document.createElementNS&&$t("svg").createSVGRect),wr=!!ir&&function(){var it=document.createElement("div");return it.innerHTML="<svg/>",(it.firstChild&&it.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lr=!ir&&function(){try{var it=document.createElement("div");it.innerHTML='<v:shape adj="1"/>';var pt=it.firstChild;return pt.style.behavior="url(#default#VML)",pt&&typeof pt.adj=="object"}catch{return!1}}(),Dr=navigator.platform.indexOf("Mac")===0,Fo=navigator.platform.indexOf("Linux")===0;function xo(it){return navigator.userAgent.toLowerCase().indexOf(it)>=0}var tr={ie:Be,ielt9:ge,edge:Pe,webkit:ke,android:$e,android23:Fe,androidStock:We,opera:rn,chrome:zn,gecko:Bn,safari:Pn,phantom:jn,opera12:Jn,win:rr,ie3d:sr,webkit3d:on,gecko3d:ie,any3d:ne,mobile:xe,mobileWebkit:Ae,mobileWebkit3d:Ve,msPointer:vn,pointer:Ge,touch:en,touchNative:Dn,mobileOpera:Fn,mobileGecko:$n,retina:Kn,passiveEvents:Wn,canvas:mr,svg:ir,vml:Lr,inlineSvg:wr,mac:Dr,linux:Fo},Cr=tr.msPointer?"MSPointerDown":"pointerdown",go=tr.msPointer?"MSPointerMove":"pointermove",Un=tr.msPointer?"MSPointerUp":"pointerup",zi=tr.msPointer?"MSPointerCancel":"pointercancel",uo={touchstart:Cr,touchmove:go,touchend:Un,touchcancel:zi},io={touchstart:ci,touchmove:Or,touchend:Or,touchcancel:Or},sn={},En=!1;function un(it,pt,St){return pt==="touchstart"&&Er(),io[pt]?(St=io[pt].bind(this,St),it.addEventListener(uo[pt],St,!1),St):(console.warn("wrong event specified:",pt),ct)}function je(it,pt,St){if(!uo[pt]){console.warn("wrong event specified:",pt);return}it.removeEventListener(uo[pt],St,!1)}function gn(it){sn[it.pointerId]=it}function In(it){sn[it.pointerId]&&(sn[it.pointerId]=it)}function Hn(it){delete sn[it.pointerId]}function Er(){En||(document.addEventListener(Cr,gn,!0),document.addEventListener(go,In,!0),document.addEventListener(Un,Hn,!0),document.addEventListener(zi,Hn,!0),En=!0)}function Or(it,pt){if(pt.pointerType!==(pt.MSPOINTER_TYPE_MOUSE||"mouse")){pt.touches=[];for(var St in sn)pt.touches.push(sn[St]);pt.changedTouches=[pt],it(pt)}}function ci(it,pt){pt.MSPOINTER_TYPE_TOUCH&&pt.pointerType===pt.MSPOINTER_TYPE_TOUCH&&Ho(pt),Or(it,pt)}function Si(it){var pt={},St,Ut;for(Ut in it)St=it[Ut],pt[Ut]=St&&St.bind?St.bind(it):St;return it=pt,pt.type="dblclick",pt.detail=2,pt.isTrusted=!1,pt._simulated=!0,pt}var si=200;function mo(it,pt){it.addEventListener("dblclick",pt);var St=0,Ut;function se(Ne){if(Ne.detail!==1){Ut=Ne.detail;return}if(!(Ne.pointerType==="mouse"||Ne.sourceCapabilities&&!Ne.sourceCapabilities.firesTouchEvents)){var nn=ph(Ne);if(!(nn.some(function(kn){return kn instanceof HTMLLabelElement&&kn.attributes.for})&&!nn.some(function(kn){return kn instanceof HTMLInputElement||kn instanceof HTMLSelectElement}))){var _n=Date.now();_n-St<=si?(Ut++,Ut===2&&pt(Si(Ne))):Ut=1,St=_n}}}return it.addEventListener("click",se),{dblclick:pt,simDblclick:se}}function Co(it,pt){it.removeEventListener("dblclick",pt.dblclick),it.removeEventListener("click",pt.simDblclick)}var Uo=tl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_r=tl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ir=_r==="webkitTransition"||_r==="OTransition"?_r+"End":"transitionend";function $r(it){return typeof it=="string"?document.getElementById(it):it}function er(it,pt){var St=it.style[pt]||it.currentStyle&&it.currentStyle[pt];if((!St||St==="auto")&&document.defaultView){var Ut=document.defaultView.getComputedStyle(it,null);St=Ut?Ut[pt]:null}return St==="auto"?null:St}function Nr(it,pt,St){var Ut=document.createElement(it);return Ut.className=pt||"",St&&St.appendChild(Ut),Ut}function Xe(it){var pt=it.parentNode;pt&&pt.removeChild(it)}function xs(it){for(;it.firstChild;)it.removeChild(it.firstChild)}function an(it){var pt=it.parentNode;pt&&pt.lastChild!==it&&pt.appendChild(it)}function Do(it){var pt=it.parentNode;pt&&pt.firstChild!==it&&pt.insertBefore(it,pt.firstChild)}function Ka(it,pt){if(it.classList!==void 0)return it.classList.contains(pt);var St=ur(it);return St.length>0&&new RegExp("(^|\\s)"+pt+"(\\s|$)").test(St)}function ei(it,pt){if(it.classList!==void 0)for(var St=bt(pt),Ut=0,se=St.length;Ut<se;Ut++)it.classList.add(St[Ut]);else if(!Ka(it,pt)){var Ne=ur(it);oc(it,(Ne?Ne+" ":"")+pt)}}function Pr(it,pt){it.classList!==void 0?it.classList.remove(pt):oc(it,ht((" "+ur(it)+" ").replace(" "+pt+" "," ")))}function oc(it,pt){it.className.baseVal===void 0?it.className=pt:it.className.baseVal=pt}function ur(it){return it.correspondingElement&&(it=it.correspondingElement),it.className.baseVal===void 0?it.className:it.className.baseVal}function Yr(it,pt){"opacity"in it.style?it.style.opacity=pt:"filter"in it.style&&Qs(it,pt)}function Qs(it,pt){var St=!1,Ut="DXImageTransform.Microsoft.Alpha";try{St=it.filters.item(Ut)}catch{if(pt===1)return}pt=Math.round(pt*100),St?(St.Enabled=pt!==100,St.Opacity=pt):it.style.filter+=" progid:"+Ut+"(opacity="+pt+")"}function tl(it){for(var pt=document.documentElement.style,St=0;St<it.length;St++)if(it[St]in pt)return it[St];return!1}function _a(it,pt,St){var Ut=pt||new ye(0,0);it.style[Uo]=(tr.ie3d?"translate("+Ut.x+"px,"+Ut.y+"px)":"translate3d("+Ut.x+"px,"+Ut.y+"px,0)")+(St?" scale("+St+")":"")}function Mo(it,pt){it._leaflet_pos=pt,tr.any3d?_a(it,pt):(it.style.left=pt.x+"px",it.style.top=pt.y+"px")}function ai(it){return it._leaflet_pos||new ye(0,0)}var Es,Io,el;if("onselectstart"in document)Es=function(){Kr(window,"selectstart",Ho)},Io=function(){zr(window,"selectstart",Ho)};else{var Yo=tl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Es=function(){if(Yo){var it=document.documentElement.style;el=it[Yo],it[Yo]="none"}},Io=function(){Yo&&(document.documentElement.style[Yo]=el,el=void 0)}}function wa(){Kr(window,"dragstart",Ho)}function Os(){zr(window,"dragstart",Ho)}var Pl,gl;function zl(it){for(;it.tabIndex===-1;)it=it.parentNode;it.style&&(Ps(),Pl=it,gl=it.style.outlineStyle,it.style.outlineStyle="none",Kr(window,"keydown",Ps))}function Ps(){Pl&&(Pl.style.outlineStyle=gl,Pl=void 0,gl=void 0,zr(window,"keydown",Ps))}function nu(it){do it=it.parentNode;while((!it.offsetWidth||!it.offsetHeight)&&it!==document.body);return it}function Cc(it){var pt=it.getBoundingClientRect();return{x:pt.width/it.offsetWidth||1,y:pt.height/it.offsetHeight||1,boundingClientRect:pt}}var Rl={__proto__:null,TRANSFORM:Uo,TRANSITION:_r,TRANSITION_END:Ir,get:$r,getStyle:er,create:Nr,remove:Xe,empty:xs,toFront:an,toBack:Do,hasClass:Ka,addClass:ei,removeClass:Pr,setClass:oc,getClass:ur,setOpacity:Yr,testProp:tl,setTransform:_a,setPosition:Mo,getPosition:ai,get disableTextSelection(){return Es},get enableTextSelection(){return Io},disableImageDrag:wa,enableImageDrag:Os,preventOutline:zl,restoreOutline:Ps,getSizedParentNode:nu,getScale:Cc};function Kr(it,pt,St,Ut){if(pt&&typeof pt=="object")for(var se in pt)ru(it,se,pt[se],St);else{pt=bt(pt);for(var Ne=0,nn=pt.length;Ne<nn;Ne++)ru(it,pt[Ne],St,Ut)}return this}var ja="_leaflet_events";function zr(it,pt,St,Ut){if(arguments.length===1)aa(it),delete it[ja];else if(pt&&typeof pt=="object")for(var se in pt)iu(it,se,pt[se],St);else if(pt=bt(pt),arguments.length===2)aa(it,function(_n){return Ct(pt,_n)!==-1});else for(var Ne=0,nn=pt.length;Ne<nn;Ne++)iu(it,pt[Ne],St,Ut);return this}function aa(it,pt){for(var St in it[ja]){var Ut=St.split(/\d/)[0];(!pt||pt(Ut))&&iu(it,Ut,null,null,St)}}var dh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ru(it,pt,St,Ut){var se=pt+tt(St)+(Ut?"_"+tt(Ut):"");if(it[ja]&&it[ja][se])return this;var Ne=function(_n){return St.call(Ut||it,_n||window.event)},nn=Ne;!tr.touchNative&&tr.pointer&&pt.indexOf("touch")===0?Ne=un(it,pt,Ne):tr.touch&&pt==="dblclick"?Ne=mo(it,Ne):"addEventListener"in it?pt==="touchstart"||pt==="touchmove"||pt==="wheel"||pt==="mousewheel"?it.addEventListener(dh[pt]||pt,Ne,tr.passiveEvents?{passive:!1}:!1):pt==="mouseenter"||pt==="mouseleave"?(Ne=function(_n){_n=_n||window.event,Ea(it,_n)&&nn(_n)},it.addEventListener(dh[pt],Ne,!1)):it.addEventListener(pt,nn,!1):it.attachEvent("on"+pt,Ne),it[ja]=it[ja]||{},it[ja][se]=Ne}function iu(it,pt,St,Ut,se){se=se||pt+tt(St)+(Ut?"_"+tt(Ut):"");var Ne=it[ja]&&it[ja][se];if(!Ne)return this;!tr.touchNative&&tr.pointer&&pt.indexOf("touch")===0?je(it,pt,Ne):tr.touch&&pt==="dblclick"?Co(it,Ne):"removeEventListener"in it?it.removeEventListener(dh[pt]||pt,Ne,!1):it.detachEvent("on"+pt,Ne),it[ja][se]=null}function jl(it){return it.stopPropagation?it.stopPropagation():it.originalEvent?it.originalEvent._stopped=!0:it.cancelBubble=!0,this}function fh(it){return ru(it,"wheel",jl),this}function xa(it){return Kr(it,"mousedown touchstart dblclick contextmenu",jl),it._leaflet_disable_click=!0,this}function Ho(it){return it.preventDefault?it.preventDefault():it.returnValue=!1,this}function la(it){return Ho(it),jl(it),this}function ph(it){if(it.composedPath)return it.composedPath();for(var pt=[],St=it.target;St;)pt.push(St),St=St.parentNode;return pt}function gh(it,pt){if(!pt)return new ye(it.clientX,it.clientY);var St=Cc(pt),Ut=St.boundingClientRect;return new ye((it.clientX-Ut.left)/St.x-pt.clientLeft,(it.clientY-Ut.top)/St.y-pt.clientTop)}var tf=tr.linux&&tr.chrome?window.devicePixelRatio:tr.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ba(it){return tr.edge?it.wheelDeltaY/2:it.deltaY&&it.deltaMode===0?-it.deltaY/tf:it.deltaY&&it.deltaMode===1?-it.deltaY*20:it.deltaY&&it.deltaMode===2?-it.deltaY*60:it.deltaX||it.deltaZ?0:it.wheelDelta?(it.wheelDeltaY||it.wheelDelta)/2:it.detail&&Math.abs(it.detail)<32765?-it.detail*20:it.detail?it.detail/-32765*60:0}function Ea(it,pt){var St=pt.relatedTarget;if(!St)return!0;try{for(;St&&St!==it;)St=St.parentNode}catch{return!1}return St!==it}var zs={__proto__:null,on:Kr,off:zr,stopPropagation:jl,disableScrollPropagation:fh,disableClickPropagation:xa,preventDefault:Ho,stop:la,getPropagationPath:ph,getMousePosition:gh,getWheelDelta:Ba,isExternalTarget:Ea,addListener:Kr,removeListener:zr},Pu=de.extend({run:function(it,pt,St,Ut){this.stop(),this._el=it,this._inProgress=!0,this._duration=St||.25,this._easeOutPower=1/Math.max(Ut||.5,.2),this._startPos=ai(it),this._offset=pt.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Xt(this._animate,this),this._step()},_step:function(it){var pt=+new Date-this._startTime,St=this._duration*1e3;pt<St?this._runFrame(this._easeOut(pt/St),it):(this._runFrame(1),this._complete())},_runFrame:function(it,pt){var St=this._startPos.add(this._offset.multiplyBy(it));pt&&St._round(),Mo(this._el,St),this.fire("step")},_complete:function(){Dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(it){return 1-Math.pow(1-it,this._easeOutPower)}}),mi=de.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(it,pt){pt=wt(this,pt),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(it),this._initLayout(),this._onResize=q(this._onResize,this),this._initEvents(),pt.maxBounds&&this.setMaxBounds(pt.maxBounds),pt.zoom!==void 0&&(this._zoom=this._limitZoom(pt.zoom)),pt.center&&pt.zoom!==void 0&&this.setView(ze(pt.center),pt.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_r&&tr.any3d&&!tr.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kr(this._proxy,Ir,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(it,pt,St){if(pt=pt===void 0?this._zoom:this._limitZoom(pt),it=this._limitCenter(ze(it),pt,this.options.maxBounds),St=St||{},this._stop(),this._loaded&&!St.reset&&St!==!0){St.animate!==void 0&&(St.zoom=Y({animate:St.animate},St.zoom),St.pan=Y({animate:St.animate,duration:St.duration},St.pan));var Ut=this._zoom!==pt?this._tryAnimatedZoom&&this._tryAnimatedZoom(it,pt,St.zoom):this._tryAnimatedPan(it,St.pan);if(Ut)return clearTimeout(this._sizeTimer),this}return this._resetView(it,pt,St.pan&&St.pan.noMoveStart),this},setZoom:function(it,pt){return this._loaded?this.setView(this.getCenter(),it,{zoom:pt}):(this._zoom=it,this)},zoomIn:function(it,pt){return it=it||(tr.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+it,pt)},zoomOut:function(it,pt){return it=it||(tr.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-it,pt)},setZoomAround:function(it,pt,St){var Ut=this.getZoomScale(pt),se=this.getSize().divideBy(2),Ne=it instanceof ye?it:this.latLngToContainerPoint(it),nn=Ne.subtract(se).multiplyBy(1-1/Ut),_n=this.containerPointToLatLng(se.add(nn));return this.setView(_n,pt,{zoom:St})},_getBoundsCenterZoom:function(it,pt){pt=pt||{},it=it.getBounds?it.getBounds():Je(it);var St=ve(pt.paddingTopLeft||pt.padding||[0,0]),Ut=ve(pt.paddingBottomRight||pt.padding||[0,0]),se=this.getBoundsZoom(it,!1,St.add(Ut));if(se=typeof pt.maxZoom=="number"?Math.min(pt.maxZoom,se):se,se===1/0)return{center:it.getCenter(),zoom:se};var Ne=Ut.subtract(St).divideBy(2),nn=this.project(it.getSouthWest(),se),_n=this.project(it.getNorthEast(),se),kn=this.unproject(nn.add(_n).divideBy(2).add(Ne),se);return{center:kn,zoom:se}},fitBounds:function(it,pt){if(it=Je(it),!it.isValid())throw new Error("Bounds are not valid.");var St=this._getBoundsCenterZoom(it,pt);return this.setView(St.center,St.zoom,pt)},fitWorld:function(it){return this.fitBounds([[-90,-180],[90,180]],it)},panTo:function(it,pt){return this.setView(it,this._zoom,{pan:pt})},panBy:function(it,pt){if(it=ve(it).round(),pt=pt||{},!it.x&&!it.y)return this.fire("moveend");if(pt.animate!==!0&&!this.getSize().contains(it))return this._resetView(this.unproject(this.project(this.getCenter()).add(it)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Pu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),pt.noMoveStart||this.fire("movestart"),pt.animate!==!1){ei(this._mapPane,"leaflet-pan-anim");var St=this._getMapPanePos().subtract(it).round();this._panAnim.run(this._mapPane,St,pt.duration||.25,pt.easeLinearity)}else this._rawPanBy(it),this.fire("move").fire("moveend");return this},flyTo:function(it,pt,St){if(St=St||{},St.animate===!1||!tr.any3d)return this.setView(it,pt,St);this._stop();var Ut=this.project(this.getCenter()),se=this.project(it),Ne=this.getSize(),nn=this._zoom;it=ze(it),pt=pt===void 0?nn:pt;var _n=Math.max(Ne.x,Ne.y),kn=_n*this.getZoomScale(nn,pt),Vn=se.distanceTo(Ut)||1,yr=1.42,qr=yr*yr;function vi(ss){var Sh=ss?-1:1,cp=ss?kn:_n,Wu=kn*kn-_n*_n+Sh*qr*qr*Vn*Vn,dd=2*cp*qr*Vn,Ch=Wu/dd,fd=Math.sqrt(Ch*Ch+1)-Ch,fu=fd<1e-9?-18:Math.log(fd);return fu}function ta(ss){return(Math.exp(ss)-Math.exp(-ss))/2}function os(ss){return(Math.exp(ss)+Math.exp(-ss))/2}function ea(ss){return ta(ss)/os(ss)}var ua=vi(0);function Rc(ss){return _n*(os(ua)/os(ua+yr*ss))}function lp(ss){return _n*(os(ua)*ea(ua+yr*ss)-ta(ua))/qr}function lf(ss){return 1-Math.pow(1-ss,1.5)}var hu=Date.now(),du=(vi(1)-ua)/yr,cf=St.duration?1e3*St.duration:1e3*du*.8;function cc(){var ss=(Date.now()-hu)/cf,Sh=lf(ss)*du;ss<=1?(this._flyToFrame=Xt(cc,this),this._move(this.unproject(Ut.add(se.subtract(Ut).multiplyBy(lp(Sh)/Vn)),nn),this.getScaleZoom(_n/Rc(Sh),nn),{flyTo:!0})):this._move(it,pt)._moveEnd(!0)}return this._moveStart(!0,St.noMoveStart),cc.call(this),this},flyToBounds:function(it,pt){var St=this._getBoundsCenterZoom(it,pt);return this.flyTo(St.center,St.zoom,pt)},setMaxBounds:function(it){return it=Je(it),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),it.isValid()?(this.options.maxBounds=it,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(it){var pt=this.options.minZoom;return this.options.minZoom=it,this._loaded&&pt!==it&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(it):this},setMaxZoom:function(it){var pt=this.options.maxZoom;return this.options.maxZoom=it,this._loaded&&pt!==it&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(it):this},panInsideBounds:function(it,pt){this._enforcingBounds=!0;var St=this.getCenter(),Ut=this._limitCenter(St,this._zoom,Je(it));return St.equals(Ut)||this.panTo(Ut,pt),this._enforcingBounds=!1,this},panInside:function(it,pt){pt=pt||{};var St=ve(pt.paddingTopLeft||pt.padding||[0,0]),Ut=ve(pt.paddingBottomRight||pt.padding||[0,0]),se=this.project(this.getCenter()),Ne=this.project(it),nn=this.getPixelBounds(),_n=De([nn.min.add(St),nn.max.subtract(Ut)]),kn=_n.getSize();if(!_n.contains(Ne)){this._enforcingBounds=!0;var Vn=Ne.subtract(_n.getCenter()),yr=_n.extend(Ne).getSize().subtract(kn);se.x+=Vn.x<0?-yr.x:yr.x,se.y+=Vn.y<0?-yr.y:yr.y,this.panTo(this.unproject(se),pt),this._enforcingBounds=!1}return this},invalidateSize:function(it){if(!this._loaded)return this;it=Y({animate:!1,pan:!0},it===!0?{animate:!0}:it);var pt=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var St=this.getSize(),Ut=pt.divideBy(2).round(),se=St.divideBy(2).round(),Ne=Ut.subtract(se);return!Ne.x&&!Ne.y?this:(it.animate&&it.pan?this.panBy(Ne):(it.pan&&this._rawPanBy(Ne),this.fire("move"),it.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(q(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:pt,newSize:St}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(it){if(it=this._locateOptions=Y({timeout:1e4,watch:!1},it),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var pt=q(this._handleGeolocationResponse,this),St=q(this._handleGeolocationError,this);return it.watch?this._locationWatchId=navigator.geolocation.watchPosition(pt,St,it):navigator.geolocation.getCurrentPosition(pt,St,it),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(it){if(this._container._leaflet_id){var pt=it.code,St=it.message||(pt===1?"permission denied":pt===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:pt,message:"Geolocation error: "+St+"."})}},_handleGeolocationResponse:function(it){if(this._container._leaflet_id){var pt=it.coords.latitude,St=it.coords.longitude,Ut=new qe(pt,St),se=Ut.toBounds(it.coords.accuracy*2),Ne=this._locateOptions;if(Ne.setView){var nn=this.getBoundsZoom(se);this.setView(Ut,Ne.maxZoom?Math.min(nn,Ne.maxZoom):nn)}var _n={latlng:Ut,bounds:se,timestamp:it.timestamp};for(var kn in it.coords)typeof it.coords[kn]=="number"&&(_n[kn]=it.coords[kn]);this.fire("locationfound",_n)}},addHandler:function(it,pt){if(!pt)return this;var St=this[it]=new pt(this);return this._handlers.push(St),this.options[it]&&St.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var it;for(it in this._layers)this._layers[it].remove();for(it in this._panes)Xe(this._panes[it]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(it,pt){var St="leaflet-pane"+(it?" leaflet-"+it.replace("Pane","")+"-pane":""),Ut=Nr("div",St,pt||this._mapPane);return it&&(this._panes[it]=Ut),Ut},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var it=this.getPixelBounds(),pt=this.unproject(it.getBottomLeft()),St=this.unproject(it.getTopRight());return new Oe(pt,St)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(it,pt,St){it=Je(it),St=ve(St||[0,0]);var Ut=this.getZoom()||0,se=this.getMinZoom(),Ne=this.getMaxZoom(),nn=it.getNorthWest(),_n=it.getSouthEast(),kn=this.getSize().subtract(St),Vn=De(this.project(_n,Ut),this.project(nn,Ut)).getSize(),yr=tr.any3d?this.options.zoomSnap:1,qr=kn.x/Vn.x,vi=kn.y/Vn.y,ta=pt?Math.max(qr,vi):Math.min(qr,vi);return Ut=this.getScaleZoom(ta,Ut),yr&&(Ut=Math.round(Ut/(yr/100))*(yr/100),Ut=pt?Math.ceil(Ut/yr)*yr:Math.floor(Ut/yr)*yr),Math.max(se,Math.min(Ne,Ut))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ye(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(it,pt){var St=this._getTopLeftPoint(it,pt);return new Ce(St,St.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(it){return this.options.crs.getProjectedBounds(it===void 0?this.getZoom():it)},getPane:function(it){return typeof it=="string"?this._panes[it]:it},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(it,pt){var St=this.options.crs;return pt=pt===void 0?this._zoom:pt,St.scale(it)/St.scale(pt)},getScaleZoom:function(it,pt){var St=this.options.crs;pt=pt===void 0?this._zoom:pt;var Ut=St.zoom(it*St.scale(pt));return isNaN(Ut)?1/0:Ut},project:function(it,pt){return pt=pt===void 0?this._zoom:pt,this.options.crs.latLngToPoint(ze(it),pt)},unproject:function(it,pt){return pt=pt===void 0?this._zoom:pt,this.options.crs.pointToLatLng(ve(it),pt)},layerPointToLatLng:function(it){var pt=ve(it).add(this.getPixelOrigin());return this.unproject(pt)},latLngToLayerPoint:function(it){var pt=this.project(ze(it))._round();return pt._subtract(this.getPixelOrigin())},wrapLatLng:function(it){return this.options.crs.wrapLatLng(ze(it))},wrapLatLngBounds:function(it){return this.options.crs.wrapLatLngBounds(Je(it))},distance:function(it,pt){return this.options.crs.distance(ze(it),ze(pt))},containerPointToLayerPoint:function(it){return ve(it).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(it){return ve(it).add(this._getMapPanePos())},containerPointToLatLng:function(it){var pt=this.containerPointToLayerPoint(ve(it));return this.layerPointToLatLng(pt)},latLngToContainerPoint:function(it){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ze(it)))},mouseEventToContainerPoint:function(it){return gh(it,this._container)},mouseEventToLayerPoint:function(it){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(it))},mouseEventToLatLng:function(it){return this.layerPointToLatLng(this.mouseEventToLayerPoint(it))},_initContainer:function(it){var pt=this._container=$r(it);if(pt){if(pt._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kr(pt,"scroll",this._onScroll,this),this._containerId=tt(pt)},_initLayout:function(){var it=this._container;this._fadeAnimated=this.options.fadeAnimation&&tr.any3d,ei(it,"leaflet-container"+(tr.touch?" leaflet-touch":"")+(tr.retina?" leaflet-retina":"")+(tr.ielt9?" leaflet-oldie":"")+(tr.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var pt=er(it,"position");pt!=="absolute"&&pt!=="relative"&&pt!=="fixed"&&pt!=="sticky"&&(it.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var it=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mo(this._mapPane,new ye(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ei(it.markerPane,"leaflet-zoom-hide"),ei(it.shadowPane,"leaflet-zoom-hide"))},_resetView:function(it,pt,St){Mo(this._mapPane,new ye(0,0));var Ut=!this._loaded;this._loaded=!0,pt=this._limitZoom(pt),this.fire("viewprereset");var se=this._zoom!==pt;this._moveStart(se,St)._move(it,pt)._moveEnd(se),this.fire("viewreset"),Ut&&this.fire("load")},_moveStart:function(it,pt){return it&&this.fire("zoomstart"),pt||this.fire("movestart"),this},_move:function(it,pt,St,Ut){pt===void 0&&(pt=this._zoom);var se=this._zoom!==pt;return this._zoom=pt,this._lastCenter=it,this._pixelOrigin=this._getNewPixelOrigin(it),Ut?St&&St.pinch&&this.fire("zoom",St):((se||St&&St.pinch)&&this.fire("zoom",St),this.fire("move",St)),this},_moveEnd:function(it){return it&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(it){Mo(this._mapPane,this._getMapPanePos().subtract(it))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(it){this._targets={},this._targets[tt(this._container)]=this;var pt=it?zr:Kr;pt(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&pt(window,"resize",this._onResize,this),tr.any3d&&this.options.transform3DLimit&&(it?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Dt(this._resizeRequest),this._resizeRequest=Xt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var it=this._getMapPanePos();Math.max(Math.abs(it.x),Math.abs(it.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(it,pt){for(var St=[],Ut,se=pt==="mouseout"||pt==="mouseover",Ne=it.target||it.srcElement,nn=!1;Ne;){if(Ut=this._targets[tt(Ne)],Ut&&(pt==="click"||pt==="preclick")&&this._draggableMoved(Ut)){nn=!0;break}if(Ut&&Ut.listens(pt,!0)&&(se&&!Ea(Ne,it)||(St.push(Ut),se))||Ne===this._container)break;Ne=Ne.parentNode}return!St.length&&!nn&&!se&&this.listens(pt,!0)&&(St=[this]),St},_isClickDisabled:function(it){for(;it&&it!==this._container;){if(it._leaflet_disable_click)return!0;it=it.parentNode}},_handleDOMEvent:function(it){var pt=it.target||it.srcElement;if(!(!this._loaded||pt._leaflet_disable_events||it.type==="click"&&this._isClickDisabled(pt))){var St=it.type;St==="mousedown"&&zl(pt),this._fireDOMEvent(it,St)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(it,pt,St){if(it.type==="click"){var Ut=Y({},it);Ut.type="preclick",this._fireDOMEvent(Ut,Ut.type,St)}var se=this._findEventTargets(it,pt);if(St){for(var Ne=[],nn=0;nn<St.length;nn++)St[nn].listens(pt,!0)&&Ne.push(St[nn]);se=Ne.concat(se)}if(se.length){pt==="contextmenu"&&Ho(it);var _n=se[0],kn={originalEvent:it};if(it.type!=="keypress"&&it.type!=="keydown"&&it.type!=="keyup"){var Vn=_n.getLatLng&&(!_n._radius||_n._radius<=10);kn.containerPoint=Vn?this.latLngToContainerPoint(_n.getLatLng()):this.mouseEventToContainerPoint(it),kn.layerPoint=this.containerPointToLayerPoint(kn.containerPoint),kn.latlng=Vn?_n.getLatLng():this.layerPointToLatLng(kn.layerPoint)}for(nn=0;nn<se.length;nn++)if(se[nn].fire(pt,kn,!0),kn.originalEvent._stopped||se[nn].options.bubblingMouseEvents===!1&&Ct(this._mouseEvents,pt)!==-1)return}},_draggableMoved:function(it){return it=it.dragging&&it.dragging.enabled()?it:this,it.dragging&&it.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var it=0,pt=this._handlers.length;it<pt;it++)this._handlers[it].disable()},whenReady:function(it,pt){return this._loaded?it.call(pt||this,{target:this}):this.on("load",it,pt),this},_getMapPanePos:function(){return ai(this._mapPane)||new ye(0,0)},_moved:function(){var it=this._getMapPanePos();return it&&!it.equals([0,0])},_getTopLeftPoint:function(it,pt){var St=it&&pt!==void 0?this._getNewPixelOrigin(it,pt):this.getPixelOrigin();return St.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(it,pt){var St=this.getSize()._divideBy(2);return this.project(it,pt)._subtract(St)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(it,pt,St){var Ut=this._getNewPixelOrigin(St,pt);return this.project(it,pt)._subtract(Ut)},_latLngBoundsToNewLayerBounds:function(it,pt,St){var Ut=this._getNewPixelOrigin(St,pt);return De([this.project(it.getSouthWest(),pt)._subtract(Ut),this.project(it.getNorthWest(),pt)._subtract(Ut),this.project(it.getSouthEast(),pt)._subtract(Ut),this.project(it.getNorthEast(),pt)._subtract(Ut)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(it){return this.latLngToLayerPoint(it).subtract(this._getCenterLayerPoint())},_limitCenter:function(it,pt,St){if(!St)return it;var Ut=this.project(it,pt),se=this.getSize().divideBy(2),Ne=new Ce(Ut.subtract(se),Ut.add(se)),nn=this._getBoundsOffset(Ne,St,pt);return Math.abs(nn.x)<=1&&Math.abs(nn.y)<=1?it:this.unproject(Ut.add(nn),pt)},_limitOffset:function(it,pt){if(!pt)return it;var St=this.getPixelBounds(),Ut=new Ce(St.min.add(it),St.max.add(it));return it.add(this._getBoundsOffset(Ut,pt))},_getBoundsOffset:function(it,pt,St){var Ut=De(this.project(pt.getNorthEast(),St),this.project(pt.getSouthWest(),St)),se=Ut.min.subtract(it.min),Ne=Ut.max.subtract(it.max),nn=this._rebound(se.x,-Ne.x),_n=this._rebound(se.y,-Ne.y);return new ye(nn,_n)},_rebound:function(it,pt){return it+pt>0?Math.round(it-pt)/2:Math.max(0,Math.ceil(it))-Math.max(0,Math.floor(pt))},_limitZoom:function(it){var pt=this.getMinZoom(),St=this.getMaxZoom(),Ut=tr.any3d?this.options.zoomSnap:1;return Ut&&(it=Math.round(it/Ut)*Ut),Math.max(pt,Math.min(St,it))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(it,pt){var St=this._getCenterOffset(it)._trunc();return(pt&&pt.animate)!==!0&&!this.getSize().contains(St)?!1:(this.panBy(St,pt),!0)},_createAnimProxy:function(){var it=this._proxy=Nr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(it),this.on("zoomanim",function(pt){var St=Uo,Ut=this._proxy.style[St];_a(this._proxy,this.project(pt.center,pt.zoom),this.getZoomScale(pt.zoom,1)),Ut===this._proxy.style[St]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var it=this.getCenter(),pt=this.getZoom();_a(this._proxy,this.project(it,pt),this.getZoomScale(pt,1))},_catchTransitionEnd:function(it){this._animatingZoom&&it.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(it,pt,St){if(this._animatingZoom)return!0;if(St=St||{},!this._zoomAnimated||St.animate===!1||this._nothingToAnimate()||Math.abs(pt-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Ut=this.getZoomScale(pt),se=this._getCenterOffset(it)._divideBy(1-1/Ut);return St.animate!==!0&&!this.getSize().contains(se)?!1:(Xt(function(){this._moveStart(!0,St.noMoveStart||!1)._animateZoom(it,pt,!0)},this),!0)},_animateZoom:function(it,pt,St,Ut){this._mapPane&&(St&&(this._animatingZoom=!0,this._animateToCenter=it,this._animateToZoom=pt,ei(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:it,zoom:pt,noUpdate:Ut}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(q(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zu(it,pt){return new mi(it,pt)}var Xs=Nt.extend({options:{position:"topright"},initialize:function(it){wt(this,it)},getPosition:function(){return this.options.position},setPosition:function(it){var pt=this._map;return pt&&pt.removeControl(this),this.options.position=it,pt&&pt.addControl(this),this},getContainer:function(){return this._container},addTo:function(it){this.remove(),this._map=it;var pt=this._container=this.onAdd(it),St=this.getPosition(),Ut=it._controlCorners[St];return ei(pt,"leaflet-control"),St.indexOf("bottom")!==-1?Ut.insertBefore(pt,Ut.firstChild):Ut.appendChild(pt),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(it){this._map&&it&&it.screenX>0&&it.screenY>0&&this._map.getContainer().focus()}}),kc=function(it){return new Xs(it)};mi.include({addControl:function(it){return it.addTo(this),this},removeControl:function(it){return it.remove(),this},_initControlPos:function(){var it=this._controlCorners={},pt="leaflet-",St=this._controlContainer=Nr("div",pt+"control-container",this._container);function Ut(se,Ne){var nn=pt+se+" "+pt+Ne;it[se+Ne]=Nr("div",nn,St)}Ut("top","left"),Ut("top","right"),Ut("bottom","left"),Ut("bottom","right")},_clearControlPos:function(){for(var it in this._controlCorners)Xe(this._controlCorners[it]);Xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zs=Xs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(it,pt,St,Ut){return St<Ut?-1:Ut<St?1:0}},initialize:function(it,pt,St){wt(this,St),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Ut in it)this._addLayer(it[Ut],Ut);for(Ut in pt)this._addLayer(pt[Ut],Ut,!0)},onAdd:function(it){this._initLayout(),this._update(),this._map=it,it.on("zoomend",this._checkDisabledLayers,this);for(var pt=0;pt<this._layers.length;pt++)this._layers[pt].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(it){return Xs.prototype.addTo.call(this,it),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var it=0;it<this._layers.length;it++)this._layers[it].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(it,pt){return this._addLayer(it,pt),this._map?this._update():this},addOverlay:function(it,pt){return this._addLayer(it,pt,!0),this._map?this._update():this},removeLayer:function(it){it.off("add remove",this._onLayerChange,this);var pt=this._getLayer(tt(it));return pt&&this._layers.splice(this._layers.indexOf(pt),1),this._map?this._update():this},expand:function(){ei(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var it=this._map.getSize().y-(this._container.offsetTop+50);return it<this._section.clientHeight?(ei(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=it+"px"):Pr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var it="leaflet-control-layers",pt=this._container=Nr("div",it),St=this.options.collapsed;pt.setAttribute("aria-haspopup",!0),xa(pt),fh(pt);var Ut=this._section=Nr("section",it+"-list");St&&(this._map.on("click",this.collapse,this),Kr(pt,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var se=this._layersLink=Nr("a",it+"-toggle",pt);se.href="#",se.title="Layers",se.setAttribute("role","button"),Kr(se,{keydown:function(Ne){Ne.keyCode===13&&this._expandSafely()},click:function(Ne){Ho(Ne),this._expandSafely()}},this),St||this.expand(),this._baseLayersList=Nr("div",it+"-base",Ut),this._separator=Nr("div",it+"-separator",Ut),this._overlaysList=Nr("div",it+"-overlays",Ut),pt.appendChild(Ut)},_getLayer:function(it){for(var pt=0;pt<this._layers.length;pt++)if(this._layers[pt]&&tt(this._layers[pt].layer)===it)return this._layers[pt]},_addLayer:function(it,pt,St){this._map&&it.on("add remove",this._onLayerChange,this),this._layers.push({layer:it,name:pt,overlay:St}),this.options.sortLayers&&this._layers.sort(q(function(Ut,se){return this.options.sortFunction(Ut.layer,se.layer,Ut.name,se.name)},this)),this.options.autoZIndex&&it.setZIndex&&(this._lastZIndex++,it.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xs(this._baseLayersList),xs(this._overlaysList),this._layerControlInputs=[];var it,pt,St,Ut,se=0;for(St=0;St<this._layers.length;St++)Ut=this._layers[St],this._addItem(Ut),pt=pt||Ut.overlay,it=it||!Ut.overlay,se+=Ut.overlay?0:1;return this.options.hideSingleBase&&(it=it&&se>1,this._baseLayersList.style.display=it?"":"none"),this._separator.style.display=pt&&it?"":"none",this},_onLayerChange:function(it){this._handlingClick||this._update();var pt=this._getLayer(tt(it.target)),St=pt.overlay?it.type==="add"?"overlayadd":"overlayremove":it.type==="add"?"baselayerchange":null;St&&this._map.fire(St,pt)},_createRadioElement:function(it,pt){var St='<input type="radio" class="leaflet-control-layers-selector" name="'+it+'"'+(pt?' checked="checked"':"")+"/>",Ut=document.createElement("div");return Ut.innerHTML=St,Ut.firstChild},_addItem:function(it){var pt=document.createElement("label"),St=this._map.hasLayer(it.layer),Ut;it.overlay?(Ut=document.createElement("input"),Ut.type="checkbox",Ut.className="leaflet-control-layers-selector",Ut.defaultChecked=St):Ut=this._createRadioElement("leaflet-base-layers_"+tt(this),St),this._layerControlInputs.push(Ut),Ut.layerId=tt(it.layer),Kr(Ut,"click",this._onInputClick,this);var se=document.createElement("span");se.innerHTML=" "+it.name;var Ne=document.createElement("span");pt.appendChild(Ne),Ne.appendChild(Ut),Ne.appendChild(se);var nn=it.overlay?this._overlaysList:this._baseLayersList;return nn.appendChild(pt),this._checkDisabledLayers(),pt},_onInputClick:function(){if(!this._preventClick){var it=this._layerControlInputs,pt,St,Ut=[],se=[];this._handlingClick=!0;for(var Ne=it.length-1;Ne>=0;Ne--)pt=it[Ne],St=this._getLayer(pt.layerId).layer,pt.checked?Ut.push(St):pt.checked||se.push(St);for(Ne=0;Ne<se.length;Ne++)this._map.hasLayer(se[Ne])&&this._map.removeLayer(se[Ne]);for(Ne=0;Ne<Ut.length;Ne++)this._map.hasLayer(Ut[Ne])||this._map.addLayer(Ut[Ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var it=this._layerControlInputs,pt,St,Ut=this._map.getZoom(),se=it.length-1;se>=0;se--)pt=it[se],St=this._getLayer(pt.layerId).layer,pt.disabled=St.options.minZoom!==void 0&&Ut<St.options.minZoom||St.options.maxZoom!==void 0&&Ut>St.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var it=this._section;this._preventClick=!0,Kr(it,"click",Ho),this.expand();var pt=this;setTimeout(function(){zr(it,"click",Ho),pt._preventClick=!1})}}),ml=function(it,pt,St){return new Zs(it,pt,St)},Js=Xs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(it){var pt="leaflet-control-zoom",St=Nr("div",pt+" leaflet-bar"),Ut=this.options;return this._zoomInButton=this._createButton(Ut.zoomInText,Ut.zoomInTitle,pt+"-in",St,this._zoomIn),this._zoomOutButton=this._createButton(Ut.zoomOutText,Ut.zoomOutTitle,pt+"-out",St,this._zoomOut),this._updateDisabled(),it.on("zoomend zoomlevelschange",this._updateDisabled,this),St},onRemove:function(it){it.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(it){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(it.shiftKey?3:1))},_zoomOut:function(it){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(it.shiftKey?3:1))},_createButton:function(it,pt,St,Ut,se){var Ne=Nr("a",St,Ut);return Ne.innerHTML=it,Ne.href="#",Ne.title=pt,Ne.setAttribute("role","button"),Ne.setAttribute("aria-label",pt),xa(Ne),Kr(Ne,"click",la),Kr(Ne,"click",se,this),Kr(Ne,"click",this._refocusOnMap,this),Ne},_updateDisabled:function(){var it=this._map,pt="leaflet-disabled";Pr(this._zoomInButton,pt),Pr(this._zoomOutButton,pt),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||it._zoom===it.getMinZoom())&&(ei(this._zoomOutButton,pt),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||it._zoom===it.getMaxZoom())&&(ei(this._zoomInButton,pt),this._zoomInButton.setAttribute("aria-disabled","true"))}});mi.mergeOptions({zoomControl:!0}),mi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Js,this.addControl(this.zoomControl))});var $a=function(it){return new Js(it)},Ac=Xs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(it){var pt="leaflet-control-scale",St=Nr("div",pt),Ut=this.options;return this._addScales(Ut,pt+"-line",St),it.on(Ut.updateWhenIdle?"moveend":"move",this._update,this),it.whenReady(this._update,this),St},onRemove:function(it){it.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(it,pt,St){it.metric&&(this._mScale=Nr("div",pt,St)),it.imperial&&(this._iScale=Nr("div",pt,St))},_update:function(){var it=this._map,pt=it.getSize().y/2,St=it.distance(it.containerPointToLatLng([0,pt]),it.containerPointToLatLng([this.options.maxWidth,pt]));this._updateScales(St)},_updateScales:function(it){this.options.metric&&it&&this._updateMetric(it),this.options.imperial&&it&&this._updateImperial(it)},_updateMetric:function(it){var pt=this._getRoundNum(it),St=pt<1e3?pt+" m":pt/1e3+" km";this._updateScale(this._mScale,St,pt/it)},_updateImperial:function(it){var pt=it*3.2808399,St,Ut,se;pt>5280?(St=pt/5280,Ut=this._getRoundNum(St),this._updateScale(this._iScale,Ut+" mi",Ut/St)):(se=this._getRoundNum(pt),this._updateScale(this._iScale,se+" ft",se/pt))},_updateScale:function(it,pt,St){it.style.width=Math.round(this.options.maxWidth*St)+"px",it.innerHTML=pt},_getRoundNum:function(it){var pt=Math.pow(10,(Math.floor(it)+"").length-1),St=it/pt;return St=St>=10?10:St>=5?5:St>=3?3:St>=2?2:1,pt*St}}),Ma=function(it){return new Ac(it)},mh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ru=Xs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tr.inlineSvg?mh+" ":"")+"Leaflet</a>"},initialize:function(it){wt(this,it),this._attributions={}},onAdd:function(it){it.attributionControl=this,this._container=Nr("div","leaflet-control-attribution"),xa(this._container);for(var pt in it._layers)it._layers[pt].getAttribution&&this.addAttribution(it._layers[pt].getAttribution());return this._update(),it.on("layeradd",this._addAttribution,this),this._container},onRemove:function(it){it.off("layeradd",this._addAttribution,this)},_addAttribution:function(it){it.layer.getAttribution&&(this.addAttribution(it.layer.getAttribution()),it.layer.once("remove",function(){this.removeAttribution(it.layer.getAttribution())},this))},setPrefix:function(it){return this.options.prefix=it,this._update(),this},addAttribution:function(it){return it?(this._attributions[it]||(this._attributions[it]=0),this._attributions[it]++,this._update(),this):this},removeAttribution:function(it){return it?(this._attributions[it]&&(this._attributions[it]--,this._update()),this):this},_update:function(){if(this._map){var it=[];for(var pt in this._attributions)this._attributions[pt]&&it.push(pt);var St=[];this.options.prefix&&St.push(this.options.prefix),it.length&&St.push(it.join(", ")),this._container.innerHTML=St.join(' <span aria-hidden="true">|</span> ')}}});mi.mergeOptions({attributionControl:!0}),mi.addInitHook(function(){this.options.attributionControl&&new Ru().addTo(this)});var yh=function(it){return new Ru(it)};Xs.Layers=Zs,Xs.Zoom=Js,Xs.Scale=Ac,Xs.Attribution=Ru,kc.layers=ml,kc.zoom=$a,kc.scale=Ma,kc.attribution=yh;var vo=Nt.extend({initialize:function(it){this._map=it},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vo.addTo=function(it,pt){return it.addHandler(pt,this),this};var ju={Events:Pt},nl=tr.touch?"touchstart mousedown":"mousedown",ko=de.extend({options:{clickTolerance:3},initialize:function(it,pt,St,Ut){wt(this,Ut),this._element=it,this._dragStartTarget=pt||it,this._preventOutline=St},enable:function(){this._enabled||(Kr(this._dragStartTarget,nl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ko._dragging===this&&this.finishDrag(!0),zr(this._dragStartTarget,nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(it){if(this._enabled&&(this._moved=!1,!Ka(this._element,"leaflet-zoom-anim"))){if(it.touches&&it.touches.length!==1){ko._dragging===this&&this.finishDrag();return}if(!(ko._dragging||it.shiftKey||it.which!==1&&it.button!==1&&!it.touches)&&(ko._dragging=this,this._preventOutline&&zl(this._element),wa(),Es(),!this._moving)){this.fire("down");var pt=it.touches?it.touches[0]:it,St=nu(this._element);this._startPoint=new ye(pt.clientX,pt.clientY),this._startPos=ai(this._element),this._parentScale=Cc(St);var Ut=it.type==="mousedown";Kr(document,Ut?"mousemove":"touchmove",this._onMove,this),Kr(document,Ut?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(it){if(this._enabled){if(it.touches&&it.touches.length>1){this._moved=!0;return}var pt=it.touches&&it.touches.length===1?it.touches[0]:it,St=new ye(pt.clientX,pt.clientY)._subtract(this._startPoint);!St.x&&!St.y||Math.abs(St.x)+Math.abs(St.y)<this.options.clickTolerance||(St.x/=this._parentScale.x,St.y/=this._parentScale.y,Ho(it),this._moved||(this.fire("dragstart"),this._moved=!0,ei(document.body,"leaflet-dragging"),this._lastTarget=it.target||it.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ei(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(St),this._moving=!0,this._lastEvent=it,this._updatePosition())}},_updatePosition:function(){var it={originalEvent:this._lastEvent};this.fire("predrag",it),Mo(this._element,this._newPos),this.fire("drag",it)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(it){Pr(document.body,"leaflet-dragging"),this._lastTarget&&(Pr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zr(document,"mousemove touchmove",this._onMove,this),zr(document,"mouseup touchend touchcancel",this._onUp,this),Os(),Io();var pt=this._moved&&this._moving;this._moving=!1,ko._dragging=!1,pt&&this.fire("dragend",{noInertia:it,distance:this._newPos.distanceTo(this._startPos)})}});function Ta(it,pt,St){var Ut,se=[1,4,2,8],Ne,nn,_n,kn,Vn,yr,qr,vi;for(Ne=0,yr=it.length;Ne<yr;Ne++)it[Ne]._code=Vo(it[Ne],pt);for(_n=0;_n<4;_n++){for(qr=se[_n],Ut=[],Ne=0,yr=it.length,nn=yr-1;Ne<yr;nn=Ne++)kn=it[Ne],Vn=it[nn],kn._code&qr?Vn._code&qr||(vi=Bu(Vn,kn,qr,pt,St),vi._code=Vo(vi,pt),Ut.push(vi)):(Vn._code&qr&&(vi=Bu(Vn,kn,qr,pt,St),vi._code=Vo(vi,pt),Ut.push(vi)),Ut.push(kn));it=Ut}return it}function ou(it,pt){var St,Ut,se,Ne,nn,_n,kn,Vn,yr;if(!it||it.length===0)throw new Error("latlngs not passed");vs(it)||(console.warn("latlngs are not flat! Only the first ring will be used"),it=it[0]);var qr=ze([0,0]),vi=Je(it),ta=vi.getNorthWest().distanceTo(vi.getSouthWest())*vi.getNorthEast().distanceTo(vi.getNorthWest());ta<1700&&(qr=Nc(it));var os=it.length,ea=[];for(St=0;St<os;St++){var ua=ze(it[St]);ea.push(pt.project(ze([ua.lat-qr.lat,ua.lng-qr.lng])))}for(_n=kn=Vn=0,St=0,Ut=os-1;St<os;Ut=St++)se=ea[St],Ne=ea[Ut],nn=se.y*Ne.x-Ne.y*se.x,kn+=(se.x+Ne.x)*nn,Vn+=(se.y+Ne.y)*nn,_n+=nn*3;_n===0?yr=ea[0]:yr=[kn/_n,Vn/_n];var Rc=pt.unproject(ve(yr));return ze([Rc.lat+qr.lat,Rc.lng+qr.lng])}function Nc(it){for(var pt=0,St=0,Ut=0,se=0;se<it.length;se++){var Ne=ze(it[se]);pt+=Ne.lat,St+=Ne.lng,Ut++}return ze([pt/Ut,St/Ut])}var Ms={__proto__:null,clipPolygon:Ta,polygonCenter:ou,centroid:Nc};function su(it,pt){if(!pt||!it.length)return it.slice();var St=pt*pt;return it=sc(it,St),it=Us(it,St),it}function Dc(it,pt,St){return Math.sqrt(Ks(it,pt,St,!0))}function Jo(it,pt,St){return Ks(it,pt,St)}function Us(it,pt){var St=it.length,Ut=typeof Uint8Array!=void 0+""?Uint8Array:Array,se=new Ut(St);se[0]=se[St-1]=1,Ts(it,se,pt,0,St-1);var Ne,nn=[];for(Ne=0;Ne<St;Ne++)se[Ne]&&nn.push(it[Ne]);return nn}function Ts(it,pt,St,Ut,se){var Ne=0,nn,_n,kn;for(_n=Ut+1;_n<=se-1;_n++)kn=Ks(it[_n],it[Ut],it[se],!0),kn>Ne&&(nn=_n,Ne=kn);Ne>St&&(pt[nn]=1,Ts(it,pt,St,Ut,nn),Ts(it,pt,St,nn,se))}function sc(it,pt){for(var St=[it[0]],Ut=1,se=0,Ne=it.length;Ut<Ne;Ut++)ca(it[Ut],it[se])>pt&&(St.push(it[Ut]),se=Ut);return se<Ne-1&&St.push(it[Ne-1]),St}var vh;function bh(it,pt,St,Ut,se){var Ne=Ut?vh:Vo(it,St),nn=Vo(pt,St),_n,kn,Vn;for(vh=nn;;){if(!(Ne|nn))return[it,pt];if(Ne&nn)return!1;_n=Ne||nn,kn=Bu(it,pt,_n,St,se),Vn=Vo(kn,St),_n===Ne?(it=kn,Ne=Vn):(pt=kn,nn=Vn)}}function Bu(it,pt,St,Ut,se){var Ne=pt.x-it.x,nn=pt.y-it.y,_n=Ut.min,kn=Ut.max,Vn,yr;return St&8?(Vn=it.x+Ne*(kn.y-it.y)/nn,yr=kn.y):St&4?(Vn=it.x+Ne*(_n.y-it.y)/nn,yr=_n.y):St&2?(Vn=kn.x,yr=it.y+nn*(kn.x-it.x)/Ne):St&1&&(Vn=_n.x,yr=it.y+nn*(_n.x-it.x)/Ne),new ye(Vn,yr,se)}function Vo(it,pt){var St=0;return it.x<pt.min.x?St|=1:it.x>pt.max.x&&(St|=2),it.y<pt.min.y?St|=4:it.y>pt.max.y&&(St|=8),St}function ca(it,pt){var St=pt.x-it.x,Ut=pt.y-it.y;return St*St+Ut*Ut}function Ks(it,pt,St,Ut){var se=pt.x,Ne=pt.y,nn=St.x-se,_n=St.y-Ne,kn=nn*nn+_n*_n,Vn;return kn>0&&(Vn=((it.x-se)*nn+(it.y-Ne)*_n)/kn,Vn>1?(se=St.x,Ne=St.y):Vn>0&&(se+=nn*Vn,Ne+=_n*Vn)),nn=it.x-se,_n=it.y-Ne,Ut?nn*nn+_n*_n:new ye(se,Ne)}function vs(it){return!At(it[0])||typeof it[0][0]!="object"&&typeof it[0][0]<"u"}function _h(it){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vs(it)}function Po(it,pt){var St,Ut,se,Ne,nn,_n,kn,Vn;if(!it||it.length===0)throw new Error("latlngs not passed");vs(it)||(console.warn("latlngs are not flat! Only the first ring will be used"),it=it[0]);var yr=ze([0,0]),qr=Je(it),vi=qr.getNorthWest().distanceTo(qr.getSouthWest())*qr.getNorthEast().distanceTo(qr.getNorthWest());vi<1700&&(yr=Nc(it));var ta=it.length,os=[];for(St=0;St<ta;St++){var ea=ze(it[St]);os.push(pt.project(ze([ea.lat-yr.lat,ea.lng-yr.lng])))}for(St=0,Ut=0;St<ta-1;St++)Ut+=os[St].distanceTo(os[St+1])/2;if(Ut===0)Vn=os[0];else for(St=0,Ne=0;St<ta-1;St++)if(nn=os[St],_n=os[St+1],se=nn.distanceTo(_n),Ne+=se,Ne>Ut){kn=(Ne-Ut)/se,Vn=[_n.x-kn*(_n.x-nn.x),_n.y-kn*(_n.y-nn.y)];break}var ua=pt.unproject(ve(Vn));return ze([ua.lat+yr.lat,ua.lng+yr.lng])}var Fa={__proto__:null,simplify:su,pointToSegmentDistance:Dc,closestPointOnSegment:Jo,clipSegment:bh,_getEdgeIntersection:Bu,_getBitCode:Vo,_sqClosestPointOnSegment:Ks,isFlat:vs,_flat:_h,polylineCenter:Po},ac={project:function(it){return new ye(it.lng,it.lat)},unproject:function(it){return new qe(it.y,it.x)},bounds:new Ce([-180,-90],[180,90])},rl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(it){var pt=Math.PI/180,St=this.R,Ut=it.lat*pt,se=this.R_MINOR/St,Ne=Math.sqrt(1-se*se),nn=Ne*Math.sin(Ut),_n=Math.tan(Math.PI/4-Ut/2)/Math.pow((1-nn)/(1+nn),Ne/2);return Ut=-St*Math.log(Math.max(_n,1e-10)),new ye(it.lng*pt*St,Ut)},unproject:function(it){for(var pt=180/Math.PI,St=this.R,Ut=this.R_MINOR/St,se=Math.sqrt(1-Ut*Ut),Ne=Math.exp(-it.y/St),nn=Math.PI/2-2*Math.atan(Ne),_n=0,kn=.1,Vn;_n<15&&Math.abs(kn)>1e-7;_n++)Vn=se*Math.sin(nn),Vn=Math.pow((1-Vn)/(1+Vn),se/2),kn=Math.PI/2-2*Math.atan(Ne*Vn)-nn,nn+=kn;return new qe(nn*pt,it.x*pt/St)}},Ic={__proto__:null,LonLat:ac,Mercator:rl,SphericalMercator:Le},Ot=Y({},Me,{code:"EPSG:3395",projection:rl,transformation:function(){var it=.5/(Math.PI*rl.R);return Kt(it,.5,-it,.5)}()}),Rt=Y({},Me,{code:"EPSG:4326",projection:ac,transformation:Kt(1/180,1,-1/180,.5)}),ae=Y({},we,{projection:ac,transformation:Kt(1,0,-1,0),scale:function(it){return Math.pow(2,it)},zoom:function(it){return Math.log(it)/Math.LN2},distance:function(it,pt){var St=pt.lng-it.lng,Ut=pt.lat-it.lat;return Math.sqrt(St*St+Ut*Ut)},infinite:!0});we.Earth=Me,we.EPSG3395=Ot,we.EPSG3857=kt,we.EPSG900913=jt,we.EPSG4326=Rt,we.Simple=ae;var Se=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(it){return it.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(it){return it&&it.removeLayer(this),this},getPane:function(it){return this._map.getPane(it?this.options[it]||it:this.options.pane)},addInteractiveTarget:function(it){return this._map._targets[tt(it)]=this,this},removeInteractiveTarget:function(it){return delete this._map._targets[tt(it)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(it){var pt=it.target;if(pt.hasLayer(this)){if(this._map=pt,this._zoomAnimated=pt._zoomAnimated,this.getEvents){var St=this.getEvents();pt.on(St,this),this.once("remove",function(){pt.off(St,this)},this)}this.onAdd(pt),this.fire("add"),pt.fire("layeradd",{layer:this})}}});mi.include({addLayer:function(it){if(!it._layerAdd)throw new Error("The provided object is not a Layer.");var pt=tt(it);return this._layers[pt]?this:(this._layers[pt]=it,it._mapToAdd=this,it.beforeAdd&&it.beforeAdd(this),this.whenReady(it._layerAdd,it),this)},removeLayer:function(it){var pt=tt(it);return this._layers[pt]?(this._loaded&&it.onRemove(this),delete this._layers[pt],this._loaded&&(this.fire("layerremove",{layer:it}),it.fire("remove")),it._map=it._mapToAdd=null,this):this},hasLayer:function(it){return tt(it)in this._layers},eachLayer:function(it,pt){for(var St in this._layers)it.call(pt,this._layers[St]);return this},_addLayers:function(it){it=it?At(it)?it:[it]:[];for(var pt=0,St=it.length;pt<St;pt++)this.addLayer(it[pt])},_addZoomLimit:function(it){(!isNaN(it.options.maxZoom)||!isNaN(it.options.minZoom))&&(this._zoomBoundLayers[tt(it)]=it,this._updateZoomLevels())},_removeZoomLimit:function(it){var pt=tt(it);this._zoomBoundLayers[pt]&&(delete this._zoomBoundLayers[pt],this._updateZoomLevels())},_updateZoomLevels:function(){var it=1/0,pt=-1/0,St=this._getZoomSpan();for(var Ut in this._zoomBoundLayers){var se=this._zoomBoundLayers[Ut].options;it=se.minZoom===void 0?it:Math.min(it,se.minZoom),pt=se.maxZoom===void 0?pt:Math.max(pt,se.maxZoom)}this._layersMaxZoom=pt===-1/0?void 0:pt,this._layersMinZoom=it===1/0?void 0:it,St!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Re=Se.extend({initialize:function(it,pt){wt(this,pt),this._layers={};var St,Ut;if(it)for(St=0,Ut=it.length;St<Ut;St++)this.addLayer(it[St])},addLayer:function(it){var pt=this.getLayerId(it);return this._layers[pt]=it,this._map&&this._map.addLayer(it),this},removeLayer:function(it){var pt=it in this._layers?it:this.getLayerId(it);return this._map&&this._layers[pt]&&this._map.removeLayer(this._layers[pt]),delete this._layers[pt],this},hasLayer:function(it){var pt=typeof it=="number"?it:this.getLayerId(it);return pt in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(it){var pt=Array.prototype.slice.call(arguments,1),St,Ut;for(St in this._layers)Ut=this._layers[St],Ut[it]&&Ut[it].apply(Ut,pt);return this},onAdd:function(it){this.eachLayer(it.addLayer,it)},onRemove:function(it){this.eachLayer(it.removeLayer,it)},eachLayer:function(it,pt){for(var St in this._layers)it.call(pt,this._layers[St]);return this},getLayer:function(it){return this._layers[it]},getLayers:function(){var it=[];return this.eachLayer(it.push,it),it},setZIndex:function(it){return this.invoke("setZIndex",it)},getLayerId:function(it){return tt(it)}}),Ke=function(it,pt){return new Re(it,pt)},hn=Re.extend({addLayer:function(it){return this.hasLayer(it)?this:(it.addEventParent(this),Re.prototype.addLayer.call(this,it),this.fire("layeradd",{layer:it}))},removeLayer:function(it){return this.hasLayer(it)?(it in this._layers&&(it=this._layers[it]),it.removeEventParent(this),Re.prototype.removeLayer.call(this,it),this.fire("layerremove",{layer:it})):this},setStyle:function(it){return this.invoke("setStyle",it)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var it=new Oe;for(var pt in this._layers){var St=this._layers[pt];it.extend(St.getBounds?St.getBounds():St.getLatLng())}return it}}),Ln=function(it,pt){return new hn(it,pt)},lr=Nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(it){wt(this,it)},createIcon:function(it){return this._createIcon("icon",it)},createShadow:function(it){return this._createIcon("shadow",it)},_createIcon:function(it,pt){var St=this._getIconUrl(it);if(!St){if(it==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Ut=this._createImg(St,pt&&pt.tagName==="IMG"?pt:null);return this._setIconStyles(Ut,it),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Ut.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Ut},_setIconStyles:function(it,pt){var St=this.options,Ut=St[pt+"Size"];typeof Ut=="number"&&(Ut=[Ut,Ut]);var se=ve(Ut),Ne=ve(pt==="shadow"&&St.shadowAnchor||St.iconAnchor||se&&se.divideBy(2,!0));it.className="leaflet-marker-"+pt+" "+(St.className||""),Ne&&(it.style.marginLeft=-Ne.x+"px",it.style.marginTop=-Ne.y+"px"),se&&(it.style.width=se.x+"px",it.style.height=se.y+"px")},_createImg:function(it,pt){return pt=pt||document.createElement("img"),pt.src=it,pt},_getIconUrl:function(it){return tr.retina&&this.options[it+"RetinaUrl"]||this.options[it+"Url"]}});function yi(it){return new lr(it)}var ii=lr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(it){return typeof ii.imagePath!="string"&&(ii.imagePath=this._detectIconPath()),(this.options.imagePath||ii.imagePath)+lr.prototype._getIconUrl.call(this,it)},_stripUrl:function(it){var pt=function(St,Ut,se){var Ne=Ut.exec(St);return Ne&&Ne[se]};return it=pt(it,/^url\((['"])?(.+)\1\)$/,2),it&&pt(it,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var it=Nr("div","leaflet-default-icon-path",document.body),pt=er(it,"background-image")||er(it,"backgroundImage");if(document.body.removeChild(it),pt=this._stripUrl(pt),pt)return pt;var St=document.querySelector('link[href$="leaflet.css"]');return St?St.href.substring(0,St.href.length-11-1):""}}),oo=vo.extend({initialize:function(it){this._marker=it},addHooks:function(){var it=this._marker._icon;this._draggable||(this._draggable=new ko(it,it,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ei(it,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(it){var pt=this._marker,St=pt._map,Ut=this._marker.options.autoPanSpeed,se=this._marker.options.autoPanPadding,Ne=ai(pt._icon),nn=St.getPixelBounds(),_n=St.getPixelOrigin(),kn=De(nn.min._subtract(_n).add(se),nn.max._subtract(_n).subtract(se));if(!kn.contains(Ne)){var Vn=ve((Math.max(kn.max.x,Ne.x)-kn.max.x)/(nn.max.x-kn.max.x)-(Math.min(kn.min.x,Ne.x)-kn.min.x)/(nn.min.x-kn.min.x),(Math.max(kn.max.y,Ne.y)-kn.max.y)/(nn.max.y-kn.max.y)-(Math.min(kn.min.y,Ne.y)-kn.min.y)/(nn.min.y-kn.min.y)).multiplyBy(Ut);St.panBy(Vn,{animate:!1}),this._draggable._newPos._add(Vn),this._draggable._startPos._add(Vn),Mo(pt._icon,this._draggable._newPos),this._onDrag(it),this._panRequest=Xt(this._adjustPan.bind(this,it))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(it){this._marker.options.autoPan&&(Dt(this._panRequest),this._panRequest=Xt(this._adjustPan.bind(this,it)))},_onDrag:function(it){var pt=this._marker,St=pt._shadow,Ut=ai(pt._icon),se=pt._map.layerPointToLatLng(Ut);St&&Mo(St,Ut),pt._latlng=se,it.latlng=se,it.oldLatLng=this._oldLatLng,pt.fire("move",it).fire("drag",it)},_onDragEnd:function(it){Dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",it)}}),Ci=Se.extend({options:{icon:new ii,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(it,pt){wt(this,pt),this._latlng=ze(it)},onAdd:function(it){this._zoomAnimated=this._zoomAnimated&&it.options.markerZoomAnimation,this._zoomAnimated&&it.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(it){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&it.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(it){var pt=this._latlng;return this._latlng=ze(it),this.update(),this.fire("move",{oldLatLng:pt,latlng:this._latlng})},setZIndexOffset:function(it){return this.options.zIndexOffset=it,this.update()},getIcon:function(){return this.options.icon},setIcon:function(it){return this.options.icon=it,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var it=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(it)}return this},_initIcon:function(){var it=this.options,pt="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),St=it.icon.createIcon(this._icon),Ut=!1;St!==this._icon&&(this._icon&&this._removeIcon(),Ut=!0,it.title&&(St.title=it.title),St.tagName==="IMG"&&(St.alt=it.alt||"")),ei(St,pt),it.keyboard&&(St.tabIndex="0",St.setAttribute("role","button")),this._icon=St,it.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kr(St,"focus",this._panOnFocus,this);var se=it.icon.createShadow(this._shadow),Ne=!1;se!==this._shadow&&(this._removeShadow(),Ne=!0),se&&(ei(se,pt),se.alt=""),this._shadow=se,it.opacity<1&&this._updateOpacity(),Ut&&this.getPane().appendChild(this._icon),this._initInteraction(),se&&Ne&&this.getPane(it.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zr(this._icon,"focus",this._panOnFocus,this),Xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xe(this._shadow),this._shadow=null},_setPos:function(it){this._icon&&Mo(this._icon,it),this._shadow&&Mo(this._shadow,it),this._zIndex=it.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(it){this._icon&&(this._icon.style.zIndex=this._zIndex+it)},_animateZoom:function(it){var pt=this._map._latLngToNewLayerPoint(this._latlng,it.zoom,it.center).round();this._setPos(pt)},_initInteraction:function(){if(this.options.interactive&&(ei(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),oo)){var it=this.options.draggable;this.dragging&&(it=this.dragging.enabled(),this.dragging.disable()),this.dragging=new oo(this),it&&this.dragging.enable()}},setOpacity:function(it){return this.options.opacity=it,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var it=this.options.opacity;this._icon&&Yr(this._icon,it),this._shadow&&Yr(this._shadow,it)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var it=this._map;if(it){var pt=this.options.icon.options,St=pt.iconSize?ve(pt.iconSize):ve(0,0),Ut=pt.iconAnchor?ve(pt.iconAnchor):ve(0,0);it.panInside(this._latlng,{paddingTopLeft:Ut,paddingBottomRight:St.subtract(Ut)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ri(it,pt){return new Ci(it,pt)}var to=Se.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(it){this._renderer=it.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(it){return wt(this,it),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&it&&Object.prototype.hasOwnProperty.call(it,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ao=to.extend({options:{fill:!0,radius:10},initialize:function(it,pt){wt(this,pt),this._latlng=ze(it),this._radius=this.options.radius},setLatLng:function(it){var pt=this._latlng;return this._latlng=ze(it),this.redraw(),this.fire("move",{oldLatLng:pt,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(it){return this.options.radius=this._radius=it,this.redraw()},getRadius:function(){return this._radius},setStyle:function(it){var pt=it&&it.radius||this._radius;return to.prototype.setStyle.call(this,it),this.setRadius(pt),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var it=this._radius,pt=this._radiusY||it,St=this._clickTolerance(),Ut=[it+St,pt+St];this._pxBounds=new Ce(this._point.subtract(Ut),this._point.add(Ut))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(it){return it.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ho(it,pt){return new ao(it,pt)}var Sa=ao.extend({initialize:function(it,pt,St){if(typeof pt=="number"&&(pt=Y({},St,{radius:pt})),wt(this,pt),this._latlng=ze(it),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(it){return this._mRadius=it,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var it=[this._radius,this._radiusY||this._radius];return new Oe(this._map.layerPointToLatLng(this._point.subtract(it)),this._map.layerPointToLatLng(this._point.add(it)))},setStyle:to.prototype.setStyle,_project:function(){var it=this._latlng.lng,pt=this._latlng.lat,St=this._map,Ut=St.options.crs;if(Ut.distance===Me.distance){var se=Math.PI/180,Ne=this._mRadius/Me.R/se,nn=St.project([pt+Ne,it]),_n=St.project([pt-Ne,it]),kn=nn.add(_n).divideBy(2),Vn=St.unproject(kn).lat,yr=Math.acos((Math.cos(Ne*se)-Math.sin(pt*se)*Math.sin(Vn*se))/(Math.cos(pt*se)*Math.cos(Vn*se)))/se;(isNaN(yr)||yr===0)&&(yr=Ne/Math.cos(Math.PI/180*pt)),this._point=kn.subtract(St.getPixelOrigin()),this._radius=isNaN(yr)?0:kn.x-St.project([Vn,it-yr]).x,this._radiusY=kn.y-nn.y}else{var qr=Ut.unproject(Ut.project(this._latlng).subtract([this._mRadius,0]));this._point=St.latLngToLayerPoint(this._latlng),this._radius=this._point.x-St.latLngToLayerPoint(qr).x}this._updateBounds()}});function ef(it,pt,St){return new Sa(it,pt,St)}var il=to.extend({options:{smoothFactor:1,noClip:!1},initialize:function(it,pt){wt(this,pt),this._setLatLngs(it)},getLatLngs:function(){return this._latlngs},setLatLngs:function(it){return this._setLatLngs(it),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(it){for(var pt=1/0,St=null,Ut=Ks,se,Ne,nn=0,_n=this._parts.length;nn<_n;nn++)for(var kn=this._parts[nn],Vn=1,yr=kn.length;Vn<yr;Vn++){se=kn[Vn-1],Ne=kn[Vn];var qr=Ut(it,se,Ne,!0);qr<pt&&(pt=qr,St=Ut(it,se,Ne))}return St&&(St.distance=Math.sqrt(pt)),St},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Po(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(it,pt){return pt=pt||this._defaultShape(),it=ze(it),pt.push(it),this._bounds.extend(it),this.redraw()},_setLatLngs:function(it){this._bounds=new Oe,this._latlngs=this._convertLatLngs(it)},_defaultShape:function(){return vs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(it){for(var pt=[],St=vs(it),Ut=0,se=it.length;Ut<se;Ut++)St?(pt[Ut]=ze(it[Ut]),this._bounds.extend(pt[Ut])):pt[Ut]=this._convertLatLngs(it[Ut]);return pt},_project:function(){var it=new Ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,it),this._bounds.isValid()&&it.isValid()&&(this._rawPxBounds=it,this._updateBounds())},_updateBounds:function(){var it=this._clickTolerance(),pt=new ye(it,it);this._rawPxBounds&&(this._pxBounds=new Ce([this._rawPxBounds.min.subtract(pt),this._rawPxBounds.max.add(pt)]))},_projectLatlngs:function(it,pt,St){var Ut=it[0]instanceof qe,se=it.length,Ne,nn;if(Ut){for(nn=[],Ne=0;Ne<se;Ne++)nn[Ne]=this._map.latLngToLayerPoint(it[Ne]),St.extend(nn[Ne]);pt.push(nn)}else for(Ne=0;Ne<se;Ne++)this._projectLatlngs(it[Ne],pt,St)},_clipPoints:function(){var it=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(it))){if(this.options.noClip){this._parts=this._rings;return}var pt=this._parts,St,Ut,se,Ne,nn,_n,kn;for(St=0,se=0,Ne=this._rings.length;St<Ne;St++)for(kn=this._rings[St],Ut=0,nn=kn.length;Ut<nn-1;Ut++)_n=bh(kn[Ut],kn[Ut+1],it,Ut,!0),_n&&(pt[se]=pt[se]||[],pt[se].push(_n[0]),(_n[1]!==kn[Ut+1]||Ut===nn-2)&&(pt[se].push(_n[1]),se++))}},_simplifyPoints:function(){for(var it=this._parts,pt=this.options.smoothFactor,St=0,Ut=it.length;St<Ut;St++)it[St]=su(it[St],pt)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(it,pt){var St,Ut,se,Ne,nn,_n,kn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(it))return!1;for(St=0,Ne=this._parts.length;St<Ne;St++)for(_n=this._parts[St],Ut=0,nn=_n.length,se=nn-1;Ut<nn;se=Ut++)if(!(!pt&&Ut===0)&&Dc(it,_n[se],_n[Ut])<=kn)return!0;return!1}});function $u(it,pt){return new il(it,pt)}il._flat=_h;var Bl=il.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ou(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(it){var pt=il.prototype._convertLatLngs.call(this,it),St=pt.length;return St>=2&&pt[0]instanceof qe&&pt[0].equals(pt[St-1])&&pt.pop(),pt},_setLatLngs:function(it){il.prototype._setLatLngs.call(this,it),vs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var it=this._renderer._bounds,pt=this.options.weight,St=new ye(pt,pt);if(it=new Ce(it.min.subtract(St),it.max.add(St)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(it))){if(this.options.noClip){this._parts=this._rings;return}for(var Ut=0,se=this._rings.length,Ne;Ut<se;Ut++)Ne=Ta(this._rings[Ut],it,!0),Ne.length&&this._parts.push(Ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(it){var pt=!1,St,Ut,se,Ne,nn,_n,kn,Vn;if(!this._pxBounds||!this._pxBounds.contains(it))return!1;for(Ne=0,kn=this._parts.length;Ne<kn;Ne++)for(St=this._parts[Ne],nn=0,Vn=St.length,_n=Vn-1;nn<Vn;_n=nn++)Ut=St[nn],se=St[_n],Ut.y>it.y!=se.y>it.y&&it.x<(se.x-Ut.x)*(it.y-Ut.y)/(se.y-Ut.y)+Ut.x&&(pt=!pt);return pt||il.prototype._containsPoint.call(this,it,!0)}});function nd(it,pt){return new Bl(it,pt)}var ki=hn.extend({initialize:function(it,pt){wt(this,pt),this._layers={},it&&this.addData(it)},addData:function(it){var pt=At(it)?it:it.features,St,Ut,se;if(pt){for(St=0,Ut=pt.length;St<Ut;St++)se=pt[St],(se.geometries||se.geometry||se.features||se.coordinates)&&this.addData(se);return this}var Ne=this.options;if(Ne.filter&&!Ne.filter(it))return this;var nn=au(it,Ne);return nn?(nn.feature=wh(it),nn.defaultOptions=nn.options,this.resetStyle(nn),Ne.onEachFeature&&Ne.onEachFeature(it,nn),this.addLayer(nn)):this},resetStyle:function(it){return it===void 0?this.eachLayer(this.resetStyle,this):(it.options=Y({},it.defaultOptions),this._setLayerStyle(it,this.options.style),this)},setStyle:function(it){return this.eachLayer(function(pt){this._setLayerStyle(pt,it)},this)},_setLayerStyle:function(it,pt){it.setStyle&&(typeof pt=="function"&&(pt=pt(it.feature)),it.setStyle(pt))}});function au(it,pt){var St=it.type==="Feature"?it.geometry:it,Ut=St?St.coordinates:null,se=[],Ne=pt&&pt.pointToLayer,nn=pt&&pt.coordsToLatLng||Ca,_n,kn,Vn,yr;if(!Ut&&!St)return null;switch(St.type){case"Point":return _n=nn(Ut),Lc(Ne,it,_n,pt);case"MultiPoint":for(Vn=0,yr=Ut.length;Vn<yr;Vn++)_n=nn(Ut[Vn]),se.push(Lc(Ne,it,_n,pt));return new hn(se);case"LineString":case"MultiLineString":return kn=ka(Ut,St.type==="LineString"?0:1,nn),new il(kn,pt);case"Polygon":case"MultiPolygon":return kn=ka(Ut,St.type==="Polygon"?1:2,nn),new Bl(kn,pt);case"GeometryCollection":for(Vn=0,yr=St.geometries.length;Vn<yr;Vn++){var qr=au({geometry:St.geometries[Vn],type:"Feature",properties:it.properties},pt);qr&&se.push(qr)}return new hn(se);case"FeatureCollection":for(Vn=0,yr=St.features.length;Vn<yr;Vn++){var vi=au(St.features[Vn],pt);vi&&se.push(vi)}return new hn(se);default:throw new Error("Invalid GeoJSON object.")}}function Lc(it,pt,St,Ut){return it?it(pt,St):new Ci(St,Ut&&Ut.markersInheritOptions&&Ut)}function Ca(it){return new qe(it[1],it[0],it[2])}function ka(it,pt,St){for(var Ut=[],se=0,Ne=it.length,nn;se<Ne;se++)nn=pt?ka(it[se],pt-1,St):(St||Ca)(it[se]),Ut.push(nn);return Ut}function $l(it,pt){return it=ze(it),it.alt!==void 0?[lt(it.lng,pt),lt(it.lat,pt),lt(it.alt,pt)]:[lt(it.lng,pt),lt(it.lat,pt)]}function lu(it,pt,St,Ut){for(var se=[],Ne=0,nn=it.length;Ne<nn;Ne++)se.push(pt?lu(it[Ne],vs(it[Ne])?0:pt-1,St,Ut):$l(it[Ne],Ut));return!pt&&St&&se.length>0&&se.push(se[0].slice()),se}function cu(it,pt){return it.feature?Y({},it.feature,{geometry:pt}):wh(pt)}function wh(it){return it.type==="Feature"||it.type==="FeatureCollection"?it:{type:"Feature",properties:{},geometry:it}}var xh={toGeoJSON:function(it){return cu(this,{type:"Point",coordinates:$l(this.getLatLng(),it)})}};Ci.include(xh),Sa.include(xh),ao.include(xh),il.include({toGeoJSON:function(it){var pt=!vs(this._latlngs),St=lu(this._latlngs,pt?1:0,!1,it);return cu(this,{type:(pt?"Multi":"")+"LineString",coordinates:St})}}),Bl.include({toGeoJSON:function(it){var pt=!vs(this._latlngs),St=pt&&!vs(this._latlngs[0]),Ut=lu(this._latlngs,St?2:pt?1:0,!0,it);return pt||(Ut=[Ut]),cu(this,{type:(St?"Multi":"")+"Polygon",coordinates:Ut})}}),Re.include({toMultiPoint:function(it){var pt=[];return this.eachLayer(function(St){pt.push(St.toGeoJSON(it).geometry.coordinates)}),cu(this,{type:"MultiPoint",coordinates:pt})},toGeoJSON:function(it){var pt=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(pt==="MultiPoint")return this.toMultiPoint(it);var St=pt==="GeometryCollection",Ut=[];return this.eachLayer(function(se){if(se.toGeoJSON){var Ne=se.toGeoJSON(it);if(St)Ut.push(Ne.geometry);else{var nn=wh(Ne);nn.type==="FeatureCollection"?Ut.push.apply(Ut,nn.features):Ut.push(nn)}}}),St?cu(this,{geometries:Ut,type:"GeometryCollection"}):{type:"FeatureCollection",features:Ut}}});function rd(it,pt){return new ki(it,pt)}var cg=rd,lc=Se.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(it,pt,St){this._url=it,this._bounds=Je(pt),wt(this,St)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ei(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(it){return this.options.opacity=it,this._image&&this._updateOpacity(),this},setStyle:function(it){return it.opacity&&this.setOpacity(it.opacity),this},bringToFront:function(){return this._map&&an(this._image),this},bringToBack:function(){return this._map&&Do(this._image),this},setUrl:function(it){return this._url=it,this._image&&(this._image.src=it),this},setBounds:function(it){return this._bounds=Je(it),this._map&&this._reset(),this},getEvents:function(){var it={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(it.zoomanim=this._animateZoom),it},setZIndex:function(it){return this.options.zIndex=it,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var it=this._url.tagName==="IMG",pt=this._image=it?this._url:Nr("img");if(ei(pt,"leaflet-image-layer"),this._zoomAnimated&&ei(pt,"leaflet-zoom-animated"),this.options.className&&ei(pt,this.options.className),pt.onselectstart=ct,pt.onmousemove=ct,pt.onload=q(this.fire,this,"load"),pt.onerror=q(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(pt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),it){this._url=pt.src;return}pt.src=this._url,pt.alt=this.options.alt},_animateZoom:function(it){var pt=this._map.getZoomScale(it.zoom),St=this._map._latLngBoundsToNewLayerBounds(this._bounds,it.zoom,it.center).min;_a(this._image,St,pt)},_reset:function(){var it=this._image,pt=new Ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),St=pt.getSize();Mo(it,pt.min),it.style.width=St.x+"px",it.style.height=St.y+"px"},_updateOpacity:function(){Yr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var it=this.options.errorOverlayUrl;it&&this._url!==it&&(this._url=it,this._image.src=it)},getCenter:function(){return this._bounds.getCenter()}}),ug=function(it,pt,St){return new lc(it,pt,St)},nf=lc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var it=this._url.tagName==="VIDEO",pt=this._image=it?this._url:Nr("video");if(ei(pt,"leaflet-image-layer"),this._zoomAnimated&&ei(pt,"leaflet-zoom-animated"),this.options.className&&ei(pt,this.options.className),pt.onselectstart=ct,pt.onmousemove=ct,pt.onloadeddata=q(this.fire,this,"load"),it){for(var St=pt.getElementsByTagName("source"),Ut=[],se=0;se<St.length;se++)Ut.push(St[se].src);this._url=St.length>0?Ut:[pt.src];return}At(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(pt.style,"objectFit")&&(pt.style.objectFit="fill"),pt.autoplay=!!this.options.autoplay,pt.loop=!!this.options.loop,pt.muted=!!this.options.muted,pt.playsInline=!!this.options.playsInline;for(var Ne=0;Ne<this._url.length;Ne++){var nn=Nr("source");nn.src=this._url[Ne],pt.appendChild(nn)}}});function od(it,pt,St){return new nf(it,pt,St)}var Go=lc.extend({_initImage:function(){var it=this._image=this._url;ei(it,"leaflet-image-layer"),this._zoomAnimated&&ei(it,"leaflet-zoom-animated"),this.options.className&&ei(it,this.options.className),it.onselectstart=ct,it.onmousemove=ct}});function rp(it,pt,St){return new Go(it,pt,St)}var zo=Se.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(it,pt){it&&(it instanceof qe||At(it))?(this._latlng=ze(it),wt(this,pt)):(wt(this,it),this._source=pt),this.options.content&&(this._content=this.options.content)},openOn:function(it){return it=arguments.length?it:this._source._map,it.hasLayer(this)||it.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(it){return this._map?this.close():(arguments.length?this._source=it:it=this._source,this._prepareOpen(),this.openOn(it._map)),this},onAdd:function(it){this._zoomAnimated=it._zoomAnimated,this._container||this._initLayout(),it._fadeAnimated&&Yr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),it._fadeAnimated&&Yr(this._container,1),this.bringToFront(),this.options.interactive&&(ei(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(it){it._fadeAnimated?(Yr(this._container,0),this._removeTimeout=setTimeout(q(Xe,void 0,this._container),200)):Xe(this._container),this.options.interactive&&(Pr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(it){return this._latlng=ze(it),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(it){return this._content=it,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var it={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(it.zoomanim=this._animateZoom),it},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&an(this._container),this},bringToBack:function(){return this._map&&Do(this._container),this},_prepareOpen:function(it){var pt=this._source;if(!pt._map)return!1;if(pt instanceof hn){pt=null;var St=this._source._layers;for(var Ut in St)if(St[Ut]._map){pt=St[Ut];break}if(!pt)return!1;this._source=pt}if(!it)if(pt.getCenter)it=pt.getCenter();else if(pt.getLatLng)it=pt.getLatLng();else if(pt.getBounds)it=pt.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(it),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var it=this._contentNode,pt=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof pt=="string")it.innerHTML=pt;else{for(;it.hasChildNodes();)it.removeChild(it.firstChild);it.appendChild(pt)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var it=this._map.latLngToLayerPoint(this._latlng),pt=ve(this.options.offset),St=this._getAnchor();this._zoomAnimated?Mo(this._container,it.add(St)):pt=pt.add(it).add(St);var Ut=this._containerBottom=-pt.y,se=this._containerLeft=-Math.round(this._containerWidth/2)+pt.x;this._container.style.bottom=Ut+"px",this._container.style.left=se+"px"}},_getAnchor:function(){return[0,0]}});mi.include({_initOverlay:function(it,pt,St,Ut){var se=pt;return se instanceof it||(se=new it(Ut).setContent(pt)),St&&se.setLatLng(St),se}}),Se.include({_initOverlay:function(it,pt,St,Ut){var se=St;return se instanceof it?(wt(se,Ut),se._source=this):(se=pt&&!Ut?pt:new it(Ut,this),se.setContent(St)),se}});var Fu=zo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(it){return it=arguments.length?it:this._source._map,!it.hasLayer(this)&&it._popup&&it._popup.options.autoClose&&it.removeLayer(it._popup),it._popup=this,zo.prototype.openOn.call(this,it)},onAdd:function(it){zo.prototype.onAdd.call(this,it),it.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof to||this._source.on("preclick",jl))},onRemove:function(it){zo.prototype.onRemove.call(this,it),it.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof to||this._source.off("preclick",jl))},getEvents:function(){var it=zo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(it.preclick=this.close),this.options.keepInView&&(it.moveend=this._adjustPan),it},_initLayout:function(){var it="leaflet-popup",pt=this._container=Nr("div",it+" "+(this.options.className||"")+" leaflet-zoom-animated"),St=this._wrapper=Nr("div",it+"-content-wrapper",pt);if(this._contentNode=Nr("div",it+"-content",St),xa(pt),fh(this._contentNode),Kr(pt,"contextmenu",jl),this._tipContainer=Nr("div",it+"-tip-container",pt),this._tip=Nr("div",it+"-tip",this._tipContainer),this.options.closeButton){var Ut=this._closeButton=Nr("a",it+"-close-button",pt);Ut.setAttribute("role","button"),Ut.setAttribute("aria-label","Close popup"),Ut.href="#close",Ut.innerHTML='<span aria-hidden="true">&#215;</span>',Kr(Ut,"click",function(se){Ho(se),this.close()},this)}},_updateLayout:function(){var it=this._contentNode,pt=it.style;pt.width="",pt.whiteSpace="nowrap";var St=it.offsetWidth;St=Math.min(St,this.options.maxWidth),St=Math.max(St,this.options.minWidth),pt.width=St+1+"px",pt.whiteSpace="",pt.height="";var Ut=it.offsetHeight,se=this.options.maxHeight,Ne="leaflet-popup-scrolled";se&&Ut>se?(pt.height=se+"px",ei(it,Ne)):Pr(it,Ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(it){var pt=this._map._latLngToNewLayerPoint(this._latlng,it.zoom,it.center),St=this._getAnchor();Mo(this._container,pt.add(St))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var it=this._map,pt=parseInt(er(this._container,"marginBottom"),10)||0,St=this._container.offsetHeight+pt,Ut=this._containerWidth,se=new ye(this._containerLeft,-St-this._containerBottom);se._add(ai(this._container));var Ne=it.layerPointToContainerPoint(se),nn=ve(this.options.autoPanPadding),_n=ve(this.options.autoPanPaddingTopLeft||nn),kn=ve(this.options.autoPanPaddingBottomRight||nn),Vn=it.getSize(),yr=0,qr=0;Ne.x+Ut+kn.x>Vn.x&&(yr=Ne.x+Ut-Vn.x+kn.x),Ne.x-yr-_n.x<0&&(yr=Ne.x-_n.x),Ne.y+St+kn.y>Vn.y&&(qr=Ne.y+St-Vn.y+kn.y),Ne.y-qr-_n.y<0&&(qr=Ne.y-_n.y),(yr||qr)&&(this.options.keepInView&&(this._autopanning=!0),it.fire("autopanstart").panBy([yr,qr]))}},_getAnchor:function(){return ve(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Fl=function(it,pt){return new Fu(it,pt)};mi.mergeOptions({closePopupOnClick:!0}),mi.include({openPopup:function(it,pt,St){return this._initOverlay(Fu,it,pt,St).openOn(this),this},closePopup:function(it){return it=arguments.length?it:this._popup,it&&it.close(),this}}),Se.include({bindPopup:function(it,pt){return this._popup=this._initOverlay(Fu,this._popup,it,pt),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(it){return this._popup&&(this instanceof hn||(this._popup._source=this),this._popup._prepareOpen(it||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(it){return this._popup&&this._popup.setContent(it),this},getPopup:function(){return this._popup},_openPopup:function(it){if(!(!this._popup||!this._map)){la(it);var pt=it.layer||it.target;if(this._popup._source===pt&&!(pt instanceof to)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(it.latlng);return}this._popup._source=pt,this.openPopup(it.latlng)}},_movePopup:function(it){this._popup.setLatLng(it.latlng)},_onKeyPress:function(it){it.originalEvent.keyCode===13&&this._openPopup(it)}});var Oc=zo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(it){zo.prototype.onAdd.call(this,it),this.setOpacity(this.options.opacity),it.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(it){zo.prototype.onRemove.call(this,it),it.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var it=zo.prototype.getEvents.call(this);return this.options.permanent||(it.preclick=this.close),it},_initLayout:function(){var it="leaflet-tooltip",pt=it+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Nr("div",pt),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+tt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(it){var pt,St,Ut=this._map,se=this._container,Ne=Ut.latLngToContainerPoint(Ut.getCenter()),nn=Ut.layerPointToContainerPoint(it),_n=this.options.direction,kn=se.offsetWidth,Vn=se.offsetHeight,yr=ve(this.options.offset),qr=this._getAnchor();_n==="top"?(pt=kn/2,St=Vn):_n==="bottom"?(pt=kn/2,St=0):_n==="center"?(pt=kn/2,St=Vn/2):_n==="right"?(pt=0,St=Vn/2):_n==="left"?(pt=kn,St=Vn/2):nn.x<Ne.x?(_n="right",pt=0,St=Vn/2):(_n="left",pt=kn+(yr.x+qr.x)*2,St=Vn/2),it=it.subtract(ve(pt,St,!0)).add(yr).add(qr),Pr(se,"leaflet-tooltip-right"),Pr(se,"leaflet-tooltip-left"),Pr(se,"leaflet-tooltip-top"),Pr(se,"leaflet-tooltip-bottom"),ei(se,"leaflet-tooltip-"+_n),Mo(se,it)},_updatePosition:function(){var it=this._map.latLngToLayerPoint(this._latlng);this._setPosition(it)},setOpacity:function(it){this.options.opacity=it,this._container&&Yr(this._container,it)},_animateZoom:function(it){var pt=this._map._latLngToNewLayerPoint(this._latlng,it.zoom,it.center);this._setPosition(pt)},_getAnchor:function(){return ve(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ip=function(it,pt){return new Oc(it,pt)};mi.include({openTooltip:function(it,pt,St){return this._initOverlay(Oc,it,pt,St).openOn(this),this},closeTooltip:function(it){return it.close(),this}}),Se.include({bindTooltip:function(it,pt){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oc,this._tooltip,it,pt),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(it){if(!(!it&&this._tooltipHandlersAdded)){var pt=it?"off":"on",St={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?St.add=this._openTooltip:(St.mouseover=this._openTooltip,St.mouseout=this.closeTooltip,St.click=this._openTooltip,this._map?this._addFocusListeners():St.add=this._addFocusListeners),this._tooltip.options.sticky&&(St.mousemove=this._moveTooltip),this[pt](St),this._tooltipHandlersAdded=!it}},openTooltip:function(it){return this._tooltip&&(this instanceof hn||(this._tooltip._source=this),this._tooltip._prepareOpen(it)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(it){return this._tooltip&&this._tooltip.setContent(it),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(it){var pt=typeof it.getElement=="function"&&it.getElement();pt&&(Kr(pt,"focus",function(){this._tooltip._source=it,this.openTooltip()},this),Kr(pt,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(it){var pt=typeof it.getElement=="function"&&it.getElement();pt&&pt.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(it){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var pt=this;this._map.once("moveend",function(){pt._openOnceFlag=!1,pt._openTooltip(it)});return}this._tooltip._source=it.layer||it.target,this.openTooltip(this._tooltip.options.sticky?it.latlng:void 0)}},_moveTooltip:function(it){var pt=it.latlng,St,Ut;this._tooltip.options.sticky&&it.originalEvent&&(St=this._map.mouseEventToContainerPoint(it.originalEvent),Ut=this._map.containerPointToLayerPoint(St),pt=this._map.layerPointToLatLng(Ut)),this._tooltip.setLatLng(pt)}});var rf=lr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(it){var pt=it&&it.tagName==="DIV"?it:document.createElement("div"),St=this.options;if(St.html instanceof Element?(xs(pt),pt.appendChild(St.html)):pt.innerHTML=St.html!==!1?St.html:"",St.bgPos){var Ut=ve(St.bgPos);pt.style.backgroundPosition=-Ut.x+"px "+-Ut.y+"px"}return this._setIconStyles(pt,"icon"),pt},createShadow:function(){return null}});function sd(it){return new rf(it)}lr.Default=ii;var Eh=Se.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tr.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(it){wt(this,it)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(it){it._addZoomLimit(this)},onRemove:function(it){this._removeAllTiles(),Xe(this._container),it._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(an(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Do(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(it){return this.options.opacity=it,this._updateOpacity(),this},setZIndex:function(it){return this.options.zIndex=it,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var it=this._clampZoom(this._map.getZoom());it!==this._tileZoom&&(this._tileZoom=it,this._updateLevels()),this._update()}return this},getEvents:function(){var it={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=nt(this._onMoveEnd,this.options.updateInterval,this)),it.move=this._onMove),this._zoomAnimated&&(it.zoomanim=this._animateZoom),it},createTile:function(){return document.createElement("div")},getTileSize:function(){var it=this.options.tileSize;return it instanceof ye?it:new ye(it,it)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(it){for(var pt=this.getPane().children,St=-it(-1/0,1/0),Ut=0,se=pt.length,Ne;Ut<se;Ut++)Ne=pt[Ut].style.zIndex,pt[Ut]!==this._container&&Ne&&(St=it(St,+Ne));isFinite(St)&&(this.options.zIndex=St+it(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tr.ielt9){Yr(this._container,this.options.opacity);var it=+new Date,pt=!1,St=!1;for(var Ut in this._tiles){var se=this._tiles[Ut];if(!(!se.current||!se.loaded)){var Ne=Math.min(1,(it-se.loaded)/200);Yr(se.el,Ne),Ne<1?pt=!0:(se.active?St=!0:this._onOpaqueTile(se),se.active=!0)}}St&&!this._noPrune&&this._pruneTiles(),pt&&(Dt(this._fadeFrame),this._fadeFrame=Xt(this._updateOpacity,this))}},_onOpaqueTile:ct,_initContainer:function(){this._container||(this._container=Nr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var it=this._tileZoom,pt=this.options.maxZoom;if(it!==void 0){for(var St in this._levels)St=Number(St),this._levels[St].el.children.length||St===it?(this._levels[St].el.style.zIndex=pt-Math.abs(it-St),this._onUpdateLevel(St)):(Xe(this._levels[St].el),this._removeTilesAtZoom(St),this._onRemoveLevel(St),delete this._levels[St]);var Ut=this._levels[it],se=this._map;return Ut||(Ut=this._levels[it]={},Ut.el=Nr("div","leaflet-tile-container leaflet-zoom-animated",this._container),Ut.el.style.zIndex=pt,Ut.origin=se.project(se.unproject(se.getPixelOrigin()),it).round(),Ut.zoom=it,this._setZoomTransform(Ut,se.getCenter(),se.getZoom()),ct(Ut.el.offsetWidth),this._onCreateLevel(Ut)),this._level=Ut,Ut}},_onUpdateLevel:ct,_onRemoveLevel:ct,_onCreateLevel:ct,_pruneTiles:function(){if(this._map){var it,pt,St=this._map.getZoom();if(St>this.options.maxZoom||St<this.options.minZoom){this._removeAllTiles();return}for(it in this._tiles)pt=this._tiles[it],pt.retain=pt.current;for(it in this._tiles)if(pt=this._tiles[it],pt.current&&!pt.active){var Ut=pt.coords;this._retainParent(Ut.x,Ut.y,Ut.z,Ut.z-5)||this._retainChildren(Ut.x,Ut.y,Ut.z,Ut.z+2)}for(it in this._tiles)this._tiles[it].retain||this._removeTile(it)}},_removeTilesAtZoom:function(it){for(var pt in this._tiles)this._tiles[pt].coords.z===it&&this._removeTile(pt)},_removeAllTiles:function(){for(var it in this._tiles)this._removeTile(it)},_invalidateAll:function(){for(var it in this._levels)Xe(this._levels[it].el),this._onRemoveLevel(Number(it)),delete this._levels[it];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(it,pt,St,Ut){var se=Math.floor(it/2),Ne=Math.floor(pt/2),nn=St-1,_n=new ye(+se,+Ne);_n.z=+nn;var kn=this._tileCoordsToKey(_n),Vn=this._tiles[kn];return Vn&&Vn.active?(Vn.retain=!0,!0):(Vn&&Vn.loaded&&(Vn.retain=!0),nn>Ut?this._retainParent(se,Ne,nn,Ut):!1)},_retainChildren:function(it,pt,St,Ut){for(var se=2*it;se<2*it+2;se++)for(var Ne=2*pt;Ne<2*pt+2;Ne++){var nn=new ye(se,Ne);nn.z=St+1;var _n=this._tileCoordsToKey(nn),kn=this._tiles[_n];if(kn&&kn.active){kn.retain=!0;continue}else kn&&kn.loaded&&(kn.retain=!0);St+1<Ut&&this._retainChildren(se,Ne,St+1,Ut)}},_resetView:function(it){var pt=it&&(it.pinch||it.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),pt,pt)},_animateZoom:function(it){this._setView(it.center,it.zoom,!0,it.noUpdate)},_clampZoom:function(it){var pt=this.options;return pt.minNativeZoom!==void 0&&it<pt.minNativeZoom?pt.minNativeZoom:pt.maxNativeZoom!==void 0&&pt.maxNativeZoom<it?pt.maxNativeZoom:it},_setView:function(it,pt,St,Ut){var se=Math.round(pt);this.options.maxZoom!==void 0&&se>this.options.maxZoom||this.options.minZoom!==void 0&&se<this.options.minZoom?se=void 0:se=this._clampZoom(se);var Ne=this.options.updateWhenZooming&&se!==this._tileZoom;(!Ut||Ne)&&(this._tileZoom=se,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),se!==void 0&&this._update(it),St||this._pruneTiles(),this._noPrune=!!St),this._setZoomTransforms(it,pt)},_setZoomTransforms:function(it,pt){for(var St in this._levels)this._setZoomTransform(this._levels[St],it,pt)},_setZoomTransform:function(it,pt,St){var Ut=this._map.getZoomScale(St,it.zoom),se=it.origin.multiplyBy(Ut).subtract(this._map._getNewPixelOrigin(pt,St)).round();tr.any3d?_a(it.el,se,Ut):Mo(it.el,se)},_resetGrid:function(){var it=this._map,pt=it.options.crs,St=this._tileSize=this.getTileSize(),Ut=this._tileZoom,se=this._map.getPixelWorldBounds(this._tileZoom);se&&(this._globalTileRange=this._pxBoundsToTileRange(se)),this._wrapX=pt.wrapLng&&!this.options.noWrap&&[Math.floor(it.project([0,pt.wrapLng[0]],Ut).x/St.x),Math.ceil(it.project([0,pt.wrapLng[1]],Ut).x/St.y)],this._wrapY=pt.wrapLat&&!this.options.noWrap&&[Math.floor(it.project([pt.wrapLat[0],0],Ut).y/St.x),Math.ceil(it.project([pt.wrapLat[1],0],Ut).y/St.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(it){var pt=this._map,St=pt._animatingZoom?Math.max(pt._animateToZoom,pt.getZoom()):pt.getZoom(),Ut=pt.getZoomScale(St,this._tileZoom),se=pt.project(it,this._tileZoom).floor(),Ne=pt.getSize().divideBy(Ut*2);return new Ce(se.subtract(Ne),se.add(Ne))},_update:function(it){var pt=this._map;if(pt){var St=this._clampZoom(pt.getZoom());if(it===void 0&&(it=pt.getCenter()),this._tileZoom!==void 0){var Ut=this._getTiledPixelBounds(it),se=this._pxBoundsToTileRange(Ut),Ne=se.getCenter(),nn=[],_n=this.options.keepBuffer,kn=new Ce(se.getBottomLeft().subtract([_n,-_n]),se.getTopRight().add([_n,-_n]));if(!(isFinite(se.min.x)&&isFinite(se.min.y)&&isFinite(se.max.x)&&isFinite(se.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Vn in this._tiles){var yr=this._tiles[Vn].coords;(yr.z!==this._tileZoom||!kn.contains(new ye(yr.x,yr.y)))&&(this._tiles[Vn].current=!1)}if(Math.abs(St-this._tileZoom)>1){this._setView(it,St);return}for(var qr=se.min.y;qr<=se.max.y;qr++)for(var vi=se.min.x;vi<=se.max.x;vi++){var ta=new ye(vi,qr);if(ta.z=this._tileZoom,!!this._isValidTile(ta)){var os=this._tiles[this._tileCoordsToKey(ta)];os?os.current=!0:nn.push(ta)}}if(nn.sort(function(ua,Rc){return ua.distanceTo(Ne)-Rc.distanceTo(Ne)}),nn.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ea=document.createDocumentFragment();for(vi=0;vi<nn.length;vi++)this._addTile(nn[vi],ea);this._level.el.appendChild(ea)}}}},_isValidTile:function(it){var pt=this._map.options.crs;if(!pt.infinite){var St=this._globalTileRange;if(!pt.wrapLng&&(it.x<St.min.x||it.x>St.max.x)||!pt.wrapLat&&(it.y<St.min.y||it.y>St.max.y))return!1}if(!this.options.bounds)return!0;var Ut=this._tileCoordsToBounds(it);return Je(this.options.bounds).overlaps(Ut)},_keyToBounds:function(it){return this._tileCoordsToBounds(this._keyToTileCoords(it))},_tileCoordsToNwSe:function(it){var pt=this._map,St=this.getTileSize(),Ut=it.scaleBy(St),se=Ut.add(St),Ne=pt.unproject(Ut,it.z),nn=pt.unproject(se,it.z);return[Ne,nn]},_tileCoordsToBounds:function(it){var pt=this._tileCoordsToNwSe(it),St=new Oe(pt[0],pt[1]);return this.options.noWrap||(St=this._map.wrapLatLngBounds(St)),St},_tileCoordsToKey:function(it){return it.x+":"+it.y+":"+it.z},_keyToTileCoords:function(it){var pt=it.split(":"),St=new ye(+pt[0],+pt[1]);return St.z=+pt[2],St},_removeTile:function(it){var pt=this._tiles[it];pt&&(Xe(pt.el),delete this._tiles[it],this.fire("tileunload",{tile:pt.el,coords:this._keyToTileCoords(it)}))},_initTile:function(it){ei(it,"leaflet-tile");var pt=this.getTileSize();it.style.width=pt.x+"px",it.style.height=pt.y+"px",it.onselectstart=ct,it.onmousemove=ct,tr.ielt9&&this.options.opacity<1&&Yr(it,this.options.opacity)},_addTile:function(it,pt){var St=this._getTilePos(it),Ut=this._tileCoordsToKey(it),se=this.createTile(this._wrapCoords(it),q(this._tileReady,this,it));this._initTile(se),this.createTile.length<2&&Xt(q(this._tileReady,this,it,null,se)),Mo(se,St),this._tiles[Ut]={el:se,coords:it,current:!0},pt.appendChild(se),this.fire("tileloadstart",{tile:se,coords:it})},_tileReady:function(it,pt,St){pt&&this.fire("tileerror",{error:pt,tile:St,coords:it});var Ut=this._tileCoordsToKey(it);St=this._tiles[Ut],St&&(St.loaded=+new Date,this._map._fadeAnimated?(Yr(St.el,0),Dt(this._fadeFrame),this._fadeFrame=Xt(this._updateOpacity,this)):(St.active=!0,this._pruneTiles()),pt||(ei(St.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:St.el,coords:it})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tr.ielt9||!this._map._fadeAnimated?Xt(this._pruneTiles,this):setTimeout(q(this._pruneTiles,this),250)))},_getTilePos:function(it){return it.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(it){var pt=new ye(this._wrapX?st(it.x,this._wrapX):it.x,this._wrapY?st(it.y,this._wrapY):it.y);return pt.z=it.z,pt},_pxBoundsToTileRange:function(it){var pt=this.getTileSize();return new Ce(it.min.unscaleBy(pt).floor(),it.max.unscaleBy(pt).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var it in this._tiles)if(!this._tiles[it].loaded)return!1;return!0}});function op(it){return new Eh(it)}var Pc=Eh.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(it,pt){this._url=it,pt=wt(this,pt),pt.detectRetina&&tr.retina&&pt.maxZoom>0?(pt.tileSize=Math.floor(pt.tileSize/2),pt.zoomReverse?(pt.zoomOffset--,pt.minZoom=Math.min(pt.maxZoom,pt.minZoom+1)):(pt.zoomOffset++,pt.maxZoom=Math.max(pt.minZoom,pt.maxZoom-1)),pt.minZoom=Math.max(0,pt.minZoom)):pt.zoomReverse?pt.minZoom=Math.min(pt.maxZoom,pt.minZoom):pt.maxZoom=Math.max(pt.minZoom,pt.maxZoom),typeof pt.subdomains=="string"&&(pt.subdomains=pt.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(it,pt){return this._url===it&&pt===void 0&&(pt=!0),this._url=it,pt||this.redraw(),this},createTile:function(it,pt){var St=document.createElement("img");return Kr(St,"load",q(this._tileOnLoad,this,pt,St)),Kr(St,"error",q(this._tileOnError,this,pt,St)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(St.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(St.referrerPolicy=this.options.referrerPolicy),St.alt="",St.src=this.getTileUrl(it),St},getTileUrl:function(it){var pt={r:tr.retina?"@2x":"",s:this._getSubdomain(it),x:it.x,y:it.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var St=this._globalTileRange.max.y-it.y;this.options.tms&&(pt.y=St),pt["-y"]=St}return Et(this._url,Y(pt,this.options))},_tileOnLoad:function(it,pt){tr.ielt9?setTimeout(q(it,this,null,pt),0):it(null,pt)},_tileOnError:function(it,pt,St){var Ut=this.options.errorTileUrl;Ut&&pt.getAttribute("src")!==Ut&&(pt.src=Ut),it(St,pt)},_onTileRemove:function(it){it.tile.onload=null},_getZoomForUrl:function(){var it=this._tileZoom,pt=this.options.maxZoom,St=this.options.zoomReverse,Ut=this.options.zoomOffset;return St&&(it=pt-it),it+Ut},_getSubdomain:function(it){var pt=Math.abs(it.x+it.y)%this.options.subdomains.length;return this.options.subdomains[pt]},_abortLoading:function(){var it,pt;for(it in this._tiles)if(this._tiles[it].coords.z!==this._tileZoom&&(pt=this._tiles[it].el,pt.onload=ct,pt.onerror=ct,!pt.complete)){pt.src=Ft;var St=this._tiles[it].coords;Xe(pt),delete this._tiles[it],this.fire("tileabort",{tile:pt,coords:St})}},_removeTile:function(it){var pt=this._tiles[it];if(pt)return pt.el.setAttribute("src",Ft),Eh.prototype._removeTile.call(this,it)},_tileReady:function(it,pt,St){if(!(!this._map||St&&St.getAttribute("src")===Ft))return Eh.prototype._tileReady.call(this,it,pt,St)}});function Mh(it,pt){return new Pc(it,pt)}var Uu=Pc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(it,pt){this._url=it;var St=Y({},this.defaultWmsParams);for(var Ut in pt)Ut in this.options||(St[Ut]=pt[Ut]);pt=wt(this,pt);var se=pt.detectRetina&&tr.retina?2:1,Ne=this.getTileSize();St.width=Ne.x*se,St.height=Ne.y*se,this.wmsParams=St},onAdd:function(it){this._crs=this.options.crs||it.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var pt=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[pt]=this._crs.code,Pc.prototype.onAdd.call(this,it)},getTileUrl:function(it){var pt=this._tileCoordsToNwSe(it),St=this._crs,Ut=De(St.project(pt[0]),St.project(pt[1])),se=Ut.min,Ne=Ut.max,nn=(this._wmsVersion>=1.3&&this._crs===Rt?[se.y,se.x,Ne.y,Ne.x]:[se.x,se.y,Ne.x,Ne.y]).join(","),_n=Pc.prototype.getTileUrl.call(this,it);return _n+mt(this.wmsParams,_n,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+nn},setParams:function(it,pt){return Y(this.wmsParams,it),pt||this.redraw(),this}});function of(it,pt){return new Uu(it,pt)}Pc.WMS=Uu,Mh.wms=of;var yl=Se.extend({options:{padding:.1},initialize:function(it){wt(this,it),tt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ei(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var it={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(it.zoomanim=this._onAnimZoom),it},_onAnimZoom:function(it){this._updateTransform(it.center,it.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(it,pt){var St=this._map.getZoomScale(pt,this._zoom),Ut=this._map.getSize().multiplyBy(.5+this.options.padding),se=this._map.project(this._center,pt),Ne=Ut.multiplyBy(-St).add(se).subtract(this._map._getNewPixelOrigin(it,pt));tr.any3d?_a(this._container,Ne,St):Mo(this._container,Ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var it in this._layers)this._layers[it]._reset()},_onZoomEnd:function(){for(var it in this._layers)this._layers[it]._project()},_updatePaths:function(){for(var it in this._layers)this._layers[it]._update()},_update:function(){var it=this.options.padding,pt=this._map.getSize(),St=this._map.containerPointToLayerPoint(pt.multiplyBy(-it)).round();this._bounds=new Ce(St,St.add(pt.multiplyBy(1+it*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ad=yl.extend({options:{tolerance:0},getEvents:function(){var it=yl.prototype.getEvents.call(this);return it.viewprereset=this._onViewPreReset,it},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var it=this._container=document.createElement("canvas");Kr(it,"mousemove",this._onMouseMove,this),Kr(it,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kr(it,"mouseout",this._handleMouseOut,this),it._leaflet_disable_events=!0,this._ctx=it.getContext("2d")},_destroyContainer:function(){Dt(this._redrawRequest),delete this._ctx,Xe(this._container),zr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var it;this._redrawBounds=null;for(var pt in this._layers)it=this._layers[pt],it._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yl.prototype._update.call(this);var it=this._bounds,pt=this._container,St=it.getSize(),Ut=tr.retina?2:1;Mo(pt,it.min),pt.width=Ut*St.x,pt.height=Ut*St.y,pt.style.width=St.x+"px",pt.style.height=St.y+"px",tr.retina&&this._ctx.scale(2,2),this._ctx.translate(-it.min.x,-it.min.y),this.fire("update")}},_reset:function(){yl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(it){this._updateDashArray(it),this._layers[tt(it)]=it;var pt=it._order={layer:it,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=pt),this._drawLast=pt,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(it){this._requestRedraw(it)},_removePath:function(it){var pt=it._order,St=pt.next,Ut=pt.prev;St?St.prev=Ut:this._drawLast=Ut,Ut?Ut.next=St:this._drawFirst=St,delete it._order,delete this._layers[tt(it)],this._requestRedraw(it)},_updatePath:function(it){this._extendRedrawBounds(it),it._project(),it._update(),this._requestRedraw(it)},_updateStyle:function(it){this._updateDashArray(it),this._requestRedraw(it)},_updateDashArray:function(it){if(typeof it.options.dashArray=="string"){var pt=it.options.dashArray.split(/[, ]+/),St=[],Ut,se;for(se=0;se<pt.length;se++){if(Ut=Number(pt[se]),isNaN(Ut))return;St.push(Ut)}it.options._dashArray=St}else it.options._dashArray=it.options.dashArray},_requestRedraw:function(it){this._map&&(this._extendRedrawBounds(it),this._redrawRequest=this._redrawRequest||Xt(this._redraw,this))},_extendRedrawBounds:function(it){if(it._pxBounds){var pt=(it.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ce,this._redrawBounds.extend(it._pxBounds.min.subtract([pt,pt])),this._redrawBounds.extend(it._pxBounds.max.add([pt,pt]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var it=this._redrawBounds;if(it){var pt=it.getSize();this._ctx.clearRect(it.min.x,it.min.y,pt.x,pt.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var it,pt=this._redrawBounds;if(this._ctx.save(),pt){var St=pt.getSize();this._ctx.beginPath(),this._ctx.rect(pt.min.x,pt.min.y,St.x,St.y),this._ctx.clip()}this._drawing=!0;for(var Ut=this._drawFirst;Ut;Ut=Ut.next)it=Ut.layer,(!pt||it._pxBounds&&it._pxBounds.intersects(pt))&&it._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(it,pt){if(this._drawing){var St,Ut,se,Ne,nn=it._parts,_n=nn.length,kn=this._ctx;if(_n){for(kn.beginPath(),St=0;St<_n;St++){for(Ut=0,se=nn[St].length;Ut<se;Ut++)Ne=nn[St][Ut],kn[Ut?"lineTo":"moveTo"](Ne.x,Ne.y);pt&&kn.closePath()}this._fillStroke(kn,it)}}},_updateCircle:function(it){if(!(!this._drawing||it._empty())){var pt=it._point,St=this._ctx,Ut=Math.max(Math.round(it._radius),1),se=(Math.max(Math.round(it._radiusY),1)||Ut)/Ut;se!==1&&(St.save(),St.scale(1,se)),St.beginPath(),St.arc(pt.x,pt.y/se,Ut,0,Math.PI*2,!1),se!==1&&St.restore(),this._fillStroke(St,it)}},_fillStroke:function(it,pt){var St=pt.options;St.fill&&(it.globalAlpha=St.fillOpacity,it.fillStyle=St.fillColor||St.color,it.fill(St.fillRule||"evenodd")),St.stroke&&St.weight!==0&&(it.setLineDash&&it.setLineDash(pt.options&&pt.options._dashArray||[]),it.globalAlpha=St.opacity,it.lineWidth=St.weight,it.strokeStyle=St.color,it.lineCap=St.lineCap,it.lineJoin=St.lineJoin,it.stroke())},_onClick:function(it){for(var pt=this._map.mouseEventToLayerPoint(it),St,Ut,se=this._drawFirst;se;se=se.next)St=se.layer,St.options.interactive&&St._containsPoint(pt)&&(!(it.type==="click"||it.type==="preclick")||!this._map._draggableMoved(St))&&(Ut=St);this._fireEvent(Ut?[Ut]:!1,it)},_onMouseMove:function(it){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var pt=this._map.mouseEventToLayerPoint(it);this._handleMouseHover(it,pt)}},_handleMouseOut:function(it){var pt=this._hoveredLayer;pt&&(Pr(this._container,"leaflet-interactive"),this._fireEvent([pt],it,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(it,pt){if(!this._mouseHoverThrottled){for(var St,Ut,se=this._drawFirst;se;se=se.next)St=se.layer,St.options.interactive&&St._containsPoint(pt)&&(Ut=St);Ut!==this._hoveredLayer&&(this._handleMouseOut(it),Ut&&(ei(this._container,"leaflet-interactive"),this._fireEvent([Ut],it,"mouseover"),this._hoveredLayer=Ut)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,it),this._mouseHoverThrottled=!0,setTimeout(q(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(it,pt,St){this._map._fireDOMEvent(pt,St||pt.type,it)},_bringToFront:function(it){var pt=it._order;if(pt){var St=pt.next,Ut=pt.prev;if(St)St.prev=Ut;else return;Ut?Ut.next=St:St&&(this._drawFirst=St),pt.prev=this._drawLast,this._drawLast.next=pt,pt.next=null,this._drawLast=pt,this._requestRedraw(it)}},_bringToBack:function(it){var pt=it._order;if(pt){var St=pt.next,Ut=pt.prev;if(Ut)Ut.next=St;else return;St?St.prev=Ut:Ut&&(this._drawLast=Ut),pt.prev=null,pt.next=this._drawFirst,this._drawFirst.prev=pt,this._drawFirst=pt,this._requestRedraw(it)}}});function ld(it){return tr.canvas?new ad(it):null}var zc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(it){return document.createElement("<lvml:"+it+' class="lvml">')}}catch{}return function(it){return document.createElement("<"+it+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Aa={_initContainer:function(){this._container=Nr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yl.prototype._update.call(this),this.fire("update"))},_initPath:function(it){var pt=it._container=zc("shape");ei(pt,"leaflet-vml-shape "+(this.options.className||"")),pt.coordsize="1 1",it._path=zc("path"),pt.appendChild(it._path),this._updateStyle(it),this._layers[tt(it)]=it},_addPath:function(it){var pt=it._container;this._container.appendChild(pt),it.options.interactive&&it.addInteractiveTarget(pt)},_removePath:function(it){var pt=it._container;Xe(pt),it.removeInteractiveTarget(pt),delete this._layers[tt(it)]},_updateStyle:function(it){var pt=it._stroke,St=it._fill,Ut=it.options,se=it._container;se.stroked=!!Ut.stroke,se.filled=!!Ut.fill,Ut.stroke?(pt||(pt=it._stroke=zc("stroke")),se.appendChild(pt),pt.weight=Ut.weight+"px",pt.color=Ut.color,pt.opacity=Ut.opacity,Ut.dashArray?pt.dashStyle=At(Ut.dashArray)?Ut.dashArray.join(" "):Ut.dashArray.replace(/( *, *)/g," "):pt.dashStyle="",pt.endcap=Ut.lineCap.replace("butt","flat"),pt.joinstyle=Ut.lineJoin):pt&&(se.removeChild(pt),it._stroke=null),Ut.fill?(St||(St=it._fill=zc("fill")),se.appendChild(St),St.color=Ut.fillColor||Ut.color,St.opacity=Ut.fillOpacity):St&&(se.removeChild(St),it._fill=null)},_updateCircle:function(it){var pt=it._point.round(),St=Math.round(it._radius),Ut=Math.round(it._radiusY||St);this._setPath(it,it._empty()?"M0 0":"AL "+pt.x+","+pt.y+" "+St+","+Ut+" 0,"+65535*360)},_setPath:function(it,pt){it._path.v=pt},_bringToFront:function(it){an(it._container)},_bringToBack:function(it){Do(it._container)}},cd=tr.vml?zc:$t,Yu=yl.extend({_initContainer:function(){this._container=cd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xe(this._container),zr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yl.prototype._update.call(this);var it=this._bounds,pt=it.getSize(),St=this._container;(!this._svgSize||!this._svgSize.equals(pt))&&(this._svgSize=pt,St.setAttribute("width",pt.x),St.setAttribute("height",pt.y)),Mo(St,it.min),St.setAttribute("viewBox",[it.min.x,it.min.y,pt.x,pt.y].join(" ")),this.fire("update")}},_initPath:function(it){var pt=it._path=cd("path");it.options.className&&ei(pt,it.options.className),it.options.interactive&&ei(pt,"leaflet-interactive"),this._updateStyle(it),this._layers[tt(it)]=it},_addPath:function(it){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(it._path),it.addInteractiveTarget(it._path)},_removePath:function(it){Xe(it._path),it.removeInteractiveTarget(it._path),delete this._layers[tt(it)]},_updatePath:function(it){it._project(),it._update()},_updateStyle:function(it){var pt=it._path,St=it.options;pt&&(St.stroke?(pt.setAttribute("stroke",St.color),pt.setAttribute("stroke-opacity",St.opacity),pt.setAttribute("stroke-width",St.weight),pt.setAttribute("stroke-linecap",St.lineCap),pt.setAttribute("stroke-linejoin",St.lineJoin),St.dashArray?pt.setAttribute("stroke-dasharray",St.dashArray):pt.removeAttribute("stroke-dasharray"),St.dashOffset?pt.setAttribute("stroke-dashoffset",St.dashOffset):pt.removeAttribute("stroke-dashoffset")):pt.setAttribute("stroke","none"),St.fill?(pt.setAttribute("fill",St.fillColor||St.color),pt.setAttribute("fill-opacity",St.fillOpacity),pt.setAttribute("fill-rule",St.fillRule||"evenodd")):pt.setAttribute("fill","none"))},_updatePoly:function(it,pt){this._setPath(it,oe(it._parts,pt))},_updateCircle:function(it){var pt=it._point,St=Math.max(Math.round(it._radius),1),Ut=Math.max(Math.round(it._radiusY),1)||St,se="a"+St+","+Ut+" 0 1,0 ",Ne=it._empty()?"M0 0":"M"+(pt.x-St)+","+pt.y+se+St*2+",0 "+se+-St*2+",0 ";this._setPath(it,Ne)},_setPath:function(it,pt){it._path.setAttribute("d",pt)},_bringToFront:function(it){an(it._path)},_bringToBack:function(it){Do(it._path)}});tr.vml&&Yu.include(Aa);function sf(it){return tr.svg||tr.vml?new Yu(it):null}mi.include({getRenderer:function(it){var pt=it.options.renderer||this._getPaneRenderer(it.options.pane)||this.options.renderer||this._renderer;return pt||(pt=this._renderer=this._createRenderer()),this.hasLayer(pt)||this.addLayer(pt),pt},_getPaneRenderer:function(it){if(it==="overlayPane"||it===void 0)return!1;var pt=this._paneRenderers[it];return pt===void 0&&(pt=this._createRenderer({pane:it}),this._paneRenderers[it]=pt),pt},_createRenderer:function(it){return this.options.preferCanvas&&ld(it)||sf(it)}});var ud=Bl.extend({initialize:function(it,pt){Bl.prototype.initialize.call(this,this._boundsToLatLngs(it),pt)},setBounds:function(it){return this.setLatLngs(this._boundsToLatLngs(it))},_boundsToLatLngs:function(it){return it=Je(it),[it.getSouthWest(),it.getNorthWest(),it.getNorthEast(),it.getSouthEast()]}});function sp(it,pt){return new ud(it,pt)}Yu.create=cd,Yu.pointsToPath=oe,ki.geometryToLayer=au,ki.coordsToLatLng=Ca,ki.coordsToLatLngs=ka,ki.latLngToCoords=$l,ki.latLngsToCoords=lu,ki.getFeature=cu,ki.asFeature=wh,mi.mergeOptions({boxZoom:!0});var hd=vo.extend({initialize:function(it){this._map=it,this._container=it._container,this._pane=it._panes.overlayPane,this._resetStateTimeout=0,it.on("unload",this._destroy,this)},addHooks:function(){Kr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(it){if(!it.shiftKey||it.which!==1&&it.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Es(),wa(),this._startPoint=this._map.mouseEventToContainerPoint(it),Kr(document,{contextmenu:la,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(it){this._moved||(this._moved=!0,this._box=Nr("div","leaflet-zoom-box",this._container),ei(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(it);var pt=new Ce(this._point,this._startPoint),St=pt.getSize();Mo(this._box,pt.min),this._box.style.width=St.x+"px",this._box.style.height=St.y+"px"},_finish:function(){this._moved&&(Xe(this._box),Pr(this._container,"leaflet-crosshair")),Io(),Os(),zr(document,{contextmenu:la,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(it){if(!(it.which!==1&&it.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(q(this._resetState,this),0);var pt=new Oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(pt).fire("boxzoomend",{boxZoomBounds:pt})}},_onKeyDown:function(it){it.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mi.addInitHook("addHandler","boxZoom",hd),mi.mergeOptions({doubleClickZoom:!0});var Hu=vo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(it){var pt=this._map,St=pt.getZoom(),Ut=pt.options.zoomDelta,se=it.originalEvent.shiftKey?St-Ut:St+Ut;pt.options.doubleClickZoom==="center"?pt.setZoom(se):pt.setZoomAround(it.containerPoint,se)}});mi.addInitHook("addHandler","doubleClickZoom",Hu),mi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Th=vo.extend({addHooks:function(){if(!this._draggable){var it=this._map;this._draggable=new ko(it._mapPane,it._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),it.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),it.on("zoomend",this._onZoomEnd,this),it.whenReady(this._onZoomEnd,this))}ei(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pr(this._map._container,"leaflet-grab"),Pr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var it=this._map;if(it._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var pt=Je(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(pt.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(pt.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;it.fire("movestart").fire("dragstart"),it.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(it){if(this._map.options.inertia){var pt=this._lastTime=+new Date,St=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(St),this._times.push(pt),this._prunePositions(pt)}this._map.fire("move",it).fire("drag",it)},_prunePositions:function(it){for(;this._positions.length>1&&it-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var it=this._map.getSize().divideBy(2),pt=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=pt.subtract(it).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(it,pt){return it-(it-pt)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var it=this._draggable._newPos.subtract(this._draggable._startPos),pt=this._offsetLimit;it.x<pt.min.x&&(it.x=this._viscousLimit(it.x,pt.min.x)),it.y<pt.min.y&&(it.y=this._viscousLimit(it.y,pt.min.y)),it.x>pt.max.x&&(it.x=this._viscousLimit(it.x,pt.max.x)),it.y>pt.max.y&&(it.y=this._viscousLimit(it.y,pt.max.y)),this._draggable._newPos=this._draggable._startPos.add(it)}},_onPreDragWrap:function(){var it=this._worldWidth,pt=Math.round(it/2),St=this._initialWorldOffset,Ut=this._draggable._newPos.x,se=(Ut-pt+St)%it+pt-St,Ne=(Ut+pt+St)%it-pt-St,nn=Math.abs(se+St)<Math.abs(Ne+St)?se:Ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=nn},_onDragEnd:function(it){var pt=this._map,St=pt.options,Ut=!St.inertia||it.noInertia||this._times.length<2;if(pt.fire("dragend",it),Ut)pt.fire("moveend");else{this._prunePositions(+new Date);var se=this._lastPos.subtract(this._positions[0]),Ne=(this._lastTime-this._times[0])/1e3,nn=St.easeLinearity,_n=se.multiplyBy(nn/Ne),kn=_n.distanceTo([0,0]),Vn=Math.min(St.inertiaMaxSpeed,kn),yr=_n.multiplyBy(Vn/kn),qr=Vn/(St.inertiaDeceleration*nn),vi=yr.multiplyBy(-qr/2).round();!vi.x&&!vi.y?pt.fire("moveend"):(vi=pt._limitOffset(vi,pt.options.maxBounds),Xt(function(){pt.panBy(vi,{duration:qr,easeLinearity:nn,noMoveStart:!0,animate:!0})}))}}});mi.addInitHook("addHandler","dragging",Th),mi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ap=vo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(it){this._map=it,this._setPanDelta(it.options.keyboardPanDelta),this._setZoomDelta(it.options.zoomDelta)},addHooks:function(){var it=this._map._container;it.tabIndex<=0&&(it.tabIndex="0"),Kr(it,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var it=document.body,pt=document.documentElement,St=it.scrollTop||pt.scrollTop,Ut=it.scrollLeft||pt.scrollLeft;this._map._container.focus(),window.scrollTo(Ut,St)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(it){var pt=this._panKeys={},St=this.keyCodes,Ut,se;for(Ut=0,se=St.left.length;Ut<se;Ut++)pt[St.left[Ut]]=[-1*it,0];for(Ut=0,se=St.right.length;Ut<se;Ut++)pt[St.right[Ut]]=[it,0];for(Ut=0,se=St.down.length;Ut<se;Ut++)pt[St.down[Ut]]=[0,it];for(Ut=0,se=St.up.length;Ut<se;Ut++)pt[St.up[Ut]]=[0,-1*it]},_setZoomDelta:function(it){var pt=this._zoomKeys={},St=this.keyCodes,Ut,se;for(Ut=0,se=St.zoomIn.length;Ut<se;Ut++)pt[St.zoomIn[Ut]]=it;for(Ut=0,se=St.zoomOut.length;Ut<se;Ut++)pt[St.zoomOut[Ut]]=-it},_addHooks:function(){Kr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(it){if(!(it.altKey||it.ctrlKey||it.metaKey)){var pt=it.keyCode,St=this._map,Ut;if(pt in this._panKeys){if(!St._panAnim||!St._panAnim._inProgress)if(Ut=this._panKeys[pt],it.shiftKey&&(Ut=ve(Ut).multiplyBy(3)),St.options.maxBounds&&(Ut=St._limitOffset(ve(Ut),St.options.maxBounds)),St.options.worldCopyJump){var se=St.wrapLatLng(St.unproject(St.project(St.getCenter()).add(Ut)));St.panTo(se)}else St.panBy(Ut)}else if(pt in this._zoomKeys)St.setZoom(St.getZoom()+(it.shiftKey?3:1)*this._zoomKeys[pt]);else if(pt===27&&St._popup&&St._popup.options.closeOnEscapeKey)St.closePopup();else return;la(it)}}});mi.addInitHook("addHandler","keyboard",ap),mi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uu=vo.extend({addHooks:function(){Kr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(it){var pt=Ba(it),St=this._map.options.wheelDebounceTime;this._delta+=pt,this._lastMousePos=this._map.mouseEventToContainerPoint(it),this._startTime||(this._startTime=+new Date);var Ut=Math.max(St-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(q(this._performZoom,this),Ut),la(it)},_performZoom:function(){var it=this._map,pt=it.getZoom(),St=this._map.options.zoomSnap||0;it._stop();var Ut=this._delta/(this._map.options.wheelPxPerZoomLevel*4),se=4*Math.log(2/(1+Math.exp(-Math.abs(Ut))))/Math.LN2,Ne=St?Math.ceil(se/St)*St:se,nn=it._limitZoom(pt+(this._delta>0?Ne:-Ne))-pt;this._delta=0,this._startTime=null,nn&&(it.options.scrollWheelZoom==="center"?it.setZoom(pt+nn):it.setZoomAround(this._lastMousePos,pt+nn))}});mi.addInitHook("addHandler","scrollWheelZoom",uu);var hg=600;mi.mergeOptions({tapHold:tr.touchNative&&tr.safari&&tr.mobile,tapTolerance:15});var af=vo.extend({addHooks:function(){Kr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(it){if(clearTimeout(this._holdTimeout),it.touches.length===1){var pt=it.touches[0];this._startPos=this._newPos=new ye(pt.clientX,pt.clientY),this._holdTimeout=setTimeout(q(function(){this._cancel(),this._isTapValid()&&(Kr(document,"touchend",Ho),Kr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",pt))},this),hg),Kr(document,"touchend touchcancel contextmenu",this._cancel,this),Kr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function it(){zr(document,"touchend",Ho),zr(document,"touchend touchcancel",it)},_cancel:function(){clearTimeout(this._holdTimeout),zr(document,"touchend touchcancel contextmenu",this._cancel,this),zr(document,"touchmove",this._onMove,this)},_onMove:function(it){var pt=it.touches[0];this._newPos=new ye(pt.clientX,pt.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(it,pt){var St=new MouseEvent(it,{bubbles:!0,cancelable:!0,view:window,screenX:pt.screenX,screenY:pt.screenY,clientX:pt.clientX,clientY:pt.clientY});St._simulated=!0,pt.target.dispatchEvent(St)}});mi.addInitHook("addHandler","tapHold",af),mi.mergeOptions({touchZoom:tr.touch,bounceAtZoomLimits:!0});var Vu=vo.extend({addHooks:function(){ei(this._map._container,"leaflet-touch-zoom"),Kr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pr(this._map._container,"leaflet-touch-zoom"),zr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(it){var pt=this._map;if(!(!it.touches||it.touches.length!==2||pt._animatingZoom||this._zooming)){var St=pt.mouseEventToContainerPoint(it.touches[0]),Ut=pt.mouseEventToContainerPoint(it.touches[1]);this._centerPoint=pt.getSize()._divideBy(2),this._startLatLng=pt.containerPointToLatLng(this._centerPoint),pt.options.touchZoom!=="center"&&(this._pinchStartLatLng=pt.containerPointToLatLng(St.add(Ut)._divideBy(2))),this._startDist=St.distanceTo(Ut),this._startZoom=pt.getZoom(),this._moved=!1,this._zooming=!0,pt._stop(),Kr(document,"touchmove",this._onTouchMove,this),Kr(document,"touchend touchcancel",this._onTouchEnd,this),Ho(it)}},_onTouchMove:function(it){if(!(!it.touches||it.touches.length!==2||!this._zooming)){var pt=this._map,St=pt.mouseEventToContainerPoint(it.touches[0]),Ut=pt.mouseEventToContainerPoint(it.touches[1]),se=St.distanceTo(Ut)/this._startDist;if(this._zoom=pt.getScaleZoom(se,this._startZoom),!pt.options.bounceAtZoomLimits&&(this._zoom<pt.getMinZoom()&&se<1||this._zoom>pt.getMaxZoom()&&se>1)&&(this._zoom=pt._limitZoom(this._zoom)),pt.options.touchZoom==="center"){if(this._center=this._startLatLng,se===1)return}else{var Ne=St._add(Ut)._divideBy(2)._subtract(this._centerPoint);if(se===1&&Ne.x===0&&Ne.y===0)return;this._center=pt.unproject(pt.project(this._pinchStartLatLng,this._zoom).subtract(Ne),this._zoom)}this._moved||(pt._moveStart(!0,!1),this._moved=!0),Dt(this._animRequest);var nn=q(pt._move,pt,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Xt(nn,this,!0),Ho(it)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Dt(this._animRequest),zr(document,"touchmove",this._onTouchMove,this),zr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mi.addInitHook("addHandler","touchZoom",Vu),mi.BoxZoom=hd,mi.DoubleClickZoom=Hu,mi.Drag=Th,mi.Keyboard=ap,mi.ScrollWheelZoom=uu,mi.TapHold=af,mi.TouchZoom=Vu,z.Bounds=Ce,z.Browser=tr,z.CRS=we,z.Canvas=ad,z.Circle=Sa,z.CircleMarker=ao,z.Class=Nt,z.Control=Xs,z.DivIcon=rf,z.DivOverlay=zo,z.DomEvent=zs,z.DomUtil=Rl,z.Draggable=ko,z.Evented=de,z.FeatureGroup=hn,z.GeoJSON=ki,z.GridLayer=Eh,z.Handler=vo,z.Icon=lr,z.ImageOverlay=lc,z.LatLng=qe,z.LatLngBounds=Oe,z.Layer=Se,z.LayerGroup=Re,z.LineUtil=Fa,z.Map=mi,z.Marker=Ci,z.Mixin=ju,z.Path=to,z.Point=ye,z.PolyUtil=Ms,z.Polygon=Bl,z.Polyline=il,z.Popup=Fu,z.PosAnimation=Pu,z.Projection=Ic,z.Rectangle=ud,z.Renderer=yl,z.SVG=Yu,z.SVGOverlay=Go,z.TileLayer=Pc,z.Tooltip=Oc,z.Transformation=Ye,z.Util=Qt,z.VideoOverlay=nf,z.bind=q,z.bounds=De,z.canvas=ld,z.circle=ef,z.circleMarker=ho,z.control=kc,z.divIcon=sd,z.extend=Y,z.featureGroup=Ln,z.geoJSON=rd,z.geoJson=cg,z.gridLayer=op,z.icon=yi,z.imageOverlay=ug,z.latLng=ze,z.latLngBounds=Je,z.layerGroup=Ke,z.map=zu,z.marker=Ri,z.point=ve,z.polygon=nd,z.polyline=$u,z.popup=Fl,z.rectangle=sp,z.setOptions=wt,z.stamp=tt,z.svg=sf,z.svgOverlay=rp,z.tileLayer=Mh,z.tooltip=ip,z.transformation=Kt,z.version=F,z.videoOverlay=od;var Gu=window.L;z.noConflict=function(){return window.L=Gu,this},window.L=z})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;const L$1=getDefaultExportFromCjs(leafletSrcExports);var leafletGestureHandling_min={exports:{}};(function(D,O){(function(z,F){F(O)})(commonjsGlobal$1,function(z){var F={ar:{touch:"   ",scroll:" ctrl + scroll / ",scrollMac:"   +  / "},bg:{touch:"  ,    ",scroll:"  Ctrl ,  ,      ",scrollMac:"   ,  ,      "},bn:{touch:"     ",scroll:"   ctrl + scroll  ",scrollMac:"       "},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla  mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"Kposunut mapy pouijte dva prsty",scroll:"Velikost zobrazen mapy zmte podrenm klvesy Ctrl aposouvnm koleka myi",scrollMac:"Velikost zobrazen mapy zmnte podrenm klvesy  aposunutm koleka myi / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud p kortet",scrollMac:"Brug  + rullefunktionen til at zoome ind og ud p kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:""},el:{touch:"      ",scroll:"   Ctrl  ,     ",scrollMac:"    +     "},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantn pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantn pulsada la tecla  mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta  eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"        .",scroll:"    ctrl + scroll  ",scrollMac:"     +   ."},fi:{touch:"Siirr karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittmll.",scrollMac:"Zoomaa karttaa pitmll painike  painettuna ja vierittmll."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang  + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deuxdoigts pour dplacer la carte",scroll:"Vous pouvez zoomer sur la carte  l'aide de CTRL+Molette de dfilement",scrollMac:"Vous pouvez zoomer sur la carte  l'aide de +Molette de dfilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme  e desprzate para ampliar o mapa"},gu:{touch:"     ",scroll:"    ctrl +   ",scrollMac:"    +   "},hi:{touch:"              ",scroll:"      ctrl +    ",scrollMac:"       +    "},hr:{touch:"Pomiite kartu pomou dva prsta",scroll:"Upotrijebite Ctrl i kliza mia da biste zumirali kartu",scrollMac:"Upotrijebite gumb  dok se pomiete za zumiranje karte"},hu:{touch:"Kt ujjal mozgassa a trkpet",scroll:"A trkp a ctrl + grgets hasznlatval nagythat",scrollMac:"A trkp a  + grgets hasznlatval nagythat"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan  + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza  + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"     ",scroll:"        ctrl ",scrollMac:"         "},ja:{touch:" 2 ",scroll:"Ctrl ",scrollMac:" "},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use  + scroll to zoom the map"},ko:{touch:"    .",scroll:" / Ctrl   .",scrollMac:"   +  "},lt:{touch:"Perkelkite emlap dviem pirtais",scroll:"Slinkite nuspaud klavi Ctrl, kad pakeistumte emlapio mastel",scrollMac:"Paspauskite klavi  ir slinkite, kad priartintumte emlap"},lv:{touch:"Lai prvietotu karti, bdiet to ar diviem pirkstiem",scroll:"Kartes tlummaiai izmantojiet ctrl + ritinanu",scrollMac:"Lai veiktu kartes tlummaiu, izmantojiet  + ritinanu"},ml:{touch:"    ",scroll:" +     ",scrollMac:" +     "},mr:{touch:"    ",scroll:"   ctrl + scroll ",scrollMac:"    +  "},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik  + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for  flytte kartet",scroll:"Hold ctrl-tasten inne og rull for  zoome p kartet",scrollMac:"Hold inne -tasten og rull for  zoome p kartet"},pl:{touch:"Przesu map dwoma palcami",scroll:"Nacinij CTRL i przewi, by przybliy map",scrollMac:"Nacinij i przewi, by przybliy map"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use  e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use  e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize  + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosii dou degete pentru a deplasa harta",scroll:"Apsai tasta ctrl i derulai simultan pentru a mri harta",scrollMac:"Folosii  i derulai pentru a mri/micora harta"},ru:{touch:"  ,     ",scroll:"  ,  ,   Ctrl.",scrollMac:"  ,  + "},sk:{touch:"Mapu mete posun dvoma prstami",scroll:"Ak chcete pribli mapu, stlate klves ctrl aposvajte",scrollMac:"Ak chcete pribli mapu, stlate klves  aposvajte kolieskom myi"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid poveate tako, da drite tipko Ctrl in vrtite kolesce na miki",scrollMac:"Uporabite  + funkcijo pomika, da poveate ali pomanjate zemljevid"},sr:{touch:"    ",scroll:" ctrl       ",scrollMac:"        "},sv:{touch:"Anvnd tv fingrar fr att flytta kartan",scroll:"Anvnd ctrl + rulla fr att zooma kartan",scrollMac:"Anvnd  + rulla fr att zooma p kartan"},ta:{touch:"    ",scroll:" / , ctrl  , /  ",scrollMac:" / ,   , /  "},te:{touch:"     ",scroll:"   ctrl   ,  ",scrollMac:"    +  "},th:{touch:" 2 ",scroll:" Ctrl  ",scrollMac:"  "},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang  + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek iin iki parmanz kullann",scroll:"Haritay yaknlatrmak iin ctrl + kaydrma kombinasyonunu kullann",scrollMac:"Haritay yaknlatrmak iin  tuuna basp ekran kaydrn"},uk:{touch:"   ",scroll:"   ,   ,   Ctrl",scrollMac:"   ,   + "},vi:{touch:"S dng hai ngn tay  di chuyn bn ",scroll:"S dng ctrl + cun  thu phng bn ",scrollMac:"S dng  + cun  thu phng bn "},"zh-CN":{touch:"",scroll:" Ctrl ",scrollMac:"  "},"zh-TW":{touch:"",scroll:" ctrl ",scrollMac:"  "}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var Y=!1,W=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(q){q.type=="movestart"||q.type=="move"?Y=!0:q.type=="moveend"&&(Y=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var q;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)q=this._map.options.gestureHandlingOptions.text;else{var X=this._getUserLanguage();X||(X="en"),F[X]&&(q=F[X]),q||X.indexOf("-")===-1||(X=X.split("-")[0],q=F[X]),q||(q=F[X="en"])}var tt=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(tt=!0);var nt=q.scroll;tt&&(nt=q.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",q.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",nt)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(q){for(var X=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],tt=!1,nt=0;nt<X.length;nt++)L.DomUtil.hasClass(q.target,X[nt])&&(tt=!0);tt?L.DomUtil.hasClass(q.target,"leaflet-interactive")&&q.type==="touchmove"&&q.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):q.type==="touchmove"||q.type==="touchstart"?q.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(q.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(q){q.metaKey||q.ctrlKey?(q.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var X=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),tt=0;tt<X.length;tt++)L.DomUtil.removeClass(X[tt],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(q){this._enableInteractions()},_handleMouseOut:function(q){Y||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",W),z.GestureHandling=W,z.default=W,Object.defineProperty(z,"__esModule",{value:!0})})})(leafletGestureHandling_min,leafletGestureHandling_min.exports);var leafletGestureHandling_minExports=leafletGestureHandling_min.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(D,O){for(const z in L.Util.setOptions(this,O),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,D)this._addLayer(D[z],z,!0)},onAdd:function(D){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var D=this._map.getSize().y-(this._container.offsetTop+50);return D<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=D+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const D="leaflet-control-layers",O=this._container=L.DomUtil.create("div",D),z=this.options.collapsed;if(O.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(O),L.DomEvent.disableScrollPropagation(O),this.options.label){const W=L.DomUtil.create("p",D+"-label");W.innerHTML=this.options.label,O.appendChild(W)}var F=this._form=L.DomUtil.create("form",D+"-list");z&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(O,{mouseenter:this.expand,mouseleave:this.collapse},this));const Y=this._layersLink=L.DomUtil.create("a",D+"-toggle",O);Y.href="#",Y.title="Layers",L.Browser.touch?(L.DomEvent.on(Y,"click",L.DomEvent.stop),L.DomEvent.on(Y,"click",this.expand,this)):L.DomEvent.on(Y,"focus",this.expand,this),z||this.expand(),this._baseLayersList=L.DomUtil.create("div",D+"-base",F),this._separator=L.DomUtil.create("div",D+"-separator",F),this._overlaysList=L.DomUtil.create("div",D+"-overlays",F),O.appendChild(F)},_getLayer:function(D){for(let O=0;O<this._layers.length;O++)if(this._layers[O]&&L.Util.stamp(this._layers[O].layer)===D)return this._layers[O]},_addLayer:function(D,O,z){this._layers.push({layer:D,name:O,overlay:z})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let D,O,z,F,Y=0;for(z=0;z<this._layers.length;z++)F=this._layers[z],this._addItem(F),O=O||F.overlay,D=D||!F.overlay,Y+=F.overlay?0:1;this.options.hideSingleBase&&(D=D&&1<Y,this._baseLayersList.style.display=D?"":"none"),this._separator.style.display=O&&D?"":"none"},_addItem:function(D){let O=document.createElement("label"),z=document.createElement("input");D.overlay?(z.type="range",z.className="leaflet-control-layers-range",z.min=0,z.max=100,z.value=100*D.layer.options.opacity):z=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(z),z.layerId=L.Util.stamp(D.layer),z.addEventListener("input",X=>{X=X.target.value;const tt=this._getLayer(z.layerId).layer;tt._url===void 0||tt.setOpacity(Number(X/100))});const F=document.createElement("span");F.innerHTML=" "+D.name;const Y=document.createElement("div"),W=document.createElement("div");O.appendChild(Y),Y.appendChild(F),O.appendChild(W),W.appendChild(z),(D.overlay?this._overlaysList:this._baseLayersList).appendChild(O)}}),L.control.opacity=function(D,O){return new L.Control.Opacity(D,O)};class GithubClient{constructor(O){this._shas={},this.authToken=O}b64EncodeUnicode(O){return btoa(encodeURIComponent(O).replace(/%([0-9A-F]{2})/g,function(z,F){return String.fromCharCode(parseInt(F,16))}))}b64DecodeUnicode(O){return decodeURIComponent(Array.prototype.map.call(atob(O),function(z){return"%"+("00"+z.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(O=>O.json())}async isCollaborator(O,z,F){let Y=`https://api.github.com/repos/${O}/${z}/collaborators/${F}`,W=await fetch(Y,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return W.ok&&W.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(O=>O.json())}repos(O="",z=""){let F=O?`users/${O}`:z?`orgs/${z}`:"user";return fetch(`https://api.github.com/${F}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(Y=>Y.json())}async createRepository({org:O=null,name:z="",description:F="",auto_init:Y=!0}){let W=O?`https://api.github.com/orgs/${O}/repos`:"https://api.github.com/user/repos";console.log(`createUserRepository: org=${O} name=${z} description=${F} auto_init=${Y} url=${W}`);let q=await fetch(W,{method:"POST",body:JSON.stringify({name:z,description:F,auto_init:Y}),headers:{Authorization:`Token ${this.authToken}`}});return{status:q.status,statusText:q.statusText}}branches(O,z){return fetch(`https://api.github.com/repos/${O}/${z}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(F=>F.json())}async getFile(O,z,F,Y){let W,q=`https://api.github.com/repos/${O}/${z}/contents/${F}`;Y&&(q+=`?ref=${Y}`);let X=await fetch(q,{cache:"no-cache",headers:{Authorization:`Token ${this.authToken}`}});return X.ok&&(X=await X.json(),W=decodeURIComponent(escape(atob(X.content)))),Promise.resolve({content:W,sha:X.sha})}async getSha(O,z,F,Y){console.log(`getSha: acct=${O} repo=${z} path=${F} ref=${Y}`);let W=`https://api.github.com/repos/${O}/${z}/contents/${F}`;Y&&(W+=`?ref=${Y}`);let q=await fetch(W,{headers:{Authorization:`Token ${this.authToken}`}});return q.ok&&(q=await q.json()),q.sha}async putFile(O,z,F,Y,W,q=!1,X=""){let tt=`https://api.github.com/repos/${O}/${z}/contents/${F}`,nt=`${O}/${z}/${W}/${F}`;X=X||this._shas[nt]||await this.getSha(O,z,F,W),console.log(`putFile: acct=${O} repo=${z} path=${F} ref=${W} sha=${X} isBinaryString=${q}`);let st={message:"API commit",content:q?btoa(Y):this.b64EncodeUnicode(Y)};W&&(st.branch=W),X&&(st.sha=X);let ct=await fetch(tt,{method:"PUT",body:JSON.stringify(st),headers:{Authorization:`Token ${this.authToken}`}});return ct.ok?(X=(await ct.json()).content.sha,this._shas[nt]=X):console.log(ct),{status:ct.status,statusText:ct.statusText,sha:X}}async deleteFile(O,z,F,Y,W=""){console.log(`deleteFile: acct=${O} repo=${z} path=${F} sha=${W}`),W=W||await this.getSha(O,z,F,Y);let q=`https://api.github.com/repos/${O}/${z}/contents/${F}`,tt=await fetch(q,{method:"DELETE",body:JSON.stringify({message:"API commit",sha:W}),headers:{Authorization:`Token ${this.authToken}`}});tt=await tt.json()}async defaultBranch(O,z){let F=null,Y=`https://api.github.com/repos/${O}/${z}`,W=await fetch(Y,{headers:{Authorization:`Token ${this.authToken}`}});return W.ok&&(W=await W.json(),F=W.default_branch),F}async dirlist(O,z,F,Y){var nt;F=F||"",Y=Y||await this.defaultBranch(O,z);let W=[],q=`https://api.github.com/repos/${O}/${z}/git/trees/${Y}`,X={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},tt=F.split("/").filter(st=>st);for(let st=0;st<tt.length;st++){let ct=await fetch(q,{headers:X}),lt=ct.ok?await ct.json():{},ht=lt?(nt=lt.tree)==null?void 0:nt.find(bt=>bt.path===tt[st]):null;if(q=ht?ht.url:null,!q)break}if(q){let st=await fetch(q,{headers:X});W=((st.ok?await st.json():{}).tree||[]).map(lt=>({name:lt.path,sha:lt.sha,type:lt.type==="tree"?"dir":"file"}))}return W}async fullPath(O,z,F,Y,W=!1){let q=F.split("/").filter(st=>st),X=q[q.length-1],tt=await this.dirlist(O,z,q.join("/"),Y);if(tt.length===0&&(q.pop(),tt=await this.dirlist(O,z,q.join("/"),Y)),!W){let st=[X,`${X}.md`,"README.md"];for(let ct=0;ct<st.length;ct++)if(tt.find(lt=>lt.type==="file"&&lt.name===st[ct])){q.push(st[ct]);break}}return q.join("/")}}var form_control_styles_default=i$5`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control__label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,range_styles_default=i$5`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    --thumb-size: 20px;
    --tooltip-offset: 10px;
    --track-color-active: var(--sl-color-neutral-200);
    --track-color-inactive: var(--sl-color-neutral-200);
    --track-active-offset: 0%;
    --track-height: 6px;

    display: block;
  }

  .range {
    position: relative;
  }

  .range__control {
    --percent: 0%;
    -webkit-appearance: none;
    border-radius: 3px;
    width: 100%;
    height: var(--track-height);
    background: transparent;
    line-height: var(--sl-input-height-medium);
    vertical-align: middle;
    margin: 0;

    background-image: linear-gradient(
      to right,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  .range--rtl .range__control {
    background-image: linear-gradient(
      to left,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  /* Webkit */
  .range__control::-webkit-slider-runnable-track {
    width: 100%;
    height: var(--track-height);
    border-radius: 3px;
    border: none;
  }

  .range__control::-webkit-slider-thumb {
    border: none;
    width: var(--thumb-size);
    height: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border: solid var(--sl-input-border-width) var(--sl-color-primary-600);
    -webkit-appearance: none;
    margin-top: calc(var(--thumb-size) / -2 + var(--track-height) / 2);
    cursor: pointer;
  }

  .range__control:enabled::-webkit-slider-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-webkit-slider-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-webkit-slider-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* Firefox */
  .range__control::-moz-focus-outer {
    border: 0;
  }

  .range__control::-moz-range-progress {
    background-color: var(--track-color-active);
    border-radius: 3px;
    height: var(--track-height);
  }

  .range__control::-moz-range-track {
    width: 100%;
    height: var(--track-height);
    background-color: var(--track-color-inactive);
    border-radius: 3px;
    border: none;
  }

  .range__control::-moz-range-thumb {
    border: none;
    height: var(--thumb-size);
    width: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    transition:
      var(--sl-transition-fast) border-color,
      var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) box-shadow;
    cursor: pointer;
  }

  .range__control:enabled::-moz-range-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-moz-range-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-moz-range-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* States */
  .range__control:focus-visible {
    outline: none;
  }

  .range__control:disabled {
    opacity: 0.5;
  }

  .range__control:disabled::-webkit-slider-thumb {
    cursor: not-allowed;
  }

  .range__control:disabled::-moz-range-thumb {
    cursor: not-allowed;
  }

  /* Tooltip output */
  .range__tooltip {
    position: absolute;
    z-index: var(--sl-z-index-tooltip);
    left: 0;
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    opacity: 0;
    padding: var(--sl-tooltip-padding);
    transition: var(--sl-transition-fast) opacity;
    pointer-events: none;
  }

  .range__tooltip:after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    left: 50%;
    translate: calc(-1 * var(--sl-tooltip-arrow-size));
  }

  .range--tooltip-visible .range__tooltip {
    opacity: 1;
  }

  /* Tooltip on top */
  .range--tooltip-top .range__tooltip {
    top: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-top .range__tooltip:after {
    border-top: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    top: 100%;
  }

  /* Tooltip on bottom */
  .range--tooltip-bottom .range__tooltip {
    bottom: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-bottom .range__tooltip:after {
    border-bottom: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    bottom: 100%;
  }

  @media (forced-colors: active) {
    .range__control,
    .range__tooltip {
      border: solid 1px transparent;
    }

    .range__control::-webkit-slider-thumb {
      border: solid 1px transparent;
    }

    .range__control::-moz-range-thumb {
      border: solid 1px transparent;
    }

    .range__tooltip:after {
      display: none;
    }
  }
`,defaultValue=(D="value")=>(O,z)=>{const F=O.constructor,Y=F.prototype.attributeChangedCallback;F.prototype.attributeChangedCallback=function(W,q,X){var tt;const nt=F.getPropertyOptions(D),st=typeof nt.attribute=="string"?nt.attribute:D;if(W===st){const ct=nt.converter||u$2,ht=(typeof ct=="function"?ct:(tt=ct==null?void 0:ct.fromAttribute)!=null?tt:u$2.fromAttribute)(X,nt.type);this[D]!==ht&&(this[z]=ht)}Y.call(this,W,q,X)}},formCollections=new WeakMap,reportValidityOverloads=new WeakMap,userInteractedControls=new WeakSet,interactions=new WeakMap,FormControlController=class{constructor(D,O){this.handleFormData=z=>{const F=this.options.disabled(this.host),Y=this.options.name(this.host),W=this.options.value(this.host),q=this.host.tagName.toLowerCase()==="sl-button";!F&&!q&&typeof Y=="string"&&Y.length>0&&typeof W<"u"&&(Array.isArray(W)?W.forEach(X=>{z.formData.append(Y,X.toString())}):z.formData.append(Y,W.toString()))},this.handleFormSubmit=z=>{var F;const Y=this.options.disabled(this.host),W=this.options.reportValidity;this.form&&!this.form.noValidate&&((F=formCollections.get(this.form))==null||F.forEach(q=>{this.setUserInteracted(q,!0)})),this.form&&!this.form.noValidate&&!Y&&!W(this.host)&&(z.preventDefault(),z.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),interactions.set(this.host,[])},this.handleInteraction=z=>{const F=interactions.get(this.host);F.includes(z.type)||F.push(z.type),F.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const z=this.form.querySelectorAll("*");for(const F of z)if(typeof F.reportValidity=="function"&&!F.reportValidity())return!1}return!0},(this.host=D).addController(this),this.options=__spreadValues({form:z=>{if(z.hasAttribute("form")&&z.getAttribute("form")!==""){const F=z.getRootNode(),Y=z.getAttribute("form");if(Y)return F.getElementById(Y)}return z.closest("form")},name:z=>z.name,value:z=>z.value,defaultValue:z=>z.defaultValue,disabled:z=>{var F;return(F=z.disabled)!=null?F:!1},reportValidity:z=>typeof z.reportValidity=="function"?z.reportValidity():!0,setValue:(z,F)=>z.value=F,assumeInteractionOn:["sl-input"]},O)}hostConnected(){const D=this.options.form(this.host);D&&this.attachForm(D),interactions.set(this.host,[]),this.options.assumeInteractionOn.forEach(O=>{this.host.addEventListener(O,this.handleInteraction)})}hostDisconnected(){this.detachForm(),interactions.delete(this.host),this.options.assumeInteractionOn.forEach(D=>{this.host.removeEventListener(D,this.handleInteraction)})}hostUpdated(){const D=this.options.form(this.host);D||this.detachForm(),D&&this.form!==D&&(this.detachForm(),this.attachForm(D)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(D){D?(this.form=D,formCollections.has(this.form)?formCollections.get(this.form).add(this.host):formCollections.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity())):this.form=void 0}detachForm(){var D;this.form&&((D=formCollections.get(this.form))==null||D.delete(this.host),this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form))),this.form=void 0}setUserInteracted(D,O){O?userInteractedControls.add(D):userInteractedControls.delete(D),D.requestUpdate()}doAction(D,O){if(this.form){const z=document.createElement("button");z.type=D,z.style.position="absolute",z.style.width="0",z.style.height="0",z.style.clipPath="inset(50%)",z.style.overflow="hidden",z.style.whiteSpace="nowrap",O&&(z.name=O.name,z.value=O.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(F=>{O.hasAttribute(F)&&z.setAttribute(F,O.getAttribute(F))})),this.form.append(z),z.click(),z.remove()}}getForm(){var D;return(D=this.form)!=null?D:null}reset(D){this.doAction("reset",D)}submit(D){this.doAction("submit",D)}setValidity(D){const O=this.host,z=!!userInteractedControls.has(O),F=!!O.required;O.toggleAttribute("data-required",F),O.toggleAttribute("data-optional",!F),O.toggleAttribute("data-invalid",!D),O.toggleAttribute("data-valid",D),O.toggleAttribute("data-user-invalid",!D&&z),O.toggleAttribute("data-user-valid",D&&z)}updateValidity(){const D=this.host;this.setValidity(D.validity.valid)}emitInvalidEvent(D){const O=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});D||O.preventDefault(),this.host.dispatchEvent(O)||D==null||D.preventDefault()}},validValidityState=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(__spreadProps(__spreadValues({},validValidityState),{valid:!1,valueMissing:!0}));Object.freeze(__spreadProps(__spreadValues({},validValidityState),{valid:!1,customError:!0}));var HasSlotController=class{constructor(D,...O){this.slotNames=[],this.handleSlotChange=z=>{const F=z.target;(this.slotNames.includes("[default]")&&!F.name||F.name&&this.slotNames.includes(F.name))&&this.host.requestUpdate()},(this.host=D).addController(this),this.slotNames=O}hasDefaultSlot(){return[...this.host.childNodes].some(D=>{if(D.nodeType===D.TEXT_NODE&&D.textContent.trim()!=="")return!0;if(D.nodeType===D.ELEMENT_NODE){const O=D;if(O.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!O.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(D){return this.host.querySelector(`:scope > [slot="${D}"]`)!==null}test(D){return D==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(D)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};const connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map;let documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...D){D.map(O=>{const z=O.$code.toLowerCase();translations.has(z)?translations.set(z,Object.assign(Object.assign({},translations.get(z)),O)):translations.set(z,O),fallback||(fallback=O)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(D=>{typeof D.requestUpdate=="function"&&D.requestUpdate()})}let LocalizeController$1=class{constructor(O){this.host=O,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}getTranslationData(O){var z,F;const Y=new Intl.Locale(O.replace(/_/g,"-")),W=Y==null?void 0:Y.language.toLowerCase(),q=(F=(z=Y==null?void 0:Y.region)===null||z===void 0?void 0:z.toLowerCase())!==null&&F!==void 0?F:"",X=translations.get(`${W}-${q}`),tt=translations.get(W);return{locale:Y,language:W,region:q,primary:X,secondary:tt}}exists(O,z){var F;const{primary:Y,secondary:W}=this.getTranslationData((F=z.lang)!==null&&F!==void 0?F:this.lang());return z=Object.assign({includeFallback:!1},z),!!(Y&&Y[O]||W&&W[O]||z.includeFallback&&fallback&&fallback[O])}term(O,...z){const{primary:F,secondary:Y}=this.getTranslationData(this.lang());let W;if(F&&F[O])W=F[O];else if(Y&&Y[O])W=Y[O];else if(fallback&&fallback[O])W=fallback[O];else return console.error(`No translation found for: ${String(O)}`),String(O);return typeof W=="function"?W(...z):W}date(O,z){return O=new Date(O),new Intl.DateTimeFormat(this.lang(),z).format(O)}number(O,z){return O=Number(O),isNaN(O)?"":new Intl.NumberFormat(this.lang(),z).format(O)}relativeTime(O,z,F){return new Intl.RelativeTimeFormat(this.lang(),F).format(O,z)}};var LocalizeController=class extends LocalizeController$1{};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$2={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$3=D=>(...O)=>({_$litDirective$:D,values:O});let i$2=class{constructor(O){}get _$AU(){return this._$AM._$AU}_$AT(O,z,F){this._$Ct=O,this._$AM=z,this._$Ci=F}_$AS(O,z){return this.update(O,z)}update(O,z){return this.render(...z)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$2=e$3(class extends i$2{constructor(D){var O;if(super(D),D.type!==t$2.ATTRIBUTE||D.name!=="class"||((O=D.strings)==null?void 0:O.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(D){return" "+Object.keys(D).filter(O=>D[O]).join(" ")+" "}update(D,[O]){var F,Y;if(this.it===void 0){this.it=new Set,D.strings!==void 0&&(this.st=new Set(D.strings.join(" ").split(/\s/).filter(W=>W!=="")));for(const W in O)O[W]&&!((F=this.st)!=null&&F.has(W))&&this.it.add(W);return this.render(O)}const z=D.element.classList;for(const W of this.it)W in O||(z.remove(W),this.it.delete(W));for(const W in O){const q=!!O[W];q===this.it.has(W)||(Y=this.st)!=null&&Y.has(W)||(q?(z.add(W),this.it.add(W)):(z.remove(W),this.it.delete(W)))}return w$1}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$4=D=>D??T;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l$1=e$3(class extends i$2{constructor(D){if(super(D),D.type!==t$2.PROPERTY&&D.type!==t$2.ATTRIBUTE&&D.type!==t$2.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!f$1(D))throw Error("`live` bindings can only contain a single expression")}render(D){return D}update(D,[O]){if(O===w$1||O===T)return O;const z=D.element,F=D.name;if(D.type===t$2.PROPERTY){if(O===z[F])return w$1}else if(D.type===t$2.BOOLEAN_ATTRIBUTE){if(!!O===z.hasAttribute(F))return w$1}else if(D.type===t$2.ATTRIBUTE&&z.getAttribute(F)===O+"")return w$1;return m(D),O}});var SlRange=class extends ShoelaceElement{constructor(){super(...arguments),this.formControlController=new FormControlController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController(this),this.hasFocus=!1,this.hasTooltip=!1,this.title="",this.name="",this.value=0,this.label="",this.helpText="",this.disabled=!1,this.min=0,this.max=100,this.step=1,this.tooltip="top",this.tooltipFormatter=D=>D.toString(),this.form="",this.defaultValue=0}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.syncRange()),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.updateComplete.then(()=>{this.syncRange(),this.resizeObserver.observe(this.input)})}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this.input)}handleChange(){this.emit("sl-change")}handleInput(){this.value=parseFloat(this.input.value),this.emit("sl-input"),this.syncRange()}handleBlur(){this.hasFocus=!1,this.hasTooltip=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.hasTooltip=!0,this.emit("sl-focus")}handleThumbDragStart(){this.hasTooltip=!0}handleThumbDragEnd(){this.hasTooltip=!1}syncProgress(D){this.input.style.setProperty("--percent",`${D*100}%`)}syncTooltip(D){if(this.output!==null){const O=this.input.offsetWidth,z=this.output.offsetWidth,F=getComputedStyle(this.input).getPropertyValue("--thumb-size"),Y=this.localize.dir()==="rtl",W=O*D;if(Y){const q=`${O-W}px + ${D} * ${F}`;this.output.style.translate=`calc((${q} - ${z/2}px - ${F} / 2))`}else{const q=`${W}px - ${D} * ${F}`;this.output.style.translate=`calc(${q} - ${z/2}px + ${F} / 2)`}}}handleValueChange(){this.formControlController.updateValidity(),this.input.value=this.value.toString(),this.value=parseFloat(this.input.value),this.syncRange()}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}syncRange(){const D=Math.max(0,(this.value-this.min)/(this.max-this.min));this.syncProgress(D),this.tooltip!=="none"&&this.syncTooltip(D)}handleInvalid(D){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(D)}focus(D){this.input.focus(D)}blur(){this.input.blur()}stepUp(){this.input.stepUp(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}stepDown(){this.input.stepDown(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(D){this.input.setCustomValidity(D),this.formControlController.updateValidity()}render(){const D=this.hasSlotController.test("label"),O=this.hasSlotController.test("help-text"),z=this.label?!0:!!D,F=this.helpText?!0:!!O;return x$1`
      <div
        part="form-control"
        class=${e$2({"form-control":!0,"form-control--medium":!0,"form-control--has-label":z,"form-control--has-help-text":F})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${z?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${e$2({range:!0,"range--disabled":this.disabled,"range--focused":this.hasFocus,"range--rtl":this.localize.dir()==="rtl","range--tooltip-visible":this.hasTooltip,"range--tooltip-top":this.tooltip==="top","range--tooltip-bottom":this.tooltip==="bottom"})}
            @mousedown=${this.handleThumbDragStart}
            @mouseup=${this.handleThumbDragEnd}
            @touchstart=${this.handleThumbDragStart}
            @touchend=${this.handleThumbDragEnd}
          >
            <input
              part="input"
              id="input"
              class="range__control"
              title=${this.title}
              type="range"
              name=${o$4(this.name)}
              ?disabled=${this.disabled}
              min=${o$4(this.min)}
              max=${o$4(this.max)}
              step=${o$4(this.step)}
              .value=${l$1(this.value.toString())}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @focus=${this.handleFocus}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @blur=${this.handleBlur}
            />
            ${this.tooltip!=="none"&&!this.disabled?x$1`
                  <output part="tooltip" class="range__tooltip">
                    ${typeof this.tooltipFormatter=="function"?this.tooltipFormatter(this.value):this.value}
                  </output>
                `:""}
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${F?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};SlRange.styles=range_styles_default;__decorateClass([e$5(".range__control")],SlRange.prototype,"input",2);__decorateClass([e$5(".range__tooltip")],SlRange.prototype,"output",2);__decorateClass([r$2()],SlRange.prototype,"hasFocus",2);__decorateClass([r$2()],SlRange.prototype,"hasTooltip",2);__decorateClass([n$3()],SlRange.prototype,"title",2);__decorateClass([n$3()],SlRange.prototype,"name",2);__decorateClass([n$3({type:Number})],SlRange.prototype,"value",2);__decorateClass([n$3()],SlRange.prototype,"label",2);__decorateClass([n$3({attribute:"help-text"})],SlRange.prototype,"helpText",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlRange.prototype,"disabled",2);__decorateClass([n$3({type:Number})],SlRange.prototype,"min",2);__decorateClass([n$3({type:Number})],SlRange.prototype,"max",2);__decorateClass([n$3({type:Number})],SlRange.prototype,"step",2);__decorateClass([n$3()],SlRange.prototype,"tooltip",2);__decorateClass([n$3({attribute:!1})],SlRange.prototype,"tooltipFormatter",2);__decorateClass([n$3({reflect:!0})],SlRange.prototype,"form",2);__decorateClass([defaultValue()],SlRange.prototype,"defaultValue",2);__decorateClass([t$3({passive:!0})],SlRange.prototype,"handleThumbDragStart",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlRange.prototype,"handleValueChange",1);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlRange.prototype,"handleDisabledChange",1);__decorateClass([watch("hasTooltip",{waitUntilFirstUpdate:!0})],SlRange.prototype,"syncRange",1);SlRange.define("sl-range");var translation={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(D,O)=>`Go to slide ${D} of ${O}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:D=>D===0?"No options selected":D===1?"1 option selected":`${D} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:D=>`Slide ${D}`,toggleColorFormat:"Toggle color format"};registerTranslation(translation);(function(D,O){typeof exports=="object"&&typeof module<"u"?O(exports):typeof define=="function"&&define.amd?define(["exports"],O):O((D=typeof globalThis<"u"?globalThis:D||self).turf={})})(globalThis,function(D){var O=63710088e-1,z={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*O,kilometers:6371.0088,kilometres:6371.0088,meters:O,metres:O,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:O/1852,radians:1,yards:6967335223679999e-9},F={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/O,yards:1.0936133},Y={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function W(B,U,G){G===void 0&&(G={});var Q={type:"Feature"};return(G.id===0||G.id)&&(Q.id=G.id),G.bbox&&(Q.bbox=G.bbox),Q.properties=U||{},Q.geometry=B,Q}function q(B,U,G){switch(B){case"Point":return X(U).geometry;case"LineString":return ct(U).geometry;case"Polygon":return nt(U).geometry;case"MultiPoint":return wt(U).geometry;case"MultiLineString":return bt(U).geometry;case"MultiPolygon":return mt(U).geometry;default:throw new Error(B+" is invalid")}}function X(B,U,G){if(G===void 0&&(G={}),!B)throw new Error("coordinates is required");if(!Array.isArray(B))throw new Error("coordinates must be an Array");if(B.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Xt(B[0])||!Xt(B[1]))throw new Error("coordinates must contain numbers");return W({type:"Point",coordinates:B},U,G)}function tt(B,U,G){return G===void 0&&(G={}),ht(B.map(function(Q){return X(Q,U)}),G)}function nt(B,U,G){G===void 0&&(G={});for(var Q=0,J=B;Q<J.length;Q++){var rt=J[Q];if(rt.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var at=0;at<rt[rt.length-1].length;at++)if(rt[rt.length-1][at]!==rt[0][at])throw new Error("First and last Position are not equivalent.")}return W({type:"Polygon",coordinates:B},U,G)}function st(B,U,G){return G===void 0&&(G={}),ht(B.map(function(Q){return nt(Q,U)}),G)}function ct(B,U,G){if(G===void 0&&(G={}),B.length<2)throw new Error("coordinates must be an array of two or more positions");return W({type:"LineString",coordinates:B},U,G)}function lt(B,U,G){return G===void 0&&(G={}),ht(B.map(function(Q){return ct(Q,U)}),G)}function ht(B,U){U===void 0&&(U={});var G={type:"FeatureCollection"};return U.id&&(G.id=U.id),U.bbox&&(G.bbox=U.bbox),G.features=B,G}function bt(B,U,G){return G===void 0&&(G={}),W({type:"MultiLineString",coordinates:B},U,G)}function wt(B,U,G){return G===void 0&&(G={}),W({type:"MultiPoint",coordinates:B},U,G)}function mt(B,U,G){return G===void 0&&(G={}),W({type:"MultiPolygon",coordinates:B},U,G)}function _t(B,U,G){return G===void 0&&(G={}),W({type:"GeometryCollection",geometries:B},U,G)}function Et(B,U){if(U===void 0&&(U=0),U&&!(U>=0))throw new Error("precision must be a positive number");var G=Math.pow(10,U||0);return Math.round(B*G)/G}function At(B,U){U===void 0&&(U="kilometers");var G=z[U];if(!G)throw new Error(U+" units is invalid");return B*G}function Ct(B,U){U===void 0&&(U="kilometers");var G=z[U];if(!G)throw new Error(U+" units is invalid");return B/G}function Ft(B,U){return Yt(Ct(B,U))}function Lt(B){var U=B%360;return U<0&&(U+=360),U}function Yt(B){return 180*(B%(2*Math.PI))/Math.PI}function Ht(B){return B%360*Math.PI/180}function qt(B,U,G){if(U===void 0&&(U="kilometers"),G===void 0&&(G="kilometers"),!(B>=0))throw new Error("length must be a positive number");return At(Ct(B,U),G)}function te(B,U,G){if(U===void 0&&(U="meters"),G===void 0&&(G="kilometers"),!(B>=0))throw new Error("area must be a positive number");var Q=Y[U];if(!Q)throw new Error("invalid original units");var J=Y[G];if(!J)throw new Error("invalid final units");return B/Q*J}function Xt(B){return!isNaN(B)&&B!==null&&!Array.isArray(B)}function Dt(B){return!!B&&B.constructor===Object}function Qt(B){if(!B)throw new Error("bbox is required");if(!Array.isArray(B))throw new Error("bbox must be an Array");if(B.length!==4&&B.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");B.forEach(function(U){if(!Xt(U))throw new Error("bbox must only contain numbers")})}function Nt(B){if(!B)throw new Error("id is required");if(["string","number"].indexOf(typeof B)===-1)throw new Error("id must be a number or a string")}var ce=Object.freeze({__proto__:null,earthRadius:O,factors:z,unitsFactors:F,areaFactors:Y,feature:W,geometry:q,point:X,points:tt,polygon:nt,polygons:st,lineString:ct,lineStrings:lt,featureCollection:ht,multiLineString:bt,multiPoint:wt,multiPolygon:mt,geometryCollection:_t,round:Et,radiansToLength:At,lengthToRadians:Ct,lengthToDegrees:Ft,bearingToAzimuth:Lt,radiansToDegrees:Yt,degreesToRadians:Ht,convertLength:qt,convertArea:te,isNumber:Xt,isObject:Dt,validateBBox:Qt,validateId:Nt});function Pt(B,U,G){if(B!==null)for(var Q,J,rt,at,ft,yt,vt,Tt,xt=0,It=0,Gt=B.type,Wt=Gt==="FeatureCollection",ee=Gt==="Feature",Bt=Wt?B.features.length:1,me=0;me<Bt;me++){ft=(Tt=!!(vt=Wt?B.features[me].geometry:ee?B.geometry:B)&&vt.type==="GeometryCollection")?vt.geometries.length:1;for(var Ie=0;Ie<ft;Ie++){var Zt=0,fe=0;if((at=Tt?vt.geometries[Ie]:vt)!==null){yt=at.coordinates;var be=at.type;switch(xt=!G||be!=="Polygon"&&be!=="MultiPolygon"?0:1,be){case null:break;case"Point":if(U(yt,It,me,Zt,fe)===!1)return!1;It++,Zt++;break;case"LineString":case"MultiPoint":for(Q=0;Q<yt.length;Q++){if(U(yt[Q],It,me,Zt,fe)===!1)return!1;It++,be==="MultiPoint"&&Zt++}be==="LineString"&&Zt++;break;case"Polygon":case"MultiLineString":for(Q=0;Q<yt.length;Q++){for(J=0;J<yt[Q].length-xt;J++){if(U(yt[Q][J],It,me,Zt,fe)===!1)return!1;It++}be==="MultiLineString"&&Zt++,be==="Polygon"&&fe++}be==="Polygon"&&Zt++;break;case"MultiPolygon":for(Q=0;Q<yt.length;Q++){for(fe=0,J=0;J<yt[Q].length;J++){for(rt=0;rt<yt[Q][J].length-xt;rt++){if(U(yt[Q][J][rt],It,me,Zt,fe)===!1)return!1;It++}fe++}Zt++}break;case"GeometryCollection":for(Q=0;Q<at.geometries.length;Q++)if(Pt(at.geometries[Q],U,G)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function de(B,U,G,Q){var J=G;return Pt(B,function(rt,at,ft,yt,vt){J=at===0&&G===void 0?rt:U(J,rt,at,ft,yt,vt)},Q),J}function ye(B,U){var G;switch(B.type){case"FeatureCollection":for(G=0;G<B.features.length&&U(B.features[G].properties,G)!==!1;G++);break;case"Feature":U(B.properties,0)}}function pe(B,U,G){var Q=G;return ye(B,function(J,rt){Q=rt===0&&G===void 0?J:U(Q,J,rt)}),Q}function ve(B,U){if(B.type==="Feature")U(B,0);else if(B.type==="FeatureCollection")for(var G=0;G<B.features.length&&U(B.features[G],G)!==!1;G++);}function Ce(B,U,G){var Q=G;return ve(B,function(J,rt){Q=rt===0&&G===void 0?J:U(Q,J,rt)}),Q}function De(B){var U=[];return Pt(B,function(G){U.push(G)}),U}function Oe(B,U){var G,Q,J,rt,at,ft,yt,vt,Tt,xt,It=0,Gt=B.type==="FeatureCollection",Wt=B.type==="Feature",ee=Gt?B.features.length:1;for(G=0;G<ee;G++){for(ft=Gt?B.features[G].geometry:Wt?B.geometry:B,vt=Gt?B.features[G].properties:Wt?B.properties:{},Tt=Gt?B.features[G].bbox:Wt?B.bbox:void 0,xt=Gt?B.features[G].id:Wt?B.id:void 0,at=(yt=!!ft&&ft.type==="GeometryCollection")?ft.geometries.length:1,J=0;J<at;J++)if((rt=yt?ft.geometries[J]:ft)!==null)switch(rt.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(U(rt,It,vt,Tt,xt)===!1)return!1;break;case"GeometryCollection":for(Q=0;Q<rt.geometries.length;Q++)if(U(rt.geometries[Q],It,vt,Tt,xt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(U(null,It,vt,Tt,xt)===!1)return!1;It++}}function Je(B,U,G){var Q=G;return Oe(B,function(J,rt,at,ft,yt){Q=rt===0&&G===void 0?J:U(Q,J,rt,at,ft,yt)}),Q}function qe(B,U){Oe(B,function(G,Q,J,rt,at){var ft,yt=G===null?null:G.type;switch(yt){case null:case"Point":case"LineString":case"Polygon":return U(W(G,J,{bbox:rt,id:at}),Q,0)!==!1&&void 0}switch(yt){case"MultiPoint":ft="Point";break;case"MultiLineString":ft="LineString";break;case"MultiPolygon":ft="Polygon"}for(var vt=0;vt<G.coordinates.length;vt++){var Tt=G.coordinates[vt];if(U(W({type:ft,coordinates:Tt},J),Q,vt)===!1)return!1}})}function ze(B,U,G){var Q=G;return qe(B,function(J,rt,at){Q=rt===0&&at===0&&G===void 0?J:U(Q,J,rt,at)}),Q}function we(B,U){qe(B,function(G,Q,J){var rt=0;if(G.geometry){var at=G.geometry.type;if(at!=="Point"&&at!=="MultiPoint"){var ft,yt=0,vt=0,Tt=0;return Pt(G,function(xt,It,Gt,Wt,ee){if(ft===void 0||Q>yt||Wt>vt||ee>Tt)return ft=xt,yt=Q,vt=Wt,Tt=ee,void(rt=0);var Bt=ct([ft,xt],G.properties);if(U(Bt,Q,J,ee,rt)===!1)return!1;rt++,ft=xt})!==!1&&void 0}}})}function Me(B,U,G){var Q=G,J=!1;return we(B,function(rt,at,ft,yt,vt){Q=J===!1&&G===void 0?rt:U(Q,rt,at,ft,yt,vt),J=!0}),Q}function He(B,U){if(!B)throw new Error("geojson is required");qe(B,function(G,Q,J){if(G.geometry!==null){var rt=G.geometry.type,at=G.geometry.coordinates;switch(rt){case"LineString":if(U(G,Q,J,0,0)===!1)return!1;break;case"Polygon":for(var ft=0;ft<at.length;ft++)if(U(ct(at[ft],G.properties),Q,J,ft)===!1)return!1}}})}function Le(B,U,G){var Q=G;return He(B,function(J,rt,at,ft){Q=rt===0&&G===void 0?J:U(Q,J,rt,at,ft)}),Q}function Ye(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G,Q=U.featureIndex||0,J=U.multiFeatureIndex||0,rt=U.geometryIndex||0,at=U.segmentIndex||0,ft=U.properties;switch(B.type){case"FeatureCollection":Q<0&&(Q=B.features.length+Q),ft=ft||B.features[Q].properties,G=B.features[Q].geometry;break;case"Feature":ft=ft||B.properties,G=B.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=B;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var yt=G.coordinates;switch(G.type){case"Point":case"MultiPoint":return null;case"LineString":return at<0&&(at=yt.length+at-1),ct([yt[at],yt[at+1]],ft,U);case"Polygon":return rt<0&&(rt=yt.length+rt),at<0&&(at=yt[rt].length+at-1),ct([yt[rt][at],yt[rt][at+1]],ft,U);case"MultiLineString":return J<0&&(J=yt.length+J),at<0&&(at=yt[J].length+at-1),ct([yt[J][at],yt[J][at+1]],ft,U);case"MultiPolygon":return J<0&&(J=yt.length+J),rt<0&&(rt=yt[J].length+rt),at<0&&(at=yt[J][rt].length-at-1),ct([yt[J][rt][at],yt[J][rt][at+1]],ft,U)}throw new Error("geojson is invalid")}function Kt(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G,Q=U.featureIndex||0,J=U.multiFeatureIndex||0,rt=U.geometryIndex||0,at=U.coordIndex||0,ft=U.properties;switch(B.type){case"FeatureCollection":Q<0&&(Q=B.features.length+Q),ft=ft||B.features[Q].properties,G=B.features[Q].geometry;break;case"Feature":ft=ft||B.properties,G=B.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=B;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var yt=G.coordinates;switch(G.type){case"Point":return X(yt,ft,U);case"MultiPoint":return J<0&&(J=yt.length+J),X(yt[J],ft,U);case"LineString":return at<0&&(at=yt.length+at),X(yt[at],ft,U);case"Polygon":return rt<0&&(rt=yt.length+rt),at<0&&(at=yt[rt].length+at),X(yt[rt][at],ft,U);case"MultiLineString":return J<0&&(J=yt.length+J),at<0&&(at=yt[J].length+at),X(yt[J][at],ft,U);case"MultiPolygon":return J<0&&(J=yt.length+J),rt<0&&(rt=yt[J].length+rt),at<0&&(at=yt[J][rt].length-at),X(yt[J][rt][at],ft,U)}throw new Error("geojson is invalid")}var kt=Object.freeze({__proto__:null,coordAll:De,coordEach:Pt,coordReduce:de,featureEach:ve,featureReduce:Ce,findPoint:Kt,findSegment:Ye,flattenEach:qe,flattenReduce:ze,geomEach:Oe,geomReduce:Je,lineEach:He,lineReduce:Le,propEach:ye,propReduce:pe,segmentEach:we,segmentReduce:Me});function jt(B){var U=[1/0,1/0,-1/0,-1/0];return Pt(B,function(G){U[0]>G[0]&&(U[0]=G[0]),U[1]>G[1]&&(U[1]=G[1]),U[2]<G[0]&&(U[2]=G[0]),U[3]<G[1]&&(U[3]=G[1])}),U}function $t(B){if(!B)throw new Error("coord is required");if(!Array.isArray(B)){if(B.type==="Feature"&&B.geometry!==null&&B.geometry.type==="Point")return B.geometry.coordinates;if(B.type==="Point")return B.coordinates}if(Array.isArray(B)&&B.length>=2&&!Array.isArray(B[0])&&!Array.isArray(B[1]))return B;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function oe(B){if(Array.isArray(B))return B;if(B.type==="Feature"){if(B.geometry!==null)return B.geometry.coordinates}else if(B.coordinates)return B.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Vt(B){if(B.length>1&&Xt(B[0])&&Xt(B[1]))return!0;if(Array.isArray(B[0])&&B[0].length)return Vt(B[0]);throw new Error("coordinates must only contain numbers")}function Be(B,U,G){if(!U||!G)throw new Error("type and name required");if(!B||B.type!==U)throw new Error("Invalid input to "+G+": must be a "+U+", given "+B.type)}function ge(B,U,G){if(!B)throw new Error("No feature passed");if(!G)throw new Error(".featureOf() requires a name");if(!B||B.type!=="Feature"||!B.geometry)throw new Error("Invalid input to "+G+", Feature with geometry required");if(!B.geometry||B.geometry.type!==U)throw new Error("Invalid input to "+G+": must be a "+U+", given "+B.geometry.type)}function Pe(B,U,G){if(!B)throw new Error("No featureCollection passed");if(!G)throw new Error(".collectionOf() requires a name");if(!B||B.type!=="FeatureCollection")throw new Error("Invalid input to "+G+", FeatureCollection required");for(var Q=0,J=B.features;Q<J.length;Q++){var rt=J[Q];if(!rt||rt.type!=="Feature"||!rt.geometry)throw new Error("Invalid input to "+G+", Feature with geometry required");if(!rt.geometry||rt.geometry.type!==U)throw new Error("Invalid input to "+G+": must be a "+U+", given "+rt.geometry.type)}}function ke(B){return B.type==="Feature"?B.geometry:B}function $e(B,U){return B.type==="FeatureCollection"?"FeatureCollection":B.type==="GeometryCollection"?"GeometryCollection":B.type==="Feature"&&B.geometry!==null?B.geometry.type:B.type}jt.default=jt;var Fe=Object.freeze({__proto__:null,getCoord:$t,getCoords:oe,containsNumber:Vt,geojsonType:Be,featureOf:ge,collectionOf:Pe,getGeom:ke,getType:$e}),Qe=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function zn(B){if(B==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(B)}var Bn=function(){try{if(!Object.assign)return!1;var B=new String("abc");if(B[5]="de",Object.getOwnPropertyNames(B)[0]==="5")return!1;for(var U={},G=0;G<10;G++)U["_"+String.fromCharCode(G)]=G;if(Object.getOwnPropertyNames(U).map(function(J){return U[J]}).join("")!=="0123456789")return!1;var Q={};return"abcdefghijklmnopqrst".split("").forEach(function(J){Q[J]=J}),Object.keys(Object.assign({},Q)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(B,U){for(var G,Q,J=zn(B),rt=1;rt<arguments.length;rt++){for(var at in G=Object(arguments[rt]))We.call(G,at)&&(J[at]=G[at]);if(Qe){Q=Qe(G);for(var ft=0;ft<Q.length;ft++)rn.call(G,Q[ft])&&(J[Q[ft]]=G[Q[ft]])}}return J},Pn={successCallback:null,verbose:!1},jn={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function Jn(B,U,G){G=G||{};for(var Q=Object.keys(Pn),J=0;J<Q.length;J++){var rt=Q[J],at=G[rt];at=at??Pn[rt],jn[rt]=at}jn.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+U);var ft=function(yt){var vt=[],Tt=0,xt=1e-7;return yt.cells.forEach(function(It,Gt){It.forEach(function(Wt,ee){if(Wt!==void 0&&(Ee=Wt).cval!==5&&Ee.cval!==10&&!sr(Wt)){var Bt=function(_e,wn,cn){var Tn,dn,An=_e.length,yn=[],mn=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],fn=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],Sn=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],bn=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Nn=_e[wn][cn],Ze=Nn.cval,Mr=Sn[Ze],Qn=ie(Nn,Mr);yn.push([cn+Qn[0],wn+Qn[1]]),Mr=bn[Ze],Qn=ie(Nn,Mr),yn.push([cn+Qn[0],wn+Qn[1]]),on(Nn);for(var ri=cn+mn[Ze],gr=wn+fn[Ze],jr=Ze;ri>=0&&gr>=0&&gr<An&&(ri!=cn||gr!=wn)&&(Nn=_e[gr][ri])!==void 0;){if((Ze=Nn.cval)===0||Ze===15)return{path:yn,info:"mergeable"};Mr=bn[Ze],Tn=mn[Ze],dn=fn[Ze],Ze!==5&&Ze!==10||(Ze===5?Nn.flipped?fn[jr]===-1?(Mr="left",Tn=-1,dn=0):(Mr="right",Tn=1,dn=0):mn[jr]===-1&&(Mr="bottom",Tn=0,dn=-1):Ze===10&&(Nn.flipped?mn[jr]===-1?(Mr="top",Tn=0,dn=1):(Mr="bottom",Tn=0,dn=-1):fn[jr]===1&&(Mr="left",Tn=-1,dn=0))),Qn=ie(Nn,Mr),yn.push([ri+Qn[0],gr+Qn[1]]),on(Nn),ri+=Tn,gr+=dn,jr=Ze}return{path:yn,info:"closed"}}(yt.cells,Gt,ee),me=!1;if(Bt.info==="mergeable"){for(var Ie=Bt.path[Bt.path.length-1][0],Zt=Bt.path[Bt.path.length-1][1],fe=Tt-1;fe>=0;fe--)if(Math.abs(vt[fe][0][0]-Ie)<=xt&&Math.abs(vt[fe][0][1]-Zt)<=xt){for(var be=Bt.path.length-2;be>=0;--be)vt[fe].unshift(Bt.path[be]);me=!0;break}}me||(vt[Tt++]=Bt.path)}var Ee})}),vt}(function(yt,vt){for(var Tt=yt.length-1,xt=yt[0].length-1,It={rows:Tt,cols:xt,cells:[]},Gt=0;Gt<Tt;++Gt){It.cells[Gt]=[];for(var Wt=0;Wt<xt;++Wt){var ee=0,Bt=yt[Gt+1][Wt],me=yt[Gt+1][Wt+1],Ie=yt[Gt][Wt+1],Zt=yt[Gt][Wt];if(!(isNaN(Bt)||isNaN(me)||isNaN(Ie)||isNaN(Zt))){ee|=Bt>=vt?8:0,ee|=me>=vt?4:0,ee|=Ie>=vt?2:0;var fe,be,Ee,_e,wn=!1;if((ee|=Zt>=vt?1:0)===5||ee===10){var cn=(Bt+me+Ie+Zt)/4;ee===5&&cn<vt?(ee=10,wn=!0):ee===10&&cn<vt&&(ee=5,wn=!0)}ee!==0&&ee!==15&&(fe=be=Ee=_e=.5,ee===1?(Ee=1-rr(vt,Bt,Zt),be=1-rr(vt,Ie,Zt)):ee===2?(be=rr(vt,Zt,Ie),_e=1-rr(vt,me,Ie)):ee===3?(Ee=1-rr(vt,Bt,Zt),_e=1-rr(vt,me,Ie)):ee===4?(fe=rr(vt,Bt,me),_e=rr(vt,Ie,me)):ee===5?(fe=rr(vt,Bt,me),_e=rr(vt,Ie,me),be=1-rr(vt,Ie,Zt),Ee=1-rr(vt,Bt,Zt)):ee===6?(be=rr(vt,Zt,Ie),fe=rr(vt,Bt,me)):ee===7?(Ee=1-rr(vt,Bt,Zt),fe=rr(vt,Bt,me)):ee===8?(Ee=rr(vt,Zt,Bt),fe=1-rr(vt,me,Bt)):ee===9?(be=1-rr(vt,Ie,Zt),fe=1-rr(vt,me,Bt)):ee===10?(fe=1-rr(vt,me,Bt),_e=1-rr(vt,me,Ie),be=rr(vt,Zt,Ie),Ee=rr(vt,Zt,Bt)):ee===11?(fe=1-rr(vt,me,Bt),_e=1-rr(vt,me,Ie)):ee===12?(Ee=rr(vt,Zt,Bt),_e=rr(vt,Ie,me)):ee===13?(be=1-rr(vt,Ie,Zt),_e=rr(vt,Ie,me)):ee===14?(Ee=rr(vt,Zt,Bt),be=rr(vt,Zt,Ie)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+ee),It.cells[Gt][Wt]={cval:ee,flipped:wn,top:fe,right:_e,bottom:be,left:Ee})}}}return It}(B,U));return typeof jn.successCallback=="function"&&jn.successCallback(ft),ft}function rr(B,U,G){return(B-U)/(G-U)}function sr(B){return B.cval===0||B.cval===15}function on(B){sr(B)||B.cval===5||B.cval===10||(B.cval=15)}function ie(B,U){return U==="top"?[B.top,1]:U==="bottom"?[B.bottom,0]:U==="right"?[1,B.right]:U==="left"?[0,B.left]:void 0}function ne(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.zProperty||"elevation",Q=U.flip,J=U.flags;Pe(B,"Point","input must contain Points");for(var rt=function(It,Gt){var Wt={};return ve(It,function(ee){var Bt=oe(ee)[1];Wt[Bt]||(Wt[Bt]=[]),Wt[Bt].push(ee)}),Object.keys(Wt).map(function(ee){return Wt[ee].sort(function(Bt,me){return oe(Bt)[0]-oe(me)[0]})}).sort(function(ee,Bt){return Gt?oe(ee[0])[1]-oe(Bt[0])[1]:oe(Bt[0])[1]-oe(ee[0])[1]})}(B,Q),at=[],ft=0;ft<rt.length;ft++){for(var yt=rt[ft],vt=[],Tt=0;Tt<yt.length;Tt++){var xt=yt[Tt];xt.properties[G]?vt.push(xt.properties[G]):vt.push(0),J===!0&&(xt.properties.matrixPosition=[ft,Tt])}at.push(vt)}return at}var xe=Ve,Ae=Ve;function Ve(B,U,G,Q,J){vn(B,U,G||0,Q||B.length-1,J||Dn)}function vn(B,U,G,Q,J){for(;Q>G;){if(Q-G>600){var rt=Q-G+1,at=U-G+1,ft=Math.log(rt),yt=.5*Math.exp(2*ft/3),vt=.5*Math.sqrt(ft*yt*(rt-yt)/rt)*(at-rt/2<0?-1:1);vn(B,U,Math.max(G,Math.floor(U-at*yt/rt+vt)),Math.min(Q,Math.floor(U+(rt-at)*yt/rt+vt)),J)}var Tt=B[U],xt=G,It=Q;for(Ge(B,G,U),J(B[Q],Tt)>0&&Ge(B,G,Q);xt<It;){for(Ge(B,xt,It),xt++,It--;J(B[xt],Tt)<0;)xt++;for(;J(B[It],Tt)>0;)It--}J(B[G],Tt)===0?Ge(B,G,It):Ge(B,++It,Q),It<=U&&(G=It+1),U<=It&&(Q=It-1)}}function Ge(B,U,G){var Q=B[U];B[U]=B[G],B[G]=Q}function Dn(B,U){return B<U?-1:B>U?1:0}xe.default=Ae;var en=$n,Fn=$n;function $n(B,U){if(!(this instanceof $n))return new $n(B,U);this._maxEntries=Math.max(4,B||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),U&&this._initFormat(U),this.clear()}function Kn(B,U,G){if(!G)return U.indexOf(B);for(var Q=0;Q<U.length;Q++)if(G(B,U[Q]))return Q;return-1}function Wn(B,U){mr(B,0,B.children.length,U,B)}function mr(B,U,G,Q,J){J||(J=Cr(null)),J.minX=1/0,J.minY=1/0,J.maxX=-1/0,J.maxY=-1/0;for(var rt,at=U;at<G;at++)rt=B.children[at],ir(J,B.leaf?Q(rt):rt);return J}function ir(B,U){return B.minX=Math.min(B.minX,U.minX),B.minY=Math.min(B.minY,U.minY),B.maxX=Math.max(B.maxX,U.maxX),B.maxY=Math.max(B.maxY,U.maxY),B}function wr(B,U){return B.minX-U.minX}function Lr(B,U){return B.minY-U.minY}function Dr(B){return(B.maxX-B.minX)*(B.maxY-B.minY)}function Fo(B){return B.maxX-B.minX+(B.maxY-B.minY)}function xo(B,U){return B.minX<=U.minX&&B.minY<=U.minY&&U.maxX<=B.maxX&&U.maxY<=B.maxY}function tr(B,U){return U.minX<=B.maxX&&U.minY<=B.maxY&&U.maxX>=B.minX&&U.maxY>=B.minY}function Cr(B){return{children:B,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function go(B,U,G,Q,J){for(var rt,at=[U,G];at.length;)(G=at.pop())-(U=at.pop())<=Q||(rt=U+Math.ceil((G-U)/Q/2)*Q,xe(B,rt,U,G,J),at.push(U,rt,rt,G))}function Un(B){var U={exports:{}};return B(U,U.exports),U.exports}$n.prototype={all:function(){return this._all(this.data,[])},search:function(B){var U=this.data,G=[],Q=this.toBBox;if(!tr(B,U))return G;for(var J,rt,at,ft,yt=[];U;){for(J=0,rt=U.children.length;J<rt;J++)at=U.children[J],tr(B,ft=U.leaf?Q(at):at)&&(U.leaf?G.push(at):xo(B,ft)?this._all(at,G):yt.push(at));U=yt.pop()}return G},collides:function(B){var U=this.data,G=this.toBBox;if(!tr(B,U))return!1;for(var Q,J,rt,at,ft=[];U;){for(Q=0,J=U.children.length;Q<J;Q++)if(rt=U.children[Q],tr(B,at=U.leaf?G(rt):rt)){if(U.leaf||xo(B,at))return!0;ft.push(rt)}U=ft.pop()}return!1},load:function(B){if(!B||!B.length)return this;if(B.length<this._minEntries){for(var U=0,G=B.length;U<G;U++)this.insert(B[U]);return this}var Q=this._build(B.slice(),0,B.length-1,0);if(this.data.children.length)if(this.data.height===Q.height)this._splitRoot(this.data,Q);else{if(this.data.height<Q.height){var J=this.data;this.data=Q,Q=J}this._insert(Q,this.data.height-Q.height-1,!0)}else this.data=Q;return this},insert:function(B){return B&&this._insert(B,this.data.height-1),this},clear:function(){return this.data=Cr([]),this},remove:function(B,U){if(!B)return this;for(var G,Q,J,rt,at=this.data,ft=this.toBBox(B),yt=[],vt=[];at||yt.length;){if(at||(at=yt.pop(),Q=yt[yt.length-1],G=vt.pop(),rt=!0),at.leaf&&(J=Kn(B,at.children,U))!==-1)return at.children.splice(J,1),yt.push(at),this._condense(yt),this;rt||at.leaf||!xo(at,ft)?Q?(G++,at=Q.children[G],rt=!1):at=null:(yt.push(at),vt.push(G),G=0,Q=at,at=at.children[0])}return this},toBBox:function(B){return B},compareMinX:wr,compareMinY:Lr,toJSON:function(){return this.data},fromJSON:function(B){return this.data=B,this},_all:function(B,U){for(var G=[];B;)B.leaf?U.push.apply(U,B.children):G.push.apply(G,B.children),B=G.pop();return U},_build:function(B,U,G,Q){var J,rt=G-U+1,at=this._maxEntries;if(rt<=at)return Wn(J=Cr(B.slice(U,G+1)),this.toBBox),J;Q||(Q=Math.ceil(Math.log(rt)/Math.log(at)),at=Math.ceil(rt/Math.pow(at,Q-1))),(J=Cr([])).leaf=!1,J.height=Q;var ft,yt,vt,Tt,xt=Math.ceil(rt/at),It=xt*Math.ceil(Math.sqrt(at));for(go(B,U,G,It,this.compareMinX),ft=U;ft<=G;ft+=It)for(go(B,ft,vt=Math.min(ft+It-1,G),xt,this.compareMinY),yt=ft;yt<=vt;yt+=xt)Tt=Math.min(yt+xt-1,vt),J.children.push(this._build(B,yt,Tt,Q-1));return Wn(J,this.toBBox),J},_chooseSubtree:function(B,U,G,Q){for(var J,rt,at,ft,yt,vt,Tt,xt,It,Gt;Q.push(U),!U.leaf&&Q.length-1!==G;){for(Tt=xt=1/0,J=0,rt=U.children.length;J<rt;J++)yt=Dr(at=U.children[J]),It=B,Gt=at,(vt=(Math.max(Gt.maxX,It.maxX)-Math.min(Gt.minX,It.minX))*(Math.max(Gt.maxY,It.maxY)-Math.min(Gt.minY,It.minY))-yt)<xt?(xt=vt,Tt=yt<Tt?yt:Tt,ft=at):vt===xt&&yt<Tt&&(Tt=yt,ft=at);U=ft||U.children[0]}return U},_insert:function(B,U,G){var Q=this.toBBox,J=G?B:Q(B),rt=[],at=this._chooseSubtree(J,this.data,U,rt);for(at.children.push(B),ir(at,J);U>=0&&rt[U].children.length>this._maxEntries;)this._split(rt,U),U--;this._adjustParentBBoxes(J,rt,U)},_split:function(B,U){var G=B[U],Q=G.children.length,J=this._minEntries;this._chooseSplitAxis(G,J,Q);var rt=this._chooseSplitIndex(G,J,Q),at=Cr(G.children.splice(rt,G.children.length-rt));at.height=G.height,at.leaf=G.leaf,Wn(G,this.toBBox),Wn(at,this.toBBox),U?B[U-1].children.push(at):this._splitRoot(G,at)},_splitRoot:function(B,U){this.data=Cr([B,U]),this.data.height=B.height+1,this.data.leaf=!1,Wn(this.data,this.toBBox)},_chooseSplitIndex:function(B,U,G){var Q,J,rt,at,ft,yt,vt,Tt,xt,It,Gt,Wt,ee,Bt;for(yt=vt=1/0,Q=U;Q<=G-U;Q++)J=mr(B,0,Q,this.toBBox),rt=mr(B,Q,G,this.toBBox),xt=J,It=rt,Gt=void 0,Wt=void 0,ee=void 0,Bt=void 0,Gt=Math.max(xt.minX,It.minX),Wt=Math.max(xt.minY,It.minY),ee=Math.min(xt.maxX,It.maxX),Bt=Math.min(xt.maxY,It.maxY),at=Math.max(0,ee-Gt)*Math.max(0,Bt-Wt),ft=Dr(J)+Dr(rt),at<yt?(yt=at,Tt=Q,vt=ft<vt?ft:vt):at===yt&&ft<vt&&(vt=ft,Tt=Q);return Tt},_chooseSplitAxis:function(B,U,G){var Q=B.leaf?this.compareMinX:wr,J=B.leaf?this.compareMinY:Lr;this._allDistMargin(B,U,G,Q)<this._allDistMargin(B,U,G,J)&&B.children.sort(Q)},_allDistMargin:function(B,U,G,Q){B.children.sort(Q);var J,rt,at=this.toBBox,ft=mr(B,0,U,at),yt=mr(B,G-U,G,at),vt=Fo(ft)+Fo(yt);for(J=U;J<G-U;J++)rt=B.children[J],ir(ft,B.leaf?at(rt):rt),vt+=Fo(ft);for(J=G-U-1;J>=U;J--)rt=B.children[J],ir(yt,B.leaf?at(rt):rt),vt+=Fo(yt);return vt},_adjustParentBBoxes:function(B,U,G){for(var Q=G;Q>=0;Q--)ir(U[Q],B)},_condense:function(B){for(var U,G=B.length-1;G>=0;G--)B[G].children.length===0?G>0?(U=B[G-1].children).splice(U.indexOf(B[G]),1):this.clear():Wn(B[G],this.toBBox)},_initFormat:function(B){var U=["return a"," - b",";"];this.compareMinX=new Function("a","b",U.join(B[0])),this.compareMinY=new Function("a","b",U.join(B[1])),this.toBBox=new Function("a","return {minX: a"+B[0]+", minY: a"+B[1]+", maxX: a"+B[2]+", maxY: a"+B[3]+"};")}},en.default=Fn;var zi=function(B,U,G){var Q=B*U,J=uo*B,rt=J-(J-B),at=B-rt,ft=uo*U,yt=ft-(ft-U),vt=U-yt,Tt=at*vt-(Q-rt*yt-at*yt-rt*vt);return G?(G[0]=Tt,G[1]=Q,G):[Tt,Q]},uo=+(Math.pow(2,27)+1),io=function(B,U){var G=0|B.length,Q=0|U.length;if(G===1&&Q===1)return function(Ee,_e){var wn=Ee+_e,cn=wn-Ee,Tn=Ee-(wn-cn)+(_e-cn);return Tn?[Tn,wn]:[wn]}(B[0],U[0]);var J,rt,at=new Array(G+Q),ft=0,yt=0,vt=0,Tt=Math.abs,xt=B[yt],It=Tt(xt),Gt=U[vt],Wt=Tt(Gt);It<Wt?(rt=xt,(yt+=1)<G&&(xt=B[yt],It=Tt(xt))):(rt=Gt,(vt+=1)<Q&&(Gt=U[vt],Wt=Tt(Gt))),yt<G&&It<Wt||vt>=Q?(J=xt,(yt+=1)<G&&(xt=B[yt],It=Tt(xt))):(J=Gt,(vt+=1)<Q&&(Gt=U[vt],Wt=Tt(Gt)));for(var ee,Bt,me=J+rt,Ie=me-J,Zt=rt-Ie,fe=Zt,be=me;yt<G&&vt<Q;)It<Wt?(J=xt,(yt+=1)<G&&(xt=B[yt],It=Tt(xt))):(J=Gt,(vt+=1)<Q&&(Gt=U[vt],Wt=Tt(Gt))),(Zt=(rt=fe)-(Ie=(me=J+rt)-J))&&(at[ft++]=Zt),fe=be-((ee=be+me)-(Bt=ee-be))+(me-Bt),be=ee;for(;yt<G;)(Zt=(rt=fe)-(Ie=(me=(J=xt)+rt)-J))&&(at[ft++]=Zt),fe=be-((ee=be+me)-(Bt=ee-be))+(me-Bt),be=ee,(yt+=1)<G&&(xt=B[yt]);for(;vt<Q;)(Zt=(rt=fe)-(Ie=(me=(J=Gt)+rt)-J))&&(at[ft++]=Zt),fe=be-((ee=be+me)-(Bt=ee-be))+(me-Bt),be=ee,(vt+=1)<Q&&(Gt=U[vt]);return fe&&(at[ft++]=fe),be&&(at[ft++]=be),ft||(at[ft++]=0),at.length=ft,at},sn=function(B,U,G){var Q=B+U,J=Q-B,rt=U-J,at=B-(Q-J);return G?(G[0]=at+rt,G[1]=Q,G):[at+rt,Q]},En=function(B,U){var G=B.length;if(G===1){var Q=zi(B[0],U);return Q[0]?Q:[Q[1]]}var J=new Array(2*G),rt=[.1,.1],at=[.1,.1],ft=0;zi(B[0],U,rt),rt[0]&&(J[ft++]=rt[0]);for(var yt=1;yt<G;++yt){zi(B[yt],U,at);var vt=rt[1];sn(vt,at[0],rt),rt[0]&&(J[ft++]=rt[0]);var Tt=at[1],xt=rt[1],It=Tt+xt,Gt=xt-(It-Tt);rt[1]=It,Gt&&(J[ft++]=Gt)}return rt[1]&&(J[ft++]=rt[1]),ft===0&&(J[ft++]=0),J.length=ft,J},un=function(B,U){var G=0|B.length,Q=0|U.length;if(G===1&&Q===1)return function(Ee,_e){var wn=Ee+_e,cn=wn-Ee,Tn=Ee-(wn-cn)+(_e-cn);return Tn?[Tn,wn]:[wn]}(B[0],-U[0]);var J,rt,at=new Array(G+Q),ft=0,yt=0,vt=0,Tt=Math.abs,xt=B[yt],It=Tt(xt),Gt=-U[vt],Wt=Tt(Gt);It<Wt?(rt=xt,(yt+=1)<G&&(xt=B[yt],It=Tt(xt))):(rt=Gt,(vt+=1)<Q&&(Gt=-U[vt],Wt=Tt(Gt))),yt<G&&It<Wt||vt>=Q?(J=xt,(yt+=1)<G&&(xt=B[yt],It=Tt(xt))):(J=Gt,(vt+=1)<Q&&(Gt=-U[vt],Wt=Tt(Gt)));for(var ee,Bt,me=J+rt,Ie=me-J,Zt=rt-Ie,fe=Zt,be=me;yt<G&&vt<Q;)It<Wt?(J=xt,(yt+=1)<G&&(xt=B[yt],It=Tt(xt))):(J=Gt,(vt+=1)<Q&&(Gt=-U[vt],Wt=Tt(Gt))),(Zt=(rt=fe)-(Ie=(me=J+rt)-J))&&(at[ft++]=Zt),fe=be-((ee=be+me)-(Bt=ee-be))+(me-Bt),be=ee;for(;yt<G;)(Zt=(rt=fe)-(Ie=(me=(J=xt)+rt)-J))&&(at[ft++]=Zt),fe=be-((ee=be+me)-(Bt=ee-be))+(me-Bt),be=ee,(yt+=1)<G&&(xt=B[yt]);for(;vt<Q;)(Zt=(rt=fe)-(Ie=(me=(J=Gt)+rt)-J))&&(at[ft++]=Zt),fe=be-((ee=be+me)-(Bt=ee-be))+(me-Bt),be=ee,(vt+=1)<Q&&(Gt=-U[vt]);return fe&&(at[ft++]=fe),be&&(at[ft++]=be),ft||(at[ft++]=0),at.length=ft,at},je=Un(function(B){function U(vt,Tt){for(var xt=new Array(vt.length-1),It=1;It<vt.length;++It)for(var Gt=xt[It-1]=new Array(vt.length-1),Wt=0,ee=0;Wt<vt.length;++Wt)Wt!==Tt&&(Gt[ee++]=vt[It][Wt]);return xt}function G(vt){if(vt.length===1)return vt[0];if(vt.length===2)return["sum(",vt[0],",",vt[1],")"].join("");var Tt=vt.length>>1;return["sum(",G(vt.slice(0,Tt)),",",G(vt.slice(Tt)),")"].join("")}function Q(vt){if(vt.length===2)return[["sum(prod(",vt[0][0],",",vt[1][1],"),prod(-",vt[0][1],",",vt[1][0],"))"].join("")];for(var Tt=[],xt=0;xt<vt.length;++xt)Tt.push(["scale(",G(Q(U(vt,xt))),",",(It=xt,1&It?"-":""),vt[0][xt],")"].join(""));return Tt;var It}function J(vt){for(var Tt=[],xt=[],It=function(Zt){for(var fe=new Array(Zt),be=0;be<Zt;++be){fe[be]=new Array(Zt);for(var Ee=0;Ee<Zt;++Ee)fe[be][Ee]=["m",Ee,"[",Zt-be-1,"]"].join("")}return fe}(vt),Gt=[],Wt=0;Wt<vt;++Wt)1&Wt?xt.push.apply(xt,Q(U(It,Wt))):Tt.push.apply(Tt,Q(U(It,Wt))),Gt.push("m"+Wt);var ee=G(Tt),Bt=G(xt),me="orientation"+vt+"Exact",Ie=["function ",me,"(",Gt.join(),"){var p=",ee,",n=",Bt,",d=sub(p,n);return d[d.length-1];};return ",me].join("");return new Function("sum","prod","scale","sub",Ie)(io,zi,En,un)}var rt=J(3),at=J(4),ft=[function(){return 0},function(){return 0},function(vt,Tt){return Tt[0]-vt[0]},function(vt,Tt,xt){var It,Gt=(vt[1]-xt[1])*(Tt[0]-xt[0]),Wt=(vt[0]-xt[0])*(Tt[1]-xt[1]),ee=Gt-Wt;if(Gt>0){if(Wt<=0)return ee;It=Gt+Wt}else{if(!(Gt<0)||Wt>=0)return ee;It=-(Gt+Wt)}var Bt=33306690738754716e-32*It;return ee>=Bt||ee<=-Bt?ee:rt(vt,Tt,xt)},function(vt,Tt,xt,It){var Gt=vt[0]-It[0],Wt=Tt[0]-It[0],ee=xt[0]-It[0],Bt=vt[1]-It[1],me=Tt[1]-It[1],Ie=xt[1]-It[1],Zt=vt[2]-It[2],fe=Tt[2]-It[2],be=xt[2]-It[2],Ee=Wt*Ie,_e=ee*me,wn=ee*Bt,cn=Gt*Ie,Tn=Gt*me,dn=Wt*Bt,An=Zt*(Ee-_e)+fe*(wn-cn)+be*(Tn-dn),yn=7771561172376103e-31*((Math.abs(Ee)+Math.abs(_e))*Math.abs(Zt)+(Math.abs(wn)+Math.abs(cn))*Math.abs(fe)+(Math.abs(Tn)+Math.abs(dn))*Math.abs(be));return An>yn||-An>yn?An:at(vt,Tt,xt,It)}];function yt(vt){var Tt=ft[vt.length];return Tt||(Tt=ft[vt.length]=J(vt.length)),Tt.apply(void 0,vt)}(function(){for(;ft.length<=5;)ft.push(J(ft.length));for(var vt=[],Tt=["slow"],xt=0;xt<=5;++xt)vt.push("a"+xt),Tt.push("o"+xt);var It=["function getOrientation(",vt.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(xt=2;xt<=5;++xt)It.push("case ",xt,":return o",xt,"(",vt.slice(0,xt).join(),");");It.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),Tt.push(It.join(""));var Gt=Function.apply(void 0,Tt);for(B.exports=Gt.apply(void 0,[yt].concat(ft)),xt=0;xt<=5;++xt)B.exports[xt]=ft[xt]})()}),gn=function(B){var U=B.length;if(U<3){for(var G=new Array(U),Q=0;Q<U;++Q)G[Q]=Q;return U===2&&B[0][0]===B[1][0]&&B[0][1]===B[1][1]?[0]:G}var J=new Array(U);for(Q=0;Q<U;++Q)J[Q]=Q;J.sort(function(Gt,Wt){var ee=B[Gt][0]-B[Wt][0];return ee||B[Gt][1]-B[Wt][1]});var rt=[J[0],J[1]],at=[J[0],J[1]];for(Q=2;Q<U;++Q){for(var ft=J[Q],yt=B[ft],vt=rt.length;vt>1&&In(B[rt[vt-2]],B[rt[vt-1]],yt)<=0;)vt-=1,rt.pop();for(rt.push(ft),vt=at.length;vt>1&&In(B[at[vt-2]],B[at[vt-1]],yt)>=0;)vt-=1,at.pop();at.push(ft)}G=new Array(at.length+rt.length-2);for(var Tt=0,xt=(Q=0,rt.length);Q<xt;++Q)G[Tt++]=rt[Q];for(var It=at.length-2;It>0;--It)G[Tt++]=at[It];return G},In=je[3],Hn=Or,Er=Or;function Or(B,U){if(!(this instanceof Or))return new Or(B,U);if(this.data=B||[],this.length=this.data.length,this.compare=U||ci,this.length>0)for(var G=(this.length>>1)-1;G>=0;G--)this._down(G)}function ci(B,U){return B<U?-1:B>U?1:0}Or.prototype={push:function(B){this.data.push(B),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var B=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),B}},peek:function(){return this.data[0]},_up:function(B){for(var U=this.data,G=this.compare,Q=U[B];B>0;){var J=B-1>>1,rt=U[J];if(G(Q,rt)>=0)break;U[B]=rt,B=J}U[B]=Q},_down:function(B){for(var U=this.data,G=this.compare,Q=this.length>>1,J=U[B];B<Q;){var rt=1+(B<<1),at=rt+1,ft=U[rt];if(at<this.length&&G(U[at],ft)<0&&(rt=at,ft=U[at]),G(ft,J)>=0)break;U[B]=ft,B=rt}U[B]=J}},Hn.default=Er;var Si=function(B,U){for(var G=B[0],Q=B[1],J=!1,rt=0,at=U.length-1;rt<U.length;at=rt++){var ft=U[rt][0],yt=U[rt][1],vt=U[at][0],Tt=U[at][1];yt>Q!=Tt>Q&&G<(vt-ft)*(Q-yt)/(Tt-yt)+ft&&(J=!J)}return J},si=je[3],mo=Uo,Co=Uo;function Uo(B,U,G){U=Math.max(0,U===void 0?2:U),G=G||0;for(var Q,J=function(Ie){for(var Zt=Ie[0],fe=Ie[0],be=Ie[0],Ee=Ie[0],_e=0;_e<Ie.length;_e++){var wn=Ie[_e];wn[0]<Zt[0]&&(Zt=wn),wn[0]>be[0]&&(be=wn),wn[1]<fe[1]&&(fe=wn),wn[1]>Ee[1]&&(Ee=wn)}var cn=[Zt,fe,be,Ee],Tn=cn.slice();for(_e=0;_e<Ie.length;_e++)Si(Ie[_e],cn)||Tn.push(Ie[_e]);var dn=gn(Tn),An=[];for(_e=0;_e<dn.length;_e++)An.push(Tn[dn[_e]]);return An}(B),rt=en(16,["[0]","[1]","[0]","[1]"]).load(B),at=[],ft=0;ft<J.length;ft++){var yt=J[ft];rt.remove(yt),Q=xs(yt,Q),at.push(Q)}var vt=en(16);for(ft=0;ft<at.length;ft++)vt.insert(Xe(at[ft]));for(var Tt=U*U,xt=G*G;at.length;){var It=at.shift(),Gt=It.p,Wt=It.next.p,ee=an(Gt,Wt);if(!(ee<xt)){var Bt=ee/Tt;(yt=_r(rt,It.prev.p,Gt,Wt,It.next.next.p,Bt,vt))&&Math.min(an(yt,Gt),an(yt,Wt))<=Bt&&(at.push(It),at.push(xs(yt,It)),rt.remove(yt),vt.remove(It),vt.insert(Xe(It)),vt.insert(Xe(It.next)))}}It=Q;var me=[];do me.push(It.p),It=It.next;while(It!==Q);return me.push(It.p),me}function _r(B,U,G,Q,J,rt,at){for(var ft=new Hn(null,Ir),yt=B.data;yt;){for(var vt=0;vt<yt.children.length;vt++){var Tt=yt.children[vt],xt=yt.leaf?Do(Tt,G,Q):$r(G,Q,Tt);xt>rt||ft.push({node:Tt,dist:xt})}for(;ft.length&&!ft.peek().node.children;){var It=ft.pop(),Gt=It.node,Wt=Do(Gt,U,G),ee=Do(Gt,Q,J);if(It.dist<Wt&&It.dist<ee&&Nr(G,Gt,at)&&Nr(Q,Gt,at))return Gt}(yt=ft.pop())&&(yt=yt.node)}return null}function Ir(B,U){return B.dist-U.dist}function $r(B,U,G){if(er(B,G)||er(U,G))return 0;var Q=Ka(B[0],B[1],U[0],U[1],G.minX,G.minY,G.maxX,G.minY);if(Q===0)return 0;var J=Ka(B[0],B[1],U[0],U[1],G.minX,G.minY,G.minX,G.maxY);if(J===0)return 0;var rt=Ka(B[0],B[1],U[0],U[1],G.maxX,G.minY,G.maxX,G.maxY);if(rt===0)return 0;var at=Ka(B[0],B[1],U[0],U[1],G.minX,G.maxY,G.maxX,G.maxY);return at===0?0:Math.min(Q,J,rt,at)}function er(B,U){return B[0]>=U.minX&&B[0]<=U.maxX&&B[1]>=U.minY&&B[1]<=U.maxY}function Nr(B,U,G){for(var Q,J,rt,at,ft=Math.min(B[0],U[0]),yt=Math.min(B[1],U[1]),vt=Math.max(B[0],U[0]),Tt=Math.max(B[1],U[1]),xt=G.search({minX:ft,minY:yt,maxX:vt,maxY:Tt}),It=0;It<xt.length;It++)if(Q=xt[It].p,J=xt[It].next.p,rt=B,Q!==(at=U)&&J!==rt&&si(Q,J,rt)>0!=si(Q,J,at)>0&&si(rt,at,Q)>0!=si(rt,at,J)>0)return!1;return!0}function Xe(B){var U=B.p,G=B.next.p;return B.minX=Math.min(U[0],G[0]),B.minY=Math.min(U[1],G[1]),B.maxX=Math.max(U[0],G[0]),B.maxY=Math.max(U[1],G[1]),B}function xs(B,U){var G={p:B,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return U?(G.next=U.next,G.prev=U,U.next.prev=G,U.next=G):(G.prev=G,G.next=G),G}function an(B,U){var G=B[0]-U[0],Q=B[1]-U[1];return G*G+Q*Q}function Do(B,U,G){var Q=U[0],J=U[1],rt=G[0]-Q,at=G[1]-J;if(rt!==0||at!==0){var ft=((B[0]-Q)*rt+(B[1]-J)*at)/(rt*rt+at*at);ft>1?(Q=G[0],J=G[1]):ft>0&&(Q+=rt*ft,J+=at*ft)}return(rt=B[0]-Q)*rt+(at=B[1]-J)*at}function Ka(B,U,G,Q,J,rt,at,ft){var yt,vt,Tt,xt,It=G-B,Gt=Q-U,Wt=at-J,ee=ft-rt,Bt=B-J,me=U-rt,Ie=It*It+Gt*Gt,Zt=It*Wt+Gt*ee,fe=Wt*Wt+ee*ee,be=It*Bt+Gt*me,Ee=Wt*Bt+ee*me,_e=Ie*fe-Zt*Zt,wn=_e,cn=_e;_e===0?(vt=0,wn=1,xt=Ee,cn=fe):(xt=Ie*Ee-Zt*be,(vt=Zt*Ee-fe*be)<0?(vt=0,xt=Ee,cn=fe):vt>wn&&(vt=wn,xt=Ee+Zt,cn=fe)),xt<0?(xt=0,-be<0?vt=0:-be>Ie?vt=wn:(vt=-be,wn=Ie)):xt>cn&&(xt=cn,-be+Zt<0?vt=0:-be+Zt>Ie?vt=wn:(vt=-be+Zt,wn=Ie));var Tn=(1-(Tt=xt===0?0:xt/cn))*J+Tt*at-((1-(yt=vt===0?0:vt/wn))*B+yt*G),dn=(1-Tt)*rt+Tt*ft-((1-yt)*U+yt*Q);return Tn*Tn+dn*dn}function ei(B,U){U===void 0&&(U={}),U.concavity=U.concavity||1/0;var G=[];if(Pt(B,function(J){G.push([J[0],J[1]])}),!G.length)return null;var Q=mo(G,U.concavity);return Q.length>3?nt([Q]):null}function Pr(B,U,G){if(G===void 0&&(G={}),!B)throw new Error("point is required");if(!U)throw new Error("polygon is required");var Q=$t(B),J=ke(U),rt=J.type,at=U.bbox,ft=J.coordinates;if(at&&function(It,Gt){return Gt[0]<=It[0]&&Gt[1]<=It[1]&&Gt[2]>=It[0]&&Gt[3]>=It[1]}(Q,at)===!1)return!1;rt==="Polygon"&&(ft=[ft]);for(var yt=!1,vt=0;vt<ft.length&&!yt;vt++)if(oc(Q,ft[vt][0],G.ignoreBoundary)){for(var Tt=!1,xt=1;xt<ft[vt].length&&!Tt;)oc(Q,ft[vt][xt],!G.ignoreBoundary)&&(Tt=!0),xt++;Tt||(yt=!0)}return yt}function oc(B,U,G){var Q=!1;U[0][0]===U[U.length-1][0]&&U[0][1]===U[U.length-1][1]&&(U=U.slice(0,U.length-1));for(var J=0,rt=U.length-1;J<U.length;rt=J++){var at=U[J][0],ft=U[J][1],yt=U[rt][0],vt=U[rt][1];if(B[1]*(at-yt)+ft*(yt-B[0])+vt*(B[0]-at)==0&&(at-B[0])*(yt-B[0])<=0&&(ft-B[1])*(vt-B[1])<=0)return!G;ft>B[1]!=vt>B[1]&&B[0]<(yt-at)*(B[1]-ft)/(vt-ft)+at&&(Q=!Q)}return Q}function ur(B,U){var G=[];return ve(B,function(Q){var J=!1;if(Q.geometry.type==="Point")Oe(U,function(at){Pr(Q,at)&&(J=!0)}),J&&G.push(Q);else{if(Q.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var rt=[];Oe(U,function(at){Pt(Q,function(ft){Pr(ft,at)&&(J=!0,rt.push(ft))})}),J&&G.push(wt(rt))}}),ht(G)}function Yr(B,U,G){G===void 0&&(G={});var Q=$t(B),J=$t(U),rt=Ht(J[1]-Q[1]),at=Ht(J[0]-Q[0]),ft=Ht(Q[1]),yt=Ht(J[1]),vt=Math.pow(Math.sin(rt/2),2)+Math.pow(Math.sin(at/2),2)*Math.cos(ft)*Math.cos(yt);return At(2*Math.atan2(Math.sqrt(vt),Math.sqrt(1-vt)),G.units)}function Qs(B,U){var G=!1;return ht(function(Q){if(Q.length<3)return[];Q.sort(_a);for(var J,rt,at,ft,yt,vt,Tt=Q.length-1,xt=Q[Tt].x,It=Q[0].x,Gt=Q[Tt].y,Wt=Gt,ee=1e-12;Tt--;)Q[Tt].y<Gt&&(Gt=Q[Tt].y),Q[Tt].y>Wt&&(Wt=Q[Tt].y);var Bt,me=It-xt,Ie=Wt-Gt,Zt=me>Ie?me:Ie,fe=.5*(It+xt),be=.5*(Wt+Gt),Ee=[new tl({__sentinel:!0,x:fe-20*Zt,y:be-Zt},{__sentinel:!0,x:fe,y:be+20*Zt},{__sentinel:!0,x:fe+20*Zt,y:be-Zt})],_e=[],wn=[];for(Tt=Q.length;Tt--;){for(wn.length=0,Bt=Ee.length;Bt--;)(me=Q[Tt].x-Ee[Bt].x)>0&&me*me>Ee[Bt].r?(_e.push(Ee[Bt]),Ee.splice(Bt,1)):me*me+(Ie=Q[Tt].y-Ee[Bt].y)*Ie>Ee[Bt].r||(wn.push(Ee[Bt].a,Ee[Bt].b,Ee[Bt].b,Ee[Bt].c,Ee[Bt].c,Ee[Bt].a),Ee.splice(Bt,1));for(Mo(wn),Bt=wn.length;Bt;)rt=wn[--Bt],J=wn[--Bt],at=Q[Tt],ft=rt.x-J.x,yt=rt.y-J.y,vt=2*(ft*(at.y-rt.y)-yt*(at.x-rt.x)),Math.abs(vt)>ee&&Ee.push(new tl(J,rt,at))}for(Array.prototype.push.apply(_e,Ee),Tt=_e.length;Tt--;)(_e[Tt].a.__sentinel||_e[Tt].b.__sentinel||_e[Tt].c.__sentinel)&&_e.splice(Tt,1);return _e}(B.features.map(function(Q){var J={x:Q.geometry.coordinates[0],y:Q.geometry.coordinates[1]};return U?J.z=Q.properties[U]:Q.geometry.coordinates.length===3&&(G=!0,J.z=Q.geometry.coordinates[2]),J})).map(function(Q){var J=[Q.a.x,Q.a.y],rt=[Q.b.x,Q.b.y],at=[Q.c.x,Q.c.y],ft={};return G?(J.push(Q.a.z),rt.push(Q.b.z),at.push(Q.c.z)):ft={a:Q.a.z,b:Q.b.z,c:Q.c.z},nt([[J,rt,at,J]],ft)}))}mo.default=Co;var tl=function(B,U,G){this.a=B,this.b=U,this.c=G;var Q,J,rt=U.x-B.x,at=U.y-B.y,ft=G.x-B.x,yt=G.y-B.y,vt=rt*(B.x+U.x)+at*(B.y+U.y),Tt=ft*(B.x+G.x)+yt*(B.y+G.y),xt=2*(rt*(G.y-U.y)-at*(G.x-U.x));this.x=(yt*vt-at*Tt)/xt,this.y=(rt*Tt-ft*vt)/xt,Q=this.x-B.x,J=this.y-B.y,this.r=Q*Q+J*J};function _a(B,U){return U.x-B.x}function Mo(B){var U,G,Q,J,rt,at=B.length;t:for(;at;)for(G=B[--at],U=B[--at],Q=at;Q;)if(rt=B[--Q],U===(J=B[--Q])&&G===rt||U===rt&&G===J){B.splice(at,2),B.splice(Q,2),at-=2;continue t}}function ai(B){if(!B)throw new Error("geojson is required");switch(B.type){case"Feature":return Es(B);case"FeatureCollection":return function(U){var G={type:"FeatureCollection"};return Object.keys(U).forEach(function(Q){switch(Q){case"type":case"features":return;default:G[Q]=U[Q]}}),G.features=U.features.map(function(Q){return Es(Q)}),G}(B);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return el(B);default:throw new Error("unknown GeoJSON type")}}function Es(B){var U={type:"Feature"};return Object.keys(B).forEach(function(G){switch(G){case"type":case"properties":case"geometry":return;default:U[G]=B[G]}}),U.properties=Io(B.properties),U.geometry=el(B.geometry),U}function Io(B){var U={};return B&&Object.keys(B).forEach(function(G){var Q=B[G];typeof Q=="object"?Q===null?U[G]=null:Array.isArray(Q)?U[G]=Q.map(function(J){return J}):U[G]=Io(Q):U[G]=Q}),U}function el(B){var U={type:B.type};return B.bbox&&(U.bbox=B.bbox),B.type==="GeometryCollection"?(U.geometries=B.geometries.map(function(G){return el(G)}),U):(U.coordinates=Yo(B.coordinates),U)}function Yo(B){var U=B;return typeof U[0]!="object"?U.slice():U.map(function(G){return Yo(G)})}function wa(B,U){if(U===void 0&&(U={}),!Dt(U=U||{}))throw new Error("options is invalid");var G=U.mutate;if($e(B)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!B.features.length)throw new Error("geojson is empty");G!==!1&&G!==void 0||(B=ai(B));var Q=[],J=Le(B,function(rt,at){var ft=function(yt,vt){var Tt,xt=yt.geometry.coordinates,It=vt.geometry.coordinates,Gt=Os(xt[0]),Wt=Os(xt[xt.length-1]),ee=Os(It[0]),Bt=Os(It[It.length-1]);if(Gt===Bt)Tt=It.concat(xt.slice(1));else if(ee===Wt)Tt=xt.concat(It.slice(1));else if(Gt===ee)Tt=xt.slice(1).reverse().concat(It);else{if(Wt!==Bt)return null;Tt=xt.concat(It.reverse().slice(1))}return ct(Tt)}(rt,at);return ft||(Q.push(rt),at)});return J&&Q.push(J),Q.length?Q.length===1?Q[0]:bt(Q.map(function(rt){return rt.coordinates})):null}function Os(B){return B[0].toString()+","+B[1].toString()}function Pl(B){return B}function gl(B,U){var G=function(vt){if(vt==null)return Pl;var Tt,xt,It=vt.scale[0],Gt=vt.scale[1],Wt=vt.translate[0],ee=vt.translate[1];return function(Bt,me){me||(Tt=xt=0);var Ie=2,Zt=Bt.length,fe=new Array(Zt);for(fe[0]=(Tt+=Bt[0])*It+Wt,fe[1]=(xt+=Bt[1])*Gt+ee;Ie<Zt;)fe[Ie]=Bt[Ie],++Ie;return fe}}(B.transform),Q=B.arcs;function J(vt,Tt){Tt.length&&Tt.pop();for(var xt=Q[vt<0?~vt:vt],It=0,Gt=xt.length;It<Gt;++It)Tt.push(G(xt[It],It));vt<0&&function(Wt,ee){for(var Bt,me=Wt.length,Ie=me-ee;Ie<--me;)Bt=Wt[Ie],Wt[Ie++]=Wt[me],Wt[me]=Bt}(Tt,Gt)}function rt(vt){return G(vt)}function at(vt){for(var Tt=[],xt=0,It=vt.length;xt<It;++xt)J(vt[xt],Tt);return Tt.length<2&&Tt.push(Tt[0]),Tt}function ft(vt){for(var Tt=at(vt);Tt.length<4;)Tt.push(Tt[0]);return Tt}function yt(vt){return vt.map(ft)}return function vt(Tt){var xt,It=Tt.type;switch(It){case"GeometryCollection":return{type:It,geometries:Tt.geometries.map(vt)};case"Point":xt=rt(Tt.coordinates);break;case"MultiPoint":xt=Tt.coordinates.map(rt);break;case"LineString":xt=at(Tt.arcs);break;case"MultiLineString":xt=Tt.arcs.map(at);break;case"Polygon":xt=yt(Tt.arcs);break;case"MultiPolygon":xt=Tt.arcs.map(yt);break;default:return null}return{type:It,coordinates:xt}}(U)}function zl(B,U){var G={},Q={},J={},rt=[],at=-1;function ft(yt,vt){for(var Tt in yt){var xt=yt[Tt];delete vt[xt.start],delete xt.start,delete xt.end,xt.forEach(function(It){G[It<0?~It:It]=1}),rt.push(xt)}}return U.forEach(function(yt,vt){var Tt,xt=B.arcs[yt<0?~yt:yt];xt.length<3&&!xt[1][0]&&!xt[1][1]&&(Tt=U[++at],U[at]=yt,U[vt]=Tt)}),U.forEach(function(yt){var vt,Tt,xt=function(Bt){var me,Ie=B.arcs[Bt<0?~Bt:Bt],Zt=Ie[0];return B.transform?(me=[0,0],Ie.forEach(function(fe){me[0]+=fe[0],me[1]+=fe[1]})):me=Ie[Ie.length-1],Bt<0?[me,Zt]:[Zt,me]}(yt),It=xt[0],Gt=xt[1];if(vt=J[It])if(delete J[vt.end],vt.push(yt),vt.end=Gt,Tt=Q[Gt]){delete Q[Tt.start];var Wt=Tt===vt?vt:vt.concat(Tt);Q[Wt.start=vt.start]=J[Wt.end=Tt.end]=Wt}else Q[vt.start]=J[vt.end]=vt;else if(vt=Q[Gt])if(delete Q[vt.start],vt.unshift(yt),vt.start=It,Tt=J[It]){delete J[Tt.end];var ee=Tt===vt?vt:Tt.concat(vt);Q[ee.start=Tt.start]=J[ee.end=vt.end]=ee}else Q[vt.start]=J[vt.end]=vt;else Q[(vt=[yt]).start=It]=J[vt.end=Gt]=vt}),ft(J,Q),ft(Q,J),U.forEach(function(yt){G[yt<0?~yt:yt]||rt.push([yt])}),rt}function Ps(B,U){var G={},Q=[],J=[];function rt(ft){ft.forEach(function(yt){yt.forEach(function(vt){(G[vt=vt<0?~vt:vt]||(G[vt]=[])).push(ft)})}),Q.push(ft)}function at(ft){return function(yt){for(var vt,Tt=-1,xt=yt.length,It=yt[xt-1],Gt=0;++Tt<xt;)vt=It,It=yt[Tt],Gt+=vt[0]*It[1]-vt[1]*It[0];return Math.abs(Gt)}(gl(B,{type:"Polygon",arcs:[ft]}).coordinates[0])}return U.forEach(function ft(yt){switch(yt.type){case"GeometryCollection":yt.geometries.forEach(ft);break;case"Polygon":rt(yt.arcs);break;case"MultiPolygon":yt.arcs.forEach(rt)}}),Q.forEach(function(ft){if(!ft._){var yt=[],vt=[ft];for(ft._=1,J.push(yt);ft=vt.pop();)yt.push(ft),ft.forEach(function(Tt){Tt.forEach(function(xt){G[xt<0?~xt:xt].forEach(function(It){It._||(It._=1,vt.push(It))})})})}}),Q.forEach(function(ft){delete ft._}),{type:"MultiPolygon",arcs:J.map(function(ft){var yt,vt=[];if(ft.forEach(function(Wt){Wt.forEach(function(ee){ee.forEach(function(Bt){G[Bt<0?~Bt:Bt].length<2&&vt.push(Bt)})})}),(yt=(vt=zl(B,vt)).length)>1)for(var Tt,xt,It=1,Gt=at(vt[0]);It<yt;++It)(Tt=at(vt[It]))>Gt&&(xt=vt[0],vt[0]=vt[It],vt[It]=xt,Gt=Tt);return vt}).filter(function(ft){return ft.length>0})}}var nu=Object.prototype.hasOwnProperty;function Cc(B,U,G,Q,J,rt){arguments.length===3&&(Q=rt=Array,J=null);for(var at=new Q(B=1<<Math.max(4,Math.ceil(Math.log(B)/Math.LN2))),ft=new rt(B),yt=B-1,vt=0;vt<B;++vt)at[vt]=J;function Tt(Wt,ee){for(var Bt=U(Wt)&yt,me=at[Bt],Ie=0;me!=J;){if(G(me,Wt))return ft[Bt]=ee;if(++Ie>=B)throw new Error("full hashmap");me=at[Bt=Bt+1&yt]}return at[Bt]=Wt,ft[Bt]=ee,ee}function xt(Wt,ee){for(var Bt=U(Wt)&yt,me=at[Bt],Ie=0;me!=J;){if(G(me,Wt))return ft[Bt];if(++Ie>=B)throw new Error("full hashmap");me=at[Bt=Bt+1&yt]}return at[Bt]=Wt,ft[Bt]=ee,ee}function It(Wt,ee){for(var Bt=U(Wt)&yt,me=at[Bt],Ie=0;me!=J;){if(G(me,Wt))return ft[Bt];if(++Ie>=B)break;me=at[Bt=Bt+1&yt]}return ee}function Gt(){for(var Wt=[],ee=0,Bt=at.length;ee<Bt;++ee){var me=at[ee];me!=J&&Wt.push(me)}return Wt}return{set:Tt,maybeSet:xt,get:It,keys:Gt}}function Rl(B,U){return B[0]===U[0]&&B[1]===U[1]}var Kr=new ArrayBuffer(16),ja=new Float64Array(Kr),zr=new Uint32Array(Kr);function aa(B){ja[0]=B[0],ja[1]=B[1];var U=zr[0]^zr[1];return 2147483647&(U=U<<5^U>>7^zr[2]^zr[3])}function dh(B){var U,G,Q,J,rt=B.coordinates,at=B.lines,ft=B.rings,yt=function(){for(var cn=Cc(1.4*rt.length,be,Ee,Int32Array,-1,Int32Array),Tn=new Int32Array(rt.length),dn=0,An=rt.length;dn<An;++dn)Tn[dn]=cn.maybeSet(dn,dn);return Tn}(),vt=new Int32Array(rt.length),Tt=new Int32Array(rt.length),xt=new Int32Array(rt.length),It=new Int8Array(rt.length),Gt=0;for(U=0,G=rt.length;U<G;++U)vt[U]=Tt[U]=xt[U]=-1;for(U=0,G=at.length;U<G;++U){var Wt=at[U],ee=Wt[0],Bt=Wt[1];for(Q=yt[ee],J=yt[++ee],++Gt,It[Q]=1;++ee<=Bt;)fe(U,Q,Q=J,J=yt[ee]);++Gt,It[J]=1}for(U=0,G=rt.length;U<G;++U)vt[U]=-1;for(U=0,G=ft.length;U<G;++U){var me=ft[U],Ie=me[0]+1,Zt=me[1];for(fe(U,yt[Zt-1],Q=yt[Ie-1],J=yt[Ie]);++Ie<=Zt;)fe(U,Q,Q=J,J=yt[Ie])}function fe(cn,Tn,dn,An){if(vt[dn]!==cn){vt[dn]=cn;var yn=Tt[dn];if(yn>=0){var mn=xt[dn];yn===Tn&&mn===An||yn===An&&mn===Tn||(++Gt,It[dn]=1)}else Tt[dn]=Tn,xt[dn]=An}}function be(cn){return aa(rt[cn])}function Ee(cn,Tn){return Rl(rt[cn],rt[Tn])}vt=Tt=xt=null;var _e,wn=function(cn,Tn,dn,An,yn){arguments.length===3&&(An=Array,yn=null);for(var mn=new An(cn=1<<Math.max(4,Math.ceil(Math.log(cn)/Math.LN2))),fn=cn-1,Sn=0;Sn<cn;++Sn)mn[Sn]=yn;function bn(Mr){for(var Qn=Tn(Mr)&fn,ri=mn[Qn],gr=0;ri!=yn;){if(dn(ri,Mr))return!0;if(++gr>=cn)throw new Error("full hashset");ri=mn[Qn=Qn+1&fn]}return mn[Qn]=Mr,!0}function Nn(Mr){for(var Qn=Tn(Mr)&fn,ri=mn[Qn],gr=0;ri!=yn;){if(dn(ri,Mr))return!0;if(++gr>=cn)break;ri=mn[Qn=Qn+1&fn]}return!1}function Ze(){for(var Mr=[],Qn=0,ri=mn.length;Qn<ri;++Qn){var gr=mn[Qn];gr!=yn&&Mr.push(gr)}return Mr}return{add:bn,has:Nn,values:Ze}}(1.4*Gt,aa,Rl);for(U=0,G=rt.length;U<G;++U)It[_e=yt[U]]&&wn.add(rt[_e]);return wn}function ru(B,U,G,Q){iu(B,U,G),iu(B,U,U+Q),iu(B,U+Q,G)}function iu(B,U,G){for(var Q,J=U+(G---U>>1);U<J;++U,--G)Q=B[U],B[U]=B[G],B[G]=Q}function jl(B){var U,G,Q={};for(U in B)Q[U]=(G=B[U])==null?{type:null}:(G.type==="FeatureCollection"?fh:G.type==="Feature"?xa:Ho)(G);return Q}function fh(B){var U={type:"GeometryCollection",geometries:B.features.map(xa)};return B.bbox!=null&&(U.bbox=B.bbox),U}function xa(B){var U,G=Ho(B.geometry);for(U in B.id!=null&&(G.id=B.id),B.bbox!=null&&(G.bbox=B.bbox),B.properties){G.properties=B.properties;break}return G}function Ho(B){if(B==null)return{type:null};var U=B.type==="GeometryCollection"?{type:"GeometryCollection",geometries:B.geometries.map(Ho)}:B.type==="Point"||B.type==="MultiPoint"?{type:B.type,coordinates:B.coordinates}:{type:B.type,arcs:B.coordinates};return B.bbox!=null&&(U.bbox=B.bbox),U}function la(B,U){var G=function(It){var Gt=1/0,Wt=1/0,ee=-1/0,Bt=-1/0;function me(_e){_e!=null&&nu.call(Ie,_e.type)&&Ie[_e.type](_e)}var Ie={GeometryCollection:function(_e){_e.geometries.forEach(me)},Point:function(_e){Zt(_e.coordinates)},MultiPoint:function(_e){_e.coordinates.forEach(Zt)},LineString:function(_e){fe(_e.arcs)},MultiLineString:function(_e){_e.arcs.forEach(fe)},Polygon:function(_e){_e.arcs.forEach(fe)},MultiPolygon:function(_e){_e.arcs.forEach(be)}};function Zt(_e){var wn=_e[0],cn=_e[1];wn<Gt&&(Gt=wn),wn>ee&&(ee=wn),cn<Wt&&(Wt=cn),cn>Bt&&(Bt=cn)}function fe(_e){_e.forEach(Zt)}function be(_e){_e.forEach(fe)}for(var Ee in It)me(It[Ee]);return ee>=Gt&&Bt>=Wt?[Gt,Wt,ee,Bt]:void 0}(B=jl(B)),Q=U>0&&G&&function(It,Gt,Wt){var ee=Gt[0],Bt=Gt[1],me=Gt[2],Ie=Gt[3],Zt=me-ee?(Wt-1)/(me-ee):1,fe=Ie-Bt?(Wt-1)/(Ie-Bt):1;function be(yn){return[Math.round((yn[0]-ee)*Zt),Math.round((yn[1]-Bt)*fe)]}function Ee(yn,mn){for(var fn,Sn,bn,Nn,Ze,Mr=-1,Qn=0,ri=yn.length,gr=new Array(ri);++Mr<ri;)fn=yn[Mr],Nn=Math.round((fn[0]-ee)*Zt),Ze=Math.round((fn[1]-Bt)*fe),Nn===Sn&&Ze===bn||(gr[Qn++]=[Sn=Nn,bn=Ze]);for(gr.length=Qn;Qn<mn;)Qn=gr.push([gr[0][0],gr[0][1]]);return gr}function _e(yn){return Ee(yn,2)}function wn(yn){return Ee(yn,4)}function cn(yn){return yn.map(wn)}function Tn(yn){yn!=null&&nu.call(dn,yn.type)&&dn[yn.type](yn)}var dn={GeometryCollection:function(yn){yn.geometries.forEach(Tn)},Point:function(yn){yn.coordinates=be(yn.coordinates)},MultiPoint:function(yn){yn.coordinates=yn.coordinates.map(be)},LineString:function(yn){yn.arcs=_e(yn.arcs)},MultiLineString:function(yn){yn.arcs=yn.arcs.map(_e)},Polygon:function(yn){yn.arcs=cn(yn.arcs)},MultiPolygon:function(yn){yn.arcs=yn.arcs.map(cn)}};for(var An in It)Tn(It[An]);return{scale:[1/Zt,1/fe],translate:[ee,Bt]}}(B,G,U),J=function(It){var Gt,Wt,ee,Bt,me=It.coordinates,Ie=It.lines,Zt=It.rings,fe=Ie.length+Zt.length;for(delete It.lines,delete It.rings,ee=0,Bt=Ie.length;ee<Bt;++ee)for(Gt=Ie[ee];Gt=Gt.next;)++fe;for(ee=0,Bt=Zt.length;ee<Bt;++ee)for(Wt=Zt[ee];Wt=Wt.next;)++fe;var be=Cc(2*fe*1.4,aa,Rl),Ee=It.arcs=[];for(ee=0,Bt=Ie.length;ee<Bt;++ee){Gt=Ie[ee];do _e(Gt);while(Gt=Gt.next)}for(ee=0,Bt=Zt.length;ee<Bt;++ee)if((Wt=Zt[ee]).next)do _e(Wt);while(Wt=Wt.next);else wn(Wt);function _e(mn){var fn,Sn,bn,Nn,Ze,Mr,Qn,ri;if(bn=be.get(fn=me[mn[0]])){for(Qn=0,ri=bn.length;Qn<ri;++Qn)if(cn(Nn=bn[Qn],mn))return mn[0]=Nn[0],void(mn[1]=Nn[1])}if(Ze=be.get(Sn=me[mn[1]])){for(Qn=0,ri=Ze.length;Qn<ri;++Qn)if(Tn(Mr=Ze[Qn],mn))return mn[1]=Mr[0],void(mn[0]=Mr[1])}bn?bn.push(mn):be.set(fn,[mn]),Ze?Ze.push(mn):be.set(Sn,[mn]),Ee.push(mn)}function wn(mn){var fn,Sn,bn,Nn,Ze;if(Sn=be.get(me[mn[0]]))for(Nn=0,Ze=Sn.length;Nn<Ze;++Nn){if(dn(bn=Sn[Nn],mn))return mn[0]=bn[0],void(mn[1]=bn[1]);if(An(bn,mn))return mn[0]=bn[1],void(mn[1]=bn[0])}if(Sn=be.get(fn=me[mn[0]+yn(mn)]))for(Nn=0,Ze=Sn.length;Nn<Ze;++Nn){if(dn(bn=Sn[Nn],mn))return mn[0]=bn[0],void(mn[1]=bn[1]);if(An(bn,mn))return mn[0]=bn[1],void(mn[1]=bn[0])}Sn?Sn.push(mn):be.set(fn,[mn]),Ee.push(mn)}function cn(mn,fn){var Sn=mn[0],bn=fn[0],Nn=mn[1];if(Sn-Nn!=bn-fn[1])return!1;for(;Sn<=Nn;++Sn,++bn)if(!Rl(me[Sn],me[bn]))return!1;return!0}function Tn(mn,fn){var Sn=mn[0],bn=fn[0],Nn=mn[1],Ze=fn[1];if(Sn-Nn!=bn-Ze)return!1;for(;Sn<=Nn;++Sn,--Ze)if(!Rl(me[Sn],me[Ze]))return!1;return!0}function dn(mn,fn){var Sn=mn[0],bn=fn[0],Nn=mn[1]-Sn;if(Nn!==fn[1]-bn)return!1;for(var Ze=yn(mn),Mr=yn(fn),Qn=0;Qn<Nn;++Qn)if(!Rl(me[Sn+(Qn+Ze)%Nn],me[bn+(Qn+Mr)%Nn]))return!1;return!0}function An(mn,fn){var Sn=mn[0],bn=fn[0],Nn=mn[1],Ze=fn[1],Mr=Nn-Sn;if(Mr!==Ze-bn)return!1;for(var Qn=yn(mn),ri=Mr-yn(fn),gr=0;gr<Mr;++gr)if(!Rl(me[Sn+(gr+Qn)%Mr],me[Ze-(gr+ri)%Mr]))return!1;return!0}function yn(mn){for(var fn=mn[0],Sn=mn[1],bn=fn,Nn=bn,Ze=me[bn];++bn<Sn;){var Mr=me[bn];(Mr[0]<Ze[0]||Mr[0]===Ze[0]&&Mr[1]<Ze[1])&&(Nn=bn,Ze=Mr)}return Nn-fn}return It}(function(It){var Gt,Wt,ee,Bt=dh(It),me=It.coordinates,Ie=It.lines,Zt=It.rings;for(Wt=0,ee=Ie.length;Wt<ee;++Wt)for(var fe=Ie[Wt],be=fe[0],Ee=fe[1];++be<Ee;)Bt.has(me[be])&&(Gt={0:be,1:fe[1]},fe[1]=be,fe=fe.next=Gt);for(Wt=0,ee=Zt.length;Wt<ee;++Wt)for(var _e=Zt[Wt],wn=_e[0],cn=wn,Tn=_e[1],dn=Bt.has(me[wn]);++cn<Tn;)Bt.has(me[cn])&&(dn?(Gt={0:cn,1:_e[1]},_e[1]=cn,_e=_e.next=Gt):(ru(me,wn,Tn,Tn-cn),me[Tn]=me[wn],dn=!0,cn=wn));return It}(function(It){var Gt=-1,Wt=[],ee=[],Bt=[];function me(_e){_e&&nu.call(Ie,_e.type)&&Ie[_e.type](_e)}var Ie={GeometryCollection:function(_e){_e.geometries.forEach(me)},LineString:function(_e){_e.arcs=Zt(_e.arcs)},MultiLineString:function(_e){_e.arcs=_e.arcs.map(Zt)},Polygon:function(_e){_e.arcs=_e.arcs.map(fe)},MultiPolygon:function(_e){_e.arcs=_e.arcs.map(be)}};function Zt(_e){for(var wn=0,cn=_e.length;wn<cn;++wn)Bt[++Gt]=_e[wn];var Tn={0:Gt-cn+1,1:Gt};return Wt.push(Tn),Tn}function fe(_e){for(var wn=0,cn=_e.length;wn<cn;++wn)Bt[++Gt]=_e[wn];var Tn={0:Gt-cn+1,1:Gt};return ee.push(Tn),Tn}function be(_e){return _e.map(fe)}for(var Ee in It)me(It[Ee]);return{type:"Topology",coordinates:Bt,lines:Wt,rings:ee,objects:It}}(B))),rt=J.coordinates,at=Cc(1.4*J.arcs.length,ph,gh);function ft(It){It&&nu.call(yt,It.type)&&yt[It.type](It)}B=J.objects,J.bbox=G,J.arcs=J.arcs.map(function(It,Gt){return at.set(It,Gt),rt.slice(It[0],It[1]+1)}),delete J.coordinates,rt=null;var yt={GeometryCollection:function(It){It.geometries.forEach(ft)},LineString:function(It){It.arcs=vt(It.arcs)},MultiLineString:function(It){It.arcs=It.arcs.map(vt)},Polygon:function(It){It.arcs=It.arcs.map(vt)},MultiPolygon:function(It){It.arcs=It.arcs.map(Tt)}};function vt(It){var Gt=[];do{var Wt=at.get(It);Gt.push(It[0]<It[1]?Wt:~Wt)}while(It=It.next);return Gt}function Tt(It){return It.map(vt)}for(var xt in B)ft(B[xt]);return Q&&(J.transform=Q,J.arcs=function(It){for(var Gt=-1,Wt=It.length;++Gt<Wt;){for(var ee,Bt,me=It[Gt],Ie=0,Zt=1,fe=me.length,be=me[0],Ee=be[0],_e=be[1];++Ie<fe;)ee=(be=me[Ie])[0],Bt=be[1],ee===Ee&&Bt===_e||(me[Zt++]=[ee-Ee,Bt-_e],Ee=ee,_e=Bt);Zt===1&&(me[Zt++]=[0,0]),me.length=Zt}return It}(J.arcs)),J}function ph(B){var U,G=B[0],Q=B[1];return Q<G&&(U=G,G=Q,Q=U),G+31*Q}function gh(B,U){var G,Q=B[0],J=B[1],rt=U[0],at=U[1];return J<Q&&(G=Q,Q=J,J=G),at<rt&&(G=rt,rt=at,at=G),Q===rt&&J===at}function tf(B,U){if(U===void 0&&(U={}),$e(B)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!B.features.length)throw new Error("geojson is empty");U.mutate!==!1&&U.mutate!==void 0||(B=ai(B));var G=[];qe(B,function(J){G.push(J.geometry)});var Q=la({geoms:_t(G).geometry});return function(J){return gl(J,Ps.apply(this,arguments))}(Q,Q.objects.geoms.geometries)}function Ba(B,U){if(U===void 0&&(U={}),!Dt(U=U||{}))throw new Error("options is invalid");var G=U.mutate;if($e(B)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!B.features.length)throw new Error("geojson is empty");G!==!1&&G!==void 0||(B=ai(B));var Q=function(rt){var at={};qe(rt,function(yt){at[yt.geometry.type]=!0});var ft=Object.keys(at);return ft.length===1?ft[0]:null}(B);if(!Q)throw new Error("geojson must be homogenous");var J=B;switch(Q){case"LineString":return wa(J,U);case"Polygon":return tf(J,U);default:throw new Error(Q+" is not supported")}}function Ea(B,U){U===void 0&&(U={});var G=typeof U=="object"?U.mutate:U;if(!B)throw new Error("geojson is required");var Q=$e(B),J=[];switch(Q){case"LineString":J=zs(B);break;case"MultiLineString":case"Polygon":oe(B).forEach(function(at){J.push(zs(at))});break;case"MultiPolygon":oe(B).forEach(function(at){var ft=[];at.forEach(function(yt){ft.push(zs(yt))}),J.push(ft)});break;case"Point":return B;case"MultiPoint":var rt={};oe(B).forEach(function(at){var ft=at.join("-");Object.prototype.hasOwnProperty.call(rt,ft)||(J.push(at),rt[ft]=!0)});break;default:throw new Error(Q+" geometry not supported")}return B.coordinates?G===!0?(B.coordinates=J,B):{type:Q,coordinates:J}:G===!0?(B.geometry.coordinates=J,B):W({type:Q,coordinates:J},B.properties,{bbox:B.bbox,id:B.id})}function zs(B){var U=oe(B);if(U.length===2&&!Pu(U[0],U[1]))return U;var G=[],Q=U.length-1,J=G.length;G.push(U[0]);for(var rt=1;rt<Q;rt++){var at=G[G.length-1];U[rt][0]===at[0]&&U[rt][1]===at[1]||(G.push(U[rt]),(J=G.length)>2&&mi(G[J-3],G[J-1],G[J-2])&&G.splice(G.length-2,1))}if(G.push(U[U.length-1]),J=G.length,Pu(U[0],U[U.length-1])&&J<4)throw new Error("invalid polygon");return mi(G[J-3],G[J-1],G[J-2])&&G.splice(G.length-2,1),G}function Pu(B,U){return B[0]===U[0]&&B[1]===U[1]}function mi(B,U,G){var Q=G[0],J=G[1],rt=B[0],at=B[1],ft=U[0],yt=U[1],vt=ft-rt,Tt=yt-at;return(Q-rt)*Tt-(J-at)*vt===0&&(Math.abs(vt)>=Math.abs(Tt)?vt>0?rt<=Q&&Q<=ft:ft<=Q&&Q<=rt:Tt>0?at<=J&&J<=yt:yt<=J&&J<=at)}function zu(B,U,G){var Q=U.x,J=U.y,rt=G.x-Q,at=G.y-J;if(rt!==0||at!==0){var ft=((B.x-Q)*rt+(B.y-J)*at)/(rt*rt+at*at);ft>1?(Q=G.x,J=G.y):ft>0&&(Q+=rt*ft,J+=at*ft)}return(rt=B.x-Q)*rt+(at=B.y-J)*at}function Xs(B,U,G,Q,J){for(var rt,at=Q,ft=U+1;ft<G;ft++){var yt=zu(B[ft],B[U],B[G]);yt>at&&(rt=ft,at=yt)}at>Q&&(rt-U>1&&Xs(B,U,rt,Q,J),J.push(B[rt]),G-rt>1&&Xs(B,rt,G,Q,J))}function kc(B,U){var G=B.length-1,Q=[B[0]];return Xs(B,0,G,U,Q),Q.push(B[G]),Q}function Zs(B,U,G){if(B.length<=2)return B;var Q=U!==void 0?U*U:1;return B=kc(B=G?B:function(J,rt){for(var at,ft,yt,vt,Tt,xt=J[0],It=[xt],Gt=1,Wt=J.length;Gt<Wt;Gt++)at=J[Gt],yt=xt,vt=void 0,Tt=void 0,vt=(ft=at).x-yt.x,Tt=ft.y-yt.y,vt*vt+Tt*Tt>rt&&(It.push(at),xt=at);return xt!==at&&It.push(at),It}(B,Q),Q)}function ml(B,U,G){return Zs(B.map(function(Q){return{x:Q[0],y:Q[1],z:Q[2]}}),U,G).map(function(Q){return Q.z?[Q.x,Q.y,Q.z]:[Q.x,Q.y]})}function Js(B,U,G){return B.map(function(Q){var J=Q.map(function(at){return{x:at[0],y:at[1]}});if(J.length<4)throw new Error("invalid polygon");for(var rt=Zs(J,U,G).map(function(at){return[at.x,at.y]});!$a(rt);)rt=Zs(J,U-=.01*U,G).map(function(at){return[at.x,at.y]});return rt[rt.length-1][0]===rt[0][0]&&rt[rt.length-1][1]===rt[0][1]||rt.push(rt[0]),rt})}function $a(B){return!(B.length<3)&&!(B.length===3&&B[2][0]===B[0][0]&&B[2][1]===B[0][1])}var Ac=function(){function B(U){this.points=U.points||[],this.duration=U.duration||1e4,this.sharpness=U.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=U.stepLength||60,this.length=this.points.length,this.delay=0;for(var G=0;G<this.length;G++)this.points[G].z=this.points[G].z||0;for(G=0;G<this.length-1;G++){var Q=this.points[G],J=this.points[G+1];this.centers.push({x:(Q.x+J.x)/2,y:(Q.y+J.y)/2,z:(Q.z+J.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),G=0;G<this.centers.length-1;G++){var rt=this.points[G+1].x-(this.centers[G].x+this.centers[G+1].x)/2,at=this.points[G+1].y-(this.centers[G].y+this.centers[G+1].y)/2,ft=this.points[G+1].z-(this.centers[G].y+this.centers[G+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[G+1].x+this.sharpness*(this.centers[G].x+rt),y:(1-this.sharpness)*this.points[G+1].y+this.sharpness*(this.centers[G].y+at),z:(1-this.sharpness)*this.points[G+1].z+this.sharpness*(this.centers[G].z+ft)},{x:(1-this.sharpness)*this.points[G+1].x+this.sharpness*(this.centers[G+1].x+rt),y:(1-this.sharpness)*this.points[G+1].y+this.sharpness*(this.centers[G+1].y+at),z:(1-this.sharpness)*this.points[G+1].z+this.sharpness*(this.centers[G+1].z+ft)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return B.prototype.cacheSteps=function(U){var G=[],Q=this.pos(0);G.push(0);for(var J=0;J<this.duration;J+=10){var rt=this.pos(J);Math.sqrt((rt.x-Q.x)*(rt.x-Q.x)+(rt.y-Q.y)*(rt.y-Q.y)+(rt.z-Q.z)*(rt.z-Q.z))>U&&(G.push(J),Q=rt)}return G},B.prototype.vector=function(U){var G=this.pos(U+10),Q=this.pos(U-10);return{angle:180*Math.atan2(G.y-Q.y,G.x-Q.x)/3.14,speed:Math.sqrt((Q.x-G.x)*(Q.x-G.x)+(Q.y-G.y)*(Q.y-G.y)+(Q.z-G.z)*(Q.z-G.z))}},B.prototype.pos=function(U){var G=U-this.delay;G<0&&(G=0),G>this.duration&&(G=this.duration-1);var Q=G/this.duration;if(Q>=1)return this.points[this.length-1];var J=Math.floor((this.points.length-1)*Q);return function(rt,at,ft,yt,vt){var Tt=function(xt){var It=xt*xt;return[It*xt,3*It*(1-xt),3*xt*(1-xt)*(1-xt),(1-xt)*(1-xt)*(1-xt)]}(rt);return{x:vt.x*Tt[0]+yt.x*Tt[1]+ft.x*Tt[2]+at.x*Tt[3],y:vt.y*Tt[0]+yt.y*Tt[1]+ft.y*Tt[2]+at.y*Tt[3],z:vt.z*Tt[0]+yt.z*Tt[1]+ft.z*Tt[2]+at.z*Tt[3]}}((this.length-1)*Q-J,this.points[J],this.controls[J][1],this.controls[J+1][0],this.points[J+1])},B}();function Ma(B,U){U===void 0&&(U={});for(var G=U.resolution||1e4,Q=U.sharpness||.85,J=[],rt=ke(B).coordinates.map(function(vt){return{x:vt[0],y:vt[1]}}),at=new Ac({duration:G,points:rt,sharpness:Q}),ft=function(vt){var Tt=at.pos(vt);Math.floor(vt/100)%2==0&&J.push([Tt.x,Tt.y])},yt=0;yt<at.duration;yt+=10)ft(yt);return ft(at.duration),ct(J,U.properties)}function mh(B,U){U===void 0&&(U={});var G=Number(B[0]),Q=Number(B[1]),J=Number(B[2]),rt=Number(B[3]);if(B.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var at=[G,Q];return nt([[at,[J,Q],[J,rt],[G,rt],at]],U.properties,{bbox:B,id:U.id})}function Ru(B){return mh(jt(B))}function yh(B){var U=B[0],G=B[1],Q=B[2],J=B[3];if(Yr(B.slice(0,2),[Q,G])>=Yr(B.slice(0,2),[U,J])){var rt=(G+J)/2;return[U,rt-(Q-U)/2,Q,rt+(Q-U)/2]}var at=(U+Q)/2;return[at-(J-G)/2,G,at+(J-G)/2,J]}function vo(B,U,G,Q){Q===void 0&&(Q={});var J=$t(B),rt=Ht(J[0]),at=Ht(J[1]),ft=Ht(G),yt=Ct(U,Q.units),vt=Math.asin(Math.sin(at)*Math.cos(yt)+Math.cos(at)*Math.sin(yt)*Math.cos(ft));return X([Yt(rt+Math.atan2(Math.sin(ft)*Math.sin(yt)*Math.cos(at),Math.cos(yt)-Math.sin(at)*Math.sin(vt))),Yt(vt)],Q.properties)}function ju(B,U,G){G===void 0&&(G={});for(var Q=G.steps||64,J=G.properties?G.properties:!Array.isArray(B)&&B.type==="Feature"&&B.properties?B.properties:{},rt=[],at=0;at<Q;at++)rt.push(vo(B,U,-360*at/Q,G).geometry.coordinates);return rt.push(rt[0]),nt([rt],J)}function nl(B,U,G){if(G===void 0&&(G={}),G.final===!0)return function(xt,It){var Gt=nl(It,xt);return Gt=(Gt+180)%360}(B,U);var Q=$t(B),J=$t(U),rt=Ht(Q[0]),at=Ht(J[0]),ft=Ht(Q[1]),yt=Ht(J[1]),vt=Math.sin(at-rt)*Math.cos(yt),Tt=Math.cos(ft)*Math.sin(yt)-Math.sin(ft)*Math.cos(yt)*Math.cos(at-rt);return Yt(Math.atan2(vt,Tt))}function ko(B,U){U===void 0&&(U={});var G=jt(B);return X([(G[0]+G[2])/2,(G[1]+G[3])/2],U.properties,U)}function Ta(B,U){U===void 0&&(U={});var G=0,Q=0,J=0;return Pt(B,function(rt){G+=rt[0],Q+=rt[1],J++},!0),X([G/J,Q/J],U.properties)}function ou(B){var U=[];return B.type==="FeatureCollection"?ve(B,function(G){Pt(G,function(Q){U.push(X(Q,G.properties))})}):Pt(B,function(G){U.push(X(G,B.properties))}),ht(U)}var Nc=su,Ms=su;function su(B,U,G){G=G||2;var Q,J,rt,at,ft,yt,vt,Tt=U&&U.length,xt=Tt?U[0]*G:B.length,It=Dc(B,0,xt,G,!0),Gt=[];if(!It)return Gt;if(Tt&&(It=function(ee,Bt,me,Ie){var Zt,fe,be,Ee=[];for(Zt=0,fe=Bt.length;Zt<fe;Zt++)(be=Dc(ee,Bt[Zt]*Ie,Zt<fe-1?Bt[Zt+1]*Ie:ee.length,Ie,!1))===be.next&&(be.steiner=!0),Ee.push(Ks(be));for(Ee.sort(Bu),Zt=0;Zt<Ee.length;Zt++)Vo(Ee[Zt],me),me=Jo(me,me.next);return me}(B,U,It,G)),B.length>80*G){Q=rt=B[0],J=at=B[1];for(var Wt=G;Wt<xt;Wt+=G)(ft=B[Wt])<Q&&(Q=ft),(yt=B[Wt+1])<J&&(J=yt),ft>rt&&(rt=ft),yt>at&&(at=yt);vt=(vt=Math.max(rt-Q,at-J))!==0?1/vt:0}return Us(It,Gt,G,Q,J,vt),Gt}function Dc(B,U,G,Q,J){var rt,at;if(J===Se(B,U,G,Q)>0)for(rt=U;rt<G;rt+=Q)at=Ot(rt,B[rt],B[rt+1],at);else for(rt=G-Q;rt>=U;rt-=Q)at=Ot(rt,B[rt],B[rt+1],at);return at&&Fa(at,at.next)&&(Rt(at),at=at.next),at}function Jo(B,U){if(!B)return B;U||(U=B);var G,Q=B;do if(G=!1,Q.steiner||!Fa(Q,Q.next)&&Po(Q.prev,Q,Q.next)!==0)Q=Q.next;else{if(Rt(Q),(Q=U=Q.prev)===Q.next)break;G=!0}while(G||Q!==U);return U}function Us(B,U,G,Q,J,rt,at){if(B){!at&&rt&&function(Tt,xt,It,Gt){var Wt=Tt;do Wt.z===null&&(Wt.z=ca(Wt.x,Wt.y,xt,It,Gt)),Wt.prevZ=Wt.prev,Wt.nextZ=Wt.next,Wt=Wt.next;while(Wt!==Tt);Wt.prevZ.nextZ=null,Wt.prevZ=null,function(ee){var Bt,me,Ie,Zt,fe,be,Ee,_e,wn=1;do{for(me=ee,ee=null,fe=null,be=0;me;){for(be++,Ie=me,Ee=0,Bt=0;Bt<wn&&(Ee++,Ie=Ie.nextZ);Bt++);for(_e=wn;Ee>0||_e>0&&Ie;)Ee!==0&&(_e===0||!Ie||me.z<=Ie.z)?(Zt=me,me=me.nextZ,Ee--):(Zt=Ie,Ie=Ie.nextZ,_e--),fe?fe.nextZ=Zt:ee=Zt,Zt.prevZ=fe,fe=Zt;me=Ie}fe.nextZ=null,wn*=2}while(be>1)}(Wt)}(B,Q,J,rt);for(var ft,yt,vt=B;B.prev!==B.next;)if(ft=B.prev,yt=B.next,rt?sc(B,Q,J,rt):Ts(B))U.push(ft.i/G),U.push(B.i/G),U.push(yt.i/G),Rt(B),B=yt.next,vt=yt.next;else if((B=yt)===vt){at?at===1?Us(B=vh(B,U,G),U,G,Q,J,rt,2):at===2&&bh(B,U,G,Q,J,rt):Us(Jo(B),U,G,Q,J,rt,1);break}}}function Ts(B){var U=B.prev,G=B,Q=B.next;if(Po(U,G,Q)>=0)return!1;for(var J=B.next.next;J!==B.prev;){if(vs(U.x,U.y,G.x,G.y,Q.x,Q.y,J.x,J.y)&&Po(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function sc(B,U,G,Q){var J=B.prev,rt=B,at=B.next;if(Po(J,rt,at)>=0)return!1;for(var ft=J.x<rt.x?J.x<at.x?J.x:at.x:rt.x<at.x?rt.x:at.x,yt=J.y<rt.y?J.y<at.y?J.y:at.y:rt.y<at.y?rt.y:at.y,vt=J.x>rt.x?J.x>at.x?J.x:at.x:rt.x>at.x?rt.x:at.x,Tt=J.y>rt.y?J.y>at.y?J.y:at.y:rt.y>at.y?rt.y:at.y,xt=ca(ft,yt,U,G,Q),It=ca(vt,Tt,U,G,Q),Gt=B.prevZ,Wt=B.nextZ;Gt&&Gt.z>=xt&&Wt&&Wt.z<=It;){if(Gt!==B.prev&&Gt!==B.next&&vs(J.x,J.y,rt.x,rt.y,at.x,at.y,Gt.x,Gt.y)&&Po(Gt.prev,Gt,Gt.next)>=0||(Gt=Gt.prevZ,Wt!==B.prev&&Wt!==B.next&&vs(J.x,J.y,rt.x,rt.y,at.x,at.y,Wt.x,Wt.y)&&Po(Wt.prev,Wt,Wt.next)>=0))return!1;Wt=Wt.nextZ}for(;Gt&&Gt.z>=xt;){if(Gt!==B.prev&&Gt!==B.next&&vs(J.x,J.y,rt.x,rt.y,at.x,at.y,Gt.x,Gt.y)&&Po(Gt.prev,Gt,Gt.next)>=0)return!1;Gt=Gt.prevZ}for(;Wt&&Wt.z<=It;){if(Wt!==B.prev&&Wt!==B.next&&vs(J.x,J.y,rt.x,rt.y,at.x,at.y,Wt.x,Wt.y)&&Po(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.nextZ}return!0}function vh(B,U,G){var Q=B;do{var J=Q.prev,rt=Q.next.next;!Fa(J,rt)&&ac(J,Q,Q.next,rt)&&rl(J,rt)&&rl(rt,J)&&(U.push(J.i/G),U.push(Q.i/G),U.push(rt.i/G),Rt(Q),Rt(Q.next),Q=B=rt),Q=Q.next}while(Q!==B);return Q}function bh(B,U,G,Q,J,rt){var at=B;do{for(var ft=at.next.next;ft!==at.prev;){if(at.i!==ft.i&&_h(at,ft)){var yt=Ic(at,ft);return at=Jo(at,at.next),yt=Jo(yt,yt.next),Us(at,U,G,Q,J,rt),void Us(yt,U,G,Q,J,rt)}ft=ft.next}at=at.next}while(at!==B)}function Bu(B,U){return B.x-U.x}function Vo(B,U){if(U=function(Q,J){var rt,at=J,ft=Q.x,yt=Q.y,vt=-1/0;do{if(yt<=at.y&&yt>=at.next.y&&at.next.y!==at.y){var Tt=at.x+(yt-at.y)*(at.next.x-at.x)/(at.next.y-at.y);if(Tt<=ft&&Tt>vt){if(vt=Tt,Tt===ft){if(yt===at.y)return at;if(yt===at.next.y)return at.next}rt=at.x<at.next.x?at:at.next}}at=at.next}while(at!==J);if(!rt)return null;if(ft===vt)return rt.prev;var xt,It=rt,Gt=rt.x,Wt=rt.y,ee=1/0;for(at=rt.next;at!==It;)ft>=at.x&&at.x>=Gt&&ft!==at.x&&vs(yt<Wt?ft:vt,yt,Gt,Wt,yt<Wt?vt:ft,yt,at.x,at.y)&&((xt=Math.abs(yt-at.y)/(ft-at.x))<ee||xt===ee&&at.x>rt.x)&&rl(at,Q)&&(rt=at,ee=xt),at=at.next;return rt}(B,U)){var G=Ic(U,B);Jo(G,G.next)}}function ca(B,U,G,Q,J){return(B=1431655765&((B=858993459&((B=252645135&((B=16711935&((B=32767*(B-G)*J)|B<<8))|B<<4))|B<<2))|B<<1))|(U=1431655765&((U=858993459&((U=252645135&((U=16711935&((U=32767*(U-Q)*J)|U<<8))|U<<4))|U<<2))|U<<1))<<1}function Ks(B){var U=B,G=B;do U.x<G.x&&(G=U),U=U.next;while(U!==B);return G}function vs(B,U,G,Q,J,rt,at,ft){return(J-at)*(U-ft)-(B-at)*(rt-ft)>=0&&(B-at)*(Q-ft)-(G-at)*(U-ft)>=0&&(G-at)*(rt-ft)-(J-at)*(Q-ft)>=0}function _h(B,U){return B.next.i!==U.i&&B.prev.i!==U.i&&!function(G,Q){var J=G;do{if(J.i!==G.i&&J.next.i!==G.i&&J.i!==Q.i&&J.next.i!==Q.i&&ac(J,J.next,G,Q))return!0;J=J.next}while(J!==G);return!1}(B,U)&&rl(B,U)&&rl(U,B)&&function(G,Q){var J=G,rt=!1,at=(G.x+Q.x)/2,ft=(G.y+Q.y)/2;do J.y>ft!=J.next.y>ft&&J.next.y!==J.y&&at<(J.next.x-J.x)*(ft-J.y)/(J.next.y-J.y)+J.x&&(rt=!rt),J=J.next;while(J!==G);return rt}(B,U)}function Po(B,U,G){return(U.y-B.y)*(G.x-U.x)-(U.x-B.x)*(G.y-U.y)}function Fa(B,U){return B.x===U.x&&B.y===U.y}function ac(B,U,G,Q){return!!(Fa(B,U)&&Fa(G,Q)||Fa(B,Q)&&Fa(G,U))||Po(B,U,G)>0!=Po(B,U,Q)>0&&Po(G,Q,B)>0!=Po(G,Q,U)>0}function rl(B,U){return Po(B.prev,B,B.next)<0?Po(B,U,B.next)>=0&&Po(B,B.prev,U)>=0:Po(B,U,B.prev)<0||Po(B,B.next,U)<0}function Ic(B,U){var G=new ae(B.i,B.x,B.y),Q=new ae(U.i,U.x,U.y),J=B.next,rt=U.prev;return B.next=U,U.prev=B,G.next=J,J.prev=G,Q.next=G,G.prev=Q,rt.next=Q,Q.prev=rt,Q}function Ot(B,U,G,Q){var J=new ae(B,U,G);return Q?(J.next=Q.next,J.prev=Q,Q.next.prev=J,Q.next=J):(J.prev=J,J.next=J),J}function Rt(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function ae(B,U,G){this.i=B,this.x=U,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Se(B,U,G,Q){for(var J=0,rt=U,at=G-Q;rt<G;rt+=Q)J+=(B[at]-B[rt])*(B[rt+1]+B[at+1]),at=rt;return J}function Re(B){var U=function(ft){for(var yt=ft[0][0].length,vt={vertices:[],holes:[],dimensions:yt},Tt=0,xt=0;xt<ft.length;xt++){for(var It=0;It<ft[xt].length;It++)for(var Gt=0;Gt<yt;Gt++)vt.vertices.push(ft[xt][It][Gt]);xt>0&&(Tt+=ft[xt-1].length,vt.holes.push(Tt))}return vt}(B),G=Nc(U.vertices,U.holes,2),Q=[],J=[];G.forEach(function(ft,yt){var vt=G[yt];J.push([U.vertices[2*vt],U.vertices[2*vt+1]])});for(var rt=0;rt<J.length;rt+=3){var at=J.slice(rt,rt+3);at.push(J[rt]),Q.push(nt([at]))}return Q}function Ke(B,U){if(!B)throw new Error("targetPoint is required");if(!U)throw new Error("points is required");var G,Q=1/0,J=0;return ve(U,function(rt,at){var ft=Yr(B,rt);ft<Q&&(J=at,Q=ft)}),(G=ai(U.features[J])).properties.featureIndex=J,G.properties.distanceToPoint=Q,G}function hn(B){if(!B)throw new Error("geojson is required");var U=[];return qe(B,function(G){(function(Q,J){var rt=[],at=Q.geometry;if(at!==null){switch(at.type){case"Polygon":rt=oe(at);break;case"LineString":rt=[oe(at)]}rt.forEach(function(ft){(function(yt,vt){var Tt=[];return yt.reduce(function(xt,It){var Gt=ct([xt,It],vt);return Gt.bbox=function(Wt,ee){var Bt=Wt[0],me=Wt[1],Ie=ee[0],Zt=ee[1];return[Bt<Ie?Bt:Ie,me<Zt?me:Zt,Bt>Ie?Bt:Ie,me>Zt?me:Zt]}(xt,It),Tt.push(Gt),It}),Tt})(ft,Q.properties).forEach(function(yt){yt.id=J.length,J.push(yt)})})}})(G,U)}),ht(U)}su.deviation=function(B,U,G,Q){var J=U&&U.length,rt=J?U[0]*G:B.length,at=Math.abs(Se(B,0,rt,G));if(J)for(var ft=0,yt=U.length;ft<yt;ft++){var vt=U[ft]*G,Tt=ft<yt-1?U[ft+1]*G:B.length;at-=Math.abs(Se(B,vt,Tt,G))}var xt=0;for(ft=0;ft<Q.length;ft+=3){var It=Q[ft]*G,Gt=Q[ft+1]*G,Wt=Q[ft+2]*G;xt+=Math.abs((B[It]-B[Wt])*(B[Gt+1]-B[It+1])-(B[It]-B[Gt])*(B[Wt+1]-B[It+1]))}return at===0&&xt===0?0:Math.abs((xt-at)/at)},su.flatten=function(B){for(var U=B[0][0].length,G={vertices:[],holes:[],dimensions:U},Q=0,J=0;J<B.length;J++){for(var rt=0;rt<B[J].length;rt++)for(var at=0;at<U;at++)G.vertices.push(B[J][rt][at]);J>0&&(Q+=B[J-1].length,G.holes.push(Q))}return G},Nc.default=Ms;var Ln=Un(function(B,U){function G(Wt,ee,Bt){Bt===void 0&&(Bt={});var me={type:"Feature"};return(Bt.id===0||Bt.id)&&(me.id=Bt.id),Bt.bbox&&(me.bbox=Bt.bbox),me.properties=ee||{},me.geometry=Wt,me}function Q(Wt,ee,Bt){if(Bt===void 0&&(Bt={}),!Wt)throw new Error("coordinates is required");if(!Array.isArray(Wt))throw new Error("coordinates must be an Array");if(Wt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Gt(Wt[0])||!Gt(Wt[1]))throw new Error("coordinates must contain numbers");return G({type:"Point",coordinates:Wt},ee,Bt)}function J(Wt,ee,Bt){Bt===void 0&&(Bt={});for(var me=0,Ie=Wt;me<Ie.length;me++){var Zt=Ie[me];if(Zt.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var fe=0;fe<Zt[Zt.length-1].length;fe++)if(Zt[Zt.length-1][fe]!==Zt[0][fe])throw new Error("First and last Position are not equivalent.")}return G({type:"Polygon",coordinates:Wt},ee,Bt)}function rt(Wt,ee,Bt){if(Bt===void 0&&(Bt={}),Wt.length<2)throw new Error("coordinates must be an array of two or more positions");return G({type:"LineString",coordinates:Wt},ee,Bt)}function at(Wt,ee){ee===void 0&&(ee={});var Bt={type:"FeatureCollection"};return ee.id&&(Bt.id=ee.id),ee.bbox&&(Bt.bbox=ee.bbox),Bt.features=Wt,Bt}function ft(Wt,ee,Bt){return Bt===void 0&&(Bt={}),G({type:"MultiLineString",coordinates:Wt},ee,Bt)}function yt(Wt,ee,Bt){return Bt===void 0&&(Bt={}),G({type:"MultiPoint",coordinates:Wt},ee,Bt)}function vt(Wt,ee,Bt){return Bt===void 0&&(Bt={}),G({type:"MultiPolygon",coordinates:Wt},ee,Bt)}function Tt(Wt,ee){ee===void 0&&(ee="kilometers");var Bt=U.factors[ee];if(!Bt)throw new Error(ee+" units is invalid");return Wt*Bt}function xt(Wt,ee){ee===void 0&&(ee="kilometers");var Bt=U.factors[ee];if(!Bt)throw new Error(ee+" units is invalid");return Wt/Bt}function It(Wt){return 180*(Wt%(2*Math.PI))/Math.PI}function Gt(Wt){return!isNaN(Wt)&&Wt!==null&&!Array.isArray(Wt)}Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:100*U.earthRadius,centimetres:100*U.earthRadius,degrees:U.earthRadius/111325,feet:3.28084*U.earthRadius,inches:39.37*U.earthRadius,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:1e3*U.earthRadius,millimetres:1e3*U.earthRadius,nauticalmiles:U.earthRadius/1852,radians:1,yards:1.0936*U.earthRadius},U.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},U.feature=G,U.geometry=function(Wt,ee,Bt){switch(Wt){case"Point":return Q(ee).geometry;case"LineString":return rt(ee).geometry;case"Polygon":return J(ee).geometry;case"MultiPoint":return yt(ee).geometry;case"MultiLineString":return ft(ee).geometry;case"MultiPolygon":return vt(ee).geometry;default:throw new Error(Wt+" is invalid")}},U.point=Q,U.points=function(Wt,ee,Bt){return Bt===void 0&&(Bt={}),at(Wt.map(function(me){return Q(me,ee)}),Bt)},U.polygon=J,U.polygons=function(Wt,ee,Bt){return Bt===void 0&&(Bt={}),at(Wt.map(function(me){return J(me,ee)}),Bt)},U.lineString=rt,U.lineStrings=function(Wt,ee,Bt){return Bt===void 0&&(Bt={}),at(Wt.map(function(me){return rt(me,ee)}),Bt)},U.featureCollection=at,U.multiLineString=ft,U.multiPoint=yt,U.multiPolygon=vt,U.geometryCollection=function(Wt,ee,Bt){return Bt===void 0&&(Bt={}),G({type:"GeometryCollection",geometries:Wt},ee,Bt)},U.round=function(Wt,ee){if(ee===void 0&&(ee=0),ee&&!(ee>=0))throw new Error("precision must be a positive number");var Bt=Math.pow(10,ee||0);return Math.round(Wt*Bt)/Bt},U.radiansToLength=Tt,U.lengthToRadians=xt,U.lengthToDegrees=function(Wt,ee){return It(xt(Wt,ee))},U.bearingToAzimuth=function(Wt){var ee=Wt%360;return ee<0&&(ee+=360),ee},U.radiansToDegrees=It,U.degreesToRadians=function(Wt){return Wt%360*Math.PI/180},U.convertLength=function(Wt,ee,Bt){if(ee===void 0&&(ee="kilometers"),Bt===void 0&&(Bt="kilometers"),!(Wt>=0))throw new Error("length must be a positive number");return Tt(xt(Wt,ee),Bt)},U.convertArea=function(Wt,ee,Bt){if(ee===void 0&&(ee="meters"),Bt===void 0&&(Bt="kilometers"),!(Wt>=0))throw new Error("area must be a positive number");var me=U.areaFactors[ee];if(!me)throw new Error("invalid original units");var Ie=U.areaFactors[Bt];if(!Ie)throw new Error("invalid final units");return Wt/me*Ie},U.isNumber=Gt,U.isObject=function(Wt){return!!Wt&&Wt.constructor===Object},U.validateBBox=function(Wt){if(!Wt)throw new Error("bbox is required");if(!Array.isArray(Wt))throw new Error("bbox must be an Array");if(Wt.length!==4&&Wt.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");Wt.forEach(function(ee){if(!Gt(ee))throw new Error("bbox must only contain numbers")})},U.validateId=function(Wt){if(!Wt)throw new Error("id is required");if(["string","number"].indexOf(typeof Wt)===-1)throw new Error("id must be a number or a string")}});function lr(B,U,G){if(B!==null)for(var Q,J,rt,at,ft,yt,vt,Tt,xt=0,It=0,Gt=B.type,Wt=Gt==="FeatureCollection",ee=Gt==="Feature",Bt=Wt?B.features.length:1,me=0;me<Bt;me++){ft=(Tt=!!(vt=Wt?B.features[me].geometry:ee?B.geometry:B)&&vt.type==="GeometryCollection")?vt.geometries.length:1;for(var Ie=0;Ie<ft;Ie++){var Zt=0,fe=0;if((at=Tt?vt.geometries[Ie]:vt)!==null){yt=at.coordinates;var be=at.type;switch(xt=!G||be!=="Polygon"&&be!=="MultiPolygon"?0:1,be){case null:break;case"Point":if(U(yt,It,me,Zt,fe)===!1)return!1;It++,Zt++;break;case"LineString":case"MultiPoint":for(Q=0;Q<yt.length;Q++){if(U(yt[Q],It,me,Zt,fe)===!1)return!1;It++,be==="MultiPoint"&&Zt++}be==="LineString"&&Zt++;break;case"Polygon":case"MultiLineString":for(Q=0;Q<yt.length;Q++){for(J=0;J<yt[Q].length-xt;J++){if(U(yt[Q][J],It,me,Zt,fe)===!1)return!1;It++}be==="MultiLineString"&&Zt++,be==="Polygon"&&fe++}be==="Polygon"&&Zt++;break;case"MultiPolygon":for(Q=0;Q<yt.length;Q++){for(fe=0,J=0;J<yt[Q].length;J++){for(rt=0;rt<yt[Q][J].length-xt;rt++){if(U(yt[Q][J][rt],It,me,Zt,fe)===!1)return!1;It++}fe++}Zt++}break;case"GeometryCollection":for(Q=0;Q<at.geometries.length;Q++)if(lr(at.geometries[Q],U,G)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function yi(B,U){var G;switch(B.type){case"FeatureCollection":for(G=0;G<B.features.length&&U(B.features[G].properties,G)!==!1;G++);break;case"Feature":U(B.properties,0)}}function ii(B,U){if(B.type==="Feature")U(B,0);else if(B.type==="FeatureCollection")for(var G=0;G<B.features.length&&U(B.features[G],G)!==!1;G++);}function oo(B,U){var G,Q,J,rt,at,ft,yt,vt,Tt,xt,It=0,Gt=B.type==="FeatureCollection",Wt=B.type==="Feature",ee=Gt?B.features.length:1;for(G=0;G<ee;G++){for(ft=Gt?B.features[G].geometry:Wt?B.geometry:B,vt=Gt?B.features[G].properties:Wt?B.properties:{},Tt=Gt?B.features[G].bbox:Wt?B.bbox:void 0,xt=Gt?B.features[G].id:Wt?B.id:void 0,at=(yt=!!ft&&ft.type==="GeometryCollection")?ft.geometries.length:1,J=0;J<at;J++)if((rt=yt?ft.geometries[J]:ft)!==null)switch(rt.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(U(rt,It,vt,Tt,xt)===!1)return!1;break;case"GeometryCollection":for(Q=0;Q<rt.geometries.length;Q++)if(U(rt.geometries[Q],It,vt,Tt,xt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(U(null,It,vt,Tt,xt)===!1)return!1;It++}}function Ci(B,U){oo(B,function(G,Q,J,rt,at){var ft,yt=G===null?null:G.type;switch(yt){case null:case"Point":case"LineString":case"Polygon":return U(Ln.feature(G,J,{bbox:rt,id:at}),Q,0)!==!1&&void 0}switch(yt){case"MultiPoint":ft="Point";break;case"MultiLineString":ft="LineString";break;case"MultiPolygon":ft="Polygon"}for(var vt=0;vt<G.coordinates.length;vt++){var Tt={type:ft,coordinates:G.coordinates[vt]};if(U(Ln.feature(Tt,J),Q,vt)===!1)return!1}})}function Ri(B,U){Ci(B,function(G,Q,J){var rt=0;if(G.geometry){var at=G.geometry.type;if(at!=="Point"&&at!=="MultiPoint"){var ft,yt=0,vt=0,Tt=0;return lr(G,function(xt,It,Gt,Wt,ee){if(ft===void 0||Q>yt||Wt>vt||ee>Tt)return ft=xt,yt=Q,vt=Wt,Tt=ee,void(rt=0);var Bt=Ln.lineString([ft,xt],G.properties);if(U(Bt,Q,J,ee,rt)===!1)return!1;rt++,ft=xt})!==!1&&void 0}}})}function to(B,U){if(!B)throw new Error("geojson is required");Ci(B,function(G,Q,J){if(G.geometry!==null){var rt=G.geometry.type,at=G.geometry.coordinates;switch(rt){case"LineString":if(U(G,Q,J,0,0)===!1)return!1;break;case"Polygon":for(var ft=0;ft<at.length;ft++)if(U(Ln.lineString(at[ft],G.properties),Q,J,ft)===!1)return!1}}})}var ao=function(B){var U=[];return lr(B,function(G){U.push(G)}),U},ho=lr,Sa=function(B,U,G,Q){var J=G;return lr(B,function(rt,at,ft,yt,vt){J=at===0&&G===void 0?rt:U(J,rt,at,ft,yt,vt)},Q),J},ef=ii,il=function(B,U,G){var Q=G;return ii(B,function(J,rt){Q=rt===0&&G===void 0?J:U(Q,J,rt)}),Q},$u=function(B,U){if(U=U||{},!Ln.isObject(U))throw new Error("options is invalid");var G,Q=U.featureIndex||0,J=U.multiFeatureIndex||0,rt=U.geometryIndex||0,at=U.coordIndex||0,ft=U.properties;switch(B.type){case"FeatureCollection":Q<0&&(Q=B.features.length+Q),ft=ft||B.features[Q].properties,G=B.features[Q].geometry;break;case"Feature":ft=ft||B.properties,G=B.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=B;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var yt=G.coordinates;switch(G.type){case"Point":return Ln.point(yt,ft,U);case"MultiPoint":return J<0&&(J=yt.length+J),Ln.point(yt[J],ft,U);case"LineString":return at<0&&(at=yt.length+at),Ln.point(yt[at],ft,U);case"Polygon":return rt<0&&(rt=yt.length+rt),at<0&&(at=yt[rt].length+at),Ln.point(yt[rt][at],ft,U);case"MultiLineString":return J<0&&(J=yt.length+J),at<0&&(at=yt[J].length+at),Ln.point(yt[J][at],ft,U);case"MultiPolygon":return J<0&&(J=yt.length+J),rt<0&&(rt=yt[J].length+rt),at<0&&(at=yt[J][rt].length-at),Ln.point(yt[J][rt][at],ft,U)}throw new Error("geojson is invalid")},Bl=function(B,U){if(U=U||{},!Ln.isObject(U))throw new Error("options is invalid");var G,Q=U.featureIndex||0,J=U.multiFeatureIndex||0,rt=U.geometryIndex||0,at=U.segmentIndex||0,ft=U.properties;switch(B.type){case"FeatureCollection":Q<0&&(Q=B.features.length+Q),ft=ft||B.features[Q].properties,G=B.features[Q].geometry;break;case"Feature":ft=ft||B.properties,G=B.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=B;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var yt=G.coordinates;switch(G.type){case"Point":case"MultiPoint":return null;case"LineString":return at<0&&(at=yt.length+at-1),Ln.lineString([yt[at],yt[at+1]],ft,U);case"Polygon":return rt<0&&(rt=yt.length+rt),at<0&&(at=yt[rt].length+at-1),Ln.lineString([yt[rt][at],yt[rt][at+1]],ft,U);case"MultiLineString":return J<0&&(J=yt.length+J),at<0&&(at=yt[J].length+at-1),Ln.lineString([yt[J][at],yt[J][at+1]],ft,U);case"MultiPolygon":return J<0&&(J=yt.length+J),rt<0&&(rt=yt[J].length+rt),at<0&&(at=yt[J][rt].length-at-1),Ln.lineString([yt[J][rt][at],yt[J][rt][at+1]],ft,U)}throw new Error("geojson is invalid")},nd=Ci,ki=function(B,U,G){var Q=G;return Ci(B,function(J,rt,at){Q=rt===0&&at===0&&G===void 0?J:U(Q,J,rt,at)}),Q},au=oo,Lc=function(B,U,G){var Q=G;return oo(B,function(J,rt,at,ft,yt){Q=rt===0&&G===void 0?J:U(Q,J,rt,at,ft,yt)}),Q},Ca=to,ka=function(B,U,G){var Q=G;return to(B,function(J,rt,at,ft){Q=rt===0&&G===void 0?J:U(Q,J,rt,at,ft)}),Q},$l=yi,lu=function(B,U,G){var Q=G;return yi(B,function(J,rt){Q=rt===0&&G===void 0?J:U(Q,J,rt)}),Q},cu=Ri,wh=function(B,U,G){var Q=G,J=!1;return Ri(B,function(rt,at,ft,yt,vt){Q=J===!1&&G===void 0?rt:U(Q,rt,at,ft,yt,vt),J=!0}),Q},xh=Object.defineProperty({coordAll:ao,coordEach:ho,coordReduce:Sa,featureEach:ef,featureReduce:il,findPoint:$u,findSegment:Bl,flattenEach:nd,flattenReduce:ki,geomEach:au,geomReduce:Lc,lineEach:Ca,lineReduce:ka,propEach:$l,propReduce:lu,segmentEach:cu,segmentReduce:wh},"__esModule",{value:!0});function rd(B){var U=[1/0,1/0,-1/0,-1/0];return xh.coordEach(B,function(G){U[0]>G[0]&&(U[0]=G[0]),U[1]>G[1]&&(U[1]=G[1]),U[2]<G[0]&&(U[2]=G[0]),U[3]<G[1]&&(U[3]=G[1])}),U}rd.default=rd;var cg=rd,lc=Object.defineProperty({default:cg},"__esModule",{value:!0}).default,ug=xh.featureEach,nf=(xh.coordEach,Ln.polygon,Ln.featureCollection);function od(B){var U=en(B);return U.insert=function(G){if(G.type!=="Feature")throw new Error("invalid feature");return G.bbox=G.bbox?G.bbox:lc(G),en.prototype.insert.call(this,G)},U.load=function(G){var Q=[];return Array.isArray(G)?G.forEach(function(J){if(J.type!=="Feature")throw new Error("invalid features");J.bbox=J.bbox?J.bbox:lc(J),Q.push(J)}):ug(G,function(J){if(J.type!=="Feature")throw new Error("invalid features");J.bbox=J.bbox?J.bbox:lc(J),Q.push(J)}),en.prototype.load.call(this,Q)},U.remove=function(G,Q){if(G.type!=="Feature")throw new Error("invalid feature");return G.bbox=G.bbox?G.bbox:lc(G),en.prototype.remove.call(this,G,Q)},U.clear=function(){return en.prototype.clear.call(this)},U.search=function(G){var Q=en.prototype.search.call(this,this.toBBox(G));return nf(Q)},U.collides=function(G){return en.prototype.collides.call(this,this.toBBox(G))},U.all=function(){var G=en.prototype.all.call(this);return nf(G)},U.toJSON=function(){return en.prototype.toJSON.call(this)},U.fromJSON=function(G){return en.prototype.fromJSON.call(this,G)},U.toBBox=function(G){var Q;if(G.bbox)Q=G.bbox;else if(Array.isArray(G)&&G.length===4)Q=G;else if(Array.isArray(G)&&G.length===6)Q=[G[0],G[1],G[3],G[4]];else if(G.type==="Feature")Q=lc(G);else{if(G.type!=="FeatureCollection")throw new Error("invalid geojson");Q=lc(G)}return{minX:Q[0],minY:Q[1],maxX:Q[2],maxY:Q[3]}},U}var Go=od,rp=od;function zo(B,U){var G={},Q=[];if(B.type==="LineString"&&(B=W(B)),U.type==="LineString"&&(U=W(U)),B.type==="Feature"&&U.type==="Feature"&&B.geometry!==null&&U.geometry!==null&&B.geometry.type==="LineString"&&U.geometry.type==="LineString"&&B.geometry.coordinates.length===2&&U.geometry.coordinates.length===2){var J=Fu(B,U);return J&&Q.push(J),ht(Q)}var rt=Go();return rt.load(hn(U)),ve(hn(B),function(at){ve(rt.search(at),function(ft){var yt=Fu(at,ft);if(yt){var vt=oe(yt).join(",");G[vt]||(G[vt]=!0,Q.push(yt))}})}),ht(Q)}function Fu(B,U){var G=oe(B),Q=oe(U);if(G.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(Q.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var J=G[0][0],rt=G[0][1],at=G[1][0],ft=G[1][1],yt=Q[0][0],vt=Q[0][1],Tt=Q[1][0],xt=Q[1][1],It=(xt-vt)*(at-J)-(Tt-yt)*(ft-rt),Gt=(Tt-yt)*(rt-vt)-(xt-vt)*(J-yt),Wt=(at-J)*(rt-vt)-(ft-rt)*(J-yt);if(It===0)return null;var ee=Gt/It,Bt=Wt/It;return ee>=0&&ee<=1&&Bt>=0&&Bt<=1?X([J+ee*(at-J),rt+ee*(ft-rt)]):null}function Fl(B,U,G){G===void 0&&(G={});var Q=X([1/0,1/0],{dist:1/0}),J=0;return qe(B,function(rt){for(var at=oe(rt),ft=0;ft<at.length-1;ft++){var yt=X(at[ft]);yt.properties.dist=Yr(U,yt,G);var vt=X(at[ft+1]);vt.properties.dist=Yr(U,vt,G);var Tt=Yr(yt,vt,G),xt=Math.max(yt.properties.dist,vt.properties.dist),It=nl(yt,vt),Gt=vo(U,xt,It+90,G),Wt=vo(U,xt,It-90,G),ee=zo(ct([Gt.geometry.coordinates,Wt.geometry.coordinates]),ct([yt.geometry.coordinates,vt.geometry.coordinates])),Bt=null;ee.features.length>0&&((Bt=ee.features[0]).properties.dist=Yr(U,Bt,G),Bt.properties.location=J+Yr(yt,Bt,G)),yt.properties.dist<Q.properties.dist&&((Q=yt).properties.index=ft,Q.properties.location=J),vt.properties.dist<Q.properties.dist&&((Q=vt).properties.index=ft+1,Q.properties.location=J+Tt),Bt&&Bt.properties.dist<Q.properties.dist&&((Q=Bt).properties.index=ft),J+=Tt}}),Q}function Oc(B,U,G){G===void 0&&(G={});var Q=$t(B),J=$t(U);return J[0]+=J[0]-Q[0]>180?-360:Q[0]-J[0]>180?360:0,qt(function(rt,at,ft){var yt=ft=ft===void 0?O:Number(ft),vt=rt[1]*Math.PI/180,Tt=at[1]*Math.PI/180,xt=Tt-vt,It=Math.abs(at[0]-rt[0])*Math.PI/180;It>Math.PI&&(It-=2*Math.PI);var Gt=Math.log(Math.tan(Tt/2+Math.PI/4)/Math.tan(vt/2+Math.PI/4)),Wt=Math.abs(Gt)>1e-11?xt/Gt:Math.cos(vt);return Math.sqrt(xt*xt+Wt*Wt*It*It)*yt}(Q,J),"meters",G.units)}function ip(B,U,G){if(G===void 0&&(G={}),G.method||(G.method="geodesic"),G.units||(G.units="kilometers"),!B)throw new Error("pt is required");if(Array.isArray(B)?B=X(B):B.type==="Point"?B=W(B):ge(B,"Point","point"),!U)throw new Error("line is required");Array.isArray(U)?U=ct(U):U.type==="LineString"?U=W(U):ge(U,"LineString","line");var Q=1/0,J=B.geometry.coordinates;return we(U,function(rt){var at=rt.geometry.coordinates[0],ft=rt.geometry.coordinates[1],yt=function(vt,Tt,xt,It){var Gt=[xt[0]-Tt[0],xt[1]-Tt[1]],Wt=rf([vt[0]-Tt[0],vt[1]-Tt[1]],Gt);if(Wt<=0)return sd(vt,Tt,{method:It.method,units:"degrees"});var ee=rf(Gt,Gt);if(ee<=Wt)return sd(vt,xt,{method:It.method,units:"degrees"});var Bt=Wt/ee,me=[Tt[0]+Bt*Gt[0],Tt[1]+Bt*Gt[1]];return sd(vt,me,{method:It.method,units:"degrees"})}(J,at,ft,G);yt<Q&&(Q=yt)}),qt(Q,"degrees",G.units)}function rf(B,U){return B[0]*U[0]+B[1]*U[1]}function sd(B,U,G){return G.method==="planar"?Oc(B,U,G):Yr(B,U,G)}function Eh(B,U,G,Q,J,rt,at,ft){var yt,vt,Tt,xt,It={x:null,y:null,onLine1:!1,onLine2:!1};return(yt=(ft-rt)*(G-B)-(at-J)*(Q-U))===0?It.x!==null&&It.y!==null&&It:(xt=(G-B)*(vt=U-rt)-(Q-U)*(Tt=B-J),vt=((at-J)*vt-(ft-rt)*Tt)/yt,Tt=xt/yt,It.x=B+vt*(G-B),It.y=U+vt*(Q-U),vt>=0&&vt<=1&&(It.onLine1=!0),Tt>=0&&Tt<=1&&(It.onLine2=!0),!(!It.onLine1||!It.onLine2)&&[It.x,It.y])}function op(B){for(var U=function(It){return It.type!=="FeatureCollection"?It.type!=="Feature"?ht([W(It)]):ht([It]):It}(B),G=ko(U),Q=!1,J=0;!Q&&J<U.features.length;){var rt,at=U.features[J].geometry,ft=!1;if(at.type==="Point")G.geometry.coordinates[0]===at.coordinates[0]&&G.geometry.coordinates[1]===at.coordinates[1]&&(Q=!0);else if(at.type==="MultiPoint"){var yt=!1;for(rt=0;!yt&&rt<at.coordinates.length;)G.geometry.coordinates[0]===at.coordinates[rt][0]&&G.geometry.coordinates[1]===at.coordinates[rt][1]&&(Q=!0,yt=!0),rt++}else if(at.type==="LineString")for(rt=0;!ft&&rt<at.coordinates.length-1;)Pc(G.geometry.coordinates[0],G.geometry.coordinates[1],at.coordinates[rt][0],at.coordinates[rt][1],at.coordinates[rt+1][0],at.coordinates[rt+1][1])&&(ft=!0,Q=!0),rt++;else if(at.type==="MultiLineString")for(var vt=0;vt<at.coordinates.length;){ft=!1,rt=0;for(var Tt=at.coordinates[vt];!ft&&rt<Tt.length-1;)Pc(G.geometry.coordinates[0],G.geometry.coordinates[1],Tt[rt][0],Tt[rt][1],Tt[rt+1][0],Tt[rt+1][1])&&(ft=!0,Q=!0),rt++;vt++}else at.type!=="Polygon"&&at.type!=="MultiPolygon"||Pr(G,at)&&(Q=!0);J++}if(Q)return G;var xt=ht([]);for(J=0;J<U.features.length;J++)xt.features=xt.features.concat(ou(U.features[J]).features);return X(Ke(G,xt).geometry.coordinates)}function Pc(B,U,G,Q,J,rt){return Math.sqrt((J-G)*(J-G)+(rt-Q)*(rt-Q))===Math.sqrt((B-G)*(B-G)+(U-Q)*(U-Q))+Math.sqrt((J-B)*(J-B)+(rt-U)*(rt-U))}Go.default=rp;var Mh=6378137;function Uu(B){return Je(B,function(U,G){return U+function(Q){var J,rt=0;switch(Q.type){case"Polygon":return of(Q.coordinates);case"MultiPolygon":for(J=0;J<Q.coordinates.length;J++)rt+=of(Q.coordinates[J]);return rt;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(G)},0)}function of(B){var U=0;if(B&&B.length>0){U+=Math.abs(yl(B[0]));for(var G=1;G<B.length;G++)U-=Math.abs(yl(B[G]))}return U}function yl(B){var U,G,Q,J,rt,at,ft=0,yt=B.length;if(yt>2){for(at=0;at<yt;at++)at===yt-2?(Q=yt-2,J=yt-1,rt=0):at===yt-1?(Q=yt-1,J=0,rt=1):(Q=at,J=at+1,rt=at+2),U=B[Q],G=B[J],ft+=(ad(B[rt][0])-ad(U[0]))*Math.sin(ad(G[1]));ft=ft*Mh*Mh/2}return ft}function ad(B){return B*Math.PI/180}function ld(B,U){return U===void 0&&(U={}),Me(B,function(G,Q){var J=Q.geometry.coordinates;return G+Yr(J[0],J[1],U)},0)}function zc(B,U,G,Q){if(!Dt(Q=Q||{}))throw new Error("options is invalid");var J,rt=[];if(B.type==="Feature")J=B.geometry.coordinates;else{if(B.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");J=B.coordinates}for(var at,ft,yt,vt=J.length,Tt=0,xt=0;xt<J.length&&!(U>=Tt&&xt===J.length-1);xt++){if(Tt>U&&rt.length===0){if(!(at=U-Tt))return rt.push(J[xt]),ct(rt);ft=nl(J[xt],J[xt-1])-180,yt=vo(J[xt],at,ft,Q),rt.push(yt.geometry.coordinates)}if(Tt>=G)return(at=G-Tt)?(ft=nl(J[xt],J[xt-1])-180,yt=vo(J[xt],at,ft,Q),rt.push(yt.geometry.coordinates),ct(rt)):(rt.push(J[xt]),ct(rt));if(Tt>=U&&rt.push(J[xt]),xt===J.length-1)return ct(rt);Tt+=Yr(J[xt],J[xt+1],Q)}if(Tt<U&&J.length===vt)throw new Error("Start position is beyond line");var It=J[J.length-1];return ct([It,It])}function Aa(B,U,G){G===void 0&&(G={});for(var Q=$t(B),J=oe(U),rt=0;rt<J.length-1;rt++){var at=!1;if(G.ignoreEndVertices&&(rt===0&&(at="start"),rt===J.length-2&&(at="end"),rt===0&&rt+1===J.length-1&&(at="both")),cd(J[rt],J[rt+1],Q,at,G.epsilon===void 0?null:G.epsilon))return!0}return!1}function cd(B,U,G,Q,J){var rt=G[0],at=G[1],ft=B[0],yt=B[1],vt=U[0],Tt=U[1],xt=vt-ft,It=Tt-yt,Gt=(G[0]-ft)*It-(G[1]-yt)*xt;if(J!==null){if(Math.abs(Gt)>J)return!1}else if(Gt!==0)return!1;return Q?Q==="start"?Math.abs(xt)>=Math.abs(It)?xt>0?ft<rt&&rt<=vt:vt<=rt&&rt<ft:It>0?yt<at&&at<=Tt:Tt<=at&&at<yt:Q==="end"?Math.abs(xt)>=Math.abs(It)?xt>0?ft<=rt&&rt<vt:vt<rt&&rt<=ft:It>0?yt<=at&&at<Tt:Tt<at&&at<=yt:Q==="both"&&(Math.abs(xt)>=Math.abs(It)?xt>0?ft<rt&&rt<vt:vt<rt&&rt<ft:It>0?yt<at&&at<Tt:Tt<at&&at<yt):Math.abs(xt)>=Math.abs(It)?xt>0?ft<=rt&&rt<=vt:vt<=rt&&rt<=ft:It>0?yt<=at&&at<=Tt:Tt<=at&&at<=yt}function Yu(B,U){var G=ke(B),Q=ke(U),J=G.type,rt=Q.type;switch(J){case"Point":switch(rt){case"MultiPoint":return function(at,ft){var yt,vt=!1;for(yt=0;yt<ft.coordinates.length;yt++)if(ud(ft.coordinates[yt],at.coordinates)){vt=!0;break}return vt}(G,Q);case"LineString":return Aa(G,Q,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Pr(G,Q,{ignoreBoundary:!0});default:throw new Error("feature2 "+rt+" geometry not supported")}case"MultiPoint":switch(rt){case"MultiPoint":return function(at,ft){for(var yt=0;yt<at.coordinates.length;yt++){for(var vt=!1,Tt=0;Tt<ft.coordinates.length;Tt++)ud(at.coordinates[yt],ft.coordinates[Tt])&&(vt=!0);if(!vt)return!1}return!0}(G,Q);case"LineString":return function(at,ft){for(var yt=!1,vt=0;vt<at.coordinates.length;vt++){if(!Aa(at.coordinates[vt],ft))return!1;yt||(yt=Aa(at.coordinates[vt],ft,{ignoreEndVertices:!0}))}return yt}(G,Q);case"Polygon":case"MultiPolygon":return function(at,ft){for(var yt=!0,vt=!1,Tt=0;Tt<at.coordinates.length;Tt++){if(!(vt=Pr(at.coordinates[1],ft))){yt=!1;break}vt=Pr(at.coordinates[1],ft,{ignoreBoundary:!0})}return yt&&vt}(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}case"LineString":switch(rt){case"LineString":return function(at,ft){for(var yt=0;yt<at.coordinates.length;yt++)if(!Aa(at.coordinates[yt],ft))return!1;return!0}(G,Q);case"Polygon":case"MultiPolygon":return function(at,ft){var yt=jt(ft),vt=jt(at);if(!sf(yt,vt))return!1;for(var Tt=!1,xt=0;xt<at.coordinates.length-1;xt++){if(!Pr(at.coordinates[xt],ft))return!1;Tt||(Tt=Pr(at.coordinates[xt],ft,{ignoreBoundary:!0})),!Tt&&(Tt=Pr(sp(at.coordinates[xt],at.coordinates[xt+1]),ft,{ignoreBoundary:!0}))}return Tt}(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}case"Polygon":switch(rt){case"Polygon":case"MultiPolygon":return function(at,ft){var yt=jt(at);if(!sf(jt(ft),yt))return!1;for(var vt=0;vt<at.coordinates[0].length;vt++)if(!Pr(at.coordinates[0][vt],ft))return!1;return!0}(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}default:throw new Error("feature1 "+J+" geometry not supported")}}function sf(B,U){return!(B[0]>U[0])&&!(B[2]<U[2])&&!(B[1]>U[1])&&!(B[3]<U[3])}function ud(B,U){return B[0]===U[0]&&B[1]===U[1]}function sp(B,U){return[(B[0]+U[0])/2,(B[1]+U[1])/2]}function hd(B,U,G){G===void 0&&(G={}),G.mask&&!G.units&&(G.units="kilometers");for(var Q=[],J=B[0],rt=B[1],at=B[2],ft=B[3],yt=U/Yr([J,rt],[at,rt],G)*(at-J),vt=U/Yr([J,rt],[J,ft],G)*(ft-rt),Tt=at-J,xt=ft-rt,It=Math.floor(Tt/yt),Gt=(xt-Math.floor(xt/vt)*vt)/2,Wt=J+(Tt-It*yt)/2;Wt<=at;){for(var ee=rt+Gt;ee<=ft;){var Bt=X([Wt,ee],G.properties);G.mask?Yu(Bt,G.mask)&&Q.push(Bt):Q.push(Bt),ee+=vt}Wt+=yt}return ht(Q)}function Hu(B,U){U===void 0&&(U={});var G=U.precision,Q=U.coordinates,J=U.mutate;if(G=G==null||isNaN(G)?6:G,Q=Q==null||isNaN(Q)?3:Q,!B)throw new Error("<geojson> is required");if(typeof G!="number")throw new Error("<precision> must be a number");if(typeof Q!="number")throw new Error("<coordinates> must be a number");J!==!1&&J!==void 0||(B=JSON.parse(JSON.stringify(B)));var rt=Math.pow(10,G);return Pt(B,function(at){(function(ft,yt,vt){ft.length>vt&&ft.splice(vt,ft.length);for(var Tt=0;Tt<ft.length;Tt++)ft[Tt]=Math.round(ft[Tt]*yt)/yt})(at,rt,Q)}),B}function Th(B){if(!B)throw new Error("geojson is required");var U=[];return qe(B,function(G){U.push(G)}),ht(U)}function ap(B,U,G){if(B.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");G===void 0&&(G=1);var Q=B.geometry.coordinates,J=[],rt={};if(G){for(var at=[],ft=0;ft<Q.length;ft++)for(var yt=0;yt<Q[ft].length-1;yt++)at.push(ee(ft,yt));var vt=en();vt.load(at)}for(var Tt=0;Tt<Q.length;Tt++)for(var xt=0;xt<Q[Tt].length-1;xt++)if(G)vt.search(ee(Tt,xt)).forEach(function(Bt){var me=Bt.ring,Ie=Bt.edge;Wt(Tt,xt,me,Ie)});else for(var It=0;It<Q.length;It++)for(var Gt=0;Gt<Q[It].length-1;Gt++)Wt(Tt,xt,It,Gt);return U||(J={type:"Feature",geometry:{type:"MultiPoint",coordinates:J}}),J;function Wt(Bt,me,Ie,Zt){var fe,be,Ee=Q[Bt][me],_e=Q[Bt][me+1],wn=Q[Ie][Zt],cn=Q[Ie][Zt+1],Tn=function(yn,mn,fn,Sn){if(uu(yn,fn)||uu(yn,Sn)||uu(mn,fn)||uu(Sn,fn))return null;var bn=yn[0],Nn=yn[1],Ze=mn[0],Mr=mn[1],Qn=fn[0],ri=fn[1],gr=Sn[0],jr=Sn[1],Ti=(bn-Ze)*(ri-jr)-(Nn-Mr)*(Qn-gr);return Ti===0?null:[((bn*Mr-Nn*Ze)*(Qn-gr)-(bn-Ze)*(Qn*jr-ri*gr))/Ti,((bn*Mr-Nn*Ze)*(ri-jr)-(Nn-Mr)*(Qn*jr-ri*gr))/Ti]}(Ee,_e,wn,cn);if(Tn!==null&&(fe=_e[0]!==Ee[0]?(Tn[0]-Ee[0])/(_e[0]-Ee[0]):(Tn[1]-Ee[1])/(_e[1]-Ee[1]),be=cn[0]!==wn[0]?(Tn[0]-wn[0])/(cn[0]-wn[0]):(Tn[1]-wn[1])/(cn[1]-wn[1]),!(fe>=1||fe<=0||be>=1||be<=0))){var dn=Tn,An=!rt[dn];An&&(rt[dn]=!0),U?J.push(U(Tn,Bt,me,Ee,_e,fe,Ie,Zt,wn,cn,be,An)):J.push(Tn)}}function ee(Bt,me){var Ie,Zt,fe,be,Ee=Q[Bt][me],_e=Q[Bt][me+1];return Ee[0]<_e[0]?(Ie=Ee[0],Zt=_e[0]):(Ie=_e[0],Zt=Ee[0]),Ee[1]<_e[1]?(fe=Ee[1],be=_e[1]):(fe=_e[1],be=Ee[1]),{minX:Ie,minY:fe,maxX:Zt,maxY:be,ring:Bt,edge:me}}}function uu(B,U){if(!B||!U||B.length!==U.length)return!1;for(var G=0,Q=B.length;G<Q;G++)if(B[G]instanceof Array&&U[G]instanceof Array){if(!uu(B[G],U[G]))return!1}else if(B[G]!==U[G])return!1;return!0}function hg(B){if(B.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(B.geometry===void 0||B.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(B.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var U=B.geometry.coordinates.length,G=[],Q=0;Q<U;Q++){var J=B.geometry.coordinates[Q];pt(J[0],J[J.length-1])||J.push(J[0]),G.push.apply(G,J.slice(0,J.length-1))}if(!function(gr){for(var jr={},Ti=1,po=0,Fs=gr.length;po<Fs;++po){if(Object.prototype.hasOwnProperty.call(jr,gr[po])){Ti=0;break}jr[gr[po]]=1}return Ti}(G))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var rt=G.length,at=ap(B,function(gr,jr,Ti,po,Fs,qf,uh,Qf,Xf,Xd,eg,Zd){return[gr,jr,Ti,po,Fs,qf,uh,Qf,Xf,Xd,eg,Zd]}),ft=at.length;if(ft==0){var yt=[];for(Q=0;Q<U;Q++)yt.push(nt([B.geometry.coordinates[Q]],{parent:-1,winding:it(B.geometry.coordinates[Q])}));var vt=ht(yt);return Mr(),Qn(),vt}var Tt=[],xt=[];for(Q=0;Q<U;Q++){Tt.push([]);for(var It=0;It<B.geometry.coordinates[Q].length-1;It++)Tt[Q].push([new af(B.geometry.coordinates[Q][St(It+1,B.geometry.coordinates[Q].length-1)],1,[Q,It],[Q,St(It+1,B.geometry.coordinates[Q].length-1)],void 0)]),xt.push(new Vu(B.geometry.coordinates[Q][It],[Q,St(It-1,B.geometry.coordinates[Q].length-1)],[Q,It],void 0,void 0,!1,!0))}for(Q=0;Q<ft;Q++)Tt[at[Q][1]][at[Q][2]].push(new af(at[Q][0],at[Q][5],[at[Q][1],at[Q][2]],[at[Q][6],at[Q][7]],void 0)),at[Q][11]&&xt.push(new Vu(at[Q][0],[at[Q][1],at[Q][2]],[at[Q][6],at[Q][7]],void 0,void 0,!0,!0));var Gt=xt.length;for(Q=0;Q<Tt.length;Q++)for(It=0;It<Tt[Q].length;It++)Tt[Q][It].sort(function(gr,jr){return gr.param<jr.param?-1:1});var Wt=[];for(Q=0;Q<Gt;Q++)Wt.push({minX:xt[Q].coord[0],minY:xt[Q].coord[1],maxX:xt[Q].coord[0],maxY:xt[Q].coord[1],index:Q});var ee=en();for(ee.load(Wt),Q=0;Q<Tt.length;Q++)for(It=0;It<Tt[Q].length;It++)for(var Bt=0;Bt<Tt[Q][It].length;Bt++){Ie=Bt==Tt[Q][It].length-1?Tt[Q][St(It+1,B.geometry.coordinates[Q].length-1)][0].coord:Tt[Q][It][Bt+1].coord;var me=ee.search({minX:Ie[0],minY:Ie[1],maxX:Ie[0],maxY:Ie[1]})[0];Tt[Q][It][Bt].nxtIsectAlongEdgeIn=me.index}for(Q=0;Q<Tt.length;Q++)for(It=0;It<Tt[Q].length;It++)for(Bt=0;Bt<Tt[Q][It].length;Bt++){var Ie=Tt[Q][It][Bt].coord,Zt=(me=ee.search({minX:Ie[0],minY:Ie[1],maxX:Ie[0],maxY:Ie[1]})[0]).index;Zt<rt?xt[Zt].nxtIsectAlongRingAndEdge2=Tt[Q][It][Bt].nxtIsectAlongEdgeIn:pt(xt[Zt].ringAndEdge1,Tt[Q][It][Bt].ringAndEdgeIn)?xt[Zt].nxtIsectAlongRingAndEdge1=Tt[Q][It][Bt].nxtIsectAlongEdgeIn:xt[Zt].nxtIsectAlongRingAndEdge2=Tt[Q][It][Bt].nxtIsectAlongEdgeIn}var fe=[];for(Q=0,It=0;It<U;It++){var be=Q;for(Bt=0;Bt<B.geometry.coordinates[It].length-1;Bt++)xt[Q].coord[0]<xt[be].coord[0]&&(be=Q),Q++;var Ee=xt[be].nxtIsectAlongRingAndEdge2;for(Bt=0;Bt<xt.length;Bt++)if(xt[Bt].nxtIsectAlongRingAndEdge1==be||xt[Bt].nxtIsectAlongRingAndEdge2==be){var _e=Bt;break}var wn=Gu([xt[_e].coord,xt[be].coord,xt[Ee].coord],!0)?1:-1;fe.push({isect:be,parent:-1,winding:wn})}for(fe.sort(function(gr,jr){return xt[gr.isect].coord>xt[jr.isect].coord?-1:1}),yt=[];fe.length>0;){var cn=fe.pop(),Tn=cn.isect,dn=cn.parent,An=cn.winding,yn=yt.length,mn=[xt[Tn].coord],fn=Tn;if(xt[Tn].ringAndEdge1Walkable)var Sn=xt[Tn].ringAndEdge1,bn=xt[Tn].nxtIsectAlongRingAndEdge1;else Sn=xt[Tn].ringAndEdge2,bn=xt[Tn].nxtIsectAlongRingAndEdge2;for(;!pt(xt[Tn].coord,xt[bn].coord);){mn.push(xt[bn].coord);var Nn=void 0;for(Q=0;Q<fe.length;Q++)if(fe[Q].isect==bn){Nn=Q;break}if(Nn!=null&&fe.splice(Nn,1),pt(Sn,xt[bn].ringAndEdge1)){if(Sn=xt[bn].ringAndEdge2,xt[bn].ringAndEdge2Walkable=!1,xt[bn].ringAndEdge1Walkable){var Ze={isect:bn};Gu([xt[fn].coord,xt[bn].coord,xt[xt[bn].nxtIsectAlongRingAndEdge2].coord],An==1)?(Ze.parent=dn,Ze.winding=-An):(Ze.parent=yn,Ze.winding=An),fe.push(Ze)}fn=bn,bn=xt[bn].nxtIsectAlongRingAndEdge2}else Sn=xt[bn].ringAndEdge1,xt[bn].ringAndEdge1Walkable=!1,xt[bn].ringAndEdge2Walkable&&(Ze={isect:bn},Gu([xt[fn].coord,xt[bn].coord,xt[xt[bn].nxtIsectAlongRingAndEdge1].coord],An==1)?(Ze.parent=dn,Ze.winding=-An):(Ze.parent=yn,Ze.winding=An),fe.push(Ze)),fn=bn,bn=xt[bn].nxtIsectAlongRingAndEdge1}mn.push(xt[bn].coord),yt.push(nt([mn],{index:yn,parent:dn,winding:An,netWinding:void 0}))}vt=ht(yt);function Mr(){for(var gr=[],jr=0;jr<vt.features.length;jr++)vt.features[jr].properties.parent==-1&&gr.push(jr);if(gr.length>1)for(jr=0;jr<gr.length;jr++){for(var Ti=-1,po=0;po<vt.features.length;po++)gr[jr]!=po&&Pr(vt.features[gr[jr]].geometry.coordinates[0][0],vt.features[po],{ignoreBoundary:!0})&&Uu(vt.features[po])<1/0&&(Ti=po);vt.features[gr[jr]].properties.parent=Ti}}function Qn(){for(var gr=0;gr<vt.features.length;gr++)if(vt.features[gr].properties.parent==-1){var jr=vt.features[gr].properties.winding;vt.features[gr].properties.netWinding=jr,ri(gr,jr)}}function ri(gr,jr){for(var Ti=0;Ti<vt.features.length;Ti++)if(vt.features[Ti].properties.parent==gr){var po=jr+vt.features[Ti].properties.winding;vt.features[Ti].properties.netWinding=po,ri(Ti,po)}}return Mr(),Qn(),vt}var af=function(B,U,G,Q,J){this.coord=B,this.param=U,this.ringAndEdgeIn=G,this.ringAndEdgeOut=Q,this.nxtIsectAlongEdgeIn=J},Vu=function(B,U,G,Q,J,rt,at){this.coord=B,this.ringAndEdge1=U,this.ringAndEdge2=G,this.nxtIsectAlongRingAndEdge1=Q,this.nxtIsectAlongRingAndEdge2=J,this.ringAndEdge1Walkable=rt,this.ringAndEdge2Walkable=at};function Gu(B,U){if(U===void 0&&(U=!0),B.length!=3)throw new Error("This function requires an array of three points [x,y]");return(B[1][0]-B[0][0])*(B[2][1]-B[0][1])-(B[1][1]-B[0][1])*(B[2][0]-B[0][0])>=0==U}function it(B){for(var U=0,G=0;G<B.length-1;G++)B[G][0]<B[U][0]&&(U=G);if(Gu([B[St(U-1,B.length-1)],B[U],B[St(U+1,B.length-1)]],!0))var Q=1;else Q=-1;return Q}function pt(B,U){if(!B||!U||B.length!=U.length)return!1;for(var G=0,Q=B.length;G<Q;G++)if(B[G]instanceof Array&&U[G]instanceof Array){if(!pt(B[G],U[G]))return!1}else if(B[G]!=U[G])return!1;return!0}function St(B,U){return(B%U+U)%U}var Ut=Math.PI/180,se=180/Math.PI,Ne=function(B,U){this.lon=B,this.lat=U,this.x=Ut*B,this.y=Ut*U};Ne.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Ne.prototype.antipode=function(){var B=-1*this.lat,U=this.lon<0?180+this.lon:-1*(180-this.lon);return new Ne(U,B)};var nn=function(){this.coords=[],this.length=0};nn.prototype.move_to=function(B){this.length++,this.coords.push(B)};var _n=function(B){this.properties=B||{},this.geometries=[]};_n.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var B=[],U=0;U<this.geometries.length;U++)B.push(this.geometries[U].coords);return{geometry:{type:"MultiLineString",coordinates:B},type:"Feature",properties:this.properties}},_n.prototype.wkt=function(){for(var B="",U="LINESTRING(",G=function(J){U+=J[0]+" "+J[1]+","},Q=0;Q<this.geometries.length;Q++){if(this.geometries[Q].coords.length===0)return"LINESTRING(empty)";this.geometries[Q].coords.forEach(G),B+=U.substring(0,U.length-1)+")"}return B};var kn=function(B,U,G){if(!B||B.x===void 0||B.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!U||U.x===void 0||U.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Ne(B.x,B.y),this.end=new Ne(U.x,U.y),this.properties=G||{};var Q=this.start.x-this.end.x,J=this.start.y-this.end.y,rt=Math.pow(Math.sin(J/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(Q/2),2);if(this.g=2*Math.asin(Math.sqrt(rt)),this.g===Math.PI)throw new Error("it appears "+B.view()+" and "+U.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+B+" and "+U)};function Vn(B,U){var G=[],Q=Go();return qe(U,function(J){if(G.forEach(function(ft,yt){ft.id=yt}),G.length){var rt=Q.search(J);if(rt.features.length){var at=qr(J,rt);G=G.filter(function(ft){return ft.id!==at.id}),Q.remove(at),ve(yr(at,J),function(ft){G.push(ft),Q.insert(ft)})}}else(G=yr(B,J).features).forEach(function(ft){ft.bbox||(ft.bbox=yh(jt(ft)))}),Q.load(ht(G))}),ht(G)}function yr(B,U){var G=[],Q=oe(B)[0],J=oe(B)[B.geometry.coordinates.length-1];if(vi(Q,$t(U))||vi(J,$t(U)))return ht([B]);var rt=Go(),at=hn(B);rt.load(at);var ft=rt.search(U);if(!ft.features.length)return ht([B]);var yt=qr(U,ft),vt=Ce(at,function(Tt,xt,It){var Gt=oe(xt)[1],Wt=$t(U);return It===yt.id?(Tt.push(Wt),G.push(ct(Tt)),vi(Wt,Gt)?[Wt]:[Wt,Gt]):(Tt.push(Gt),Tt)},[Q]);return vt.length>1&&G.push(ct(vt)),ht(G)}function qr(B,U){if(!U.features.length)throw new Error("lines must contain features");if(U.features.length===1)return U.features[0];var G,Q=1/0;return ve(U,function(J){var rt=Fl(J,B).properties.dist;rt<Q&&(G=J,Q=rt)}),G}function vi(B,U){return B[0]===U[0]&&B[1]===U[1]}function ta(B,U,G,Q,J){J===void 0&&(J={});var rt=J.steps||64,at=os(G),ft=os(Q),yt=Array.isArray(B)||B.type!=="Feature"?{}:B.properties;if(at===ft)return ct(ju(B,U,J).geometry.coordinates[0],yt);for(var vt=at,Tt=at<ft?ft:ft+360,xt=vt,It=[],Gt=0;xt<Tt;)It.push(vo(B,U,xt,J).geometry.coordinates),xt=vt+360*++Gt/rt;return xt>Tt&&It.push(vo(B,U,Tt,J).geometry.coordinates),ct(It,yt)}function os(B){var U=B%360;return U<0&&(U+=360),U}function ea(B,U){U===void 0&&(U={});var G=ke(B);switch(U.properties||B.type!=="Feature"||(U.properties=B.properties),G.type){case"Polygon":return ua(G,U);case"MultiPolygon":return function(Q,J){J===void 0&&(J={});var rt=ke(Q).coordinates,at=J.properties?J.properties:Q.type==="Feature"?Q.properties:{},ft=[];return rt.forEach(function(yt){ft.push(Rc(yt,at))}),ht(ft)}(G,U);default:throw new Error("invalid poly")}}function ua(B,U){return U===void 0&&(U={}),Rc(ke(B).coordinates,U.properties?U.properties:B.type==="Feature"?B.properties:{})}function Rc(B,U){return B.length>1?bt(B,U):ct(B[0],U)}function lp(B,U){var G,Q,J;U===void 0&&(U={});var rt=U.properties,at=(G=U.autoComplete)===null||G===void 0||G,ft=(Q=U.orderCoords)===null||Q===void 0||Q;switch((J=U.mutate)!==null&&J!==void 0&&J||(B=ai(B)),B.type){case"FeatureCollection":var yt=[];return B.features.forEach(function(vt){yt.push(oe(lf(vt,{},at,ft)))}),mt(yt,rt);default:return lf(B,rt,at,ft)}}function lf(B,U,G,Q){U=U||(B.type==="Feature"?B.properties:{});var J=ke(B),rt=J.coordinates,at=J.type;if(!rt.length)throw new Error("line must contain coordinates");switch(at){case"LineString":return G&&(rt=hu(rt)),nt([rt],U);case"MultiLineString":var ft=[],yt=0;return rt.forEach(function(vt){if(G&&(vt=hu(vt)),Q){var Tt=function(xt){var It=xt[0],Gt=xt[1],Wt=xt[2],ee=xt[3];return Math.abs(It-Wt)*Math.abs(Gt-ee)}(jt(ct(vt)));Tt>yt?(ft.unshift(vt),yt=Tt):ft.push(vt)}else ft.push(vt)}),nt(ft,U);default:throw new Error("geometry type "+at+" is not supported")}}function hu(B){var U=B[0],G=U[0],Q=U[1],J=B[B.length-1],rt=J[0],at=J[1];return G===rt&&Q===at||B.push(U),B}function du(B,U){var G,Q,J,rt,at,ft,yt;for(Q=1;Q<=8;Q*=2){for(G=[],rt=!(cc(J=B[B.length-1],U)&Q),at=0;at<B.length;at++)(yt=!(cc(ft=B[at],U)&Q))!==rt&&G.push(cf(J,ft,Q,U)),yt&&G.push(ft),J=ft,rt=yt;if(!(B=G).length)break}return G}function cf(B,U,G,Q){return 8&G?[B[0]+(U[0]-B[0])*(Q[3]-B[1])/(U[1]-B[1]),Q[3]]:4&G?[B[0]+(U[0]-B[0])*(Q[1]-B[1])/(U[1]-B[1]),Q[1]]:2&G?[Q[2],B[1]+(U[1]-B[1])*(Q[2]-B[0])/(U[0]-B[0])]:1&G?[Q[0],B[1]+(U[1]-B[1])*(Q[0]-B[0])/(U[0]-B[0])]:null}function cc(B,U){var G=0;return B[0]<U[0]?G|=1:B[0]>U[2]&&(G|=2),B[1]<U[1]?G|=4:B[1]>U[3]&&(G|=8),G}function ss(B,U){for(var G=[],Q=0,J=B;Q<J.length;Q++){var rt=du(J[Q],U);rt.length>0&&(rt[0][0]===rt[rt.length-1][0]&&rt[0][1]===rt[rt.length-1][1]||rt.push(rt[0]),rt.length>=4&&G.push(rt))}return G}kn.prototype.interpolate=function(B){var U=Math.sin((1-B)*this.g)/Math.sin(this.g),G=Math.sin(B*this.g)/Math.sin(this.g),Q=U*Math.cos(this.start.y)*Math.cos(this.start.x)+G*Math.cos(this.end.y)*Math.cos(this.end.x),J=U*Math.cos(this.start.y)*Math.sin(this.start.x)+G*Math.cos(this.end.y)*Math.sin(this.end.x),rt=U*Math.sin(this.start.y)+G*Math.sin(this.end.y),at=se*Math.atan2(rt,Math.sqrt(Math.pow(Q,2)+Math.pow(J,2)));return[se*Math.atan2(J,Q),at]},kn.prototype.Arc=function(B,U){var G=[];if(!B||B<=2)G.push([this.start.lon,this.start.lat]),G.push([this.end.lon,this.end.lat]);else for(var Q=1/(B-1),J=0;J<B;++J){var rt=Q*J,at=this.interpolate(rt);G.push(at)}for(var ft=!1,yt=0,vt=U&&U.offset?U.offset:10,Tt=180-vt,xt=-180+vt,It=360-vt,Gt=1;Gt<G.length;++Gt){var Wt=G[Gt-1][0],ee=G[Gt][0],Bt=Math.abs(ee-Wt);Bt>It&&(ee>Tt&&Wt<xt||Wt>Tt&&ee<xt)?ft=!0:Bt>yt&&(yt=Bt)}var me=[];if(ft&&yt<vt){var Ie=[];me.push(Ie);for(var Zt=0;Zt<G.length;++Zt){var fe=parseFloat(G[Zt][0]);if(Zt>0&&Math.abs(fe-G[Zt-1][0])>It){var be=parseFloat(G[Zt-1][0]),Ee=parseFloat(G[Zt-1][1]),_e=parseFloat(G[Zt][0]),wn=parseFloat(G[Zt][1]);if(be>-180&&be<xt&&_e===180&&Zt+1<G.length&&G[Zt-1][0]>-180&&G[Zt-1][0]<xt){Ie.push([-180,G[Zt][1]]),Zt++,Ie.push([G[Zt][0],G[Zt][1]]);continue}if(be>Tt&&be<180&&_e===-180&&Zt+1<G.length&&G[Zt-1][0]>Tt&&G[Zt-1][0]<180){Ie.push([180,G[Zt][1]]),Zt++,Ie.push([G[Zt][0],G[Zt][1]]);continue}if(be<xt&&_e>Tt){var cn=be;be=_e,_e=cn;var Tn=Ee;Ee=wn,wn=Tn}if(be>Tt&&_e<xt&&(_e+=360),be<=180&&_e>=180&&be<_e){var dn=(180-be)/(_e-be),An=dn*wn+(1-dn)*Ee;Ie.push([G[Zt-1][0]>Tt?180:-180,An]),(Ie=[]).push([G[Zt-1][0]>Tt?-180:180,An]),me.push(Ie)}else Ie=[],me.push(Ie);Ie.push([fe,G[Zt][1]])}else Ie.push([G[Zt][0],G[Zt][1]])}}else{var yn=[];me.push(yn);for(var mn=0;mn<G.length;++mn)yn.push([G[mn][0],G[mn][1]])}for(var fn=new _n(this.properties),Sn=0;Sn<me.length;++Sn){var bn=new nn;fn.geometries.push(bn);for(var Nn=me[Sn],Ze=0;Ze<Nn.length;++Ze)bn.move_to(Nn[Ze])}return fn};var Sh=Un(function(B,U){function G(Q){var J=[];for(var rt in Q)J.push(rt);return J}(B.exports=typeof Object.keys=="function"?Object.keys:G).shim=G}),cp=Un(function(B,U){var G=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function Q(rt){return Object.prototype.toString.call(rt)=="[object Arguments]"}function J(rt){return rt&&typeof rt=="object"&&typeof rt.length=="number"&&Object.prototype.hasOwnProperty.call(rt,"callee")&&!Object.prototype.propertyIsEnumerable.call(rt,"callee")||!1}(U=B.exports=G?Q:J).supported=Q,U.unsupported=J}),Wu=Un(function(B){var U=Array.prototype.slice,G=B.exports=function(rt,at,ft){return ft||(ft={}),rt===at||(rt instanceof Date&&at instanceof Date?rt.getTime()===at.getTime():!rt||!at||typeof rt!="object"&&typeof at!="object"?ft.strict?rt===at:rt==at:function(yt,vt,Tt){var xt,It;if(Q(yt)||Q(vt)||yt.prototype!==vt.prototype)return!1;if(cp(yt))return!!cp(vt)&&(yt=U.call(yt),vt=U.call(vt),G(yt,vt,Tt));if(J(yt)){if(!J(vt)||yt.length!==vt.length)return!1;for(xt=0;xt<yt.length;xt++)if(yt[xt]!==vt[xt])return!1;return!0}try{var Gt=Sh(yt),Wt=Sh(vt)}catch{return!1}if(Gt.length!=Wt.length)return!1;for(Gt.sort(),Wt.sort(),xt=Gt.length-1;xt>=0;xt--)if(Gt[xt]!=Wt[xt])return!1;for(xt=Gt.length-1;xt>=0;xt--)if(It=Gt[xt],!G(yt[It],vt[It],Tt))return!1;return typeof yt==typeof vt}(rt,at,ft))};function Q(rt){return rt==null}function J(rt){return!(!rt||typeof rt!="object"||typeof rt.length!="number")&&typeof rt.copy=="function"&&typeof rt.slice=="function"&&!(rt.length>0&&typeof rt[0]!="number")}});function dd(B,U,G){if(G===void 0&&(G={}),!Dt(G=G||{}))throw new Error("options is invalid");var Q,J=G.tolerance||0,rt=[],at=Go(),ft=hn(B);return at.load(ft),we(U,function(yt){var vt=!1;yt&&(ve(at.search(yt),function(Tt){if(vt===!1){var xt=oe(yt).sort(),It=oe(Tt).sort();Wu(xt,It)||(J===0?Aa(xt[0],Tt)&&Aa(xt[1],Tt):Fl(Tt,xt[0]).properties.dist<=J&&Fl(Tt,xt[1]).properties.dist<=J)?(vt=!0,Q=Q?Ch(Q,yt):yt):(J===0?Aa(It[0],yt)&&Aa(It[1],yt):Fl(yt,It[0]).properties.dist<=J&&Fl(yt,It[1]).properties.dist<=J)&&(Q=Q?Ch(Q,Tt):Tt)}}),vt===!1&&Q&&(rt.push(Q),Q=void 0))}),Q&&rt.push(Q),ht(rt)}function Ch(B,U){var G=oe(U),Q=oe(B),J=Q[0],rt=Q[Q.length-1],at=B.geometry.coordinates;return Wu(G[0],J)?at.unshift(G[1]):Wu(G[0],rt)?at.push(G[1]):Wu(G[1],J)?at.unshift(G[0]):Wu(G[1],rt)&&at.push(G[0]),B}function fd(B){var U=B%360;return U<0&&(U+=360),U}function fu(B,U,G){var Q;return G===void 0&&(G={}),(Q=G.final?dg($t(U),$t(B)):dg($t(B),$t(U)))>180?-(360-Q):Q}function dg(B,U){var G=Ht(B[1]),Q=Ht(U[1]),J=Ht(U[0]-B[0]);J>Math.PI&&(J-=2*Math.PI),J<-Math.PI&&(J+=2*Math.PI);var rt=Math.log(Math.tan(Q/2+Math.PI/4)/Math.tan(G/2+Math.PI/4));return(Yt(Math.atan2(J,rt))+360)%360}function pd(B,U,G,Q){Q===void 0&&(Q={});var J=U<0,rt=qt(Math.abs(U),Q.units,"meters");J&&(rt=-Math.abs(rt));var at=$t(B),ft=function(yt,vt,Tt,xt){xt=xt===void 0?O:Number(xt);var It=vt/xt,Gt=yt[0]*Math.PI/180,Wt=Ht(yt[1]),ee=Ht(Tt),Bt=It*Math.cos(ee),me=Wt+Bt;Math.abs(me)>Math.PI/2&&(me=me>0?Math.PI-me:-Math.PI-me);var Ie=Math.log(Math.tan(me/2+Math.PI/4)/Math.tan(Wt/2+Math.PI/4)),Zt=Math.abs(Ie)>1e-11?Bt/Ie:Math.cos(Wt),fe=It*Math.sin(ee)/Zt;return[(180*(Gt+fe)/Math.PI+540)%360-180,180*me/Math.PI]}(at,rt,G);return ft[0]+=ft[0]-at[0]>180?-360:at[0]-ft[0]>180?360:0,X(ft,Q.properties)}function fg(B,U,G,Q,J,rt){for(var at=0;at<B.length;at++){var ft=B[at],yt=B[at+1];at===B.length-1&&(yt=B[0]),Q=pu(ft,yt,U),G<=0&&Q>0?pu(U,ft,J)<0||(J=ft):G>0&&Q<=0&&(fo(U,ft,rt)||(rt=ft)),G=Q}return[J,rt]}function fo(B,U,G){return pu(B,U,G)>0}function pu(B,U,G){return(U[0]-B[0])*(G[1]-B[1])-(G[0]-B[0])*(U[1]-B[1])}function uf(B){for(var U,G,Q=oe(B),J=0,rt=1;rt<Q.length;)U=G||Q[0],J+=((G=Q[rt])[0]-U[0])*(G[1]+U[1]),rt++;return J>0}function gu(B,U){switch(B.type==="Feature"?B.geometry.type:B.type){case"GeometryCollection":return Oe(B,function(G){gu(G,U)}),B;case"LineString":return up(oe(B),U),B;case"Polygon":return qu(oe(B),U),B;case"MultiLineString":return oe(B).forEach(function(G){up(G,U)}),B;case"MultiPolygon":return oe(B).forEach(function(G){qu(G,U)}),B;case"Point":case"MultiPoint":return B}}function up(B,U){uf(B)===U&&B.reverse()}function qu(B,U){uf(B[0])!==U&&B[0].reverse();for(var G=1;G<B.length;G++)uf(B[G])===U&&B[G].reverse()}function pg(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.zProperty||"elevation",Q=U.flip,J=U.flags;Pe(B,"Point","input must contain Points");for(var rt=function(It,Gt){var Wt={};return ve(It,function(ee){var Bt=oe(ee)[1];Wt[Bt]||(Wt[Bt]=[]),Wt[Bt].push(ee)}),Object.keys(Wt).map(function(ee){return Wt[ee].sort(function(Bt,me){return oe(Bt)[0]-oe(me)[0]})}).sort(function(ee,Bt){return Gt?oe(ee[0])[1]-oe(Bt[0])[1]:oe(Bt[0])[1]-oe(ee[0])[1]})}(B,Q),at=[],ft=0;ft<rt.length;ft++){for(var yt=rt[ft],vt=[],Tt=0;Tt<yt.length;Tt++){var xt=yt[Tt];xt.properties[G]?vt.push(xt.properties[G]):vt.push(0),J===!0&&(xt.properties.matrixPosition=[ft,Tt])}at.push(vt)}return at}var j0={successCallback:null,verbose:!1,polygons:!1},Ul={};function Qu(B,U,G,Q){Q=Q||{};for(var J=Object.keys(j0),rt=0;rt<J.length;rt++){var at=J[rt],ft=Q[at];ft=ft??j0[at],Ul[at]=ft}Ul.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+U+":"+(U+G)+"]");var yt,vt=function(Tt,xt,It){for(var Gt=Tt.length-1,Wt=Tt[0].length-1,ee={rows:Gt,cols:Wt,cells:[]},Bt=xt+Math.abs(It),me=0;me<Gt;++me){ee.cells[me]=[];for(var Ie=0;Ie<Wt;++Ie){var Zt=0,fe=Tt[me+1][Ie],be=Tt[me+1][Ie+1],Ee=Tt[me][Ie+1],_e=Tt[me][Ie];if(!(isNaN(fe)||isNaN(be)||isNaN(Ee)||isNaN(_e))){Zt|=fe<xt?0:fe>Bt?128:64,Zt|=be<xt?0:be>Bt?32:16,Zt|=Ee<xt?0:Ee>Bt?8:4;var wn=+(Zt|=_e<xt?0:_e>Bt?2:1),cn=0;if(Zt===17||Zt===18||Zt===33||Zt===34||Zt===38||Zt===68||Zt===72||Zt===98||Zt===102||Zt===132||Zt===136||Zt===137||Zt===152||Zt===153){var Tn=(fe+be+Ee+_e)/4;cn=Tn>Bt?2:Tn<xt?0:1,Zt===34?cn===1?Zt=35:cn===0&&(Zt=136):Zt===136?cn===1?(Zt=35,cn=4):cn===0&&(Zt=34):Zt===17?cn===1?(Zt=155,cn=4):cn===0&&(Zt=153):Zt===68?cn===1?(Zt=103,cn=4):cn===0&&(Zt=102):Zt===153?cn===1&&(Zt=155):Zt===102?cn===1&&(Zt=103):Zt===152?cn<2&&(Zt=156,cn=1):Zt===137?cn<2&&(Zt=139,cn=1):Zt===98?cn<2&&(Zt=99,cn=1):Zt===38?cn<2&&(Zt=39,cn=1):Zt===18?cn>0?(Zt=156,cn=4):Zt=152:Zt===33?cn>0?(Zt=139,cn=4):Zt=137:Zt===72?cn>0?(Zt=99,cn=4):Zt=98:Zt===132&&(cn>0?(Zt=39,cn=4):Zt=38)}if(Zt!=0&&Zt!=170){var dn,An,yn,mn,fn,Sn,bn,Nn;dn=An=yn=mn=fn=Sn=bn=Nn=.5;var Ze=[];Zt===1?(yn=1-Te(xt,Ee,_e),Nn=1-Te(xt,fe,_e),Ze.push(kr[Zt])):Zt===169?(yn=Te(Bt,_e,Ee),Nn=Te(Bt,_e,fe),Ze.push(kr[Zt])):Zt===4?(Sn=1-Te(xt,be,Ee),mn=Te(xt,_e,Ee),Ze.push(vr[Zt])):Zt===166?(Sn=Te(Bt,Ee,be),mn=1-Te(Bt,Ee,_e),Ze.push(vr[Zt])):Zt===16?(fn=Te(xt,Ee,be),An=Te(xt,fe,be),Ze.push(br[Zt])):Zt===154?(fn=1-Te(Bt,be,Ee),An=1-Te(Bt,be,fe),Ze.push(br[Zt])):Zt===64?(bn=Te(xt,_e,fe),dn=1-Te(xt,be,fe),Ze.push(Fr[Zt])):Zt===106?(bn=1-Te(Bt,fe,_e),dn=Te(Bt,fe,be),Ze.push(Fr[Zt])):Zt===168?(mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===2?(mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===162?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===8?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===138?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===32?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),dn=Te(xt,fe,be),An=Te(Bt,fe,be),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===42?(Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be),Ze.push(Vr[Zt]),Ze.push(Fr[Zt])):Zt===128&&(Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe),Ze.push(Vr[Zt]),Ze.push(Fr[Zt])),Zt===5?(Sn=1-Te(xt,be,Ee),Nn=1-Te(xt,fe,_e),Ze.push(vr[Zt])):Zt===165?(Sn=Te(Bt,Ee,be),Nn=Te(Bt,_e,fe),Ze.push(vr[Zt])):Zt===20?(mn=Te(xt,_e,Ee),An=Te(xt,fe,be),Ze.push(Rr[Zt])):Zt===150?(mn=1-Te(Bt,Ee,_e),An=1-Te(Bt,be,fe),Ze.push(Rr[Zt])):Zt===80?(fn=Te(xt,Ee,be),bn=Te(xt,_e,fe),Ze.push(br[Zt])):Zt===90?(fn=1-Te(Bt,be,Ee),bn=1-Te(Bt,fe,_e),Ze.push(br[Zt])):Zt===65?(yn=1-Te(xt,Ee,_e),dn=1-Te(xt,be,fe),Ze.push(kr[Zt])):Zt===105?(yn=Te(Bt,_e,Ee),dn=Te(Bt,fe,be),Ze.push(kr[Zt])):Zt===160?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===10?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===130?(mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===40?(mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),dn=Te(xt,fe,be),An=Te(Bt,fe,be),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===101?(Sn=Te(Bt,Ee,be),dn=Te(Bt,fe,be),Ze.push(vr[Zt])):Zt===69?(Sn=1-Te(xt,be,Ee),dn=1-Te(xt,be,fe),Ze.push(vr[Zt])):Zt===149?(Nn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe),Ze.push(Vr[Zt])):Zt===21?(Nn=1-Te(xt,fe,_e),An=Te(xt,fe,be),Ze.push(Vr[Zt])):Zt===86?(mn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),Ze.push(Rr[Zt])):Zt===84?(mn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),Ze.push(Rr[Zt])):Zt===89?(fn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Ze.push(kr[Zt])):Zt===81?(fn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Ze.push(kr[Zt])):Zt===96?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),bn=Te(xt,_e,fe),dn=Te(Bt,fe,be),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===74?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),bn=1-Te(Bt,fe,_e),dn=1-Te(xt,be,fe),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===24?(fn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),An=Te(xt,fe,be),Ze.push(br[Zt]),Ze.push(kr[Zt])):Zt===146?(fn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),An=1-Te(Bt,be,fe),Ze.push(br[Zt]),Ze.push(kr[Zt])):Zt===6?(Sn=1-Te(xt,be,Ee),mn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===164?(Sn=Te(Bt,Ee,be),mn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===129?(yn=1-Te(xt,Ee,_e),Nn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe),Ze.push(kr[Zt]),Ze.push(Vr[Zt])):Zt===41?(yn=Te(Bt,_e,Ee),Nn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be),Ze.push(kr[Zt]),Ze.push(Vr[Zt])):Zt===66?(mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),dn=1-Te(xt,be,fe),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===104?(mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),dn=Te(Bt,fe,be),Ze.push(kr[Zt]),Ze.push(Xi[Zt])):Zt===144?(fn=Te(xt,Ee,be),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe),Ze.push(br[Zt]),Ze.push(Fr[Zt])):Zt===26?(fn=1-Te(Bt,be,Ee),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),An=Te(xt,fe,be),Ze.push(br[Zt]),Ze.push(Fr[Zt])):Zt===36?(Sn=Te(Bt,Ee,be),mn=Te(xt,_e,Ee),dn=Te(xt,fe,be),An=Te(Bt,fe,be),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===134?(Sn=1-Te(xt,be,Ee),mn=1-Te(Bt,Ee,_e),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===9?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Nn=1-Te(xt,fe,_e),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===161?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Nn=Te(Bt,_e,fe),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===37?(Sn=Te(Bt,Ee,be),Nn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be),Ze.push(vr[Zt]),Ze.push(Vr[Zt])):Zt===133?(Sn=1-Te(xt,be,Ee),Nn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe),Ze.push(vr[Zt]),Ze.push(Vr[Zt])):Zt===148?(mn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe),Ze.push(Rr[Zt]),Ze.push(Fr[Zt])):Zt===22?(mn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),An=Te(xt,fe,be),Ze.push(Rr[Zt]),Ze.push(Fr[Zt])):Zt===82?(fn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),Ze.push(br[Zt]),Ze.push(kr[Zt])):Zt===88?(fn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),Ze.push(br[Zt]),Ze.push(kr[Zt])):Zt===73?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),dn=1-Te(xt,be,fe),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===97?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),dn=Te(Bt,fe,be),Ze.push(br[Zt]),Ze.push(vr[Zt])):Zt===145?(fn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Nn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe),Ze.push(br[Zt]),Ze.push(Vr[Zt])):Zt===25?(fn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Nn=1-Te(xt,fe,_e),An=Te(xt,fe,be),Ze.push(br[Zt]),Ze.push(Vr[Zt])):Zt===70?(Sn=1-Te(xt,be,Ee),mn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),dn=1-Te(xt,be,fe),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===100?(Sn=Te(Bt,Ee,be),mn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),dn=Te(Bt,fe,be),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===34?(cn===0?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)):(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(Vr[Zt]),Ze.push(Fr[Zt])):Zt===35?(cn===4?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)):(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(kr[Zt]),Ze.push(Fr[Zt])):Zt===136?(cn===0?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)):(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(Vr[Zt]),Ze.push(Fr[Zt])):Zt===153?(cn===0?(fn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Nn=1-Te(xt,fe,_e),An=Te(xt,fe,be)):(fn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Nn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe)),Ze.push(br[Zt]),Ze.push(kr[Zt])):Zt===102?(cn===0?(Sn=1-Te(xt,be,Ee),mn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),dn=1-Te(xt,be,fe)):(Sn=Te(Bt,Ee,be),mn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),dn=Te(Bt,fe,be)),Ze.push(vr[Zt]),Ze.push(Fr[Zt])):Zt===155?(cn===4?(fn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Nn=1-Te(xt,fe,_e),An=Te(xt,fe,be)):(fn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Nn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe)),Ze.push(br[Zt]),Ze.push(Vr[Zt])):Zt===103?(cn===4?(Sn=1-Te(xt,be,Ee),mn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),dn=1-Te(xt,be,fe)):(Sn=Te(Bt,Ee,be),mn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),dn=Te(Bt,fe,be)),Ze.push(vr[Zt]),Ze.push(Rr[Zt])):Zt===152?(cn===0?(fn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),An=Te(xt,fe,be)):(fn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe)),Ze.push(br[Zt]),Ze.push(Rr[Zt]),Ze.push(kr[Zt])):Zt===156?(cn===4?(fn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),An=Te(xt,fe,be)):(fn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),An=1-Te(Bt,be,fe)),Ze.push(br[Zt]),Ze.push(kr[Zt]),Ze.push(Fr[Zt])):Zt===137?(cn===0?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Nn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)):(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Nn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(kr[Zt])):Zt===139?(cn===4?(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),yn=1-Te(xt,Ee,_e),Nn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)):(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),yn=Te(Bt,_e,Ee),Nn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(Vr[Zt])):Zt===98?(cn===0?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),dn=1-Te(xt,be,fe)):(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),dn=Te(Bt,fe,be)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(Fr[Zt])):Zt===99?(cn===4?(fn=1-Te(xt,be,Ee),Sn=1-Te(Bt,be,Ee),mn=Te(Bt,_e,Ee),yn=Te(xt,_e,Ee),bn=Te(xt,_e,fe),dn=1-Te(xt,be,fe)):(fn=Te(Bt,Ee,be),Sn=Te(xt,Ee,be),mn=1-Te(xt,Ee,_e),yn=1-Te(Bt,Ee,_e),bn=1-Te(Bt,fe,_e),dn=Te(Bt,fe,be)),Ze.push(br[Zt]),Ze.push(vr[Zt]),Ze.push(kr[Zt])):Zt===38?(cn===0?(Sn=1-Te(xt,be,Ee),mn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)):(Sn=Te(Bt,Ee,be),mn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)),Ze.push(vr[Zt]),Ze.push(Vr[Zt]),Ze.push(Fr[Zt])):Zt===39?(cn===4?(Sn=1-Te(xt,be,Ee),mn=Te(xt,_e,Ee),Nn=Te(xt,_e,fe),bn=Te(Bt,_e,fe),dn=1-Te(Bt,be,fe),An=1-Te(xt,be,fe)):(Sn=Te(Bt,Ee,be),mn=1-Te(Bt,Ee,_e),Nn=1-Te(Bt,fe,_e),bn=1-Te(xt,fe,_e),dn=Te(xt,fe,be),An=Te(Bt,fe,be)),Ze.push(vr[Zt]),Ze.push(Rr[Zt]),Ze.push(Fr[Zt])):Zt===85&&(fn=1,Sn=0,mn=1,yn=0,Nn=0,bn=1,dn=0,An=1),(dn<0||dn>1||An<0||An>1||fn<0||fn>1||mn<0||mn>1||Nn<0||Nn>1||bn<0||bn>1)&&console.log("MarchingSquaresJS-isoBands: "+Zt+" "+wn+" "+fe+","+be+","+Ee+","+_e+" "+cn+" "+dn+" "+An+" "+fn+" "+Sn+" "+mn+" "+yn+" "+Nn+" "+bn),ee.cells[me][Ie]={cval:Zt,cval_real:wn,flipped:cn,topleft:dn,topright:An,righttop:fn,rightbottom:Sn,bottomright:mn,bottomleft:yn,leftbottom:Nn,lefttop:bn,edges:Ze}}}}}return ee}(B,U,G);return Ul.polygons?(Ul.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),yt=function(Tt){var xt=[],It=0;return Tt.cells.forEach(function(Gt,Wt){Gt.forEach(function(ee,Bt){if(ee!==void 0){var me=cr[ee.cval](ee);typeof me=="object"&&xg(me)?typeof me[0]=="object"&&xg(me[0])?typeof me[0][0]=="object"&&xg(me[0][0])?me.forEach(function(Ie){Ie.forEach(function(Zt){Zt[0]+=Bt,Zt[1]+=Wt}),xt[It++]=Ie}):(me.forEach(function(Ie){Ie[0]+=Bt,Ie[1]+=Wt}),xt[It++]=me):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),xt}(vt)):(Ul.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),yt=function(Tt){for(var xt=[],It=Tt.rows,Gt=Tt.cols,Wt=[],ee=0;ee<It;ee++)for(var Bt=0;Bt<Gt;Bt++)if(Tt.cells[ee][Bt]!==void 0&&Tt.cells[ee][Bt].edges.length>0){var me=hf(Tt.cells[ee][Bt]),Ie=null,Zt=Bt,fe=ee;me!==null&&Wt.push([me.p[0]+Zt,me.p[1]+fe]);do{if((Ie=H1(Tt.cells[fe][Zt],me.x,me.y,me.o))===null)break;if(Wt.push([Ie.p[0]+Zt,Ie.p[1]+fe]),Zt+=Ie.x,me=Ie,(fe+=Ie.y)<0||fe>=It||Zt<0||Zt>=Gt||Tt.cells[fe][Zt]===void 0){var be=Y1(Tt,Zt-=Ie.x,fe-=Ie.y,Ie.x,Ie.y,Ie.o);if(be===null)break;be.path.forEach(function(Ee){Wt.push(Ee)}),Zt=be.i,fe=be.j,me=be}}while(Tt.cells[fe][Zt]!==void 0&&Tt.cells[fe][Zt].edges.length>0);xt.push(Wt),Wt=[],Tt.cells[ee][Bt].edges.length>0&&Bt--}return xt}(vt)),typeof Ul.successCallback=="function"&&Ul.successCallback(yt),yt}var bs=64,uc=16,di=[],ji=[],Ai=[],bi=[],_i=[],Bi=[],$i=[],Ni=[],wi=[],Fi=[],Ui=[],Yi=[],Hi=[],Wr=[],Di=[],Ii=[],Vi=[],ui=[],Gi=[],Wi=[],qi=[],xi=[],Qi=[],Li=[];$i[85]=Fi[85]=-1,Ni[85]=Ui[85]=0,wi[85]=Yi[85]=1,Gi[85]=xi[85]=1,Wi[85]=Qi[85]=0,qi[85]=Li[85]=1,di[85]=bi[85]=0,ji[85]=_i[85]=-1,Ai[85]=Di[85]=0,Ii[85]=Hi[85]=0,Vi[85]=Wr[85]=1,Bi[85]=ui[85]=1,xi[1]=xi[169]=0,Qi[1]=Qi[169]=-1,Li[1]=Li[169]=0,Hi[1]=Hi[169]=-1,Wr[1]=Wr[169]=0,Di[1]=Di[169]=0,Fi[4]=Fi[166]=0,Ui[4]=Ui[166]=-1,Yi[4]=Yi[166]=1,Ii[4]=Ii[166]=1,Vi[4]=Vi[166]=0,ui[4]=ui[166]=0,$i[16]=$i[154]=0,Ni[16]=Ni[154]=1,wi[16]=wi[154]=1,bi[16]=bi[154]=1,_i[16]=_i[154]=0,Bi[16]=Bi[154]=1,Gi[64]=Gi[106]=0,Wi[64]=Wi[106]=1,qi[64]=qi[106]=0,di[64]=di[106]=-1,ji[64]=ji[106]=0,Ai[64]=Ai[106]=1,Gi[2]=Gi[168]=0,Wi[2]=Wi[168]=-1,qi[2]=qi[168]=1,xi[2]=xi[168]=0,Qi[2]=Qi[168]=-1,Li[2]=Li[168]=0,Hi[2]=Hi[168]=-1,Wr[2]=Wr[168]=0,Di[2]=Di[168]=0,Ii[2]=Ii[168]=-1,Vi[2]=Vi[168]=0,ui[2]=ui[168]=1,$i[8]=$i[162]=0,Ni[8]=Ni[162]=-1,wi[8]=wi[162]=0,Fi[8]=Fi[162]=0,Ui[8]=Ui[162]=-1,Yi[8]=Yi[162]=1,Hi[8]=Hi[162]=1,Wr[8]=Wr[162]=0,Di[8]=Di[162]=1,Ii[8]=Ii[162]=1,Vi[8]=Vi[162]=0,ui[8]=ui[162]=0,$i[32]=$i[138]=0,Ni[32]=Ni[138]=1,wi[32]=wi[138]=1,Fi[32]=Fi[138]=0,Ui[32]=Ui[138]=1,Yi[32]=Yi[138]=0,di[32]=di[138]=1,ji[32]=ji[138]=0,Ai[32]=Ai[138]=0,bi[32]=bi[138]=1,_i[32]=_i[138]=0,Bi[32]=Bi[138]=1,xi[128]=xi[42]=0,Qi[128]=Qi[42]=1,Li[128]=Li[42]=1,Gi[128]=Gi[42]=0,Wi[128]=Wi[42]=1,qi[128]=qi[42]=0,di[128]=di[42]=-1,ji[128]=ji[42]=0,Ai[128]=Ai[42]=1,bi[128]=bi[42]=-1,_i[128]=_i[42]=0,Bi[128]=Bi[42]=0,Fi[5]=Fi[165]=-1,Ui[5]=Ui[165]=0,Yi[5]=Yi[165]=0,xi[5]=xi[165]=1,Qi[5]=Qi[165]=0,Li[5]=Li[165]=0,Ii[20]=Ii[150]=0,Vi[20]=Vi[150]=1,ui[20]=ui[150]=1,bi[20]=bi[150]=0,_i[20]=_i[150]=-1,Bi[20]=Bi[150]=1,$i[80]=$i[90]=-1,Ni[80]=Ni[90]=0,wi[80]=wi[90]=1,Gi[80]=Gi[90]=1,Wi[80]=Wi[90]=0,qi[80]=qi[90]=1,Hi[65]=Hi[105]=0,Wr[65]=Wr[105]=1,Di[65]=Di[105]=0,di[65]=di[105]=0,ji[65]=ji[105]=-1,Ai[65]=Ai[105]=0,$i[160]=$i[10]=-1,Ni[160]=Ni[10]=0,wi[160]=wi[10]=1,Fi[160]=Fi[10]=-1,Ui[160]=Ui[10]=0,Yi[160]=Yi[10]=0,xi[160]=xi[10]=1,Qi[160]=Qi[10]=0,Li[160]=Li[10]=0,Gi[160]=Gi[10]=1,Wi[160]=Wi[10]=0,qi[160]=qi[10]=1,Ii[130]=Ii[40]=0,Vi[130]=Vi[40]=1,ui[130]=ui[40]=1,Hi[130]=Hi[40]=0,Wr[130]=Wr[40]=1,Di[130]=Di[40]=0,di[130]=di[40]=0,ji[130]=ji[40]=-1,Ai[130]=Ai[40]=0,bi[130]=bi[40]=0,_i[130]=_i[40]=-1,Bi[130]=Bi[40]=1,Fi[37]=Fi[133]=0,Ui[37]=Ui[133]=1,Yi[37]=Yi[133]=1,xi[37]=xi[133]=0,Qi[37]=Qi[133]=1,Li[37]=Li[133]=0,di[37]=di[133]=-1,ji[37]=ji[133]=0,Ai[37]=Ai[133]=0,bi[37]=bi[133]=1,_i[37]=_i[133]=0,Bi[37]=Bi[133]=0,Ii[148]=Ii[22]=-1,Vi[148]=Vi[22]=0,ui[148]=ui[22]=0,xi[148]=xi[22]=0,Qi[148]=Qi[22]=-1,Li[148]=Li[22]=1,Gi[148]=Gi[22]=0,Wi[148]=Wi[22]=1,qi[148]=qi[22]=1,bi[148]=bi[22]=-1,_i[148]=_i[22]=0,Bi[148]=Bi[22]=1,$i[82]=$i[88]=0,Ni[82]=Ni[88]=-1,wi[82]=wi[88]=1,Ii[82]=Ii[88]=1,Vi[82]=Vi[88]=0,ui[82]=ui[88]=1,Hi[82]=Hi[88]=-1,Wr[82]=Wr[88]=0,Di[82]=Di[88]=1,Gi[82]=Gi[88]=0,Wi[82]=Wi[88]=-1,qi[82]=qi[88]=0,$i[73]=$i[97]=0,Ni[73]=Ni[97]=1,wi[73]=wi[97]=0,Fi[73]=Fi[97]=0,Ui[73]=Ui[97]=-1,Yi[73]=Yi[97]=0,Hi[73]=Hi[97]=1,Wr[73]=Wr[97]=0,Di[73]=Di[97]=0,di[73]=di[97]=1,ji[73]=ji[97]=0,Ai[73]=Ai[97]=1,$i[145]=$i[25]=0,Ni[145]=Ni[25]=-1,wi[145]=wi[25]=0,Hi[145]=Hi[25]=1,Wr[145]=Wr[25]=0,Di[145]=Di[25]=1,xi[145]=xi[25]=0,Qi[145]=Qi[25]=1,Li[145]=Li[25]=1,bi[145]=bi[25]=-1,_i[145]=_i[25]=0,Bi[145]=Bi[25]=0,Fi[70]=Fi[100]=0,Ui[70]=Ui[100]=1,Yi[70]=Yi[100]=0,Ii[70]=Ii[100]=-1,Vi[70]=Vi[100]=0,ui[70]=ui[100]=1,Gi[70]=Gi[100]=0,Wi[70]=Wi[100]=-1,qi[70]=qi[100]=1,di[70]=di[100]=1,ji[70]=ji[100]=0,Ai[70]=Ai[100]=0,Fi[101]=Fi[69]=0,Ui[101]=Ui[69]=1,Yi[101]=Yi[69]=0,di[101]=di[69]=1,ji[101]=ji[69]=0,Ai[101]=Ai[69]=0,xi[149]=xi[21]=0,Qi[149]=Qi[21]=1,Li[149]=Li[21]=1,bi[149]=bi[21]=-1,_i[149]=_i[21]=0,Bi[149]=Bi[21]=0,Ii[86]=Ii[84]=-1,Vi[86]=Vi[84]=0,ui[86]=ui[84]=1,Gi[86]=Gi[84]=0,Wi[86]=Wi[84]=-1,qi[86]=qi[84]=1,$i[89]=$i[81]=0,Ni[89]=Ni[81]=-1,wi[89]=wi[81]=0,Hi[89]=Hi[81]=1,Wr[89]=Wr[81]=0,Di[89]=Di[81]=1,$i[96]=$i[74]=0,Ni[96]=Ni[74]=1,wi[96]=wi[74]=0,Fi[96]=Fi[74]=-1,Ui[96]=Ui[74]=0,Yi[96]=Yi[74]=1,Gi[96]=Gi[74]=1,Wi[96]=Wi[74]=0,qi[96]=qi[74]=0,di[96]=di[74]=1,ji[96]=ji[74]=0,Ai[96]=Ai[74]=1,$i[24]=$i[146]=0,Ni[24]=Ni[146]=-1,wi[24]=wi[146]=1,Ii[24]=Ii[146]=1,Vi[24]=Vi[146]=0,ui[24]=ui[146]=1,Hi[24]=Hi[146]=0,Wr[24]=Wr[146]=1,Di[24]=Di[146]=1,bi[24]=bi[146]=0,_i[24]=_i[146]=-1,Bi[24]=Bi[146]=0,Fi[6]=Fi[164]=-1,Ui[6]=Ui[164]=0,Yi[6]=Yi[164]=1,Ii[6]=Ii[164]=-1,Vi[6]=Vi[164]=0,ui[6]=ui[164]=0,xi[6]=xi[164]=0,Qi[6]=Qi[164]=-1,Li[6]=Li[164]=1,Gi[6]=Gi[164]=1,Wi[6]=Wi[164]=0,qi[6]=qi[164]=0,Hi[129]=Hi[41]=0,Wr[129]=Wr[41]=1,Di[129]=Di[41]=1,xi[129]=xi[41]=0,Qi[129]=Qi[41]=1,Li[129]=Li[41]=0,di[129]=di[41]=-1,ji[129]=ji[41]=0,Ai[129]=Ai[41]=0,bi[129]=bi[41]=0,_i[129]=_i[41]=-1,Bi[129]=Bi[41]=0,Ii[66]=Ii[104]=0,Vi[66]=Vi[104]=1,ui[66]=ui[104]=0,Hi[66]=Hi[104]=-1,Wr[66]=Wr[104]=0,Di[66]=Di[104]=1,Gi[66]=Gi[104]=0,Wi[66]=Wi[104]=-1,qi[66]=qi[104]=0,di[66]=di[104]=0,ji[66]=ji[104]=-1,Ai[66]=Ai[104]=1,$i[144]=$i[26]=-1,Ni[144]=Ni[26]=0,wi[144]=wi[26]=0,xi[144]=xi[26]=1,Qi[144]=Qi[26]=0,Li[144]=Li[26]=1,Gi[144]=Gi[26]=0,Wi[144]=Wi[26]=1,qi[144]=qi[26]=1,bi[144]=bi[26]=-1,_i[144]=_i[26]=0,Bi[144]=Bi[26]=1,Fi[36]=Fi[134]=0,Ui[36]=Ui[134]=1,Yi[36]=Yi[134]=1,Ii[36]=Ii[134]=0,Vi[36]=Vi[134]=1,ui[36]=ui[134]=0,di[36]=di[134]=0,ji[36]=ji[134]=-1,Ai[36]=Ai[134]=1,bi[36]=bi[134]=1,_i[36]=_i[134]=0,Bi[36]=Bi[134]=0,$i[9]=$i[161]=-1,Ni[9]=Ni[161]=0,wi[9]=wi[161]=0,Fi[9]=Fi[161]=0,Ui[9]=Ui[161]=-1,Yi[9]=Yi[161]=0,Hi[9]=Hi[161]=1,Wr[9]=Wr[161]=0,Di[9]=Di[161]=0,xi[9]=xi[161]=1,Qi[9]=Qi[161]=0,Li[9]=Li[161]=1,$i[136]=0,Ni[136]=1,wi[136]=1,Fi[136]=0,Ui[136]=1,Yi[136]=0,Ii[136]=-1,Vi[136]=0,ui[136]=1,Hi[136]=-1,Wr[136]=0,Di[136]=0,xi[136]=0,Qi[136]=-1,Li[136]=0,Gi[136]=0,Wi[136]=-1,qi[136]=1,di[136]=1,ji[136]=0,Ai[136]=0,bi[136]=1,_i[136]=0,Bi[136]=1,$i[34]=0,Ni[34]=-1,wi[34]=0,Fi[34]=0,Ui[34]=-1,Yi[34]=1,Ii[34]=1,Vi[34]=0,ui[34]=0,Hi[34]=1,Wr[34]=0,Di[34]=1,xi[34]=0,Qi[34]=1,Li[34]=1,Gi[34]=0,Wi[34]=1,qi[34]=0,di[34]=-1,ji[34]=0,Ai[34]=1,bi[34]=-1,_i[34]=0,Bi[34]=0,$i[35]=0,Ni[35]=1,wi[35]=1,Fi[35]=0,Ui[35]=-1,Yi[35]=1,Ii[35]=1,Vi[35]=0,ui[35]=0,Hi[35]=-1,Wr[35]=0,Di[35]=0,xi[35]=0,Qi[35]=-1,Li[35]=0,Gi[35]=0,Wi[35]=1,qi[35]=0,di[35]=-1,ji[35]=0,Ai[35]=1,bi[35]=1,_i[35]=0,Bi[35]=1,$i[153]=0,Ni[153]=1,wi[153]=1,Hi[153]=-1,Wr[153]=0,Di[153]=0,xi[153]=0,Qi[153]=-1,Li[153]=0,bi[153]=1,_i[153]=0,Bi[153]=1,Fi[102]=0,Ui[102]=-1,Yi[102]=1,Ii[102]=1,Vi[102]=0,ui[102]=0,Gi[102]=0,Wi[102]=1,qi[102]=0,di[102]=-1,ji[102]=0,Ai[102]=1,$i[155]=0,Ni[155]=-1,wi[155]=0,Hi[155]=1,Wr[155]=0,Di[155]=1,xi[155]=0,Qi[155]=1,Li[155]=1,bi[155]=-1,_i[155]=0,Bi[155]=0,Fi[103]=0,Ui[103]=1,Yi[103]=0,Ii[103]=-1,Vi[103]=0,ui[103]=1,Gi[103]=0,Wi[103]=-1,qi[103]=1,di[103]=1,ji[103]=0,Ai[103]=0,$i[152]=0,Ni[152]=1,wi[152]=1,Ii[152]=-1,Vi[152]=0,ui[152]=1,Hi[152]=-1,Wr[152]=0,Di[152]=0,xi[152]=0,Qi[152]=-1,Li[152]=0,Gi[152]=0,Wi[152]=-1,qi[152]=1,bi[152]=1,_i[152]=0,Bi[152]=1,$i[156]=0,Ni[156]=-1,wi[156]=1,Ii[156]=1,Vi[156]=0,ui[156]=1,Hi[156]=-1,Wr[156]=0,Di[156]=0,xi[156]=0,Qi[156]=-1,Li[156]=0,Gi[156]=0,Wi[156]=1,qi[156]=1,bi[156]=-1,_i[156]=0,Bi[156]=1,$i[137]=0,Ni[137]=1,wi[137]=1,Fi[137]=0,Ui[137]=1,Yi[137]=0,Hi[137]=-1,Wr[137]=0,Di[137]=0,xi[137]=0,Qi[137]=-1,Li[137]=0,di[137]=1,ji[137]=0,Ai[137]=0,bi[137]=1,_i[137]=0,Bi[137]=1,$i[139]=0,Ni[139]=1,wi[139]=1,Fi[139]=0,Ui[139]=-1,Yi[139]=0,Hi[139]=1,Wr[139]=0,Di[139]=0,xi[139]=0,Qi[139]=1,Li[139]=0,di[139]=-1,ji[139]=0,Ai[139]=0,bi[139]=1,_i[139]=0,Bi[139]=1,$i[98]=0,Ni[98]=-1,wi[98]=0,Fi[98]=0,Ui[98]=-1,Yi[98]=1,Ii[98]=1,Vi[98]=0,ui[98]=0,Hi[98]=1,Wr[98]=0,Di[98]=1,Gi[98]=0,Wi[98]=1,qi[98]=0,di[98]=-1,ji[98]=0,Ai[98]=1,$i[99]=0,Ni[99]=1,wi[99]=0,Fi[99]=0,Ui[99]=-1,Yi[99]=1,Ii[99]=1,Vi[99]=0,ui[99]=0,Hi[99]=-1,Wr[99]=0,Di[99]=1,Gi[99]=0,Wi[99]=-1,qi[99]=0,di[99]=1,ji[99]=0,Ai[99]=1,Fi[38]=0,Ui[38]=-1,Yi[38]=1,Ii[38]=1,Vi[38]=0,ui[38]=0,xi[38]=0,Qi[38]=1,Li[38]=1,Gi[38]=0,Wi[38]=1,qi[38]=0,di[38]=-1,ji[38]=0,Ai[38]=1,bi[38]=-1,_i[38]=0,Bi[38]=0,Fi[39]=0,Ui[39]=1,Yi[39]=1,Ii[39]=-1,Vi[39]=0,ui[39]=0,xi[39]=0,Qi[39]=-1,Li[39]=1,Gi[39]=0,Wi[39]=1,qi[39]=0,di[39]=-1,ji[39]=0,Ai[39]=1,bi[39]=1,_i[39]=0,Bi[39]=0;var gg=function(B){return[[B.bottomleft,0],[0,0],[0,B.leftbottom]]},mg=function(B){return[[1,B.rightbottom],[1,0],[B.bottomright,0]]},hp=function(B){return[[B.topright,1],[1,1],[1,B.righttop]]},yg=function(B){return[[0,B.lefttop],[0,1],[B.topleft,1]]},vg=function(B){return[[B.bottomright,0],[B.bottomleft,0],[0,B.leftbottom],[0,B.lefttop]]},bg=function(B){return[[B.bottomright,0],[B.bottomleft,0],[1,B.righttop],[1,B.rightbottom]]},_g=function(B){return[[1,B.righttop],[1,B.rightbottom],[B.topleft,1],[B.topright,1]]},wg=function(B){return[[0,B.leftbottom],[0,B.lefttop],[B.topleft,1],[B.topright,1]]},br=[],vr=[],Rr=[],kr=[],Vr=[],Fr=[],Xi=[],Oi=[];kr[1]=Vr[1]=18,kr[169]=Vr[169]=18,Rr[4]=vr[4]=12,Rr[166]=vr[166]=12,br[16]=Oi[16]=4,br[154]=Oi[154]=4,Fr[64]=Xi[64]=22,Fr[106]=Xi[106]=22,Rr[2]=Fr[2]=17,kr[2]=Vr[2]=18,Rr[168]=Fr[168]=17,kr[168]=Vr[168]=18,br[8]=kr[8]=9,vr[8]=Rr[8]=12,br[162]=kr[162]=9,vr[162]=Rr[162]=12,br[32]=Oi[32]=4,vr[32]=Xi[32]=1,br[138]=Oi[138]=4,vr[138]=Xi[138]=1,Vr[128]=Oi[128]=21,Fr[128]=Xi[128]=22,Vr[42]=Oi[42]=21,Fr[42]=Xi[42]=22,vr[5]=Vr[5]=14,vr[165]=Vr[165]=14,Rr[20]=Oi[20]=6,Rr[150]=Oi[150]=6,br[80]=Fr[80]=11,br[90]=Fr[90]=11,kr[65]=Xi[65]=3,kr[105]=Xi[105]=3,br[160]=Fr[160]=11,vr[160]=Vr[160]=14,br[10]=Fr[10]=11,vr[10]=Vr[10]=14,Rr[130]=Oi[130]=6,kr[130]=Xi[130]=3,Rr[40]=Oi[40]=6,kr[40]=Xi[40]=3,vr[101]=Xi[101]=1,vr[69]=Xi[69]=1,Vr[149]=Oi[149]=21,Vr[21]=Oi[21]=21,Rr[86]=Fr[86]=17,Rr[84]=Fr[84]=17,br[89]=kr[89]=9,br[81]=kr[81]=9,br[96]=Xi[96]=0,vr[96]=Fr[96]=15,br[74]=Xi[74]=0,vr[74]=Fr[74]=15,br[24]=Rr[24]=8,kr[24]=Oi[24]=7,br[146]=Rr[146]=8,kr[146]=Oi[146]=7,vr[6]=Fr[6]=15,Rr[6]=Vr[6]=16,vr[164]=Fr[164]=15,Rr[164]=Vr[164]=16,kr[129]=Oi[129]=7,Vr[129]=Xi[129]=20,kr[41]=Oi[41]=7,Vr[41]=Xi[41]=20,Rr[66]=Xi[66]=2,kr[66]=Fr[66]=19,Rr[104]=Xi[104]=2,kr[104]=Fr[104]=19,br[144]=Vr[144]=10,Fr[144]=Oi[144]=23,br[26]=Vr[26]=10,Fr[26]=Oi[26]=23,vr[36]=Oi[36]=5,Rr[36]=Xi[36]=2,vr[134]=Oi[134]=5,Rr[134]=Xi[134]=2,br[9]=Vr[9]=10,vr[9]=kr[9]=13,br[161]=Vr[161]=10,vr[161]=kr[161]=13,vr[37]=Oi[37]=5,Vr[37]=Xi[37]=20,vr[133]=Oi[133]=5,Vr[133]=Xi[133]=20,Rr[148]=Vr[148]=16,Fr[148]=Oi[148]=23,Rr[22]=Vr[22]=16,Fr[22]=Oi[22]=23,br[82]=Rr[82]=8,kr[82]=Fr[82]=19,br[88]=Rr[88]=8,kr[88]=Fr[88]=19,br[73]=Xi[73]=0,vr[73]=kr[73]=13,br[97]=Xi[97]=0,vr[97]=kr[97]=13,br[145]=kr[145]=9,Vr[145]=Oi[145]=21,br[25]=kr[25]=9,Vr[25]=Oi[25]=21,vr[70]=Xi[70]=1,Rr[70]=Fr[70]=17,vr[100]=Xi[100]=1,Rr[100]=Fr[100]=17,br[34]=kr[34]=9,vr[34]=Rr[34]=12,Vr[34]=Oi[34]=21,Fr[34]=Xi[34]=22,br[136]=Oi[136]=4,vr[136]=Xi[136]=1,Rr[136]=Fr[136]=17,kr[136]=Vr[136]=18,br[35]=Oi[35]=4,vr[35]=Rr[35]=12,kr[35]=Vr[35]=18,Fr[35]=Xi[35]=22,br[153]=Oi[153]=4,kr[153]=Vr[153]=18,vr[102]=Rr[102]=12,Fr[102]=Xi[102]=22,br[155]=kr[155]=9,Vr[155]=Oi[155]=23,vr[103]=Xi[103]=1,Rr[103]=Fr[103]=17,br[152]=Oi[152]=4,Rr[152]=Fr[152]=17,kr[152]=Vr[152]=18,br[156]=Rr[156]=8,kr[156]=Vr[156]=18,Fr[156]=Oi[156]=23,br[137]=Oi[137]=4,vr[137]=Xi[137]=1,kr[137]=Vr[137]=18,br[139]=Oi[139]=4,vr[139]=kr[139]=13,Vr[139]=Xi[139]=20,br[98]=kr[98]=9,vr[98]=Rr[98]=12,Fr[98]=Xi[98]=22,br[99]=Xi[99]=0,vr[99]=Rr[99]=12,kr[99]=Fr[99]=19,vr[38]=Rr[38]=12,Vr[38]=Oi[38]=21,Fr[38]=Xi[38]=22,vr[39]=Oi[39]=5,Rr[39]=Vr[39]=16,Fr[39]=Xi[39]=22;var cr=[];function Te(B,U,G){return(B-U)/(G-U)}function xg(B){return B.constructor.toString().indexOf("Array")>-1}function Y1(B,U,G,Q,J,rt){for(var at=B.cells[G][U],ft=at.cval_real,yt=U+Q,vt=G+J,Tt=[],xt=!1;!xt;){if(B.cells[vt]===void 0||B.cells[vt][yt]===void 0)if(vt-=J,yt-=Q,ft=(at=B.cells[vt][yt]).cval_real,J===-1)if(rt===0)if(1&ft)Tt.push([yt,vt]),Q=-1,J=0,rt=0;else{if(!(4&ft)){Tt.push([yt+at.bottomright,vt]),Q=0,J=1,rt=1,xt=!0;break}Tt.push([yt+1,vt]),Q=1,J=0,rt=0}else{if(!(1&ft)){if(4&ft){Tt.push([yt+at.bottomright,vt]),Q=0,J=1,rt=1,xt=!0;break}Tt.push([yt+at.bottomleft,vt]),Q=0,J=1,rt=0,xt=!0;break}Tt.push([yt,vt]),Q=-1,J=0,rt=0}else if(J===1)if(rt===0){if(!(ft&uc)){if(ft&bs){Tt.push([yt+at.topleft,vt+1]),Q=0,J=-1,rt=0,xt=!0;break}Tt.push([yt+at.topright,vt+1]),Q=0,J=-1,rt=1,xt=!0;break}Tt.push([yt+1,vt+1]),Q=1,J=0,rt=1}else Tt.push([yt+1,vt+1]),Q=1,J=0,rt=1;else if(Q===-1)if(rt===0){if(!(ft&bs)){if(1&ft){Tt.push([yt,vt+at.leftbottom]),Q=1,J=0,rt=0,xt=!0;break}Tt.push([yt,vt+at.lefttop]),Q=1,J=0,rt=1,xt=!0;break}Tt.push([yt,vt+1]),Q=0,J=1,rt=0}else{if(!(ft&bs)){console.log("MarchingSquaresJS-isoBands: wtf");break}Tt.push([yt,vt+1]),Q=0,J=1,rt=0}else{if(Q!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(rt===0){if(!(4&ft)){Tt.push([yt+1,vt+at.rightbottom]),Q=-1,J=0,rt=0,xt=!0;break}Tt.push([yt+1,vt]),Q=0,J=-1,rt=1}else{if(!(4&ft)){if(ft&uc){Tt.push([yt+1,vt+at.righttop]),Q=-1,J=0,rt=1;break}Tt.push([yt+1,vt+at.rightbottom]),Q=-1,J=0,rt=0,xt=!0;break}Tt.push([yt+1,vt]),Q=0,J=-1,rt=1}}else if(ft=(at=B.cells[vt][yt]).cval_real,Q===-1)if(rt===0)if(B.cells[vt-1]!==void 0&&B.cells[vt-1][yt]!==void 0)Q=0,J=-1,rt=1;else{if(!(1&ft)){Tt.push([yt+at.bottomright,vt]),Q=0,J=1,rt=1,xt=!0;break}Tt.push([yt,vt])}else{if(!(ft&bs)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+yt+","+vt);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(Q===1){if(rt===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(B.cells[vt+1]!==void 0&&B.cells[vt+1][yt]!==void 0)Q=0,J=1,rt=0;else{if(!(ft&uc)){Tt.push([yt+at.topleft,vt+1]),Q=0,J=-1,rt=0,xt=!0;break}Tt.push([yt+1,vt+1]),Q=1,J=0,rt=1}}else if(J===-1){if(rt!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(B.cells[vt][yt+1]!==void 0)Q=1,J=0,rt=1;else{if(!(4&ft)){Tt.push([yt+1,vt+at.righttop]),Q=-1,J=0,rt=1,xt=!0;break}Tt.push([yt+1,vt]),Q=0,J=-1,rt=1}}else{if(J!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(rt!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(B.cells[vt][yt-1]!==void 0)Q=-1,J=0,rt=0;else{if(!(ft&bs)){Tt.push([yt,vt+at.leftbottom]),Q=1,J=0,rt=0,xt=!0;break}Tt.push([yt,vt+1]),Q=0,J=1,rt=0}}if(vt+=J,(yt+=Q)===U&&vt===G)break}return{path:Tt,i:yt,j:vt,x:Q,y:J,o:rt}}function hf(B){if(B.edges.length>0){var U=B.edges[B.edges.length-1],G=B.cval_real;switch(U){case 0:return G&uc?{p:[1,B.righttop],x:-1,y:0,o:1}:{p:[B.topleft,1],x:0,y:-1,o:0};case 1:return 4&G?{p:[B.topleft,1],x:0,y:-1,o:0}:{p:[1,B.rightbottom],x:-1,y:0,o:0};case 2:return 4&G?{p:[B.bottomright,0],x:0,y:1,o:1}:{p:[B.topleft,1],x:0,y:-1,o:0};case 3:return 1&G?{p:[B.topleft,1],x:0,y:-1,o:0}:{p:[B.bottomleft,0],x:0,y:1,o:0};case 4:return G&uc?{p:[1,B.righttop],x:-1,y:0,o:1}:{p:[B.topright,1],x:0,y:-1,o:1};case 5:return 4&G?{p:[B.topright,1],x:0,y:-1,o:1}:{p:[1,B.rightbottom],x:-1,y:0,o:0};case 6:return 4&G?{p:[B.bottomright,0],x:0,y:1,o:1}:{p:[B.topright,1],x:0,y:-1,o:1};case 7:return 1&G?{p:[B.topright,1],x:0,y:-1,o:1}:{p:[B.bottomleft,0],x:0,y:1,o:0};case 8:return 4&G?{p:[B.bottomright,0],x:0,y:1,o:1}:{p:[1,B.righttop],x:-1,y:0,o:1};case 9:return 1&G?{p:[1,B.righttop],x:-1,y:0,o:1}:{p:[B.bottomleft,0],x:0,y:1,o:0};case 10:return 1&G?{p:[0,B.leftbottom],x:1,y:0,o:0}:{p:[1,B.righttop],x:-1,y:0,o:1};case 11:return G&bs?{p:[1,B.righttop],x:-1,y:0,o:1}:{p:[0,B.lefttop],x:1,y:0,o:1};case 12:return 4&G?{p:[B.bottomright,0],x:0,y:1,o:1}:{p:[1,B.rightbottom],x:-1,y:0,o:0};case 13:return 1&G?{p:[1,B.rightbottom],x:-1,y:0,o:0}:{p:[B.bottomleft,0],x:0,y:1,o:0};case 14:return 1&G?{p:[0,B.leftbottom],x:1,y:0,o:0}:{p:[1,B.rightbottom],x:-1,y:0,o:0};case 15:return G&bs?{p:[1,B.rightbottom],x:-1,y:0,o:0}:{p:[0,B.lefttop],x:1,y:0,o:1};case 16:return 4&G?{p:[B.bottomright,0],x:0,y:1,o:1}:{p:[0,B.leftbottom],x:1,y:0,o:0};case 17:return G&bs?{p:[B.bottomright,0],x:0,y:1,o:1}:{p:[0,B.lefttop],x:1,y:0,o:1};case 18:return 1&G?{p:[0,B.leftbottom],x:1,y:0,o:0}:{p:[B.bottomleft,0],x:0,y:1,o:0};case 19:return G&bs?{p:[B.bottomleft,0],x:0,y:1,o:0}:{p:[0,B.lefttop],x:1,y:0,o:1};case 20:return G&bs?{p:[B.topleft,1],x:0,y:-1,o:0}:{p:[0,B.leftbottom],x:1,y:0,o:0};case 21:return G&uc?{p:[0,B.leftbottom],x:1,y:0,o:0}:{p:[B.topright,1],x:0,y:-1,o:1};case 22:return G&bs?{p:[B.topleft,1],x:0,y:-1,o:0}:{p:[0,B.lefttop],x:1,y:0,o:1};case 23:return G&uc?{p:[0,B.lefttop],x:1,y:0,o:1}:{p:[B.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(B)}}return null}function H1(B,U,G,Q){var J,rt,at,ft,yt,vt=B.cval;switch(U){case-1:switch(Q){case 0:J=vr[vt],at=Fi[vt],ft=Ui[vt],yt=Yi[vt];break;default:J=br[vt],at=$i[vt],ft=Ni[vt],yt=wi[vt]}break;case 1:switch(Q){case 0:J=Vr[vt],at=xi[vt],ft=Qi[vt],yt=Li[vt];break;default:J=Fr[vt],at=Gi[vt],ft=Wi[vt],yt=qi[vt]}break;default:switch(G){case-1:switch(Q){case 0:J=Xi[vt],at=di[vt],ft=ji[vt],yt=Ai[vt];break;default:J=Oi[vt],at=bi[vt],ft=_i[vt],yt=Bi[vt]}break;case 1:switch(Q){case 0:J=kr[vt],at=Hi[vt],ft=Wr[vt],yt=Di[vt];break;default:J=Rr[vt],at=Ii[vt],ft=Vi[vt],yt=ui[vt]}}}if(rt=B.edges.indexOf(J),B.edges[rt]===void 0)return null;switch(function(Tt,xt){delete Tt.edges[xt];for(var It=xt+1;It<Tt.edges.length;It++)Tt.edges[It-1]=Tt.edges[It];Tt.edges.pop()}(B,rt),vt=B.cval_real,J){case 0:vt&uc?(U=B.topleft,G=1):(U=1,G=B.righttop);break;case 1:4&vt?(U=1,G=B.rightbottom):(U=B.topleft,G=1);break;case 2:4&vt?(U=B.topleft,G=1):(U=B.bottomright,G=0);break;case 3:1&vt?(U=B.bottomleft,G=0):(U=B.topleft,G=1);break;case 4:vt&uc?(U=B.topright,G=1):(U=1,G=B.righttop);break;case 5:4&vt?(U=1,G=B.rightbottom):(U=B.topright,G=1);break;case 6:4&vt?(U=B.topright,G=1):(U=B.bottomright,G=0);break;case 7:1&vt?(U=B.bottomleft,G=0):(U=B.topright,G=1);break;case 8:4&vt?(U=1,G=B.righttop):(U=B.bottomright,G=0);break;case 9:1&vt?(U=B.bottomleft,G=0):(U=1,G=B.righttop);break;case 10:1&vt?(U=1,G=B.righttop):(U=0,G=B.leftbottom);break;case 11:vt&bs?(U=0,G=B.lefttop):(U=1,G=B.righttop);break;case 12:4&vt?(U=1,G=B.rightbottom):(U=B.bottomright,G=0);break;case 13:1&vt?(U=B.bottomleft,G=0):(U=1,G=B.rightbottom);break;case 14:1&vt?(U=1,G=B.rightbottom):(U=0,G=B.leftbottom);break;case 15:vt&bs?(U=0,G=B.lefttop):(U=1,G=B.rightbottom);break;case 16:4&vt?(U=0,G=B.leftbottom):(U=B.bottomright,G=0);break;case 17:vt&bs?(U=0,G=B.lefttop):(U=B.bottomright,G=0);break;case 18:1&vt?(U=B.bottomleft,G=0):(U=0,G=B.leftbottom);break;case 19:vt&bs?(U=0,G=B.lefttop):(U=B.bottomleft,G=0);break;case 20:vt&bs?(U=0,G=B.leftbottom):(U=B.topleft,G=1);break;case 21:vt&uc?(U=B.topright,G=1):(U=0,G=B.leftbottom);break;case 22:vt&bs?(U=0,G=B.lefttop):(U=B.topleft,G=1);break;case 23:vt&uc?(U=B.topright,G=1):(U=0,G=B.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(B),null}return U!==void 0&&G!==void 0&&at!==void 0&&ft!==void 0&&yt!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(B),console.log(U+" "+G+" "+at+" "+ft+" "+yt)),{p:[U,G],x:at,y:ft,o:yt}}function df(B){var U=[],G=[];B.forEach(function(J){var rt=Uu(nt([J]));G.push(rt),U.push({ring:J,area:rt})}),G.sort(function(J,rt){return rt-J});var Q=[];return G.forEach(function(J){for(var rt=0;rt<U.length;rt++)if(U[rt].area===J){Q.push(U[rt].ring),U.splice(rt,1);break}}),Q}function V1(B){for(var U=B.map(function(ft){return{lrCoordinates:ft,grouped:!1}}),G=[];!G1(U);)for(var Q=0;Q<U.length;Q++)if(!U[Q].grouped){var J=[];J.push(U[Q].lrCoordinates),U[Q].grouped=!0;for(var rt=nt([U[Q].lrCoordinates]),at=Q+1;at<U.length;at++)U[at].grouped||B0(nt([U[at].lrCoordinates]),rt)&&(J.push(U[at].lrCoordinates),U[at].grouped=!0);G.push(J)}return G}function B0(B,U){for(var G=ou(B),Q=0;Q<G.features.length;Q++)if(!Pr(G.features[Q],U))return!1;return!0}function G1(B){for(var U=0;U<B.length;U++)if(B[U].grouped===!1)return!1;return!0}function $0(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.pivot,J=G.mutate;if(!B)throw new Error("geojson is required");if(U==null||isNaN(U))throw new Error("angle is required");return U===0||(Q||(Q=Ta(B)),J!==!1&&J!==void 0||(B=ai(B)),Pt(B,function(rt){var at=fu(Q,rt)+U,ft=Oc(Q,rt),yt=oe(pd(Q,ft,at));rt[0]=yt[0],rt[1]=yt[1]})),B}function F0(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.origin,J=G.mutate;if(!B)throw new Error("geojson required");if(typeof U!="number"||U===0)throw new Error("invalid factor");var rt=Array.isArray(Q)||typeof Q=="object";return J!==!0&&(B=ai(B)),B.type!=="FeatureCollection"||rt?U0(B,U,Q):(ve(B,function(at,ft){B.features[ft]=U0(at,U,Q)}),B)}function U0(B,U,G){var Q=$e(B)==="Point";return G=function(J,rt){if(rt==null&&(rt="centroid"),Array.isArray(rt)||typeof rt=="object")return $t(rt);var at=J.bbox?J.bbox:jt(J),ft=at[0],yt=at[1],vt=at[2],Tt=at[3];switch(rt){case"sw":case"southwest":case"westsouth":case"bottomleft":return X([ft,yt]);case"se":case"southeast":case"eastsouth":case"bottomright":return X([vt,yt]);case"nw":case"northwest":case"westnorth":case"topleft":return X([ft,Tt]);case"ne":case"northeast":case"eastnorth":case"topright":return X([vt,Tt]);case"center":return ko(J);case void 0:case null:case"centroid":return Ta(J);default:throw new Error("invalid origin")}}(B,G),U===1||Q||Pt(B,function(J){var rt=Oc(G,J),at=fu(G,J),ft=oe(pd(G,rt*U,at));J[0]=ft[0],J[1]=ft[1],J.length===3&&(J[2]*=U)}),B}function gd(B){var U=B[0],G=B[1];return[G[0]-U[0],G[1]-U[1]]}function ff(B,U){return B[0]*U[1]-U[0]*B[1]}function Eg(B,U){return!function(G,Q){return ff(gd(G),gd(Q))===0}(B,U)&&function(G,Q){var J,rt,at=G[0],ft=gd(G),yt=Q[0],vt=gd(Q),Tt=ff(ft,vt);return function(xt,It){return[xt[0]+It[0],xt[1]+It[1]]}(at,function(xt,It){return[xt*It[0],xt*It[1]]}(ff((rt=at,[(J=yt)[0]-rt[0],J[1]-rt[1]]),vt)/Tt,ft))}(B,U)}function md(B,U,G){var Q=[],J=Ft(U,G),rt=oe(B),at=[];return rt.forEach(function(ft,yt){if(yt!==rt.length-1){var vt=(It=ft,Gt=rt[yt+1],Wt=J,ee=Math.sqrt((It[0]-Gt[0])*(It[0]-Gt[0])+(It[1]-Gt[1])*(It[1]-Gt[1])),Bt=It[0]+Wt*(Gt[1]-It[1])/ee,me=Gt[0]+Wt*(Gt[1]-It[1])/ee,Ie=It[1]+Wt*(It[0]-Gt[0])/ee,Zt=Gt[1]+Wt*(It[0]-Gt[0])/ee,[[Bt,Ie],[me,Zt]]);if(Q.push(vt),yt>0){var Tt=Q[yt-1],xt=Eg(vt,Tt);xt!==!1&&(Tt[1]=xt,vt[0]=xt),at.push(Tt[0]),yt===rt.length-2&&(at.push(vt[0]),at.push(vt[1]))}rt.length===2&&(at.push(vt[0]),at.push(vt[1]))}var It,Gt,Wt,ee,Bt,me,Ie,Zt}),ct(at,B.properties)}function Mg(B,U,G){var Q=U[0]-B[0],J=U[1]-B[1],rt=G[0]-U[0];return function(at){return(at>0)-(at<0)||+at}(Q*(G[1]-U[1])-rt*J)}function Tg(B,U){return U.geometry.coordinates[0].every(function(G){return Pr(X(G),B)})}cr[1]=cr[169]=gg,cr[4]=cr[166]=mg,cr[16]=cr[154]=hp,cr[64]=cr[106]=yg,cr[168]=cr[2]=vg,cr[162]=cr[8]=bg,cr[138]=cr[32]=_g,cr[42]=cr[128]=wg,cr[5]=cr[165]=function(B){return[[0,0],[0,B.leftbottom],[1,B.rightbottom],[1,0]]},cr[20]=cr[150]=function(B){return[[1,0],[B.bottomright,0],[B.topright,1],[1,1]]},cr[80]=cr[90]=function(B){return[[1,1],[1,B.righttop],[0,B.lefttop],[0,1]]},cr[65]=cr[105]=function(B){return[[B.bottomleft,0],[0,0],[0,1],[B.topleft,1]]},cr[160]=cr[10]=function(B){return[[1,B.righttop],[1,B.rightbottom],[0,B.leftbottom],[0,B.lefttop]]},cr[130]=cr[40]=function(B){return[[B.topleft,1],[B.topright,1],[B.bottomright,0],[B.bottomleft,0]]},cr[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},cr[101]=cr[69]=function(B){return[[1,B.rightbottom],[1,0],[0,0],[0,1],[B.topleft,1]]},cr[149]=cr[21]=function(B){return[[B.topright,1],[1,1],[1,0],[0,0],[0,B.leftbottom]]},cr[86]=cr[84]=function(B){return[[1,0],[B.bottomright,0],[0,B.lefttop],[0,1],[1,1]]},cr[89]=cr[81]=function(B){return[[1,1],[1,B.righttop],[B.bottomleft,0],[0,0],[0,1]]},cr[96]=cr[74]=function(B){return[[1,B.righttop],[1,B.rightbottom],[0,B.lefttop],[0,1],[B.topleft,1]]},cr[24]=cr[146]=function(B){return[[1,1],[1,B.righttop],[B.bottomright,0],[B.bottomleft,0],[B.topright,1]]},cr[6]=cr[164]=function(B){return[[1,B.rightbottom],[1,0],[B.bottomright,0],[0,B.leftbottom],[0,B.lefttop]]},cr[129]=cr[41]=function(B){return[[B.topright,1],[B.bottomleft,0],[0,0],[0,B.leftbottom],[B.topleft,1]]},cr[66]=cr[104]=function(B){return[[B.bottomright,0],[B.bottomleft,0],[0,B.lefttop],[0,1],[B.topleft,1]]},cr[144]=cr[26]=function(B){return[[1,1],[1,B.righttop],[0,B.leftbottom],[0,B.lefttop],[B.topright,1]]},cr[36]=cr[134]=function(B){return[[1,B.rightbottom],[1,0],[B.bottomright,0],[B.topleft,1],[B.topright,1]]},cr[9]=cr[161]=function(B){return[[1,B.righttop],[1,B.rightbottom],[B.bottomleft,0],[0,0],[0,B.leftbottom]]},cr[37]=cr[133]=function(B){return[[1,B.rightbottom],[1,0],[0,0],[0,B.leftbottom],[B.topleft,1],[B.topright,1]]},cr[148]=cr[22]=function(B){return[[1,1],[1,0],[B.bottomright,0],[0,B.leftbottom],[0,B.lefttop],[B.topright,1]]},cr[82]=cr[88]=function(B){return[[1,1],[1,B.righttop],[B.bottomright,0],[B.bottomleft,0],[0,B.lefttop],[0,1]]},cr[73]=cr[97]=function(B){return[[1,B.righttop],[1,B.rightbottom],[B.bottomleft,0],[0,0],[0,1],[B.topleft,1]]},cr[145]=cr[25]=function(B){return[[1,1],[1,B.righttop],[B.bottomleft,0],[0,0],[0,B.leftbottom],[B.topright,1]]},cr[70]=cr[100]=function(B){return[[1,B.rightbottom],[1,0],[B.bottomright,0],[0,B.lefttop],[0,1],[B.topleft,1]]},cr[34]=function(B){return[wg(B),bg(B)]},cr[35]=function(B){return[[1,B.righttop],[1,B.rightbottom],[B.bottomright,0],[B.bottomleft,0],[0,B.leftbottom],[0,B.lefttop],[B.topleft,1],[B.topright,1]]},cr[136]=function(B){return[_g(B),vg(B)]},cr[153]=function(B){return[hp(B),gg(B)]},cr[102]=function(B){return[mg(B),yg(B)]},cr[155]=function(B){return[[1,1],[1,B.righttop],[B.bottomleft,0],[0,0],[0,B.leftbottom],[B.topright,1]]},cr[103]=function(B){return[[1,B.rightbottom],[1,0],[B.bottomright,0],[0,B.lefttop],[0,1],[B.topleft,1]]},cr[152]=function(B){return[hp(B),vg(B)]},cr[156]=function(B){return[[1,1],[1,B.righttop],[B.bottomright,0],[B.bottomleft,0],[0,B.leftbottom],[0,B.lefttop],[B.topright,1]]},cr[137]=function(B){return[_g(B),gg(B)]},cr[139]=function(B){return[[1,B.righttop],[1,B.rightbottom],[B.bottomleft,0],[0,0],[0,B.leftbottom],[B.topleft,1],[B.topright,1]]},cr[98]=function(B){return[bg(B),yg(B)]},cr[99]=function(B){return[[1,B.righttop],[1,B.rightbottom],[B.bottomright,0],[B.bottomleft,0],[0,B.lefttop],[0,1],[B.topleft,1]]},cr[38]=function(B){return[mg(B),wg(B)]},cr[39]=function(B){return[[1,B.rightbottom],[1,0],[B.bottomright,0],[0,B.leftbottom],[0,B.lefttop],[B.topleft,1],[B.topright,1]]};var dp=function(){function B(U){this.id=B.buildId(U),this.coordinates=U,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return B.buildId=function(U){return U.join(",")},B.prototype.removeInnerEdge=function(U){this.innerEdges=this.innerEdges.filter(function(G){return G.from.id!==U.from.id})},B.prototype.removeOuterEdge=function(U){this.outerEdges=this.outerEdges.filter(function(G){return G.to.id!==U.to.id})},B.prototype.addOuterEdge=function(U){this.outerEdges.push(U),this.outerEdgesSorted=!1},B.prototype.sortOuterEdges=function(){var U=this;this.outerEdgesSorted||(this.outerEdges.sort(function(G,Q){var J=G.to,rt=Q.to;if(J.coordinates[0]-U.coordinates[0]>=0&&rt.coordinates[0]-U.coordinates[0]<0)return 1;if(J.coordinates[0]-U.coordinates[0]<0&&rt.coordinates[0]-U.coordinates[0]>=0)return-1;if(J.coordinates[0]-U.coordinates[0]==0&&rt.coordinates[0]-U.coordinates[0]==0)return J.coordinates[1]-U.coordinates[1]>=0||rt.coordinates[1]-U.coordinates[1]>=0?J.coordinates[1]-rt.coordinates[1]:rt.coordinates[1]-J.coordinates[1];var at=Mg(U.coordinates,J.coordinates,rt.coordinates);return at<0?1:at>0?-1:Math.pow(J.coordinates[0]-U.coordinates[0],2)+Math.pow(J.coordinates[1]-U.coordinates[1],2)-(Math.pow(rt.coordinates[0]-U.coordinates[0],2)+Math.pow(rt.coordinates[1]-U.coordinates[1],2))}),this.outerEdgesSorted=!0)},B.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},B.prototype.getOuterEdge=function(U){return this.sortOuterEdges(),this.outerEdges[U]},B.prototype.addInnerEdge=function(U){this.innerEdges.push(U)},B}(),Sg=function(){function B(U,G){this.from=U,this.to=G,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return B.prototype.getSymetric=function(){return this.symetric||(this.symetric=new B(this.to,this.from),this.symetric.symetric=this),this.symetric},B.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},B.prototype.isEqual=function(U){return this.from.id===U.from.id&&this.to.id===U.to.id},B.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},B.prototype.toLineString=function(){return ct([this.from.coordinates,this.to.coordinates])},B.prototype.compareTo=function(U){return Mg(U.from.coordinates,U.to.coordinates,this.to.coordinates)},B}(),ha=function(){function B(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return B.prototype.push=function(U){this.edges.push(U),this.polygon=this.envelope=void 0},B.prototype.get=function(U){return this.edges[U]},Object.defineProperty(B.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),B.prototype.forEach=function(U){this.edges.forEach(U)},B.prototype.map=function(U){return this.edges.map(U)},B.prototype.some=function(U){return this.edges.some(U)},B.prototype.isValid=function(){return!0},B.prototype.isHole=function(){var U=this,G=this.edges.reduce(function(at,ft,yt){return ft.from.coordinates[1]>U.edges[at].from.coordinates[1]&&(at=yt),at},0),Q=(G===0?this.length:G)-1,J=(G+1)%this.length,rt=Mg(this.edges[Q].from.coordinates,this.edges[G].from.coordinates,this.edges[J].from.coordinates);return rt===0?this.edges[Q].from.coordinates[0]>this.edges[J].from.coordinates[0]:rt>0},B.prototype.toMultiPoint=function(){return wt(this.edges.map(function(U){return U.from.coordinates}))},B.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var U=this.edges.map(function(G){return G.from.coordinates});return U.push(this.edges[0].from.coordinates),this.polygon=nt([U])},B.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Ru(this.toPolygon())},B.findEdgeRingContaining=function(U,G){var Q,J,rt=U.getEnvelope();return G.forEach(function(at){var ft,yt,vt,Tt,xt,It,Gt=at.getEnvelope();if(J&&(Q=J.getEnvelope()),yt=rt,vt=(ft=Gt).geometry.coordinates[0].map(function(Zt){return Zt[0]}),Tt=ft.geometry.coordinates[0].map(function(Zt){return Zt[1]}),xt=yt.geometry.coordinates[0].map(function(Zt){return Zt[0]}),It=yt.geometry.coordinates[0].map(function(Zt){return Zt[1]}),(Math.max.apply(null,vt)!==Math.max.apply(null,xt)||Math.max.apply(null,Tt)!==Math.max.apply(null,It)||Math.min.apply(null,vt)!==Math.min.apply(null,xt)||Math.min.apply(null,Tt)!==Math.min.apply(null,It))&&Tg(Gt,rt)){for(var Wt=U.map(function(Zt){return Zt.from.coordinates}),ee=void 0,Bt=function(Zt){at.some(function(fe){return be=Zt,Ee=fe.from.coordinates,be[0]===Ee[0]&&be[1]===Ee[1];var be,Ee})||(ee=Zt)},me=0,Ie=Wt;me<Ie.length;me++)Bt(Ie[me]);ee&&at.inside(X(ee))&&(J&&!Tg(Q,Gt)||(J=at))}}),J},B.prototype.inside=function(U){return Pr(U,this.toPolygon())},B}(),W1=function(){function B(){this.edges=[],this.nodes={}}return B.fromGeoJson=function(U){(function(Q){if(!Q)throw new Error("No geojson passed");if(Q.type!=="FeatureCollection"&&Q.type!=="GeometryCollection"&&Q.type!=="MultiLineString"&&Q.type!=="LineString"&&Q.type!=="Feature")throw new Error("Invalid input type '"+Q.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(U);var G=new B;return qe(U,function(Q){ge(Q,"LineString","Graph::fromGeoJson"),de(Q,function(J,rt){if(J){var at=G.getNode(J),ft=G.getNode(rt);G.addEdge(at,ft)}return rt})}),G},B.prototype.getNode=function(U){var G=dp.buildId(U),Q=this.nodes[G];return Q||(Q=this.nodes[G]=new dp(U)),Q},B.prototype.addEdge=function(U,G){var Q=new Sg(U,G),J=Q.getSymetric();this.edges.push(Q),this.edges.push(J)},B.prototype.deleteDangles=function(){var U=this;Object.keys(this.nodes).map(function(G){return U.nodes[G]}).forEach(function(G){return U._removeIfDangle(G)})},B.prototype._removeIfDangle=function(U){var G=this;if(U.innerEdges.length<=1){var Q=U.getOuterEdges().map(function(J){return J.to});this.removeNode(U),Q.forEach(function(J){return G._removeIfDangle(J)})}},B.prototype.deleteCutEdges=function(){var U=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(G){G.label===G.symetric.label&&(U.removeEdge(G.symetric),U.removeEdge(G))})},B.prototype._computeNextCWEdges=function(U){var G=this;U===void 0?Object.keys(this.nodes).forEach(function(Q){return G._computeNextCWEdges(G.nodes[Q])}):U.getOuterEdges().forEach(function(Q,J){U.getOuterEdge((J===0?U.getOuterEdges().length:J)-1).symetric.next=Q})},B.prototype._computeNextCCWEdges=function(U,G){for(var Q,J,rt=U.getOuterEdges(),at=rt.length-1;at>=0;--at){var ft=rt[at],yt=ft.symetric,vt=void 0,Tt=void 0;ft.label===G&&(vt=ft),yt.label===G&&(Tt=yt),vt&&Tt&&(Tt&&(J=Tt),vt&&(J&&(J.next=vt,J=void 0),Q||(Q=vt)))}J&&(J.next=Q)},B.prototype._findLabeledEdgeRings=function(){var U=[],G=0;return this.edges.forEach(function(Q){if(!(Q.label>=0)){U.push(Q);var J=Q;do J.label=G,J=J.next;while(!Q.isEqual(J));G++}}),U},B.prototype.getEdgeRings=function(){var U=this;this._computeNextCWEdges(),this.edges.forEach(function(Q){Q.label=void 0}),this._findLabeledEdgeRings().forEach(function(Q){U._findIntersectionNodes(Q).forEach(function(J){U._computeNextCCWEdges(J,Q.label)})});var G=[];return this.edges.forEach(function(Q){Q.ring||G.push(U._findEdgeRing(Q))}),G},B.prototype._findIntersectionNodes=function(U){var G=[],Q=U,J=function(){var rt=0;Q.from.getOuterEdges().forEach(function(at){at.label===U.label&&++rt}),rt>1&&G.push(Q.from),Q=Q.next};do J();while(!U.isEqual(Q));return G},B.prototype._findEdgeRing=function(U){var G=U,Q=new ha;do Q.push(G),G.ring=Q,G=G.next;while(!U.isEqual(G));return Q},B.prototype.removeNode=function(U){var G=this;U.getOuterEdges().forEach(function(Q){return G.removeEdge(Q)}),U.innerEdges.forEach(function(Q){return G.removeEdge(Q)}),delete this.nodes[U.id]},B.prototype.removeEdge=function(U){this.edges=this.edges.filter(function(G){return!G.isEqual(U)}),U.deleteEdge()},B}();function Cg(B,U){var G=!0;return qe(B,function(Q){qe(U,function(J){if(G===!1)return!1;G=function(rt,at){switch(rt.type){case"Point":switch(at.type){case"Point":return ft=rt.coordinates,yt=at.coordinates,!(ft[0]===yt[0]&&ft[1]===yt[1]);case"LineString":return!Y0(at,rt);case"Polygon":return!Pr(rt,at)}break;case"LineString":switch(at.type){case"Point":return!Y0(rt,at);case"LineString":return!function(vt,Tt){return zo(vt,Tt).features.length>0}(rt,at);case"Polygon":return!fp(at,rt)}break;case"Polygon":switch(at.type){case"Point":return!Pr(at,rt);case"LineString":return!fp(rt,at);case"Polygon":return!function(vt,Tt){for(var xt=0,It=vt.coordinates[0];xt<It.length;xt++)if(Pr(It[xt],Tt))return!0;for(var Gt=0,Wt=Tt.coordinates[0];Gt<Wt.length;Gt++)if(Pr(Wt[Gt],vt))return!0;return zo(ea(vt),ea(Tt)).features.length>0}(at,rt)}}var ft,yt;return!1}(Q.geometry,J.geometry)})}),G}function Y0(B,U){for(var G=0;G<B.coordinates.length-1;G++)if(q1(B.coordinates[G],B.coordinates[G+1],U.coordinates))return!0;return!1}function fp(B,U){for(var G=0,Q=U.coordinates;G<Q.length;G++)if(Pr(Q[G],B))return!0;return zo(U,ea(B)).features.length>0}function q1(B,U,G){var Q=G[0]-B[0],J=G[1]-B[1],rt=U[0]-B[0],at=U[1]-B[1];return Q*at-J*rt==0&&(Math.abs(rt)>=Math.abs(at)?rt>0?B[0]<=G[0]&&G[0]<=U[0]:U[0]<=G[0]&&G[0]<=B[0]:at>0?B[1]<=G[1]&&G[1]<=U[1]:U[1]<=G[1]&&G[1]<=B[1])}function H0(B,U){return!(B[0]>U[0])&&!(B[2]<U[2])&&!(B[1]>U[1])&&!(B[3]<U[3])}function kg(B,U){return B[0]===U[0]&&B[1]===U[1]}function Q1(B,U){return[(B[0]+U[0])/2,(B[1]+U[1])/2]}function V0(B,U){for(var G=!1,Q=!1,J=B.coordinates.length,rt=0;rt<J&&!G&&!Q;){for(var at=0;at<U.coordinates.length-1;at++){var ft=!0;at!==0&&at!==U.coordinates.length-2||(ft=!1),W0(U.coordinates[at],U.coordinates[at+1],B.coordinates[rt],ft)?G=!0:Q=!0}rt++}return G&&Q}function G0(B,U){return zo(B,ua(U)).features.length>0}function Ag(B,U){for(var G=!1,Q=!1,J=B.coordinates.length,rt=0;rt<J&&(!G||!Q);rt++)Pr(X(B.coordinates[rt]),U)?G=!0:Q=!0;return Q&&G}function W0(B,U,G,Q){var J=G[0]-B[0],rt=G[1]-B[1],at=U[0]-B[0],ft=U[1]-B[1];return J*ft-rt*at==0&&(Q?Math.abs(at)>=Math.abs(ft)?at>0?B[0]<=G[0]&&G[0]<=U[0]:U[0]<=G[0]&&G[0]<=B[0]:ft>0?B[1]<=G[1]&&G[1]<=U[1]:U[1]<=G[1]&&G[1]<=B[1]:Math.abs(at)>=Math.abs(ft)?at>0?B[0]<G[0]&&G[0]<U[0]:U[0]<G[0]&&G[0]<B[0]:ft>0?B[1]<G[1]&&G[1]<U[1]:U[1]<G[1]&&G[1]<B[1])}var jc=function(B){this.precision=B&&B.precision?B.precision:17,this.direction=!(!B||!B.direction)&&B.direction,this.pseudoNode=!(!B||!B.pseudoNode)&&B.pseudoNode,this.objectComparator=B&&B.objectComparator?B.objectComparator:X1};function Xu(B){return B.coordinates.map(function(U){return{type:B.type.replace("Multi",""),coordinates:U}})}function mu(B,U){return B.hasOwnProperty("coordinates")?B.coordinates.length===U.coordinates.length:B.length===U.length}function X1(B,U){return Wu(B,U,{strict:!0})}jc.prototype.compare=function(B,U){if(B.type!==U.type||!mu(B,U))return!1;switch(B.type){case"Point":return this.compareCoord(B.coordinates,U.coordinates);case"LineString":return this.compareLine(B.coordinates,U.coordinates,0,!1);case"Polygon":return this.comparePolygon(B,U);case"Feature":return this.compareFeature(B,U);default:if(B.type.indexOf("Multi")===0){var G=this,Q=Xu(B),J=Xu(U);return Q.every(function(rt){return this.some(function(at){return G.compare(rt,at)})},J)}}return!1},jc.prototype.compareCoord=function(B,U){if(B.length!==U.length)return!1;for(var G=0;G<B.length;G++)if(B[G].toFixed(this.precision)!==U[G].toFixed(this.precision))return!1;return!0},jc.prototype.compareLine=function(B,U,G,Q){if(!mu(B,U))return!1;var J=this.pseudoNode?B:this.removePseudo(B),rt=this.pseudoNode?U:this.removePseudo(U);if(!Q||this.compareCoord(J[0],rt[0])||(rt=this.fixStartIndex(rt,J))){var at=this.compareCoord(J[G],rt[G]);return this.direction||at?this.comparePath(J,rt):!!this.compareCoord(J[G],rt[rt.length-(1+G)])&&this.comparePath(J.slice().reverse(),rt)}},jc.prototype.fixStartIndex=function(B,U){for(var G,Q=-1,J=0;J<B.length;J++)if(this.compareCoord(B[J],U[0])){Q=J;break}return Q>=0&&(G=[].concat(B.slice(Q,B.length),B.slice(1,Q+1))),G},jc.prototype.comparePath=function(B,U){var G=this;return B.every(function(Q,J){return G.compareCoord(Q,this[J])},U)},jc.prototype.comparePolygon=function(B,U){if(this.compareLine(B.coordinates[0],U.coordinates[0],1,!0)){var G=B.coordinates.slice(1,B.coordinates.length),Q=U.coordinates.slice(1,U.coordinates.length),J=this;return G.every(function(rt){return this.some(function(at){return J.compareLine(rt,at,1,!0)})},Q)}return!1},jc.prototype.compareFeature=function(B,U){return!(B.id!==U.id||!this.objectComparator(B.properties,U.properties)||!this.compareBBox(B,U))&&this.compare(B.geometry,U.geometry)},jc.prototype.compareBBox=function(B,U){return!!(!B.bbox&&!U.bbox||B.bbox&&U.bbox&&this.compareCoord(B.bbox,U.bbox))},jc.prototype.removePseudo=function(B){return B};var Ng=jc;function q0(B,U){var G=!1;return qe(B,function(Q){qe(U,function(J){if(G===!0)return!0;G=!Cg(Q.geometry,J.geometry)})}),G}var Z1=Un(function(B){function U(G,Q,J,rt){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(G,Q,J,rt)}U.prototype.run=function(G,Q,J,rt){this._init(G,Q,J,rt);for(var at=0;at<this._datasetLength;at++)if(this._visited[at]!==1){this._visited[at]=1;var ft=this._regionQuery(at);if(ft.length<this.minPts)this.noise.push(at);else{var yt=this.clusters.length;this.clusters.push([]),this._addToCluster(at,yt),this._expandCluster(yt,ft)}}return this.clusters},U.prototype._init=function(G,Q,J,rt){if(G){if(!(G instanceof Array))throw Error("Dataset must be of type array, "+typeof G+" given");this.dataset=G,this.clusters=[],this.noise=[],this._datasetLength=G.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}Q&&(this.epsilon=Q),J&&(this.minPts=J),rt&&(this.distance=rt)},U.prototype._expandCluster=function(G,Q){for(var J=0;J<Q.length;J++){var rt=Q[J];if(this._visited[rt]!==1){this._visited[rt]=1;var at=this._regionQuery(rt);at.length>=this.minPts&&(Q=this._mergeArrays(Q,at))}this._assigned[rt]!==1&&this._addToCluster(rt,G)}},U.prototype._addToCluster=function(G,Q){this.clusters[Q].push(G),this._assigned[G]=1},U.prototype._regionQuery=function(G){for(var Q=[],J=0;J<this._datasetLength;J++)this.distance(this.dataset[G],this.dataset[J])<this.epsilon&&Q.push(J);return Q},U.prototype._mergeArrays=function(G,Q){for(var J=Q.length,rt=0;rt<J;rt++){var at=Q[rt];G.indexOf(at)<0&&G.push(at)}return G},U.prototype._euclideanDistance=function(G,Q){for(var J=0,rt=Math.min(G.length,Q.length);rt--;)J+=(G[rt]-Q[rt])*(G[rt]-Q[rt]);return Math.sqrt(J)},B.exports&&(B.exports=U)}),J1=Un(function(B){function U(G,Q,J){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(G,Q,J)}U.prototype.init=function(G,Q,J){this.assignments=[],this.centroids=[],G!==void 0&&(this.dataset=G),Q!==void 0&&(this.k=Q),J!==void 0&&(this.distance=J)},U.prototype.run=function(G,Q){this.init(G,Q);for(var J=this.dataset.length,rt=0;rt<this.k;rt++)this.centroids[rt]=this.randomCentroid();for(var at=!0;at;){at=this.assign();for(var ft=0;ft<this.k;ft++){for(var yt=new Array(It),vt=0,Tt=0;Tt<It;Tt++)yt[Tt]=0;for(var xt=0;xt<J;xt++){var It=this.dataset[xt].length;if(ft===this.assignments[xt]){for(Tt=0;Tt<It;Tt++)yt[Tt]+=this.dataset[xt][Tt];vt++}}if(vt>0){for(Tt=0;Tt<It;Tt++)yt[Tt]/=vt;this.centroids[ft]=yt}else this.centroids[ft]=this.randomCentroid(),at=!0}}return this.getClusters()},U.prototype.randomCentroid=function(){var G,Q,J=this.dataset.length-1;do Q=Math.round(Math.random()*J),G=this.dataset[Q];while(this.centroids.indexOf(G)>=0);return G},U.prototype.assign=function(){for(var G,Q=!1,J=this.dataset.length,rt=0;rt<J;rt++)(G=this.argmin(this.dataset[rt],this.centroids,this.distance))!=this.assignments[rt]&&(this.assignments[rt]=G,Q=!0);return Q},U.prototype.getClusters=function(){for(var G,Q=new Array(this.k),J=0;J<this.assignments.length;J++)Q[G=this.assignments[J]]===void 0&&(Q[G]=[]),Q[G].push(J);return Q},U.prototype.argmin=function(G,Q,J){for(var rt,at=Number.MAX_VALUE,ft=0,yt=Q.length,vt=0;vt<yt;vt++)(rt=J(G,Q[vt]))<at&&(at=rt,ft=vt);return ft},U.prototype.distance=function(G,Q){for(var J=0,rt=Math.min(G.length,Q.length);rt--;){var at=G[rt]-Q[rt];J+=at*at}return Math.sqrt(J)},B.exports&&(B.exports=U)}),Q0=Un(function(B){function U(G,Q,J){this._queue=[],this._priorities=[],this._sorting="desc",this._init(G,Q,J)}U.prototype.insert=function(G,Q){for(var J=this._queue.length,rt=J;rt--;){var at=this._priorities[rt];this._sorting==="desc"?Q>at&&(J=rt):Q<at&&(J=rt)}this._insertAt(G,Q,J)},U.prototype.remove=function(G){for(var Q=this._queue.length;Q--;)if(G===this._queue[Q]){this._queue.splice(Q,1),this._priorities.splice(Q,1);break}},U.prototype.forEach=function(G){this._queue.forEach(G)},U.prototype.getElements=function(){return this._queue},U.prototype.getElementPriority=function(G){return this._priorities[G]},U.prototype.getPriorities=function(){return this._priorities},U.prototype.getElementsWithPriorities=function(){for(var G=[],Q=0,J=this._queue.length;Q<J;Q++)G.push([this._queue[Q],this._priorities[Q]]);return G},U.prototype._init=function(G,Q,J){if(G&&Q){if(this._queue=[],this._priorities=[],G.length!==Q.length)throw new Error("Arrays must have the same length");for(var rt=0;rt<G.length;rt++)this.insert(G[rt],Q[rt])}J&&(this._sorting=J)},U.prototype._insertAt=function(G,Q,J){this._queue.length===J?(this._queue.push(G),this._priorities.push(Q)):(this._queue.splice(J,0,G),this._priorities.splice(J,0,Q))},B.exports&&(B.exports=U)}),K1=Un(function(B){if(B.exports)var U=Q0;function G(Q,J,rt,at){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(Q,J,rt,at)}G.prototype.run=function(Q,J,rt,at){this._init(Q,J,rt,at);for(var ft=0,yt=this.dataset.length;ft<yt;ft++)if(this._processed[ft]!==1){this._processed[ft]=1,this.clusters.push([ft]);var vt=this.clusters.length-1;this._orderedList.push(ft);var Tt=new U(null,null,"asc"),xt=this._regionQuery(ft);this._distanceToCore(ft)!==void 0&&(this._updateQueue(ft,xt,Tt),this._expandCluster(vt,Tt))}return this.clusters},G.prototype.getReachabilityPlot=function(){for(var Q=[],J=0,rt=this._orderedList.length;J<rt;J++){var at=this._orderedList[J],ft=this._reachability[at];Q.push([at,ft])}return Q},G.prototype._init=function(Q,J,rt,at){if(Q){if(!(Q instanceof Array))throw Error("Dataset must be of type array, "+typeof Q+" given");this.dataset=Q,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}J&&(this.epsilon=J),rt&&(this.minPts=rt),at&&(this.distance=at)},G.prototype._updateQueue=function(Q,J,rt){var at=this;this._coreDistance=this._distanceToCore(Q),J.forEach(function(ft){if(at._processed[ft]===void 0){var yt=at.distance(at.dataset[Q],at.dataset[ft]),vt=Math.max(at._coreDistance,yt);at._reachability[ft]===void 0?(at._reachability[ft]=vt,rt.insert(ft,vt)):vt<at._reachability[ft]&&(at._reachability[ft]=vt,rt.remove(ft),rt.insert(ft,vt))}})},G.prototype._expandCluster=function(Q,J){for(var rt=J.getElements(),at=0,ft=rt.length;at<ft;at++){var yt=rt[at];if(this._processed[yt]===void 0){var vt=this._regionQuery(yt);this._processed[yt]=1,this.clusters[Q].push(yt),this._orderedList.push(yt),this._distanceToCore(yt)!==void 0&&(this._updateQueue(yt,vt,J),this._expandCluster(Q,J))}}},G.prototype._distanceToCore=function(Q){for(var J=this.epsilon,rt=0;rt<J;rt++)if(this._regionQuery(Q,rt).length>=this.minPts)return rt},G.prototype._regionQuery=function(Q,J){J=J||this.epsilon;for(var rt=[],at=0,ft=this.dataset.length;at<ft;at++)this.distance(this.dataset[Q],this.dataset[at])<J&&rt.push(at);return rt},G.prototype._euclideanDistance=function(Q,J){for(var rt=0,at=Math.min(Q.length,J.length);at--;)rt+=(Q[at]-J[at])*(Q[at]-J[at]);return Math.sqrt(rt)},B.exports&&(B.exports=G)}),ty=Un(function(B){B.exports&&(B.exports={DBSCAN:Z1,KMEANS:J1,OPTICS:K1,PriorityQueue:Q0})}),Dg=function(B,U,G){for(var Q=B.length,J=0,rt=0;rt<Q;rt++){var at=(B[rt]||0)-(U[rt]||0);J+=at*at}return G?Math.sqrt(J):J},ey=Dg,pf=function(B,U,G){var Q=Math.abs(B-U);return G?Q:Q*Q},Ig=Dg,X0=function(B,U){for(var G={},Q=[],J=U<<2,rt=B.length,at=B[0].length>0;Q.length<U&&J-- >0;){var ft=B[Math.floor(Math.random()*rt)],yt=at?ft.join("_"):""+ft;G[yt]||(G[yt]=!0,Q.push(ft))}if(Q.length<U)throw new Error("Error initializating clusters");return Q},ny=function(B,U){var G=B[0].length?ey:pf,Q=[],J=B.length,rt=B[0].length>0,at=B[Math.floor(Math.random()*J)];for(rt&&at.join("_"),Q.push(at);Q.length<U;){for(var ft=[],yt=Q.length,vt=0,Tt=[],xt=0;xt<J;xt++){for(var It=1/0,Gt=0;Gt<yt;Gt++){var Wt=G(B[xt],Q[Gt]);Wt<=It&&(It=Wt)}ft[xt]=It}for(var ee=0;ee<J;ee++)vt+=ft[ee];for(var Bt=0;Bt<J;Bt++)Tt[Bt]={i:Bt,v:B[Bt],pr:ft[Bt]/vt,cs:0};Tt.sort(function(fe,be){return fe.pr-be.pr}),Tt[0].cs=Tt[0].pr;for(var me=1;me<J;me++)Tt[me].cs=Tt[me-1].cs+Tt[me].pr;for(var Ie=Math.random(),Zt=0;Zt<J-1&&Tt[Zt++].cs<Ie;);Q.push(Tt[Zt-1].v)}return Q};function Z0(B,U,G){G=G||[];for(var Q=0;Q<B;Q++)G[Q]=U;return G}var Lg=function(B,U,G,Q){var J=[],rt=[],at=[],ft=[],yt=!1,vt=Q||1e4,Tt=B.length,xt=B[0].length,It=xt>0,Gt=[];if(G)J=G=="kmrand"?X0(B,U):G=="kmpp"?ny(B,U):G;else for(var Wt={};J.length<U;){var ee=Math.floor(Math.random()*Tt);Wt[ee]||(Wt[ee]=!0,J.push(B[ee]))}do{Z0(U,0,Gt);for(var Bt=0;Bt<Tt;Bt++){for(var me=1/0,Ie=0,Zt=0;Zt<U;Zt++)(ft=It?Ig(B[Bt],J[Zt]):Math.abs(B[Bt]-J[Zt]))<=me&&(me=ft,Ie=Zt);at[Bt]=Ie,Gt[Ie]++}for(var fe=[],be=(rt=[],0);be<U;be++)fe[be]=It?Z0(xt,0,fe[be]):0,rt[be]=J[be];if(It){for(var Ee=0;Ee<U;Ee++)J[Ee]=[];for(var _e=0;_e<Tt;_e++)for(var wn=fe[at[_e]],cn=B[_e],Tn=0;Tn<xt;Tn++)wn[Tn]+=cn[Tn];yt=!0;for(var dn=0;dn<U;dn++){for(var An=J[dn],yn=fe[dn],mn=rt[dn],fn=Gt[dn],Sn=0;Sn<xt;Sn++)An[Sn]=yn[Sn]/fn||0;if(yt){for(var bn=0;bn<xt;bn++)if(mn[bn]!=An[bn]){yt=!1;break}}}}else{for(var Nn=0;Nn<Tt;Nn++)fe[at[Nn]]+=B[Nn];for(var Ze=0;Ze<U;Ze++)J[Ze]=fe[Ze]/Gt[Ze]||0;yt=!0;for(var Mr=0;Mr<U;Mr++)if(rt[Mr]!=J[Mr]){yt=!1;break}}yt=yt||--vt<=0}while(!yt);return{it:1e4-vt,k:U,idxs:at,centroids:J}};function pp(B,U){return Lt(fu(B[0],B[1]))===Lt(fu(U[0],U[1]))}function Og(B,U){if(B.geometry&&B.geometry.type)return B.geometry.type;if(B.type)return B.type;throw new Error("Invalid GeoJSON object for "+U)}function J0(B){for(var U=B,G=[];U.parent;)G.unshift(U),U=U.parent;return G}var gp={search:function(B,U,G,Q){B.cleanDirty();var J=(Q=Q||{}).heuristic||gp.heuristics.manhattan,rt=Q.closest||!1,at=new Pg(function(ee){return ee.f}),ft=U;for(U.h=J(U,G),at.push(U);at.size()>0;){var yt=at.pop();if(yt===G)return J0(yt);yt.closed=!0;for(var vt=B.neighbors(yt),Tt=0,xt=vt.length;Tt<xt;++Tt){var It=vt[Tt];if(!It.closed&&!It.isWall()){var Gt=yt.g+It.getCost(yt),Wt=It.visited;(!Wt||Gt<It.g)&&(It.visited=!0,It.parent=yt,It.h=It.h||J(It,G),It.g=Gt,It.f=It.g+It.h,B.markDirty(It),rt&&(It.h<ft.h||It.h===ft.h&&It.g<ft.g)&&(ft=It),Wt?at.rescoreElement(It):at.push(It))}}}return rt?J0(ft):[]},heuristics:{manhattan:function(B,U){return Math.abs(U.x-B.x)+Math.abs(U.y-B.y)},diagonal:function(B,U){var G=Math.sqrt(2),Q=Math.abs(U.x-B.x),J=Math.abs(U.y-B.y);return 1*(Q+J)+(G-2)*Math.min(Q,J)}},cleanNode:function(B){B.f=0,B.g=0,B.h=0,B.visited=!1,B.closed=!1,B.parent=null}};function Zu(B,U){U=U||{},this.nodes=[],this.diagonal=!!U.diagonal,this.grid=[];for(var G=0;G<B.length;G++){this.grid[G]=[];for(var Q=0,J=B[G];Q<J.length;Q++){var rt=new mp(G,Q,J[Q]);this.grid[G][Q]=rt,this.nodes.push(rt)}}this.init()}function mp(B,U,G){this.x=B,this.y=U,this.weight=G}function Pg(B){this.content=[],this.scoreFunction=B}function ry(B,U){for(var G=0;G<U.features.length;G++)if(Pr(B,U.features[G]))return!0;return!1}function K0(B){return function(){return B}}function iy(B){return B[0]}function tm(B){return B[1]}function yp(){this._=null}function gf(B){B.U=B.C=B.L=B.R=B.P=B.N=null}function mf(B,U){var G=U,Q=U.R,J=G.U;J?J.L===G?J.L=Q:J.R=Q:B._=Q,Q.U=J,G.U=Q,G.R=Q.L,G.R&&(G.R.U=G),Q.L=G}function yf(B,U){var G=U,Q=U.L,J=G.U;J?J.L===G?J.L=Q:J.R=Q:B._=Q,Q.U=J,G.U=Q,G.L=Q.R,G.L&&(G.L.U=G),Q.R=G}function em(B){for(;B.L;)B=B.L;return B}function yd(B,U,G,Q){var J=[null,null],rt=Na.push(J)-1;return J.left=B,J.right=U,G&&vd(J,B,U,G),Q&&vd(J,U,B,Q),vl[B.index].halfedges.push(rt),vl[U.index].halfedges.push(rt),J}function Bc(B,U,G){var Q=[U,G];return Q.left=B,Q}function vd(B,U,G,Q){B[0]||B[1]?B.left===G?B[1]=Q:B[0]=Q:(B[0]=Q,B.left=U,B.right=G)}function vp(B,U,G,Q,J){var rt,at=B[0],ft=B[1],yt=at[0],vt=at[1],Tt=0,xt=1,It=ft[0]-yt,Gt=ft[1]-vt;if(rt=U-yt,It||!(rt>0)){if(rt/=It,It<0){if(rt<Tt)return;rt<xt&&(xt=rt)}else if(It>0){if(rt>xt)return;rt>Tt&&(Tt=rt)}if(rt=Q-yt,It||!(rt<0)){if(rt/=It,It<0){if(rt>xt)return;rt>Tt&&(Tt=rt)}else if(It>0){if(rt<Tt)return;rt<xt&&(xt=rt)}if(rt=G-vt,Gt||!(rt>0)){if(rt/=Gt,Gt<0){if(rt<Tt)return;rt<xt&&(xt=rt)}else if(Gt>0){if(rt>xt)return;rt>Tt&&(Tt=rt)}if(rt=J-vt,Gt||!(rt<0)){if(rt/=Gt,Gt<0){if(rt>xt)return;rt>Tt&&(Tt=rt)}else if(Gt>0){if(rt<Tt)return;rt<xt&&(xt=rt)}return!(Tt>0||xt<1)||(Tt>0&&(B[0]=[yt+Tt*It,vt+Tt*Gt]),xt<1&&(B[1]=[yt+xt*It,vt+xt*Gt]),!0)}}}}}function oy(B,U,G,Q,J){var rt=B[1];if(rt)return!0;var at,ft,yt=B[0],vt=B.left,Tt=B.right,xt=vt[0],It=vt[1],Gt=Tt[0],Wt=Tt[1],ee=(xt+Gt)/2,Bt=(It+Wt)/2;if(Wt===It){if(ee<U||ee>=Q)return;if(xt>Gt){if(yt){if(yt[1]>=J)return}else yt=[ee,G];rt=[ee,J]}else{if(yt){if(yt[1]<G)return}else yt=[ee,J];rt=[ee,G]}}else if(ft=Bt-(at=(xt-Gt)/(Wt-It))*ee,at<-1||at>1)if(xt>Gt){if(yt){if(yt[1]>=J)return}else yt=[(G-ft)/at,G];rt=[(J-ft)/at,J]}else{if(yt){if(yt[1]<G)return}else yt=[(J-ft)/at,J];rt=[(G-ft)/at,G]}else if(It<Wt){if(yt){if(yt[0]>=Q)return}else yt=[U,at*U+ft];rt=[Q,at*Q+ft]}else{if(yt){if(yt[0]<U)return}else yt=[Q,at*Q+ft];rt=[U,at*U+ft]}return B[0]=yt,B[1]=rt,!0}function zg(B,U){var G=B.site,Q=U.left,J=U.right;return G===J&&(J=Q,Q=G),J?Math.atan2(J[1]-Q[1],J[0]-Q[0]):(G===Q?(Q=U[1],J=U[0]):(Q=U[0],J=U[1]),Math.atan2(Q[0]-J[0],J[1]-Q[1]))}function nm(B,U){return U[+(U.left!==B.site)]}function sy(B,U){return U[+(U.left===B.site)]}Zu.prototype.init=function(){this.dirtyNodes=[];for(var B=0;B<this.nodes.length;B++)gp.cleanNode(this.nodes[B])},Zu.prototype.cleanDirty=function(){for(var B=0;B<this.dirtyNodes.length;B++)gp.cleanNode(this.dirtyNodes[B]);this.dirtyNodes=[]},Zu.prototype.markDirty=function(B){this.dirtyNodes.push(B)},Zu.prototype.neighbors=function(B){var U=[],G=B.x,Q=B.y,J=this.grid;return J[G-1]&&J[G-1][Q]&&U.push(J[G-1][Q]),J[G+1]&&J[G+1][Q]&&U.push(J[G+1][Q]),J[G]&&J[G][Q-1]&&U.push(J[G][Q-1]),J[G]&&J[G][Q+1]&&U.push(J[G][Q+1]),this.diagonal&&(J[G-1]&&J[G-1][Q-1]&&U.push(J[G-1][Q-1]),J[G+1]&&J[G+1][Q-1]&&U.push(J[G+1][Q-1]),J[G-1]&&J[G-1][Q+1]&&U.push(J[G-1][Q+1]),J[G+1]&&J[G+1][Q+1]&&U.push(J[G+1][Q+1])),U},Zu.prototype.toString=function(){for(var B,U,G,Q,J=[],rt=this.grid,at=0,ft=rt.length;at<ft;at++){for(B=[],G=0,Q=(U=rt[at]).length;G<Q;G++)B.push(U[G].weight);J.push(B.join(" "))}return J.join(`
`)},mp.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},mp.prototype.getCost=function(B){return B&&B.x!==this.x&&B.y!==this.y?1.41421*this.weight:this.weight},mp.prototype.isWall=function(){return this.weight===0},Pg.prototype={push:function(B){this.content.push(B),this.sinkDown(this.content.length-1)},pop:function(){var B=this.content[0],U=this.content.pop();return this.content.length>0&&(this.content[0]=U,this.bubbleUp(0)),B},remove:function(B){var U=this.content.indexOf(B),G=this.content.pop();U!==this.content.length-1&&(this.content[U]=G,this.scoreFunction(G)<this.scoreFunction(B)?this.sinkDown(U):this.bubbleUp(U))},size:function(){return this.content.length},rescoreElement:function(B){this.sinkDown(this.content.indexOf(B))},sinkDown:function(B){for(var U=this.content[B];B>0;){var G=(B+1>>1)-1,Q=this.content[G];if(!(this.scoreFunction(U)<this.scoreFunction(Q)))break;this.content[G]=U,this.content[B]=Q,B=G}},bubbleUp:function(B){for(var U=this.content.length,G=this.content[B],Q=this.scoreFunction(G);;){var J,rt=B+1<<1,at=rt-1,ft=null;if(at<U){var yt=this.content[at];(J=this.scoreFunction(yt))<Q&&(ft=at)}if(rt<U){var vt=this.content[rt];this.scoreFunction(vt)<(ft===null?Q:J)&&(ft=rt)}if(ft===null)break;this.content[B]=this.content[ft],this.content[ft]=G,B=ft}}},yp.prototype={constructor:yp,insert:function(B,U){var G,Q,J;if(B){if(U.P=B,U.N=B.N,B.N&&(B.N.P=U),B.N=U,B.R){for(B=B.R;B.L;)B=B.L;B.L=U}else B.R=U;G=B}else this._?(B=em(this._),U.P=null,U.N=B,B.P=B.L=U,G=B):(U.P=U.N=null,this._=U,G=null);for(U.L=U.R=null,U.U=G,U.C=!0,B=U;G&&G.C;)G===(Q=G.U).L?(J=Q.R)&&J.C?(G.C=J.C=!1,Q.C=!0,B=Q):(B===G.R&&(mf(this,G),G=(B=G).U),G.C=!1,Q.C=!0,yf(this,Q)):(J=Q.L)&&J.C?(G.C=J.C=!1,Q.C=!0,B=Q):(B===G.L&&(yf(this,G),G=(B=G).U),G.C=!1,Q.C=!0,mf(this,Q)),G=B.U;this._.C=!1},remove:function(B){B.N&&(B.N.P=B.P),B.P&&(B.P.N=B.N),B.N=B.P=null;var U,G,Q,J=B.U,rt=B.L,at=B.R;if(G=rt?at?em(at):rt:at,J?J.L===B?J.L=G:J.R=G:this._=G,rt&&at?(Q=G.C,G.C=B.C,G.L=rt,rt.U=G,G!==at?(J=G.U,G.U=B.U,B=G.R,J.L=B,G.R=at,at.U=G):(G.U=J,J=G,B=G.R)):(Q=B.C,B=G),B&&(B.U=J),!Q)if(B&&B.C)B.C=!1;else{do{if(B===this._)break;if(B===J.L){if((U=J.R).C&&(U.C=!1,J.C=!0,mf(this,J),U=J.R),U.L&&U.L.C||U.R&&U.R.C){U.R&&U.R.C||(U.L.C=!1,U.C=!0,yf(this,U),U=J.R),U.C=J.C,J.C=U.R.C=!1,mf(this,J),B=this._;break}}else if((U=J.L).C&&(U.C=!1,J.C=!0,yf(this,J),U=J.L),U.L&&U.L.C||U.R&&U.R.C){U.L&&U.L.C||(U.R.C=!1,U.C=!0,mf(this,U),U=J.L),U.C=J.C,J.C=U.L.C=!1,yf(this,J),B=this._;break}U.C=!0,B=J,J=J.U}while(!B.C);B&&(B.C=!1)}}};var Rg,rm=[];function ay(){gf(this),this.x=this.y=this.arc=this.site=this.cy=null}function kh(B){var U=B.P,G=B.N;if(U&&G){var Q=U.site,J=B.site,rt=G.site;if(Q!==rt){var at=J[0],ft=J[1],yt=Q[0]-at,vt=Q[1]-ft,Tt=rt[0]-at,xt=rt[1]-ft,It=2*(yt*xt-vt*Tt);if(!(It>=-hy)){var Gt=yt*yt+vt*vt,Wt=Tt*Tt+xt*xt,ee=(xt*Gt-vt*Wt)/It,Bt=(yt*Wt-Tt*Gt)/It,me=rm.pop()||new ay;me.arc=B,me.site=J,me.x=ee+at,me.y=(me.cy=Bt+ft)+Math.sqrt(ee*ee+Bt*Bt),B.circle=me;for(var Ie=null,Zt=_d._;Zt;)if(me.y<Zt.y||me.y===Zt.y&&me.x<=Zt.x){if(!Zt.L){Ie=Zt.P;break}Zt=Zt.L}else{if(!Zt.R){Ie=Zt;break}Zt=Zt.R}_d.insert(Ie,me),Ie||(Rg=me)}}}}function Ju(B){var U=B.circle;U&&(U.P||(Rg=U.N),_d.remove(U),rm.push(U),gf(U),B.circle=null)}var im=[];function om(){gf(this),this.edge=this.site=this.circle=null}function sm(B){var U=im.pop()||new om;return U.site=B,U}function jg(B){Ju(B),bd.remove(B),im.push(B),gf(B)}function ly(B){var U=B.circle,G=U.x,Q=U.cy,J=[G,Q],rt=B.P,at=B.N,ft=[B];jg(B);for(var yt=rt;yt.circle&&Math.abs(G-yt.circle.x)<To&&Math.abs(Q-yt.circle.cy)<To;)rt=yt.P,ft.unshift(yt),jg(yt),yt=rt;ft.unshift(yt),Ju(yt);for(var vt=at;vt.circle&&Math.abs(G-vt.circle.x)<To&&Math.abs(Q-vt.circle.cy)<To;)at=vt.N,ft.push(vt),jg(vt),vt=at;ft.push(vt),Ju(vt);var Tt,xt=ft.length;for(Tt=1;Tt<xt;++Tt)vt=ft[Tt],yt=ft[Tt-1],vd(vt.edge,yt.site,vt.site,J);yt=ft[0],(vt=ft[xt-1]).edge=yd(yt.site,vt.site,null,J),kh(yt),kh(vt)}function cy(B){for(var U,G,Q,J,rt=B[0],at=B[1],ft=bd._;ft;)if((Q=am(ft,at)-rt)>To)ft=ft.L;else{if(!((J=rt-uy(ft,at))>To)){Q>-To?(U=ft.P,G=ft):J>-To?(U=ft,G=ft.N):U=G=ft;break}if(!ft.R){U=ft;break}ft=ft.R}(function(be){vl[be.index]={site:be,halfedges:[]}})(B);var yt=sm(B);if(bd.insert(U,yt),U||G){if(U===G)return Ju(U),G=sm(U.site),bd.insert(yt,G),yt.edge=G.edge=yd(U.site,yt.site),kh(U),void kh(G);if(G){Ju(U),Ju(G);var vt=U.site,Tt=vt[0],xt=vt[1],It=B[0]-Tt,Gt=B[1]-xt,Wt=G.site,ee=Wt[0]-Tt,Bt=Wt[1]-xt,me=2*(It*Bt-Gt*ee),Ie=It*It+Gt*Gt,Zt=ee*ee+Bt*Bt,fe=[(Bt*Ie-Gt*Zt)/me+Tt,(It*Zt-ee*Ie)/me+xt];vd(G.edge,vt,Wt,fe),yt.edge=yd(vt,B,null,fe),G.edge=yd(B,Wt,null,fe),kh(U),kh(G)}else yt.edge=yd(U.site,yt.site)}}function am(B,U){var G=B.site,Q=G[0],J=G[1],rt=J-U;if(!rt)return Q;var at=B.P;if(!at)return-1/0;var ft=(G=at.site)[0],yt=G[1],vt=yt-U;if(!vt)return ft;var Tt=ft-Q,xt=1/rt-1/vt,It=Tt/vt;return xt?(-It+Math.sqrt(It*It-2*xt*(Tt*Tt/(-2*vt)-yt+vt/2+J-rt/2)))/xt+Q:(Q+ft)/2}function uy(B,U){var G=B.N;if(G)return am(G,U);var Q=B.site;return Q[1]===U?Q[0]:1/0}var bd,vl,_d,Na,To=1e-6,hy=1e-12;function lm(B,U){return U[1]-B[1]||U[0]-B[0]}function Bg(B,U){var G,Q,J,rt=B.sort(lm).pop();for(Na=[],vl=new Array(B.length),bd=new yp,_d=new yp;;)if(J=Rg,rt&&(!J||rt[1]<J.y||rt[1]===J.y&&rt[0]<J.x))rt[0]===G&&rt[1]===Q||(cy(rt),G=rt[0],Q=rt[1]),rt=B.pop();else{if(!J)break;ly(J.arc)}if(function(){for(var Tt,xt,It,Gt,Wt=0,ee=vl.length;Wt<ee;++Wt)if((Tt=vl[Wt])&&(Gt=(xt=Tt.halfedges).length)){var Bt=new Array(Gt),me=new Array(Gt);for(It=0;It<Gt;++It)Bt[It]=It,me[It]=zg(Tt,Na[xt[It]]);for(Bt.sort(function(Ie,Zt){return me[Zt]-me[Ie]}),It=0;It<Gt;++It)me[It]=xt[Bt[It]];for(It=0;It<Gt;++It)xt[It]=me[It]}}(),U){var at=+U[0][0],ft=+U[0][1],yt=+U[1][0],vt=+U[1][1];(function(Tt,xt,It,Gt){for(var Wt,ee=Na.length;ee--;)oy(Wt=Na[ee],Tt,xt,It,Gt)&&vp(Wt,Tt,xt,It,Gt)&&(Math.abs(Wt[0][0]-Wt[1][0])>To||Math.abs(Wt[0][1]-Wt[1][1])>To)||delete Na[ee]})(at,ft,yt,vt),function(Tt,xt,It,Gt){var Wt,ee,Bt,me,Ie,Zt,fe,be,Ee,_e,wn,cn,Tn=vl.length,dn=!0;for(Wt=0;Wt<Tn;++Wt)if(ee=vl[Wt]){for(Bt=ee.site,me=(Ie=ee.halfedges).length;me--;)Na[Ie[me]]||Ie.splice(me,1);for(me=0,Zt=Ie.length;me<Zt;)wn=(_e=sy(ee,Na[Ie[me]]))[0],cn=_e[1],be=(fe=nm(ee,Na[Ie[++me%Zt]]))[0],Ee=fe[1],(Math.abs(wn-be)>To||Math.abs(cn-Ee)>To)&&(Ie.splice(me,0,Na.push(Bc(Bt,_e,Math.abs(wn-Tt)<To&&Gt-cn>To?[Tt,Math.abs(be-Tt)<To?Ee:Gt]:Math.abs(cn-Gt)<To&&It-wn>To?[Math.abs(Ee-Gt)<To?be:It,Gt]:Math.abs(wn-It)<To&&cn-xt>To?[It,Math.abs(be-It)<To?Ee:xt]:Math.abs(cn-xt)<To&&wn-Tt>To?[Math.abs(Ee-xt)<To?be:Tt,xt]:null))-1),++Zt);Zt&&(dn=!1)}if(dn){var An,yn,mn,fn=1/0;for(Wt=0,dn=null;Wt<Tn;++Wt)(ee=vl[Wt])&&(mn=(An=(Bt=ee.site)[0]-Tt)*An+(yn=Bt[1]-xt)*yn)<fn&&(fn=mn,dn=ee);if(dn){var Sn=[Tt,xt],bn=[Tt,Gt],Nn=[It,Gt],Ze=[It,xt];dn.halfedges.push(Na.push(Bc(Bt=dn.site,Sn,bn))-1,Na.push(Bc(Bt,bn,Nn))-1,Na.push(Bc(Bt,Nn,Ze))-1,Na.push(Bc(Bt,Ze,Sn))-1)}}for(Wt=0;Wt<Tn;++Wt)(ee=vl[Wt])&&(ee.halfedges.length||delete vl[Wt])}(at,ft,yt,vt)}this.edges=Na,this.cells=vl,bd=_d=Na=vl=null}function dy(B){return(B=B.slice()).push(B[0]),nt([B])}function cm(B,U,G,Q){var J=(Q=Q||{}).steps||64,rt=Q.units||"kilometers",at=Q.angle||0,ft=Q.pivot||B,yt=Q.properties||B.properties||{};if(!B)throw new Error("center is required");if(!U)throw new Error("xSemiAxis is required");if(!G)throw new Error("ySemiAxis is required");if(!Dt(Q))throw new Error("options must be an object");if(!Xt(J))throw new Error("steps must be a number");if(!Xt(at))throw new Error("angle must be a number");var vt=$t(B);if(rt==="degrees")var Tt=Ht(at);else U=pd(B,U,90,{units:rt}),G=pd(B,G,0,{units:rt}),U=$t(U)[0]-vt[0],G=$t(G)[1]-vt[1];for(var xt=[],It=0;It<J;It+=1){var Gt=-360*It/J,Wt=U*G/Math.sqrt(Math.pow(G,2)+Math.pow(U,2)*Math.pow(um(Gt),2)),ee=U*G/Math.sqrt(Math.pow(U,2)+Math.pow(G,2)/Math.pow(um(Gt),2));if(Gt<-90&&Gt>=-270&&(Wt=-Wt),Gt<-180&&Gt>=-360&&(ee=-ee),rt==="degrees"){var Bt=Wt*Math.cos(Tt)+ee*Math.sin(Tt),me=ee*Math.cos(Tt)-Wt*Math.sin(Tt);Wt=Bt,ee=me}xt.push([Wt+vt[0],ee+vt[1]])}return xt.push(xt[0]),rt==="degrees"?nt([xt],yt):$0(nt([xt],yt),at,{pivot:ft})}function um(B){var U=B*Math.PI/180;return Math.tan(U)}function $g(B,U){U===void 0&&(U={});var G=0,Q=0,J=0;return Oe(B,function(rt,at,ft){var yt=U.weight?ft==null?void 0:ft[U.weight]:void 0;if(!Xt(yt=yt??1))throw new Error("weight value must be a number for feature index "+at);(yt=Number(yt))>0&&Pt(rt,function(vt){G+=vt[0]*yt,Q+=vt[1]*yt,J+=yt})}),X([G/J,Q/J],U.properties,U)}function hm(B,U,G,Q,J){var rt=Q.tolerance||.001,at=0,ft=0,yt=0,vt=0;if(ve(G,function(It){var Gt,Wt=(Gt=It.properties)===null||Gt===void 0?void 0:Gt.weight,ee=Wt??1;if(!Xt(ee=Number(ee)))throw new Error("weight value must be a number");if(ee>0){vt+=1;var Bt=ee*Yr(It,B);Bt===0&&(Bt=1);var me=ee/Bt;at+=It.geometry.coordinates[0]*me,ft+=It.geometry.coordinates[1]*me,yt+=me}}),vt<1)throw new Error("no features to measure");var Tt=at/yt,xt=ft/yt;return vt===1||J===0||Math.abs(Tt-U[0])<rt&&Math.abs(xt-U[1])<rt?X([Tt,xt],{medianCandidates:Q.medianCandidates}):(Q.medianCandidates.push([Tt,xt]),hm([Tt,xt],B,G,Q,J-1))}function dm(B,U){return{x:B[0]-U[0],y:B[1]-U[1]}}function fy(B,U){var G=0,Q=0;Pt(B,function(J,rt,at,ft,yt){yt>G&&(G=yt,Q=rt,U.push([]));var vt=rt-Q,Tt=B.coordinates[yt][vt+1],xt=J[0],It=J[1],Gt=Tt[0],Wt=Tt[1];U[yt].push([.75*xt+.25*Gt,.75*It+.25*Wt]),U[yt].push([.25*xt+.75*Gt,.25*It+.75*Wt])},!0),U.forEach(function(J){J.push(J[0])})}function py(B,U){var G=0,Q=0,J=0;Pt(B,function(rt,at,ft,yt,vt){yt>J&&(J=yt,Q=at,U.push([[]])),vt>G&&(G=vt,Q=at,U[yt].push([]));var Tt=at-Q,xt=B.coordinates[yt][vt][Tt+1],It=rt[0],Gt=rt[1],Wt=xt[0],ee=xt[1];U[yt][vt].push([.75*It+.25*Wt,.75*Gt+.25*ee]),U[yt][vt].push([.25*It+.75*Wt,.25*Gt+.75*ee])},!0),U.forEach(function(rt){rt.forEach(function(at){at.push(at[0])})})}function gy(B,U,G){G===void 0&&(G=2);var Q=$t(B),J=$t(U),rt=Q[0]-J[0],at=Q[1]-J[1];return G===1?Math.abs(rt)+Math.abs(at):Math.pow(Math.pow(rt,G)+Math.pow(at,G),1/G)}function fm(B,U){var G=(U=U||{}).threshold||1e4,Q=U.p||2,J=U.binary||!1,rt=U.alpha||-1,at=U.standardization||!1,ft=[];ve(B,function(Gt){ft.push(Ta(Gt))});for(var yt=[],vt=0;vt<ft.length;vt++)yt[vt]=[];for(vt=0;vt<ft.length;vt++)for(var Tt=vt;Tt<ft.length;Tt++){vt===Tt&&(yt[vt][Tt]=0);var xt=gy(ft[vt],ft[Tt],Q);yt[vt][Tt]=xt,yt[Tt][vt]=xt}for(vt=0;vt<ft.length;vt++)for(Tt=0;Tt<ft.length;Tt++)(xt=yt[vt][Tt])!==0&&(yt[vt][Tt]=J?xt<=G?1:0:xt<=G?Math.pow(xt,rt):0);if(at)for(vt=0;vt<ft.length;vt++){var It=yt[vt].reduce(function(Gt,Wt){return Gt+Wt},0);for(Tt=0;Tt<ft.length;Tt++)yt[vt][Tt]=yt[vt][Tt]/It}return yt}function pm(B){for(var U=0,G=0,Q=B;G<Q.length;G++)U+=Q[G];return U/B.length}function gm(B,U){return U===void 0&&(U={}),ym(B,"mercator",U)}function mm(B,U){return U===void 0&&(U={}),ym(B,"wgs84",U)}function ym(B,U,G){G===void 0&&(G={});var Q=(G=G||{}).mutate;if(!B)throw new Error("geojson is required");return Array.isArray(B)&&Xt(B[0])?B=U==="mercator"?vm(B):bm(B):(Q!==!0&&(B=ai(B)),Pt(B,function(J){var rt=U==="mercator"?vm(J):bm(J);J[0]=rt[0],J[1]=rt[1]})),B}function vm(B){var U=Math.PI/180,G=6378137,Q=20037508342789244e-9,J=[G*(Math.abs(B[0])<=180?B[0]:B[0]-360*function(rt){return rt<0?-1:rt>0?1:0}(B[0]))*U,G*Math.log(Math.tan(.25*Math.PI+.5*B[1]*U))];return J[0]>Q&&(J[0]=Q),J[0]<-Q&&(J[0]=-Q),J[1]>Q&&(J[1]=Q),J[1]<-Q&&(J[1]=-Q),J}function bm(B){var U=180/Math.PI,G=6378137;return[B[0]*U/G,(.5*Math.PI-2*Math.atan(Math.exp(-B[1]/G)))*U]}Bg.prototype={constructor:Bg,polygons:function(){var B=this.edges;return this.cells.map(function(U){var G=U.halfedges.map(function(Q){return nm(U,B[Q])});return G.data=U.site.data,G})},triangles:function(){var B=[],U=this.edges;return this.cells.forEach(function(G,Q){if(rt=(J=G.halfedges).length)for(var J,rt,at,ft,yt,vt,Tt=G.site,xt=-1,It=U[J[rt-1]],Gt=It.left===Tt?It.right:It.left;++xt<rt;)at=Gt,Gt=(It=U[J[xt]]).left===Tt?It.right:It.left,at&&Gt&&Q<at.index&&Q<Gt.index&&(yt=at,vt=Gt,((ft=Tt)[0]-vt[0])*(yt[1]-ft[1])-(ft[0]-yt[0])*(vt[1]-ft[1])<0)&&B.push([Tt.data,at.data,Gt.data])}),B},links:function(){return this.edges.filter(function(B){return B.right}).map(function(B){return{source:B.left.data,target:B.right.data}})},find:function(B,U,G){for(var Q,J,rt=this,at=rt._found||0,ft=rt.cells.length;!(J=rt.cells[at]);)if(++at>=ft)return null;var yt=B-J.site[0],vt=U-J.site[1],Tt=yt*yt+vt*vt;do J=rt.cells[Q=at],at=null,J.halfedges.forEach(function(xt){var It=rt.edges[xt],Gt=It.left;if(Gt!==J.site&&Gt||(Gt=It.right)){var Wt=B-Gt[0],ee=U-Gt[1],Bt=Wt*Wt+ee*ee;Bt<Tt&&(Tt=Bt,at=Gt.index)}});while(at!==null);return rt._found=Q,G==null||Tt<=G*G?J.site:null}};var my=Object.freeze({__proto__:null,toMercator:gm,toWgs84:mm}),yy=function(){for(var B=0,U=0,G=arguments.length;U<G;U++)B+=arguments[U].length;var Q=Array(B),J=0;for(U=0;U<G;U++)for(var rt=arguments[U],at=0,ft=rt.length;at<ft;at++,J++)Q[J]=rt[at];return Q};function vf(B){return Array.isArray(B)?Em(B):B&&B.bbox?Em(B.bbox):[360*xm(),180*xm()]}function _m(B,U){U===void 0&&(U={}),B==null&&(B=1);for(var G=[],Q=0;Q<B;Q++)G.push(X(vf(U.bbox)));return ht(G)}function Fg(B,U){U===void 0&&(U={}),B==null&&(B=1),Xt(U.num_vertices)&&U.num_vertices!==void 0||(U.num_vertices=10),Xt(U.max_radial_length)&&U.max_radial_length!==void 0||(U.max_radial_length=10);for(var G=[],Q=function(rt){var at,ft=[],yt=yy(Array(U.num_vertices+1)).map(Math.random);yt.forEach(function(vt,Tt,xt){xt[Tt]=Tt>0?vt+xt[Tt-1]:vt}),yt.forEach(function(vt){vt=2*vt*Math.PI/yt[yt.length-1];var Tt=Math.random();ft.push([Tt*(U.max_radial_length||10)*Math.sin(vt),Tt*(U.max_radial_length||10)*Math.cos(vt)])}),ft[ft.length-1]=ft[0],ft=ft.map((at=vf(U.bbox),function(vt){return[vt[0]+at[0],vt[1]+at[1]]})),G.push(nt([ft]))},J=0;J<B;J++)Q();return ht(G)}function wm(B,U){if(U===void 0&&(U={}),!Dt(U=U||{}))throw new Error("options is invalid");var G=U.bbox,Q=U.num_vertices,J=U.max_length,rt=U.max_rotation;B==null&&(B=1),(!Xt(Q)||Q===void 0||Q<2)&&(Q=10),Xt(J)&&J!==void 0||(J=1e-4),Xt(rt)&&rt!==void 0||(rt=Math.PI/8);for(var at=[],ft=0;ft<B;ft++){for(var yt=[vf(G)],vt=0;vt<Q-1;vt++){var Tt=(vt===0?2*Math.random()*Math.PI:Math.tan((yt[vt][1]-yt[vt-1][1])/(yt[vt][0]-yt[vt-1][0])))+(Math.random()-.5)*rt*2,xt=Math.random()*J;yt.push([yt[vt][0]+xt*Math.cos(Tt),yt[vt][1]+xt*Math.sin(Tt)])}at.push(ct(yt))}return ht(at)}function xm(){return Math.random()-.5}function Em(B){return[Math.random()*(B[2]-B[0])+B[0],Math.random()*(B[3]-B[1])+B[1]]}var vy=Object.freeze({__proto__:null,randomPosition:vf,randomPoint:_m,randomPolygon:Fg,randomLineString:wm});function Mm(B,U){if(!B)throw new Error("geojson is required");if(B.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(U==null)throw new Error("filter is required");var G=[];return ve(B,function(Q){_p(Q.properties,U)&&G.push(Q)}),ht(G)}function Ug(B,U,G){if(!B)throw new Error("geojson is required");if(B.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(U==null)throw new Error("property is required");for(var Q=Yg(B,U),J=Object.keys(Q),rt=0;rt<J.length;rt++){for(var at=J[rt],ft=Q[at],yt=[],vt=0;vt<ft.length;vt++)yt.push(B.features[ft[vt]]);G(ht(yt),at,rt)}}function bp(B,U,G,Q){var J=Q;return Ug(B,U,function(rt,at,ft){J=ft===0&&Q===void 0?rt:G(J,rt,at,ft)}),J}function Yg(B,U){var G={};return ve(B,function(Q,J){var rt=Q.properties||{};if(Object.prototype.hasOwnProperty.call(rt,String(U))){var at=rt[U];Object.prototype.hasOwnProperty.call(G,at)?G[at].push(J):G[at]=[J]}}),G}function _p(B,U){if(B===void 0)return!1;var G=typeof U;if(G==="number"||G==="string")return Object.prototype.hasOwnProperty.call(B,U);if(Array.isArray(U)){for(var Q=0;Q<U.length;Q++)if(!_p(B,U[Q]))return!1;return!0}return Hg(B,U)}function Hg(B,U){for(var G=Object.keys(U),Q=0;Q<G.length;Q++){var J=G[Q];if(B[J]!==U[J])return!1}return!0}function Tm(B,U){if(!U)return{};if(!U.length)return{};for(var G={},Q=0;Q<U.length;Q++){var J=U[Q];Object.prototype.hasOwnProperty.call(B,J)&&(G[J]=B[J])}return G}var by=Object.freeze({__proto__:null,getCluster:Mm,clusterEach:Ug,clusterReduce:bp,createBins:Yg,applyFilter:_p,propertiesContainsFilter:Hg,filterProperties:Tm}),Ku=function(B,U){this.next=null,this.key=B,this.data=U,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function Vg(B,U){return B>U?1:B<U?-1:0}function yu(B,U,G){for(var Q=new Ku(null,null),J=Q,rt=Q;;){var at=G(B,U.key);if(at<0){if(U.left===null)break;if(G(B,U.left.key)<0){var ft=U.left;if(U.left=ft.right,ft.right=U,(U=ft).left===null)break}rt.left=U,rt=U,U=U.left}else{if(!(at>0)||U.right===null||G(B,U.right.key)>0&&(ft=U.right,U.right=ft.left,ft.left=U,(U=ft).right===null))break;J.right=U,J=U,U=U.right}}return J.right=U.left,rt.left=U.right,U.left=Q.right,U.right=Q.left,U}function Gg(B,U,G,Q){var J=new Ku(B,U);if(G===null)return J.left=J.right=null,J;var rt=Q(B,(G=yu(B,G,Q)).key);return rt<0?(J.left=G.left,J.right=G,G.left=null):rt>=0&&(J.right=G.right,J.left=G,G.right=null),J}function Wg(B,U,G){var Q=null,J=null;if(U){var rt=G((U=yu(B,U,G)).key,B);rt===0?(Q=U.left,J=U.right):rt<0?(J=U.right,U.right=null,Q=U):(Q=U.left,U.left=null,J=U)}return{left:Q,right:J}}function qg(B,U,G,Q,J){if(B){Q(U+(G?" ":" ")+J(B)+`
`);var rt=U+(G?"    ":"   ");B.left&&qg(B.left,rt,!1,Q,J),B.right&&qg(B.right,rt,!0,Q,J)}}var Qg=function(){function B(U){U===void 0&&(U=Vg),this._root=null,this._size=0,this._comparator=U}return B.prototype.insert=function(U,G){return this._size++,this._root=Gg(U,G,this._root,this._comparator)},B.prototype.add=function(U,G){var Q=new Ku(U,G);this._root===null&&(Q.left=Q.right=null,this._size++,this._root=Q);var J=this._comparator,rt=yu(U,this._root,J),at=J(U,rt.key);return at===0?this._root=rt:(at<0?(Q.left=rt.left,Q.right=rt,rt.left=null):at>0&&(Q.right=rt.right,Q.left=rt,rt.right=null),this._size++,this._root=Q),this._root},B.prototype.remove=function(U){this._root=this._remove(U,this._root,this._comparator)},B.prototype._remove=function(U,G,Q){var J;return G===null?null:Q(U,(G=yu(U,G,Q)).key)===0?(G.left===null?J=G.right:(J=yu(U,G.left,Q)).right=G.right,this._size--,J):G},B.prototype.pop=function(){var U=this._root;if(U){for(;U.left;)U=U.left;return this._root=yu(U.key,this._root,this._comparator),this._root=this._remove(U.key,this._root,this._comparator),{key:U.key,data:U.data}}return null},B.prototype.findStatic=function(U){for(var G=this._root,Q=this._comparator;G;){var J=Q(U,G.key);if(J===0)return G;G=J<0?G.left:G.right}return null},B.prototype.find=function(U){return this._root&&(this._root=yu(U,this._root,this._comparator),this._comparator(U,this._root.key)!==0)?null:this._root},B.prototype.contains=function(U){for(var G=this._root,Q=this._comparator;G;){var J=Q(U,G.key);if(J===0)return!0;G=J<0?G.left:G.right}return!1},B.prototype.forEach=function(U,G){for(var Q=this._root,J=[],rt=!1;!rt;)Q!==null?(J.push(Q),Q=Q.left):J.length!==0?(Q=J.pop(),U.call(G,Q),Q=Q.right):rt=!0;return this},B.prototype.range=function(U,G,Q,J){for(var rt=[],at=this._comparator,ft=this._root;rt.length!==0||ft;)if(ft)rt.push(ft),ft=ft.left;else{if(at((ft=rt.pop()).key,G)>0)break;if(at(ft.key,U)>=0&&Q.call(J,ft))return this;ft=ft.right}return this},B.prototype.keys=function(){var U=[];return this.forEach(function(G){var Q=G.key;return U.push(Q)}),U},B.prototype.values=function(){var U=[];return this.forEach(function(G){var Q=G.data;return U.push(Q)}),U},B.prototype.min=function(){return this._root?this.minNode(this._root).key:null},B.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},B.prototype.minNode=function(U){if(U===void 0&&(U=this._root),U)for(;U.left;)U=U.left;return U},B.prototype.maxNode=function(U){if(U===void 0&&(U=this._root),U)for(;U.right;)U=U.right;return U},B.prototype.at=function(U){for(var G=this._root,Q=!1,J=0,rt=[];!Q;)if(G)rt.push(G),G=G.left;else if(rt.length>0){if(G=rt.pop(),J===U)return G;J++,G=G.right}else Q=!0;return null},B.prototype.next=function(U){var G=this._root,Q=null;if(U.right){for(Q=U.right;Q.left;)Q=Q.left;return Q}for(var J=this._comparator;G;){var rt=J(U.key,G.key);if(rt===0)break;rt<0?(Q=G,G=G.left):G=G.right}return Q},B.prototype.prev=function(U){var G=this._root,Q=null;if(U.left!==null){for(Q=U.left;Q.right;)Q=Q.right;return Q}for(var J=this._comparator;G;){var rt=J(U.key,G.key);if(rt===0)break;rt<0?G=G.left:(Q=G,G=G.right)}return Q},B.prototype.clear=function(){return this._root=null,this._size=0,this},B.prototype.toList=function(){return function(U){for(var G=U,Q=[],J=!1,rt=new Ku(null,null),at=rt;!J;)G?(Q.push(G),G=G.left):Q.length>0?G=(G=at=at.next=Q.pop()).right:J=!0;return at.next=null,rt.next}(this._root)},B.prototype.load=function(U,G,Q){G===void 0&&(G=[]),Q===void 0&&(Q=!1);var J=U.length,rt=this._comparator;if(Q&&Zg(U,G,0,J-1,rt),this._root===null)this._root=Xg(U,G,0,J),this._size=J;else{var at=function(ft,yt,vt){for(var Tt=new Ku(null,null),xt=Tt,It=ft,Gt=yt;It!==null&&Gt!==null;)vt(It.key,Gt.key)<0?(xt.next=It,It=It.next):(xt.next=Gt,Gt=Gt.next),xt=xt.next;return It!==null?xt.next=It:Gt!==null&&(xt.next=Gt),Tt.next}(this.toList(),function(ft,yt){for(var vt=new Ku(null,null),Tt=vt,xt=0;xt<ft.length;xt++)Tt=Tt.next=new Ku(ft[xt],yt[xt]);return Tt.next=null,vt.next}(U,G),rt);J=this._size+J,this._root=wp({head:at},0,J)}return this},B.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(B.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),B.prototype.toString=function(U){U===void 0&&(U=function(Q){return String(Q.key)});var G=[];return qg(this._root,"",!0,function(Q){return G.push(Q)},U),G.join("")},B.prototype.update=function(U,G,Q){var J=this._comparator,rt=Wg(U,this._root,J),at=rt.left,ft=rt.right;J(U,G)<0?ft=Gg(G,Q,ft,J):at=Gg(G,Q,at,J),this._root=function(yt,vt,Tt){return vt===null?yt:(yt===null||((vt=yu(yt.key,vt,Tt)).left=yt),vt)}(at,ft,J)},B.prototype.split=function(U){return Wg(U,this._root,this._comparator)},B}();function Xg(B,U,G,Q){var J=Q-G;if(J>0){var rt=G+Math.floor(J/2),at=B[rt],ft=U[rt],yt=new Ku(at,ft);return yt.left=Xg(B,U,G,rt),yt.right=Xg(B,U,rt+1,Q),yt}return null}function wp(B,U,G){var Q=G-U;if(Q>0){var J=U+Math.floor(Q/2),rt=wp(B,U,J),at=B.head;return at.left=rt,B.head=B.head.next,at.right=wp(B,J+1,G),at}return null}function Zg(B,U,G,Q,J){if(!(G>=Q)){for(var rt=B[G+Q>>1],at=G-1,ft=Q+1;;){do at++;while(J(B[at],rt)<0);do ft--;while(J(B[ft],rt)>0);if(at>=ft)break;var yt=B[at];B[at]=B[ft],B[ft]=yt,yt=U[at],U[at]=U[ft],U[ft]=yt}Zg(B,U,G,ft,J),Zg(B,U,ft+1,Q,J)}}function Ua(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")}function Jg(B,U){for(var G=0;G<U.length;G++){var Q=U[G];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(B,Q.key,Q)}}function Da(B,U,G){return U&&Jg(B.prototype,U),G&&Jg(B,G),B}var bf=function(B,U){return B.ll.x<=U.x&&U.x<=B.ur.x&&B.ll.y<=U.y&&U.y<=B.ur.y},xp=function(B,U){if(U.ur.x<B.ll.x||B.ur.x<U.ll.x||U.ur.y<B.ll.y||B.ur.y<U.ll.y)return null;var G=B.ll.x<U.ll.x?U.ll.x:B.ll.x,Q=B.ur.x<U.ur.x?B.ur.x:U.ur.x;return{ll:{x:G,y:B.ll.y<U.ll.y?U.ll.y:B.ll.y},ur:{x:Q,y:B.ur.y<U.ur.y?B.ur.y:U.ur.y}}},vu=Number.EPSILON;vu===void 0&&(vu=Math.pow(2,-52));var Ep=vu*vu,Kg=function(B,U){if(-vu<B&&B<vu&&-vu<U&&U<vu)return 0;var G=B-U;return G*G<Ep*B*U?0:B<U?-1:1},Sm=function(){function B(){Ua(this,B),this.reset()}return Da(B,[{key:"reset",value:function(){this.xRounder=new Cm,this.yRounder=new Cm}},{key:"round",value:function(U,G){return{x:this.xRounder.round(U),y:this.yRounder.round(G)}}}]),B}(),Cm=function(){function B(){Ua(this,B),this.tree=new Qg,this.round(0)}return Da(B,[{key:"round",value:function(U){var G=this.tree.add(U),Q=this.tree.prev(G);if(Q!==null&&Kg(G.key,Q.key)===0)return this.tree.remove(U),Q.key;var J=this.tree.next(G);return J!==null&&Kg(G.key,J.key)===0?(this.tree.remove(U),J.key):U}}]),B}(),_f=new Sm,wf=function(B,U){return B.x*U.y-B.y*U.x},km=function(B,U){return B.x*U.x+B.y*U.y},Am=function(B,U,G){var Q={x:U.x-B.x,y:U.y-B.y},J={x:G.x-B.x,y:G.y-B.y},rt=wf(Q,J);return Kg(rt,0)},Mp=function(B){return Math.sqrt(km(B,B))},Nm=function(B,U,G){var Q={x:U.x-B.x,y:U.y-B.y},J={x:G.x-B.x,y:G.y-B.y};return km(J,Q)/Mp(J)/Mp(Q)},Dm=function(B,U,G){return U.y===0?null:{x:B.x+U.x/U.y*(G-B.y),y:G}},Im=function(B,U,G){return U.x===0?null:{x:G,y:B.y+U.y/U.x*(G-B.x)}},$c=function(){function B(U,G){Ua(this,B),U.events===void 0?U.events=[this]:U.events.push(this),this.point=U,this.isLeft=G}return Da(B,null,[{key:"compare",value:function(U,G){var Q=B.comparePoints(U.point,G.point);return Q!==0?Q:(U.point!==G.point&&U.link(G),U.isLeft!==G.isLeft?U.isLeft?1:-1:Tp.compare(U.segment,G.segment))}},{key:"comparePoints",value:function(U,G){return U.x<G.x?-1:U.x>G.x?1:U.y<G.y?-1:U.y>G.y?1:0}}]),Da(B,[{key:"link",value:function(U){if(U.point===this.point)throw new Error("Tried to link already linked events");for(var G=U.point.events,Q=0,J=G.length;Q<J;Q++){var rt=G[Q];this.point.events.push(rt),rt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var U=this.point.events.length,G=0;G<U;G++){var Q=this.point.events[G];if(Q.segment.consumedBy===void 0)for(var J=G+1;J<U;J++){var rt=this.point.events[J];rt.consumedBy===void 0&&Q.otherSE.point.events===rt.otherSE.point.events&&Q.segment.consume(rt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var U=[],G=0,Q=this.point.events.length;G<Q;G++){var J=this.point.events[G];J!==this&&!J.segment.ringOut&&J.segment.isInResult()&&U.push(J)}return U}},{key:"getLeftmostComparator",value:function(U){var G=this,Q=new Map,J=function(rt){var at,ft,yt,vt,Tt,xt=rt.otherSE;Q.set(rt,{sine:(at=G.point,ft=U.point,yt=xt.point,vt={x:ft.x-at.x,y:ft.y-at.y},Tt={x:yt.x-at.x,y:yt.y-at.y},wf(Tt,vt)/Mp(Tt)/Mp(vt)),cosine:Nm(G.point,U.point,xt.point)})};return function(rt,at){Q.has(rt)||J(rt),Q.has(at)||J(at);var ft=Q.get(rt),yt=ft.sine,vt=ft.cosine,Tt=Q.get(at),xt=Tt.sine,It=Tt.cosine;return yt>=0&&xt>=0?vt<It?1:vt>It?-1:0:yt<0&&xt<0?vt<It?-1:vt>It?1:0:xt<yt?-1:xt>yt?1:0}}}]),B}(),_y=0,Tp=function(){function B(U,G,Q,J){Ua(this,B),this.id=++_y,this.leftSE=U,U.segment=this,U.otherSE=G,this.rightSE=G,G.segment=this,G.otherSE=U,this.rings=Q,this.windings=J}return Da(B,null,[{key:"compare",value:function(U,G){var Q=U.leftSE.point.x,J=G.leftSE.point.x,rt=U.rightSE.point.x,at=G.rightSE.point.x;if(at<Q)return 1;if(rt<J)return-1;var ft=U.leftSE.point.y,yt=G.leftSE.point.y,vt=U.rightSE.point.y,Tt=G.rightSE.point.y;if(Q<J){if(yt<ft&&yt<vt)return 1;if(yt>ft&&yt>vt)return-1;var xt=U.comparePoint(G.leftSE.point);if(xt<0)return 1;if(xt>0)return-1;var It=G.comparePoint(U.rightSE.point);return It!==0?It:-1}if(Q>J){if(ft<yt&&ft<Tt)return-1;if(ft>yt&&ft>Tt)return 1;var Gt=G.comparePoint(U.leftSE.point);if(Gt!==0)return Gt;var Wt=U.comparePoint(G.rightSE.point);return Wt<0?1:Wt>0?-1:1}if(ft<yt)return-1;if(ft>yt)return 1;if(rt<at){var ee=G.comparePoint(U.rightSE.point);if(ee!==0)return ee}if(rt>at){var Bt=U.comparePoint(G.rightSE.point);if(Bt<0)return 1;if(Bt>0)return-1}if(rt!==at){var me=vt-ft,Ie=rt-Q,Zt=Tt-yt,fe=at-J;if(me>Ie&&Zt<fe)return 1;if(me<Ie&&Zt>fe)return-1}return rt>at?1:rt<at||vt<Tt?-1:vt>Tt?1:U.id<G.id?-1:U.id>G.id?1:0}}]),Da(B,[{key:"replaceRightSE",value:function(U){this.rightSE=U,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var U=this.leftSE.point.y,G=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:U<G?U:G},ur:{x:this.rightSE.point.x,y:U>G?U:G}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(U){return U.x===this.leftSE.point.x&&U.y===this.leftSE.point.y||U.x===this.rightSE.point.x&&U.y===this.rightSE.point.y}},{key:"comparePoint",value:function(U){if(this.isAnEndpoint(U))return 0;var G=this.leftSE.point,Q=this.rightSE.point,J=this.vector();if(G.x===Q.x)return U.x===G.x?0:U.x<G.x?1:-1;var rt=(U.y-G.y)/J.y,at=G.x+rt*J.x;if(U.x===at)return 0;var ft=(U.x-G.x)/J.x,yt=G.y+ft*J.y;return U.y===yt?0:U.y<yt?-1:1}},{key:"getIntersection",value:function(U){var G=this.bbox(),Q=U.bbox(),J=xp(G,Q);if(J===null)return null;var rt=this.leftSE.point,at=this.rightSE.point,ft=U.leftSE.point,yt=U.rightSE.point,vt=bf(G,ft)&&this.comparePoint(ft)===0,Tt=bf(Q,rt)&&U.comparePoint(rt)===0,xt=bf(G,yt)&&this.comparePoint(yt)===0,It=bf(Q,at)&&U.comparePoint(at)===0;if(Tt&&vt)return It&&!xt?at:!It&&xt?yt:null;if(Tt)return xt&&rt.x===yt.x&&rt.y===yt.y?null:rt;if(vt)return It&&at.x===ft.x&&at.y===ft.y?null:ft;if(It&&xt)return null;if(It)return at;if(xt)return yt;var Gt=function(Wt,ee,Bt,me){if(ee.x===0)return Im(Bt,me,Wt.x);if(me.x===0)return Im(Wt,ee,Bt.x);if(ee.y===0)return Dm(Bt,me,Wt.y);if(me.y===0)return Dm(Wt,ee,Bt.y);var Ie=wf(ee,me);if(Ie==0)return null;var Zt={x:Bt.x-Wt.x,y:Bt.y-Wt.y},fe=wf(Zt,ee)/Ie,be=wf(Zt,me)/Ie;return{x:(Wt.x+be*ee.x+(Bt.x+fe*me.x))/2,y:(Wt.y+be*ee.y+(Bt.y+fe*me.y))/2}}(rt,this.vector(),ft,U.vector());return Gt===null?null:bf(J,Gt)?_f.round(Gt.x,Gt.y):null}},{key:"split",value:function(U){var G=[],Q=U.events!==void 0,J=new $c(U,!0),rt=new $c(U,!1),at=this.rightSE;this.replaceRightSE(rt),G.push(rt),G.push(J);var ft=new B(J,at,this.rings.slice(),this.windings.slice());return $c.comparePoints(ft.leftSE.point,ft.rightSE.point)>0&&ft.swapEvents(),$c.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Q&&(J.checkForConsuming(),rt.checkForConsuming()),G}},{key:"swapEvents",value:function(){var U=this.rightSE;this.rightSE=this.leftSE,this.leftSE=U,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var G=0,Q=this.windings.length;G<Q;G++)this.windings[G]*=-1}},{key:"consume",value:function(U){for(var G=this,Q=U;G.consumedBy;)G=G.consumedBy;for(;Q.consumedBy;)Q=Q.consumedBy;var J=B.compare(G,Q);if(J!==0){if(J>0){var rt=G;G=Q,Q=rt}if(G.prev===Q){var at=G;G=Q,Q=at}for(var ft=0,yt=Q.rings.length;ft<yt;ft++){var vt=Q.rings[ft],Tt=Q.windings[ft],xt=G.rings.indexOf(vt);xt===-1?(G.rings.push(vt),G.windings.push(Tt)):G.windings[xt]+=Tt}Q.rings=null,Q.windings=null,Q.consumedBy=G,Q.leftSE.consumedBy=G.leftSE,Q.rightSE.consumedBy=G.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var U=this.prev.consumedBy||this.prev;this._beforeState=U.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var U=this.beforeState();this._afterState={rings:U.rings.slice(0),windings:U.windings.slice(0),multiPolys:[]};for(var G=this._afterState.rings,Q=this._afterState.windings,J=this._afterState.multiPolys,rt=0,at=this.rings.length;rt<at;rt++){var ft=this.rings[rt],yt=this.windings[rt],vt=G.indexOf(ft);vt===-1?(G.push(ft),Q.push(yt)):Q[vt]+=yt}for(var Tt=[],xt=[],It=0,Gt=G.length;It<Gt;It++)if(Q[It]!==0){var Wt=G[It],ee=Wt.poly;if(xt.indexOf(ee)===-1)if(Wt.isExterior)Tt.push(ee);else{xt.indexOf(ee)===-1&&xt.push(ee);var Bt=Tt.indexOf(Wt.poly);Bt!==-1&&Tt.splice(Bt,1)}}for(var me=0,Ie=Tt.length;me<Ie;me++){var Zt=Tt[me].multiPoly;J.indexOf(Zt)===-1&&J.push(Zt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var U=this.beforeState().multiPolys,G=this.afterState().multiPolys;switch(hc.type){case"union":var Q=U.length===0,J=G.length===0;this._isInResult=Q!==J;break;case"intersection":var rt,at;U.length<G.length?(rt=U.length,at=G.length):(rt=G.length,at=U.length),this._isInResult=at===hc.numMultiPolys&&rt<at;break;case"xor":var ft=Math.abs(U.length-G.length);this._isInResult=ft%2==1;break;case"difference":var yt=function(vt){return vt.length===1&&vt[0].isSubject};this._isInResult=yt(U)!==yt(G);break;default:throw new Error("Unrecognized operation type found ".concat(hc.type))}return this._isInResult}}],[{key:"fromRing",value:function(U,G,Q){var J,rt,at,ft=$c.comparePoints(U,G);if(ft<0)J=U,rt=G,at=1;else{if(!(ft>0))throw new Error("Tried to create degenerate segment at [".concat(U.x,", ").concat(U.y,"]"));J=G,rt=U,at=-1}return new B(new $c(J,!0),new $c(rt,!1),[Q],[at])}}]),B}(),Lm=function(){function B(U,G,Q){if(Ua(this,B),!Array.isArray(U)||U.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=G,this.isExterior=Q,this.segments=[],typeof U[0][0]!="number"||typeof U[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var J=_f.round(U[0][0],U[0][1]);this.bbox={ll:{x:J.x,y:J.y},ur:{x:J.x,y:J.y}};for(var rt=J,at=1,ft=U.length;at<ft;at++){if(typeof U[at][0]!="number"||typeof U[at][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var yt=_f.round(U[at][0],U[at][1]);yt.x===rt.x&&yt.y===rt.y||(this.segments.push(Tp.fromRing(rt,yt,this)),yt.x<this.bbox.ll.x&&(this.bbox.ll.x=yt.x),yt.y<this.bbox.ll.y&&(this.bbox.ll.y=yt.y),yt.x>this.bbox.ur.x&&(this.bbox.ur.x=yt.x),yt.y>this.bbox.ur.y&&(this.bbox.ur.y=yt.y),rt=yt)}J.x===rt.x&&J.y===rt.y||this.segments.push(Tp.fromRing(rt,J,this))}return Da(B,[{key:"getSweepEvents",value:function(){for(var U=[],G=0,Q=this.segments.length;G<Q;G++){var J=this.segments[G];U.push(J.leftSE),U.push(J.rightSE)}return U}}]),B}(),wy=function(){function B(U,G){if(Ua(this,B),!Array.isArray(U))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Lm(U[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var Q=1,J=U.length;Q<J;Q++){var rt=new Lm(U[Q],this,!1);rt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=rt.bbox.ll.x),rt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=rt.bbox.ll.y),rt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=rt.bbox.ur.x),rt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=rt.bbox.ur.y),this.interiorRings.push(rt)}this.multiPoly=G}return Da(B,[{key:"getSweepEvents",value:function(){for(var U=this.exteriorRing.getSweepEvents(),G=0,Q=this.interiorRings.length;G<Q;G++)for(var J=this.interiorRings[G].getSweepEvents(),rt=0,at=J.length;rt<at;rt++)U.push(J[rt]);return U}}]),B}(),Om=function(){function B(U,G){if(Ua(this,B),!Array.isArray(U))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof U[0][0][0]=="number"&&(U=[U])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var Q=0,J=U.length;Q<J;Q++){var rt=new wy(U[Q],this);rt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=rt.bbox.ll.x),rt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=rt.bbox.ll.y),rt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=rt.bbox.ur.x),rt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=rt.bbox.ur.y),this.polys.push(rt)}this.isSubject=G}return Da(B,[{key:"getSweepEvents",value:function(){for(var U=[],G=0,Q=this.polys.length;G<Q;G++)for(var J=this.polys[G].getSweepEvents(),rt=0,at=J.length;rt<at;rt++)U.push(J[rt]);return U}}]),B}(),Pm=function(){function B(U){Ua(this,B),this.events=U;for(var G=0,Q=U.length;G<Q;G++)U[G].segment.ringOut=this;this.poly=null}return Da(B,null,[{key:"factory",value:function(U){for(var G=[],Q=0,J=U.length;Q<J;Q++){var rt=U[Q];if(rt.isInResult()&&!rt.ringOut){for(var at=null,ft=rt.leftSE,yt=rt.rightSE,vt=[ft],Tt=ft.point,xt=[];at=ft,ft=yt,vt.push(ft),ft.point!==Tt;)for(;;){var It=ft.getAvailableLinkedEvents();if(It.length===0){var Gt=vt[0].point,Wt=vt[vt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Gt.x,",")+" ".concat(Gt.y,"]. Last matching segment found ends at")+" [".concat(Wt.x,", ").concat(Wt.y,"]."))}if(It.length===1){yt=It[0].otherSE;break}for(var ee=null,Bt=0,me=xt.length;Bt<me;Bt++)if(xt[Bt].point===ft.point){ee=Bt;break}if(ee===null){xt.push({index:vt.length,point:ft.point});var Ie=ft.getLeftmostComparator(at);yt=It.sort(Ie)[0].otherSE;break}var Zt=xt.splice(ee)[0],fe=vt.splice(Zt.index);fe.unshift(fe[0].otherSE),G.push(new B(fe.reverse()))}G.push(new B(vt))}}return G}}]),Da(B,[{key:"getGeom",value:function(){for(var U=this.events[0].point,G=[U],Q=1,J=this.events.length-1;Q<J;Q++){var rt=this.events[Q].point,at=this.events[Q+1].point;Am(rt,U,at)!==0&&(G.push(rt),U=rt)}if(G.length===1)return null;var ft=G[0],yt=G[1];Am(ft,U,yt)===0&&G.shift(),G.push(G[0]);for(var vt=this.isExteriorRing()?1:-1,Tt=this.isExteriorRing()?0:G.length-1,xt=this.isExteriorRing()?G.length:-1,It=[],Gt=Tt;Gt!=xt;Gt+=vt)It.push([G[Gt].x,G[Gt].y]);return It}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var U=this.enclosingRing();this._isExteriorRing=!U||!U.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var U=this.events[0],G=1,Q=this.events.length;G<Q;G++){var J=this.events[G];$c.compare(U,J)>0&&(U=J)}for(var rt=U.segment.prevInResult(),at=rt?rt.prevInResult():null;;){if(!rt)return null;if(!at)return rt.ringOut;if(at.ringOut!==rt.ringOut)return at.ringOut.enclosingRing()!==rt.ringOut?rt.ringOut:rt.ringOut.enclosingRing();rt=at.prevInResult(),at=rt?rt.prevInResult():null}}}]),B}(),zm=function(){function B(U){Ua(this,B),this.exteriorRing=U,U.poly=this,this.interiorRings=[]}return Da(B,[{key:"addInterior",value:function(U){this.interiorRings.push(U),U.poly=this}},{key:"getGeom",value:function(){var U=[this.exteriorRing.getGeom()];if(U[0]===null)return null;for(var G=0,Q=this.interiorRings.length;G<Q;G++){var J=this.interiorRings[G].getGeom();J!==null&&U.push(J)}return U}}]),B}(),xy=function(){function B(U){Ua(this,B),this.rings=U,this.polys=this._composePolys(U)}return Da(B,[{key:"getGeom",value:function(){for(var U=[],G=0,Q=this.polys.length;G<Q;G++){var J=this.polys[G].getGeom();J!==null&&U.push(J)}return U}},{key:"_composePolys",value:function(U){for(var G=[],Q=0,J=U.length;Q<J;Q++){var rt=U[Q];if(!rt.poly)if(rt.isExteriorRing())G.push(new zm(rt));else{var at=rt.enclosingRing();at.poly||G.push(new zm(at)),at.poly.addInterior(rt)}}return G}}]),B}(),Ey=function(){function B(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tp.compare;Ua(this,B),this.queue=U,this.tree=new Qg(G),this.segments=[]}return Da(B,[{key:"process",value:function(U){var G=U.segment,Q=[];if(U.consumedBy)return U.isLeft?this.queue.remove(U.otherSE):this.tree.remove(G),Q;var J=U.isLeft?this.tree.insert(G):this.tree.find(G);if(!J)throw new Error("Unable to find segment #".concat(G.id," ")+"[".concat(G.leftSE.point.x,", ").concat(G.leftSE.point.y,"] -> ")+"[".concat(G.rightSE.point.x,", ").concat(G.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var rt=J,at=J,ft=void 0,yt=void 0;ft===void 0;)(rt=this.tree.prev(rt))===null?ft=null:rt.key.consumedBy===void 0&&(ft=rt.key);for(;yt===void 0;)(at=this.tree.next(at))===null?yt=null:at.key.consumedBy===void 0&&(yt=at.key);if(U.isLeft){var vt=null;if(ft){var Tt=ft.getIntersection(G);if(Tt!==null&&(G.isAnEndpoint(Tt)||(vt=Tt),!ft.isAnEndpoint(Tt)))for(var xt=this._splitSafely(ft,Tt),It=0,Gt=xt.length;It<Gt;It++)Q.push(xt[It])}var Wt=null;if(yt){var ee=yt.getIntersection(G);if(ee!==null&&(G.isAnEndpoint(ee)||(Wt=ee),!yt.isAnEndpoint(ee)))for(var Bt=this._splitSafely(yt,ee),me=0,Ie=Bt.length;me<Ie;me++)Q.push(Bt[me])}if(vt!==null||Wt!==null){var Zt=null;vt===null?Zt=Wt:Wt===null?Zt=vt:Zt=$c.comparePoints(vt,Wt)<=0?vt:Wt,this.queue.remove(G.rightSE),Q.push(G.rightSE);for(var fe=G.split(Zt),be=0,Ee=fe.length;be<Ee;be++)Q.push(fe[be])}Q.length>0?(this.tree.remove(G),Q.push(U)):(this.segments.push(G),G.prev=ft)}else{if(ft&&yt){var _e=ft.getIntersection(yt);if(_e!==null){if(!ft.isAnEndpoint(_e))for(var wn=this._splitSafely(ft,_e),cn=0,Tn=wn.length;cn<Tn;cn++)Q.push(wn[cn]);if(!yt.isAnEndpoint(_e))for(var dn=this._splitSafely(yt,_e),An=0,yn=dn.length;An<yn;An++)Q.push(dn[An])}}this.tree.remove(G)}return Q}},{key:"_splitSafely",value:function(U,G){this.tree.remove(U);var Q=U.rightSE;this.queue.remove(Q);var J=U.split(G);return J.push(Q),U.consumedBy===void 0&&this.tree.insert(U),J}}]),B}(),Rm=typeof process<"u"&&{name:"juncture-webcomponents",version:"0.4.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,My=typeof process<"u"&&{name:"juncture-webcomponents",version:"0.4.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,hc=new(function(){function B(){Ua(this,B)}return Da(B,[{key:"run",value:function(U,G,Q){hc.type=U,_f.reset();for(var J=[new Om(G,!0)],rt=0,at=Q.length;rt<at;rt++)J.push(new Om(Q[rt],!1));if(hc.numMultiPolys=J.length,hc.type==="difference")for(var ft=J[0],yt=1;yt<J.length;)xp(J[yt].bbox,ft.bbox)!==null?yt++:J.splice(yt,1);if(hc.type==="intersection"){for(var vt=0,Tt=J.length;vt<Tt;vt++)for(var xt=J[vt],It=vt+1,Gt=J.length;It<Gt;It++)if(xp(xt.bbox,J[It].bbox)===null)return[]}for(var Wt=new Qg($c.compare),ee=0,Bt=J.length;ee<Bt;ee++)for(var me=J[ee].getSweepEvents(),Ie=0,Zt=me.length;Ie<Zt;Ie++)if(Wt.insert(me[Ie]),Wt.size>Rm)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var fe=new Ey(Wt),be=Wt.size,Ee=Wt.pop();Ee;){var _e=Ee.key;if(Wt.size===be){var wn=_e.segment;throw new Error("Unable to pop() ".concat(_e.isLeft?"left":"right"," SweepEvent ")+"[".concat(_e.point.x,", ").concat(_e.point.y,"] from segment #").concat(wn.id," ")+"[".concat(wn.leftSE.point.x,", ").concat(wn.leftSE.point.y,"] -> ")+"[".concat(wn.rightSE.point.x,", ").concat(wn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Wt.size>Rm)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(fe.segments.length>My)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var cn=fe.process(_e),Tn=0,dn=cn.length;Tn<dn;Tn++){var An=cn[Tn];An.consumedBy===void 0&&Wt.insert(An)}be=Wt.size,Ee=Wt.pop()}_f.reset();var yn=Pm.factory(fe.segments);return new xy(yn).getGeom()}}]),B}()),bu={union:function(B){for(var U=arguments.length,G=new Array(U>1?U-1:0),Q=1;Q<U;Q++)G[Q-1]=arguments[Q];return hc.run("union",B,G)},intersection:function(B){for(var U=arguments.length,G=new Array(U>1?U-1:0),Q=1;Q<U;Q++)G[Q-1]=arguments[Q];return hc.run("intersection",B,G)},xor:function(B){for(var U=arguments.length,G=new Array(U>1?U-1:0),Q=1;Q<U;Q++)G[Q-1]=arguments[Q];return hc.run("xor",B,G)},difference:function(B){for(var U=arguments.length,G=new Array(U>1?U-1:0),Q=1;Q<U;Q++)G[Q-1]=arguments[Q];return hc.run("difference",B,G)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(B){if(this==null)throw new TypeError(this+" is not an object");var U=Object(this),G=Math.max(Math.min(U.length,9007199254740991),0)||0,Q=1 in arguments&&parseInt(Number(arguments[1]),10)||0;Q=Q<0?Math.max(G+Q,0):Math.min(Q,G);var J=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:G;for(J=J<0?Math.max(G+arguments[2],0):Math.min(J,G);Q<J;)U[Q]=B,++Q;return U},writable:!0}),Number.isFinite=Number.isFinite||function(B){return typeof B=="number"&&isFinite(B)},Number.isInteger=Number.isInteger||function(B){return typeof B=="number"&&isFinite(B)&&Math.floor(B)===B},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(B){return B!=B},Math.trunc=Math.trunc||function(B){return B<0?Math.ceil(B):Math.floor(B)};var Ah=function(){};Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah},Ah.prototype.equalsWithTolerance=function(B,U,G){return Math.abs(B-U)<=G};var Ao=function(B){function U(G){B.call(this,G),this.name="IllegalArgumentException",this.message=G,this.stack=new B().stack}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U}(Error),Qr=function(){},jm={MAX_VALUE:{configurable:!0}};Qr.isNaN=function(B){return Number.isNaN(B)},Qr.doubleToLongBits=function(B){return B},Qr.longBitsToDouble=function(B){return B},Qr.isInfinite=function(B){return!Number.isFinite(B)},jm.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Qr,jm);var ol=function(){},xf=function(){},wd=function(){};function sl(){}var pn=function B(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=B.NULL_ORDINATE;else if(arguments.length===1){var U=arguments[0];this.x=U.x,this.y=U.y,this.z=U.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=B.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Nh={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};pn.prototype.setOrdinate=function(B,U){switch(B){case pn.X:this.x=U;break;case pn.Y:this.y=U;break;case pn.Z:this.z=U;break;default:throw new Ao("Invalid ordinate index: "+B)}},pn.prototype.equals2D=function(){if(arguments.length===1){var B=arguments[0];return this.x===B.x&&this.y===B.y}if(arguments.length===2){var U=arguments[0],G=arguments[1];return!!Ah.equalsWithTolerance(this.x,U.x,G)&&!!Ah.equalsWithTolerance(this.y,U.y,G)}},pn.prototype.getOrdinate=function(B){switch(B){case pn.X:return this.x;case pn.Y:return this.y;case pn.Z:return this.z}throw new Ao("Invalid ordinate index: "+B)},pn.prototype.equals3D=function(B){return this.x===B.x&&this.y===B.y&&(this.z===B.z||Qr.isNaN(this.z))&&Qr.isNaN(B.z)},pn.prototype.equals=function(B){return B instanceof pn&&this.equals2D(B)},pn.prototype.equalInZ=function(B,U){return Ah.equalsWithTolerance(this.z,B.z,U)},pn.prototype.compareTo=function(B){var U=B;return this.x<U.x?-1:this.x>U.x?1:this.y<U.y?-1:this.y>U.y?1:0},pn.prototype.clone=function(){},pn.prototype.copy=function(){return new pn(this)},pn.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},pn.prototype.distance3D=function(B){var U=this.x-B.x,G=this.y-B.y,Q=this.z-B.z;return Math.sqrt(U*U+G*G+Q*Q)},pn.prototype.distance=function(B){var U=this.x-B.x,G=this.y-B.y;return Math.sqrt(U*U+G*G)},pn.prototype.hashCode=function(){var B=17;return B=37*(B=37*B+pn.hashCode(this.x))+pn.hashCode(this.y)},pn.prototype.setCoordinate=function(B){this.x=B.x,this.y=B.y,this.z=B.z},pn.prototype.interfaces_=function(){return[ol,xf,sl]},pn.prototype.getClass=function(){return pn},pn.hashCode=function(){if(arguments.length===1){var B=arguments[0],U=Qr.doubleToLongBits(B);return Math.trunc((U^U)>>>32)}},Nh.DimensionalComparator.get=function(){return _u},Nh.serialVersionUID.get=function(){return 6683108902428367e3},Nh.NULL_ORDINATE.get=function(){return Qr.NaN},Nh.X.get=function(){return 0},Nh.Y.get=function(){return 1},Nh.Z.get=function(){return 2},Object.defineProperties(pn,Nh);var _u=function(B){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var U=arguments[0];if(U!==2&&U!==3)throw new Ao("only 2 or 3 dimensions may be specified");this._dimensionsToTest=U}}};_u.prototype.compare=function(B,U){var G=B,Q=U,J=_u.compare(G.x,Q.x);if(J!==0)return J;var rt=_u.compare(G.y,Q.y);return rt!==0?rt:this._dimensionsToTest<=2?0:_u.compare(G.z,Q.z)},_u.prototype.interfaces_=function(){return[wd]},_u.prototype.getClass=function(){return _u},_u.compare=function(B,U){return B<U?-1:B>U?1:Qr.isNaN(B)?Qr.isNaN(U)?0:-1:Qr.isNaN(U)?1:0};var xd=function(){};xd.prototype.create=function(){},xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd};var xn=function(){},Ef={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},xn.toLocationSymbol=function(B){switch(B){case xn.EXTERIOR:return"e";case xn.BOUNDARY:return"b";case xn.INTERIOR:return"i";case xn.NONE:return"-"}throw new Ao("Unknown location value: "+B)},Ef.INTERIOR.get=function(){return 0},Ef.BOUNDARY.get=function(){return 1},Ef.EXTERIOR.get=function(){return 2},Ef.NONE.get=function(){return-1},Object.defineProperties(xn,Ef);var Ur=function(B,U){return B.interfaces_&&B.interfaces_().indexOf(U)>-1},Ya=function(){},Bm={LOG_10:{configurable:!0}};Ya.prototype.interfaces_=function(){return[]},Ya.prototype.getClass=function(){return Ya},Ya.log10=function(B){var U=Math.log(B);return Qr.isInfinite(U)||Qr.isNaN(U)?U:U/Ya.LOG_10},Ya.min=function(B,U,G,Q){var J=B;return U<J&&(J=U),G<J&&(J=G),Q<J&&(J=Q),J},Ya.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var B=arguments[0],U=arguments[1],G=arguments[2];return B<U?U:B>G?G:B}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Q=arguments[0],J=arguments[1],rt=arguments[2];return Q<J?J:Q>rt?rt:Q}},Ya.wrap=function(B,U){return B<0?U- -B%U:B%U},Ya.max=function(){if(arguments.length===3){var B=arguments[0],U=arguments[1],G=arguments[2],Q=B;return U>Q&&(Q=U),G>Q&&(Q=G),Q}if(arguments.length===4){var J=arguments[0],rt=arguments[1],at=arguments[2],ft=arguments[3],yt=J;return rt>yt&&(yt=rt),at>yt&&(yt=at),ft>yt&&(yt=ft),yt}},Ya.average=function(B,U){return(B+U)/2},Bm.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Ya,Bm);var Yl=function(B){this.str=B};Yl.prototype.append=function(B){this.str+=B},Yl.prototype.setCharAt=function(B,U){this.str=this.str.substr(0,B)+U+this.str.substr(B+1)},Yl.prototype.toString=function(B){return this.str};var Hl=function(B){this.value=B};Hl.prototype.intValue=function(){return this.value},Hl.prototype.compareTo=function(B){return this.value<B?-1:this.value>B?1:0},Hl.isNaN=function(B){return Number.isNaN(B)};var Mf=function(){};Mf.isWhitespace=function(B){return B<=32&&B>=0||B===127},Mf.toUpperCase=function(B){return B.toUpperCase()};var Cn=function B(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var U=arguments[0];this.init(U)}else if(arguments[0]instanceof B){var G=arguments[0];this.init(G)}else if(typeof arguments[0]=="string"){var Q=arguments[0];B.call(this,B.parse(Q))}}else if(arguments.length===2){var J=arguments[0],rt=arguments[1];this.init(J,rt)}},bl={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Cn.prototype.le=function(B){return(this._hi<B._hi||this._hi===B._hi)&&this._lo<=B._lo},Cn.prototype.extractSignificantDigits=function(B,U){var G=this.abs(),Q=Cn.magnitude(G._hi),J=Cn.TEN.pow(Q);(G=G.divide(J)).gt(Cn.TEN)?(G=G.divide(Cn.TEN),Q+=1):G.lt(Cn.ONE)&&(G=G.multiply(Cn.TEN),Q-=1);for(var rt=Q+1,at=new Yl,ft=Cn.MAX_PRINT_DIGITS-1,yt=0;yt<=ft;yt++){B&&yt===rt&&at.append(".");var vt=Math.trunc(G._hi);if(vt<0)break;var Tt=!1,xt=0;vt>9?(Tt=!0,xt="9"):xt="0"+vt,at.append(xt),G=G.subtract(Cn.valueOf(vt)).multiply(Cn.TEN),Tt&&G.selfAdd(Cn.TEN);var It=!0,Gt=Cn.magnitude(G._hi);if(Gt<0&&Math.abs(Gt)>=ft-yt&&(It=!1),!It)break}return U[0]=Q,at.toString()},Cn.prototype.sqr=function(){return this.multiply(this)},Cn.prototype.doubleValue=function(){return this._hi+this._lo},Cn.prototype.subtract=function(){if(arguments[0]instanceof Cn){var B=arguments[0];return this.add(B.negate())}if(typeof arguments[0]=="number"){var U=arguments[0];return this.add(-U)}},Cn.prototype.equals=function(){if(arguments.length===1){var B=arguments[0];return this._hi===B._hi&&this._lo===B._lo}},Cn.prototype.isZero=function(){return this._hi===0&&this._lo===0},Cn.prototype.selfSubtract=function(){if(arguments[0]instanceof Cn){var B=arguments[0];return this.isNaN()?this:this.selfAdd(-B._hi,-B._lo)}if(typeof arguments[0]=="number"){var U=arguments[0];return this.isNaN()?this:this.selfAdd(-U,0)}},Cn.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Cn.prototype.min=function(B){return this.le(B)?this:B},Cn.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Cn){var B=arguments[0];return this.selfDivide(B._hi,B._lo)}if(typeof arguments[0]=="number"){var U=arguments[0];return this.selfDivide(U,0)}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1],J=null,rt=null,at=null,ft=null,yt=null,vt=null,Tt=null,xt=null;return yt=this._hi/G,xt=(J=(vt=Cn.SPLIT*yt)-(J=vt-yt))*(at=(xt=Cn.SPLIT*G)-(at=xt-G))-(Tt=yt*G)+J*(ft=G-at)+(rt=yt-J)*at+rt*ft,xt=yt+(vt=(this._hi-Tt-xt+this._lo-yt*Q)/G),this._hi=xt,this._lo=yt-xt+vt,this}},Cn.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Cn.prototype.divide=function(){if(arguments[0]instanceof Cn){var B=arguments[0],U=null,G=null,Q=null,J=null,rt=null,at=null,ft=null,yt=null;G=(rt=this._hi/B._hi)-(U=(at=Cn.SPLIT*rt)-(U=at-rt)),yt=U*(Q=(yt=Cn.SPLIT*B._hi)-(Q=yt-B._hi))-(ft=rt*B._hi)+U*(J=B._hi-Q)+G*Q+G*J;var vt=yt=rt+(at=(this._hi-ft-yt+this._lo-rt*B._lo)/B._hi),Tt=rt-yt+at;return new Cn(vt,Tt)}if(typeof arguments[0]=="number"){var xt=arguments[0];return Qr.isNaN(xt)?Cn.createNaN():Cn.copy(this).selfDivide(xt,0)}},Cn.prototype.ge=function(B){return(this._hi>B._hi||this._hi===B._hi)&&this._lo>=B._lo},Cn.prototype.pow=function(B){if(B===0)return Cn.valueOf(1);var U=new Cn(this),G=Cn.valueOf(1),Q=Math.abs(B);if(Q>1)for(;Q>0;)Q%2==1&&G.selfMultiply(U),(Q/=2)>0&&(U=U.sqr());else G=U;return B<0?G.reciprocal():G},Cn.prototype.ceil=function(){if(this.isNaN())return Cn.NaN;var B=Math.ceil(this._hi),U=0;return B===this._hi&&(U=Math.ceil(this._lo)),new Cn(B,U)},Cn.prototype.compareTo=function(B){var U=B;return this._hi<U._hi?-1:this._hi>U._hi?1:this._lo<U._lo?-1:this._lo>U._lo?1:0},Cn.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Cn.prototype.setValue=function(){if(arguments[0]instanceof Cn){var B=arguments[0];return this.init(B),this}if(typeof arguments[0]=="number"){var U=arguments[0];return this.init(U),this}},Cn.prototype.max=function(B){return this.ge(B)?this:B},Cn.prototype.sqrt=function(){if(this.isZero())return Cn.valueOf(0);if(this.isNegative())return Cn.NaN;var B=1/Math.sqrt(this._hi),U=this._hi*B,G=Cn.valueOf(U),Q=this.subtract(G.sqr())._hi*(.5*B);return G.add(Q)},Cn.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Cn){var B=arguments[0];return this.selfAdd(B._hi,B._lo)}if(typeof arguments[0]=="number"){var U=arguments[0],G=null,Q=null,J=null,rt=null,at=null,ft=null;return rt=(J=this._hi+U)-(at=J-this._hi),Q=(ft=(rt=U-at+(this._hi-rt))+this._lo)+(J-(G=J+ft)),this._hi=G+Q,this._lo=Q+(G-this._hi),this}}else if(arguments.length===2){var yt=arguments[0],vt=arguments[1],Tt=null,xt=null,It=null,Gt=null,Wt=null,ee=null,Bt=null;Gt=this._hi+yt,xt=this._lo+vt,Wt=Gt-(ee=Gt-this._hi),It=xt-(Bt=xt-this._lo);var me=(Tt=Gt+(ee=(Wt=yt-ee+(this._hi-Wt))+xt))+(ee=(It=vt-Bt+(this._lo-It))+(ee+(Gt-Tt))),Ie=ee+(Tt-me);return this._hi=me,this._lo=Ie,this}},Cn.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Cn){var B=arguments[0];return this.selfMultiply(B._hi,B._lo)}if(typeof arguments[0]=="number"){var U=arguments[0];return this.selfMultiply(U,0)}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1],J=null,rt=null,at=null,ft=null,yt=null,vt=null;J=(yt=Cn.SPLIT*this._hi)-this._hi,vt=Cn.SPLIT*G,J=yt-J,rt=this._hi-J,at=vt-G;var Tt=(yt=this._hi*G)+(vt=J*(at=vt-at)-yt+J*(ft=G-at)+rt*at+rt*ft+(this._hi*Q+this._lo*G)),xt=vt+(J=yt-Tt);return this._hi=Tt,this._lo=xt,this}},Cn.prototype.selfSqr=function(){return this.selfMultiply(this)},Cn.prototype.floor=function(){if(this.isNaN())return Cn.NaN;var B=Math.floor(this._hi),U=0;return B===this._hi&&(U=Math.floor(this._lo)),new Cn(B,U)},Cn.prototype.negate=function(){return this.isNaN()?this:new Cn(-this._hi,-this._lo)},Cn.prototype.clone=function(){},Cn.prototype.multiply=function(){if(arguments[0]instanceof Cn){var B=arguments[0];return B.isNaN()?Cn.createNaN():Cn.copy(this).selfMultiply(B)}if(typeof arguments[0]=="number"){var U=arguments[0];return Qr.isNaN(U)?Cn.createNaN():Cn.copy(this).selfMultiply(U,0)}},Cn.prototype.isNaN=function(){return Qr.isNaN(this._hi)},Cn.prototype.intValue=function(){return Math.trunc(this._hi)},Cn.prototype.toString=function(){var B=Cn.magnitude(this._hi);return B>=-3&&B<=20?this.toStandardNotation():this.toSciNotation()},Cn.prototype.toStandardNotation=function(){var B=this.getSpecialNumberString();if(B!==null)return B;var U=new Array(1).fill(null),G=this.extractSignificantDigits(!0,U),Q=U[0]+1,J=G;if(G.charAt(0)===".")J="0"+G;else if(Q<0)J="0."+Cn.stringOfChar("0",-Q)+G;else if(G.indexOf(".")===-1){var rt=Q-G.length;J=G+Cn.stringOfChar("0",rt)+".0"}return this.isNegative()?"-"+J:J},Cn.prototype.reciprocal=function(){var B,U,G,Q,J=null,rt=null,at=null,ft=null;B=(G=1/this._hi)-(J=(at=Cn.SPLIT*G)-(J=at-G)),rt=(ft=Cn.SPLIT*this._hi)-this._hi;var yt=G+(at=(1-(Q=G*this._hi)-(ft=J*(rt=ft-rt)-Q+J*(U=this._hi-rt)+B*rt+B*U)-G*this._lo)/this._hi);return new Cn(yt,G-yt+at)},Cn.prototype.toSciNotation=function(){if(this.isZero())return Cn.SCI_NOT_ZERO;var B=this.getSpecialNumberString();if(B!==null)return B;var U=new Array(1).fill(null),G=this.extractSignificantDigits(!1,U),Q=Cn.SCI_NOT_EXPONENT_CHAR+U[0];if(G.charAt(0)==="0")throw new Error("Found leading zero: "+G);var J="";G.length>1&&(J=G.substring(1));var rt=G.charAt(0)+"."+J;return this.isNegative()?"-"+rt+Q:rt+Q},Cn.prototype.abs=function(){return this.isNaN()?Cn.NaN:this.isNegative()?this.negate():new Cn(this)},Cn.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},Cn.prototype.lt=function(B){return(this._hi<B._hi||this._hi===B._hi)&&this._lo<B._lo},Cn.prototype.add=function(){if(arguments[0]instanceof Cn){var B=arguments[0];return Cn.copy(this).selfAdd(B)}if(typeof arguments[0]=="number"){var U=arguments[0];return Cn.copy(this).selfAdd(U)}},Cn.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var B=arguments[0];this._hi=B,this._lo=0}else if(arguments[0]instanceof Cn){var U=arguments[0];this._hi=U._hi,this._lo=U._lo}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];this._hi=G,this._lo=Q}},Cn.prototype.gt=function(B){return(this._hi>B._hi||this._hi===B._hi)&&this._lo>B._lo},Cn.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},Cn.prototype.trunc=function(){return this.isNaN()?Cn.NaN:this.isPositive()?this.floor():this.ceil()},Cn.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Cn.prototype.interfaces_=function(){return[sl,ol,xf]},Cn.prototype.getClass=function(){return Cn},Cn.sqr=function(B){return Cn.valueOf(B).selfMultiply(B)},Cn.valueOf=function(){if(typeof arguments[0]=="string"){var B=arguments[0];return Cn.parse(B)}if(typeof arguments[0]=="number"){var U=arguments[0];return new Cn(U)}},Cn.sqrt=function(B){return Cn.valueOf(B).sqrt()},Cn.parse=function(B){for(var U=0,G=B.length;Mf.isWhitespace(B.charAt(U));)U++;var Q=!1;if(U<G){var J=B.charAt(U);J!=="-"&&J!=="+"||(U++,J==="-"&&(Q=!0))}for(var rt=new Cn,at=0,ft=0,yt=0;!(U>=G);){var vt=B.charAt(U);if(U++,Mf.isDigit(vt)){var Tt=vt-"0";rt.selfMultiply(Cn.TEN),rt.selfAdd(Tt),at++}else{if(vt!=="."){if(vt==="e"||vt==="E"){var xt=B.substring(U);try{yt=Hl.parseInt(xt)}catch(Bt){throw Bt instanceof Error?new Error("Invalid exponent "+xt+" in string "+B):Bt}break}throw new Error("Unexpected character '"+vt+"' at position "+U+" in string "+B)}ft=at}}var It=rt,Gt=at-ft-yt;if(Gt===0)It=rt;else if(Gt>0){var Wt=Cn.TEN.pow(Gt);It=rt.divide(Wt)}else if(Gt<0){var ee=Cn.TEN.pow(-Gt);It=rt.multiply(ee)}return Q?It.negate():It},Cn.createNaN=function(){return new Cn(Qr.NaN,Qr.NaN)},Cn.copy=function(B){return new Cn(B)},Cn.magnitude=function(B){var U=Math.abs(B),G=Math.log(U)/Math.log(10),Q=Math.trunc(Math.floor(G));return 10*Math.pow(10,Q)<=U&&(Q+=1),Q},Cn.stringOfChar=function(B,U){for(var G=new Yl,Q=0;Q<U;Q++)G.append(B);return G.toString()},bl.PI.get=function(){return new Cn(3.141592653589793,12246467991473532e-32)},bl.TWO_PI.get=function(){return new Cn(6.283185307179586,24492935982947064e-32)},bl.PI_2.get=function(){return new Cn(1.5707963267948966,6123233995736766e-32)},bl.E.get=function(){return new Cn(2.718281828459045,14456468917292502e-32)},bl.NaN.get=function(){return new Cn(Qr.NaN,Qr.NaN)},bl.EPS.get=function(){return 123259516440783e-46},bl.SPLIT.get=function(){return 134217729},bl.MAX_PRINT_DIGITS.get=function(){return 32},bl.TEN.get=function(){return Cn.valueOf(10)},bl.ONE.get=function(){return Cn.valueOf(1)},bl.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},bl.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Cn,bl);var da=function(){},$m={DP_SAFE_EPSILON:{configurable:!0}};da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da},da.orientationIndex=function(B,U,G){var Q=da.orientationIndexFilter(B,U,G);if(Q<=1)return Q;var J=Cn.valueOf(U.x).selfAdd(-B.x),rt=Cn.valueOf(U.y).selfAdd(-B.y),at=Cn.valueOf(G.x).selfAdd(-U.x),ft=Cn.valueOf(G.y).selfAdd(-U.y);return J.selfMultiply(ft).selfSubtract(rt.selfMultiply(at)).signum()},da.signOfDet2x2=function(B,U,G,Q){return B.multiply(Q).selfSubtract(U.multiply(G)).signum()},da.intersection=function(B,U,G,Q){var J=Cn.valueOf(Q.y).selfSubtract(G.y).selfMultiply(Cn.valueOf(U.x).selfSubtract(B.x)),rt=Cn.valueOf(Q.x).selfSubtract(G.x).selfMultiply(Cn.valueOf(U.y).selfSubtract(B.y)),at=J.subtract(rt),ft=Cn.valueOf(Q.x).selfSubtract(G.x).selfMultiply(Cn.valueOf(B.y).selfSubtract(G.y)),yt=Cn.valueOf(Q.y).selfSubtract(G.y).selfMultiply(Cn.valueOf(B.x).selfSubtract(G.x)),vt=ft.subtract(yt).selfDivide(at).doubleValue(),Tt=Cn.valueOf(B.x).selfAdd(Cn.valueOf(U.x).selfSubtract(B.x).selfMultiply(vt)).doubleValue(),xt=Cn.valueOf(U.x).selfSubtract(B.x).selfMultiply(Cn.valueOf(B.y).selfSubtract(G.y)),It=Cn.valueOf(U.y).selfSubtract(B.y).selfMultiply(Cn.valueOf(B.x).selfSubtract(G.x)),Gt=xt.subtract(It).selfDivide(at).doubleValue(),Wt=Cn.valueOf(G.y).selfAdd(Cn.valueOf(Q.y).selfSubtract(G.y).selfMultiply(Gt)).doubleValue();return new pn(Tt,Wt)},da.orientationIndexFilter=function(B,U,G){var Q=null,J=(B.x-G.x)*(U.y-G.y),rt=(B.y-G.y)*(U.x-G.x),at=J-rt;if(J>0){if(rt<=0)return da.signum(at);Q=J+rt}else{if(!(J<0)||rt>=0)return da.signum(at);Q=-J-rt}var ft=da.DP_SAFE_EPSILON*Q;return at>=ft||-at>=ft?da.signum(at):2},da.signum=function(B){return B>0?1:B<0?-1:0},$m.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(da,$m);var Pi=function(){},Tf={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Tf.X.get=function(){return 0},Tf.Y.get=function(){return 1},Tf.Z.get=function(){return 2},Tf.M.get=function(){return 3},Pi.prototype.setOrdinate=function(B,U,G){},Pi.prototype.size=function(){},Pi.prototype.getOrdinate=function(B,U){},Pi.prototype.getCoordinate=function(){},Pi.prototype.getCoordinateCopy=function(B){},Pi.prototype.getDimension=function(){},Pi.prototype.getX=function(B){},Pi.prototype.clone=function(){},Pi.prototype.expandEnvelope=function(B){},Pi.prototype.copy=function(){},Pi.prototype.getY=function(B){},Pi.prototype.toCoordinateArray=function(){},Pi.prototype.interfaces_=function(){return[xf]},Pi.prototype.getClass=function(){return Pi},Object.defineProperties(Pi,Tf);var Fm=function(){},Dh=function(B){function U(){B.call(this,"Projective point not representable on the Cartesian plane.")}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Fm),Rs=function(){};Rs.arraycopy=function(B,U,G,Q,J){for(var rt=0,at=U;at<U+J;at++)G[Q+rt]=B[at],rt++},Rs.getProperty=function(B){return{"line.separator":`
`}[B]};var al=function B(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var U=arguments[0];this.x=U.x,this.y=U.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var G=arguments[0],Q=arguments[1];this.x=G,this.y=Q,this.w=1}else if(arguments[0]instanceof B&&arguments[1]instanceof B){var J=arguments[0],rt=arguments[1];this.x=J.y*rt.w-rt.y*J.w,this.y=rt.x*J.w-J.x*rt.w,this.w=J.x*rt.y-rt.x*J.y}else if(arguments[0]instanceof pn&&arguments[1]instanceof pn){var at=arguments[0],ft=arguments[1];this.x=at.y-ft.y,this.y=ft.x-at.x,this.w=at.x*ft.y-ft.x*at.y}}else if(arguments.length===3){var yt=arguments[0],vt=arguments[1],Tt=arguments[2];this.x=yt,this.y=vt,this.w=Tt}else if(arguments.length===4){var xt=arguments[0],It=arguments[1],Gt=arguments[2],Wt=arguments[3],ee=xt.y-It.y,Bt=It.x-xt.x,me=xt.x*It.y-It.x*xt.y,Ie=Gt.y-Wt.y,Zt=Wt.x-Gt.x,fe=Gt.x*Wt.y-Wt.x*Gt.y;this.x=Bt*fe-Zt*me,this.y=Ie*me-ee*fe,this.w=ee*Zt-Ie*Bt}};al.prototype.getY=function(){var B=this.y/this.w;if(Qr.isNaN(B)||Qr.isInfinite(B))throw new Dh;return B},al.prototype.getX=function(){var B=this.x/this.w;if(Qr.isNaN(B)||Qr.isInfinite(B))throw new Dh;return B},al.prototype.getCoordinate=function(){var B=new pn;return B.x=this.getX(),B.y=this.getY(),B},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.intersection=function(B,U,G,Q){var J=B.y-U.y,rt=U.x-B.x,at=B.x*U.y-U.x*B.y,ft=G.y-Q.y,yt=Q.x-G.x,vt=G.x*Q.y-Q.x*G.y,Tt=J*yt-ft*rt,xt=(rt*vt-yt*at)/Tt,It=(ft*at-J*vt)/Tt;if(Qr.isNaN(xt)||Qr.isInfinite(xt)||Qr.isNaN(It)||Qr.isInfinite(It))throw new Dh;return new pn(xt,It)};var Sr=function B(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof pn){var U=arguments[0];this.init(U.x,U.x,U.y,U.y)}else if(arguments[0]instanceof B){var G=arguments[0];this.init(G)}}else if(arguments.length===2){var Q=arguments[0],J=arguments[1];this.init(Q.x,J.x,Q.y,J.y)}else if(arguments.length===4){var rt=arguments[0],at=arguments[1],ft=arguments[2],yt=arguments[3];this.init(rt,at,ft,yt)}},Um={serialVersionUID:{configurable:!0}};Sr.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Sr.prototype.equals=function(B){if(!(B instanceof Sr))return!1;var U=B;return this.isNull()?U.isNull():this._maxx===U.getMaxX()&&this._maxy===U.getMaxY()&&this._minx===U.getMinX()&&this._miny===U.getMinY()},Sr.prototype.intersection=function(B){if(this.isNull()||B.isNull()||!this.intersects(B))return new Sr;var U=this._minx>B._minx?this._minx:B._minx,G=this._miny>B._miny?this._miny:B._miny,Q=this._maxx<B._maxx?this._maxx:B._maxx,J=this._maxy<B._maxy?this._maxy:B._maxy;return new Sr(U,Q,G,J)},Sr.prototype.isNull=function(){return this._maxx<this._minx},Sr.prototype.getMaxX=function(){return this._maxx},Sr.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof pn){var B=arguments[0];return this.covers(B.x,B.y)}if(arguments[0]instanceof Sr){var U=arguments[0];return!this.isNull()&&!U.isNull()&&U.getMinX()>=this._minx&&U.getMaxX()<=this._maxx&&U.getMinY()>=this._miny&&U.getMaxY()<=this._maxy}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];return!this.isNull()&&G>=this._minx&&G<=this._maxx&&Q>=this._miny&&Q<=this._maxy}},Sr.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Sr){var B=arguments[0];return!this.isNull()&&!B.isNull()&&!(B._minx>this._maxx||B._maxx<this._minx||B._miny>this._maxy||B._maxy<this._miny)}if(arguments[0]instanceof pn){var U=arguments[0];return this.intersects(U.x,U.y)}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];return!this.isNull()&&!(G>this._maxx||G<this._minx||Q>this._maxy||Q<this._miny)}},Sr.prototype.getMinY=function(){return this._miny},Sr.prototype.getMinX=function(){return this._minx},Sr.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof pn){var B=arguments[0];this.expandToInclude(B.x,B.y)}else if(arguments[0]instanceof Sr){var U=arguments[0];if(U.isNull())return null;this.isNull()?(this._minx=U.getMinX(),this._maxx=U.getMaxX(),this._miny=U.getMinY(),this._maxy=U.getMaxY()):(U._minx<this._minx&&(this._minx=U._minx),U._maxx>this._maxx&&(this._maxx=U._maxx),U._miny<this._miny&&(this._miny=U._miny),U._maxy>this._maxy&&(this._maxy=U._maxy))}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];this.isNull()?(this._minx=G,this._maxx=G,this._miny=Q,this._maxy=Q):(G<this._minx&&(this._minx=G),G>this._maxx&&(this._maxx=G),Q<this._miny&&(this._miny=Q),Q>this._maxy&&(this._maxy=Q))}},Sr.prototype.minExtent=function(){if(this.isNull())return 0;var B=this.getWidth(),U=this.getHeight();return B<U?B:U},Sr.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Sr.prototype.compareTo=function(B){var U=B;return this.isNull()?U.isNull()?0:-1:U.isNull()?1:this._minx<U._minx?-1:this._minx>U._minx?1:this._miny<U._miny?-1:this._miny>U._miny?1:this._maxx<U._maxx?-1:this._maxx>U._maxx?1:this._maxy<U._maxy?-1:this._maxy>U._maxy?1:0},Sr.prototype.translate=function(B,U){if(this.isNull())return null;this.init(this.getMinX()+B,this.getMaxX()+B,this.getMinY()+U,this.getMaxY()+U)},Sr.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Sr.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Sr.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Sr.prototype.maxExtent=function(){if(this.isNull())return 0;var B=this.getWidth(),U=this.getHeight();return B>U?B:U},Sr.prototype.expandBy=function(){if(arguments.length===1){var B=arguments[0];this.expandBy(B,B)}else if(arguments.length===2){var U=arguments[0],G=arguments[1];if(this.isNull())return null;this._minx-=U,this._maxx+=U,this._miny-=G,this._maxy+=G,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Sr.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Sr){var B=arguments[0];return this.covers(B)}if(arguments[0]instanceof pn){var U=arguments[0];return this.covers(U)}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];return this.covers(G,Q)}},Sr.prototype.centre=function(){return this.isNull()?null:new pn((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Sr.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof pn){var B=arguments[0];this.init(B.x,B.x,B.y,B.y)}else if(arguments[0]instanceof Sr){var U=arguments[0];this._minx=U._minx,this._maxx=U._maxx,this._miny=U._miny,this._maxy=U._maxy}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];this.init(G.x,Q.x,G.y,Q.y)}else if(arguments.length===4){var J=arguments[0],rt=arguments[1],at=arguments[2],ft=arguments[3];J<rt?(this._minx=J,this._maxx=rt):(this._minx=rt,this._maxx=J),at<ft?(this._miny=at,this._maxy=ft):(this._miny=ft,this._maxy=at)}},Sr.prototype.getMaxY=function(){return this._maxy},Sr.prototype.distance=function(B){if(this.intersects(B))return 0;var U=0;this._maxx<B._minx?U=B._minx-this._maxx:this._minx>B._maxx&&(U=this._minx-B._maxx);var G=0;return this._maxy<B._miny?G=B._miny-this._maxy:this._miny>B._maxy&&(G=this._miny-B._maxy),U===0?G:G===0?U:Math.sqrt(U*U+G*G)},Sr.prototype.hashCode=function(){var B=17;return B=37*(B=37*(B=37*(B=37*B+pn.hashCode(this._minx))+pn.hashCode(this._maxx))+pn.hashCode(this._miny))+pn.hashCode(this._maxy)},Sr.prototype.interfaces_=function(){return[ol,sl]},Sr.prototype.getClass=function(){return Sr},Sr.intersects=function(){if(arguments.length===3){var B=arguments[0],U=arguments[1],G=arguments[2];return G.x>=(B.x<U.x?B.x:U.x)&&G.x<=(B.x>U.x?B.x:U.x)&&G.y>=(B.y<U.y?B.y:U.y)&&G.y<=(B.y>U.y?B.y:U.y)}if(arguments.length===4){var Q=arguments[0],J=arguments[1],rt=arguments[2],at=arguments[3],ft=Math.min(rt.x,at.x),yt=Math.max(rt.x,at.x),vt=Math.min(Q.x,J.x),Tt=Math.max(Q.x,J.x);return!(vt>yt)&&!(Tt<ft)&&(ft=Math.min(rt.y,at.y),yt=Math.max(rt.y,at.y),vt=Math.min(Q.y,J.y),Tt=Math.max(Q.y,J.y),!(vt>yt)&&!(Tt<ft))}},Um.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Sr,Um);var Vl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Sf=function(B){this.geometryFactory=B||new gi};Sf.prototype.read=function(B){var U,G,Q;B=B.replace(/[\n\r]/g," ");var J=Vl.typeStr.exec(B);if(B.search("EMPTY")!==-1&&((J=Vl.emptyTypeStr.exec(B))[2]=void 0),J&&(G=J[1].toLowerCase(),Q=J[2],Ed[G]&&(U=Ed[G].apply(this,[Q]))),U===void 0)throw new Error("Could not parse WKT "+B);return U},Sf.prototype.write=function(B){return this.extractGeometry(B)},Sf.prototype.extractGeometry=function(B){var U=B.getGeometryType().toLowerCase();if(!Fc[U])return null;var G=U.toUpperCase();return B.isEmpty()?G+" EMPTY":G+"("+Fc[U].apply(this,[B])+")"};var Fc={coordinate:function(B){return B.x+" "+B.y},point:function(B){return Fc.coordinate.call(this,B._coordinates._coordinates[0])},multipoint:function(B){for(var U=[],G=0,Q=B._geometries.length;G<Q;++G)U.push("("+Fc.point.apply(this,[B._geometries[G]])+")");return U.join(",")},linestring:function(B){for(var U=[],G=0,Q=B._points._coordinates.length;G<Q;++G)U.push(Fc.coordinate.apply(this,[B._points._coordinates[G]]));return U.join(",")},linearring:function(B){for(var U=[],G=0,Q=B._points._coordinates.length;G<Q;++G)U.push(Fc.coordinate.apply(this,[B._points._coordinates[G]]));return U.join(",")},multilinestring:function(B){for(var U=[],G=0,Q=B._geometries.length;G<Q;++G)U.push("("+Fc.linestring.apply(this,[B._geometries[G]])+")");return U.join(",")},polygon:function(B){var U=[];U.push("("+Fc.linestring.apply(this,[B._shell])+")");for(var G=0,Q=B._holes.length;G<Q;++G)U.push("("+Fc.linestring.apply(this,[B._holes[G]])+")");return U.join(",")},multipolygon:function(B){for(var U=[],G=0,Q=B._geometries.length;G<Q;++G)U.push("("+Fc.polygon.apply(this,[B._geometries[G]])+")");return U.join(",")},geometrycollection:function(B){for(var U=[],G=0,Q=B._geometries.length;G<Q;++G)U.push(this.extractGeometry(B._geometries[G]));return U.join(",")}},Ed={point:function(B){if(B===void 0)return this.geometryFactory.createPoint();var U=B.trim().split(Vl.spaces);return this.geometryFactory.createPoint(new pn(Number.parseFloat(U[0]),Number.parseFloat(U[1])))},multipoint:function(B){var U;if(B===void 0)return this.geometryFactory.createMultiPoint();for(var G=B.trim().split(","),Q=[],J=0,rt=G.length;J<rt;++J)U=G[J].replace(Vl.trimParens,"$1"),Q.push(Ed.point.apply(this,[U]));return this.geometryFactory.createMultiPoint(Q)},linestring:function(B){if(B===void 0)return this.geometryFactory.createLineString();for(var U,G=B.trim().split(","),Q=[],J=0,rt=G.length;J<rt;++J)U=G[J].trim().split(Vl.spaces),Q.push(new pn(Number.parseFloat(U[0]),Number.parseFloat(U[1])));return this.geometryFactory.createLineString(Q)},linearring:function(B){if(B===void 0)return this.geometryFactory.createLinearRing();for(var U,G=B.trim().split(","),Q=[],J=0,rt=G.length;J<rt;++J)U=G[J].trim().split(Vl.spaces),Q.push(new pn(Number.parseFloat(U[0]),Number.parseFloat(U[1])));return this.geometryFactory.createLinearRing(Q)},multilinestring:function(B){var U;if(B===void 0)return this.geometryFactory.createMultiLineString();for(var G=B.trim().split(Vl.parenComma),Q=[],J=0,rt=G.length;J<rt;++J)U=G[J].replace(Vl.trimParens,"$1"),Q.push(Ed.linestring.apply(this,[U]));return this.geometryFactory.createMultiLineString(Q)},polygon:function(B){var U,G,Q;if(B===void 0)return this.geometryFactory.createPolygon();for(var J,rt=B.trim().split(Vl.parenComma),at=[],ft=0,yt=rt.length;ft<yt;++ft)U=rt[ft].replace(Vl.trimParens,"$1"),G=Ed.linestring.apply(this,[U]),Q=this.geometryFactory.createLinearRing(G._points),ft===0?J=Q:at.push(Q);return this.geometryFactory.createPolygon(J,at)},multipolygon:function(B){var U;if(B===void 0)return this.geometryFactory.createMultiPolygon();for(var G=B.trim().split(Vl.doubleParenComma),Q=[],J=0,rt=G.length;J<rt;++J)U=G[J].replace(Vl.trimParens,"$1"),Q.push(Ed.polygon.apply(this,[U]));return this.geometryFactory.createMultiPolygon(Q)},geometrycollection:function(B){if(B===void 0)return this.geometryFactory.createGeometryCollection();for(var U=(B=B.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),G=[],Q=0,J=U.length;Q<J;++Q)G.push(this.read(U[Q]));return this.geometryFactory.createGeometryCollection(G)}},_l=function(B){this.parser=new Sf(B)};_l.prototype.write=function(B){return this.parser.write(B)},_l.toLineString=function(B,U){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+B.x+" "+B.y+", "+U.x+" "+U.y+" )"};var Uc=function(B){function U(G){B.call(this,G),this.name="RuntimeException",this.message=G,this.stack=new B().stack}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U}(Error),Sp=function(B){function U(){if(B.call(this),arguments.length===0)B.call(this);else if(arguments.length===1){var G=arguments[0];B.call(this,G)}}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Uc),ni=function(){};ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.shouldNeverReachHere=function(){if(arguments.length===0)ni.shouldNeverReachHere(null);else if(arguments.length===1){var B=arguments[0];throw new Sp("Should never reach here"+(B!==null?": "+B:""))}},ni.isTrue=function(){var B;if(arguments.length===1)ni.isTrue(arguments[0],null);else if(arguments.length===2&&(B=arguments[1],!arguments[0]))throw B===null?new Sp:new Sp(B)},ni.equals=function(){var B,U,G;if(arguments.length===2)ni.equals(B=arguments[0],U=arguments[1],null);else if(arguments.length===3&&(B=arguments[0],G=arguments[2],!(U=arguments[1]).equals(B)))throw new Sp("Expected "+B+" but encountered "+U+(G!==null?": "+G:""))};var Lo=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new pn,this._intPt[1]=new pn,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ih={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Lo.prototype.getIndexAlongSegment=function(B,U){return this.computeIntLineIndex(),this._intLineIndex[B][U]},Lo.prototype.getTopologySummary=function(){var B=new Yl;return this.isEndPoint()&&B.append(" endpoint"),this._isProper&&B.append(" proper"),this.isCollinear()&&B.append(" collinear"),B.toString()},Lo.prototype.computeIntersection=function(B,U,G,Q){this._inputLines[0][0]=B,this._inputLines[0][1]=U,this._inputLines[1][0]=G,this._inputLines[1][1]=Q,this._result=this.computeIntersect(B,U,G,Q)},Lo.prototype.getIntersectionNum=function(){return this._result},Lo.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var B=arguments[0],U=this.getEdgeDistance(B,0),G=this.getEdgeDistance(B,1);U>G?(this._intLineIndex[B][0]=0,this._intLineIndex[B][1]=1):(this._intLineIndex[B][0]=1,this._intLineIndex[B][1]=0)}},Lo.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Lo.prototype.setPrecisionModel=function(B){this._precisionModel=B},Lo.prototype.isInteriorIntersection=function(){var B=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var U=arguments[0],G=0;G<this._result;G++)if(!B._intPt[G].equals2D(B._inputLines[U][0])&&!B._intPt[G].equals2D(B._inputLines[U][1]))return!0;return!1}},Lo.prototype.getIntersection=function(B){return this._intPt[B]},Lo.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Lo.prototype.hasIntersection=function(){return this._result!==Lo.NO_INTERSECTION},Lo.prototype.getEdgeDistance=function(B,U){return Lo.computeEdgeDistance(this._intPt[U],this._inputLines[B][0],this._inputLines[B][1])},Lo.prototype.isCollinear=function(){return this._result===Lo.COLLINEAR_INTERSECTION},Lo.prototype.toString=function(){return _l.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+_l.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Lo.prototype.getEndpoint=function(B,U){return this._inputLines[B][U]},Lo.prototype.isIntersection=function(B){for(var U=0;U<this._result;U++)if(this._intPt[U].equals2D(B))return!0;return!1},Lo.prototype.getIntersectionAlongSegment=function(B,U){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[B][U]]},Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo},Lo.computeEdgeDistance=function(B,U,G){var Q=Math.abs(G.x-U.x),J=Math.abs(G.y-U.y),rt=-1;if(B.equals(U))rt=0;else if(B.equals(G))rt=Q>J?Q:J;else{var at=Math.abs(B.x-U.x),ft=Math.abs(B.y-U.y);(rt=Q>J?at:ft)!==0||B.equals(U)||(rt=Math.max(at,ft))}return ni.isTrue(!(rt===0&&!B.equals(U)),"Bad distance calculation"),rt},Lo.nonRobustComputeEdgeDistance=function(B,U,G){var Q=B.x-U.x,J=B.y-U.y,rt=Math.sqrt(Q*Q+J*J);return ni.isTrue(!(rt===0&&!B.equals(U)),"Invalid distance calculation"),rt},Ih.DONT_INTERSECT.get=function(){return 0},Ih.DO_INTERSECT.get=function(){return 1},Ih.COLLINEAR.get=function(){return 2},Ih.NO_INTERSECTION.get=function(){return 0},Ih.POINT_INTERSECTION.get=function(){return 1},Ih.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Lo,Ih);var wu=function(B){function U(){B.apply(this,arguments)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.isInSegmentEnvelopes=function(G){var Q=new Sr(this._inputLines[0][0],this._inputLines[0][1]),J=new Sr(this._inputLines[1][0],this._inputLines[1][1]);return Q.contains(G)&&J.contains(G)},U.prototype.computeIntersection=function(){if(arguments.length!==3)return B.prototype.computeIntersection.apply(this,arguments);var G=arguments[0],Q=arguments[1],J=arguments[2];if(this._isProper=!1,Sr.intersects(Q,J,G)&&ar.orientationIndex(Q,J,G)===0&&ar.orientationIndex(J,Q,G)===0)return this._isProper=!0,(G.equals(Q)||G.equals(J))&&(this._isProper=!1),this._result=B.POINT_INTERSECTION,null;this._result=B.NO_INTERSECTION},U.prototype.normalizeToMinimum=function(G,Q,J,rt,at){at.x=this.smallestInAbsValue(G.x,Q.x,J.x,rt.x),at.y=this.smallestInAbsValue(G.y,Q.y,J.y,rt.y),G.x-=at.x,G.y-=at.y,Q.x-=at.x,Q.y-=at.y,J.x-=at.x,J.y-=at.y,rt.x-=at.x,rt.y-=at.y},U.prototype.safeHCoordinateIntersection=function(G,Q,J,rt){var at=null;try{at=al.intersection(G,Q,J,rt)}catch(ft){if(!(ft instanceof Dh))throw ft;at=U.nearestEndpoint(G,Q,J,rt)}return at},U.prototype.intersection=function(G,Q,J,rt){var at=this.intersectionWithNormalization(G,Q,J,rt);return this.isInSegmentEnvelopes(at)||(at=new pn(U.nearestEndpoint(G,Q,J,rt))),this._precisionModel!==null&&this._precisionModel.makePrecise(at),at},U.prototype.smallestInAbsValue=function(G,Q,J,rt){var at=G,ft=Math.abs(at);return Math.abs(Q)<ft&&(at=Q,ft=Math.abs(Q)),Math.abs(J)<ft&&(at=J,ft=Math.abs(J)),Math.abs(rt)<ft&&(at=rt),at},U.prototype.checkDD=function(G,Q,J,rt,at){var ft=da.intersection(G,Q,J,rt),yt=this.isInSegmentEnvelopes(ft);Rs.out.println("DD in env = "+yt+"  --------------------- "+ft),at.distance(ft)>1e-4&&Rs.out.println("Distance = "+at.distance(ft))},U.prototype.intersectionWithNormalization=function(G,Q,J,rt){var at=new pn(G),ft=new pn(Q),yt=new pn(J),vt=new pn(rt),Tt=new pn;this.normalizeToEnvCentre(at,ft,yt,vt,Tt);var xt=this.safeHCoordinateIntersection(at,ft,yt,vt);return xt.x+=Tt.x,xt.y+=Tt.y,xt},U.prototype.computeCollinearIntersection=function(G,Q,J,rt){var at=Sr.intersects(G,Q,J),ft=Sr.intersects(G,Q,rt),yt=Sr.intersects(J,rt,G),vt=Sr.intersects(J,rt,Q);return at&&ft?(this._intPt[0]=J,this._intPt[1]=rt,B.COLLINEAR_INTERSECTION):yt&&vt?(this._intPt[0]=G,this._intPt[1]=Q,B.COLLINEAR_INTERSECTION):at&&yt?(this._intPt[0]=J,this._intPt[1]=G,!J.equals(G)||ft||vt?B.COLLINEAR_INTERSECTION:B.POINT_INTERSECTION):at&&vt?(this._intPt[0]=J,this._intPt[1]=Q,!J.equals(Q)||ft||yt?B.COLLINEAR_INTERSECTION:B.POINT_INTERSECTION):ft&&yt?(this._intPt[0]=rt,this._intPt[1]=G,!rt.equals(G)||at||vt?B.COLLINEAR_INTERSECTION:B.POINT_INTERSECTION):ft&&vt?(this._intPt[0]=rt,this._intPt[1]=Q,!rt.equals(Q)||at||yt?B.COLLINEAR_INTERSECTION:B.POINT_INTERSECTION):B.NO_INTERSECTION},U.prototype.normalizeToEnvCentre=function(G,Q,J,rt,at){var ft=G.x<Q.x?G.x:Q.x,yt=G.y<Q.y?G.y:Q.y,vt=G.x>Q.x?G.x:Q.x,Tt=G.y>Q.y?G.y:Q.y,xt=J.x<rt.x?J.x:rt.x,It=J.y<rt.y?J.y:rt.y,Gt=J.x>rt.x?J.x:rt.x,Wt=J.y>rt.y?J.y:rt.y,ee=((ft>xt?ft:xt)+(vt<Gt?vt:Gt))/2,Bt=((yt>It?yt:It)+(Tt<Wt?Tt:Wt))/2;at.x=ee,at.y=Bt,G.x-=at.x,G.y-=at.y,Q.x-=at.x,Q.y-=at.y,J.x-=at.x,J.y-=at.y,rt.x-=at.x,rt.y-=at.y},U.prototype.computeIntersect=function(G,Q,J,rt){if(this._isProper=!1,!Sr.intersects(G,Q,J,rt))return B.NO_INTERSECTION;var at=ar.orientationIndex(G,Q,J),ft=ar.orientationIndex(G,Q,rt);if(at>0&&ft>0||at<0&&ft<0)return B.NO_INTERSECTION;var yt=ar.orientationIndex(J,rt,G),vt=ar.orientationIndex(J,rt,Q);return yt>0&&vt>0||yt<0&&vt<0?B.NO_INTERSECTION:at===0&&ft===0&&yt===0&&vt===0?this.computeCollinearIntersection(G,Q,J,rt):(at===0||ft===0||yt===0||vt===0?(this._isProper=!1,G.equals2D(J)||G.equals2D(rt)?this._intPt[0]=G:Q.equals2D(J)||Q.equals2D(rt)?this._intPt[0]=Q:at===0?this._intPt[0]=new pn(J):ft===0?this._intPt[0]=new pn(rt):yt===0?this._intPt[0]=new pn(G):vt===0&&(this._intPt[0]=new pn(Q))):(this._isProper=!0,this._intPt[0]=this.intersection(G,Q,J,rt)),B.POINT_INTERSECTION)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.nearestEndpoint=function(G,Q,J,rt){var at=G,ft=ar.distancePointLine(G,J,rt),yt=ar.distancePointLine(Q,J,rt);return yt<ft&&(ft=yt,at=Q),(yt=ar.distancePointLine(J,G,Q))<ft&&(ft=yt,at=J),(yt=ar.distancePointLine(rt,G,Q))<ft&&(ft=yt,at=rt),at},U}(Lo),Lh=function(){};Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh},Lh.orientationIndex=function(B,U,G){var Q=U.x-B.x,J=U.y-B.y,rt=G.x-U.x,at=G.y-U.y;return Lh.signOfDet2x2(Q,J,rt,at)},Lh.signOfDet2x2=function(B,U,G,Q){var J=null,rt=null,at=null;if(J=1,B===0||Q===0)return U===0||G===0?0:U>0?G>0?-J:J:G>0?J:-J;if(U===0||G===0)return Q>0?B>0?J:-J:B>0?-J:J;if(U>0?Q>0?U<=Q||(J=-J,rt=B,B=G,G=rt,rt=U,U=Q,Q=rt):U<=-Q?(J=-J,G=-G,Q=-Q):(rt=B,B=-G,G=rt,rt=U,U=-Q,Q=rt):Q>0?-U<=Q?(J=-J,B=-B,U=-U):(rt=-B,B=G,G=rt,rt=-U,U=Q,Q=rt):U>=Q?(B=-B,U=-U,G=-G,Q=-Q):(J=-J,rt=-B,B=-G,G=rt,rt=-U,U=-Q,Q=rt),B>0){if(!(G>0)||!(B<=G))return J}else{if(G>0||!(B>=G))return-J;J=-J,B=-B,G=-G}for(;;){if((Q-=(at=Math.floor(G/B))*U)<0)return-J;if(Q>U)return J;if(B>(G-=at*B)+G){if(U<Q+Q)return J}else{if(U>Q+Q)return-J;G=B-G,Q=U-Q,J=-J}if(Q===0)return G===0?0:-J;if(G===0||(U-=(at=Math.floor(B/G))*Q)<0)return J;if(U>Q)return-J;if(G>(B-=at*G)+B){if(Q<U+U)return-J}else{if(Q>U+U)return J;B=G-B,U=Q-U,J=-J}if(U===0)return B===0?0:J;if(B===0)return-J}};var Gl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var B=arguments[0];this._p=B};Gl.prototype.countSegment=function(B,U){if(B.x<this._p.x&&U.x<this._p.x)return null;if(this._p.x===U.x&&this._p.y===U.y)return this._isPointOnSegment=!0,null;if(B.y===this._p.y&&U.y===this._p.y){var G=B.x,Q=U.x;return G>Q&&(G=U.x,Q=B.x),this._p.x>=G&&this._p.x<=Q&&(this._isPointOnSegment=!0),null}if(B.y>this._p.y&&U.y<=this._p.y||U.y>this._p.y&&B.y<=this._p.y){var J=B.x-this._p.x,rt=B.y-this._p.y,at=U.x-this._p.x,ft=U.y-this._p.y,yt=Lh.signOfDet2x2(J,rt,at,ft);if(yt===0)return this._isPointOnSegment=!0,null;ft<rt&&(yt=-yt),yt>0&&this._crossingCount++}},Gl.prototype.isPointInPolygon=function(){return this.getLocation()!==xn.EXTERIOR},Gl.prototype.getLocation=function(){return this._isPointOnSegment?xn.BOUNDARY:this._crossingCount%2==1?xn.INTERIOR:xn.EXTERIOR},Gl.prototype.isOnSegment=function(){return this._isPointOnSegment},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl},Gl.locatePointInRing=function(){if(arguments[0]instanceof pn&&Ur(arguments[1],Pi)){for(var B=arguments[0],U=arguments[1],G=new Gl(B),Q=new pn,J=new pn,rt=1;rt<U.size();rt++)if(U.getCoordinate(rt,Q),U.getCoordinate(rt-1,J),G.countSegment(Q,J),G.isOnSegment())return G.getLocation();return G.getLocation()}if(arguments[0]instanceof pn&&arguments[1]instanceof Array){for(var at=arguments[0],ft=arguments[1],yt=new Gl(at),vt=1;vt<ft.length;vt++){var Tt=ft[vt],xt=ft[vt-1];if(yt.countSegment(Tt,xt),yt.isOnSegment())return yt.getLocation()}return yt.getLocation()}};var ar=function(){},Oh={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ar.orientationIndex=function(B,U,G){return da.orientationIndex(B,U,G)},ar.signedArea=function(){if(arguments[0]instanceof Array){var B=arguments[0];if(B.length<3)return 0;for(var U=0,G=B[0].x,Q=1;Q<B.length-1;Q++){var J=B[Q].x-G,rt=B[Q+1].y,at=B[Q-1].y;U+=J*(at-rt)}return U/2}if(Ur(arguments[0],Pi)){var ft=arguments[0],yt=ft.size();if(yt<3)return 0;var vt=new pn,Tt=new pn,xt=new pn;ft.getCoordinate(0,Tt),ft.getCoordinate(1,xt);var It=Tt.x;xt.x-=It;for(var Gt=0,Wt=1;Wt<yt-1;Wt++)vt.y=Tt.y,Tt.x=xt.x,Tt.y=xt.y,ft.getCoordinate(Wt+1,xt),xt.x-=It,Gt+=Tt.x*(vt.y-xt.y);return Gt/2}},ar.distanceLineLine=function(B,U,G,Q){if(B.equals(U))return ar.distancePointLine(B,G,Q);if(G.equals(Q))return ar.distancePointLine(Q,B,U);var J=!1;if(Sr.intersects(B,U,G,Q)){var rt=(U.x-B.x)*(Q.y-G.y)-(U.y-B.y)*(Q.x-G.x);if(rt===0)J=!0;else{var at=(B.y-G.y)*(Q.x-G.x)-(B.x-G.x)*(Q.y-G.y),ft=((B.y-G.y)*(U.x-B.x)-(B.x-G.x)*(U.y-B.y))/rt,yt=at/rt;(yt<0||yt>1||ft<0||ft>1)&&(J=!0)}}else J=!0;return J?Ya.min(ar.distancePointLine(B,G,Q),ar.distancePointLine(U,G,Q),ar.distancePointLine(G,B,U),ar.distancePointLine(Q,B,U)):0},ar.isPointInRing=function(B,U){return ar.locatePointInRing(B,U)!==xn.EXTERIOR},ar.computeLength=function(B){var U=B.size();if(U<=1)return 0;var G=0,Q=new pn;B.getCoordinate(0,Q);for(var J=Q.x,rt=Q.y,at=1;at<U;at++){B.getCoordinate(at,Q);var ft=Q.x,yt=Q.y,vt=ft-J,Tt=yt-rt;G+=Math.sqrt(vt*vt+Tt*Tt),J=ft,rt=yt}return G},ar.isCCW=function(B){var U=B.length-1;if(U<3)throw new Ao("Ring has fewer than 4 points, so orientation cannot be determined");for(var G=B[0],Q=0,J=1;J<=U;J++){var rt=B[J];rt.y>G.y&&(G=rt,Q=J)}var at=Q;do(at-=1)<0&&(at=U);while(B[at].equals2D(G)&&at!==Q);var ft=Q;do ft=(ft+1)%U;while(B[ft].equals2D(G)&&ft!==Q);var yt=B[at],vt=B[ft];if(yt.equals2D(G)||vt.equals2D(G)||yt.equals2D(vt))return!1;var Tt=ar.computeOrientation(yt,G,vt),xt=!1;return xt=Tt===0?yt.x>vt.x:Tt>0,xt},ar.locatePointInRing=function(B,U){return Gl.locatePointInRing(B,U)},ar.distancePointLinePerpendicular=function(B,U,G){var Q=(G.x-U.x)*(G.x-U.x)+(G.y-U.y)*(G.y-U.y),J=((U.y-B.y)*(G.x-U.x)-(U.x-B.x)*(G.y-U.y))/Q;return Math.abs(J)*Math.sqrt(Q)},ar.computeOrientation=function(B,U,G){return ar.orientationIndex(B,U,G)},ar.distancePointLine=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1];if(U.length===0)throw new Ao("Line array must contain at least one vertex");for(var G=B.distance(U[0]),Q=0;Q<U.length-1;Q++){var J=ar.distancePointLine(B,U[Q],U[Q+1]);J<G&&(G=J)}return G}if(arguments.length===3){var rt=arguments[0],at=arguments[1],ft=arguments[2];if(at.x===ft.x&&at.y===ft.y)return rt.distance(at);var yt=(ft.x-at.x)*(ft.x-at.x)+(ft.y-at.y)*(ft.y-at.y),vt=((rt.x-at.x)*(ft.x-at.x)+(rt.y-at.y)*(ft.y-at.y))/yt;if(vt<=0)return rt.distance(at);if(vt>=1)return rt.distance(ft);var Tt=((at.y-rt.y)*(ft.x-at.x)-(at.x-rt.x)*(ft.y-at.y))/yt;return Math.abs(Tt)*Math.sqrt(yt)}},ar.isOnLine=function(B,U){for(var G=new wu,Q=1;Q<U.length;Q++){var J=U[Q-1],rt=U[Q];if(G.computeIntersection(B,J,rt),G.hasIntersection())return!0}return!1},Oh.CLOCKWISE.get=function(){return-1},Oh.RIGHT.get=function(){return ar.CLOCKWISE},Oh.COUNTERCLOCKWISE.get=function(){return 1},Oh.LEFT.get=function(){return ar.COUNTERCLOCKWISE},Oh.COLLINEAR.get=function(){return 0},Oh.STRAIGHT.get=function(){return ar.COLLINEAR},Object.defineProperties(ar,Oh);var dc=function(){};dc.prototype.filter=function(B){},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var Br=function(){var B=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=B,this._SRID=B.getSRID()},fc={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Br.prototype.isGeometryCollection=function(){return this.getSortIndex()===Br.SORTINDEX_GEOMETRYCOLLECTION},Br.prototype.getFactory=function(){return this._factory},Br.prototype.getGeometryN=function(B){return this},Br.prototype.getArea=function(){return 0},Br.prototype.isRectangle=function(){return!1},Br.prototype.equals=function(){if(arguments[0]instanceof Br){var B=arguments[0];return B!==null&&this.equalsTopo(B)}if(arguments[0]instanceof Object){var U=arguments[0];if(!(U instanceof Br))return!1;var G=U;return this.equalsExact(G)}},Br.prototype.equalsExact=function(B){return this===B||this.equalsExact(B,0)},Br.prototype.geometryChanged=function(){this.apply(Br.geometryChangedFilter)},Br.prototype.geometryChangedAction=function(){this._envelope=null},Br.prototype.equalsNorm=function(B){return B!==null&&this.norm().equalsExact(B.norm())},Br.prototype.getLength=function(){return 0},Br.prototype.getNumGeometries=function(){return 1},Br.prototype.compareTo=function(){if(arguments.length===1){var B=arguments[0],U=B;return this.getSortIndex()!==U.getSortIndex()?this.getSortIndex()-U.getSortIndex():this.isEmpty()&&U.isEmpty()?0:this.isEmpty()?-1:U.isEmpty()?1:this.compareToSameClass(B)}if(arguments.length===2){var G=arguments[0],Q=arguments[1];return this.getSortIndex()!==G.getSortIndex()?this.getSortIndex()-G.getSortIndex():this.isEmpty()&&G.isEmpty()?0:this.isEmpty()?-1:G.isEmpty()?1:this.compareToSameClass(G,Q)}},Br.prototype.getUserData=function(){return this._userData},Br.prototype.getSRID=function(){return this._SRID},Br.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Br.prototype.checkNotGeometryCollection=function(B){if(B.getSortIndex()===Br.SORTINDEX_GEOMETRYCOLLECTION)throw new Ao("This method does not support GeometryCollection arguments")},Br.prototype.equal=function(B,U,G){return G===0?B.equals(U):B.distance(U)<=G},Br.prototype.norm=function(){var B=this.copy();return B.normalize(),B},Br.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Br.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Sr(this._envelope)},Br.prototype.setSRID=function(B){this._SRID=B},Br.prototype.setUserData=function(B){this._userData=B},Br.prototype.compare=function(B,U){for(var G=B.iterator(),Q=U.iterator();G.hasNext()&&Q.hasNext();){var J=G.next(),rt=Q.next(),at=J.compareTo(rt);if(at!==0)return at}return G.hasNext()?1:Q.hasNext()?-1:0},Br.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Br.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Br.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Br.SORTINDEX_MULTIPOINT||this.getSortIndex()===Br.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Br.SORTINDEX_MULTIPOLYGON},Br.prototype.interfaces_=function(){return[xf,ol,sl]},Br.prototype.getClass=function(){return Br},Br.hasNonEmptyElements=function(B){for(var U=0;U<B.length;U++)if(!B[U].isEmpty())return!0;return!1},Br.hasNullElements=function(B){for(var U=0;U<B.length;U++)if(B[U]===null)return!0;return!1},fc.serialVersionUID.get=function(){return 8763622679187377e3},fc.SORTINDEX_POINT.get=function(){return 0},fc.SORTINDEX_MULTIPOINT.get=function(){return 1},fc.SORTINDEX_LINESTRING.get=function(){return 2},fc.SORTINDEX_LINEARRING.get=function(){return 3},fc.SORTINDEX_MULTILINESTRING.get=function(){return 4},fc.SORTINDEX_POLYGON.get=function(){return 5},fc.SORTINDEX_MULTIPOLYGON.get=function(){return 6},fc.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},fc.geometryChangedFilter.get=function(){return Cp},Object.defineProperties(Br,fc);var Cp=function(){};Cp.interfaces_=function(){return[dc]},Cp.filter=function(B){B.geometryChangedAction()};var pc=function(){};pc.prototype.filter=function(B){},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc};var ll=function(){},gc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};ll.prototype.isInBoundary=function(B){},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll},gc.Mod2BoundaryNodeRule.get=function(){return Md},gc.EndPointBoundaryNodeRule.get=function(){return Ph},gc.MultiValentEndPointBoundaryNodeRule.get=function(){return Td},gc.MonoValentEndPointBoundaryNodeRule.get=function(){return Sd},gc.MOD2_BOUNDARY_RULE.get=function(){return new Md},gc.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ph},gc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Td},gc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Sd},gc.OGC_SFS_BOUNDARY_RULE.get=function(){return ll.MOD2_BOUNDARY_RULE},Object.defineProperties(ll,gc);var Md=function(){};Md.prototype.isInBoundary=function(B){return B%2==1},Md.prototype.interfaces_=function(){return[ll]},Md.prototype.getClass=function(){return Md};var Ph=function(){};Ph.prototype.isInBoundary=function(B){return B>0},Ph.prototype.interfaces_=function(){return[ll]},Ph.prototype.getClass=function(){return Ph};var Td=function(){};Td.prototype.isInBoundary=function(B){return B>1},Td.prototype.interfaces_=function(){return[ll]},Td.prototype.getClass=function(){return Td};var Sd=function(){};Sd.prototype.isInBoundary=function(B){return B===1},Sd.prototype.interfaces_=function(){return[ll]},Sd.prototype.getClass=function(){return Sd};var as=function(){};function e0(B){this.message=B||""}as.prototype.add=function(){},as.prototype.addAll=function(){},as.prototype.isEmpty=function(){},as.prototype.iterator=function(){},as.prototype.size=function(){},as.prototype.toArray=function(){},as.prototype.remove=function(){},e0.prototype=new Error,e0.prototype.name="IndexOutOfBoundsException";var Cd=function(){};Cd.prototype.hasNext=function(){},Cd.prototype.next=function(){},Cd.prototype.remove=function(){};var wl=function(B){function U(){B.apply(this,arguments)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.get=function(){},U.prototype.set=function(){},U.prototype.isEmpty=function(){},U}(as);function zh(B){this.message=B||""}zh.prototype=new Error,zh.prototype.name="NoSuchElementException";var nr=function(B){function U(){B.call(this),this.array_=[],arguments[0]instanceof as&&this.addAll(arguments[0])}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.ensureCapacity=function(){},U.prototype.interfaces_=function(){return[B,as]},U.prototype.add=function(G){return arguments.length===1?this.array_.push(G):this.array_.splice(arguments[0],arguments[1]),!0},U.prototype.clear=function(){this.array_=[]},U.prototype.addAll=function(G){for(var Q=G.iterator();Q.hasNext();)this.add(Q.next());return!0},U.prototype.set=function(G,Q){var J=this.array_[G];return this.array_[G]=Q,J},U.prototype.iterator=function(){return new Ym(this)},U.prototype.get=function(G){if(G<0||G>=this.size())throw new e0;return this.array_[G]},U.prototype.isEmpty=function(){return this.array_.length===0},U.prototype.size=function(){return this.array_.length},U.prototype.toArray=function(){for(var G=[],Q=0,J=this.array_.length;Q<J;Q++)G.push(this.array_[Q]);return G},U.prototype.remove=function(G){for(var Q=!1,J=0,rt=this.array_.length;J<rt;J++)if(this.array_[J]===G){this.array_.splice(J,1),Q=!0;break}return Q},U}(wl),Ym=function(B){function U(G){B.call(this),this.arrayList_=G,this.position_=0}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new zh;return this.arrayList_.get(this.position_++)},U.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},U.prototype.set=function(G){return this.arrayList_.set(this.position_-1,G)},U.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},U}(Cd),Cf=function(B){function U(){if(B.call(this),arguments.length!==0){if(arguments.length===1){var Q=arguments[0];this.ensureCapacity(Q.length),this.add(Q,!0)}else if(arguments.length===2){var J=arguments[0],rt=arguments[1];this.ensureCapacity(J.length),this.add(J,rt)}}}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={coordArrayType:{configurable:!0}};return G.coordArrayType.get=function(){return new Array(0).fill(null)},U.prototype.getCoordinate=function(Q){return this.get(Q)},U.prototype.addAll=function(){var Q=this;if(arguments.length===2){for(var J=arguments[0],rt=arguments[1],at=!1,ft=J.iterator();ft.hasNext();)Q.add(ft.next(),rt),at=!0;return at}return B.prototype.addAll.apply(this,arguments)},U.prototype.clone=function(){for(var Q=B.prototype.clone.call(this),J=0;J<this.size();J++)Q.add(J,this.get(J).copy());return Q},U.prototype.toCoordinateArray=function(){return this.toArray(U.coordArrayType)},U.prototype.add=function(){var Q=this;if(arguments.length===1){var J=arguments[0];B.prototype.add.call(this,J)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var rt=arguments[0],at=arguments[1];return this.add(rt,at,!0),!0}if(arguments[0]instanceof pn&&typeof arguments[1]=="boolean"){var ft=arguments[0],yt=arguments[1];if(!yt&&this.size()>=1){var vt=this.get(this.size()-1);if(vt.equals2D(ft))return null}B.prototype.add.call(this,ft)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var Tt=arguments[0],xt=arguments[1];return this.add(Tt,xt),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var It=arguments[0],Gt=arguments[1],Wt=arguments[2];if(Wt)for(var ee=0;ee<It.length;ee++)Q.add(It[ee],Gt);else for(var Bt=It.length-1;Bt>=0;Bt--)Q.add(It[Bt],Gt);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof pn){var me=arguments[0],Ie=arguments[1],Zt=arguments[2];if(!Zt){var fe=this.size();if(fe>0){if(me>0){var be=this.get(me-1);if(be.equals2D(Ie))return null}if(me<fe){var Ee=this.get(me);if(Ee.equals2D(Ie))return null}}}B.prototype.add.call(this,me,Ie)}}else if(arguments.length===4){var _e=arguments[0],wn=arguments[1],cn=arguments[2],Tn=arguments[3],dn=1;cn>Tn&&(dn=-1);for(var An=cn;An!==Tn;An+=dn)Q.add(_e[An],wn);return!0}},U.prototype.closeRing=function(){this.size()>0&&this.add(new pn(this.get(0)),!1)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},Object.defineProperties(U,G),U}(nr),fi=function(){},kp={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};kp.ForwardComparator.get=function(){return kf},kp.BidirectionalComparator.get=function(){return Rh},kp.coordArrayType.get=function(){return new Array(0).fill(null)},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},fi.isRing=function(B){return!(B.length<4)&&!!B[0].equals2D(B[B.length-1])},fi.ptNotInList=function(B,U){for(var G=0;G<B.length;G++){var Q=B[G];if(fi.indexOf(Q,U)<0)return Q}return null},fi.scroll=function(B,U){var G=fi.indexOf(U,B);if(G<0)return null;var Q=new Array(B.length).fill(null);Rs.arraycopy(B,G,Q,0,B.length-G),Rs.arraycopy(B,0,Q,B.length-G,G),Rs.arraycopy(Q,0,B,0,B.length)},fi.equals=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1];if(B===U)return!0;if(B===null||U===null||B.length!==U.length)return!1;for(var G=0;G<B.length;G++)if(!B[G].equals(U[G]))return!1;return!0}if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2];if(Q===J)return!0;if(Q===null||J===null||Q.length!==J.length)return!1;for(var at=0;at<Q.length;at++)if(rt.compare(Q[at],J[at])!==0)return!1;return!0}},fi.intersection=function(B,U){for(var G=new Cf,Q=0;Q<B.length;Q++)U.intersects(B[Q])&&G.add(B[Q],!0);return G.toCoordinateArray()},fi.hasRepeatedPoints=function(B){for(var U=1;U<B.length;U++)if(B[U-1].equals(B[U]))return!0;return!1},fi.removeRepeatedPoints=function(B){return fi.hasRepeatedPoints(B)?new Cf(B,!1).toCoordinateArray():B},fi.reverse=function(B){for(var U=B.length-1,G=Math.trunc(U/2),Q=0;Q<=G;Q++){var J=B[Q];B[Q]=B[U-Q],B[U-Q]=J}},fi.removeNull=function(B){for(var U=0,G=0;G<B.length;G++)B[G]!==null&&U++;var Q=new Array(U).fill(null);if(U===0)return Q;for(var J=0,rt=0;rt<B.length;rt++)B[rt]!==null&&(Q[J++]=B[rt]);return Q},fi.copyDeep=function(){if(arguments.length===1){for(var B=arguments[0],U=new Array(B.length).fill(null),G=0;G<B.length;G++)U[G]=new pn(B[G]);return U}if(arguments.length===5)for(var Q=arguments[0],J=arguments[1],rt=arguments[2],at=arguments[3],ft=arguments[4],yt=0;yt<ft;yt++)rt[at+yt]=new pn(Q[J+yt])},fi.isEqualReversed=function(B,U){for(var G=0;G<B.length;G++){var Q=B[G],J=U[B.length-G-1];if(Q.compareTo(J)!==0)return!1}return!0},fi.envelope=function(B){for(var U=new Sr,G=0;G<B.length;G++)U.expandToInclude(B[G]);return U},fi.toCoordinateArray=function(B){return B.toArray(fi.coordArrayType)},fi.atLeastNCoordinatesOrNothing=function(B,U){return U.length>=B?U:[]},fi.indexOf=function(B,U){for(var G=0;G<U.length;G++)if(B.equals(U[G]))return G;return-1},fi.increasingDirection=function(B){for(var U=0;U<Math.trunc(B.length/2);U++){var G=B.length-1-U,Q=B[U].compareTo(B[G]);if(Q!==0)return Q}return 1},fi.compare=function(B,U){for(var G=0;G<B.length&&G<U.length;){var Q=B[G].compareTo(U[G]);if(Q!==0)return Q;G++}return G<U.length?-1:G<B.length?1:0},fi.minCoordinate=function(B){for(var U=null,G=0;G<B.length;G++)(U===null||U.compareTo(B[G])>0)&&(U=B[G]);return U},fi.extract=function(B,U,G){U=Ya.clamp(U,0,B.length);var Q=(G=Ya.clamp(G,-1,B.length))-U+1;G<0&&(Q=0),U>=B.length&&(Q=0),G<U&&(Q=0);var J=new Array(Q).fill(null);if(Q===0)return J;for(var rt=0,at=U;at<=G;at++)J[rt++]=B[at];return J},Object.defineProperties(fi,kp);var kf=function(){};kf.prototype.compare=function(B,U){return fi.compare(B,U)},kf.prototype.interfaces_=function(){return[wd]},kf.prototype.getClass=function(){return kf};var Rh=function(){};Rh.prototype.compare=function(B,U){var G=B,Q=U;if(G.length<Q.length)return-1;if(G.length>Q.length)return 1;if(G.length===0)return 0;var J=fi.compare(G,Q);return fi.isEqualReversed(G,Q)?0:J},Rh.prototype.OLDcompare=function(B,U){var G=B,Q=U;if(G.length<Q.length)return-1;if(G.length>Q.length)return 1;if(G.length===0)return 0;for(var J=fi.increasingDirection(G),rt=fi.increasingDirection(Q),at=J>0?0:G.length-1,ft=rt>0?0:G.length-1,yt=0;yt<G.length;yt++){var vt=G[at].compareTo(Q[ft]);if(vt!==0)return vt;at+=J,ft+=rt}return 0},Rh.prototype.interfaces_=function(){return[wd]},Rh.prototype.getClass=function(){return Rh};var jh=function(){};jh.prototype.get=function(){},jh.prototype.put=function(){},jh.prototype.size=function(){},jh.prototype.values=function(){},jh.prototype.entrySet=function(){};var Ty=function(B){function U(){B.apply(this,arguments)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U}(jh);function kd(B){this.message=B||""}function Ap(){}kd.prototype=new Error,kd.prototype.name="OperationNotSupported",Ap.prototype=new as,Ap.prototype.contains=function(){};var Np=function(B){function U(){B.call(this),this.array_=[],arguments[0]instanceof as&&this.addAll(arguments[0])}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.contains=function(G){for(var Q=0,J=this.array_.length;Q<J;Q++)if(this.array_[Q]===G)return!0;return!1},U.prototype.add=function(G){return!this.contains(G)&&(this.array_.push(G),!0)},U.prototype.addAll=function(G){for(var Q=G.iterator();Q.hasNext();)this.add(Q.next());return!0},U.prototype.remove=function(G){throw new Error},U.prototype.size=function(){return this.array_.length},U.prototype.isEmpty=function(){return this.array_.length===0},U.prototype.toArray=function(){for(var G=[],Q=0,J=this.array_.length;Q<J;Q++)G.push(this.array_[Q]);return G},U.prototype.iterator=function(){return new Hm(this)},U}(Ap),Hm=function(B){function U(G){B.call(this),this.hashSet_=G,this.position_=0}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new zh;return this.hashSet_.array_[this.position_++]},U.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},U.prototype.remove=function(){throw new kd},U}(Cd);function Vm(B){return B===null?0:B.color}function bo(B){return B===null?null:B.parent}function Yc(B,U){B!==null&&(B.color=U)}function n0(B){return B===null?null:B.left}function Gm(B){return B===null?null:B.right}function Ys(){this.root_=null,this.size_=0}Ys.prototype=new Ty,Ys.prototype.get=function(B){for(var U=this.root_;U!==null;){var G=B.compareTo(U.key);if(G<0)U=U.left;else{if(!(G>0))return U.value;U=U.right}}return null},Ys.prototype.put=function(B,U){if(this.root_===null)return this.root_={key:B,value:U,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var G,Q,J=this.root_;do if(G=J,(Q=B.compareTo(J.key))<0)J=J.left;else{if(!(Q>0)){var rt=J.value;return J.value=U,rt}J=J.right}while(J!==null);var at={key:B,left:null,right:null,value:U,parent:G,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return Q<0?G.left=at:G.right=at,this.fixAfterInsertion(at),this.size_++,null},Ys.prototype.fixAfterInsertion=function(B){var U=this;for(B.color=1;B!=null&&B!==this.root_&&B.parent.color===1;)if(bo(B)===n0(bo(bo(B)))){var G=Gm(bo(bo(B)));Vm(G)===1?(Yc(bo(B),0),Yc(G,0),Yc(bo(bo(B)),1),B=bo(bo(B))):(B===Gm(bo(B))&&(B=bo(B),U.rotateLeft(B)),Yc(bo(B),0),Yc(bo(bo(B)),1),U.rotateRight(bo(bo(B))))}else{var Q=n0(bo(bo(B)));Vm(Q)===1?(Yc(bo(B),0),Yc(Q,0),Yc(bo(bo(B)),1),B=bo(bo(B))):(B===n0(bo(B))&&(B=bo(B),U.rotateRight(B)),Yc(bo(B),0),Yc(bo(bo(B)),1),U.rotateLeft(bo(bo(B))))}this.root_.color=0},Ys.prototype.values=function(){var B=new nr,U=this.getFirstEntry();if(U!==null)for(B.add(U.value);(U=Ys.successor(U))!==null;)B.add(U.value);return B},Ys.prototype.entrySet=function(){var B=new Np,U=this.getFirstEntry();if(U!==null)for(B.add(U);(U=Ys.successor(U))!==null;)B.add(U);return B},Ys.prototype.rotateLeft=function(B){if(B!=null){var U=B.right;B.right=U.left,U.left!=null&&(U.left.parent=B),U.parent=B.parent,B.parent===null?this.root_=U:B.parent.left===B?B.parent.left=U:B.parent.right=U,U.left=B,B.parent=U}},Ys.prototype.rotateRight=function(B){if(B!=null){var U=B.left;B.left=U.right,U.right!=null&&(U.right.parent=B),U.parent=B.parent,B.parent===null?this.root_=U:B.parent.right===B?B.parent.right=U:B.parent.left=U,U.right=B,B.parent=U}},Ys.prototype.getFirstEntry=function(){var B=this.root_;if(B!=null)for(;B.left!=null;)B=B.left;return B},Ys.successor=function(B){if(B===null)return null;if(B.right!==null){for(var U=B.right;U.left!==null;)U=U.left;return U}for(var G=B.parent,Q=B;G!==null&&Q===G.right;)Q=G,G=G.parent;return G},Ys.prototype.size=function(){return this.size_};var Ad=function(){};function Wm(){}function xl(){this.array_=[],arguments[0]instanceof as&&this.addAll(arguments[0])}Ad.prototype.interfaces_=function(){return[]},Ad.prototype.getClass=function(){return Ad},Wm.prototype=new Ap,xl.prototype=new Wm,xl.prototype.contains=function(B){for(var U=0,G=this.array_.length;U<G;U++)if(this.array_[U].compareTo(B)===0)return!0;return!1},xl.prototype.add=function(B){if(this.contains(B))return!1;for(var U=0,G=this.array_.length;U<G;U++)if(this.array_[U].compareTo(B)===1)return this.array_.splice(U,0,B),!0;return this.array_.push(B),!0},xl.prototype.addAll=function(B){for(var U=B.iterator();U.hasNext();)this.add(U.next());return!0},xl.prototype.remove=function(B){throw new kd},xl.prototype.size=function(){return this.array_.length},xl.prototype.isEmpty=function(){return this.array_.length===0},xl.prototype.toArray=function(){for(var B=[],U=0,G=this.array_.length;U<G;U++)B.push(this.array_[U]);return B},xl.prototype.iterator=function(){return new Dp(this)};var Dp=function(B){this.treeSet_=B,this.position_=0};Dp.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new zh;return this.treeSet_.array_[this.position_++]},Dp.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Dp.prototype.remove=function(){throw new kd};var mc=function(){};mc.sort=function(){var B,U,G,Q,J=arguments[0];if(arguments.length===1)Q=function(at,ft){return at.compareTo(ft)},J.sort(Q);else if(arguments.length===2)G=arguments[1],Q=function(at,ft){return G.compare(at,ft)},J.sort(Q);else if(arguments.length===3){(U=J.slice(arguments[1],arguments[2])).sort();var rt=J.slice(0,arguments[1]).concat(U,J.slice(arguments[2],J.length));for(J.splice(0,J.length),B=0;B<rt.length;B++)J.push(rt[B])}else if(arguments.length===4)for(U=J.slice(arguments[1],arguments[2]),G=arguments[3],Q=function(at,ft){return G.compare(at,ft)},U.sort(Q),rt=J.slice(0,arguments[1]).concat(U,J.slice(arguments[2],J.length)),J.splice(0,J.length),B=0;B<rt.length;B++)J.push(rt[B])},mc.asList=function(B){for(var U=new nr,G=0,Q=B.length;G<Q;G++)U.add(B[G]);return U};var Zi=function(){},cl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};cl.P.get=function(){return 0},cl.L.get=function(){return 1},cl.A.get=function(){return 2},cl.FALSE.get=function(){return-1},cl.TRUE.get=function(){return-2},cl.DONTCARE.get=function(){return-3},cl.SYM_FALSE.get=function(){return"F"},cl.SYM_TRUE.get=function(){return"T"},cl.SYM_DONTCARE.get=function(){return"*"},cl.SYM_P.get=function(){return"0"},cl.SYM_L.get=function(){return"1"},cl.SYM_A.get=function(){return"2"},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi},Zi.toDimensionSymbol=function(B){switch(B){case Zi.FALSE:return Zi.SYM_FALSE;case Zi.TRUE:return Zi.SYM_TRUE;case Zi.DONTCARE:return Zi.SYM_DONTCARE;case Zi.P:return Zi.SYM_P;case Zi.L:return Zi.SYM_L;case Zi.A:return Zi.SYM_A}throw new Ao("Unknown dimension value: "+B)},Zi.toDimensionValue=function(B){switch(Mf.toUpperCase(B)){case Zi.SYM_FALSE:return Zi.FALSE;case Zi.SYM_TRUE:return Zi.TRUE;case Zi.SYM_DONTCARE:return Zi.DONTCARE;case Zi.SYM_P:return Zi.P;case Zi.SYM_L:return Zi.L;case Zi.SYM_A:return Zi.A}throw new Ao("Unknown dimension symbol: "+B)},Object.defineProperties(Zi,cl);var Wl=function(){};Wl.prototype.filter=function(B){},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl};var El=function(){};El.prototype.filter=function(B,U){},El.prototype.isDone=function(){},El.prototype.isGeometryChanged=function(){},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El};var na=function(B){function U(Q,J){if(B.call(this,J),this._geometries=Q||[],B.hasNullElements(this._geometries))throw new Ao("geometries must not contain null elements")}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.computeEnvelopeInternal=function(){for(var Q=new Sr,J=0;J<this._geometries.length;J++)Q.expandToInclude(this._geometries[J].getEnvelopeInternal());return Q},U.prototype.getGeometryN=function(Q){return this._geometries[Q]},U.prototype.getSortIndex=function(){return B.SORTINDEX_GEOMETRYCOLLECTION},U.prototype.getCoordinates=function(){for(var Q=new Array(this.getNumPoints()).fill(null),J=-1,rt=0;rt<this._geometries.length;rt++)for(var at=this._geometries[rt].getCoordinates(),ft=0;ft<at.length;ft++)Q[++J]=at[ft];return Q},U.prototype.getArea=function(){for(var Q=0,J=0;J<this._geometries.length;J++)Q+=this._geometries[J].getArea();return Q},U.prototype.equalsExact=function(){var Q=this;if(arguments.length===2){var J=arguments[0],rt=arguments[1];if(!this.isEquivalentClass(J))return!1;var at=J;if(this._geometries.length!==at._geometries.length)return!1;for(var ft=0;ft<this._geometries.length;ft++)if(!Q._geometries[ft].equalsExact(at._geometries[ft],rt))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.normalize=function(){for(var Q=0;Q<this._geometries.length;Q++)this._geometries[Q].normalize();mc.sort(this._geometries)},U.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},U.prototype.getBoundaryDimension=function(){for(var Q=Zi.FALSE,J=0;J<this._geometries.length;J++)Q=Math.max(Q,this._geometries[J].getBoundaryDimension());return Q},U.prototype.getDimension=function(){for(var Q=Zi.FALSE,J=0;J<this._geometries.length;J++)Q=Math.max(Q,this._geometries[J].getDimension());return Q},U.prototype.getLength=function(){for(var Q=0,J=0;J<this._geometries.length;J++)Q+=this._geometries[J].getLength();return Q},U.prototype.getNumPoints=function(){for(var Q=0,J=0;J<this._geometries.length;J++)Q+=this._geometries[J].getNumPoints();return Q},U.prototype.getNumGeometries=function(){return this._geometries.length},U.prototype.reverse=function(){for(var Q=this._geometries.length,J=new Array(Q).fill(null),rt=0;rt<this._geometries.length;rt++)J[rt]=this._geometries[rt].reverse();return this.getFactory().createGeometryCollection(J)},U.prototype.compareToSameClass=function(){var Q=this;if(arguments.length===1){var J=arguments[0],rt=new xl(mc.asList(this._geometries)),at=new xl(mc.asList(J._geometries));return this.compare(rt,at)}if(arguments.length===2){for(var ft=arguments[0],yt=arguments[1],vt=ft,Tt=this.getNumGeometries(),xt=vt.getNumGeometries(),It=0;It<Tt&&It<xt;){var Gt=Q.getGeometryN(It),Wt=vt.getGeometryN(It),ee=Gt.compareToSameClass(Wt,yt);if(ee!==0)return ee;It++}return It<Tt?1:It<xt?-1:0}},U.prototype.apply=function(){var Q=this;if(Ur(arguments[0],pc))for(var J=arguments[0],rt=0;rt<this._geometries.length;rt++)Q._geometries[rt].apply(J);else if(Ur(arguments[0],El)){var at=arguments[0];if(this._geometries.length===0)return null;for(var ft=0;ft<this._geometries.length&&(Q._geometries[ft].apply(at),!at.isDone());ft++);at.isGeometryChanged()&&this.geometryChanged()}else if(Ur(arguments[0],Wl)){var yt=arguments[0];yt.filter(this);for(var vt=0;vt<this._geometries.length;vt++)Q._geometries[vt].apply(yt)}else if(Ur(arguments[0],dc)){var Tt=arguments[0];Tt.filter(this);for(var xt=0;xt<this._geometries.length;xt++)Q._geometries[xt].apply(Tt)}},U.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),ni.shouldNeverReachHere(),null},U.prototype.clone=function(){var Q=B.prototype.clone.call(this);Q._geometries=new Array(this._geometries.length).fill(null);for(var J=0;J<this._geometries.length;J++)Q._geometries[J]=this._geometries[J].clone();return Q},U.prototype.getGeometryType=function(){return"GeometryCollection"},U.prototype.copy=function(){for(var Q=new Array(this._geometries.length).fill(null),J=0;J<Q.length;J++)Q[J]=this._geometries[J].copy();return new U(Q,this._factory)},U.prototype.isEmpty=function(){for(var Q=0;Q<this._geometries.length;Q++)if(!this._geometries[Q].isEmpty())return!1;return!0},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(U,G),U}(Br),xu=function(B){function U(){B.apply(this,arguments)}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.getSortIndex=function(){return Br.SORTINDEX_MULTILINESTRING},U.prototype.equalsExact=function(){if(arguments.length===2){var Q=arguments[0],J=arguments[1];return!!this.isEquivalentClass(Q)&&B.prototype.equalsExact.call(this,Q,J)}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.getBoundaryDimension=function(){return this.isClosed()?Zi.FALSE:0},U.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var Q=0;Q<this._geometries.length;Q++)if(!this._geometries[Q].isClosed())return!1;return!0},U.prototype.getDimension=function(){return 1},U.prototype.reverse=function(){for(var Q=this._geometries.length,J=new Array(Q).fill(null),rt=0;rt<this._geometries.length;rt++)J[Q-1-rt]=this._geometries[rt].reverse();return this.getFactory().createMultiLineString(J)},U.prototype.getBoundary=function(){return new fa(this).getBoundary()},U.prototype.getGeometryType=function(){return"MultiLineString"},U.prototype.copy=function(){for(var Q=new Array(this._geometries.length).fill(null),J=0;J<Q.length;J++)Q[J]=this._geometries[J].copy();return new U(Q,this._factory)},U.prototype.interfaces_=function(){return[Ad]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(U,G),U}(na),fa=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var B=arguments[0],U=ll.MOD2_BOUNDARY_RULE;this._geom=B,this._geomFact=B.getFactory(),this._bnRule=U}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];this._geom=G,this._geomFact=G.getFactory(),this._bnRule=Q}};fa.prototype.boundaryMultiLineString=function(B){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var U=this.computeBoundaryCoordinates(B);return U.length===1?this._geomFact.createPoint(U[0]):this._geomFact.createMultiPointFromCoords(U)},fa.prototype.getBoundary=function(){return this._geom instanceof No?this.boundaryLineString(this._geom):this._geom instanceof xu?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},fa.prototype.boundaryLineString=function(B){return this._geom.isEmpty()?this.getEmptyMultiPoint():B.isClosed()?this._bnRule.isInBoundary(2)?B.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([B.getStartPoint(),B.getEndPoint()])},fa.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},fa.prototype.computeBoundaryCoordinates=function(B){var U=this,G=new nr;this._endpointMap=new Ys;for(var Q=0;Q<B.getNumGeometries();Q++){var J=B.getGeometryN(Q);J.getNumPoints()!==0&&(U.addEndpoint(J.getCoordinateN(0)),U.addEndpoint(J.getCoordinateN(J.getNumPoints()-1)))}for(var rt=this._endpointMap.entrySet().iterator();rt.hasNext();){var at=rt.next(),ft=at.getValue().count;U._bnRule.isInBoundary(ft)&&G.add(at.getKey())}return fi.toCoordinateArray(G)},fa.prototype.addEndpoint=function(B){var U=this._endpointMap.get(B);U===null&&(U=new Nd,this._endpointMap.put(B,U)),U.count++},fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa},fa.getBoundary=function(){if(arguments.length===1){var B=arguments[0],U=new fa(B);return U.getBoundary()}if(arguments.length===2){var G=arguments[0],Q=arguments[1],J=new fa(G,Q);return J.getBoundary()}};var Nd=function(){this.count=null};function qm(){}function Sy(){}Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd};var Cy=function(){};function ky(){}function Ay(){}function Qm(){}var ul=function(){},r0={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul},ul.chars=function(B,U){for(var G=new Array(U).fill(null),Q=0;Q<U;Q++)G[Q]=B;return String(G)},ul.getStackTrace=function(){if(arguments.length===1){var B=arguments[0],U=new ky,G=new qm;return B.printStackTrace(G),U.toString()}if(arguments.length===2){for(var Q=arguments[0],J=arguments[1],rt="",at=new Sy(ul.getStackTrace(Q)),ft=new Qm,yt=0;yt<J;yt++)try{rt+=ft.readLine()+ul.NEWLINE}catch(vt){if(!(vt instanceof Ay))throw vt;ni.shouldNeverReachHere()}return rt}},ul.split=function(B,U){for(var G=U.length,Q=new nr,J=""+B,rt=J.indexOf(U);rt>=0;){var at=J.substring(0,rt);Q.add(at),rt=(J=J.substring(rt+G)).indexOf(U)}J.length>0&&Q.add(J);for(var ft=new Array(Q.size()).fill(null),yt=0;yt<ft.length;yt++)ft[yt]=Q.get(yt);return ft},ul.toString=function(){if(arguments.length===1){var B=arguments[0];return ul.SIMPLE_ORDINATE_FORMAT.format(B)}},ul.spaces=function(B){return ul.chars(" ",B)},r0.NEWLINE.get=function(){return Rs.getProperty("line.separator")},r0.SIMPLE_ORDINATE_FORMAT.get=function(){return new Cy},Object.defineProperties(ul,r0);var Wo=function(){};Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo},Wo.copyCoord=function(B,U,G,Q){for(var J=Math.min(B.getDimension(),G.getDimension()),rt=0;rt<J;rt++)G.setOrdinate(Q,rt,B.getOrdinate(U,rt))},Wo.isRing=function(B){var U=B.size();return U===0||!(U<=3)&&B.getOrdinate(0,Pi.X)===B.getOrdinate(U-1,Pi.X)&&B.getOrdinate(0,Pi.Y)===B.getOrdinate(U-1,Pi.Y)},Wo.isEqual=function(B,U){var G=B.size();if(G!==U.size())return!1;for(var Q=Math.min(B.getDimension(),U.getDimension()),J=0;J<G;J++)for(var rt=0;rt<Q;rt++){var at=B.getOrdinate(J,rt),ft=U.getOrdinate(J,rt);if(B.getOrdinate(J,rt)!==U.getOrdinate(J,rt)&&(!Qr.isNaN(at)||!Qr.isNaN(ft)))return!1}return!0},Wo.extend=function(B,U,G){var Q=B.create(G,U.getDimension()),J=U.size();if(Wo.copy(U,0,Q,0,J),J>0)for(var rt=J;rt<G;rt++)Wo.copy(U,J-1,Q,rt,1);return Q},Wo.reverse=function(B){for(var U=B.size()-1,G=Math.trunc(U/2),Q=0;Q<=G;Q++)Wo.swap(B,Q,U-Q)},Wo.swap=function(B,U,G){if(U===G)return null;for(var Q=0;Q<B.getDimension();Q++){var J=B.getOrdinate(U,Q);B.setOrdinate(U,Q,B.getOrdinate(G,Q)),B.setOrdinate(G,Q,J)}},Wo.copy=function(B,U,G,Q,J){for(var rt=0;rt<J;rt++)Wo.copyCoord(B,U+rt,G,Q+rt)},Wo.toString=function(){if(arguments.length===1){var B=arguments[0],U=B.size();if(U===0)return"()";var G=B.getDimension(),Q=new Yl;Q.append("(");for(var J=0;J<U;J++){J>0&&Q.append(" ");for(var rt=0;rt<G;rt++)rt>0&&Q.append(","),Q.append(ul.toString(B.getOrdinate(J,rt)))}return Q.append(")"),Q.toString()}},Wo.ensureValidRing=function(B,U){var G=U.size();return G===0?U:G<=3?Wo.createClosedRing(B,U,4):U.getOrdinate(0,Pi.X)===U.getOrdinate(G-1,Pi.X)&&U.getOrdinate(0,Pi.Y)===U.getOrdinate(G-1,Pi.Y)?U:Wo.createClosedRing(B,U,G+1)},Wo.createClosedRing=function(B,U,G){var Q=B.create(G,U.getDimension()),J=U.size();Wo.copy(U,0,Q,0,J);for(var rt=J;rt<G;rt++)Wo.copy(U,0,Q,rt,1);return Q};var No=function(B){function U(Q,J){B.call(this,J),this._points=null,this.init(Q)}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Sr:this._points.expandEnvelope(new Sr)},U.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},U.prototype.getSortIndex=function(){return B.SORTINDEX_LINESTRING},U.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},U.prototype.equalsExact=function(){var Q=this;if(arguments.length===2){var J=arguments[0],rt=arguments[1];if(!this.isEquivalentClass(J))return!1;var at=J;if(this._points.size()!==at._points.size())return!1;for(var ft=0;ft<this._points.size();ft++)if(!Q.equal(Q._points.getCoordinate(ft),at._points.getCoordinate(ft),rt))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.normalize=function(){for(var Q=this,J=0;J<Math.trunc(this._points.size()/2);J++){var rt=Q._points.size()-1-J;if(!Q._points.getCoordinate(J).equals(Q._points.getCoordinate(rt)))return Q._points.getCoordinate(J).compareTo(Q._points.getCoordinate(rt))>0&&Wo.reverse(Q._points),null}},U.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},U.prototype.getBoundaryDimension=function(){return this.isClosed()?Zi.FALSE:0},U.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},U.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},U.prototype.getDimension=function(){return 1},U.prototype.getLength=function(){return ar.computeLength(this._points)},U.prototype.getNumPoints=function(){return this._points.size()},U.prototype.reverse=function(){var Q=this._points.copy();return Wo.reverse(Q),this.getFactory().createLineString(Q)},U.prototype.compareToSameClass=function(){var Q=this;if(arguments.length===1){for(var J=arguments[0],rt=J,at=0,ft=0;at<this._points.size()&&ft<rt._points.size();){var yt=Q._points.getCoordinate(at).compareTo(rt._points.getCoordinate(ft));if(yt!==0)return yt;at++,ft++}return at<this._points.size()?1:ft<rt._points.size()?-1:0}if(arguments.length===2){var vt=arguments[0],Tt=arguments[1],xt=vt;return Tt.compare(this._points,xt._points)}},U.prototype.apply=function(){var Q=this;if(Ur(arguments[0],pc))for(var J=arguments[0],rt=0;rt<this._points.size();rt++)J.filter(Q._points.getCoordinate(rt));else if(Ur(arguments[0],El)){var at=arguments[0];if(this._points.size()===0)return null;for(var ft=0;ft<this._points.size()&&(at.filter(Q._points,ft),!at.isDone());ft++);at.isGeometryChanged()&&this.geometryChanged()}else if(Ur(arguments[0],Wl)){var yt=arguments[0];yt.filter(this)}else if(Ur(arguments[0],dc)){var vt=arguments[0];vt.filter(this)}},U.prototype.getBoundary=function(){return new fa(this).getBoundary()},U.prototype.isEquivalentClass=function(Q){return Q instanceof U},U.prototype.clone=function(){var Q=B.prototype.clone.call(this);return Q._points=this._points.clone(),Q},U.prototype.getCoordinateN=function(Q){return this._points.getCoordinate(Q)},U.prototype.getGeometryType=function(){return"LineString"},U.prototype.copy=function(){return new U(this._points.copy(),this._factory)},U.prototype.getCoordinateSequence=function(){return this._points},U.prototype.isEmpty=function(){return this._points.size()===0},U.prototype.init=function(Q){if(Q===null&&(Q=this.getFactory().getCoordinateSequenceFactory().create([])),Q.size()===1)throw new Ao("Invalid number of points in LineString (found "+Q.size()+" - must be 0 or >= 2)");this._points=Q},U.prototype.isCoordinate=function(Q){for(var J=0;J<this._points.size();J++)if(this._points.getCoordinate(J).equals(Q))return!0;return!1},U.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},U.prototype.getPointN=function(Q){return this.getFactory().createPoint(this._points.getCoordinate(Q))},U.prototype.interfaces_=function(){return[Ad]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(U,G),U}(Br),Ml=function(){};Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml};var Ia=function(B){function U(Q,J){B.call(this,J),this._coordinates=Q||null,this.init(this._coordinates)}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Sr;var Q=new Sr;return Q.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),Q},U.prototype.getSortIndex=function(){return B.SORTINDEX_POINT},U.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},U.prototype.equalsExact=function(){if(arguments.length===2){var Q=arguments[0],J=arguments[1];return!!this.isEquivalentClass(Q)&&(!(!this.isEmpty()||!Q.isEmpty())||this.isEmpty()===Q.isEmpty()&&this.equal(Q.getCoordinate(),this.getCoordinate(),J))}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.normalize=function(){},U.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},U.prototype.getBoundaryDimension=function(){return Zi.FALSE},U.prototype.getDimension=function(){return 0},U.prototype.getNumPoints=function(){return this.isEmpty()?0:1},U.prototype.reverse=function(){return this.copy()},U.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},U.prototype.compareToSameClass=function(){if(arguments.length===1){var Q=arguments[0],J=Q;return this.getCoordinate().compareTo(J.getCoordinate())}if(arguments.length===2){var rt=arguments[0],at=arguments[1],ft=rt;return at.compare(this._coordinates,ft._coordinates)}},U.prototype.apply=function(){if(Ur(arguments[0],pc)){var Q=arguments[0];if(this.isEmpty())return null;Q.filter(this.getCoordinate())}else if(Ur(arguments[0],El)){var J=arguments[0];if(this.isEmpty())return null;J.filter(this._coordinates,0),J.isGeometryChanged()&&this.geometryChanged()}else if(Ur(arguments[0],Wl)){var rt=arguments[0];rt.filter(this)}else if(Ur(arguments[0],dc)){var at=arguments[0];at.filter(this)}},U.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},U.prototype.clone=function(){var Q=B.prototype.clone.call(this);return Q._coordinates=this._coordinates.clone(),Q},U.prototype.getGeometryType=function(){return"Point"},U.prototype.copy=function(){return new U(this._coordinates.copy(),this._factory)},U.prototype.getCoordinateSequence=function(){return this._coordinates},U.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},U.prototype.isEmpty=function(){return this._coordinates.size()===0},U.prototype.init=function(Q){Q===null&&(Q=this.getFactory().getCoordinateSequenceFactory().create([])),ni.isTrue(Q.size()<=1),this._coordinates=Q},U.prototype.isSimple=function(){return!0},U.prototype.interfaces_=function(){return[Ml]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(U,G),U}(Br),Eu=function(){};Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu};var ls=function(B){function U(Q,J,rt){if(B.call(this,rt),this._shell=null,this._holes=null,Q===null&&(Q=this.getFactory().createLinearRing()),J===null&&(J=[]),B.hasNullElements(J))throw new Ao("holes must not contain null elements");if(Q.isEmpty()&&B.hasNonEmptyElements(J))throw new Ao("shell is empty but holes are not");this._shell=Q,this._holes=J}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},U.prototype.getSortIndex=function(){return B.SORTINDEX_POLYGON},U.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var Q=new Array(this.getNumPoints()).fill(null),J=-1,rt=this._shell.getCoordinates(),at=0;at<rt.length;at++)Q[++J]=rt[at];for(var ft=0;ft<this._holes.length;ft++)for(var yt=this._holes[ft].getCoordinates(),vt=0;vt<yt.length;vt++)Q[++J]=yt[vt];return Q},U.prototype.getArea=function(){var Q=0;Q+=Math.abs(ar.signedArea(this._shell.getCoordinateSequence()));for(var J=0;J<this._holes.length;J++)Q-=Math.abs(ar.signedArea(this._holes[J].getCoordinateSequence()));return Q},U.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var Q=this._shell.getCoordinateSequence(),J=this.getEnvelopeInternal(),rt=0;rt<5;rt++){var at=Q.getX(rt);if(at!==J.getMinX()&&at!==J.getMaxX())return!1;var ft=Q.getY(rt);if(ft!==J.getMinY()&&ft!==J.getMaxY())return!1}for(var yt=Q.getX(0),vt=Q.getY(0),Tt=1;Tt<=4;Tt++){var xt=Q.getX(Tt),It=Q.getY(Tt);if(xt!==yt==(It!==vt))return!1;yt=xt,vt=It}return!0},U.prototype.equalsExact=function(){var Q=this;if(arguments.length===2){var J=arguments[0],rt=arguments[1];if(!this.isEquivalentClass(J))return!1;var at=J,ft=this._shell,yt=at._shell;if(!ft.equalsExact(yt,rt)||this._holes.length!==at._holes.length)return!1;for(var vt=0;vt<this._holes.length;vt++)if(!Q._holes[vt].equalsExact(at._holes[vt],rt))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.normalize=function(){var Q=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var J=0;J<this._holes.length;J++)Q.normalize(Q._holes[J],!1);mc.sort(this._holes)}else if(arguments.length===2){var rt=arguments[0],at=arguments[1];if(rt.isEmpty())return null;var ft=new Array(rt.getCoordinates().length-1).fill(null);Rs.arraycopy(rt.getCoordinates(),0,ft,0,ft.length);var yt=fi.minCoordinate(rt.getCoordinates());fi.scroll(ft,yt),Rs.arraycopy(ft,0,rt.getCoordinates(),0,ft.length),rt.getCoordinates()[ft.length]=ft[0],ar.isCCW(rt.getCoordinates())===at&&fi.reverse(rt.getCoordinates())}},U.prototype.getCoordinate=function(){return this._shell.getCoordinate()},U.prototype.getNumInteriorRing=function(){return this._holes.length},U.prototype.getBoundaryDimension=function(){return 1},U.prototype.getDimension=function(){return 2},U.prototype.getLength=function(){var Q=0;Q+=this._shell.getLength();for(var J=0;J<this._holes.length;J++)Q+=this._holes[J].getLength();return Q},U.prototype.getNumPoints=function(){for(var Q=this._shell.getNumPoints(),J=0;J<this._holes.length;J++)Q+=this._holes[J].getNumPoints();return Q},U.prototype.reverse=function(){var Q=this.copy();Q._shell=this._shell.copy().reverse(),Q._holes=new Array(this._holes.length).fill(null);for(var J=0;J<this._holes.length;J++)Q._holes[J]=this._holes[J].copy().reverse();return Q},U.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},U.prototype.compareToSameClass=function(){var Q=this;if(arguments.length===1){var J=arguments[0],rt=this._shell,at=J._shell;return rt.compareToSameClass(at)}if(arguments.length===2){var ft=arguments[0],yt=arguments[1],vt=ft,Tt=this._shell,xt=vt._shell,It=Tt.compareToSameClass(xt,yt);if(It!==0)return It;for(var Gt=this.getNumInteriorRing(),Wt=vt.getNumInteriorRing(),ee=0;ee<Gt&&ee<Wt;){var Bt=Q.getInteriorRingN(ee),me=vt.getInteriorRingN(ee),Ie=Bt.compareToSameClass(me,yt);if(Ie!==0)return Ie;ee++}return ee<Gt?1:ee<Wt?-1:0}},U.prototype.apply=function(Q){var J=this;if(Ur(Q,pc)){this._shell.apply(Q);for(var rt=0;rt<this._holes.length;rt++)J._holes[rt].apply(Q)}else if(Ur(Q,El)){if(this._shell.apply(Q),!Q.isDone())for(var at=0;at<this._holes.length&&(J._holes[at].apply(Q),!Q.isDone());at++);Q.isGeometryChanged()&&this.geometryChanged()}else if(Ur(Q,Wl))Q.filter(this);else if(Ur(Q,dc)){Q.filter(this),this._shell.apply(Q);for(var ft=0;ft<this._holes.length;ft++)J._holes[ft].apply(Q)}},U.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var Q=new Array(this._holes.length+1).fill(null);Q[0]=this._shell;for(var J=0;J<this._holes.length;J++)Q[J+1]=this._holes[J];return Q.length<=1?this.getFactory().createLinearRing(Q[0].getCoordinateSequence()):this.getFactory().createMultiLineString(Q)},U.prototype.clone=function(){var Q=B.prototype.clone.call(this);Q._shell=this._shell.clone(),Q._holes=new Array(this._holes.length).fill(null);for(var J=0;J<this._holes.length;J++)Q._holes[J]=this._holes[J].clone();return Q},U.prototype.getGeometryType=function(){return"Polygon"},U.prototype.copy=function(){for(var Q=this._shell.copy(),J=new Array(this._holes.length).fill(null),rt=0;rt<J.length;rt++)J[rt]=this._holes[rt].copy();return new U(Q,J,this._factory)},U.prototype.getExteriorRing=function(){return this._shell},U.prototype.isEmpty=function(){return this._shell.isEmpty()},U.prototype.getInteriorRingN=function(Q){return this._holes[Q]},U.prototype.interfaces_=function(){return[Eu]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(U,G),U}(Br),Dd=function(B){function U(){B.apply(this,arguments)}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.getSortIndex=function(){return Br.SORTINDEX_MULTIPOINT},U.prototype.isValid=function(){return!0},U.prototype.equalsExact=function(){if(arguments.length===2){var Q=arguments[0],J=arguments[1];return!!this.isEquivalentClass(Q)&&B.prototype.equalsExact.call(this,Q,J)}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.getCoordinate=function(){if(arguments.length===1){var Q=arguments[0];return this._geometries[Q].getCoordinate()}return B.prototype.getCoordinate.apply(this,arguments)},U.prototype.getBoundaryDimension=function(){return Zi.FALSE},U.prototype.getDimension=function(){return 0},U.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},U.prototype.getGeometryType=function(){return"MultiPoint"},U.prototype.copy=function(){for(var Q=new Array(this._geometries.length).fill(null),J=0;J<Q.length;J++)Q[J]=this._geometries[J].copy();return new U(Q,this._factory)},U.prototype.interfaces_=function(){return[Ml]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(U,G),U}(na),yc=function(B){function U(Q,J){Q instanceof pn&&J instanceof gi&&(Q=J.getCoordinateSequenceFactory().create(Q)),B.call(this,Q,J),this.validateConstruction()}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return U.prototype.getSortIndex=function(){return Br.SORTINDEX_LINEARRING},U.prototype.getBoundaryDimension=function(){return Zi.FALSE},U.prototype.isClosed=function(){return!!this.isEmpty()||B.prototype.isClosed.call(this)},U.prototype.reverse=function(){var Q=this._points.copy();return Wo.reverse(Q),this.getFactory().createLinearRing(Q)},U.prototype.validateConstruction=function(){if(!this.isEmpty()&&!B.prototype.isClosed.call(this))throw new Ao("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<U.MINIMUM_VALID_SIZE)throw new Ao("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},U.prototype.getGeometryType=function(){return"LinearRing"},U.prototype.copy=function(){return new U(this._points.copy(),this._factory)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},G.MINIMUM_VALID_SIZE.get=function(){return 4},G.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(U,G),U}(No),vc=function(B){function U(){B.apply(this,arguments)}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={serialVersionUID:{configurable:!0}};return U.prototype.getSortIndex=function(){return Br.SORTINDEX_MULTIPOLYGON},U.prototype.equalsExact=function(){if(arguments.length===2){var Q=arguments[0],J=arguments[1];return!!this.isEquivalentClass(Q)&&B.prototype.equalsExact.call(this,Q,J)}return B.prototype.equalsExact.apply(this,arguments)},U.prototype.getBoundaryDimension=function(){return 1},U.prototype.getDimension=function(){return 2},U.prototype.reverse=function(){for(var Q=this._geometries.length,J=new Array(Q).fill(null),rt=0;rt<this._geometries.length;rt++)J[rt]=this._geometries[rt].reverse();return this.getFactory().createMultiPolygon(J)},U.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var Q=new nr,J=0;J<this._geometries.length;J++)for(var rt=this._geometries[J].getBoundary(),at=0;at<rt.getNumGeometries();at++)Q.add(rt.getGeometryN(at));var ft=new Array(Q.size()).fill(null);return this.getFactory().createMultiLineString(Q.toArray(ft))},U.prototype.getGeometryType=function(){return"MultiPolygon"},U.prototype.copy=function(){for(var Q=new Array(this._geometries.length).fill(null),J=0;J<Q.length;J++)Q[J]=this._geometries[J].copy();return new U(Q,this._factory)},U.prototype.interfaces_=function(){return[Eu]},U.prototype.getClass=function(){return U},G.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(U,G),U}(na),hl=function(B){this._factory=B||null,this._isUserDataCopied=!1},Ip={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};hl.prototype.setCopyUserData=function(B){this._isUserDataCopied=B},hl.prototype.edit=function(B,U){if(B===null)return null;var G=this.editInternal(B,U);return this._isUserDataCopied&&G.setUserData(B.getUserData()),G},hl.prototype.editInternal=function(B,U){return this._factory===null&&(this._factory=B.getFactory()),B instanceof na?this.editGeometryCollection(B,U):B instanceof ls?this.editPolygon(B,U):B instanceof Ia||B instanceof No?U.edit(B,this._factory):(ni.shouldNeverReachHere("Unsupported Geometry class: "+B.getClass().getName()),null)},hl.prototype.editGeometryCollection=function(B,U){for(var G=U.edit(B,this._factory),Q=new nr,J=0;J<G.getNumGeometries();J++){var rt=this.edit(G.getGeometryN(J),U);rt===null||rt.isEmpty()||Q.add(rt)}return G.getClass()===Dd?this._factory.createMultiPoint(Q.toArray([])):G.getClass()===xu?this._factory.createMultiLineString(Q.toArray([])):G.getClass()===vc?this._factory.createMultiPolygon(Q.toArray([])):this._factory.createGeometryCollection(Q.toArray([]))},hl.prototype.editPolygon=function(B,U){var G=U.edit(B,this._factory);if(G===null&&(G=this._factory.createPolygon(null)),G.isEmpty())return G;var Q=this.edit(G.getExteriorRing(),U);if(Q===null||Q.isEmpty())return this._factory.createPolygon();for(var J=new nr,rt=0;rt<G.getNumInteriorRing();rt++){var at=this.edit(G.getInteriorRingN(rt),U);at===null||at.isEmpty()||J.add(at)}return this._factory.createPolygon(Q,J.toArray([]))},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl},hl.GeometryEditorOperation=function(){},Ip.NoOpGeometryOperation.get=function(){return Af},Ip.CoordinateOperation.get=function(){return Nf},Ip.CoordinateSequenceOperation.get=function(){return Df},Object.defineProperties(hl,Ip);var Af=function(){};Af.prototype.edit=function(B,U){return B},Af.prototype.interfaces_=function(){return[hl.GeometryEditorOperation]},Af.prototype.getClass=function(){return Af};var Nf=function(){};Nf.prototype.edit=function(B,U){var G=this.editCoordinates(B.getCoordinates(),B);return G===null?B:B instanceof yc?U.createLinearRing(G):B instanceof No?U.createLineString(G):B instanceof Ia?G.length>0?U.createPoint(G[0]):U.createPoint():B},Nf.prototype.interfaces_=function(){return[hl.GeometryEditorOperation]},Nf.prototype.getClass=function(){return Nf};var Df=function(){};Df.prototype.edit=function(B,U){return B instanceof yc?U.createLinearRing(this.edit(B.getCoordinateSequence(),B)):B instanceof No?U.createLineString(this.edit(B.getCoordinateSequence(),B)):B instanceof Ia?U.createPoint(this.edit(B.getCoordinateSequence(),B)):B},Df.prototype.interfaces_=function(){return[hl.GeometryEditorOperation]},Df.prototype.getClass=function(){return Df};var qo=function(){var B=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var U=arguments[0];this._coordinates=new Array(U).fill(null);for(var G=0;G<U;G++)B._coordinates[G]=new pn}else if(Ur(arguments[0],Pi)){var Q=arguments[0];if(Q===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=Q.getDimension(),this._coordinates=new Array(Q.size()).fill(null);for(var J=0;J<this._coordinates.length;J++)B._coordinates[J]=Q.getCoordinateCopy(J)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var rt=arguments[0],at=arguments[1];this._coordinates=rt,this._dimension=at,rt===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var ft=arguments[0],yt=arguments[1];this._coordinates=new Array(ft).fill(null),this._dimension=yt;for(var vt=0;vt<ft;vt++)B._coordinates[vt]=new pn}}},Xm={serialVersionUID:{configurable:!0}};qo.prototype.setOrdinate=function(B,U,G){switch(U){case Pi.X:this._coordinates[B].x=G;break;case Pi.Y:this._coordinates[B].y=G;break;case Pi.Z:this._coordinates[B].z=G;break;default:throw new Ao("invalid ordinateIndex")}},qo.prototype.size=function(){return this._coordinates.length},qo.prototype.getOrdinate=function(B,U){switch(U){case Pi.X:return this._coordinates[B].x;case Pi.Y:return this._coordinates[B].y;case Pi.Z:return this._coordinates[B].z}return Qr.NaN},qo.prototype.getCoordinate=function(){if(arguments.length===1){var B=arguments[0];return this._coordinates[B]}if(arguments.length===2){var U=arguments[0],G=arguments[1];G.x=this._coordinates[U].x,G.y=this._coordinates[U].y,G.z=this._coordinates[U].z}},qo.prototype.getCoordinateCopy=function(B){return new pn(this._coordinates[B])},qo.prototype.getDimension=function(){return this._dimension},qo.prototype.getX=function(B){return this._coordinates[B].x},qo.prototype.clone=function(){for(var B=new Array(this.size()).fill(null),U=0;U<this._coordinates.length;U++)B[U]=this._coordinates[U].clone();return new qo(B,this._dimension)},qo.prototype.expandEnvelope=function(B){for(var U=0;U<this._coordinates.length;U++)B.expandToInclude(this._coordinates[U]);return B},qo.prototype.copy=function(){for(var B=new Array(this.size()).fill(null),U=0;U<this._coordinates.length;U++)B[U]=this._coordinates[U].copy();return new qo(B,this._dimension)},qo.prototype.toString=function(){if(this._coordinates.length>0){var B=new Yl(17*this._coordinates.length);B.append("("),B.append(this._coordinates[0]);for(var U=1;U<this._coordinates.length;U++)B.append(", "),B.append(this._coordinates[U]);return B.append(")"),B.toString()}return"()"},qo.prototype.getY=function(B){return this._coordinates[B].y},qo.prototype.toCoordinateArray=function(){return this._coordinates},qo.prototype.interfaces_=function(){return[Pi,sl]},qo.prototype.getClass=function(){return qo},Xm.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(qo,Xm);var bc=function(){},i0={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};bc.prototype.readResolve=function(){return bc.instance()},bc.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var B=arguments[0];return new qo(B)}if(Ur(arguments[0],Pi)){var U=arguments[0];return new qo(U)}}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];return Q>3&&(Q=3),Q<2?new qo(G):new qo(G,Q)}},bc.prototype.interfaces_=function(){return[xd,sl]},bc.prototype.getClass=function(){return bc},bc.instance=function(){return bc.instanceObject},i0.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},i0.instanceObject.get=function(){return new bc},Object.defineProperties(bc,i0);var Zm=function(B){function U(){B.call(this),this.map_=new Map}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.get=function(G){return this.map_.get(G)||null},U.prototype.put=function(G,Q){return this.map_.set(G,Q),Q},U.prototype.values=function(){for(var G=new nr,Q=this.map_.values(),J=Q.next();!J.done;)G.add(J.value),J=Q.next();return G},U.prototype.entrySet=function(){var G=new Np;return this.map_.entries().forEach(function(Q){return G.add(Q)}),G},U.prototype.size=function(){return this.map_.size()},U}(jh),eo=function B(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=B.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Tl){var U=arguments[0];this._modelType=U,U===B.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var G=arguments[0];this._modelType=B.FIXED,this.setScale(G)}else if(arguments[0]instanceof B){var Q=arguments[0];this._modelType=Q._modelType,this._scale=Q._scale}}},o0={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};eo.prototype.equals=function(B){if(!(B instanceof eo))return!1;var U=B;return this._modelType===U._modelType&&this._scale===U._scale},eo.prototype.compareTo=function(B){var U=B,G=this.getMaximumSignificantDigits(),Q=U.getMaximumSignificantDigits();return new Hl(G).compareTo(new Hl(Q))},eo.prototype.getScale=function(){return this._scale},eo.prototype.isFloating=function(){return this._modelType===eo.FLOATING||this._modelType===eo.FLOATING_SINGLE},eo.prototype.getType=function(){return this._modelType},eo.prototype.toString=function(){var B="UNKNOWN";return this._modelType===eo.FLOATING?B="Floating":this._modelType===eo.FLOATING_SINGLE?B="Floating-Single":this._modelType===eo.FIXED&&(B="Fixed (Scale="+this.getScale()+")"),B},eo.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var B=arguments[0];return Qr.isNaN(B)||this._modelType===eo.FLOATING_SINGLE?B:this._modelType===eo.FIXED?Math.round(B*this._scale)/this._scale:B}if(arguments[0]instanceof pn){var U=arguments[0];if(this._modelType===eo.FLOATING)return null;U.x=this.makePrecise(U.x),U.y=this.makePrecise(U.y)}},eo.prototype.getMaximumSignificantDigits=function(){var B=16;return this._modelType===eo.FLOATING?B=16:this._modelType===eo.FLOATING_SINGLE?B=6:this._modelType===eo.FIXED&&(B=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),B},eo.prototype.setScale=function(B){this._scale=Math.abs(B)},eo.prototype.interfaces_=function(){return[sl,ol]},eo.prototype.getClass=function(){return eo},eo.mostPrecise=function(B,U){return B.compareTo(U)>=0?B:U},o0.serialVersionUID.get=function(){return 7777263578777804e3},o0.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(eo,o0);var Tl=function B(U){this._name=U||null,B.nameToTypeMap.put(U,this)},If={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Tl.prototype.readResolve=function(){return Tl.nameToTypeMap.get(this._name)},Tl.prototype.toString=function(){return this._name},Tl.prototype.interfaces_=function(){return[sl]},Tl.prototype.getClass=function(){return Tl},If.serialVersionUID.get=function(){return-552860263173159e4},If.nameToTypeMap.get=function(){return new Zm},Object.defineProperties(Tl,If),eo.Type=Tl,eo.FIXED=new Tl("FIXED"),eo.FLOATING=new Tl("FLOATING"),eo.FLOATING_SINGLE=new Tl("FLOATING SINGLE");var gi=function B(){this._precisionModel=new eo,this._SRID=0,this._coordinateSequenceFactory=B.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ur(arguments[0],xd)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof eo&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Jm={serialVersionUID:{configurable:!0}};gi.prototype.toGeometry=function(B){return B.isNull()?this.createPoint(null):B.getMinX()===B.getMaxX()&&B.getMinY()===B.getMaxY()?this.createPoint(new pn(B.getMinX(),B.getMinY())):B.getMinX()===B.getMaxX()||B.getMinY()===B.getMaxY()?this.createLineString([new pn(B.getMinX(),B.getMinY()),new pn(B.getMaxX(),B.getMaxY())]):this.createPolygon(this.createLinearRing([new pn(B.getMinX(),B.getMinY()),new pn(B.getMinX(),B.getMaxY()),new pn(B.getMaxX(),B.getMaxY()),new pn(B.getMaxX(),B.getMinY()),new pn(B.getMinX(),B.getMinY())]),null)},gi.prototype.createLineString=function(B){return B?B instanceof Array?new No(this.getCoordinateSequenceFactory().create(B),this):Ur(B,Pi)?new No(B,this):void 0:new No(this.getCoordinateSequenceFactory().create([]),this)},gi.prototype.createMultiLineString=function(){if(arguments.length===0)return new xu(null,this);if(arguments.length===1){var B=arguments[0];return new xu(B,this)}},gi.prototype.buildGeometry=function(B){for(var U=null,G=!1,Q=!1,J=B.iterator();J.hasNext();){var rt=J.next(),at=rt.getClass();U===null&&(U=at),at!==U&&(G=!0),rt.isGeometryCollectionOrDerived()&&(Q=!0)}if(U===null)return this.createGeometryCollection();if(G||Q)return this.createGeometryCollection(gi.toGeometryArray(B));var ft=B.iterator().next();if(B.size()>1){if(ft instanceof ls)return this.createMultiPolygon(gi.toPolygonArray(B));if(ft instanceof No)return this.createMultiLineString(gi.toLineStringArray(B));if(ft instanceof Ia)return this.createMultiPoint(gi.toPointArray(B));ni.shouldNeverReachHere("Unhandled class: "+ft.getClass().getName())}return ft},gi.prototype.createMultiPointFromCoords=function(B){return this.createMultiPoint(B!==null?this.getCoordinateSequenceFactory().create(B):null)},gi.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof pn){var B=arguments[0];return this.createPoint(B!==null?this.getCoordinateSequenceFactory().create([B]):null)}if(Ur(arguments[0],Pi)){var U=arguments[0];return new Ia(U,this)}}},gi.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},gi.prototype.createPolygon=function(){if(arguments.length===0)return new ls(null,null,this);if(arguments.length===1){if(Ur(arguments[0],Pi)){var B=arguments[0];return this.createPolygon(this.createLinearRing(B))}if(arguments[0]instanceof Array){var U=arguments[0];return this.createPolygon(this.createLinearRing(U))}if(arguments[0]instanceof yc){var G=arguments[0];return this.createPolygon(G,null)}}else if(arguments.length===2){var Q=arguments[0],J=arguments[1];return new ls(Q,J,this)}},gi.prototype.getSRID=function(){return this._SRID},gi.prototype.createGeometryCollection=function(){if(arguments.length===0)return new na(null,this);if(arguments.length===1){var B=arguments[0];return new na(B,this)}},gi.prototype.createGeometry=function(B){return new hl(this).edit(B,{edit:function(){if(arguments.length===2){var U=arguments[0];return this._coordinateSequenceFactory.create(U)}}})},gi.prototype.getPrecisionModel=function(){return this._precisionModel},gi.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var B=arguments[0];return this.createLinearRing(B!==null?this.getCoordinateSequenceFactory().create(B):null)}if(Ur(arguments[0],Pi)){var U=arguments[0];return new yc(U,this)}}},gi.prototype.createMultiPolygon=function(){if(arguments.length===0)return new vc(null,this);if(arguments.length===1){var B=arguments[0];return new vc(B,this)}},gi.prototype.createMultiPoint=function(){var B=this;if(arguments.length===0)return new Dd(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var U=arguments[0];return new Dd(U,this)}if(arguments[0]instanceof Array){var G=arguments[0];return this.createMultiPoint(G!==null?this.getCoordinateSequenceFactory().create(G):null)}if(Ur(arguments[0],Pi)){var Q=arguments[0];if(Q===null)return this.createMultiPoint(new Array(0).fill(null));for(var J=new Array(Q.size()).fill(null),rt=0;rt<Q.size();rt++){var at=B.getCoordinateSequenceFactory().create(1,Q.getDimension());Wo.copy(Q,rt,at,0,1),J[rt]=B.createPoint(at)}return this.createMultiPoint(J)}}},gi.prototype.interfaces_=function(){return[sl]},gi.prototype.getClass=function(){return gi},gi.toMultiPolygonArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.toGeometryArray=function(B){if(B===null)return null;var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.getDefaultCoordinateSequenceFactory=function(){return bc.instance()},gi.toMultiLineStringArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.toLineStringArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.toMultiPointArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.toLinearRingArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.toPointArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.toPolygonArray=function(B){var U=new Array(B.size()).fill(null);return B.toArray(U)},gi.createPointFromInternalCoord=function(B,U){return U.getPrecisionModel().makePrecise(B),U.getFactory().createPoint(B)},Jm.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(gi,Jm);var Ny=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Lf=function(B){this.geometryFactory=B||new gi};Lf.prototype.read=function(B){var U,G=(U=typeof B=="string"?JSON.parse(B):B).type;if(!ql[G])throw new Error("Unknown GeoJSON type: "+U.type);return Ny.indexOf(G)!==-1?ql[G].apply(this,[U.coordinates]):G==="GeometryCollection"?ql[G].apply(this,[U.geometries]):ql[G].apply(this,[U])},Lf.prototype.write=function(B){var U=B.getGeometryType();if(!Hc[U])throw new Error("Geometry is not supported");return Hc[U].apply(this,[B])};var ql={Feature:function(B){var U={};for(var G in B)U[G]=B[G];if(B.geometry){var Q=B.geometry.type;if(!ql[Q])throw new Error("Unknown GeoJSON type: "+B.type);U.geometry=this.read(B.geometry)}return B.bbox&&(U.bbox=ql.bbox.apply(this,[B.bbox])),U},FeatureCollection:function(B){var U={};if(B.features){U.features=[];for(var G=0;G<B.features.length;++G)U.features.push(this.read(B.features[G]))}return B.bbox&&(U.bbox=this.parse.bbox.apply(this,[B.bbox])),U},coordinates:function(B){for(var U=[],G=0;G<B.length;++G){var Q=B[G];U.push(new pn(Q[0],Q[1]))}return U},bbox:function(B){return this.geometryFactory.createLinearRing([new pn(B[0],B[1]),new pn(B[2],B[1]),new pn(B[2],B[3]),new pn(B[0],B[3]),new pn(B[0],B[1])])},Point:function(B){var U=new pn(B[0],B[1]);return this.geometryFactory.createPoint(U)},MultiPoint:function(B){for(var U=[],G=0;G<B.length;++G)U.push(ql.Point.apply(this,[B[G]]));return this.geometryFactory.createMultiPoint(U)},LineString:function(B){var U=ql.coordinates.apply(this,[B]);return this.geometryFactory.createLineString(U)},MultiLineString:function(B){for(var U=[],G=0;G<B.length;++G)U.push(ql.LineString.apply(this,[B[G]]));return this.geometryFactory.createMultiLineString(U)},Polygon:function(B){for(var U=ql.coordinates.apply(this,[B[0]]),G=this.geometryFactory.createLinearRing(U),Q=[],J=1;J<B.length;++J){var rt=B[J],at=ql.coordinates.apply(this,[rt]),ft=this.geometryFactory.createLinearRing(at);Q.push(ft)}return this.geometryFactory.createPolygon(G,Q)},MultiPolygon:function(B){for(var U=[],G=0;G<B.length;++G){var Q=B[G];U.push(ql.Polygon.apply(this,[Q]))}return this.geometryFactory.createMultiPolygon(U)},GeometryCollection:function(B){for(var U=[],G=0;G<B.length;++G){var Q=B[G];U.push(this.read(Q))}return this.geometryFactory.createGeometryCollection(U)}},Hc={coordinate:function(B){return[B.x,B.y]},Point:function(B){return{type:"Point",coordinates:Hc.coordinate.apply(this,[B.getCoordinate()])}},MultiPoint:function(B){for(var U=[],G=0;G<B._geometries.length;++G){var Q=B._geometries[G],J=Hc.Point.apply(this,[Q]);U.push(J.coordinates)}return{type:"MultiPoint",coordinates:U}},LineString:function(B){for(var U=[],G=B.getCoordinates(),Q=0;Q<G.length;++Q){var J=G[Q];U.push(Hc.coordinate.apply(this,[J]))}return{type:"LineString",coordinates:U}},MultiLineString:function(B){for(var U=[],G=0;G<B._geometries.length;++G){var Q=B._geometries[G],J=Hc.LineString.apply(this,[Q]);U.push(J.coordinates)}return{type:"MultiLineString",coordinates:U}},Polygon:function(B){var U=[],G=Hc.LineString.apply(this,[B._shell]);U.push(G.coordinates);for(var Q=0;Q<B._holes.length;++Q){var J=B._holes[Q],rt=Hc.LineString.apply(this,[J]);U.push(rt.coordinates)}return{type:"Polygon",coordinates:U}},MultiPolygon:function(B){for(var U=[],G=0;G<B._geometries.length;++G){var Q=B._geometries[G],J=Hc.Polygon.apply(this,[Q]);U.push(J.coordinates)}return{type:"MultiPolygon",coordinates:U}},GeometryCollection:function(B){for(var U=[],G=0;G<B._geometries.length;++G){var Q=B._geometries[G],J=Q.getGeometryType();U.push(Hc[J].apply(this,[Q]))}return{type:"GeometryCollection",geometries:U}}},Lp=function(B){this.geometryFactory=B||new gi,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Lf(this.geometryFactory)};Lp.prototype.read=function(B){var U=this.parser.read(B);return this.precisionModel.getType()===eo.FIXED&&this.reducePrecision(U),U},Lp.prototype.reducePrecision=function(B){var U,G;if(B.coordinate)this.precisionModel.makePrecise(B.coordinate);else if(B.points)for(U=0,G=B.points.length;U<G;U++)this.precisionModel.makePrecise(B.points[U]);else if(B.geometries)for(U=0,G=B.geometries.length;U<G;U++)this.reducePrecision(B.geometries[U])};var Km=function(){this.parser=new Lf(this.geometryFactory)};Km.prototype.write=function(B){return this.parser.write(B)};var qn=function(){},Of={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Op(B){this.message=B||""}function Ql(){this.array_=[]}qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.opposite=function(B){return B===qn.LEFT?qn.RIGHT:B===qn.RIGHT?qn.LEFT:B},Of.ON.get=function(){return 0},Of.LEFT.get=function(){return 1},Of.RIGHT.get=function(){return 2},Object.defineProperties(qn,Of),Op.prototype=new Error,Op.prototype.name="EmptyStackException",Ql.prototype=new wl,Ql.prototype.add=function(B){return this.array_.push(B),!0},Ql.prototype.get=function(B){if(B<0||B>=this.size())throw new Error;return this.array_[B]},Ql.prototype.push=function(B){return this.array_.push(B),B},Ql.prototype.pop=function(B){if(this.array_.length===0)throw new Op;return this.array_.pop()},Ql.prototype.peek=function(){if(this.array_.length===0)throw new Op;return this.array_[this.array_.length-1]},Ql.prototype.empty=function(){return this.array_.length===0},Ql.prototype.isEmpty=function(){return this.empty()},Ql.prototype.search=function(B){return this.array_.indexOf(B)},Ql.prototype.size=function(){return this.array_.length},Ql.prototype.toArray=function(){for(var B=[],U=0,G=this.array_.length;U<G;U++)B.push(this.array_[U]);return B};var Sl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Sl.prototype.getCoordinate=function(){return this._minCoord},Sl.prototype.getRightmostSide=function(B,U){var G=this.getRightmostSideOfSegment(B,U);return G<0&&(G=this.getRightmostSideOfSegment(B,U-1)),G<0&&(this._minCoord=null,this.checkForRightmostCoordinate(B)),G},Sl.prototype.findRightmostEdgeAtVertex=function(){var B=this._minDe.getEdge().getCoordinates();ni.isTrue(this._minIndex>0&&this._minIndex<B.length,"rightmost point expected to be interior vertex of edge");var U=B[this._minIndex-1],G=B[this._minIndex+1],Q=ar.computeOrientation(this._minCoord,G,U),J=!1;(U.y<this._minCoord.y&&G.y<this._minCoord.y&&Q===ar.COUNTERCLOCKWISE||U.y>this._minCoord.y&&G.y>this._minCoord.y&&Q===ar.CLOCKWISE)&&(J=!0),J&&(this._minIndex=this._minIndex-1)},Sl.prototype.getRightmostSideOfSegment=function(B,U){var G=B.getEdge().getCoordinates();if(U<0||U+1>=G.length||G[U].y===G[U+1].y)return-1;var Q=qn.LEFT;return G[U].y<G[U+1].y&&(Q=qn.RIGHT),Q},Sl.prototype.getEdge=function(){return this._orientedDe},Sl.prototype.checkForRightmostCoordinate=function(B){for(var U=this,G=B.getEdge().getCoordinates(),Q=0;Q<G.length-1;Q++)(U._minCoord===null||G[Q].x>U._minCoord.x)&&(U._minDe=B,U._minIndex=Q,U._minCoord=G[Q])},Sl.prototype.findRightmostEdgeAtNode=function(){var B=this._minDe.getNode().getEdges();this._minDe=B.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Sl.prototype.findEdge=function(B){for(var U=B.iterator();U.hasNext();){var G=U.next();G.isForward()&&this.checkForRightmostCoordinate(G)}ni.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===qn.LEFT&&(this._orientedDe=this._minDe.getSym())},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl};var Vc=function(B){function U(G,Q){B.call(this,U.msgWithCoord(G,Q)),this.pt=Q?new pn(Q):null,this.name="TopologyException"}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.getCoordinate=function(){return this.pt},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.msgWithCoord=function(G,Q){return Q?G:G+" [ "+Q+" ]"},U}(Uc),Pp=function(){this.array_=[]};Pp.prototype.addLast=function(B){this.array_.push(B)},Pp.prototype.removeFirst=function(){return this.array_.shift()},Pp.prototype.isEmpty=function(){return this.array_.length===0};var Hs=function(){this._finder=null,this._dirEdgeList=new nr,this._nodes=new nr,this._rightMostCoord=null,this._env=null,this._finder=new Sl};Hs.prototype.clearVisitedEdges=function(){for(var B=this._dirEdgeList.iterator();B.hasNext();)B.next().setVisited(!1)},Hs.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Hs.prototype.computeNodeDepth=function(B){for(var U=null,G=B.getEdges().iterator();G.hasNext();){var Q=G.next();if(Q.isVisited()||Q.getSym().isVisited()){U=Q;break}}if(U===null)throw new Vc("unable to find edge to compute depths at "+B.getCoordinate());B.getEdges().computeDepths(U);for(var J=B.getEdges().iterator();J.hasNext();){var rt=J.next();rt.setVisited(!0),this.copySymDepths(rt)}},Hs.prototype.computeDepth=function(B){this.clearVisitedEdges();var U=this._finder.getEdge();U.setEdgeDepths(qn.RIGHT,B),this.copySymDepths(U),this.computeDepths(U)},Hs.prototype.create=function(B){this.addReachable(B),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Hs.prototype.findResultEdges=function(){for(var B=this._dirEdgeList.iterator();B.hasNext();){var U=B.next();U.getDepth(qn.RIGHT)>=1&&U.getDepth(qn.LEFT)<=0&&!U.isInteriorAreaEdge()&&U.setInResult(!0)}},Hs.prototype.computeDepths=function(B){var U=new Np,G=new Pp,Q=B.getNode();for(G.addLast(Q),U.add(Q),B.setVisited(!0);!G.isEmpty();){var J=G.removeFirst();U.add(J),this.computeNodeDepth(J);for(var rt=J.getEdges().iterator();rt.hasNext();){var at=rt.next().getSym();if(!at.isVisited()){var ft=at.getNode();U.contains(ft)||(G.addLast(ft),U.add(ft))}}}},Hs.prototype.compareTo=function(B){var U=B;return this._rightMostCoord.x<U._rightMostCoord.x?-1:this._rightMostCoord.x>U._rightMostCoord.x?1:0},Hs.prototype.getEnvelope=function(){if(this._env===null){for(var B=new Sr,U=this._dirEdgeList.iterator();U.hasNext();)for(var G=U.next().getEdge().getCoordinates(),Q=0;Q<G.length-1;Q++)B.expandToInclude(G[Q]);this._env=B}return this._env},Hs.prototype.addReachable=function(B){var U=new Ql;for(U.add(B);!U.empty();){var G=U.pop();this.add(G,U)}},Hs.prototype.copySymDepths=function(B){var U=B.getSym();U.setDepth(qn.LEFT,B.getDepth(qn.RIGHT)),U.setDepth(qn.RIGHT,B.getDepth(qn.LEFT))},Hs.prototype.add=function(B,U){B.setVisited(!0),this._nodes.add(B);for(var G=B.getEdges().iterator();G.hasNext();){var Q=G.next();this._dirEdgeList.add(Q);var J=Q.getSym().getNode();J.isVisited()||U.push(J)}},Hs.prototype.getNodes=function(){return this._nodes},Hs.prototype.getDirectedEdges=function(){return this._dirEdgeList},Hs.prototype.interfaces_=function(){return[ol]},Hs.prototype.getClass=function(){return Hs};var _o=function B(){var U=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var G=arguments[0];this.init(G.length)}else if(Number.isInteger(arguments[0])){var Q=arguments[0];this.init(1),this.location[qn.ON]=Q}else if(arguments[0]instanceof B){var J=arguments[0];if(this.init(J.location.length),J!==null)for(var rt=0;rt<this.location.length;rt++)U.location[rt]=J.location[rt]}}else if(arguments.length===3){var at=arguments[0],ft=arguments[1],yt=arguments[2];this.init(3),this.location[qn.ON]=at,this.location[qn.LEFT]=ft,this.location[qn.RIGHT]=yt}};_o.prototype.setAllLocations=function(B){for(var U=0;U<this.location.length;U++)this.location[U]=B},_o.prototype.isNull=function(){for(var B=0;B<this.location.length;B++)if(this.location[B]!==xn.NONE)return!1;return!0},_o.prototype.setAllLocationsIfNull=function(B){for(var U=0;U<this.location.length;U++)this.location[U]===xn.NONE&&(this.location[U]=B)},_o.prototype.isLine=function(){return this.location.length===1},_o.prototype.merge=function(B){if(B.location.length>this.location.length){var U=new Array(3).fill(null);U[qn.ON]=this.location[qn.ON],U[qn.LEFT]=xn.NONE,U[qn.RIGHT]=xn.NONE,this.location=U}for(var G=0;G<this.location.length;G++)this.location[G]===xn.NONE&&G<B.location.length&&(this.location[G]=B.location[G])},_o.prototype.getLocations=function(){return this.location},_o.prototype.flip=function(){if(this.location.length<=1)return null;var B=this.location[qn.LEFT];this.location[qn.LEFT]=this.location[qn.RIGHT],this.location[qn.RIGHT]=B},_o.prototype.toString=function(){var B=new Yl;return this.location.length>1&&B.append(xn.toLocationSymbol(this.location[qn.LEFT])),B.append(xn.toLocationSymbol(this.location[qn.ON])),this.location.length>1&&B.append(xn.toLocationSymbol(this.location[qn.RIGHT])),B.toString()},_o.prototype.setLocations=function(B,U,G){this.location[qn.ON]=B,this.location[qn.LEFT]=U,this.location[qn.RIGHT]=G},_o.prototype.get=function(B){return B<this.location.length?this.location[B]:xn.NONE},_o.prototype.isArea=function(){return this.location.length>1},_o.prototype.isAnyNull=function(){for(var B=0;B<this.location.length;B++)if(this.location[B]===xn.NONE)return!0;return!1},_o.prototype.setLocation=function(){if(arguments.length===1){var B=arguments[0];this.setLocation(qn.ON,B)}else if(arguments.length===2){var U=arguments[0],G=arguments[1];this.location[U]=G}},_o.prototype.init=function(B){this.location=new Array(B).fill(null),this.setAllLocations(xn.NONE)},_o.prototype.isEqualOnSide=function(B,U){return this.location[U]===B.location[U]},_o.prototype.allPositionsEqual=function(B){for(var U=0;U<this.location.length;U++)if(this.location[U]!==B)return!1;return!0},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o};var so=function B(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var U=arguments[0];this.elt[0]=new _o(U),this.elt[1]=new _o(U)}else if(arguments[0]instanceof B){var G=arguments[0];this.elt[0]=new _o(G.elt[0]),this.elt[1]=new _o(G.elt[1])}}else if(arguments.length===2){var Q=arguments[0],J=arguments[1];this.elt[0]=new _o(xn.NONE),this.elt[1]=new _o(xn.NONE),this.elt[Q].setLocation(J)}else if(arguments.length===3){var rt=arguments[0],at=arguments[1],ft=arguments[2];this.elt[0]=new _o(rt,at,ft),this.elt[1]=new _o(rt,at,ft)}else if(arguments.length===4){var yt=arguments[0],vt=arguments[1],Tt=arguments[2],xt=arguments[3];this.elt[0]=new _o(xn.NONE,xn.NONE,xn.NONE),this.elt[1]=new _o(xn.NONE,xn.NONE,xn.NONE),this.elt[yt].setLocations(vt,Tt,xt)}};so.prototype.getGeometryCount=function(){var B=0;return this.elt[0].isNull()||B++,this.elt[1].isNull()||B++,B},so.prototype.setAllLocations=function(B,U){this.elt[B].setAllLocations(U)},so.prototype.isNull=function(B){return this.elt[B].isNull()},so.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var B=arguments[0];this.setAllLocationsIfNull(0,B),this.setAllLocationsIfNull(1,B)}else if(arguments.length===2){var U=arguments[0],G=arguments[1];this.elt[U].setAllLocationsIfNull(G)}},so.prototype.isLine=function(B){return this.elt[B].isLine()},so.prototype.merge=function(B){for(var U=this,G=0;G<2;G++)U.elt[G]===null&&B.elt[G]!==null?U.elt[G]=new _o(B.elt[G]):U.elt[G].merge(B.elt[G])},so.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},so.prototype.getLocation=function(){if(arguments.length===1){var B=arguments[0];return this.elt[B].get(qn.ON)}if(arguments.length===2){var U=arguments[0],G=arguments[1];return this.elt[U].get(G)}},so.prototype.toString=function(){var B=new Yl;return this.elt[0]!==null&&(B.append("A:"),B.append(this.elt[0].toString())),this.elt[1]!==null&&(B.append(" B:"),B.append(this.elt[1].toString())),B.toString()},so.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var B=arguments[0];return this.elt[B].isArea()}},so.prototype.isAnyNull=function(B){return this.elt[B].isAnyNull()},so.prototype.setLocation=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1];this.elt[B].setLocation(qn.ON,U)}else if(arguments.length===3){var G=arguments[0],Q=arguments[1],J=arguments[2];this.elt[G].setLocation(Q,J)}},so.prototype.isEqualOnSide=function(B,U){return this.elt[0].isEqualOnSide(B.elt[0],U)&&this.elt[1].isEqualOnSide(B.elt[1],U)},so.prototype.allPositionsEqual=function(B,U){return this.elt[B].allPositionsEqual(U)},so.prototype.toLine=function(B){this.elt[B].isArea()&&(this.elt[B]=new _o(this.elt[B].location[0]))},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},so.toLineLabel=function(B){for(var U=new so(xn.NONE),G=0;G<2;G++)U.setLocation(G,B.getLocation(G));return U};var Qo=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new nr,this._pts=new nr,this._label=new so(xn.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new nr,this._geometryFactory=null;var B=arguments[0],U=arguments[1];this._geometryFactory=U,this.computePoints(B),this.computeRing()};Qo.prototype.computeRing=function(){if(this._ring!==null)return null;for(var B=new Array(this._pts.size()).fill(null),U=0;U<this._pts.size();U++)B[U]=this._pts.get(U);this._ring=this._geometryFactory.createLinearRing(B),this._isHole=ar.isCCW(this._ring.getCoordinates())},Qo.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},Qo.prototype.computePoints=function(B){var U=this;this._startDe=B;var G=B,Q=!0;do{if(G===null)throw new Vc("Found null DirectedEdge");if(G.getEdgeRing()===U)throw new Vc("Directed Edge visited twice during ring-building at "+G.getCoordinate());U._edges.add(G);var J=G.getLabel();ni.isTrue(J.isArea()),U.mergeLabel(J),U.addPoints(G.getEdge(),G.isForward(),Q),Q=!1,U.setEdgeRing(G,U),G=U.getNext(G)}while(G!==this._startDe)},Qo.prototype.getLinearRing=function(){return this._ring},Qo.prototype.getCoordinate=function(B){return this._pts.get(B)},Qo.prototype.computeMaxNodeDegree=function(){var B=this;this._maxNodeDegree=0;var U=this._startDe;do{var G=U.getNode().getEdges().getOutgoingDegree(B);G>B._maxNodeDegree&&(B._maxNodeDegree=G),U=B.getNext(U)}while(U!==this._startDe);this._maxNodeDegree*=2},Qo.prototype.addPoints=function(B,U,G){var Q=B.getCoordinates();if(U){var J=1;G&&(J=0);for(var rt=J;rt<Q.length;rt++)this._pts.add(Q[rt])}else{var at=Q.length-2;G&&(at=Q.length-1);for(var ft=at;ft>=0;ft--)this._pts.add(Q[ft])}},Qo.prototype.isHole=function(){return this._isHole},Qo.prototype.setInResult=function(){var B=this._startDe;do B.getEdge().setInResult(!0),B=B.getNext();while(B!==this._startDe)},Qo.prototype.containsPoint=function(B){var U=this.getLinearRing();if(!U.getEnvelopeInternal().contains(B)||!ar.isPointInRing(B,U.getCoordinates()))return!1;for(var G=this._holes.iterator();G.hasNext();)if(G.next().containsPoint(B))return!1;return!0},Qo.prototype.addHole=function(B){this._holes.add(B)},Qo.prototype.isShell=function(){return this._shell===null},Qo.prototype.getLabel=function(){return this._label},Qo.prototype.getEdges=function(){return this._edges},Qo.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Qo.prototype.getShell=function(){return this._shell},Qo.prototype.mergeLabel=function(){if(arguments.length===1){var B=arguments[0];this.mergeLabel(B,0),this.mergeLabel(B,1)}else if(arguments.length===2){var U=arguments[0],G=arguments[1],Q=U.getLocation(G,qn.RIGHT);if(Q===xn.NONE)return null;if(this._label.getLocation(G)===xn.NONE)return this._label.setLocation(G,Q),null}},Qo.prototype.setShell=function(B){this._shell=B,B!==null&&B.addHole(this)},Qo.prototype.toPolygon=function(B){for(var U=new Array(this._holes.size()).fill(null),G=0;G<this._holes.size();G++)U[G]=this._holes.get(G).getLinearRing();return B.createPolygon(this.getLinearRing(),U)},Qo.prototype.interfaces_=function(){return[]},Qo.prototype.getClass=function(){return Qo};var Dy=function(B){function U(){var G=arguments[0],Q=arguments[1];B.call(this,G,Q)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.setEdgeRing=function(G,Q){G.setMinEdgeRing(Q)},U.prototype.getNext=function(G){return G.getNextMin()},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Qo),Iy=function(B){function U(){var G=arguments[0],Q=arguments[1];B.call(this,G,Q)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.buildMinimalRings=function(){var G=new nr,Q=this._startDe;do{if(Q.getMinEdgeRing()===null){var J=new Dy(Q,this._geometryFactory);G.add(J)}Q=Q.getNext()}while(Q!==this._startDe);return G},U.prototype.setEdgeRing=function(G,Q){G.setEdgeRing(Q)},U.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var G=this._startDe;do G.getNode().getEdges().linkMinimalDirectedEdges(this),G=G.getNext();while(G!==this._startDe)},U.prototype.getNext=function(G){return G.getNext()},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Qo),La=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var B=arguments[0];this._label=B}}};La.prototype.setVisited=function(B){this._isVisited=B},La.prototype.setInResult=function(B){this._isInResult=B},La.prototype.isCovered=function(){return this._isCovered},La.prototype.isCoveredSet=function(){return this._isCoveredSet},La.prototype.setLabel=function(B){this._label=B},La.prototype.getLabel=function(){return this._label},La.prototype.setCovered=function(B){this._isCovered=B,this._isCoveredSet=!0},La.prototype.updateIM=function(B){ni.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(B)},La.prototype.isInResult=function(){return this._isInResult},La.prototype.isVisited=function(){return this._isVisited},La.prototype.interfaces_=function(){return[]},La.prototype.getClass=function(){return La};var zp=function(B){function U(){B.call(this),this._coord=null,this._edges=null;var G=arguments[0],Q=arguments[1];this._coord=G,this._edges=Q,this._label=new so(0,xn.NONE)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.isIncidentEdgeInResult=function(){for(var G=this.getEdges().getEdges().iterator();G.hasNext();)if(G.next().getEdge().isInResult())return!0;return!1},U.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},U.prototype.getCoordinate=function(){return this._coord},U.prototype.print=function(G){G.println("node "+this._coord+" lbl: "+this._label)},U.prototype.computeIM=function(G){},U.prototype.computeMergedLocation=function(G,Q){var J=xn.NONE;if(J=this._label.getLocation(Q),!G.isNull(Q)){var rt=G.getLocation(Q);J!==xn.BOUNDARY&&(J=rt)}return J},U.prototype.setLabel=function(){if(arguments.length!==2)return B.prototype.setLabel.apply(this,arguments);var G=arguments[0],Q=arguments[1];this._label===null?this._label=new so(G,Q):this._label.setLocation(G,Q)},U.prototype.getEdges=function(){return this._edges},U.prototype.mergeLabel=function(){var G=this;if(arguments[0]instanceof U){var Q=arguments[0];this.mergeLabel(Q._label)}else if(arguments[0]instanceof so)for(var J=arguments[0],rt=0;rt<2;rt++){var at=G.computeMergedLocation(J,rt),ft=G._label.getLocation(rt);ft===xn.NONE&&G._label.setLocation(rt,at)}},U.prototype.add=function(G){this._edges.insert(G),G.setNode(this)},U.prototype.setLabelBoundary=function(G){if(this._label===null)return null;var Q=xn.NONE;this._label!==null&&(Q=this._label.getLocation(G));var J=null;switch(Q){case xn.BOUNDARY:J=xn.INTERIOR;break;case xn.INTERIOR:default:J=xn.BOUNDARY}this._label.setLocation(G,J)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(La),Xl=function(){this.nodeMap=new Ys,this.nodeFact=null;var B=arguments[0];this.nodeFact=B};Xl.prototype.find=function(B){return this.nodeMap.get(B)},Xl.prototype.addNode=function(){if(arguments[0]instanceof pn){var B=arguments[0],U=this.nodeMap.get(B);return U===null&&(U=this.nodeFact.createNode(B),this.nodeMap.put(B,U)),U}if(arguments[0]instanceof zp){var G=arguments[0],Q=this.nodeMap.get(G.getCoordinate());return Q===null?(this.nodeMap.put(G.getCoordinate(),G),G):(Q.mergeLabel(G),Q)}},Xl.prototype.print=function(B){for(var U=this.iterator();U.hasNext();)U.next().print(B)},Xl.prototype.iterator=function(){return this.nodeMap.values().iterator()},Xl.prototype.values=function(){return this.nodeMap.values()},Xl.prototype.getBoundaryNodes=function(B){for(var U=new nr,G=this.iterator();G.hasNext();){var Q=G.next();Q.getLabel().getLocation(B)===xn.BOUNDARY&&U.add(Q)}return U},Xl.prototype.add=function(B){var U=B.getCoordinate();this.addNode(U).add(B)},Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl};var lo=function(){},Pf={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo},lo.isNorthern=function(B){return B===lo.NE||B===lo.NW},lo.isOpposite=function(B,U){return B!==U&&(B-U+4)%4===2},lo.commonHalfPlane=function(B,U){if(B===U)return B;if((B-U+4)%4===2)return-1;var G=B<U?B:U;return G===0&&(B>U?B:U)===3?3:G},lo.isInHalfPlane=function(B,U){return U===lo.SE?B===lo.SE||B===lo.SW:B===U||B===U+1},lo.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var B=arguments[0],U=arguments[1];if(B===0&&U===0)throw new Ao("Cannot compute the quadrant for point ( "+B+", "+U+" )");return B>=0?U>=0?lo.NE:lo.SE:U>=0?lo.NW:lo.SW}if(arguments[0]instanceof pn&&arguments[1]instanceof pn){var G=arguments[0],Q=arguments[1];if(Q.x===G.x&&Q.y===G.y)throw new Ao("Cannot compute the quadrant for two identical points "+G);return Q.x>=G.x?Q.y>=G.y?lo.NE:lo.SE:Q.y>=G.y?lo.NW:lo.SW}},Pf.NE.get=function(){return 0},Pf.NW.get=function(){return 1},Pf.SW.get=function(){return 2},Pf.SE.get=function(){return 3},Object.defineProperties(lo,Pf);var Vs=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var B=arguments[0];this._edge=B}else if(arguments.length===3){var U=arguments[0],G=arguments[1],Q=arguments[2],J=null;this._edge=U,this.init(G,Q),this._label=J}else if(arguments.length===4){var rt=arguments[0],at=arguments[1],ft=arguments[2],yt=arguments[3];this._edge=rt,this.init(at,ft),this._label=yt}};Vs.prototype.compareDirection=function(B){return this._dx===B._dx&&this._dy===B._dy?0:this._quadrant>B._quadrant?1:this._quadrant<B._quadrant?-1:ar.computeOrientation(B._p0,B._p1,this._p1)},Vs.prototype.getDy=function(){return this._dy},Vs.prototype.getCoordinate=function(){return this._p0},Vs.prototype.setNode=function(B){this._node=B},Vs.prototype.print=function(B){var U=Math.atan2(this._dy,this._dx),G=this.getClass().getName(),Q=G.lastIndexOf("."),J=G.substring(Q+1);B.print("  "+J+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+U+"   "+this._label)},Vs.prototype.compareTo=function(B){var U=B;return this.compareDirection(U)},Vs.prototype.getDirectedCoordinate=function(){return this._p1},Vs.prototype.getDx=function(){return this._dx},Vs.prototype.getLabel=function(){return this._label},Vs.prototype.getEdge=function(){return this._edge},Vs.prototype.getQuadrant=function(){return this._quadrant},Vs.prototype.getNode=function(){return this._node},Vs.prototype.toString=function(){var B=Math.atan2(this._dy,this._dx),U=this.getClass().getName(),G=U.lastIndexOf(".");return"  "+U.substring(G+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+B+"   "+this._label},Vs.prototype.computeLabel=function(B){},Vs.prototype.init=function(B,U){this._p0=B,this._p1=U,this._dx=U.x-B.x,this._dy=U.y-B.y,this._quadrant=lo.quadrant(this._dx,this._dy),ni.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Vs.prototype.interfaces_=function(){return[ol]},Vs.prototype.getClass=function(){return Vs};var Rp=function(B){function U(){var G=arguments[0],Q=arguments[1];if(B.call(this,G),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=Q,Q)this.init(G.getCoordinate(0),G.getCoordinate(1));else{var J=G.getNumPoints()-1;this.init(G.getCoordinate(J),G.getCoordinate(J-1))}this.computeDirectedLabel()}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.getNextMin=function(){return this._nextMin},U.prototype.getDepth=function(G){return this._depth[G]},U.prototype.setVisited=function(G){this._isVisited=G},U.prototype.computeDirectedLabel=function(){this._label=new so(this._edge.getLabel()),this._isForward||this._label.flip()},U.prototype.getNext=function(){return this._next},U.prototype.setDepth=function(G,Q){if(this._depth[G]!==-999&&this._depth[G]!==Q)throw new Vc("assigned depths do not match",this.getCoordinate());this._depth[G]=Q},U.prototype.isInteriorAreaEdge=function(){for(var G=this,Q=!0,J=0;J<2;J++)G._label.isArea(J)&&G._label.getLocation(J,qn.LEFT)===xn.INTERIOR&&G._label.getLocation(J,qn.RIGHT)===xn.INTERIOR||(Q=!1);return Q},U.prototype.setNextMin=function(G){this._nextMin=G},U.prototype.print=function(G){B.prototype.print.call(this,G),G.print(" "+this._depth[qn.LEFT]+"/"+this._depth[qn.RIGHT]),G.print(" ("+this.getDepthDelta()+")"),this._isInResult&&G.print(" inResult")},U.prototype.setMinEdgeRing=function(G){this._minEdgeRing=G},U.prototype.isLineEdge=function(){var G=this._label.isLine(0)||this._label.isLine(1),Q=!this._label.isArea(0)||this._label.allPositionsEqual(0,xn.EXTERIOR),J=!this._label.isArea(1)||this._label.allPositionsEqual(1,xn.EXTERIOR);return G&&Q&&J},U.prototype.setEdgeRing=function(G){this._edgeRing=G},U.prototype.getMinEdgeRing=function(){return this._minEdgeRing},U.prototype.getDepthDelta=function(){var G=this._edge.getDepthDelta();return this._isForward||(G=-G),G},U.prototype.setInResult=function(G){this._isInResult=G},U.prototype.getSym=function(){return this._sym},U.prototype.isForward=function(){return this._isForward},U.prototype.getEdge=function(){return this._edge},U.prototype.printEdge=function(G){this.print(G),G.print(" "),this._isForward?this._edge.print(G):this._edge.printReverse(G)},U.prototype.setSym=function(G){this._sym=G},U.prototype.setVisitedEdge=function(G){this.setVisited(G),this._sym.setVisited(G)},U.prototype.setEdgeDepths=function(G,Q){var J=this.getEdge().getDepthDelta();this._isForward||(J=-J);var rt=1;G===qn.LEFT&&(rt=-1);var at=qn.opposite(G),ft=Q+J*rt;this.setDepth(G,Q),this.setDepth(at,ft)},U.prototype.getEdgeRing=function(){return this._edgeRing},U.prototype.isInResult=function(){return this._isInResult},U.prototype.setNext=function(G){this._next=G},U.prototype.isVisited=function(){return this._isVisited},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.depthFactor=function(G,Q){return G===xn.EXTERIOR&&Q===xn.INTERIOR?1:G===xn.INTERIOR&&Q===xn.EXTERIOR?-1:0},U}(Vs),Id=function(){};Id.prototype.createNode=function(B){return new zp(B,null)},Id.prototype.interfaces_=function(){return[]},Id.prototype.getClass=function(){return Id};var Oo=function(){if(this._edges=new nr,this._nodes=null,this._edgeEndList=new nr,arguments.length===0)this._nodes=new Xl(new Id);else if(arguments.length===1){var B=arguments[0];this._nodes=new Xl(B)}};Oo.prototype.printEdges=function(B){B.println("Edges:");for(var U=0;U<this._edges.size();U++){B.println("edge "+U+":");var G=this._edges.get(U);G.print(B),G.eiList.print(B)}},Oo.prototype.find=function(B){return this._nodes.find(B)},Oo.prototype.addNode=function(){if(arguments[0]instanceof zp){var B=arguments[0];return this._nodes.addNode(B)}if(arguments[0]instanceof pn){var U=arguments[0];return this._nodes.addNode(U)}},Oo.prototype.getNodeIterator=function(){return this._nodes.iterator()},Oo.prototype.linkResultDirectedEdges=function(){for(var B=this._nodes.iterator();B.hasNext();)B.next().getEdges().linkResultDirectedEdges()},Oo.prototype.debugPrintln=function(B){Rs.out.println(B)},Oo.prototype.isBoundaryNode=function(B,U){var G=this._nodes.find(U);if(G===null)return!1;var Q=G.getLabel();return Q!==null&&Q.getLocation(B)===xn.BOUNDARY},Oo.prototype.linkAllDirectedEdges=function(){for(var B=this._nodes.iterator();B.hasNext();)B.next().getEdges().linkAllDirectedEdges()},Oo.prototype.matchInSameDirection=function(B,U,G,Q){return!!B.equals(G)&&ar.computeOrientation(B,U,Q)===ar.COLLINEAR&&lo.quadrant(B,U)===lo.quadrant(G,Q)},Oo.prototype.getEdgeEnds=function(){return this._edgeEndList},Oo.prototype.debugPrint=function(B){Rs.out.print(B)},Oo.prototype.getEdgeIterator=function(){return this._edges.iterator()},Oo.prototype.findEdgeInSameDirection=function(B,U){for(var G=this,Q=0;Q<this._edges.size();Q++){var J=G._edges.get(Q),rt=J.getCoordinates();if(G.matchInSameDirection(B,U,rt[0],rt[1])||G.matchInSameDirection(B,U,rt[rt.length-1],rt[rt.length-2]))return J}return null},Oo.prototype.insertEdge=function(B){this._edges.add(B)},Oo.prototype.findEdgeEnd=function(B){for(var U=this.getEdgeEnds().iterator();U.hasNext();){var G=U.next();if(G.getEdge()===B)return G}return null},Oo.prototype.addEdges=function(B){for(var U=this,G=B.iterator();G.hasNext();){var Q=G.next();U._edges.add(Q);var J=new Rp(Q,!0),rt=new Rp(Q,!1);J.setSym(rt),rt.setSym(J),U.add(J),U.add(rt)}},Oo.prototype.add=function(B){this._nodes.add(B),this._edgeEndList.add(B)},Oo.prototype.getNodes=function(){return this._nodes.values()},Oo.prototype.findEdge=function(B,U){for(var G=0;G<this._edges.size();G++){var Q=this._edges.get(G),J=Q.getCoordinates();if(B.equals(J[0])&&U.equals(J[1]))return Q}return null},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo},Oo.linkResultDirectedEdges=function(B){for(var U=B.iterator();U.hasNext();)U.next().getEdges().linkResultDirectedEdges()};var pa=function(){this._geometryFactory=null,this._shellList=new nr;var B=arguments[0];this._geometryFactory=B};pa.prototype.sortShellsAndHoles=function(B,U,G){for(var Q=B.iterator();Q.hasNext();){var J=Q.next();J.isHole()?G.add(J):U.add(J)}},pa.prototype.computePolygons=function(B){for(var U=new nr,G=B.iterator();G.hasNext();){var Q=G.next().toPolygon(this._geometryFactory);U.add(Q)}return U},pa.prototype.placeFreeHoles=function(B,U){for(var G=U.iterator();G.hasNext();){var Q=G.next();if(Q.getShell()===null){var J=this.findEdgeRingContaining(Q,B);if(J===null)throw new Vc("unable to assign hole to a shell",Q.getCoordinate(0));Q.setShell(J)}}},pa.prototype.buildMinimalEdgeRings=function(B,U,G){for(var Q=new nr,J=B.iterator();J.hasNext();){var rt=J.next();if(rt.getMaxNodeDegree()>2){rt.linkDirectedEdgesForMinimalEdgeRings();var at=rt.buildMinimalRings(),ft=this.findShell(at);ft!==null?(this.placePolygonHoles(ft,at),U.add(ft)):G.addAll(at)}else Q.add(rt)}return Q},pa.prototype.containsPoint=function(B){for(var U=this._shellList.iterator();U.hasNext();)if(U.next().containsPoint(B))return!0;return!1},pa.prototype.buildMaximalEdgeRings=function(B){for(var U=new nr,G=B.iterator();G.hasNext();){var Q=G.next();if(Q.isInResult()&&Q.getLabel().isArea()&&Q.getEdgeRing()===null){var J=new Iy(Q,this._geometryFactory);U.add(J),J.setInResult()}}return U},pa.prototype.placePolygonHoles=function(B,U){for(var G=U.iterator();G.hasNext();){var Q=G.next();Q.isHole()&&Q.setShell(B)}},pa.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},pa.prototype.findEdgeRingContaining=function(B,U){for(var G=B.getLinearRing(),Q=G.getEnvelopeInternal(),J=G.getCoordinateN(0),rt=null,at=null,ft=U.iterator();ft.hasNext();){var yt=ft.next(),vt=yt.getLinearRing(),Tt=vt.getEnvelopeInternal();rt!==null&&(at=rt.getLinearRing().getEnvelopeInternal());var xt=!1;Tt.contains(Q)&&ar.isPointInRing(J,vt.getCoordinates())&&(xt=!0),xt&&(rt===null||at.contains(Tt))&&(rt=yt)}return rt},pa.prototype.findShell=function(B){for(var U=0,G=null,Q=B.iterator();Q.hasNext();){var J=Q.next();J.isHole()||(G=J,U++)}return ni.isTrue(U<=1,"found two shells in MinimalEdgeRing list"),G},pa.prototype.add=function(){if(arguments.length===1){var B=arguments[0];this.add(B.getEdgeEnds(),B.getNodes())}else if(arguments.length===2){var U=arguments[0],G=arguments[1];Oo.linkResultDirectedEdges(G);var Q=this.buildMaximalEdgeRings(U),J=new nr,rt=this.buildMinimalEdgeRings(Q,this._shellList,J);this.sortShellsAndHoles(rt,this._shellList,J),this.placeFreeHoles(this._shellList,J)}},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var Ld=function(){};Ld.prototype.getBounds=function(){},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld};var Cl=function(){this._bounds=null,this._item=null;var B=arguments[0],U=arguments[1];this._bounds=B,this._item=U};Cl.prototype.getItem=function(){return this._item},Cl.prototype.getBounds=function(){return this._bounds},Cl.prototype.interfaces_=function(){return[Ld,sl]},Cl.prototype.getClass=function(){return Cl};var _c=function(){this._size=null,this._items=null,this._size=0,this._items=new nr,this._items.add(null)};_c.prototype.poll=function(){if(this.isEmpty())return null;var B=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),B},_c.prototype.size=function(){return this._size},_c.prototype.reorder=function(B){for(var U=this,G=null,Q=this._items.get(B);2*B<=this._size&&((G=2*B)!==U._size&&U._items.get(G+1).compareTo(U._items.get(G))<0&&G++,U._items.get(G).compareTo(Q)<0);B=G)U._items.set(B,U._items.get(G));this._items.set(B,Q)},_c.prototype.clear=function(){this._size=0,this._items.clear()},_c.prototype.isEmpty=function(){return this._size===0},_c.prototype.add=function(B){this._items.add(null),this._size+=1;var U=this._size;for(this._items.set(0,B);B.compareTo(this._items.get(Math.trunc(U/2)))<0;U/=2)this._items.set(U,this._items.get(Math.trunc(U/2)));this._items.set(U,B)},_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c};var Mu=function(){};Mu.prototype.visitItem=function(B){},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu};var Bh=function(){};Bh.prototype.insert=function(B,U){},Bh.prototype.remove=function(B,U){},Bh.prototype.query=function(){},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var Ko=function(){if(this._childBoundables=new nr,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var B=arguments[0];this._level=B}}},e1={serialVersionUID:{configurable:!0}};Ko.prototype.getLevel=function(){return this._level},Ko.prototype.size=function(){return this._childBoundables.size()},Ko.prototype.getChildBoundables=function(){return this._childBoundables},Ko.prototype.addChildBoundable=function(B){ni.isTrue(this._bounds===null),this._childBoundables.add(B)},Ko.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ko.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},Ko.prototype.interfaces_=function(){return[Ld,sl]},Ko.prototype.getClass=function(){return Ko},e1.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(Ko,e1);var kl=function(){};kl.reverseOrder=function(){return{compare:function(B,U){return U.compareTo(B)}}},kl.min=function(B){return kl.sort(B),B.get(0)},kl.sort=function(B,U){var G=B.toArray();U?mc.sort(G,U):mc.sort(G);for(var Q=B.iterator(),J=0,rt=G.length;J<rt;J++)Q.next(),Q.set(G[J])},kl.singletonList=function(B){var U=new nr;return U.add(B),U};var Xo=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var B=arguments[0],U=arguments[1],G=arguments[2];this._boundable1=B,this._boundable2=U,this._itemDistance=G,this._distance=this.distance()};Xo.prototype.expandToQueue=function(B,U){var G=Xo.isComposite(this._boundable1),Q=Xo.isComposite(this._boundable2);if(G&&Q)return Xo.area(this._boundable1)>Xo.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,B,U),null):(this.expand(this._boundable2,this._boundable1,B,U),null);if(G)return this.expand(this._boundable1,this._boundable2,B,U),null;if(Q)return this.expand(this._boundable2,this._boundable1,B,U),null;throw new Ao("neither boundable is composite")},Xo.prototype.isLeaves=function(){return!(Xo.isComposite(this._boundable1)||Xo.isComposite(this._boundable2))},Xo.prototype.compareTo=function(B){var U=B;return this._distance<U._distance?-1:this._distance>U._distance?1:0},Xo.prototype.expand=function(B,U,G,Q){for(var J=B.getChildBoundables().iterator();J.hasNext();){var rt=J.next(),at=new Xo(rt,U,this._itemDistance);at.getDistance()<Q&&G.add(at)}},Xo.prototype.getBoundable=function(B){return B===0?this._boundable1:this._boundable2},Xo.prototype.getDistance=function(){return this._distance},Xo.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Xo.prototype.interfaces_=function(){return[ol]},Xo.prototype.getClass=function(){return Xo},Xo.area=function(B){return B.getBounds().getArea()},Xo.isComposite=function(B){return B instanceof Ko};var Ss=function B(){if(this._root=null,this._built=!1,this._itemBoundables=new nr,this._nodeCapacity=null,arguments.length===0){var U=B.DEFAULT_NODE_CAPACITY;this._nodeCapacity=U}else if(arguments.length===1){var G=arguments[0];ni.isTrue(G>1,"Node capacity must be greater than 1"),this._nodeCapacity=G}},jp={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Ss.prototype.getNodeCapacity=function(){return this._nodeCapacity},Ss.prototype.lastNode=function(B){return B.get(B.size()-1)},Ss.prototype.size=function(){var B=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var U=arguments[0],G=0,Q=U.getChildBoundables().iterator();Q.hasNext();){var J=Q.next();J instanceof Ko?G+=B.size(J):J instanceof Cl&&(G+=1)}return G}},Ss.prototype.removeItem=function(B,U){for(var G=null,Q=B.getChildBoundables().iterator();Q.hasNext();){var J=Q.next();J instanceof Cl&&J.getItem()===U&&(G=J)}return G!==null&&(B.getChildBoundables().remove(G),!0)},Ss.prototype.itemsTree=function(){var B=this;if(arguments.length===0){this.build();var U=this.itemsTree(this._root);return U===null?new nr:U}if(arguments.length===1){for(var G=arguments[0],Q=new nr,J=G.getChildBoundables().iterator();J.hasNext();){var rt=J.next();if(rt instanceof Ko){var at=B.itemsTree(rt);at!==null&&Q.add(at)}else rt instanceof Cl?Q.add(rt.getItem()):ni.shouldNeverReachHere()}return Q.size()<=0?null:Q}},Ss.prototype.insert=function(B,U){ni.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Cl(B,U))},Ss.prototype.boundablesAtLevel=function(){var B=this;if(arguments.length===1){var U=arguments[0],G=new nr;return this.boundablesAtLevel(U,this._root,G),G}if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2];if(ni.isTrue(Q>-2),J.getLevel()===Q)return rt.add(J),null;for(var at=J.getChildBoundables().iterator();at.hasNext();){var ft=at.next();ft instanceof Ko?B.boundablesAtLevel(Q,ft,rt):(ni.isTrue(ft instanceof Cl),Q===-1&&rt.add(ft))}return null}},Ss.prototype.query=function(){var B=this;if(arguments.length===1){var U=arguments[0];this.build();var G=new nr;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),U)&&this.query(U,this._root,G),G}if(arguments.length===2){var Q=arguments[0],J=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),Q)&&this.query(Q,this._root,J)}else if(arguments.length===3){if(Ur(arguments[2],Mu)&&arguments[0]instanceof Object&&arguments[1]instanceof Ko)for(var rt=arguments[0],at=arguments[1],ft=arguments[2],yt=at.getChildBoundables(),vt=0;vt<yt.size();vt++){var Tt=yt.get(vt);B.getIntersectsOp().intersects(Tt.getBounds(),rt)&&(Tt instanceof Ko?B.query(rt,Tt,ft):Tt instanceof Cl?ft.visitItem(Tt.getItem()):ni.shouldNeverReachHere())}else if(Ur(arguments[2],wl)&&arguments[0]instanceof Object&&arguments[1]instanceof Ko)for(var xt=arguments[0],It=arguments[1],Gt=arguments[2],Wt=It.getChildBoundables(),ee=0;ee<Wt.size();ee++){var Bt=Wt.get(ee);B.getIntersectsOp().intersects(Bt.getBounds(),xt)&&(Bt instanceof Ko?B.query(xt,Bt,Gt):Bt instanceof Cl?Gt.add(Bt.getItem()):ni.shouldNeverReachHere())}}},Ss.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Ss.prototype.getRoot=function(){return this.build(),this._root},Ss.prototype.remove=function(){var B=this;if(arguments.length===2){var U=arguments[0],G=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),U)&&this.remove(U,this._root,G)}if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2],at=this.removeItem(J,rt);if(at)return!0;for(var ft=null,yt=J.getChildBoundables().iterator();yt.hasNext();){var vt=yt.next();if(B.getIntersectsOp().intersects(vt.getBounds(),Q)&&vt instanceof Ko&&(at=B.remove(Q,vt,rt))){ft=vt;break}}return ft!==null&&ft.getChildBoundables().isEmpty()&&J.getChildBoundables().remove(ft),at}},Ss.prototype.createHigherLevels=function(B,U){ni.isTrue(!B.isEmpty());var G=this.createParentBoundables(B,U+1);return G.size()===1?G.get(0):this.createHigherLevels(G,U+1)},Ss.prototype.depth=function(){var B=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var U=arguments[0],G=0,Q=U.getChildBoundables().iterator();Q.hasNext();){var J=Q.next();if(J instanceof Ko){var rt=B.depth(J);rt>G&&(G=rt)}}return G+1}},Ss.prototype.createParentBoundables=function(B,U){var G=this;ni.isTrue(!B.isEmpty());var Q=new nr;Q.add(this.createNode(U));var J=new nr(B);kl.sort(J,this.getComparator());for(var rt=J.iterator();rt.hasNext();){var at=rt.next();G.lastNode(Q).getChildBoundables().size()===G.getNodeCapacity()&&Q.add(G.createNode(U)),G.lastNode(Q).addChildBoundable(at)}return Q},Ss.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Ss.prototype.interfaces_=function(){return[sl]},Ss.prototype.getClass=function(){return Ss},Ss.compareDoubles=function(B,U){return B>U?1:B<U?-1:0},jp.IntersectsOp.get=function(){return n1},jp.serialVersionUID.get=function(){return-3886435814360241e3},jp.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Ss,jp);var n1=function(){},Od=function(){};Od.prototype.distance=function(B,U){},Od.prototype.interfaces_=function(){return[]},Od.prototype.getClass=function(){return Od};var r1=function(B){function U(Q){Q=Q||U.DEFAULT_NODE_CAPACITY,B.call(this,Q)}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return U.prototype.createParentBoundablesFromVerticalSlices=function(Q,J){ni.isTrue(Q.length>0);for(var rt=new nr,at=0;at<Q.length;at++)rt.addAll(this.createParentBoundablesFromVerticalSlice(Q[at],J));return rt},U.prototype.createNode=function(Q){return new s0(Q)},U.prototype.size=function(){return arguments.length===0?B.prototype.size.call(this):B.prototype.size.apply(this,arguments)},U.prototype.insert=function(){if(arguments.length!==2)return B.prototype.insert.apply(this,arguments);var Q=arguments[0],J=arguments[1];if(Q.isNull())return null;B.prototype.insert.call(this,Q,J)},U.prototype.getIntersectsOp=function(){return U.intersectsOp},U.prototype.verticalSlices=function(Q,J){for(var rt=Math.trunc(Math.ceil(Q.size()/J)),at=new Array(J).fill(null),ft=Q.iterator(),yt=0;yt<J;yt++){at[yt]=new nr;for(var vt=0;ft.hasNext()&&vt<rt;){var Tt=ft.next();at[yt].add(Tt),vt++}}return at},U.prototype.query=function(){if(arguments.length===1){var Q=arguments[0];return B.prototype.query.call(this,Q)}if(arguments.length===2){var J=arguments[0],rt=arguments[1];B.prototype.query.call(this,J,rt)}else if(arguments.length===3){if(Ur(arguments[2],Mu)&&arguments[0]instanceof Object&&arguments[1]instanceof Ko){var at=arguments[0],ft=arguments[1],yt=arguments[2];B.prototype.query.call(this,at,ft,yt)}else if(Ur(arguments[2],wl)&&arguments[0]instanceof Object&&arguments[1]instanceof Ko){var vt=arguments[0],Tt=arguments[1],xt=arguments[2];B.prototype.query.call(this,vt,Tt,xt)}}},U.prototype.getComparator=function(){return U.yComparator},U.prototype.createParentBoundablesFromVerticalSlice=function(Q,J){return B.prototype.createParentBoundables.call(this,Q,J)},U.prototype.remove=function(){if(arguments.length===2){var Q=arguments[0],J=arguments[1];return B.prototype.remove.call(this,Q,J)}return B.prototype.remove.apply(this,arguments)},U.prototype.depth=function(){return arguments.length===0?B.prototype.depth.call(this):B.prototype.depth.apply(this,arguments)},U.prototype.createParentBoundables=function(Q,J){ni.isTrue(!Q.isEmpty());var rt=Math.trunc(Math.ceil(Q.size()/this.getNodeCapacity())),at=new nr(Q);kl.sort(at,U.xComparator);var ft=this.verticalSlices(at,Math.trunc(Math.ceil(Math.sqrt(rt))));return this.createParentBoundablesFromVerticalSlices(ft,J)},U.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ur(arguments[0],Od)){var Q=arguments[0],J=new Xo(this.getRoot(),this.getRoot(),Q);return this.nearestNeighbour(J)}if(arguments[0]instanceof Xo){var rt=arguments[0];return this.nearestNeighbour(rt,Qr.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof U&&Ur(arguments[1],Od)){var at=arguments[0],ft=arguments[1],yt=new Xo(this.getRoot(),at.getRoot(),ft);return this.nearestNeighbour(yt)}if(arguments[0]instanceof Xo&&typeof arguments[1]=="number"){var vt=arguments[0],Tt=arguments[1],xt=Tt,It=null,Gt=new _c;for(Gt.add(vt);!Gt.isEmpty()&&xt>0;){var Wt=Gt.poll(),ee=Wt.getDistance();if(ee>=xt)break;Wt.isLeaves()?(xt=ee,It=Wt):Wt.expandToQueue(Gt,xt)}return[It.getBoundable(0).getItem(),It.getBoundable(1).getItem()]}}else if(arguments.length===3){var Bt=arguments[0],me=arguments[1],Ie=arguments[2],Zt=new Cl(Bt,me),fe=new Xo(this.getRoot(),Zt,Ie);return this.nearestNeighbour(fe)[0]}},U.prototype.interfaces_=function(){return[Bh,sl]},U.prototype.getClass=function(){return U},U.centreX=function(Q){return U.avg(Q.getMinX(),Q.getMaxX())},U.avg=function(Q,J){return(Q+J)/2},U.centreY=function(Q){return U.avg(Q.getMinY(),Q.getMaxY())},G.STRtreeNode.get=function(){return s0},G.serialVersionUID.get=function(){return 0x39920f7d5f261e0},G.xComparator.get=function(){return{interfaces_:function(){return[wd]},compare:function(Q,J){return B.compareDoubles(U.centreX(Q.getBounds()),U.centreX(J.getBounds()))}}},G.yComparator.get=function(){return{interfaces_:function(){return[wd]},compare:function(Q,J){return B.compareDoubles(U.centreY(Q.getBounds()),U.centreY(J.getBounds()))}}},G.intersectsOp.get=function(){return{interfaces_:function(){return[B.IntersectsOp]},intersects:function(Q,J){return Q.intersects(J)}}},G.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(U,G),U}(Ss),s0=function(B){function U(){var G=arguments[0];B.call(this,G)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.computeBounds=function(){for(var G=null,Q=this.getChildBoundables().iterator();Q.hasNext();){var J=Q.next();G===null?G=new Sr(J.getBounds()):G.expandToInclude(J.getBounds())}return G},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Ko),ga=function(){};ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},ga.relativeSign=function(B,U){return B<U?-1:B>U?1:0},ga.compare=function(B,U,G){if(U.equals2D(G))return 0;var Q=ga.relativeSign(U.x,G.x),J=ga.relativeSign(U.y,G.y);switch(B){case 0:return ga.compareValue(Q,J);case 1:return ga.compareValue(J,Q);case 2:return ga.compareValue(J,-Q);case 3:return ga.compareValue(-Q,J);case 4:return ga.compareValue(-Q,-J);case 5:return ga.compareValue(-J,-Q);case 6:return ga.compareValue(-J,Q);case 7:return ga.compareValue(Q,-J)}return ni.shouldNeverReachHere("invalid octant value"),0},ga.compareValue=function(B,U){return B<0?-1:B>0?1:U<0?-1:U>0?1:0};var Tu=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var B=arguments[0],U=arguments[1],G=arguments[2],Q=arguments[3];this._segString=B,this.coord=new pn(U),this.segmentIndex=G,this._segmentOctant=Q,this._isInterior=!U.equals2D(B.getCoordinate(G))};Tu.prototype.getCoordinate=function(){return this.coord},Tu.prototype.print=function(B){B.print(this.coord),B.print(" seg # = "+this.segmentIndex)},Tu.prototype.compareTo=function(B){var U=B;return this.segmentIndex<U.segmentIndex?-1:this.segmentIndex>U.segmentIndex?1:this.coord.equals2D(U.coord)?0:ga.compare(this._segmentOctant,this.coord,U.coord)},Tu.prototype.isEndPoint=function(B){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===B},Tu.prototype.isInterior=function(){return this._isInterior},Tu.prototype.interfaces_=function(){return[ol]},Tu.prototype.getClass=function(){return Tu};var _s=function(){this._nodeMap=new Ys,this._edge=null;var B=arguments[0];this._edge=B};_s.prototype.getSplitCoordinates=function(){var B=new Cf;this.addEndpoints();for(var U=this.iterator(),G=U.next();U.hasNext();){var Q=U.next();this.addEdgeCoordinates(G,Q,B),G=Q}return B.toCoordinateArray()},_s.prototype.addCollapsedNodes=function(){var B=new nr;this.findCollapsesFromInsertedNodes(B),this.findCollapsesFromExistingVertices(B);for(var U=B.iterator();U.hasNext();){var G=U.next().intValue();this.add(this._edge.getCoordinate(G),G)}},_s.prototype.print=function(B){B.println("Intersections:");for(var U=this.iterator();U.hasNext();)U.next().print(B)},_s.prototype.findCollapsesFromExistingVertices=function(B){for(var U=0;U<this._edge.size()-2;U++){var G=this._edge.getCoordinate(U),Q=this._edge.getCoordinate(U+2);G.equals2D(Q)&&B.add(new Hl(U+1))}},_s.prototype.addEdgeCoordinates=function(B,U,G){var Q=this._edge.getCoordinate(U.segmentIndex),J=U.isInterior()||!U.coord.equals2D(Q);G.add(new pn(B.coord),!1);for(var rt=B.segmentIndex+1;rt<=U.segmentIndex;rt++)G.add(this._edge.getCoordinate(rt));J&&G.add(new pn(U.coord))},_s.prototype.iterator=function(){return this._nodeMap.values().iterator()},_s.prototype.addSplitEdges=function(B){this.addEndpoints(),this.addCollapsedNodes();for(var U=this.iterator(),G=U.next();U.hasNext();){var Q=U.next(),J=this.createSplitEdge(G,Q);B.add(J),G=Q}},_s.prototype.findCollapseIndex=function(B,U,G){if(!B.coord.equals2D(U.coord))return!1;var Q=U.segmentIndex-B.segmentIndex;return U.isInterior()||Q--,Q===1&&(G[0]=B.segmentIndex+1,!0)},_s.prototype.findCollapsesFromInsertedNodes=function(B){for(var U=new Array(1).fill(null),G=this.iterator(),Q=G.next();G.hasNext();){var J=G.next();this.findCollapseIndex(Q,J,U)&&B.add(new Hl(U[0])),Q=J}},_s.prototype.getEdge=function(){return this._edge},_s.prototype.addEndpoints=function(){var B=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(B),B)},_s.prototype.createSplitEdge=function(B,U){var G=U.segmentIndex-B.segmentIndex+2,Q=this._edge.getCoordinate(U.segmentIndex),J=U.isInterior()||!U.coord.equals2D(Q);J||G--;var rt=new Array(G).fill(null),at=0;rt[at++]=new pn(B.coord);for(var ft=B.segmentIndex+1;ft<=U.segmentIndex;ft++)rt[at++]=this._edge.getCoordinate(ft);return J&&(rt[at]=new pn(U.coord)),new Ro(rt,this._edge.getData())},_s.prototype.add=function(B,U){var G=new Tu(this._edge,B,U,this._edge.getSegmentOctant(U)),Q=this._nodeMap.get(G);return Q!==null?(ni.isTrue(Q.coord.equals2D(B),"Found equal nodes with different coordinates"),Q):(this._nodeMap.put(G,G),G)},_s.prototype.checkSplitEdgesCorrectness=function(B){var U=this._edge.getCoordinates(),G=B.get(0).getCoordinate(0);if(!G.equals2D(U[0]))throw new Uc("bad split edge start point at "+G);var Q=B.get(B.size()-1).getCoordinates(),J=Q[Q.length-1];if(!J.equals2D(U[U.length-1]))throw new Uc("bad split edge end point at "+J)},_s.prototype.interfaces_=function(){return[]},_s.prototype.getClass=function(){return _s};var Al=function(){};Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var B=arguments[0],U=arguments[1];if(B===0&&U===0)throw new Ao("Cannot compute the octant for point ( "+B+", "+U+" )");var G=Math.abs(B),Q=Math.abs(U);return B>=0?U>=0?G>=Q?0:1:G>=Q?7:6:U>=0?G>=Q?3:2:G>=Q?4:5}if(arguments[0]instanceof pn&&arguments[1]instanceof pn){var J=arguments[0],rt=arguments[1],at=rt.x-J.x,ft=rt.y-J.y;if(at===0&&ft===0)throw new Ao("Cannot compute the octant for two identical points "+J);return Al.octant(at,ft)}};var cs=function(){};cs.prototype.getCoordinates=function(){},cs.prototype.size=function(){},cs.prototype.getCoordinate=function(B){},cs.prototype.isClosed=function(){},cs.prototype.setData=function(B){},cs.prototype.getData=function(){},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs};var zf=function(){};zf.prototype.addIntersection=function(B,U){},zf.prototype.interfaces_=function(){return[cs]},zf.prototype.getClass=function(){return zf};var Ro=function(){this._nodeList=new _s(this),this._pts=null,this._data=null;var B=arguments[0],U=arguments[1];this._pts=B,this._data=U};Ro.prototype.getCoordinates=function(){return this._pts},Ro.prototype.size=function(){return this._pts.length},Ro.prototype.getCoordinate=function(B){return this._pts[B]},Ro.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ro.prototype.getSegmentOctant=function(B){return B===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(B),this.getCoordinate(B+1))},Ro.prototype.setData=function(B){this._data=B},Ro.prototype.safeOctant=function(B,U){return B.equals2D(U)?0:Al.octant(B,U)},Ro.prototype.getData=function(){return this._data},Ro.prototype.addIntersection=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1];this.addIntersectionNode(B,U)}else if(arguments.length===4){var G=arguments[0],Q=arguments[1],J=arguments[3],rt=new pn(G.getIntersection(J));this.addIntersection(rt,Q)}},Ro.prototype.toString=function(){return _l.toLineString(new qo(this._pts))},Ro.prototype.getNodeList=function(){return this._nodeList},Ro.prototype.addIntersectionNode=function(B,U){var G=U,Q=G+1;if(Q<this._pts.length){var J=this._pts[Q];B.equals2D(J)&&(G=Q)}return this._nodeList.add(B,G)},Ro.prototype.addIntersections=function(B,U,G){for(var Q=0;Q<B.getIntersectionNum();Q++)this.addIntersection(B,U,G,Q)},Ro.prototype.interfaces_=function(){return[zf]},Ro.prototype.getClass=function(){return Ro},Ro.getNodedSubstrings=function(){if(arguments.length===1){var B=arguments[0],U=new nr;return Ro.getNodedSubstrings(B,U),U}if(arguments.length===2)for(var G=arguments[0],Q=arguments[1],J=G.iterator();J.hasNext();){var rt=J.next();rt.getNodeList().addSplitEdges(Q)}};var Tr=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new pn,this.p1=new pn;else if(arguments.length===1){var B=arguments[0];this.p0=new pn(B.p0),this.p1=new pn(B.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var U=arguments[0],G=arguments[1],Q=arguments[2],J=arguments[3];this.p0=new pn(U,G),this.p1=new pn(Q,J)}},Bp={serialVersionUID:{configurable:!0}};Tr.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Tr.prototype.orientationIndex=function(){if(arguments[0]instanceof Tr){var B=arguments[0],U=ar.orientationIndex(this.p0,this.p1,B.p0),G=ar.orientationIndex(this.p0,this.p1,B.p1);return U>=0&&G>=0||U<=0&&G<=0?Math.max(U,G):0}if(arguments[0]instanceof pn){var Q=arguments[0];return ar.orientationIndex(this.p0,this.p1,Q)}},Tr.prototype.toGeometry=function(B){return B.createLineString([this.p0,this.p1])},Tr.prototype.isVertical=function(){return this.p0.x===this.p1.x},Tr.prototype.equals=function(B){if(!(B instanceof Tr))return!1;var U=B;return this.p0.equals(U.p0)&&this.p1.equals(U.p1)},Tr.prototype.intersection=function(B){var U=new wu;return U.computeIntersection(this.p0,this.p1,B.p0,B.p1),U.hasIntersection()?U.getIntersection(0):null},Tr.prototype.project=function(){if(arguments[0]instanceof pn){var B=arguments[0];if(B.equals(this.p0)||B.equals(this.p1))return new pn(B);var U=this.projectionFactor(B),G=new pn;return G.x=this.p0.x+U*(this.p1.x-this.p0.x),G.y=this.p0.y+U*(this.p1.y-this.p0.y),G}if(arguments[0]instanceof Tr){var Q=arguments[0],J=this.projectionFactor(Q.p0),rt=this.projectionFactor(Q.p1);if(J>=1&&rt>=1||J<=0&&rt<=0)return null;var at=this.project(Q.p0);J<0&&(at=this.p0),J>1&&(at=this.p1);var ft=this.project(Q.p1);return rt<0&&(ft=this.p0),rt>1&&(ft=this.p1),new Tr(at,ft)}},Tr.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Tr.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Tr.prototype.getCoordinate=function(B){return B===0?this.p0:this.p1},Tr.prototype.distancePerpendicular=function(B){return ar.distancePointLinePerpendicular(B,this.p0,this.p1)},Tr.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Tr.prototype.midPoint=function(){return Tr.midPoint(this.p0,this.p1)},Tr.prototype.projectionFactor=function(B){if(B.equals(this.p0))return 0;if(B.equals(this.p1))return 1;var U=this.p1.x-this.p0.x,G=this.p1.y-this.p0.y,Q=U*U+G*G;return Q<=0?Qr.NaN:((B.x-this.p0.x)*U+(B.y-this.p0.y)*G)/Q},Tr.prototype.closestPoints=function(B){var U=this.intersection(B);if(U!==null)return[U,U];var G=new Array(2).fill(null),Q=Qr.MAX_VALUE,J=null,rt=this.closestPoint(B.p0);Q=rt.distance(B.p0),G[0]=rt,G[1]=B.p0;var at=this.closestPoint(B.p1);(J=at.distance(B.p1))<Q&&(Q=J,G[0]=at,G[1]=B.p1);var ft=B.closestPoint(this.p0);(J=ft.distance(this.p0))<Q&&(Q=J,G[0]=this.p0,G[1]=ft);var yt=B.closestPoint(this.p1);return(J=yt.distance(this.p1))<Q&&(Q=J,G[0]=this.p1,G[1]=yt),G},Tr.prototype.closestPoint=function(B){var U=this.projectionFactor(B);return U>0&&U<1?this.project(B):this.p0.distance(B)<this.p1.distance(B)?this.p0:this.p1},Tr.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Tr.prototype.getLength=function(){return this.p0.distance(this.p1)},Tr.prototype.compareTo=function(B){var U=B,G=this.p0.compareTo(U.p0);return G!==0?G:this.p1.compareTo(U.p1)},Tr.prototype.reverse=function(){var B=this.p0;this.p0=this.p1,this.p1=B},Tr.prototype.equalsTopo=function(B){return this.p0.equals(B.p0)&&(this.p1.equals(B.p1)||this.p0.equals(B.p1))&&this.p1.equals(B.p0)},Tr.prototype.lineIntersection=function(B){try{return al.intersection(this.p0,this.p1,B.p0,B.p1)}catch(U){if(!(U instanceof Dh))throw U}return null},Tr.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Tr.prototype.pointAlongOffset=function(B,U){var G=this.p0.x+B*(this.p1.x-this.p0.x),Q=this.p0.y+B*(this.p1.y-this.p0.y),J=this.p1.x-this.p0.x,rt=this.p1.y-this.p0.y,at=Math.sqrt(J*J+rt*rt),ft=0,yt=0;if(U!==0){if(at<=0)throw new Error("Cannot compute offset from zero-length line segment");ft=U*J/at,yt=U*rt/at}return new pn(G-yt,Q+ft)},Tr.prototype.setCoordinates=function(){if(arguments.length===1){var B=arguments[0];this.setCoordinates(B.p0,B.p1)}else if(arguments.length===2){var U=arguments[0],G=arguments[1];this.p0.x=U.x,this.p0.y=U.y,this.p1.x=G.x,this.p1.y=G.y}},Tr.prototype.segmentFraction=function(B){var U=this.projectionFactor(B);return U<0?U=0:(U>1||Qr.isNaN(U))&&(U=1),U},Tr.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Tr.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Tr.prototype.distance=function(){if(arguments[0]instanceof Tr){var B=arguments[0];return ar.distanceLineLine(this.p0,this.p1,B.p0,B.p1)}if(arguments[0]instanceof pn){var U=arguments[0];return ar.distancePointLine(U,this.p0,this.p1)}},Tr.prototype.pointAlong=function(B){var U=new pn;return U.x=this.p0.x+B*(this.p1.x-this.p0.x),U.y=this.p0.y+B*(this.p1.y-this.p0.y),U},Tr.prototype.hashCode=function(){var B=Qr.doubleToLongBits(this.p0.x);B^=31*Qr.doubleToLongBits(this.p0.y);var U=Math.trunc(B)^Math.trunc(B>>32),G=Qr.doubleToLongBits(this.p1.x);return G^=31*Qr.doubleToLongBits(this.p1.y),U^(Math.trunc(G)^Math.trunc(G>>32))},Tr.prototype.interfaces_=function(){return[ol,sl]},Tr.prototype.getClass=function(){return Tr},Tr.midPoint=function(B,U){return new pn((B.x+U.x)/2,(B.y+U.y)/2)},Bp.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Tr,Bp);var Rf=function(){this.tempEnv1=new Sr,this.tempEnv2=new Sr,this._overlapSeg1=new Tr,this._overlapSeg2=new Tr};Rf.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var B=arguments[0],U=arguments[1],G=arguments[2],Q=arguments[3];B.getLineSegment(U,this._overlapSeg1),G.getLineSegment(Q,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf};var Oa=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var B=arguments[0],U=arguments[1],G=arguments[2],Q=arguments[3];this._pts=B,this._start=U,this._end=G,this._context=Q};Oa.prototype.getLineSegment=function(B,U){U.p0=this._pts[B],U.p1=this._pts[B+1]},Oa.prototype.computeSelect=function(B,U,G,Q){var J=this._pts[U],rt=this._pts[G];if(Q.tempEnv1.init(J,rt),G-U==1)return Q.select(this,U),null;if(!B.intersects(Q.tempEnv1))return null;var at=Math.trunc((U+G)/2);U<at&&this.computeSelect(B,U,at,Q),at<G&&this.computeSelect(B,at,G,Q)},Oa.prototype.getCoordinates=function(){for(var B=new Array(this._end-this._start+1).fill(null),U=0,G=this._start;G<=this._end;G++)B[U++]=this._pts[G];return B},Oa.prototype.computeOverlaps=function(B,U){this.computeOverlapsInternal(this._start,this._end,B,B._start,B._end,U)},Oa.prototype.setId=function(B){this._id=B},Oa.prototype.select=function(B,U){this.computeSelect(B,this._start,this._end,U)},Oa.prototype.getEnvelope=function(){if(this._env===null){var B=this._pts[this._start],U=this._pts[this._end];this._env=new Sr(B,U)}return this._env},Oa.prototype.getEndIndex=function(){return this._end},Oa.prototype.getStartIndex=function(){return this._start},Oa.prototype.getContext=function(){return this._context},Oa.prototype.getId=function(){return this._id},Oa.prototype.computeOverlapsInternal=function(B,U,G,Q,J,rt){var at=this._pts[B],ft=this._pts[U],yt=G._pts[Q],vt=G._pts[J];if(U-B==1&&J-Q==1)return rt.overlap(this,B,G,Q),null;if(rt.tempEnv1.init(at,ft),rt.tempEnv2.init(yt,vt),!rt.tempEnv1.intersects(rt.tempEnv2))return null;var Tt=Math.trunc((B+U)/2),xt=Math.trunc((Q+J)/2);B<Tt&&(Q<xt&&this.computeOverlapsInternal(B,Tt,G,Q,xt,rt),xt<J&&this.computeOverlapsInternal(B,Tt,G,xt,J,rt)),Tt<U&&(Q<xt&&this.computeOverlapsInternal(Tt,U,G,Q,xt,rt),xt<J&&this.computeOverlapsInternal(Tt,U,G,xt,J,rt))},Oa.prototype.interfaces_=function(){return[]},Oa.prototype.getClass=function(){return Oa};var dl=function(){};dl.prototype.interfaces_=function(){return[]},dl.prototype.getClass=function(){return dl},dl.getChainStartIndices=function(B){var U=0,G=new nr;G.add(new Hl(U));do{var Q=dl.findChainEnd(B,U);G.add(new Hl(Q)),U=Q}while(U<B.length-1);return dl.toIntArray(G)},dl.findChainEnd=function(B,U){for(var G=U;G<B.length-1&&B[G].equals2D(B[G+1]);)G++;if(G>=B.length-1)return B.length-1;for(var Q=lo.quadrant(B[G],B[G+1]),J=U+1;J<B.length&&!(!B[J-1].equals2D(B[J])&&lo.quadrant(B[J-1],B[J])!==Q);)J++;return J-1},dl.getChains=function(){if(arguments.length===1){var B=arguments[0];return dl.getChains(B,null)}if(arguments.length===2){for(var U=arguments[0],G=arguments[1],Q=new nr,J=dl.getChainStartIndices(U),rt=0;rt<J.length-1;rt++){var at=new Oa(U,J[rt],J[rt+1],G);Q.add(at)}return Q}},dl.toIntArray=function(B){for(var U=new Array(B.size()).fill(null),G=0;G<U.length;G++)U[G]=B.get(G).intValue();return U};var th=function(){};th.prototype.computeNodes=function(B){},th.prototype.getNodedSubstrings=function(){},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th};var jf=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var B=arguments[0];this.setSegmentIntersector(B)}}};jf.prototype.setSegmentIntersector=function(B){this._segInt=B},jf.prototype.interfaces_=function(){return[th]},jf.prototype.getClass=function(){return jf};var a0=function(B){function U(Q){Q?B.call(this,Q):B.call(this),this._monoChains=new nr,this._index=new r1,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U;var G={SegmentOverlapAction:{configurable:!0}};return U.prototype.getMonotoneChains=function(){return this._monoChains},U.prototype.getNodedSubstrings=function(){return Ro.getNodedSubstrings(this._nodedSegStrings)},U.prototype.getIndex=function(){return this._index},U.prototype.add=function(Q){for(var J=this,rt=dl.getChains(Q.getCoordinates(),Q).iterator();rt.hasNext();){var at=rt.next();at.setId(J._idCounter++),J._index.insert(at.getEnvelope(),at),J._monoChains.add(at)}},U.prototype.computeNodes=function(Q){this._nodedSegStrings=Q;for(var J=Q.iterator();J.hasNext();)this.add(J.next());this.intersectChains()},U.prototype.intersectChains=function(){for(var Q=this,J=new $p(this._segInt),rt=this._monoChains.iterator();rt.hasNext();)for(var at=rt.next(),ft=Q._index.query(at.getEnvelope()).iterator();ft.hasNext();){var yt=ft.next();if(yt.getId()>at.getId()&&(at.computeOverlaps(yt,J),Q._nOverlaps++),Q._segInt.isDone())return null}},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},G.SegmentOverlapAction.get=function(){return $p},Object.defineProperties(U,G),U}(jf),$p=function(B){function U(){B.call(this),this._si=null;var G=arguments[0];this._si=G}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.overlap=function(){if(arguments.length!==4)return B.prototype.overlap.apply(this,arguments);var G=arguments[0],Q=arguments[1],J=arguments[2],rt=arguments[3],at=G.getContext(),ft=J.getContext();this._si.processIntersections(at,Q,ft,rt)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Rf),no=function B(){if(this._quadrantSegments=B.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=B.CAP_ROUND,this._joinStyle=B.JOIN_ROUND,this._mitreLimit=B.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=B.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var U=arguments[0];this.setQuadrantSegments(U)}else if(arguments.length===2){var G=arguments[0],Q=arguments[1];this.setQuadrantSegments(G),this.setEndCapStyle(Q)}else if(arguments.length===4){var J=arguments[0],rt=arguments[1],at=arguments[2],ft=arguments[3];this.setQuadrantSegments(J),this.setEndCapStyle(rt),this.setJoinStyle(at),this.setMitreLimit(ft)}}},Nl={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};no.prototype.getEndCapStyle=function(){return this._endCapStyle},no.prototype.isSingleSided=function(){return this._isSingleSided},no.prototype.setQuadrantSegments=function(B){this._quadrantSegments=B,this._quadrantSegments===0&&(this._joinStyle=no.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=no.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),B<=0&&(this._quadrantSegments=1),this._joinStyle!==no.JOIN_ROUND&&(this._quadrantSegments=no.DEFAULT_QUADRANT_SEGMENTS)},no.prototype.getJoinStyle=function(){return this._joinStyle},no.prototype.setJoinStyle=function(B){this._joinStyle=B},no.prototype.setSimplifyFactor=function(B){this._simplifyFactor=B<0?0:B},no.prototype.getSimplifyFactor=function(){return this._simplifyFactor},no.prototype.getQuadrantSegments=function(){return this._quadrantSegments},no.prototype.setEndCapStyle=function(B){this._endCapStyle=B},no.prototype.getMitreLimit=function(){return this._mitreLimit},no.prototype.setMitreLimit=function(B){this._mitreLimit=B},no.prototype.setSingleSided=function(B){this._isSingleSided=B},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no},no.bufferDistanceError=function(B){var U=Math.PI/2/B;return 1-Math.cos(U/2)},Nl.CAP_ROUND.get=function(){return 1},Nl.CAP_FLAT.get=function(){return 2},Nl.CAP_SQUARE.get=function(){return 3},Nl.JOIN_ROUND.get=function(){return 1},Nl.JOIN_MITRE.get=function(){return 2},Nl.JOIN_BEVEL.get=function(){return 3},Nl.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Nl.DEFAULT_MITRE_LIMIT.get=function(){return 5},Nl.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(no,Nl);var Eo=function(B){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ar.COUNTERCLOCKWISE,this._inputLine=B||null},eh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Eo.prototype.isDeletable=function(B,U,G,Q){var J=this._inputLine[B],rt=this._inputLine[U],at=this._inputLine[G];return!!this.isConcave(J,rt,at)&&!!this.isShallow(J,rt,at,Q)&&this.isShallowSampled(J,rt,B,G,Q)},Eo.prototype.deleteShallowConcavities=function(){for(var B=this,U=1,G=this.findNextNonDeletedIndex(U),Q=this.findNextNonDeletedIndex(G),J=!1;Q<this._inputLine.length;){var rt=!1;B.isDeletable(U,G,Q,B._distanceTol)&&(B._isDeleted[G]=Eo.DELETE,rt=!0,J=!0),U=rt?Q:G,G=B.findNextNonDeletedIndex(U),Q=B.findNextNonDeletedIndex(G)}return J},Eo.prototype.isShallowConcavity=function(B,U,G,Q){return ar.computeOrientation(B,U,G)===this._angleOrientation&&ar.distancePointLine(U,B,G)<Q},Eo.prototype.isShallowSampled=function(B,U,G,Q,J){var rt=Math.trunc((Q-G)/Eo.NUM_PTS_TO_CHECK);rt<=0&&(rt=1);for(var at=G;at<Q;at+=rt)if(!this.isShallow(B,U,this._inputLine[at],J))return!1;return!0},Eo.prototype.isConcave=function(B,U,G){var Q=ar.computeOrientation(B,U,G)===this._angleOrientation;return Q},Eo.prototype.simplify=function(B){this._distanceTol=Math.abs(B),B<0&&(this._angleOrientation=ar.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var U=!1;do U=this.deleteShallowConcavities();while(U);return this.collapseLine()},Eo.prototype.findNextNonDeletedIndex=function(B){for(var U=B+1;U<this._inputLine.length&&this._isDeleted[U]===Eo.DELETE;)U++;return U},Eo.prototype.isShallow=function(B,U,G,Q){return ar.distancePointLine(U,B,G)<Q},Eo.prototype.collapseLine=function(){for(var B=new Cf,U=0;U<this._inputLine.length;U++)this._isDeleted[U]!==Eo.DELETE&&B.add(this._inputLine[U]);return B.toCoordinateArray()},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Eo.simplify=function(B,U){return new Eo(B).simplify(U)},eh.INIT.get=function(){return 0},eh.DELETE.get=function(){return 1},eh.KEEP.get=function(){return 1},eh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Eo,eh);var Ha=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new nr},i1={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ha.prototype.getCoordinates=function(){return this._ptList.toArray(Ha.COORDINATE_ARRAY_TYPE)},Ha.prototype.setPrecisionModel=function(B){this._precisionModel=B},Ha.prototype.addPt=function(B){var U=new pn(B);if(this._precisionModel.makePrecise(U),this.isRedundant(U))return null;this._ptList.add(U)},Ha.prototype.revere=function(){},Ha.prototype.addPts=function(B,U){if(U)for(var G=0;G<B.length;G++)this.addPt(B[G]);else for(var Q=B.length-1;Q>=0;Q--)this.addPt(B[Q])},Ha.prototype.isRedundant=function(B){if(this._ptList.size()<1)return!1;var U=this._ptList.get(this._ptList.size()-1);return B.distance(U)<this._minimimVertexDistance},Ha.prototype.toString=function(){return new gi().createLineString(this.getCoordinates()).toString()},Ha.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var B=new pn(this._ptList.get(0)),U=this._ptList.get(this._ptList.size()-1);if(B.equals(U))return null;this._ptList.add(B)},Ha.prototype.setMinimumVertexDistance=function(B){this._minimimVertexDistance=B},Ha.prototype.interfaces_=function(){return[]},Ha.prototype.getClass=function(){return Ha},i1.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ha,i1);var Ei=function(){},$h={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.toDegrees=function(B){return 180*B/Math.PI},Ei.normalize=function(B){for(;B>Math.PI;)B-=Ei.PI_TIMES_2;for(;B<=-Math.PI;)B+=Ei.PI_TIMES_2;return B},Ei.angle=function(){if(arguments.length===1){var B=arguments[0];return Math.atan2(B.y,B.x)}if(arguments.length===2){var U=arguments[0],G=arguments[1],Q=G.x-U.x,J=G.y-U.y;return Math.atan2(J,Q)}},Ei.isAcute=function(B,U,G){var Q=B.x-U.x,J=B.y-U.y;return Q*(G.x-U.x)+J*(G.y-U.y)>0},Ei.isObtuse=function(B,U,G){var Q=B.x-U.x,J=B.y-U.y;return Q*(G.x-U.x)+J*(G.y-U.y)<0},Ei.interiorAngle=function(B,U,G){var Q=Ei.angle(U,B),J=Ei.angle(U,G);return Math.abs(J-Q)},Ei.normalizePositive=function(B){if(B<0){for(;B<0;)B+=Ei.PI_TIMES_2;B>=Ei.PI_TIMES_2&&(B=0)}else{for(;B>=Ei.PI_TIMES_2;)B-=Ei.PI_TIMES_2;B<0&&(B=0)}return B},Ei.angleBetween=function(B,U,G){var Q=Ei.angle(U,B),J=Ei.angle(U,G);return Ei.diff(Q,J)},Ei.diff=function(B,U){var G=null;return(G=B<U?U-B:B-U)>Math.PI&&(G=2*Math.PI-G),G},Ei.toRadians=function(B){return B*Math.PI/180},Ei.getTurn=function(B,U){var G=Math.sin(U-B);return G>0?Ei.COUNTERCLOCKWISE:G<0?Ei.CLOCKWISE:Ei.NONE},Ei.angleBetweenOriented=function(B,U,G){var Q=Ei.angle(U,B),J=Ei.angle(U,G)-Q;return J<=-Math.PI?J+Ei.PI_TIMES_2:J>Math.PI?J-Ei.PI_TIMES_2:J},$h.PI_TIMES_2.get=function(){return 2*Math.PI},$h.PI_OVER_2.get=function(){return Math.PI/2},$h.PI_OVER_4.get=function(){return Math.PI/4},$h.COUNTERCLOCKWISE.get=function(){return ar.COUNTERCLOCKWISE},$h.CLOCKWISE.get=function(){return ar.CLOCKWISE},$h.NONE.get=function(){return ar.COLLINEAR},Object.defineProperties(Ei,$h);var So=function B(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Tr,this._seg1=new Tr,this._offset0=new Tr,this._offset1=new Tr,this._side=0,this._hasNarrowConcaveAngle=!1;var U=arguments[0],G=arguments[1],Q=arguments[2];this._precisionModel=U,this._bufParams=G,this._li=new wu,this._filletAngleQuantum=Math.PI/2/G.getQuadrantSegments(),G.getQuadrantSegments()>=8&&G.getJoinStyle()===no.JOIN_ROUND&&(this._closingSegLengthFactor=B.MAX_CLOSING_SEG_LEN_FACTOR),this.init(Q)},Pd={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};So.prototype.addNextSegment=function(B,U){if(this._s0=this._s1,this._s1=this._s2,this._s2=B,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var G=ar.computeOrientation(this._s0,this._s1,this._s2),Q=G===ar.CLOCKWISE&&this._side===qn.LEFT||G===ar.COUNTERCLOCKWISE&&this._side===qn.RIGHT;G===0?this.addCollinear(U):Q?this.addOutsideTurn(G,U):this.addInsideTurn(G,U)},So.prototype.addLineEndCap=function(B,U){var G=new Tr(B,U),Q=new Tr;this.computeOffsetSegment(G,qn.LEFT,this._distance,Q);var J=new Tr;this.computeOffsetSegment(G,qn.RIGHT,this._distance,J);var rt=U.x-B.x,at=U.y-B.y,ft=Math.atan2(at,rt);switch(this._bufParams.getEndCapStyle()){case no.CAP_ROUND:this._segList.addPt(Q.p1),this.addFilletArc(U,ft+Math.PI/2,ft-Math.PI/2,ar.CLOCKWISE,this._distance),this._segList.addPt(J.p1);break;case no.CAP_FLAT:this._segList.addPt(Q.p1),this._segList.addPt(J.p1);break;case no.CAP_SQUARE:var yt=new pn;yt.x=Math.abs(this._distance)*Math.cos(ft),yt.y=Math.abs(this._distance)*Math.sin(ft);var vt=new pn(Q.p1.x+yt.x,Q.p1.y+yt.y),Tt=new pn(J.p1.x+yt.x,J.p1.y+yt.y);this._segList.addPt(vt),this._segList.addPt(Tt)}},So.prototype.getCoordinates=function(){return this._segList.getCoordinates()},So.prototype.addMitreJoin=function(B,U,G,Q){var J=!0,rt=null;try{rt=al.intersection(U.p0,U.p1,G.p0,G.p1),(Q<=0?1:rt.distance(B)/Math.abs(Q))>this._bufParams.getMitreLimit()&&(J=!1)}catch(at){if(!(at instanceof Dh))throw at;rt=new pn(0,0),J=!1}J?this._segList.addPt(rt):this.addLimitedMitreJoin(U,G,Q,this._bufParams.getMitreLimit())},So.prototype.addFilletCorner=function(B,U,G,Q,J){var rt=U.x-B.x,at=U.y-B.y,ft=Math.atan2(at,rt),yt=G.x-B.x,vt=G.y-B.y,Tt=Math.atan2(vt,yt);Q===ar.CLOCKWISE?ft<=Tt&&(ft+=2*Math.PI):ft>=Tt&&(ft-=2*Math.PI),this._segList.addPt(U),this.addFilletArc(B,ft,Tt,Q,J),this._segList.addPt(G)},So.prototype.addOutsideTurn=function(B,U){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*So.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===no.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===no.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(U&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,B,this._distance),this._segList.addPt(this._offset1.p0))},So.prototype.createSquare=function(B){this._segList.addPt(new pn(B.x+this._distance,B.y+this._distance)),this._segList.addPt(new pn(B.x+this._distance,B.y-this._distance)),this._segList.addPt(new pn(B.x-this._distance,B.y-this._distance)),this._segList.addPt(new pn(B.x-this._distance,B.y+this._distance)),this._segList.closeRing()},So.prototype.addSegments=function(B,U){this._segList.addPts(B,U)},So.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},So.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},So.prototype.initSideSegments=function(B,U,G){this._s1=B,this._s2=U,this._side=G,this._seg1.setCoordinates(B,U),this.computeOffsetSegment(this._seg1,G,this._distance,this._offset1)},So.prototype.addLimitedMitreJoin=function(B,U,G,Q){var J=this._seg0.p1,rt=Ei.angle(J,this._seg0.p0),at=Ei.angleBetweenOriented(this._seg0.p0,J,this._seg1.p1)/2,ft=Ei.normalize(rt+at),yt=Ei.normalize(ft+Math.PI),vt=Q*G,Tt=G-vt*Math.abs(Math.sin(at)),xt=J.x+vt*Math.cos(yt),It=J.y+vt*Math.sin(yt),Gt=new pn(xt,It),Wt=new Tr(J,Gt),ee=Wt.pointAlongOffset(1,Tt),Bt=Wt.pointAlongOffset(1,-Tt);this._side===qn.LEFT?(this._segList.addPt(ee),this._segList.addPt(Bt)):(this._segList.addPt(Bt),this._segList.addPt(ee))},So.prototype.computeOffsetSegment=function(B,U,G,Q){var J=U===qn.LEFT?1:-1,rt=B.p1.x-B.p0.x,at=B.p1.y-B.p0.y,ft=Math.sqrt(rt*rt+at*at),yt=J*G*rt/ft,vt=J*G*at/ft;Q.p0.x=B.p0.x-vt,Q.p0.y=B.p0.y+yt,Q.p1.x=B.p1.x-vt,Q.p1.y=B.p1.y+yt},So.prototype.addFilletArc=function(B,U,G,Q,J){var rt=Q===ar.CLOCKWISE?-1:1,at=Math.abs(U-G),ft=Math.trunc(at/this._filletAngleQuantum+.5);if(ft<1)return null;for(var yt=at/ft,vt=0,Tt=new pn;vt<at;){var xt=U+rt*vt;Tt.x=B.x+J*Math.cos(xt),Tt.y=B.y+J*Math.sin(xt),this._segList.addPt(Tt),vt+=yt}},So.prototype.addInsideTurn=function(B,U){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*So.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var G=new pn((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(G);var Q=new pn((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(Q)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},So.prototype.createCircle=function(B){var U=new pn(B.x+this._distance,B.y);this._segList.addPt(U),this.addFilletArc(B,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},So.prototype.addBevelJoin=function(B,U){this._segList.addPt(B.p1),this._segList.addPt(U.p0)},So.prototype.init=function(B){this._distance=B,this._maxCurveSegmentError=B*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ha,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(B*So.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},So.prototype.addCollinear=function(B){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===no.JOIN_BEVEL||this._bufParams.getJoinStyle()===no.JOIN_MITRE?(B&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ar.CLOCKWISE,this._distance))},So.prototype.closeRing=function(){this._segList.closeRing()},So.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},Pd.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},Pd.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},Pd.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Pd.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(So,Pd);var Ar=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var B=arguments[0],U=arguments[1];this._precisionModel=B,this._bufParams=U};Ar.prototype.getOffsetCurve=function(B,U){if(this._distance=U,U===0)return null;var G=U<0,Q=Math.abs(U),J=this.getSegGen(Q);B.length<=1?this.computePointCurve(B[0],J):this.computeOffsetCurve(B,G,J);var rt=J.getCoordinates();return G&&fi.reverse(rt),rt},Ar.prototype.computeSingleSidedBufferCurve=function(B,U,G){var Q=this.simplifyTolerance(this._distance);if(U){G.addSegments(B,!0);var J=Eo.simplify(B,-Q),rt=J.length-1;G.initSideSegments(J[rt],J[rt-1],qn.LEFT),G.addFirstSegment();for(var at=rt-2;at>=0;at--)G.addNextSegment(J[at],!0)}else{G.addSegments(B,!1);var ft=Eo.simplify(B,Q),yt=ft.length-1;G.initSideSegments(ft[0],ft[1],qn.LEFT),G.addFirstSegment();for(var vt=2;vt<=yt;vt++)G.addNextSegment(ft[vt],!0)}G.addLastSegment(),G.closeRing()},Ar.prototype.computeRingBufferCurve=function(B,U,G){var Q=this.simplifyTolerance(this._distance);U===qn.RIGHT&&(Q=-Q);var J=Eo.simplify(B,Q),rt=J.length-1;G.initSideSegments(J[rt-1],J[0],U);for(var at=1;at<=rt;at++){var ft=at!==1;G.addNextSegment(J[at],ft)}G.closeRing()},Ar.prototype.computeLineBufferCurve=function(B,U){var G=this.simplifyTolerance(this._distance),Q=Eo.simplify(B,G),J=Q.length-1;U.initSideSegments(Q[0],Q[1],qn.LEFT);for(var rt=2;rt<=J;rt++)U.addNextSegment(Q[rt],!0);U.addLastSegment(),U.addLineEndCap(Q[J-1],Q[J]);var at=Eo.simplify(B,-G),ft=at.length-1;U.initSideSegments(at[ft],at[ft-1],qn.LEFT);for(var yt=ft-2;yt>=0;yt--)U.addNextSegment(at[yt],!0);U.addLastSegment(),U.addLineEndCap(at[1],at[0]),U.closeRing()},Ar.prototype.computePointCurve=function(B,U){switch(this._bufParams.getEndCapStyle()){case no.CAP_ROUND:U.createCircle(B);break;case no.CAP_SQUARE:U.createSquare(B)}},Ar.prototype.getLineCurve=function(B,U){if(this._distance=U,U<0&&!this._bufParams.isSingleSided()||U===0)return null;var G=Math.abs(U),Q=this.getSegGen(G);if(B.length<=1)this.computePointCurve(B[0],Q);else if(this._bufParams.isSingleSided()){var J=U<0;this.computeSingleSidedBufferCurve(B,J,Q)}else this.computeLineBufferCurve(B,Q);return Q.getCoordinates()},Ar.prototype.getBufferParameters=function(){return this._bufParams},Ar.prototype.simplifyTolerance=function(B){return B*this._bufParams.getSimplifyFactor()},Ar.prototype.getRingCurve=function(B,U,G){if(this._distance=G,B.length<=2)return this.getLineCurve(B,G);if(G===0)return Ar.copyCoordinates(B);var Q=this.getSegGen(G);return this.computeRingBufferCurve(B,U,Q),Q.getCoordinates()},Ar.prototype.computeOffsetCurve=function(B,U,G){var Q=this.simplifyTolerance(this._distance);if(U){var J=Eo.simplify(B,-Q),rt=J.length-1;G.initSideSegments(J[rt],J[rt-1],qn.LEFT),G.addFirstSegment();for(var at=rt-2;at>=0;at--)G.addNextSegment(J[at],!0)}else{var ft=Eo.simplify(B,Q),yt=ft.length-1;G.initSideSegments(ft[0],ft[1],qn.LEFT),G.addFirstSegment();for(var vt=2;vt<=yt;vt++)G.addNextSegment(ft[vt],!0)}G.addLastSegment()},Ar.prototype.getSegGen=function(B){return new So(this._precisionModel,this._bufParams,B)},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.copyCoordinates=function(B){for(var U=new Array(B.length).fill(null),G=0;G<U.length;G++)U[G]=new pn(B[G]);return U};var Fh=function(){this._subgraphs=null,this._seg=new Tr,this._cga=new ar;var B=arguments[0];this._subgraphs=B},o1={DepthSegment:{configurable:!0}};Fh.prototype.findStabbedSegments=function(){var B=this;if(arguments.length===1){for(var U=arguments[0],G=new nr,Q=this._subgraphs.iterator();Q.hasNext();){var J=Q.next(),rt=J.getEnvelope();U.y<rt.getMinY()||U.y>rt.getMaxY()||B.findStabbedSegments(U,J.getDirectedEdges(),G)}return G}if(arguments.length===3){if(Ur(arguments[2],wl)&&arguments[0]instanceof pn&&arguments[1]instanceof Rp)for(var at=arguments[0],ft=arguments[1],yt=arguments[2],vt=ft.getEdge().getCoordinates(),Tt=0;Tt<vt.length-1;Tt++){B._seg.p0=vt[Tt],B._seg.p1=vt[Tt+1],B._seg.p0.y>B._seg.p1.y&&B._seg.reverse();var xt=Math.max(B._seg.p0.x,B._seg.p1.x);if(!(xt<at.x)&&!(B._seg.isHorizontal()||at.y<B._seg.p0.y||at.y>B._seg.p1.y||ar.computeOrientation(B._seg.p0,B._seg.p1,at)===ar.RIGHT)){var It=ft.getDepth(qn.LEFT);B._seg.p0.equals(vt[Tt])||(It=ft.getDepth(qn.RIGHT));var Gt=new nh(B._seg,It);yt.add(Gt)}}else if(Ur(arguments[2],wl)&&arguments[0]instanceof pn&&Ur(arguments[1],wl))for(var Wt=arguments[0],ee=arguments[1],Bt=arguments[2],me=ee.iterator();me.hasNext();){var Ie=me.next();Ie.isForward()&&B.findStabbedSegments(Wt,Ie,Bt)}}},Fh.prototype.getDepth=function(B){var U=this.findStabbedSegments(B);return U.size()===0?0:kl.min(U)._leftDepth},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},o1.DepthSegment.get=function(){return nh},Object.defineProperties(Fh,o1);var nh=function(){this._upwardSeg=null,this._leftDepth=null;var B=arguments[0],U=arguments[1];this._upwardSeg=new Tr(B),this._leftDepth=U};nh.prototype.compareTo=function(B){var U=B;if(this._upwardSeg.minX()>=U._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=U._upwardSeg.minX())return-1;var G=this._upwardSeg.orientationIndex(U._upwardSeg);return G!==0||(G=-1*U._upwardSeg.orientationIndex(this._upwardSeg))!==0?G:this._upwardSeg.compareTo(U._upwardSeg)},nh.prototype.compareX=function(B,U){var G=B.p0.compareTo(U.p0);return G!==0?G:B.p1.compareTo(U.p1)},nh.prototype.toString=function(){return this._upwardSeg.toString()},nh.prototype.interfaces_=function(){return[ol]},nh.prototype.getClass=function(){return nh};var Xr=function(B,U,G){this.p0=B||null,this.p1=U||null,this.p2=G||null};Xr.prototype.area=function(){return Xr.area(this.p0,this.p1,this.p2)},Xr.prototype.signedArea=function(){return Xr.signedArea(this.p0,this.p1,this.p2)},Xr.prototype.interpolateZ=function(B){if(B===null)throw new Ao("Supplied point is null.");return Xr.interpolateZ(B,this.p0,this.p1,this.p2)},Xr.prototype.longestSideLength=function(){return Xr.longestSideLength(this.p0,this.p1,this.p2)},Xr.prototype.isAcute=function(){return Xr.isAcute(this.p0,this.p1,this.p2)},Xr.prototype.circumcentre=function(){return Xr.circumcentre(this.p0,this.p1,this.p2)},Xr.prototype.area3D=function(){return Xr.area3D(this.p0,this.p1,this.p2)},Xr.prototype.centroid=function(){return Xr.centroid(this.p0,this.p1,this.p2)},Xr.prototype.inCentre=function(){return Xr.inCentre(this.p0,this.p1,this.p2)},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.area=function(B,U,G){return Math.abs(((G.x-B.x)*(U.y-B.y)-(U.x-B.x)*(G.y-B.y))/2)},Xr.signedArea=function(B,U,G){return((G.x-B.x)*(U.y-B.y)-(U.x-B.x)*(G.y-B.y))/2},Xr.det=function(B,U,G,Q){return B*Q-U*G},Xr.interpolateZ=function(B,U,G,Q){var J=U.x,rt=U.y,at=G.x-J,ft=Q.x-J,yt=G.y-rt,vt=Q.y-rt,Tt=at*vt-ft*yt,xt=B.x-J,It=B.y-rt,Gt=(vt*xt-ft*It)/Tt,Wt=(-yt*xt+at*It)/Tt;return U.z+Gt*(G.z-U.z)+Wt*(Q.z-U.z)},Xr.longestSideLength=function(B,U,G){var Q=B.distance(U),J=U.distance(G),rt=G.distance(B),at=Q;return J>at&&(at=J),rt>at&&(at=rt),at},Xr.isAcute=function(B,U,G){return!!Ei.isAcute(B,U,G)&&!!Ei.isAcute(U,G,B)&&!!Ei.isAcute(G,B,U)},Xr.circumcentre=function(B,U,G){var Q=G.x,J=G.y,rt=B.x-Q,at=B.y-J,ft=U.x-Q,yt=U.y-J,vt=2*Xr.det(rt,at,ft,yt),Tt=Xr.det(at,rt*rt+at*at,yt,ft*ft+yt*yt),xt=Xr.det(rt,rt*rt+at*at,ft,ft*ft+yt*yt);return new pn(Q-Tt/vt,J+xt/vt)},Xr.perpendicularBisector=function(B,U){var G=U.x-B.x,Q=U.y-B.y,J=new al(B.x+G/2,B.y+Q/2,1),rt=new al(B.x-Q+G/2,B.y+G+Q/2,1);return new al(J,rt)},Xr.angleBisector=function(B,U,G){var Q=U.distance(B),J=Q/(Q+U.distance(G)),rt=G.x-B.x,at=G.y-B.y;return new pn(B.x+J*rt,B.y+J*at)},Xr.area3D=function(B,U,G){var Q=U.x-B.x,J=U.y-B.y,rt=U.z-B.z,at=G.x-B.x,ft=G.y-B.y,yt=G.z-B.z,vt=J*yt-rt*ft,Tt=rt*at-Q*yt,xt=Q*ft-J*at,It=vt*vt+Tt*Tt+xt*xt,Gt=Math.sqrt(It)/2;return Gt},Xr.centroid=function(B,U,G){var Q=(B.x+U.x+G.x)/3,J=(B.y+U.y+G.y)/3;return new pn(Q,J)},Xr.inCentre=function(B,U,G){var Q=U.distance(G),J=B.distance(G),rt=B.distance(U),at=Q+J+rt,ft=(Q*B.x+J*U.x+rt*G.x)/at,yt=(Q*B.y+J*U.y+rt*G.y)/at;return new pn(ft,yt)};var ma=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new nr;var B=arguments[0],U=arguments[1],G=arguments[2];this._inputGeom=B,this._distance=U,this._curveBuilder=G};ma.prototype.addPoint=function(B){if(this._distance<=0)return null;var U=B.getCoordinates(),G=this._curveBuilder.getLineCurve(U,this._distance);this.addCurve(G,xn.EXTERIOR,xn.INTERIOR)},ma.prototype.addPolygon=function(B){var U=this,G=this._distance,Q=qn.LEFT;this._distance<0&&(G=-this._distance,Q=qn.RIGHT);var J=B.getExteriorRing(),rt=fi.removeRepeatedPoints(J.getCoordinates());if(this._distance<0&&this.isErodedCompletely(J,this._distance)||this._distance<=0&&rt.length<3)return null;this.addPolygonRing(rt,G,Q,xn.EXTERIOR,xn.INTERIOR);for(var at=0;at<B.getNumInteriorRing();at++){var ft=B.getInteriorRingN(at),yt=fi.removeRepeatedPoints(ft.getCoordinates());U._distance>0&&U.isErodedCompletely(ft,-U._distance)||U.addPolygonRing(yt,G,qn.opposite(Q),xn.INTERIOR,xn.EXTERIOR)}},ma.prototype.isTriangleErodedCompletely=function(B,U){var G=new Xr(B[0],B[1],B[2]),Q=G.inCentre();return ar.distancePointLine(Q,G.p0,G.p1)<Math.abs(U)},ma.prototype.addLineString=function(B){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var U=fi.removeRepeatedPoints(B.getCoordinates()),G=this._curveBuilder.getLineCurve(U,this._distance);this.addCurve(G,xn.EXTERIOR,xn.INTERIOR)},ma.prototype.addCurve=function(B,U,G){if(B===null||B.length<2)return null;var Q=new Ro(B,new so(0,xn.BOUNDARY,U,G));this._curveList.add(Q)},ma.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},ma.prototype.addPolygonRing=function(B,U,G,Q,J){if(U===0&&B.length<yc.MINIMUM_VALID_SIZE)return null;var rt=Q,at=J;B.length>=yc.MINIMUM_VALID_SIZE&&ar.isCCW(B)&&(rt=J,at=Q,G=qn.opposite(G));var ft=this._curveBuilder.getRingCurve(B,G,U);this.addCurve(ft,rt,at)},ma.prototype.add=function(B){if(B.isEmpty())return null;B instanceof ls?this.addPolygon(B):B instanceof No?this.addLineString(B):B instanceof Ia?this.addPoint(B):(B instanceof Dd||B instanceof xu||B instanceof vc||B instanceof na)&&this.addCollection(B)},ma.prototype.isErodedCompletely=function(B,U){var G=B.getCoordinates();if(G.length<4)return U<0;if(G.length===4)return this.isTriangleErodedCompletely(G,U);var Q=B.getEnvelopeInternal(),J=Math.min(Q.getHeight(),Q.getWidth());return U<0&&2*Math.abs(U)>J},ma.prototype.addCollection=function(B){for(var U=0;U<B.getNumGeometries();U++){var G=B.getGeometryN(U);this.add(G)}},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma};var ro=function(){};ro.prototype.locate=function(B){},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro};var Zl=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var B=arguments[0];this._parent=B,this._atStart=!0,this._index=0,this._max=B.getNumGeometries()};Zl.prototype.next=function(){if(this._atStart)return this._atStart=!1,Zl.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new zh;var B=this._parent.getGeometryN(this._index++);return B instanceof na?(this._subcollectionIterator=new Zl(B),this._subcollectionIterator.next()):B},Zl.prototype.remove=function(){throw new Error(this.getClass().getName())},Zl.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Zl.prototype.interfaces_=function(){return[Cd]},Zl.prototype.getClass=function(){return Zl},Zl.isAtomic=function(B){return!(B instanceof na)};var ya=function(){this._geom=null;var B=arguments[0];this._geom=B};ya.prototype.locate=function(B){return ya.locate(B,this._geom)},ya.prototype.interfaces_=function(){return[ro]},ya.prototype.getClass=function(){return ya},ya.isPointInRing=function(B,U){return!!U.getEnvelopeInternal().intersects(B)&&ar.isPointInRing(B,U.getCoordinates())},ya.containsPointInPolygon=function(B,U){if(U.isEmpty())return!1;var G=U.getExteriorRing();if(!ya.isPointInRing(B,G))return!1;for(var Q=0;Q<U.getNumInteriorRing();Q++){var J=U.getInteriorRingN(Q);if(ya.isPointInRing(B,J))return!1}return!0},ya.containsPoint=function(B,U){if(U instanceof ls)return ya.containsPointInPolygon(B,U);if(U instanceof na)for(var G=new Zl(U);G.hasNext();){var Q=G.next();if(Q!==U&&ya.containsPoint(B,Q))return!0}return!1},ya.locate=function(B,U){return U.isEmpty()?xn.EXTERIOR:ya.containsPoint(B,U)?xn.INTERIOR:xn.EXTERIOR};var Cs=function(){this._edgeMap=new Ys,this._edgeList=null,this._ptInAreaLocation=[xn.NONE,xn.NONE]};Cs.prototype.getNextCW=function(B){this.getEdges();var U=this._edgeList.indexOf(B),G=U-1;return U===0&&(G=this._edgeList.size()-1),this._edgeList.get(G)},Cs.prototype.propagateSideLabels=function(B){for(var U=xn.NONE,G=this.iterator();G.hasNext();){var Q=G.next().getLabel();Q.isArea(B)&&Q.getLocation(B,qn.LEFT)!==xn.NONE&&(U=Q.getLocation(B,qn.LEFT))}if(U===xn.NONE)return null;for(var J=U,rt=this.iterator();rt.hasNext();){var at=rt.next(),ft=at.getLabel();if(ft.getLocation(B,qn.ON)===xn.NONE&&ft.setLocation(B,qn.ON,J),ft.isArea(B)){var yt=ft.getLocation(B,qn.LEFT),vt=ft.getLocation(B,qn.RIGHT);if(vt!==xn.NONE){if(vt!==J)throw new Vc("side location conflict",at.getCoordinate());yt===xn.NONE&&ni.shouldNeverReachHere("found single null side (at "+at.getCoordinate()+")"),J=yt}else ni.isTrue(ft.getLocation(B,qn.LEFT)===xn.NONE,"found single null side"),ft.setLocation(B,qn.RIGHT,J),ft.setLocation(B,qn.LEFT,J)}}},Cs.prototype.getCoordinate=function(){var B=this.iterator();return B.hasNext()?B.next().getCoordinate():null},Cs.prototype.print=function(B){Rs.out.println("EdgeEndStar:   "+this.getCoordinate());for(var U=this.iterator();U.hasNext();)U.next().print(B)},Cs.prototype.isAreaLabelsConsistent=function(B){return this.computeEdgeEndLabels(B.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Cs.prototype.checkAreaLabelsConsistent=function(B){var U=this.getEdges();if(U.size()<=0)return!0;var G=U.size()-1,Q=U.get(G).getLabel().getLocation(B,qn.LEFT);ni.isTrue(Q!==xn.NONE,"Found unlabelled area edge");for(var J=Q,rt=this.iterator();rt.hasNext();){var at=rt.next().getLabel();ni.isTrue(at.isArea(B),"Found non-area edge");var ft=at.getLocation(B,qn.LEFT),yt=at.getLocation(B,qn.RIGHT);if(ft===yt||yt!==J)return!1;J=ft}return!0},Cs.prototype.findIndex=function(B){this.iterator();for(var U=0;U<this._edgeList.size();U++)if(this._edgeList.get(U)===B)return U;return-1},Cs.prototype.iterator=function(){return this.getEdges().iterator()},Cs.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new nr(this._edgeMap.values())),this._edgeList},Cs.prototype.getLocation=function(B,U,G){return this._ptInAreaLocation[B]===xn.NONE&&(this._ptInAreaLocation[B]=ya.locate(U,G[B].getGeometry())),this._ptInAreaLocation[B]},Cs.prototype.toString=function(){var B=new Yl;B.append("EdgeEndStar:   "+this.getCoordinate()),B.append(`
`);for(var U=this.iterator();U.hasNext();){var G=U.next();B.append(G),B.append(`
`)}return B.toString()},Cs.prototype.computeEdgeEndLabels=function(B){for(var U=this.iterator();U.hasNext();)U.next().computeLabel(B)},Cs.prototype.computeLabelling=function(B){this.computeEdgeEndLabels(B[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var U=[!1,!1],G=this.iterator();G.hasNext();)for(var Q=G.next().getLabel(),J=0;J<2;J++)Q.isLine(J)&&Q.getLocation(J)===xn.BOUNDARY&&(U[J]=!0);for(var rt=this.iterator();rt.hasNext();)for(var at=rt.next(),ft=at.getLabel(),yt=0;yt<2;yt++)if(ft.isAnyNull(yt)){var vt=xn.NONE;if(U[yt])vt=xn.EXTERIOR;else{var Tt=at.getCoordinate();vt=this.getLocation(yt,Tt,B)}ft.setAllLocationsIfNull(yt,vt)}},Cs.prototype.getDegree=function(){return this._edgeMap.size()},Cs.prototype.insertEdgeEnd=function(B,U){this._edgeMap.put(B,U),this._edgeList=null},Cs.prototype.interfaces_=function(){return[]},Cs.prototype.getClass=function(){return Cs};var Ly=function(B){function U(){B.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.linkResultDirectedEdges=function(){var G=this;this.getResultAreaEdges();for(var Q=null,J=null,rt=this._SCANNING_FOR_INCOMING,at=0;at<this._resultAreaEdgeList.size();at++){var ft=G._resultAreaEdgeList.get(at),yt=ft.getSym();if(ft.getLabel().isArea())switch(Q===null&&ft.isInResult()&&(Q=ft),rt){case G._SCANNING_FOR_INCOMING:if(!yt.isInResult())continue;J=yt,rt=G._LINKING_TO_OUTGOING;break;case G._LINKING_TO_OUTGOING:if(!ft.isInResult())continue;J.setNext(ft),rt=G._SCANNING_FOR_INCOMING}}if(rt===this._LINKING_TO_OUTGOING){if(Q===null)throw new Vc("no outgoing dirEdge found",this.getCoordinate());ni.isTrue(Q.isInResult(),"unable to link last incoming dirEdge"),J.setNext(Q)}},U.prototype.insert=function(G){var Q=G;this.insertEdgeEnd(Q,Q)},U.prototype.getRightmostEdge=function(){var G=this.getEdges(),Q=G.size();if(Q<1)return null;var J=G.get(0);if(Q===1)return J;var rt=G.get(Q-1),at=J.getQuadrant(),ft=rt.getQuadrant();return lo.isNorthern(at)&&lo.isNorthern(ft)?J:lo.isNorthern(at)||lo.isNorthern(ft)?J.getDy()!==0?J:rt.getDy()!==0?rt:(ni.shouldNeverReachHere("found two horizontal edges incident on node"),null):rt},U.prototype.print=function(G){Rs.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var Q=this.iterator();Q.hasNext();){var J=Q.next();G.print("out "),J.print(G),G.println(),G.print("in "),J.getSym().print(G),G.println()}},U.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new nr;for(var G=this.iterator();G.hasNext();){var Q=G.next();(Q.isInResult()||Q.getSym().isInResult())&&this._resultAreaEdgeList.add(Q)}return this._resultAreaEdgeList},U.prototype.updateLabelling=function(G){for(var Q=this.iterator();Q.hasNext();){var J=Q.next().getLabel();J.setAllLocationsIfNull(0,G.getLocation(0)),J.setAllLocationsIfNull(1,G.getLocation(1))}},U.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var G=null,Q=null,J=this._edgeList.size()-1;J>=0;J--){var rt=this._edgeList.get(J),at=rt.getSym();Q===null&&(Q=at),G!==null&&at.setNext(G),G=rt}Q.setNext(G)},U.prototype.computeDepths=function(){var G=this;if(arguments.length===1){var Q=arguments[0],J=this.findIndex(Q),rt=Q.getDepth(qn.LEFT),at=Q.getDepth(qn.RIGHT),ft=this.computeDepths(J+1,this._edgeList.size(),rt),yt=this.computeDepths(0,J,ft);if(yt!==at)throw new Vc("depth mismatch at "+Q.getCoordinate())}else if(arguments.length===3){for(var vt=arguments[0],Tt=arguments[1],xt=arguments[2],It=xt,Gt=vt;Gt<Tt;Gt++){var Wt=G._edgeList.get(Gt);Wt.setEdgeDepths(qn.RIGHT,It),It=Wt.getDepth(qn.LEFT)}return It}},U.prototype.mergeSymLabels=function(){for(var G=this.iterator();G.hasNext();){var Q=G.next();Q.getLabel().merge(Q.getSym().getLabel())}},U.prototype.linkMinimalDirectedEdges=function(G){for(var Q=this,J=null,rt=null,at=this._SCANNING_FOR_INCOMING,ft=this._resultAreaEdgeList.size()-1;ft>=0;ft--){var yt=Q._resultAreaEdgeList.get(ft),vt=yt.getSym();switch(J===null&&yt.getEdgeRing()===G&&(J=yt),at){case Q._SCANNING_FOR_INCOMING:if(vt.getEdgeRing()!==G)continue;rt=vt,at=Q._LINKING_TO_OUTGOING;break;case Q._LINKING_TO_OUTGOING:if(yt.getEdgeRing()!==G)continue;rt.setNextMin(yt),at=Q._SCANNING_FOR_INCOMING}}at===this._LINKING_TO_OUTGOING&&(ni.isTrue(J!==null,"found null for first outgoing dirEdge"),ni.isTrue(J.getEdgeRing()===G,"unable to link last incoming dirEdge"),rt.setNextMin(J))},U.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var G=0,Q=this.iterator();Q.hasNext();){var J=Q.next();J.isInResult()&&G++}return G}if(arguments.length===1){for(var rt=arguments[0],at=0,ft=this.iterator();ft.hasNext();){var yt=ft.next();yt.getEdgeRing()===rt&&at++}return at}},U.prototype.getLabel=function(){return this._label},U.prototype.findCoveredLineEdges=function(){for(var G=xn.NONE,Q=this.iterator();Q.hasNext();){var J=Q.next(),rt=J.getSym();if(!J.isLineEdge()){if(J.isInResult()){G=xn.INTERIOR;break}if(rt.isInResult()){G=xn.EXTERIOR;break}}}if(G===xn.NONE)return null;for(var at=G,ft=this.iterator();ft.hasNext();){var yt=ft.next(),vt=yt.getSym();yt.isLineEdge()?yt.getEdge().setCovered(at===xn.INTERIOR):(yt.isInResult()&&(at=xn.EXTERIOR),vt.isInResult()&&(at=xn.INTERIOR))}},U.prototype.computeLabelling=function(G){B.prototype.computeLabelling.call(this,G),this._label=new so(xn.NONE);for(var Q=this.iterator();Q.hasNext();)for(var J=Q.next().getEdge().getLabel(),rt=0;rt<2;rt++){var at=J.getLocation(rt);at!==xn.INTERIOR&&at!==xn.BOUNDARY||this._label.setLocation(rt,xn.INTERIOR)}},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Cs),s1=function(B){function U(){B.apply(this,arguments)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.createNode=function(G){return new zp(G,new Ly)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Id),Su=function B(){this._pts=null,this._orientation=null;var U=arguments[0];this._pts=U,this._orientation=B.orientation(U)};Su.prototype.compareTo=function(B){var U=B;return Su.compareOriented(this._pts,this._orientation,U._pts,U._orientation)},Su.prototype.interfaces_=function(){return[ol]},Su.prototype.getClass=function(){return Su},Su.orientation=function(B){return fi.increasingDirection(B)===1},Su.compareOriented=function(B,U,G,Q){for(var J=U?1:-1,rt=Q?1:-1,at=U?B.length:-1,ft=Q?G.length:-1,yt=U?0:B.length-1,vt=Q?0:G.length-1;;){var Tt=B[yt].compareTo(G[vt]);if(Tt!==0)return Tt;var xt=(yt+=J)===at,It=(vt+=rt)===ft;if(xt&&!It)return-1;if(!xt&&It)return 1;if(xt&&It)return 0}};var Pa=function(){this._edges=new nr,this._ocaMap=new Ys};Pa.prototype.print=function(B){B.print("MULTILINESTRING ( ");for(var U=0;U<this._edges.size();U++){var G=this._edges.get(U);U>0&&B.print(","),B.print("(");for(var Q=G.getCoordinates(),J=0;J<Q.length;J++)J>0&&B.print(","),B.print(Q[J].x+" "+Q[J].y);B.println(")")}B.print(")  ")},Pa.prototype.addAll=function(B){for(var U=B.iterator();U.hasNext();)this.add(U.next())},Pa.prototype.findEdgeIndex=function(B){for(var U=0;U<this._edges.size();U++)if(this._edges.get(U).equals(B))return U;return-1},Pa.prototype.iterator=function(){return this._edges.iterator()},Pa.prototype.getEdges=function(){return this._edges},Pa.prototype.get=function(B){return this._edges.get(B)},Pa.prototype.findEqualEdge=function(B){var U=new Su(B.getCoordinates());return this._ocaMap.get(U)},Pa.prototype.add=function(B){this._edges.add(B);var U=new Su(B.getCoordinates());this._ocaMap.put(U,B)},Pa.prototype.interfaces_=function(){return[]},Pa.prototype.getClass=function(){return Pa};var rh=function(){};rh.prototype.processIntersections=function(B,U,G,Q){},rh.prototype.isDone=function(){},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh};var za=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var B=arguments[0];this._li=B};za.prototype.isTrivialIntersection=function(B,U,G,Q){if(B===G&&this._li.getIntersectionNum()===1){if(za.isAdjacentSegments(U,Q))return!0;if(B.isClosed()){var J=B.size()-1;if(U===0&&Q===J||Q===0&&U===J)return!0}}return!1},za.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},za.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},za.prototype.getLineIntersector=function(){return this._li},za.prototype.hasProperIntersection=function(){return this._hasProper},za.prototype.processIntersections=function(B,U,G,Q){if(B===G&&U===Q)return null;this.numTests++;var J=B.getCoordinates()[U],rt=B.getCoordinates()[U+1],at=G.getCoordinates()[Q],ft=G.getCoordinates()[Q+1];this._li.computeIntersection(J,rt,at,ft),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(B,U,G,Q)||(this._hasIntersection=!0,B.addIntersections(this._li,U,0),G.addIntersections(this._li,Q,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},za.prototype.hasIntersection=function(){return this._hasIntersection},za.prototype.isDone=function(){return!1},za.prototype.hasInteriorIntersection=function(){return this._hasInterior},za.prototype.interfaces_=function(){return[rh]},za.prototype.getClass=function(){return za},za.isAdjacentSegments=function(B,U){return Math.abs(B-U)===1};var Jl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var B=arguments[0],U=arguments[1],G=arguments[2];this.coord=new pn(B),this.segmentIndex=U,this.dist=G};Jl.prototype.getSegmentIndex=function(){return this.segmentIndex},Jl.prototype.getCoordinate=function(){return this.coord},Jl.prototype.print=function(B){B.print(this.coord),B.print(" seg # = "+this.segmentIndex),B.println(" dist = "+this.dist)},Jl.prototype.compareTo=function(B){var U=B;return this.compare(U.segmentIndex,U.dist)},Jl.prototype.isEndPoint=function(B){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===B},Jl.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Jl.prototype.getDistance=function(){return this.dist},Jl.prototype.compare=function(B,U){return this.segmentIndex<B?-1:this.segmentIndex>B?1:this.dist<U?-1:this.dist>U?1:0},Jl.prototype.interfaces_=function(){return[ol]},Jl.prototype.getClass=function(){return Jl};var Ji=function(){this._nodeMap=new Ys,this.edge=null;var B=arguments[0];this.edge=B};Ji.prototype.print=function(B){B.println("Intersections:");for(var U=this.iterator();U.hasNext();)U.next().print(B)},Ji.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ji.prototype.addSplitEdges=function(B){this.addEndpoints();for(var U=this.iterator(),G=U.next();U.hasNext();){var Q=U.next(),J=this.createSplitEdge(G,Q);B.add(J),G=Q}},Ji.prototype.addEndpoints=function(){var B=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[B],B,0)},Ji.prototype.createSplitEdge=function(B,U){var G=U.segmentIndex-B.segmentIndex+2,Q=this.edge.pts[U.segmentIndex],J=U.dist>0||!U.coord.equals2D(Q);J||G--;var rt=new Array(G).fill(null),at=0;rt[at++]=new pn(B.coord);for(var ft=B.segmentIndex+1;ft<=U.segmentIndex;ft++)rt[at++]=this.edge.pts[ft];return J&&(rt[at]=U.coord),new zd(rt,new so(this.edge._label))},Ji.prototype.add=function(B,U,G){var Q=new Jl(B,U,G),J=this._nodeMap.get(Q);return J!==null?J:(this._nodeMap.put(Q,Q),Q)},Ji.prototype.isIntersection=function(B){for(var U=this.iterator();U.hasNext();)if(U.next().coord.equals(B))return!0;return!1},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji};var Cu=function(){};Cu.prototype.getChainStartIndices=function(B){var U=0,G=new nr;G.add(new Hl(U));do{var Q=this.findChainEnd(B,U);G.add(new Hl(Q)),U=Q}while(U<B.length-1);return Cu.toIntArray(G)},Cu.prototype.findChainEnd=function(B,U){for(var G=lo.quadrant(B[U],B[U+1]),Q=U+1;Q<B.length&&lo.quadrant(B[Q-1],B[Q])===G;)Q++;return Q-1},Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu},Cu.toIntArray=function(B){for(var U=new Array(B.size()).fill(null),G=0;G<U.length;G++)U[G]=B.get(G).intValue();return U};var us=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Sr,this.env2=new Sr;var B=arguments[0];this.e=B,this.pts=B.getCoordinates();var U=new Cu;this.startIndex=U.getChainStartIndices(this.pts)};us.prototype.getCoordinates=function(){return this.pts},us.prototype.getMaxX=function(B){var U=this.pts[this.startIndex[B]].x,G=this.pts[this.startIndex[B+1]].x;return U>G?U:G},us.prototype.getMinX=function(B){var U=this.pts[this.startIndex[B]].x,G=this.pts[this.startIndex[B+1]].x;return U<G?U:G},us.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var B=arguments[0],U=arguments[1],G=arguments[2],Q=arguments[3];this.computeIntersectsForChain(this.startIndex[B],this.startIndex[B+1],U,U.startIndex[G],U.startIndex[G+1],Q)}else if(arguments.length===6){var J=arguments[0],rt=arguments[1],at=arguments[2],ft=arguments[3],yt=arguments[4],vt=arguments[5],Tt=this.pts[J],xt=this.pts[rt],It=at.pts[ft],Gt=at.pts[yt];if(rt-J==1&&yt-ft==1)return vt.addIntersections(this.e,J,at.e,ft),null;if(this.env1.init(Tt,xt),this.env2.init(It,Gt),!this.env1.intersects(this.env2))return null;var Wt=Math.trunc((J+rt)/2),ee=Math.trunc((ft+yt)/2);J<Wt&&(ft<ee&&this.computeIntersectsForChain(J,Wt,at,ft,ee,vt),ee<yt&&this.computeIntersectsForChain(J,Wt,at,ee,yt,vt)),Wt<rt&&(ft<ee&&this.computeIntersectsForChain(Wt,rt,at,ft,ee,vt),ee<yt&&this.computeIntersectsForChain(Wt,rt,at,ee,yt,vt))}},us.prototype.getStartIndexes=function(){return this.startIndex},us.prototype.computeIntersects=function(B,U){for(var G=0;G<this.startIndex.length-1;G++)for(var Q=0;Q<B.startIndex.length-1;Q++)this.computeIntersectsForChain(G,B,Q,U)},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us};var ts=function B(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var U=0;U<2;U++)for(var G=0;G<3;G++)this._depth[U][G]=B.NULL_VALUE},wc={NULL_VALUE:{configurable:!0}};ts.prototype.getDepth=function(B,U){return this._depth[B][U]},ts.prototype.setDepth=function(B,U,G){this._depth[B][U]=G},ts.prototype.isNull=function(){var B=this;if(arguments.length===0){for(var U=0;U<2;U++)for(var G=0;G<3;G++)if(B._depth[U][G]!==ts.NULL_VALUE)return!1;return!0}if(arguments.length===1){var Q=arguments[0];return this._depth[Q][1]===ts.NULL_VALUE}if(arguments.length===2){var J=arguments[0],rt=arguments[1];return this._depth[J][rt]===ts.NULL_VALUE}},ts.prototype.normalize=function(){for(var B=this,U=0;U<2;U++)if(!B.isNull(U)){var G=B._depth[U][1];B._depth[U][2]<G&&(G=B._depth[U][2]),G<0&&(G=0);for(var Q=1;Q<3;Q++){var J=0;B._depth[U][Q]>G&&(J=1),B._depth[U][Q]=J}}},ts.prototype.getDelta=function(B){return this._depth[B][qn.RIGHT]-this._depth[B][qn.LEFT]},ts.prototype.getLocation=function(B,U){return this._depth[B][U]<=0?xn.EXTERIOR:xn.INTERIOR},ts.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ts.prototype.add=function(){var B=this;if(arguments.length===1)for(var U=arguments[0],G=0;G<2;G++)for(var Q=1;Q<3;Q++){var J=U.getLocation(G,Q);J!==xn.EXTERIOR&&J!==xn.INTERIOR||(B.isNull(G,Q)?B._depth[G][Q]=ts.depthAtLocation(J):B._depth[G][Q]+=ts.depthAtLocation(J))}else if(arguments.length===3){var rt=arguments[0],at=arguments[1],ft=arguments[2];ft===xn.INTERIOR&&this._depth[rt][at]++}},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts},ts.depthAtLocation=function(B){return B===xn.EXTERIOR?0:B===xn.INTERIOR?1:ts.NULL_VALUE},wc.NULL_VALUE.get=function(){return-1},Object.defineProperties(ts,wc);var zd=function(B){function U(){if(B.call(this),this.pts=null,this._env=null,this.eiList=new Ji(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ts,this._depthDelta=0,arguments.length===1){var G=arguments[0];U.call(this,G,null)}else if(arguments.length===2){var Q=arguments[0],J=arguments[1];this.pts=Q,this._label=J}}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.getDepth=function(){return this._depth},U.prototype.getCollapsedEdge=function(){var G=new Array(2).fill(null);return G[0]=this.pts[0],G[1]=this.pts[1],new U(G,so.toLineLabel(this._label))},U.prototype.isIsolated=function(){return this._isIsolated},U.prototype.getCoordinates=function(){return this.pts},U.prototype.setIsolated=function(G){this._isIsolated=G},U.prototype.setName=function(G){this._name=G},U.prototype.equals=function(G){if(!(G instanceof U))return!1;var Q=G;if(this.pts.length!==Q.pts.length)return!1;for(var J=!0,rt=!0,at=this.pts.length,ft=0;ft<this.pts.length;ft++)if(this.pts[ft].equals2D(Q.pts[ft])||(J=!1),this.pts[ft].equals2D(Q.pts[--at])||(rt=!1),!J&&!rt)return!1;return!0},U.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var G=arguments[0];return this.pts[G]}},U.prototype.print=function(G){G.print("edge "+this._name+": "),G.print("LINESTRING (");for(var Q=0;Q<this.pts.length;Q++)Q>0&&G.print(","),G.print(this.pts[Q].x+" "+this.pts[Q].y);G.print(")  "+this._label+" "+this._depthDelta)},U.prototype.computeIM=function(G){U.updateIM(this._label,G)},U.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},U.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},U.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},U.prototype.getDepthDelta=function(){return this._depthDelta},U.prototype.getNumPoints=function(){return this.pts.length},U.prototype.printReverse=function(G){G.print("edge "+this._name+": ");for(var Q=this.pts.length-1;Q>=0;Q--)G.print(this.pts[Q]+" ");G.println("")},U.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new us(this)),this._mce},U.prototype.getEnvelope=function(){if(this._env===null){this._env=new Sr;for(var G=0;G<this.pts.length;G++)this._env.expandToInclude(this.pts[G])}return this._env},U.prototype.addIntersection=function(G,Q,J,rt){var at=new pn(G.getIntersection(rt)),ft=Q,yt=G.getEdgeDistance(J,rt),vt=ft+1;if(vt<this.pts.length){var Tt=this.pts[vt];at.equals2D(Tt)&&(ft=vt,yt=0)}this.eiList.add(at,ft,yt)},U.prototype.toString=function(){var G=new Yl;G.append("edge "+this._name+": "),G.append("LINESTRING (");for(var Q=0;Q<this.pts.length;Q++)Q>0&&G.append(","),G.append(this.pts[Q].x+" "+this.pts[Q].y);return G.append(")  "+this._label+" "+this._depthDelta),G.toString()},U.prototype.isPointwiseEqual=function(G){if(this.pts.length!==G.pts.length)return!1;for(var Q=0;Q<this.pts.length;Q++)if(!this.pts[Q].equals2D(G.pts[Q]))return!1;return!0},U.prototype.setDepthDelta=function(G){this._depthDelta=G},U.prototype.getEdgeIntersectionList=function(){return this.eiList},U.prototype.addIntersections=function(G,Q,J){for(var rt=0;rt<G.getIntersectionNum();rt++)this.addIntersection(G,Q,J,rt)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.updateIM=function(){if(arguments.length!==2)return B.prototype.updateIM.apply(this,arguments);var G=arguments[0],Q=arguments[1];Q.setAtLeastIfValid(G.getLocation(0,qn.ON),G.getLocation(1,qn.ON),1),G.isArea()&&(Q.setAtLeastIfValid(G.getLocation(0,qn.LEFT),G.getLocation(1,qn.LEFT),2),Q.setAtLeastIfValid(G.getLocation(0,qn.RIGHT),G.getLocation(1,qn.RIGHT),2))},U}(La),ks=function(B){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Pa,this._bufParams=B||null};ks.prototype.setWorkingPrecisionModel=function(B){this._workingPrecisionModel=B},ks.prototype.insertUniqueEdge=function(B){var U=this._edgeList.findEqualEdge(B);if(U!==null){var G=U.getLabel(),Q=B.getLabel();U.isPointwiseEqual(B)||(Q=new so(B.getLabel())).flip(),G.merge(Q);var J=ks.depthDelta(Q),rt=U.getDepthDelta()+J;U.setDepthDelta(rt)}else this._edgeList.add(B),B.setDepthDelta(ks.depthDelta(B.getLabel()))},ks.prototype.buildSubgraphs=function(B,U){for(var G=new nr,Q=B.iterator();Q.hasNext();){var J=Q.next(),rt=J.getRightmostCoordinate(),at=new Fh(G).getDepth(rt);J.computeDepth(at),J.findResultEdges(),G.add(J),U.add(J.getDirectedEdges(),J.getNodes())}},ks.prototype.createSubgraphs=function(B){for(var U=new nr,G=B.getNodes().iterator();G.hasNext();){var Q=G.next();if(!Q.isVisited()){var J=new Hs;J.create(Q),U.add(J)}}return kl.sort(U,kl.reverseOrder()),U},ks.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ks.prototype.getNoder=function(B){if(this._workingNoder!==null)return this._workingNoder;var U=new a0,G=new wu;return G.setPrecisionModel(B),U.setSegmentIntersector(new za(G)),U},ks.prototype.buffer=function(B,U){var G=this._workingPrecisionModel;G===null&&(G=B.getPrecisionModel()),this._geomFact=B.getFactory();var Q=new Ar(G,this._bufParams),J=new ma(B,U,Q).getCurves();if(J.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(J,G),this._graph=new Oo(new s1),this._graph.addEdges(this._edgeList.getEdges());var rt=this.createSubgraphs(this._graph),at=new pa(this._geomFact);this.buildSubgraphs(rt,at);var ft=at.getPolygons();return ft.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(ft)},ks.prototype.computeNodedEdges=function(B,U){var G=this.getNoder(U);G.computeNodes(B);for(var Q=G.getNodedSubstrings().iterator();Q.hasNext();){var J=Q.next(),rt=J.getCoordinates();if(rt.length!==2||!rt[0].equals2D(rt[1])){var at=J.getData(),ft=new zd(J.getCoordinates(),new so(at));this.insertUniqueEdge(ft)}}},ks.prototype.setNoder=function(B){this._workingNoder=B},ks.prototype.interfaces_=function(){return[]},ks.prototype.getClass=function(){return ks},ks.depthDelta=function(B){var U=B.getLocation(0,qn.LEFT),G=B.getLocation(0,qn.RIGHT);return U===xn.INTERIOR&&G===xn.EXTERIOR?1:U===xn.EXTERIOR&&G===xn.INTERIOR?-1:0},ks.convertSegStrings=function(B){for(var U=new gi,G=new nr;B.hasNext();){var Q=B.next(),J=U.createLineString(Q.getCoordinates());G.add(J)}return U.buildGeometry(G)};var ku=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var B=arguments[0],U=arguments[1];this._noder=B,this._scaleFactor=U,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var G=arguments[0],Q=arguments[1],J=arguments[2],rt=arguments[3];this._noder=G,this._scaleFactor=Q,this._offsetX=J,this._offsetY=rt,this._isScaled=!this.isIntegerPrecision()}};ku.prototype.rescale=function(){var B=this;if(Ur(arguments[0],as))for(var U=arguments[0],G=U.iterator();G.hasNext();){var Q=G.next();B.rescale(Q.getCoordinates())}else if(arguments[0]instanceof Array){for(var J=arguments[0],rt=0;rt<J.length;rt++)J[rt].x=J[rt].x/B._scaleFactor+B._offsetX,J[rt].y=J[rt].y/B._scaleFactor+B._offsetY;J.length===2&&J[0].equals2D(J[1])&&Rs.out.println(J)}},ku.prototype.scale=function(){var B=this;if(Ur(arguments[0],as)){for(var U=arguments[0],G=new nr,Q=U.iterator();Q.hasNext();){var J=Q.next();G.add(new Ro(B.scale(J.getCoordinates()),J.getData()))}return G}if(arguments[0]instanceof Array){for(var rt=arguments[0],at=new Array(rt.length).fill(null),ft=0;ft<rt.length;ft++)at[ft]=new pn(Math.round((rt[ft].x-B._offsetX)*B._scaleFactor),Math.round((rt[ft].y-B._offsetY)*B._scaleFactor),rt[ft].z);var yt=fi.removeRepeatedPoints(at);return yt}},ku.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},ku.prototype.getNodedSubstrings=function(){var B=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(B),B},ku.prototype.computeNodes=function(B){var U=B;this._isScaled&&(U=this.scale(B)),this._noder.computeNodes(U)},ku.prototype.interfaces_=function(){return[th]},ku.prototype.getClass=function(){return ku};var Va=function(){this._li=new wu,this._segStrings=null;var B=arguments[0];this._segStrings=B},Uh={fact:{configurable:!0}};Va.prototype.checkEndPtVertexIntersections=function(){var B=this;if(arguments.length===0)for(var U=this._segStrings.iterator();U.hasNext();){var G=U.next(),Q=G.getCoordinates();B.checkEndPtVertexIntersections(Q[0],B._segStrings),B.checkEndPtVertexIntersections(Q[Q.length-1],B._segStrings)}else if(arguments.length===2){for(var J=arguments[0],rt=arguments[1],at=rt.iterator();at.hasNext();)for(var ft=at.next(),yt=ft.getCoordinates(),vt=1;vt<yt.length-1;vt++)if(yt[vt].equals(J))throw new Uc("found endpt/interior pt intersection at index "+vt+" :pt "+J)}},Va.prototype.checkInteriorIntersections=function(){var B=this;if(arguments.length===0)for(var U=this._segStrings.iterator();U.hasNext();)for(var G=U.next(),Q=this._segStrings.iterator();Q.hasNext();){var J=Q.next();B.checkInteriorIntersections(G,J)}else if(arguments.length===2)for(var rt=arguments[0],at=arguments[1],ft=rt.getCoordinates(),yt=at.getCoordinates(),vt=0;vt<ft.length-1;vt++)for(var Tt=0;Tt<yt.length-1;Tt++)B.checkInteriorIntersections(rt,vt,at,Tt);else if(arguments.length===4){var xt=arguments[0],It=arguments[1],Gt=arguments[2],Wt=arguments[3];if(xt===Gt&&It===Wt)return null;var ee=xt.getCoordinates()[It],Bt=xt.getCoordinates()[It+1],me=Gt.getCoordinates()[Wt],Ie=Gt.getCoordinates()[Wt+1];if(this._li.computeIntersection(ee,Bt,me,Ie),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,ee,Bt)||this.hasInteriorIntersection(this._li,me,Ie)))throw new Uc("found non-noded intersection at "+ee+"-"+Bt+" and "+me+"-"+Ie)}},Va.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Va.prototype.checkCollapses=function(){var B=this;if(arguments.length===0)for(var U=this._segStrings.iterator();U.hasNext();){var G=U.next();B.checkCollapses(G)}else if(arguments.length===1)for(var Q=arguments[0],J=Q.getCoordinates(),rt=0;rt<J.length-2;rt++)B.checkCollapse(J[rt],J[rt+1],J[rt+2])},Va.prototype.hasInteriorIntersection=function(B,U,G){for(var Q=0;Q<B.getIntersectionNum();Q++){var J=B.getIntersection(Q);if(!J.equals(U)&&!J.equals(G))return!0}return!1},Va.prototype.checkCollapse=function(B,U,G){if(B.equals(G))throw new Uc("found non-noded collapse at "+Va.fact.createLineString([B,U,G]))},Va.prototype.interfaces_=function(){return[]},Va.prototype.getClass=function(){return Va},Uh.fact.get=function(){return new gi},Object.defineProperties(Va,Uh);var ra=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var B=arguments[0],U=arguments[1],G=arguments[2];if(this._originalPt=B,this._pt=B,this._scaleFactor=U,this._li=G,U<=0)throw new Ao("Scale factor must be non-zero");U!==1&&(this._pt=new pn(this.scale(B.x),this.scale(B.y)),this._p0Scaled=new pn,this._p1Scaled=new pn),this.initCorners(this._pt)},Ga={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ra.prototype.intersectsScaled=function(B,U){var G=Math.min(B.x,U.x),Q=Math.max(B.x,U.x),J=Math.min(B.y,U.y),rt=Math.max(B.y,U.y),at=this._maxx<G||this._minx>Q||this._maxy<J||this._miny>rt;if(at)return!1;var ft=this.intersectsToleranceSquare(B,U);return ni.isTrue(!(at&&ft),"Found bad envelope test"),ft},ra.prototype.initCorners=function(B){var U=.5;this._minx=B.x-U,this._maxx=B.x+U,this._miny=B.y-U,this._maxy=B.y+U,this._corner[0]=new pn(this._maxx,this._maxy),this._corner[1]=new pn(this._minx,this._maxy),this._corner[2]=new pn(this._minx,this._miny),this._corner[3]=new pn(this._maxx,this._miny)},ra.prototype.intersects=function(B,U){return this._scaleFactor===1?this.intersectsScaled(B,U):(this.copyScaled(B,this._p0Scaled),this.copyScaled(U,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ra.prototype.scale=function(B){return Math.round(B*this._scaleFactor)},ra.prototype.getCoordinate=function(){return this._originalPt},ra.prototype.copyScaled=function(B,U){U.x=this.scale(B.x),U.y=this.scale(B.y)},ra.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var B=ra.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Sr(this._originalPt.x-B,this._originalPt.x+B,this._originalPt.y-B,this._originalPt.y+B)}return this._safeEnv},ra.prototype.intersectsPixelClosure=function(B,U){return this._li.computeIntersection(B,U,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(B,U,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(B,U,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(B,U,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},ra.prototype.intersectsToleranceSquare=function(B,U){var G=!1,Q=!1;return this._li.computeIntersection(B,U,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(B,U,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(G=!0),this._li.computeIntersection(B,U,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(Q=!0),this._li.computeIntersection(B,U,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!G||!Q)||!!B.equals(this._pt)||!!U.equals(this._pt))))},ra.prototype.addSnappedNode=function(B,U){var G=B.getCoordinate(U),Q=B.getCoordinate(U+1);return!!this.intersects(G,Q)&&(B.addIntersection(this.getCoordinate(),U),!0)},ra.prototype.interfaces_=function(){return[]},ra.prototype.getClass=function(){return ra},Ga.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(ra,Ga);var es=function(){this.tempEnv1=new Sr,this.selectedSegment=new Tr};es.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var B=arguments[0],U=arguments[1];B.getLineSegment(U,this.selectedSegment),this.select(this.selectedSegment)}}},es.prototype.interfaces_=function(){return[]},es.prototype.getClass=function(){return es};var xc=function(){this._index=null;var B=arguments[0];this._index=B},Bf={HotPixelSnapAction:{configurable:!0}};xc.prototype.snap=function(){if(arguments.length===1){var B=arguments[0];return this.snap(B,null,-1)}if(arguments.length===3){var U=arguments[0],G=arguments[1],Q=arguments[2],J=U.getSafeEnvelope(),rt=new Rd(U,G,Q);return this._index.query(J,{interfaces_:function(){return[Mu]},visitItem:function(at){at.select(J,rt)}}),rt.isNodeAdded()}},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc},Bf.HotPixelSnapAction.get=function(){return Rd},Object.defineProperties(xc,Bf);var Rd=function(B){function U(){B.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var G=arguments[0],Q=arguments[1],J=arguments[2];this._hotPixel=G,this._parentEdge=Q,this._hotPixelVertexIndex=J}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.isNodeAdded=function(){return this._isNodeAdded},U.prototype.select=function(){if(arguments.length!==2)return B.prototype.select.apply(this,arguments);var G=arguments[0],Q=arguments[1],J=G.getContext();if(this._parentEdge!==null&&J===this._parentEdge&&Q===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(J,Q)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(es),Yh=function(){this._li=null,this._interiorIntersections=null;var B=arguments[0];this._li=B,this._interiorIntersections=new nr};Yh.prototype.processIntersections=function(B,U,G,Q){if(B===G&&U===Q)return null;var J=B.getCoordinates()[U],rt=B.getCoordinates()[U+1],at=G.getCoordinates()[Q],ft=G.getCoordinates()[Q+1];if(this._li.computeIntersection(J,rt,at,ft),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var yt=0;yt<this._li.getIntersectionNum();yt++)this._interiorIntersections.add(this._li.getIntersection(yt));B.addIntersections(this._li,U,0),G.addIntersections(this._li,Q,1)}},Yh.prototype.isDone=function(){return!1},Yh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Yh.prototype.interfaces_=function(){return[rh]},Yh.prototype.getClass=function(){return Yh};var Ec=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var B=arguments[0];this._pm=B,this._li=new wu,this._li.setPrecisionModel(B),this._scaleFactor=B.getScale()};Ec.prototype.checkCorrectness=function(B){var U=Ro.getNodedSubstrings(B),G=new Va(U);try{G.checkValid()}catch(Q){if(!(Q instanceof Fm))throw Q;Q.printStackTrace()}},Ec.prototype.getNodedSubstrings=function(){return Ro.getNodedSubstrings(this._nodedSegStrings)},Ec.prototype.snapRound=function(B,U){var G=this.findInteriorIntersections(B,U);this.computeIntersectionSnaps(G),this.computeVertexSnaps(B)},Ec.prototype.findInteriorIntersections=function(B,U){var G=new Yh(U);return this._noder.setSegmentIntersector(G),this._noder.computeNodes(B),G.getInteriorIntersections()},Ec.prototype.computeVertexSnaps=function(){var B=this;if(Ur(arguments[0],as))for(var U=arguments[0],G=U.iterator();G.hasNext();){var Q=G.next();B.computeVertexSnaps(Q)}else if(arguments[0]instanceof Ro)for(var J=arguments[0],rt=J.getCoordinates(),at=0;at<rt.length;at++){var ft=new ra(rt[at],B._scaleFactor,B._li),yt=B._pointSnapper.snap(ft,J,at);yt&&J.addIntersection(rt[at],at)}},Ec.prototype.computeNodes=function(B){this._nodedSegStrings=B,this._noder=new a0,this._pointSnapper=new xc(this._noder.getIndex()),this.snapRound(B,this._li)},Ec.prototype.computeIntersectionSnaps=function(B){for(var U=this,G=B.iterator();G.hasNext();){var Q=G.next(),J=new ra(Q,U._scaleFactor,U._li);U._pointSnapper.snap(J)}},Ec.prototype.interfaces_=function(){return[th]},Ec.prototype.getClass=function(){return Ec};var yo=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new no,this._resultGeometry=null,this._saveException=null,arguments.length===1){var B=arguments[0];this._argGeom=B}else if(arguments.length===2){var U=arguments[0],G=arguments[1];this._argGeom=U,this._bufParams=G}},Wa={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};yo.prototype.bufferFixedPrecision=function(B){var U=new ku(new Ec(new eo(1)),B.getScale()),G=new ks(this._bufParams);G.setWorkingPrecisionModel(B),G.setNoder(U),this._resultGeometry=G.buffer(this._argGeom,this._distance)},yo.prototype.bufferReducedPrecision=function(){var B=this;if(arguments.length===0){for(var U=yo.MAX_PRECISION_DIGITS;U>=0;U--){try{B.bufferReducedPrecision(U)}catch(rt){if(!(rt instanceof Vc))throw rt;B._saveException=rt}if(B._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var G=arguments[0],Q=yo.precisionScaleFactor(this._argGeom,this._distance,G),J=new eo(Q);this.bufferFixedPrecision(J)}},yo.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var B=this._argGeom.getFactory().getPrecisionModel();B.getType()===eo.FIXED?this.bufferFixedPrecision(B):this.bufferReducedPrecision()},yo.prototype.setQuadrantSegments=function(B){this._bufParams.setQuadrantSegments(B)},yo.prototype.bufferOriginalPrecision=function(){try{var B=new ks(this._bufParams);this._resultGeometry=B.buffer(this._argGeom,this._distance)}catch(U){if(!(U instanceof Uc))throw U;this._saveException=U}},yo.prototype.getResultGeometry=function(B){return this._distance=B,this.computeGeometry(),this._resultGeometry},yo.prototype.setEndCapStyle=function(B){this._bufParams.setEndCapStyle(B)},yo.prototype.interfaces_=function(){return[]},yo.prototype.getClass=function(){return yo},yo.bufferOp=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1],G=new yo(B),Q=G.getResultGeometry(U);return Q}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Br&&typeof arguments[1]=="number"){var J=arguments[0],rt=arguments[1],at=arguments[2],ft=new yo(J);ft.setQuadrantSegments(at);var yt=ft.getResultGeometry(rt);return yt}if(arguments[2]instanceof no&&arguments[0]instanceof Br&&typeof arguments[1]=="number"){var vt=arguments[0],Tt=arguments[1],xt=arguments[2],It=new yo(vt,xt),Gt=It.getResultGeometry(Tt);return Gt}}else if(arguments.length===4){var Wt=arguments[0],ee=arguments[1],Bt=arguments[2],me=arguments[3],Ie=new yo(Wt);Ie.setQuadrantSegments(Bt),Ie.setEndCapStyle(me);var Zt=Ie.getResultGeometry(ee);return Zt}},yo.precisionScaleFactor=function(B,U,G){var Q=B.getEnvelopeInternal(),J=Ya.max(Math.abs(Q.getMaxX()),Math.abs(Q.getMaxY()),Math.abs(Q.getMinX()),Math.abs(Q.getMinY()))+2*(U>0?U:0),rt=G-Math.trunc(Math.log(J)/Math.log(10)+1);return Math.pow(10,rt)},Wa.CAP_ROUND.get=function(){return no.CAP_ROUND},Wa.CAP_BUTT.get=function(){return no.CAP_FLAT},Wa.CAP_FLAT.get=function(){return no.CAP_FLAT},Wa.CAP_SQUARE.get=function(){return no.CAP_SQUARE},Wa.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(yo,Wa);var As=function(){this._pt=[new pn,new pn],this._distance=Qr.NaN,this._isNull=!0};As.prototype.getCoordinates=function(){return this._pt},As.prototype.getCoordinate=function(B){return this._pt[B]},As.prototype.setMinimum=function(){if(arguments.length===1){var B=arguments[0];this.setMinimum(B._pt[0],B._pt[1])}else if(arguments.length===2){var U=arguments[0],G=arguments[1];if(this._isNull)return this.initialize(U,G),null;var Q=U.distance(G);Q<this._distance&&this.initialize(U,G,Q)}},As.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var B=arguments[0],U=arguments[1];this._pt[0].setCoordinate(B),this._pt[1].setCoordinate(U),this._distance=B.distance(U),this._isNull=!1}else if(arguments.length===3){var G=arguments[0],Q=arguments[1],J=arguments[2];this._pt[0].setCoordinate(G),this._pt[1].setCoordinate(Q),this._distance=J,this._isNull=!1}},As.prototype.getDistance=function(){return this._distance},As.prototype.setMaximum=function(){if(arguments.length===1){var B=arguments[0];this.setMaximum(B._pt[0],B._pt[1])}else if(arguments.length===2){var U=arguments[0],G=arguments[1];if(this._isNull)return this.initialize(U,G),null;var Q=U.distance(G);Q>this._distance&&this.initialize(U,G,Q)}},As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As};var qa=function(){};qa.prototype.interfaces_=function(){return[]},qa.prototype.getClass=function(){return qa},qa.computeDistance=function(){if(arguments[2]instanceof As&&arguments[0]instanceof No&&arguments[1]instanceof pn)for(var B=arguments[0],U=arguments[1],G=arguments[2],Q=B.getCoordinates(),J=new Tr,rt=0;rt<Q.length-1;rt++){J.setCoordinates(Q[rt],Q[rt+1]);var at=J.closestPoint(U);G.setMinimum(at,U)}else if(arguments[2]instanceof As&&arguments[0]instanceof ls&&arguments[1]instanceof pn){var ft=arguments[0],yt=arguments[1],vt=arguments[2];qa.computeDistance(ft.getExteriorRing(),yt,vt);for(var Tt=0;Tt<ft.getNumInteriorRing();Tt++)qa.computeDistance(ft.getInteriorRingN(Tt),yt,vt)}else if(arguments[2]instanceof As&&arguments[0]instanceof Br&&arguments[1]instanceof pn){var xt=arguments[0],It=arguments[1],Gt=arguments[2];if(xt instanceof No)qa.computeDistance(xt,It,Gt);else if(xt instanceof ls)qa.computeDistance(xt,It,Gt);else if(xt instanceof na)for(var Wt=xt,ee=0;ee<Wt.getNumGeometries();ee++){var Bt=Wt.getGeometryN(ee);qa.computeDistance(Bt,It,Gt)}else Gt.setMinimum(xt.getCoordinate(),It)}else if(arguments[2]instanceof As&&arguments[0]instanceof Tr&&arguments[1]instanceof pn){var me=arguments[0],Ie=arguments[1],Zt=arguments[2],fe=me.closestPoint(Ie);Zt.setMinimum(fe,Ie)}};var Kl=function(B){this._maxPtDist=new As,this._inputGeom=B||null},Fp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Kl.prototype.computeMaxMidpointDistance=function(B){var U=new Mc(this._inputGeom);B.apply(U),this._maxPtDist.setMaximum(U.getMaxPointDistance())},Kl.prototype.computeMaxVertexDistance=function(B){var U=new ih(this._inputGeom);B.apply(U),this._maxPtDist.setMaximum(U.getMaxPointDistance())},Kl.prototype.findDistance=function(B){return this.computeMaxVertexDistance(B),this.computeMaxMidpointDistance(B),this._maxPtDist.getDistance()},Kl.prototype.getDistancePoints=function(){return this._maxPtDist},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl},Fp.MaxPointDistanceFilter.get=function(){return ih},Fp.MaxMidpointDistanceFilter.get=function(){return Mc},Object.defineProperties(Kl,Fp);var ih=function(B){this._maxPtDist=new As,this._minPtDist=new As,this._geom=B||null};ih.prototype.filter=function(B){this._minPtDist.initialize(),qa.computeDistance(this._geom,B,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ih.prototype.getMaxPointDistance=function(){return this._maxPtDist},ih.prototype.interfaces_=function(){return[pc]},ih.prototype.getClass=function(){return ih};var Mc=function(B){this._maxPtDist=new As,this._minPtDist=new As,this._geom=B||null};Mc.prototype.filter=function(B,U){if(U===0)return null;var G=B.getCoordinate(U-1),Q=B.getCoordinate(U),J=new pn((G.x+Q.x)/2,(G.y+Q.y)/2);this._minPtDist.initialize(),qa.computeDistance(this._geom,J,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Mc.prototype.isDone=function(){return!1},Mc.prototype.isGeometryChanged=function(){return!1},Mc.prototype.getMaxPointDistance=function(){return this._maxPtDist},Mc.prototype.interfaces_=function(){return[El]},Mc.prototype.getClass=function(){return Mc};var Gc=function(B){this._comps=B||null};Gc.prototype.filter=function(B){B instanceof ls&&this._comps.add(B)},Gc.prototype.interfaces_=function(){return[Wl]},Gc.prototype.getClass=function(){return Gc},Gc.getPolygons=function(){if(arguments.length===1){var B=arguments[0];return Gc.getPolygons(B,new nr)}if(arguments.length===2){var U=arguments[0],G=arguments[1];return U instanceof ls?G.add(U):U instanceof na&&U.apply(new Gc(G)),G}};var js=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var B=arguments[0];this._lines=B}else if(arguments.length===2){var U=arguments[0],G=arguments[1];this._lines=U,this._isForcedToLineString=G}};js.prototype.filter=function(B){if(this._isForcedToLineString&&B instanceof yc){var U=B.getFactory().createLineString(B.getCoordinateSequence());return this._lines.add(U),null}B instanceof No&&this._lines.add(B)},js.prototype.setForceToLineString=function(B){this._isForcedToLineString=B},js.prototype.interfaces_=function(){return[dc]},js.prototype.getClass=function(){return js},js.getGeometry=function(){if(arguments.length===1){var B=arguments[0];return B.getFactory().buildGeometry(js.getLines(B))}if(arguments.length===2){var U=arguments[0],G=arguments[1];return U.getFactory().buildGeometry(js.getLines(U,G))}},js.getLines=function(){if(arguments.length===1){var B=arguments[0];return js.getLines(B,!1)}if(arguments.length===2){if(Ur(arguments[0],as)&&Ur(arguments[1],as)){for(var U=arguments[0],G=arguments[1],Q=U.iterator();Q.hasNext();){var J=Q.next();js.getLines(J,G)}return G}if(arguments[0]instanceof Br&&typeof arguments[1]=="boolean"){var rt=arguments[0],at=arguments[1],ft=new nr;return rt.apply(new js(ft,at)),ft}if(arguments[0]instanceof Br&&Ur(arguments[1],as)){var yt=arguments[0],vt=arguments[1];return yt instanceof No?vt.add(yt):yt.apply(new js(vt)),vt}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ur(arguments[0],as)&&Ur(arguments[1],as)){for(var Tt=arguments[0],xt=arguments[1],It=arguments[2],Gt=Tt.iterator();Gt.hasNext();){var Wt=Gt.next();js.getLines(Wt,xt,It)}return xt}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Br&&Ur(arguments[1],as)){var ee=arguments[0],Bt=arguments[1],me=arguments[2];return ee.apply(new js(Bt,me)),Bt}}};var Qa=function(){if(this._boundaryRule=ll.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var B=arguments[0];if(B===null)throw new Ao("Rule must be non-null");this._boundaryRule=B}}};Qa.prototype.locateInternal=function(){var B=this;if(arguments[0]instanceof pn&&arguments[1]instanceof ls){var U=arguments[0],G=arguments[1];if(G.isEmpty())return xn.EXTERIOR;var Q=G.getExteriorRing(),J=this.locateInPolygonRing(U,Q);if(J===xn.EXTERIOR)return xn.EXTERIOR;if(J===xn.BOUNDARY)return xn.BOUNDARY;for(var rt=0;rt<G.getNumInteriorRing();rt++){var at=G.getInteriorRingN(rt),ft=B.locateInPolygonRing(U,at);if(ft===xn.INTERIOR)return xn.EXTERIOR;if(ft===xn.BOUNDARY)return xn.BOUNDARY}return xn.INTERIOR}if(arguments[0]instanceof pn&&arguments[1]instanceof No){var yt=arguments[0],vt=arguments[1];if(!vt.getEnvelopeInternal().intersects(yt))return xn.EXTERIOR;var Tt=vt.getCoordinates();return vt.isClosed()||!yt.equals(Tt[0])&&!yt.equals(Tt[Tt.length-1])?ar.isOnLine(yt,Tt)?xn.INTERIOR:xn.EXTERIOR:xn.BOUNDARY}if(arguments[0]instanceof pn&&arguments[1]instanceof Ia){var xt=arguments[0],It=arguments[1],Gt=It.getCoordinate();return Gt.equals2D(xt)?xn.INTERIOR:xn.EXTERIOR}},Qa.prototype.locateInPolygonRing=function(B,U){return U.getEnvelopeInternal().intersects(B)?ar.locatePointInRing(B,U.getCoordinates()):xn.EXTERIOR},Qa.prototype.intersects=function(B,U){return this.locate(B,U)!==xn.EXTERIOR},Qa.prototype.updateLocationInfo=function(B){B===xn.INTERIOR&&(this._isIn=!0),B===xn.BOUNDARY&&this._numBoundaries++},Qa.prototype.computeLocation=function(B,U){var G=this;if(U instanceof Ia&&this.updateLocationInfo(this.locateInternal(B,U)),U instanceof No)this.updateLocationInfo(this.locateInternal(B,U));else if(U instanceof ls)this.updateLocationInfo(this.locateInternal(B,U));else if(U instanceof xu)for(var Q=U,J=0;J<Q.getNumGeometries();J++){var rt=Q.getGeometryN(J);G.updateLocationInfo(G.locateInternal(B,rt))}else if(U instanceof vc)for(var at=U,ft=0;ft<at.getNumGeometries();ft++){var yt=at.getGeometryN(ft);G.updateLocationInfo(G.locateInternal(B,yt))}else if(U instanceof na)for(var vt=new Zl(U);vt.hasNext();){var Tt=vt.next();Tt!==U&&G.computeLocation(B,Tt)}},Qa.prototype.locate=function(B,U){return U.isEmpty()?xn.EXTERIOR:U instanceof No||U instanceof ls?this.locateInternal(B,U):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(B,U),this._boundaryRule.isInBoundary(this._numBoundaries)?xn.BOUNDARY:this._numBoundaries>0||this._isIn?xn.INTERIOR:xn.EXTERIOR)},Qa.prototype.interfaces_=function(){return[]},Qa.prototype.getClass=function(){return Qa};var ia=function B(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var U=arguments[0],G=arguments[1];B.call(this,U,B.INSIDE_AREA,G)}else if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2];this._component=Q,this._segIndex=J,this._pt=rt}},a1={INSIDE_AREA:{configurable:!0}};ia.prototype.isInsideArea=function(){return this._segIndex===ia.INSIDE_AREA},ia.prototype.getCoordinate=function(){return this._pt},ia.prototype.getGeometryComponent=function(){return this._component},ia.prototype.getSegmentIndex=function(){return this._segIndex},ia.prototype.interfaces_=function(){return[]},ia.prototype.getClass=function(){return ia},a1.INSIDE_AREA.get=function(){return-1},Object.defineProperties(ia,a1);var Au=function(B){this._pts=B||null};Au.prototype.filter=function(B){B instanceof Ia&&this._pts.add(B)},Au.prototype.interfaces_=function(){return[Wl]},Au.prototype.getClass=function(){return Au},Au.getPoints=function(){if(arguments.length===1){var B=arguments[0];return B instanceof Ia?kl.singletonList(B):Au.getPoints(B,new nr)}if(arguments.length===2){var U=arguments[0],G=arguments[1];return U instanceof Ia?G.add(U):U instanceof na&&U.apply(new Au(G)),G}};var Wc=function(){this._locations=null;var B=arguments[0];this._locations=B};Wc.prototype.filter=function(B){(B instanceof Ia||B instanceof No||B instanceof ls)&&this._locations.add(new ia(B,0,B.getCoordinate()))},Wc.prototype.interfaces_=function(){return[Wl]},Wc.prototype.getClass=function(){return Wc},Wc.getLocations=function(B){var U=new nr;return B.apply(new Wc(U)),U};var Ns=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Qa,this._minDistanceLocation=null,this._minDistance=Qr.MAX_VALUE,arguments.length===2){var B=arguments[0],U=arguments[1];this._geom=[B,U],this._terminateDistance=0}else if(arguments.length===3){var G=arguments[0],Q=arguments[1],J=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=G,this._geom[1]=Q,this._terminateDistance=J}};Ns.prototype.computeContainmentDistance=function(){var B=this;if(arguments.length===0){var U=new Array(2).fill(null);if(this.computeContainmentDistance(0,U),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,U)}else if(arguments.length===2){var G=arguments[0],Q=arguments[1],J=1-G,rt=Gc.getPolygons(this._geom[G]);if(rt.size()>0){var at=Wc.getLocations(this._geom[J]);if(this.computeContainmentDistance(at,rt,Q),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[J]=Q[0],this._minDistanceLocation[G]=Q[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ur(arguments[0],wl)&&Ur(arguments[1],wl)){for(var ft=arguments[0],yt=arguments[1],vt=arguments[2],Tt=0;Tt<ft.size();Tt++)for(var xt=ft.get(Tt),It=0;It<yt.size();It++)if(B.computeContainmentDistance(xt,yt.get(It),vt),B._minDistance<=B._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ia&&arguments[1]instanceof ls){var Gt=arguments[0],Wt=arguments[1],ee=arguments[2],Bt=Gt.getCoordinate();if(xn.EXTERIOR!==this._ptLocator.locate(Bt,Wt))return this._minDistance=0,ee[0]=Gt,ee[1]=new ia(Wt,Bt),null}}},Ns.prototype.computeMinDistanceLinesPoints=function(B,U,G){for(var Q=this,J=0;J<B.size();J++)for(var rt=B.get(J),at=0;at<U.size();at++){var ft=U.get(at);if(Q.computeMinDistance(rt,ft,G),Q._minDistance<=Q._terminateDistance)return null}},Ns.prototype.computeFacetDistance=function(){var B=new Array(2).fill(null),U=js.getLines(this._geom[0]),G=js.getLines(this._geom[1]),Q=Au.getPoints(this._geom[0]),J=Au.getPoints(this._geom[1]);return this.computeMinDistanceLines(U,G,B),this.updateMinDistance(B,!1),this._minDistance<=this._terminateDistance?null:(B[0]=null,B[1]=null,this.computeMinDistanceLinesPoints(U,J,B),this.updateMinDistance(B,!1),this._minDistance<=this._terminateDistance?null:(B[0]=null,B[1]=null,this.computeMinDistanceLinesPoints(G,Q,B),this.updateMinDistance(B,!0),this._minDistance<=this._terminateDistance?null:(B[0]=null,B[1]=null,this.computeMinDistancePoints(Q,J,B),void this.updateMinDistance(B,!1))))},Ns.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ns.prototype.updateMinDistance=function(B,U){if(B[0]===null)return null;U?(this._minDistanceLocation[0]=B[1],this._minDistanceLocation[1]=B[0]):(this._minDistanceLocation[0]=B[0],this._minDistanceLocation[1]=B[1])},Ns.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ns.prototype.computeMinDistance=function(){var B=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof No&&arguments[1]instanceof Ia){var U=arguments[0],G=arguments[1],Q=arguments[2];if(U.getEnvelopeInternal().distance(G.getEnvelopeInternal())>this._minDistance)return null;for(var J=U.getCoordinates(),rt=G.getCoordinate(),at=0;at<J.length-1;at++){var ft=ar.distancePointLine(rt,J[at],J[at+1]);if(ft<B._minDistance){B._minDistance=ft;var yt=new Tr(J[at],J[at+1]),vt=yt.closestPoint(rt);Q[0]=new ia(U,at,vt),Q[1]=new ia(G,0,rt)}if(B._minDistance<=B._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof No&&arguments[1]instanceof No){var Tt=arguments[0],xt=arguments[1],It=arguments[2];if(Tt.getEnvelopeInternal().distance(xt.getEnvelopeInternal())>this._minDistance)return null;for(var Gt=Tt.getCoordinates(),Wt=xt.getCoordinates(),ee=0;ee<Gt.length-1;ee++)for(var Bt=0;Bt<Wt.length-1;Bt++){var me=ar.distanceLineLine(Gt[ee],Gt[ee+1],Wt[Bt],Wt[Bt+1]);if(me<B._minDistance){B._minDistance=me;var Ie=new Tr(Gt[ee],Gt[ee+1]),Zt=new Tr(Wt[Bt],Wt[Bt+1]),fe=Ie.closestPoints(Zt);It[0]=new ia(Tt,ee,fe[0]),It[1]=new ia(xt,Bt,fe[1])}if(B._minDistance<=B._terminateDistance)return null}}}},Ns.prototype.computeMinDistancePoints=function(B,U,G){for(var Q=this,J=0;J<B.size();J++)for(var rt=B.get(J),at=0;at<U.size();at++){var ft=U.get(at),yt=rt.getCoordinate().distance(ft.getCoordinate());if(yt<Q._minDistance&&(Q._minDistance=yt,G[0]=new ia(rt,0,rt.getCoordinate()),G[1]=new ia(ft,0,ft.getCoordinate())),Q._minDistance<=Q._terminateDistance)return null}},Ns.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new Ao("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ns.prototype.computeMinDistanceLines=function(B,U,G){for(var Q=this,J=0;J<B.size();J++)for(var rt=B.get(J),at=0;at<U.size();at++){var ft=U.get(at);if(Q.computeMinDistance(rt,ft,G),Q._minDistance<=Q._terminateDistance)return null}},Ns.prototype.interfaces_=function(){return[]},Ns.prototype.getClass=function(){return Ns},Ns.distance=function(B,U){return new Ns(B,U).distance()},Ns.isWithinDistance=function(B,U,G){return new Ns(B,U,G).distance()<=G},Ns.nearestPoints=function(B,U){return new Ns(B,U).nearestPoints()};var Gs=function(){this._pt=[new pn,new pn],this._distance=Qr.NaN,this._isNull=!0};Gs.prototype.getCoordinates=function(){return this._pt},Gs.prototype.getCoordinate=function(B){return this._pt[B]},Gs.prototype.setMinimum=function(){if(arguments.length===1){var B=arguments[0];this.setMinimum(B._pt[0],B._pt[1])}else if(arguments.length===2){var U=arguments[0],G=arguments[1];if(this._isNull)return this.initialize(U,G),null;var Q=U.distance(G);Q<this._distance&&this.initialize(U,G,Q)}},Gs.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var B=arguments[0],U=arguments[1];this._pt[0].setCoordinate(B),this._pt[1].setCoordinate(U),this._distance=B.distance(U),this._isNull=!1}else if(arguments.length===3){var G=arguments[0],Q=arguments[1],J=arguments[2];this._pt[0].setCoordinate(G),this._pt[1].setCoordinate(Q),this._distance=J,this._isNull=!1}},Gs.prototype.toString=function(){return _l.toLineString(this._pt[0],this._pt[1])},Gs.prototype.getDistance=function(){return this._distance},Gs.prototype.setMaximum=function(){if(arguments.length===1){var B=arguments[0];this.setMaximum(B._pt[0],B._pt[1])}else if(arguments.length===2){var U=arguments[0],G=arguments[1];if(this._isNull)return this.initialize(U,G),null;var Q=U.distance(G);Q>this._distance&&this.initialize(U,G,Q)}},Gs.prototype.interfaces_=function(){return[]},Gs.prototype.getClass=function(){return Gs};var Dl=function(){};Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl},Dl.computeDistance=function(){if(arguments[2]instanceof Gs&&arguments[0]instanceof No&&arguments[1]instanceof pn)for(var B=arguments[0],U=arguments[1],G=arguments[2],Q=new Tr,J=B.getCoordinates(),rt=0;rt<J.length-1;rt++){Q.setCoordinates(J[rt],J[rt+1]);var at=Q.closestPoint(U);G.setMinimum(at,U)}else if(arguments[2]instanceof Gs&&arguments[0]instanceof ls&&arguments[1]instanceof pn){var ft=arguments[0],yt=arguments[1],vt=arguments[2];Dl.computeDistance(ft.getExteriorRing(),yt,vt);for(var Tt=0;Tt<ft.getNumInteriorRing();Tt++)Dl.computeDistance(ft.getInteriorRingN(Tt),yt,vt)}else if(arguments[2]instanceof Gs&&arguments[0]instanceof Br&&arguments[1]instanceof pn){var xt=arguments[0],It=arguments[1],Gt=arguments[2];if(xt instanceof No)Dl.computeDistance(xt,It,Gt);else if(xt instanceof ls)Dl.computeDistance(xt,It,Gt);else if(xt instanceof na)for(var Wt=xt,ee=0;ee<Wt.getNumGeometries();ee++){var Bt=Wt.getGeometryN(ee);Dl.computeDistance(Bt,It,Gt)}else Gt.setMinimum(xt.getCoordinate(),It)}else if(arguments[2]instanceof Gs&&arguments[0]instanceof Tr&&arguments[1]instanceof pn){var me=arguments[0],Ie=arguments[1],Zt=arguments[2],fe=me.closestPoint(Ie);Zt.setMinimum(fe,Ie)}};var Xa=function(){this._g0=null,this._g1=null,this._ptDist=new Gs,this._densifyFrac=0;var B=arguments[0],U=arguments[1];this._g0=B,this._g1=U},Hh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Xa.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Xa.prototype.setDensifyFraction=function(B){if(B>1||B<=0)throw new Ao("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=B},Xa.prototype.compute=function(B,U){this.computeOrientedDistance(B,U,this._ptDist),this.computeOrientedDistance(U,B,this._ptDist)},Xa.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Xa.prototype.computeOrientedDistance=function(B,U,G){var Q=new Vh(U);if(B.apply(Q),G.setMaximum(Q.getMaxPointDistance()),this._densifyFrac>0){var J=new Nu(U,this._densifyFrac);B.apply(J),G.setMaximum(J.getMaxPointDistance())}},Xa.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},Xa.distance=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1],G=new Xa(B,U);return G.distance()}if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2],at=new Xa(Q,J);return at.setDensifyFraction(rt),at.distance()}},Hh.MaxPointDistanceFilter.get=function(){return Vh},Hh.MaxDensifiedByFractionDistanceFilter.get=function(){return Nu},Object.defineProperties(Xa,Hh);var Vh=function(){this._maxPtDist=new Gs,this._minPtDist=new Gs,this._euclideanDist=new Dl,this._geom=null;var B=arguments[0];this._geom=B};Vh.prototype.filter=function(B){this._minPtDist.initialize(),Dl.computeDistance(this._geom,B,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vh.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vh.prototype.interfaces_=function(){return[pc]},Vh.prototype.getClass=function(){return Vh};var Nu=function(){this._maxPtDist=new Gs,this._minPtDist=new Gs,this._geom=null,this._numSubSegs=0;var B=arguments[0],U=arguments[1];this._geom=B,this._numSubSegs=Math.trunc(Math.round(1/U))};Nu.prototype.filter=function(B,U){var G=this;if(U===0)return null;for(var Q=B.getCoordinate(U-1),J=B.getCoordinate(U),rt=(J.x-Q.x)/this._numSubSegs,at=(J.y-Q.y)/this._numSubSegs,ft=0;ft<this._numSubSegs;ft++){var yt=Q.x+ft*rt,vt=Q.y+ft*at,Tt=new pn(yt,vt);G._minPtDist.initialize(),Dl.computeDistance(G._geom,Tt,G._minPtDist),G._maxPtDist.setMaximum(G._minPtDist)}},Nu.prototype.isDone=function(){return!1},Nu.prototype.isGeometryChanged=function(){return!1},Nu.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nu.prototype.interfaces_=function(){return[El]},Nu.prototype.getClass=function(){return Nu};var Ra=function(B,U,G){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=B||null,this._bufDistance=U||null,this._result=G||null},l0={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ra.prototype.checkMaximumDistance=function(B,U,G){var Q=new Xa(U,B);if(Q.setDensifyFraction(.25),this._maxDistanceFound=Q.orientedDistance(),this._maxDistanceFound>G){this._isValid=!1;var J=Q.getCoordinates();this._errorLocation=J[1],this._errorIndicator=B.getFactory().createLineString(J),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+_l.toLineString(J[0],J[1])+")"}},Ra.prototype.isValid=function(){var B=Math.abs(this._bufDistance),U=Ra.MAX_DISTANCE_DIFF_FRAC*B;return this._minValidDistance=B-U,this._maxValidDistance=B+U,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ra.VERBOSE&&Rs.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ra.prototype.checkNegativeValid=function(){if(!(this._input instanceof ls||this._input instanceof vc||this._input instanceof na))return null;var B=this.getPolygonLines(this._input);if(this.checkMinimumDistance(B,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(B,this._result,this._maxValidDistance)},Ra.prototype.getErrorIndicator=function(){return this._errorIndicator},Ra.prototype.checkMinimumDistance=function(B,U,G){var Q=new Ns(B,U,G);if(this._minDistanceFound=Q.distance(),this._minDistanceFound<G){this._isValid=!1;var J=Q.nearestPoints();this._errorLocation=Q.nearestPoints()[1],this._errorIndicator=B.getFactory().createLineString(J),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+_l.toLineString(J[0],J[1])+" )"}},Ra.prototype.checkPositiveValid=function(){var B=this._result.getBoundary();if(this.checkMinimumDistance(this._input,B,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,B,this._maxValidDistance)},Ra.prototype.getErrorLocation=function(){return this._errorLocation},Ra.prototype.getPolygonLines=function(B){for(var U=new nr,G=new js(U),Q=Gc.getPolygons(B).iterator();Q.hasNext();)Q.next().apply(G);return B.getFactory().buildGeometry(U)},Ra.prototype.getErrorMessage=function(){return this._errMsg},Ra.prototype.interfaces_=function(){return[]},Ra.prototype.getClass=function(){return Ra},l0.VERBOSE.get=function(){return!1},l0.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Ra,l0);var Bs=function(B,U,G){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=B||null,this._distance=U||null,this._result=G||null},c0={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Bs.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Bs.prototype.checkEnvelope=function(){if(this._distance<0)return null;var B=this._distance*Bs.MAX_ENV_DIFF_FRAC;B===0&&(B=.001);var U=new Sr(this._input.getEnvelopeInternal());U.expandBy(this._distance);var G=new Sr(this._result.getEnvelopeInternal());G.expandBy(B),G.contains(U)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(G)),this.report("Envelope")},Bs.prototype.checkDistance=function(){var B=new Ra(this._input,this._distance,this._result);B.isValid()||(this._isValid=!1,this._errorMsg=B.getErrorMessage(),this._errorLocation=B.getErrorLocation(),this._errorIndicator=B.getErrorIndicator()),this.report("Distance")},Bs.prototype.checkArea=function(){var B=this._input.getArea(),U=this._result.getArea();this._distance>0&&B>U&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&B<U&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Bs.prototype.checkPolygonal=function(){this._result instanceof ls||this._result instanceof vc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Bs.prototype.getErrorIndicator=function(){return this._errorIndicator},Bs.prototype.getErrorLocation=function(){return this._errorLocation},Bs.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Bs.prototype.report=function(B){if(!Bs.VERBOSE)return null;Rs.out.println("Check "+B+": "+(this._isValid?"passed":"FAILED"))},Bs.prototype.getErrorMessage=function(){return this._errorMsg},Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs},Bs.isValidMsg=function(B,U,G){var Q=new Bs(B,U,G);return Q.isValid()?null:Q.getErrorMessage()},Bs.isValid=function(B,U,G){return!!new Bs(B,U,G).isValid()},c0.VERBOSE.get=function(){return!1},c0.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Bs,c0);var tc=function(){this._pts=null,this._data=null;var B=arguments[0],U=arguments[1];this._pts=B,this._data=U};tc.prototype.getCoordinates=function(){return this._pts},tc.prototype.size=function(){return this._pts.length},tc.prototype.getCoordinate=function(B){return this._pts[B]},tc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},tc.prototype.getSegmentOctant=function(B){return B===this._pts.length-1?-1:Al.octant(this.getCoordinate(B),this.getCoordinate(B+1))},tc.prototype.setData=function(B){this._data=B},tc.prototype.getData=function(){return this._data},tc.prototype.toString=function(){return _l.toLineString(new qo(this._pts))},tc.prototype.interfaces_=function(){return[cs]},tc.prototype.getClass=function(){return tc};var Ds=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new nr,this._intersectionCount=0,this._keepIntersections=!0;var B=arguments[0];this._li=B,this._interiorIntersection=null};Ds.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ds.prototype.setCheckEndSegmentsOnly=function(B){this._isCheckEndSegmentsOnly=B},Ds.prototype.getIntersectionSegments=function(){return this._intSegments},Ds.prototype.count=function(){return this._intersectionCount},Ds.prototype.getIntersections=function(){return this._intersections},Ds.prototype.setFindAllIntersections=function(B){this._findAllIntersections=B},Ds.prototype.setKeepIntersections=function(B){this._keepIntersections=B},Ds.prototype.processIntersections=function(B,U,G,Q){if(!this._findAllIntersections&&this.hasIntersection()||B===G&&U===Q||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(B,U)||this.isEndSegment(G,Q)))return null;var J=B.getCoordinates()[U],rt=B.getCoordinates()[U+1],at=G.getCoordinates()[Q],ft=G.getCoordinates()[Q+1];this._li.computeIntersection(J,rt,at,ft),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=J,this._intSegments[1]=rt,this._intSegments[2]=at,this._intSegments[3]=ft,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ds.prototype.isEndSegment=function(B,U){return U===0||U>=B.size()-2},Ds.prototype.hasIntersection=function(){return this._interiorIntersection!==null},Ds.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},Ds.prototype.interfaces_=function(){return[rh]},Ds.prototype.getClass=function(){return Ds},Ds.createAllIntersectionsFinder=function(B){var U=new Ds(B);return U.setFindAllIntersections(!0),U},Ds.createAnyIntersectionFinder=function(B){return new Ds(B)},Ds.createIntersectionCounter=function(B){var U=new Ds(B);return U.setFindAllIntersections(!0),U.setKeepIntersections(!1),U};var fl=function(){this._li=new wu,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var B=arguments[0];this._segStrings=B};fl.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},fl.prototype.getIntersections=function(){return this._segInt.getIntersections()},fl.prototype.isValid=function(){return this.execute(),this._isValid},fl.prototype.setFindAllIntersections=function(B){this._findAllIntersections=B},fl.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ds(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var B=new a0;if(B.setSegmentIntersector(this._segInt),B.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},fl.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Vc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},fl.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var B=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+_l.toLineString(B[0],B[1])+" and "+_l.toLineString(B[2],B[3])},fl.prototype.interfaces_=function(){return[]},fl.prototype.getClass=function(){return fl},fl.computeIntersections=function(B){var U=new fl(B);return U.setFindAllIntersections(!0),U.isValid(),U.getIntersections()};var oh=function B(){this._nv=null;var U=arguments[0];this._nv=new fl(B.toSegmentStrings(U))};oh.prototype.checkValid=function(){this._nv.checkValid()},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},oh.toSegmentStrings=function(B){for(var U=new nr,G=B.iterator();G.hasNext();){var Q=G.next();U.add(new tc(Q.getCoordinates(),Q))}return U},oh.checkValid=function(B){new oh(B).checkValid()};var Gh=function(B){this._mapOp=B};Gh.prototype.map=function(B){for(var U=new nr,G=0;G<B.getNumGeometries();G++){var Q=this._mapOp.map(B.getGeometryN(G));Q.isEmpty()||U.add(Q)}return B.getFactory().createGeometryCollection(gi.toGeometryArray(U))},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh},Gh.map=function(B,U){return new Gh(U).map(B)};var ec=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new nr,this._resultLineList=new nr;var B=arguments[0],U=arguments[1],G=arguments[2];this._op=B,this._geometryFactory=U,this._ptLocator=G};ec.prototype.collectLines=function(B){for(var U=this,G=this._op.getGraph().getEdgeEnds().iterator();G.hasNext();){var Q=G.next();U.collectLineEdge(Q,B,U._lineEdgesList),U.collectBoundaryTouchEdge(Q,B,U._lineEdgesList)}},ec.prototype.labelIsolatedLine=function(B,U){var G=this._ptLocator.locate(B.getCoordinate(),this._op.getArgGeometry(U));B.getLabel().setLocation(U,G)},ec.prototype.build=function(B){return this.findCoveredLineEdges(),this.collectLines(B),this.buildLines(B),this._resultLineList},ec.prototype.collectLineEdge=function(B,U,G){var Q=B.getLabel(),J=B.getEdge();B.isLineEdge()&&(B.isVisited()||!ti.isResultOfOp(Q,U)||J.isCovered()||(G.add(J),B.setVisitedEdge(!0)))},ec.prototype.findCoveredLineEdges=function(){for(var B=this._op.getGraph().getNodes().iterator();B.hasNext();)B.next().getEdges().findCoveredLineEdges();for(var U=this._op.getGraph().getEdgeEnds().iterator();U.hasNext();){var G=U.next(),Q=G.getEdge();if(G.isLineEdge()&&!Q.isCoveredSet()){var J=this._op.isCoveredByA(G.getCoordinate());Q.setCovered(J)}}},ec.prototype.labelIsolatedLines=function(B){for(var U=B.iterator();U.hasNext();){var G=U.next(),Q=G.getLabel();G.isIsolated()&&(Q.isNull(0)?this.labelIsolatedLine(G,0):this.labelIsolatedLine(G,1))}},ec.prototype.buildLines=function(B){for(var U=this._lineEdgesList.iterator();U.hasNext();){var G=U.next(),Q=this._geometryFactory.createLineString(G.getCoordinates());this._resultLineList.add(Q),G.setInResult(!0)}},ec.prototype.collectBoundaryTouchEdge=function(B,U,G){var Q=B.getLabel();return B.isLineEdge()||B.isVisited()||B.isInteriorAreaEdge()||B.getEdge().isInResult()?null:(ni.isTrue(!(B.isInResult()||B.getSym().isInResult())||!B.getEdge().isInResult()),void(ti.isResultOfOp(Q,U)&&U===ti.INTERSECTION&&(G.add(B.getEdge()),B.setVisitedEdge(!0))))},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec};var Wh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new nr;var B=arguments[0],U=arguments[1];this._op=B,this._geometryFactory=U};Wh.prototype.filterCoveredNodeToPoint=function(B){var U=B.getCoordinate();if(!this._op.isCoveredByLA(U)){var G=this._geometryFactory.createPoint(U);this._resultPointList.add(G)}},Wh.prototype.extractNonCoveredResultNodes=function(B){for(var U=this._op.getGraph().getNodes().iterator();U.hasNext();){var G=U.next();if(!G.isInResult()&&!G.isIncidentEdgeInResult()&&(G.getEdges().getDegree()===0||B===ti.INTERSECTION)){var Q=G.getLabel();ti.isResultOfOp(Q,B)&&this.filterCoveredNodeToPoint(G)}}},Wh.prototype.build=function(B){return this.extractNonCoveredResultNodes(B),this._resultPointList},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh};var oa=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};oa.prototype.transformPoint=function(B,U){return this._factory.createPoint(this.transformCoordinates(B.getCoordinateSequence(),B))},oa.prototype.transformPolygon=function(B,U){var G=!0,Q=this.transformLinearRing(B.getExteriorRing(),B);Q!==null&&Q instanceof yc&&!Q.isEmpty()||(G=!1);for(var J=new nr,rt=0;rt<B.getNumInteriorRing();rt++){var at=this.transformLinearRing(B.getInteriorRingN(rt),B);at===null||at.isEmpty()||(at instanceof yc||(G=!1),J.add(at))}if(G)return this._factory.createPolygon(Q,J.toArray([]));var ft=new nr;return Q!==null&&ft.add(Q),ft.addAll(J),this._factory.buildGeometry(ft)},oa.prototype.createCoordinateSequence=function(B){return this._factory.getCoordinateSequenceFactory().create(B)},oa.prototype.getInputGeometry=function(){return this._inputGeom},oa.prototype.transformMultiLineString=function(B,U){for(var G=new nr,Q=0;Q<B.getNumGeometries();Q++){var J=this.transformLineString(B.getGeometryN(Q),B);J!==null&&(J.isEmpty()||G.add(J))}return this._factory.buildGeometry(G)},oa.prototype.transformCoordinates=function(B,U){return this.copy(B)},oa.prototype.transformLineString=function(B,U){return this._factory.createLineString(this.transformCoordinates(B.getCoordinateSequence(),B))},oa.prototype.transformMultiPoint=function(B,U){for(var G=new nr,Q=0;Q<B.getNumGeometries();Q++){var J=this.transformPoint(B.getGeometryN(Q),B);J!==null&&(J.isEmpty()||G.add(J))}return this._factory.buildGeometry(G)},oa.prototype.transformMultiPolygon=function(B,U){for(var G=new nr,Q=0;Q<B.getNumGeometries();Q++){var J=this.transformPolygon(B.getGeometryN(Q),B);J!==null&&(J.isEmpty()||G.add(J))}return this._factory.buildGeometry(G)},oa.prototype.copy=function(B){return B.copy()},oa.prototype.transformGeometryCollection=function(B,U){for(var G=new nr,Q=0;Q<B.getNumGeometries();Q++){var J=this.transform(B.getGeometryN(Q));J!==null&&(this._pruneEmptyGeometry&&J.isEmpty()||G.add(J))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(gi.toGeometryArray(G)):this._factory.buildGeometry(G)},oa.prototype.transform=function(B){if(this._inputGeom=B,this._factory=B.getFactory(),B instanceof Ia)return this.transformPoint(B,null);if(B instanceof Dd)return this.transformMultiPoint(B,null);if(B instanceof yc)return this.transformLinearRing(B,null);if(B instanceof No)return this.transformLineString(B,null);if(B instanceof xu)return this.transformMultiLineString(B,null);if(B instanceof ls)return this.transformPolygon(B,null);if(B instanceof vc)return this.transformMultiPolygon(B,null);if(B instanceof na)return this.transformGeometryCollection(B,null);throw new Ao("Unknown Geometry subtype: "+B.getClass().getName())},oa.prototype.transformLinearRing=function(B,U){var G=this.transformCoordinates(B.getCoordinateSequence(),B);if(G===null)return this._factory.createLinearRing(null);var Q=G.size();return Q>0&&Q<4&&!this._preserveType?this._factory.createLineString(G):this._factory.createLinearRing(G)},oa.prototype.interfaces_=function(){return[]},oa.prototype.getClass=function(){return oa};var Ki=function B(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Tr,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof No&&typeof arguments[1]=="number"){var U=arguments[0],G=arguments[1];B.call(this,U.getCoordinates(),G)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var Q=arguments[0],J=arguments[1];this._srcPts=Q,this._isClosed=B.isClosed(Q),this._snapTolerance=J}};Ki.prototype.snapVertices=function(B,U){for(var G=this._isClosed?B.size()-1:B.size(),Q=0;Q<G;Q++){var J=B.get(Q),rt=this.findSnapForVertex(J,U);rt!==null&&(B.set(Q,new pn(rt)),Q===0&&this._isClosed&&B.set(B.size()-1,new pn(rt)))}},Ki.prototype.findSnapForVertex=function(B,U){for(var G=0;G<U.length;G++){if(B.equals2D(U[G]))return null;if(B.distance(U[G])<this._snapTolerance)return U[G]}return null},Ki.prototype.snapTo=function(B){var U=new Cf(this._srcPts);return this.snapVertices(U,B),this.snapSegments(U,B),U.toCoordinateArray()},Ki.prototype.snapSegments=function(B,U){if(U.length===0)return null;var G=U.length;U[0].equals2D(U[U.length-1])&&(G=U.length-1);for(var Q=0;Q<G;Q++){var J=U[Q],rt=this.findSegmentIndexToSnap(J,B);rt>=0&&B.add(rt+1,new pn(J),!1)}},Ki.prototype.findSegmentIndexToSnap=function(B,U){for(var G=this,Q=Qr.MAX_VALUE,J=-1,rt=0;rt<U.size()-1;rt++){if(G._seg.p0=U.get(rt),G._seg.p1=U.get(rt+1),G._seg.p0.equals2D(B)||G._seg.p1.equals2D(B)){if(G._allowSnappingToSourceVertices)continue;return-1}var at=G._seg.distance(B);at<G._snapTolerance&&at<Q&&(Q=at,J=rt)}return J},Ki.prototype.setAllowSnappingToSourceVertices=function(B){this._allowSnappingToSourceVertices=B},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.isClosed=function(B){return!(B.length<=1)&&B[0].equals2D(B[B.length-1])};var Mi=function(B){this._srcGeom=B||null},Up={SNAP_PRECISION_FACTOR:{configurable:!0}};Mi.prototype.snapTo=function(B,U){var G=this.extractTargetCoordinates(B);return new Yp(U,G).transform(this._srcGeom)},Mi.prototype.snapToSelf=function(B,U){var G=this.extractTargetCoordinates(this._srcGeom),Q=new Yp(B,G,!0).transform(this._srcGeom),J=Q;return U&&Ur(J,Eu)&&(J=Q.buffer(0)),J},Mi.prototype.computeSnapTolerance=function(B){return this.computeMinimumSegmentLength(B)/10},Mi.prototype.extractTargetCoordinates=function(B){for(var U=new xl,G=B.getCoordinates(),Q=0;Q<G.length;Q++)U.add(G[Q]);return U.toArray(new Array(0).fill(null))},Mi.prototype.computeMinimumSegmentLength=function(B){for(var U=Qr.MAX_VALUE,G=0;G<B.length-1;G++){var Q=B[G].distance(B[G+1]);Q<U&&(U=Q)}return U},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.snap=function(B,U,G){var Q=new Array(2).fill(null),J=new Mi(B);Q[0]=J.snapTo(U,G);var rt=new Mi(U);return Q[1]=rt.snapTo(Q[0],G),Q},Mi.computeOverlaySnapTolerance=function(){if(arguments.length===1){var B=arguments[0],U=Mi.computeSizeBasedSnapTolerance(B),G=B.getPrecisionModel();if(G.getType()===eo.FIXED){var Q=1/G.getScale()*2/1.415;Q>U&&(U=Q)}return U}if(arguments.length===2){var J=arguments[0],rt=arguments[1];return Math.min(Mi.computeOverlaySnapTolerance(J),Mi.computeOverlaySnapTolerance(rt))}},Mi.computeSizeBasedSnapTolerance=function(B){var U=B.getEnvelopeInternal();return Math.min(U.getHeight(),U.getWidth())*Mi.SNAP_PRECISION_FACTOR},Mi.snapToSelf=function(B,U,G){return new Mi(B).snapToSelf(U,G)},Up.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Mi,Up);var Yp=function(B){function U(G,Q,J){B.call(this),this._snapTolerance=G||null,this._snapPts=Q||null,this._isSelfSnap=J!==void 0&&J}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.snapLine=function(G,Q){var J=new Ki(G,this._snapTolerance);return J.setAllowSnappingToSourceVertices(this._isSelfSnap),J.snapTo(Q)},U.prototype.transformCoordinates=function(G,Q){var J=G.toCoordinateArray(),rt=this.snapLine(J,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(rt)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(oa),Is=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Is.prototype.getCommon=function(){return Qr.longBitsToDouble(this._commonBits)},Is.prototype.add=function(B){var U=Qr.doubleToLongBits(B);return this._isFirst?(this._commonBits=U,this._commonSignExp=Is.signExpBits(this._commonBits),this._isFirst=!1,null):Is.signExpBits(U)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Is.numCommonMostSigMantissaBits(this._commonBits,U),void(this._commonBits=Is.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Is.prototype.toString=function(){if(arguments.length===1){var B=arguments[0],U=Qr.longBitsToDouble(B),G=Qr.toBinaryString(B),Q="0000000000000000000000000000000000000000000000000000000000000000"+G,J=Q.substring(Q.length-64),rt=J.substring(0,1)+"  "+J.substring(1,12)+"(exp) "+J.substring(12)+" [ "+U+" ]";return rt}},Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is},Is.getBit=function(B,U){return B&1<<U?1:0},Is.signExpBits=function(B){return B>>52},Is.zeroLowerBits=function(B,U){return B&~((1<<U)-1)},Is.numCommonMostSigMantissaBits=function(B,U){for(var G=0,Q=52;Q>=0;Q--){if(Is.getBit(B,Q)!==Is.getBit(U,Q))return G;G++}return 52};var nc=function(){this._commonCoord=null,this._ccFilter=new qc},jd={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};nc.prototype.addCommonBits=function(B){var U=new rc(this._commonCoord);B.apply(U),B.geometryChanged()},nc.prototype.removeCommonBits=function(B){if(this._commonCoord.x===0&&this._commonCoord.y===0)return B;var U=new pn(this._commonCoord);U.x=-U.x,U.y=-U.y;var G=new rc(U);return B.apply(G),B.geometryChanged(),B},nc.prototype.getCommonCoordinate=function(){return this._commonCoord},nc.prototype.add=function(B){B.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc},jd.CommonCoordinateFilter.get=function(){return qc},jd.Translater.get=function(){return rc},Object.defineProperties(nc,jd);var qc=function(){this._commonBitsX=new Is,this._commonBitsY=new Is};qc.prototype.filter=function(B){this._commonBitsX.add(B.x),this._commonBitsY.add(B.y)},qc.prototype.getCommonCoordinate=function(){return new pn(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},qc.prototype.interfaces_=function(){return[pc]},qc.prototype.getClass=function(){return qc};var rc=function(){this.trans=null;var B=arguments[0];this.trans=B};rc.prototype.filter=function(B,U){var G=B.getOrdinate(U,0)+this.trans.x,Q=B.getOrdinate(U,1)+this.trans.y;B.setOrdinate(U,0,G),B.setOrdinate(U,1,Q)},rc.prototype.isDone=function(){return!1},rc.prototype.isGeometryChanged=function(){return!0},rc.prototype.interfaces_=function(){return[El]},rc.prototype.getClass=function(){return rc};var hs=function(B,U){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=B,this._geom[1]=U,this.computeSnapTolerance()};hs.prototype.selfSnap=function(B){return new Mi(B).snapTo(B,this._snapTolerance)},hs.prototype.removeCommonBits=function(B){this._cbr=new nc,this._cbr.add(B[0]),this._cbr.add(B[1]);var U=new Array(2).fill(null);return U[0]=this._cbr.removeCommonBits(B[0].copy()),U[1]=this._cbr.removeCommonBits(B[1].copy()),U},hs.prototype.prepareResult=function(B){return this._cbr.addCommonBits(B),B},hs.prototype.getResultGeometry=function(B){var U=this.snap(this._geom),G=ti.overlayOp(U[0],U[1],B);return this.prepareResult(G)},hs.prototype.checkValid=function(B){B.isValid()||Rs.out.println("Snapped geometry is invalid")},hs.prototype.computeSnapTolerance=function(){this._snapTolerance=Mi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},hs.prototype.snap=function(B){var U=this.removeCommonBits(B);return Mi.snap(U[0],U[1],this._snapTolerance)},hs.prototype.interfaces_=function(){return[]},hs.prototype.getClass=function(){return hs},hs.overlayOp=function(B,U,G){return new hs(B,U).getResultGeometry(G)},hs.union=function(B,U){return hs.overlayOp(B,U,ti.UNION)},hs.intersection=function(B,U){return hs.overlayOp(B,U,ti.INTERSECTION)},hs.symDifference=function(B,U){return hs.overlayOp(B,U,ti.SYMDIFFERENCE)},hs.difference=function(B,U){return hs.overlayOp(B,U,ti.DIFFERENCE)};var Ls=function(B,U){this._geom=new Array(2).fill(null),this._geom[0]=B,this._geom[1]=U};Ls.prototype.getResultGeometry=function(B){var U=null,G=!1,Q=null;try{U=ti.overlayOp(this._geom[0],this._geom[1],B),G=!0}catch(J){if(!(J instanceof Uc))throw J;Q=J}if(!G)try{U=hs.overlayOp(this._geom[0],this._geom[1],B)}catch(J){throw J instanceof Uc?Q:J}return U},Ls.prototype.interfaces_=function(){return[]},Ls.prototype.getClass=function(){return Ls},Ls.overlayOp=function(B,U,G){return new Ls(B,U).getResultGeometry(G)},Ls.union=function(B,U){return Ls.overlayOp(B,U,ti.UNION)},Ls.intersection=function(B,U){return Ls.overlayOp(B,U,ti.INTERSECTION)},Ls.symDifference=function(B,U){return Ls.overlayOp(B,U,ti.SYMDIFFERENCE)},Ls.difference=function(B,U){return Ls.overlayOp(B,U,ti.DIFFERENCE)};var sh=function(){this.mce=null,this.chainIndex=null;var B=arguments[0],U=arguments[1];this.mce=B,this.chainIndex=U};sh.prototype.computeIntersections=function(B,U){this.mce.computeIntersectsForChain(this.chainIndex,B.mce,B.chainIndex,U)},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh};var Ws=function B(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var U=arguments[0],G=arguments[1];this._eventType=B.DELETE,this._xValue=U,this._insertEvent=G}else if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2];this._eventType=B.INSERT,this._label=Q,this._xValue=J,this._obj=rt}},u0={INSERT:{configurable:!0},DELETE:{configurable:!0}};Ws.prototype.isDelete=function(){return this._eventType===Ws.DELETE},Ws.prototype.setDeleteEventIndex=function(B){this._deleteEventIndex=B},Ws.prototype.getObject=function(){return this._obj},Ws.prototype.compareTo=function(B){var U=B;return this._xValue<U._xValue?-1:this._xValue>U._xValue?1:this._eventType<U._eventType?-1:this._eventType>U._eventType?1:0},Ws.prototype.getInsertEvent=function(){return this._insertEvent},Ws.prototype.isInsert=function(){return this._eventType===Ws.INSERT},Ws.prototype.isSameLabel=function(B){return this._label!==null&&this._label===B._label},Ws.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Ws.prototype.interfaces_=function(){return[ol]},Ws.prototype.getClass=function(){return Ws},u0.INSERT.get=function(){return 1},u0.DELETE.get=function(){return 2},Object.defineProperties(Ws,u0);var qh=function(){};qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh};var ds=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var B=arguments[0],U=arguments[1],G=arguments[2];this._li=B,this._includeProper=U,this._recordIsolated=G};ds.prototype.isTrivialIntersection=function(B,U,G,Q){if(B===G&&this._li.getIntersectionNum()===1){if(ds.isAdjacentSegments(U,Q))return!0;if(B.isClosed()){var J=B.getNumPoints()-1;if(U===0&&Q===J||Q===0&&U===J)return!0}}return!1},ds.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ds.prototype.setIsDoneIfProperInt=function(B){this._isDoneWhenProperInt=B},ds.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ds.prototype.isBoundaryPointInternal=function(B,U){for(var G=U.iterator();G.hasNext();){var Q=G.next().getCoordinate();if(B.isIntersection(Q))return!0}return!1},ds.prototype.hasProperIntersection=function(){return this._hasProper},ds.prototype.hasIntersection=function(){return this._hasIntersection},ds.prototype.isDone=function(){return this._isDone},ds.prototype.isBoundaryPoint=function(B,U){return U!==null&&(!!this.isBoundaryPointInternal(B,U[0])||!!this.isBoundaryPointInternal(B,U[1]))},ds.prototype.setBoundaryNodes=function(B,U){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=B,this._bdyNodes[1]=U},ds.prototype.addIntersections=function(B,U,G,Q){if(B===G&&U===Q)return null;this.numTests++;var J=B.getCoordinates()[U],rt=B.getCoordinates()[U+1],at=G.getCoordinates()[Q],ft=G.getCoordinates()[Q+1];this._li.computeIntersection(J,rt,at,ft),this._li.hasIntersection()&&(this._recordIsolated&&(B.setIsolated(!1),G.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(B,U,G,Q)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(B.addIntersections(this._li,U,0),G.addIntersections(this._li,Q,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds},ds.isAdjacentSegments=function(B,U){return Math.abs(B-U)===1};var Oy=function(B){function U(){B.call(this),this.events=new nr,this.nOverlaps=null}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.prepareEvents=function(){kl.sort(this.events);for(var G=0;G<this.events.size();G++){var Q=this.events.get(G);Q.isDelete()&&Q.getInsertEvent().setDeleteEventIndex(G)}},U.prototype.computeIntersections=function(){var G=this;if(arguments.length===1){var Q=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var J=0;J<this.events.size();J++){var rt=G.events.get(J);if(rt.isInsert()&&G.processOverlaps(J,rt.getDeleteEventIndex(),rt,Q),Q.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof ds&&Ur(arguments[0],wl)&&Ur(arguments[1],wl)){var at=arguments[0],ft=arguments[1],yt=arguments[2];this.addEdges(at,at),this.addEdges(ft,ft),this.computeIntersections(yt)}else if(typeof arguments[2]=="boolean"&&Ur(arguments[0],wl)&&arguments[1]instanceof ds){var vt=arguments[0],Tt=arguments[1],xt=arguments[2];xt?this.addEdges(vt,null):this.addEdges(vt),this.computeIntersections(Tt)}}},U.prototype.addEdge=function(G,Q){for(var J=G.getMonotoneChainEdge(),rt=J.getStartIndexes(),at=0;at<rt.length-1;at++){var ft=new sh(J,at),yt=new Ws(Q,J.getMinX(at),ft);this.events.add(yt),this.events.add(new Ws(J.getMaxX(at),yt))}},U.prototype.processOverlaps=function(G,Q,J,rt){for(var at=J.getObject(),ft=G;ft<Q;ft++){var yt=this.events.get(ft);if(yt.isInsert()){var vt=yt.getObject();J.isSameLabel(yt)||(at.computeIntersections(vt,rt),this.nOverlaps++)}}},U.prototype.addEdges=function(){var G=this;if(arguments.length===1)for(var Q=arguments[0],J=Q.iterator();J.hasNext();){var rt=J.next();G.addEdge(rt,rt)}else if(arguments.length===2)for(var at=arguments[0],ft=arguments[1],yt=at.iterator();yt.hasNext();){var vt=yt.next();G.addEdge(vt,ft)}},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(qh),Tc=function(){this._min=Qr.POSITIVE_INFINITY,this._max=Qr.NEGATIVE_INFINITY},l1={NodeComparator:{configurable:!0}};Tc.prototype.getMin=function(){return this._min},Tc.prototype.intersects=function(B,U){return!(this._min>U||this._max<B)},Tc.prototype.getMax=function(){return this._max},Tc.prototype.toString=function(){return _l.toLineString(new pn(this._min,0),new pn(this._max,0))},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc},l1.NodeComparator.get=function(){return $f},Object.defineProperties(Tc,l1);var $f=function(){};$f.prototype.compare=function(B,U){var G=B,Q=U,J=(G._min+G._max)/2,rt=(Q._min+Q._max)/2;return J<rt?-1:J>rt?1:0},$f.prototype.interfaces_=function(){return[wd]},$f.prototype.getClass=function(){return $f};var Il=function(B){function U(){B.call(this),this._item=null;var G=arguments[0],Q=arguments[1],J=arguments[2];this._min=G,this._max=Q,this._item=J}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.query=function(G,Q,J){if(!this.intersects(G,Q))return null;J.visitItem(this._item)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Tc),c1=function(B){function U(){B.call(this),this._node1=null,this._node2=null;var G=arguments[0],Q=arguments[1];this._node1=G,this._node2=Q,this.buildExtent(this._node1,this._node2)}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.buildExtent=function(G,Q){this._min=Math.min(G._min,Q._min),this._max=Math.max(G._max,Q._max)},U.prototype.query=function(G,Q,J){if(!this.intersects(G,Q))return null;this._node1!==null&&this._node1.query(G,Q,J),this._node2!==null&&this._node2.query(G,Q,J)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Tc),ic=function(){this._leaves=new nr,this._root=null,this._level=0};ic.prototype.buildTree=function(){kl.sort(this._leaves,new Tc.NodeComparator);for(var B=this._leaves,U=null,G=new nr;;){if(this.buildLevel(B,G),G.size()===1)return G.get(0);U=B,B=G,G=U}},ic.prototype.insert=function(B,U,G){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Il(B,U,G))},ic.prototype.query=function(B,U,G){this.init(),this._root.query(B,U,G)},ic.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},ic.prototype.printNode=function(B){Rs.out.println(_l.toLineString(new pn(B._min,this._level),new pn(B._max,this._level)))},ic.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},ic.prototype.buildLevel=function(B,U){this._level++,U.clear();for(var G=0;G<B.size();G+=2){var Q=B.get(G);if((G+1<B.size()?B.get(G):null)===null)U.add(Q);else{var J=new c1(B.get(G),B.get(G+1));U.add(J)}}},ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic};var Bd=function(){this._items=new nr};Bd.prototype.visitItem=function(B){this._items.add(B)},Bd.prototype.getItems=function(){return this._items},Bd.prototype.interfaces_=function(){return[Mu]},Bd.prototype.getClass=function(){return Bd};var $d=function(){this._index=null;var B=arguments[0];if(!Ur(B,Eu))throw new Ao("Argument must be Polygonal");this._index=new Du(B)},Hp={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};$d.prototype.locate=function(B){var U=new Gl(B),G=new Fd(U);return this._index.query(B.y,B.y,G),U.getLocation()},$d.prototype.interfaces_=function(){return[ro]},$d.prototype.getClass=function(){return $d},Hp.SegmentVisitor.get=function(){return Fd},Hp.IntervalIndexedGeometry.get=function(){return Du},Object.defineProperties($d,Hp);var Fd=function(){this._counter=null;var B=arguments[0];this._counter=B};Fd.prototype.visitItem=function(B){var U=B;this._counter.countSegment(U.getCoordinate(0),U.getCoordinate(1))},Fd.prototype.interfaces_=function(){return[Mu]},Fd.prototype.getClass=function(){return Fd};var Du=function(){this._index=new ic;var B=arguments[0];this.init(B)};Du.prototype.init=function(B){for(var U=js.getLines(B).iterator();U.hasNext();){var G=U.next().getCoordinates();this.addLine(G)}},Du.prototype.addLine=function(B){for(var U=1;U<B.length;U++){var G=new Tr(B[U-1],B[U]),Q=Math.min(G.p0.y,G.p1.y),J=Math.max(G.p0.y,G.p1.y);this._index.insert(Q,J,G)}},Du.prototype.query=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1],G=new Bd;return this._index.query(B,U,G),G.getItems()}if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2];this._index.query(Q,J,rt)}},Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du};var Ud=function(B){function U(){if(B.call(this),this._parentGeom=null,this._lineEdgeMap=new Zm,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Qa,arguments.length===2){var G=arguments[0],Q=arguments[1],J=ll.OGC_SFS_BOUNDARY_RULE;this._argIndex=G,this._parentGeom=Q,this._boundaryNodeRule=J,Q!==null&&this.add(Q)}else if(arguments.length===3){var rt=arguments[0],at=arguments[1],ft=arguments[2];this._argIndex=rt,this._parentGeom=at,this._boundaryNodeRule=ft,at!==null&&this.add(at)}}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.insertBoundaryPoint=function(G,Q){var J=this._nodes.addNode(Q).getLabel(),rt=1;J.getLocation(G,qn.ON)===xn.BOUNDARY&&rt++;var at=U.determineBoundary(this._boundaryNodeRule,rt);J.setLocation(G,at)},U.prototype.computeSelfNodes=function(){if(arguments.length===2){var G=arguments[0],Q=arguments[1];return this.computeSelfNodes(G,Q,!1)}if(arguments.length===3){var J=arguments[0],rt=arguments[1],at=arguments[2],ft=new ds(J,!0,!1);ft.setIsDoneIfProperInt(at);var yt=this.createEdgeSetIntersector(),vt=this._parentGeom instanceof yc||this._parentGeom instanceof ls||this._parentGeom instanceof vc,Tt=rt||!vt;return yt.computeIntersections(this._edges,ft,Tt),this.addSelfIntersectionNodes(this._argIndex),ft}},U.prototype.computeSplitEdges=function(G){for(var Q=this._edges.iterator();Q.hasNext();)Q.next().eiList.addSplitEdges(G)},U.prototype.computeEdgeIntersections=function(G,Q,J){var rt=new ds(Q,J,!0);return rt.setBoundaryNodes(this.getBoundaryNodes(),G.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,G._edges,rt),rt},U.prototype.getGeometry=function(){return this._parentGeom},U.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},U.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},U.prototype.addPoint=function(){if(arguments[0]instanceof Ia){var G=arguments[0],Q=G.getCoordinate();this.insertPoint(this._argIndex,Q,xn.INTERIOR)}else if(arguments[0]instanceof pn){var J=arguments[0];this.insertPoint(this._argIndex,J,xn.INTERIOR)}},U.prototype.addPolygon=function(G){this.addPolygonRing(G.getExteriorRing(),xn.EXTERIOR,xn.INTERIOR);for(var Q=0;Q<G.getNumInteriorRing();Q++){var J=G.getInteriorRingN(Q);this.addPolygonRing(J,xn.INTERIOR,xn.EXTERIOR)}},U.prototype.addEdge=function(G){this.insertEdge(G);var Q=G.getCoordinates();this.insertPoint(this._argIndex,Q[0],xn.BOUNDARY),this.insertPoint(this._argIndex,Q[Q.length-1],xn.BOUNDARY)},U.prototype.addLineString=function(G){var Q=fi.removeRepeatedPoints(G.getCoordinates());if(Q.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=Q[0],null;var J=new zd(Q,new so(this._argIndex,xn.INTERIOR));this._lineEdgeMap.put(G,J),this.insertEdge(J),ni.isTrue(Q.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,Q[0]),this.insertBoundaryPoint(this._argIndex,Q[Q.length-1])},U.prototype.getInvalidPoint=function(){return this._invalidPoint},U.prototype.getBoundaryPoints=function(){for(var G=this.getBoundaryNodes(),Q=new Array(G.size()).fill(null),J=0,rt=G.iterator();rt.hasNext();){var at=rt.next();Q[J++]=at.getCoordinate().copy()}return Q},U.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},U.prototype.addSelfIntersectionNode=function(G,Q,J){if(this.isBoundaryNode(G,Q))return null;J===xn.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(G,Q):this.insertPoint(G,Q,J)},U.prototype.addPolygonRing=function(G,Q,J){if(G.isEmpty())return null;var rt=fi.removeRepeatedPoints(G.getCoordinates());if(rt.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=rt[0],null;var at=Q,ft=J;ar.isCCW(rt)&&(at=J,ft=Q);var yt=new zd(rt,new so(this._argIndex,xn.BOUNDARY,at,ft));this._lineEdgeMap.put(G,yt),this.insertEdge(yt),this.insertPoint(this._argIndex,rt[0],xn.BOUNDARY)},U.prototype.insertPoint=function(G,Q,J){var rt=this._nodes.addNode(Q),at=rt.getLabel();at===null?rt._label=new so(G,J):at.setLocation(G,J)},U.prototype.createEdgeSetIntersector=function(){return new Oy},U.prototype.addSelfIntersectionNodes=function(G){for(var Q=this._edges.iterator();Q.hasNext();)for(var J=Q.next(),rt=J.getLabel().getLocation(G),at=J.eiList.iterator();at.hasNext();){var ft=at.next();this.addSelfIntersectionNode(G,ft.coord,rt)}},U.prototype.add=function(){if(arguments.length!==1)return B.prototype.add.apply(this,arguments);var G=arguments[0];if(G.isEmpty())return null;if(G instanceof vc&&(this._useBoundaryDeterminationRule=!1),G instanceof ls)this.addPolygon(G);else if(G instanceof No)this.addLineString(G);else if(G instanceof Ia)this.addPoint(G);else if(G instanceof Dd)this.addCollection(G);else if(G instanceof xu)this.addCollection(G);else if(G instanceof vc)this.addCollection(G);else{if(!(G instanceof na))throw new Error(G.getClass().getName());this.addCollection(G)}},U.prototype.addCollection=function(G){for(var Q=0;Q<G.getNumGeometries();Q++){var J=G.getGeometryN(Q);this.add(J)}},U.prototype.locate=function(G){return Ur(this._parentGeom,Eu)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new $d(this._parentGeom)),this._areaPtLocator.locate(G)):this._ptLocator.locate(G,this._parentGeom)},U.prototype.findEdge=function(){if(arguments.length===1){var G=arguments[0];return this._lineEdgeMap.get(G)}return B.prototype.findEdge.apply(this,arguments)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.determineBoundary=function(G,Q){return G.isInBoundary(Q)?xn.BOUNDARY:xn.INTERIOR},U}(Oo),Yd=function(){if(this._li=new wu,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var B=arguments[0];this.setComputationPrecision(B.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ud(0,B)}else if(arguments.length===2){var U=arguments[0],G=arguments[1],Q=ll.OGC_SFS_BOUNDARY_RULE;U.getPrecisionModel().compareTo(G.getPrecisionModel())>=0?this.setComputationPrecision(U.getPrecisionModel()):this.setComputationPrecision(G.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ud(0,U,Q),this._arg[1]=new Ud(1,G,Q)}else if(arguments.length===3){var J=arguments[0],rt=arguments[1],at=arguments[2];J.getPrecisionModel().compareTo(rt.getPrecisionModel())>=0?this.setComputationPrecision(J.getPrecisionModel()):this.setComputationPrecision(rt.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ud(0,J,at),this._arg[1]=new Ud(1,rt,at)}};Yd.prototype.getArgGeometry=function(B){return this._arg[B].getGeometry()},Yd.prototype.setComputationPrecision=function(B){this._resultPrecisionModel=B,this._li.setPrecisionModel(this._resultPrecisionModel)},Yd.prototype.interfaces_=function(){return[]},Yd.prototype.getClass=function(){return Yd};var ah=function(){};ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.map=function(){if(arguments[0]instanceof Br&&Ur(arguments[1],ah.MapOp)){for(var B=arguments[0],U=arguments[1],G=new nr,Q=0;Q<B.getNumGeometries();Q++){var J=U.map(B.getGeometryN(Q));J!==null&&G.add(J)}return B.getFactory().buildGeometry(G)}if(Ur(arguments[0],as)&&Ur(arguments[1],ah.MapOp)){for(var rt=arguments[0],at=arguments[1],ft=new nr,yt=rt.iterator();yt.hasNext();){var vt=yt.next(),Tt=at.map(vt);Tt!==null&&ft.add(Tt)}return ft}},ah.MapOp=function(){};var ti=function(B){function U(){var G=arguments[0],Q=arguments[1];B.call(this,G,Q),this._ptLocator=new Qa,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Pa,this._resultPolyList=new nr,this._resultLineList=new nr,this._resultPointList=new nr,this._graph=new Oo(new s1),this._geomFact=G.getFactory()}return B&&(U.__proto__=B),U.prototype=Object.create(B&&B.prototype),U.prototype.constructor=U,U.prototype.insertUniqueEdge=function(G){var Q=this._edgeList.findEqualEdge(G);if(Q!==null){var J=Q.getLabel(),rt=G.getLabel();Q.isPointwiseEqual(G)||(rt=new so(G.getLabel())).flip();var at=Q.getDepth();at.isNull()&&at.add(J),at.add(rt),J.merge(rt)}else this._edgeList.add(G)},U.prototype.getGraph=function(){return this._graph},U.prototype.cancelDuplicateResultEdges=function(){for(var G=this._graph.getEdgeEnds().iterator();G.hasNext();){var Q=G.next(),J=Q.getSym();Q.isInResult()&&J.isInResult()&&(Q.setInResult(!1),J.setInResult(!1))}},U.prototype.isCoveredByLA=function(G){return!!this.isCovered(G,this._resultLineList)||!!this.isCovered(G,this._resultPolyList)},U.prototype.computeGeometry=function(G,Q,J,rt){var at=new nr;return at.addAll(G),at.addAll(Q),at.addAll(J),at.isEmpty()?U.createEmptyResult(rt,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(at)},U.prototype.mergeSymLabels=function(){for(var G=this._graph.getNodes().iterator();G.hasNext();)G.next().getEdges().mergeSymLabels()},U.prototype.isCovered=function(G,Q){for(var J=Q.iterator();J.hasNext();){var rt=J.next();if(this._ptLocator.locate(G,rt)!==xn.EXTERIOR)return!0}return!1},U.prototype.replaceCollapsedEdges=function(){for(var G=new nr,Q=this._edgeList.iterator();Q.hasNext();){var J=Q.next();J.isCollapsed()&&(Q.remove(),G.add(J.getCollapsedEdge()))}this._edgeList.addAll(G)},U.prototype.updateNodeLabelling=function(){for(var G=this._graph.getNodes().iterator();G.hasNext();){var Q=G.next(),J=Q.getEdges().getLabel();Q.getLabel().merge(J)}},U.prototype.getResultGeometry=function(G){return this.computeOverlay(G),this._resultGeom},U.prototype.insertUniqueEdges=function(G){for(var Q=G.iterator();Q.hasNext();){var J=Q.next();this.insertUniqueEdge(J)}},U.prototype.computeOverlay=function(G){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var Q=new nr;this._arg[0].computeSplitEdges(Q),this._arg[1].computeSplitEdges(Q),this.insertUniqueEdges(Q),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),oh.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(G),this.cancelDuplicateResultEdges();var J=new pa(this._geomFact);J.add(this._graph),this._resultPolyList=J.getPolygons();var rt=new ec(this,this._geomFact,this._ptLocator);this._resultLineList=rt.build(G);var at=new Wh(this,this._geomFact,this._ptLocator);this._resultPointList=at.build(G),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,G)},U.prototype.labelIncompleteNode=function(G,Q){var J=this._ptLocator.locate(G.getCoordinate(),this._arg[Q].getGeometry());G.getLabel().setLocation(Q,J)},U.prototype.copyPoints=function(G){for(var Q=this._arg[G].getNodeIterator();Q.hasNext();){var J=Q.next();this._graph.addNode(J.getCoordinate()).setLabel(G,J.getLabel().getLocation(G))}},U.prototype.findResultAreaEdges=function(G){for(var Q=this._graph.getEdgeEnds().iterator();Q.hasNext();){var J=Q.next(),rt=J.getLabel();rt.isArea()&&!J.isInteriorAreaEdge()&&U.isResultOfOp(rt.getLocation(0,qn.RIGHT),rt.getLocation(1,qn.RIGHT),G)&&J.setInResult(!0)}},U.prototype.computeLabelsFromDepths=function(){for(var G=this._edgeList.iterator();G.hasNext();){var Q=G.next(),J=Q.getLabel(),rt=Q.getDepth();if(!rt.isNull()){rt.normalize();for(var at=0;at<2;at++)J.isNull(at)||!J.isArea()||rt.isNull(at)||(rt.getDelta(at)===0?J.toLine(at):(ni.isTrue(!rt.isNull(at,qn.LEFT),"depth of LEFT side has not been initialized"),J.setLocation(at,qn.LEFT,rt.getLocation(at,qn.LEFT)),ni.isTrue(!rt.isNull(at,qn.RIGHT),"depth of RIGHT side has not been initialized"),J.setLocation(at,qn.RIGHT,rt.getLocation(at,qn.RIGHT))))}}},U.prototype.computeLabelling=function(){for(var G=this._graph.getNodes().iterator();G.hasNext();)G.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},U.prototype.labelIncompleteNodes=function(){for(var G=this._graph.getNodes().iterator();G.hasNext();){var Q=G.next(),J=Q.getLabel();Q.isIsolated()&&(J.isNull(0)?this.labelIncompleteNode(Q,0):this.labelIncompleteNode(Q,1)),Q.getEdges().updateLabelling(J)}},U.prototype.isCoveredByA=function(G){return!!this.isCovered(G,this._resultPolyList)},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U}(Yd);ti.overlayOp=function(B,U,G){return new ti(B,U).getResultGeometry(G)},ti.intersection=function(B,U){if(B.isEmpty()||U.isEmpty())return ti.createEmptyResult(ti.INTERSECTION,B,U,B.getFactory());if(B.isGeometryCollection()){var G=U;return Gh.map(B,{interfaces_:function(){return[ah.MapOp]},map:function(Q){return Q.intersection(G)}})}return B.checkNotGeometryCollection(B),B.checkNotGeometryCollection(U),Ls.overlayOp(B,U,ti.INTERSECTION)},ti.symDifference=function(B,U){if(B.isEmpty()||U.isEmpty()){if(B.isEmpty()&&U.isEmpty())return ti.createEmptyResult(ti.SYMDIFFERENCE,B,U,B.getFactory());if(B.isEmpty())return U.copy();if(U.isEmpty())return B.copy()}return B.checkNotGeometryCollection(B),B.checkNotGeometryCollection(U),Ls.overlayOp(B,U,ti.SYMDIFFERENCE)},ti.resultDimension=function(B,U,G){var Q=U.getDimension(),J=G.getDimension(),rt=-1;switch(B){case ti.INTERSECTION:rt=Math.min(Q,J);break;case ti.UNION:rt=Math.max(Q,J);break;case ti.DIFFERENCE:rt=Q;break;case ti.SYMDIFFERENCE:rt=Math.max(Q,J)}return rt},ti.createEmptyResult=function(B,U,G,Q){var J=null;switch(ti.resultDimension(B,U,G)){case-1:J=Q.createGeometryCollection(new Array(0).fill(null));break;case 0:J=Q.createPoint();break;case 1:J=Q.createLineString();break;case 2:J=Q.createPolygon()}return J},ti.difference=function(B,U){return B.isEmpty()?ti.createEmptyResult(ti.DIFFERENCE,B,U,B.getFactory()):U.isEmpty()?B.copy():(B.checkNotGeometryCollection(B),B.checkNotGeometryCollection(U),Ls.overlayOp(B,U,ti.DIFFERENCE))},ti.isResultOfOp=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1],G=B.getLocation(0),Q=B.getLocation(1);return ti.isResultOfOp(G,Q,U)}if(arguments.length===3){var J=arguments[0],rt=arguments[1],at=arguments[2];switch(J===xn.BOUNDARY&&(J=xn.INTERIOR),rt===xn.BOUNDARY&&(rt=xn.INTERIOR),at){case ti.INTERSECTION:return J===xn.INTERIOR&&rt===xn.INTERIOR;case ti.UNION:return J===xn.INTERIOR||rt===xn.INTERIOR;case ti.DIFFERENCE:return J===xn.INTERIOR&&rt!==xn.INTERIOR;case ti.SYMDIFFERENCE:return J===xn.INTERIOR&&rt!==xn.INTERIOR||J!==xn.INTERIOR&&rt===xn.INTERIOR}return!1}},ti.INTERSECTION=1,ti.UNION=2,ti.DIFFERENCE=3,ti.SYMDIFFERENCE=4;var Iu=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Qa,this._seg=new Tr;var B=arguments[0],U=arguments[1];this._g=B,this._boundaryDistanceTolerance=U,this._linework=this.extractLinework(B)};Iu.prototype.isWithinToleranceOfBoundary=function(B){for(var U=this,G=0;G<this._linework.getNumGeometries();G++)for(var Q=U._linework.getGeometryN(G).getCoordinateSequence(),J=0;J<Q.size()-1;J++)if(Q.getCoordinate(J,U._seg.p0),Q.getCoordinate(J+1,U._seg.p1),U._seg.distance(B)<=U._boundaryDistanceTolerance)return!0;return!1},Iu.prototype.getLocation=function(B){return this.isWithinToleranceOfBoundary(B)?xn.BOUNDARY:this._ptLocator.locate(B,this._g)},Iu.prototype.extractLinework=function(B){var U=new Qh;B.apply(U);var G=U.getLinework(),Q=gi.toLineStringArray(G);return B.getFactory().createMultiLineString(Q)},Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu};var Qh=function(){this._linework=null,this._linework=new nr};Qh.prototype.getLinework=function(){return this._linework},Qh.prototype.filter=function(B){if(B instanceof ls){var U=B;this._linework.add(U.getExteriorRing());for(var G=0;G<U.getNumInteriorRing();G++)this._linework.add(U.getInteriorRingN(G))}},Qh.prototype.interfaces_=function(){return[Wl]},Qh.prototype.getClass=function(){return Qh};var Lu=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var B=arguments[0];this._g=B};Lu.prototype.extractPoints=function(B,U,G){for(var Q=B.getCoordinates(),J=0;J<Q.length-1;J++)this.computeOffsetPoints(Q[J],Q[J+1],U,G)},Lu.prototype.setSidesToGenerate=function(B,U){this._doLeft=B,this._doRight=U},Lu.prototype.getPoints=function(B){for(var U=new nr,G=js.getLines(this._g).iterator();G.hasNext();){var Q=G.next();this.extractPoints(Q,B,U)}return U},Lu.prototype.computeOffsetPoints=function(B,U,G,Q){var J=U.x-B.x,rt=U.y-B.y,at=Math.sqrt(J*J+rt*rt),ft=G*J/at,yt=G*rt/at,vt=(U.x+B.x)/2,Tt=(U.y+B.y)/2;if(this._doLeft){var xt=new pn(vt-yt,Tt+ft);Q.add(xt)}if(this._doRight){var It=new pn(vt+yt,Tt-ft);Q.add(It)}},Lu.prototype.interfaces_=function(){return[]},Lu.prototype.getClass=function(){return Lu};var va=function B(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=B.TOLERANCE,this._testCoords=new nr;var U=arguments[0],G=arguments[1],Q=arguments[2];this._boundaryDistanceTolerance=B.computeBoundaryDistanceTolerance(U,G),this._geom=[U,G,Q],this._locFinder=[new Iu(this._geom[0],this._boundaryDistanceTolerance),new Iu(this._geom[1],this._boundaryDistanceTolerance),new Iu(this._geom[2],this._boundaryDistanceTolerance)]},h0={TOLERANCE:{configurable:!0}};va.prototype.reportResult=function(B,U,G){Rs.out.println("Overlay result invalid - A:"+xn.toLocationSymbol(U[0])+" B:"+xn.toLocationSymbol(U[1])+" expected:"+(G?"i":"e")+" actual:"+xn.toLocationSymbol(U[2]))},va.prototype.isValid=function(B){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var U=this.checkValid(B);return U},va.prototype.checkValid=function(){var B=this;if(arguments.length===1){for(var U=arguments[0],G=0;G<this._testCoords.size();G++){var Q=B._testCoords.get(G);if(!B.checkValid(U,Q))return B._invalidLocation=Q,!1}return!0}if(arguments.length===2){var J=arguments[0],rt=arguments[1];return this._location[0]=this._locFinder[0].getLocation(rt),this._location[1]=this._locFinder[1].getLocation(rt),this._location[2]=this._locFinder[2].getLocation(rt),!!va.hasLocation(this._location,xn.BOUNDARY)||this.isValidResult(J,this._location)}},va.prototype.addTestPts=function(B){var U=new Lu(B);this._testCoords.addAll(U.getPoints(5*this._boundaryDistanceTolerance))},va.prototype.isValidResult=function(B,U){var G=ti.isResultOfOp(U[0],U[1],B),Q=!(G^U[2]===xn.INTERIOR);return Q||this.reportResult(B,U,G),Q},va.prototype.getInvalidLocation=function(){return this._invalidLocation},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va},va.hasLocation=function(B,U){for(var G=0;G<3;G++)if(B[G]===U)return!0;return!1},va.computeBoundaryDistanceTolerance=function(B,U){return Math.min(Mi.computeSizeBasedSnapTolerance(B),Mi.computeSizeBasedSnapTolerance(U))},va.isValid=function(B,U,G,Q){return new va(B,U,Q).isValid(G)},h0.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(va,h0);var qs=function B(U){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=B.extractFactory(U),this._inputGeoms=U};qs.prototype.extractElements=function(B,U){if(B===null)return null;for(var G=0;G<B.getNumGeometries();G++){var Q=B.getGeometryN(G);this._skipEmpty&&Q.isEmpty()||U.add(Q)}},qs.prototype.combine=function(){for(var B=new nr,U=this._inputGeoms.iterator();U.hasNext();){var G=U.next();this.extractElements(G,B)}return B.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(B)},qs.prototype.interfaces_=function(){return[]},qs.prototype.getClass=function(){return qs},qs.combine=function(){if(arguments.length===1){var B=arguments[0],U=new qs(B);return U.combine()}if(arguments.length===2){var G=arguments[0],Q=arguments[1],J=new qs(qs.createList(G,Q));return J.combine()}if(arguments.length===3){var rt=arguments[0],at=arguments[1],ft=arguments[2],yt=new qs(qs.createList(rt,at,ft));return yt.combine()}},qs.extractFactory=function(B){return B.isEmpty()?null:B.iterator().next().getFactory()},qs.createList=function(){if(arguments.length===2){var B=arguments[0],U=arguments[1],G=new nr;return G.add(B),G.add(U),G}if(arguments.length===3){var Q=arguments[0],J=arguments[1],rt=arguments[2],at=new nr;return at.add(Q),at.add(J),at.add(rt),at}};var ns=function(){this._inputPolys=null,this._geomFactory=null;var B=arguments[0];this._inputPolys=B,this._inputPolys===null&&(this._inputPolys=new nr)},d0={STRTREE_NODE_CAPACITY:{configurable:!0}};ns.prototype.reduceToGeometries=function(B){for(var U=new nr,G=B.iterator();G.hasNext();){var Q=G.next(),J=null;Ur(Q,wl)?J=this.unionTree(Q):Q instanceof Br&&(J=Q),U.add(J)}return U},ns.prototype.extractByEnvelope=function(B,U,G){for(var Q=new nr,J=0;J<U.getNumGeometries();J++){var rt=U.getGeometryN(J);rt.getEnvelopeInternal().intersects(B)?Q.add(rt):G.add(rt)}return this._geomFactory.buildGeometry(Q)},ns.prototype.unionOptimized=function(B,U){var G=B.getEnvelopeInternal(),Q=U.getEnvelopeInternal();if(!G.intersects(Q))return qs.combine(B,U);if(B.getNumGeometries()<=1&&U.getNumGeometries()<=1)return this.unionActual(B,U);var J=G.intersection(Q);return this.unionUsingEnvelopeIntersection(B,U,J)},ns.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var B=new r1(ns.STRTREE_NODE_CAPACITY),U=this._inputPolys.iterator();U.hasNext();){var G=U.next();B.insert(G.getEnvelopeInternal(),G)}this._inputPolys=null;var Q=B.itemsTree();return this.unionTree(Q)},ns.prototype.binaryUnion=function(){if(arguments.length===1){var B=arguments[0];return this.binaryUnion(B,0,B.size())}if(arguments.length===3){var U=arguments[0],G=arguments[1],Q=arguments[2];if(Q-G<=1){var J=ns.getGeometry(U,G);return this.unionSafe(J,null)}if(Q-G==2)return this.unionSafe(ns.getGeometry(U,G),ns.getGeometry(U,G+1));var rt=Math.trunc((Q+G)/2),at=this.binaryUnion(U,G,rt),ft=this.binaryUnion(U,rt,Q);return this.unionSafe(at,ft)}},ns.prototype.repeatedUnion=function(B){for(var U=null,G=B.iterator();G.hasNext();){var Q=G.next();U=U===null?Q.copy():U.union(Q)}return U},ns.prototype.unionSafe=function(B,U){return B===null&&U===null?null:B===null?U.copy():U===null?B.copy():this.unionOptimized(B,U)},ns.prototype.unionActual=function(B,U){return ns.restrictToPolygons(B.union(U))},ns.prototype.unionTree=function(B){var U=this.reduceToGeometries(B);return this.binaryUnion(U)},ns.prototype.unionUsingEnvelopeIntersection=function(B,U,G){var Q=new nr,J=this.extractByEnvelope(G,B,Q),rt=this.extractByEnvelope(G,U,Q),at=this.unionActual(J,rt);return Q.add(at),qs.combine(Q)},ns.prototype.bufferUnion=function(){if(arguments.length===1){var B=arguments[0],U=B.get(0).getFactory(),G=U.buildGeometry(B),Q=G.buffer(0);return Q}if(arguments.length===2){var J=arguments[0],rt=arguments[1],at=J.getFactory(),ft=at.createGeometryCollection([J,rt]),yt=ft.buffer(0);return yt}},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns},ns.restrictToPolygons=function(B){if(Ur(B,Eu))return B;var U=Gc.getPolygons(B);return U.size()===1?U.get(0):B.getFactory().createMultiPolygon(gi.toPolygonArray(U))},ns.getGeometry=function(B,U){return U>=B.size()?null:B.get(U)},ns.union=function(B){return new ns(B).union()},d0.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(ns,d0);var Ll=function(){};function Qc(){return new Hd}function Hd(){this.reset()}Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.union=function(B,U){if(B.isEmpty()||U.isEmpty()){if(B.isEmpty()&&U.isEmpty())return ti.createEmptyResult(ti.UNION,B,U,B.getFactory());if(B.isEmpty())return U.copy();if(U.isEmpty())return B.copy()}return B.checkNotGeometryCollection(B),B.checkNotGeometryCollection(U),Ls.overlayOp(B,U,ti.UNION)},Hd.prototype={constructor:Hd,reset:function(){this.s=this.t=0},add:function(B){f0(Ff,B,this.t),f0(this,Ff.s,this.s),this.s?this.t+=Ff.t:this.s=Ff.t},valueOf:function(){return this.s}};var Ff=new Hd;function f0(B,U,G){var Q=B.s=U+G,J=Q-U,rt=Q-J;B.t=U-rt+(G-J)}var Zo=1e-6,co=Math.PI,Xc=co/2,u1=co/4,Zc=2*co,Hr=180/co,pl=co/180,sa=Math.abs,Py=Math.atan,Vd=Math.atan2,fs=Math.cos,ps=Math.sin,Uf=Math.sqrt;function Vp(B){return B>1?0:B<-1?co:Math.acos(B)}function Sc(B){return B>1?Xc:B<-1?-Xc:Math.asin(B)}function lh(){}function Yf(B,U){B&&p0.hasOwnProperty(B.type)&&p0[B.type](B,U)}var Gp={Feature:function(B,U){Yf(B.geometry,U)},FeatureCollection:function(B,U){for(var G=B.features,Q=-1,J=G.length;++Q<J;)Yf(G[Q].geometry,U)}},p0={Sphere:function(B,U){U.sphere()},Point:function(B,U){B=B.coordinates,U.point(B[0],B[1],B[2])},MultiPoint:function(B,U){for(var G=B.coordinates,Q=-1,J=G.length;++Q<J;)B=G[Q],U.point(B[0],B[1],B[2])},LineString:function(B,U){Wp(B.coordinates,U,0)},MultiLineString:function(B,U){for(var G=B.coordinates,Q=-1,J=G.length;++Q<J;)Wp(G[Q],U,0)},Polygon:function(B,U){Gd(B.coordinates,U)},MultiPolygon:function(B,U){for(var G=B.coordinates,Q=-1,J=G.length;++Q<J;)Gd(G[Q],U)},GeometryCollection:function(B,U){for(var G=B.geometries,Q=-1,J=G.length;++Q<J;)Yf(G[Q],U)}};function Wp(B,U,G){var Q,J=-1,rt=B.length-G;for(U.lineStart();++J<rt;)Q=B[J],U.point(Q[0],Q[1],Q[2]);U.lineEnd()}function Gd(B,U){var G=-1,Q=B.length;for(U.polygonStart();++G<Q;)Wp(B[G],U,1);U.polygonEnd()}Qc(),Qc();function g0(B){return[Vd(B[1],B[0]),Sc(B[2])]}function rs(B){var U=B[0],G=B[1],Q=fs(G);return[Q*fs(U),Q*ps(U),ps(G)]}function Hf(B,U){return B[0]*U[0]+B[1]*U[1]+B[2]*U[2]}function qp(B,U){return[B[1]*U[2]-B[2]*U[1],B[2]*U[0]-B[0]*U[2],B[0]*U[1]-B[1]*U[0]]}function m0(B,U){B[0]+=U[0],B[1]+=U[1],B[2]+=U[2]}function Qp(B,U){return[B[0]*U,B[1]*U,B[2]*U]}function y0(B){var U=Uf(B[0]*B[0]+B[1]*B[1]+B[2]*B[2]);B[0]/=U,B[1]/=U,B[2]/=U}Qc();function v0(B,U){function G(Q,J){return Q=B(Q,J),U(Q[0],Q[1])}return B.invert&&U.invert&&(G.invert=function(Q,J){return(Q=U.invert(Q,J))&&B.invert(Q[0],Q[1])}),G}function b0(B,U){return[B>co?B-Zc:B<-co?B+Zc:B,U]}function h1(B){return function(U,G){return[(U+=B)>co?U-Zc:U<-co?U+Zc:U,G]}}function _0(B){var U=h1(B);return U.invert=h1(-B),U}function w0(B,U){var G=fs(B),Q=ps(B),J=fs(U),rt=ps(U);function at(ft,yt){var vt=fs(yt),Tt=fs(ft)*vt,xt=ps(ft)*vt,It=ps(yt),Gt=It*G+Tt*Q;return[Vd(xt*J-Gt*rt,Tt*G-It*Q),Sc(Gt*J+xt*rt)]}return at.invert=function(ft,yt){var vt=fs(yt),Tt=fs(ft)*vt,xt=ps(ft)*vt,It=ps(yt),Gt=It*J-xt*rt;return[Vd(xt*J+It*rt,Tt*G+Gt*Q),Sc(Gt*G-Tt*Q)]},at}function x0(B,U){(U=rs(U))[0]-=B,y0(U);var G=Vp(-U[1]);return((-U[2]<0?-G:G)+Zc-Zo)%Zc}function Xp(){var B,U=[];return{point:function(G,Q){B.push([G,Q])},lineStart:function(){U.push(B=[])},lineEnd:lh,rejoin:function(){U.length>1&&U.push(U.pop().concat(U.shift()))},result:function(){var G=U;return U=[],B=null,G}}}function Zp(B,U){return sa(B[0]-U[0])<Zo&&sa(B[1]-U[1])<Zo}function Xh(B,U,G,Q){this.x=B,this.z=U,this.o=G,this.e=Q,this.v=!1,this.n=this.p=null}function E0(B,U,G,Q,J){var rt,at,ft=[],yt=[];if(B.forEach(function(Wt){if(!((ee=Wt.length-1)<=0)){var ee,Bt,me=Wt[0],Ie=Wt[ee];if(Zp(me,Ie)){for(J.lineStart(),rt=0;rt<ee;++rt)J.point((me=Wt[rt])[0],me[1]);J.lineEnd()}else ft.push(Bt=new Xh(me,Wt,null,!0)),yt.push(Bt.o=new Xh(me,null,Bt,!1)),ft.push(Bt=new Xh(Ie,Wt,null,!1)),yt.push(Bt.o=new Xh(Ie,null,Bt,!0))}}),ft.length){for(yt.sort(U),Vf(ft),Vf(yt),rt=0,at=yt.length;rt<at;++rt)yt[rt].e=G=!G;for(var vt,Tt,xt=ft[0];;){for(var It=xt,Gt=!0;It.v;)if((It=It.n)===xt)return;vt=It.z,J.lineStart();do{if(It.v=It.o.v=!0,It.e){if(Gt)for(rt=0,at=vt.length;rt<at;++rt)J.point((Tt=vt[rt])[0],Tt[1]);else Q(It.x,It.n.x,1,J);It=It.n}else{if(Gt)for(vt=It.p.z,rt=vt.length-1;rt>=0;--rt)J.point((Tt=vt[rt])[0],Tt[1]);else Q(It.x,It.p.x,-1,J);It=It.p}vt=(It=It.o).z,Gt=!Gt}while(!It.v);J.lineEnd()}}}function Vf(B){if(U=B.length){for(var U,G,Q=0,J=B[0];++Q<U;)J.n=G=B[Q],G.p=J,J=G;J.n=G=B[0],G.p=J}}function Gf(B,U){return B<U?-1:B>U?1:B>=U?0:NaN}b0.invert=b0;var Wd,Jc;(Wd=Gf).length===1&&(Jc=Wd,Wd=function(B,U){return Gf(Jc(B),U)});function d1(B){for(var U,G,Q,J=B.length,rt=-1,at=0;++rt<J;)at+=B[rt].length;for(G=new Array(at);--J>=0;)for(U=(Q=B[J]).length;--U>=0;)G[--at]=Q[U];return G}var qd=1e9,$s=-qd;function Jp(B,U,G,Q){function J(vt,Tt){return B<=vt&&vt<=G&&U<=Tt&&Tt<=Q}function rt(vt,Tt,xt,It){var Gt=0,Wt=0;if(vt==null||(Gt=at(vt,xt))!==(Wt=at(Tt,xt))||yt(vt,Tt)<0^xt>0)do It.point(Gt===0||Gt===3?B:G,Gt>1?Q:U);while((Gt=(Gt+xt+4)%4)!==Wt);else It.point(Tt[0],Tt[1])}function at(vt,Tt){return sa(vt[0]-B)<Zo?Tt>0?0:3:sa(vt[0]-G)<Zo?Tt>0?2:1:sa(vt[1]-U)<Zo?Tt>0?1:0:Tt>0?3:2}function ft(vt,Tt){return yt(vt.x,Tt.x)}function yt(vt,Tt){var xt=at(vt,1),It=at(Tt,1);return xt!==It?xt-It:xt===0?Tt[1]-vt[1]:xt===1?vt[0]-Tt[0]:xt===2?vt[1]-Tt[1]:Tt[0]-vt[0]}return function(vt){var Tt,xt,It,Gt,Wt,ee,Bt,me,Ie,Zt,fe,be=vt,Ee=Xp(),_e={point:wn,lineStart:function(){_e.point=cn,xt&&xt.push(It=[]),Zt=!0,Ie=!1,Bt=me=NaN},lineEnd:function(){Tt&&(cn(Gt,Wt),ee&&Ie&&Ee.rejoin(),Tt.push(Ee.result())),_e.point=wn,Ie&&be.lineEnd()},polygonStart:function(){be=Ee,Tt=[],xt=[],fe=!0},polygonEnd:function(){var Tn=function(){for(var yn=0,mn=0,fn=xt.length;mn<fn;++mn)for(var Sn,bn,Nn=xt[mn],Ze=1,Mr=Nn.length,Qn=Nn[0],ri=Qn[0],gr=Qn[1];Ze<Mr;++Ze)Sn=ri,bn=gr,ri=(Qn=Nn[Ze])[0],gr=Qn[1],bn<=Q?gr>Q&&(ri-Sn)*(Q-bn)>(gr-bn)*(B-Sn)&&++yn:gr<=Q&&(ri-Sn)*(Q-bn)<(gr-bn)*(B-Sn)&&--yn;return yn}(),dn=fe&&Tn,An=(Tt=d1(Tt)).length;(dn||An)&&(vt.polygonStart(),dn&&(vt.lineStart(),rt(null,null,1,vt),vt.lineEnd()),An&&E0(Tt,ft,Tn,rt,vt),vt.polygonEnd()),be=vt,Tt=xt=It=null}};function wn(Tn,dn){J(Tn,dn)&&be.point(Tn,dn)}function cn(Tn,dn){var An=J(Tn,dn);if(xt&&It.push([Tn,dn]),Zt)Gt=Tn,Wt=dn,ee=An,Zt=!1,An&&(be.lineStart(),be.point(Tn,dn));else if(An&&Ie)be.point(Tn,dn);else{var yn=[Bt=Math.max($s,Math.min(qd,Bt)),me=Math.max($s,Math.min(qd,me))],mn=[Tn=Math.max($s,Math.min(qd,Tn)),dn=Math.max($s,Math.min(qd,dn))];(function(fn,Sn,bn,Nn,Ze,Mr){var Qn,ri=fn[0],gr=fn[1],jr=0,Ti=1,po=Sn[0]-ri,Fs=Sn[1]-gr;if(Qn=bn-ri,po||!(Qn>0)){if(Qn/=po,po<0){if(Qn<jr)return;Qn<Ti&&(Ti=Qn)}else if(po>0){if(Qn>Ti)return;Qn>jr&&(jr=Qn)}if(Qn=Ze-ri,po||!(Qn<0)){if(Qn/=po,po<0){if(Qn>Ti)return;Qn>jr&&(jr=Qn)}else if(po>0){if(Qn<jr)return;Qn<Ti&&(Ti=Qn)}if(Qn=Nn-gr,Fs||!(Qn>0)){if(Qn/=Fs,Fs<0){if(Qn<jr)return;Qn<Ti&&(Ti=Qn)}else if(Fs>0){if(Qn>Ti)return;Qn>jr&&(jr=Qn)}if(Qn=Mr-gr,Fs||!(Qn<0)){if(Qn/=Fs,Fs<0){if(Qn>Ti)return;Qn>jr&&(jr=Qn)}else if(Fs>0){if(Qn<jr)return;Qn<Ti&&(Ti=Qn)}return jr>0&&(fn[0]=ri+jr*po,fn[1]=gr+jr*Fs),Ti<1&&(Sn[0]=ri+Ti*po,Sn[1]=gr+Ti*Fs),!0}}}}})(yn,mn,B,U,G,Q)?(Ie||(be.lineStart(),be.point(yn[0],yn[1])),be.point(mn[0],mn[1]),An||be.lineEnd(),fe=!1):An&&(be.lineStart(),be.point(Tn,dn),fe=!1)}Bt=Tn,me=dn,Ie=An}return _e}}var M0=Qc();Qc();function f1(B){return B}Qc(),Qc();var Qd=1/0,Zh=Qd,ch=-Qd,Kp=ch,p1={point:function(B,U){B<Qd&&(Qd=B),B>ch&&(ch=B),U<Zh&&(Zh=U),U>Kp&&(Kp=U)},lineStart:lh,lineEnd:lh,polygonStart:lh,polygonEnd:lh,result:function(){var B=[[Qd,Zh],[ch,Kp]];return ch=Kp=-(Zh=Qd=1/0),B}};Qc();function T0(B,U,G,Q){return function(J,rt){var at,ft,yt,vt=U(rt),Tt=J.invert(Q[0],Q[1]),xt=Xp(),It=U(xt),Gt=!1,Wt={point:ee,lineStart:me,lineEnd:Ie,polygonStart:function(){Wt.point=Zt,Wt.lineStart=fe,Wt.lineEnd=be,ft=[],at=[]},polygonEnd:function(){Wt.point=ee,Wt.lineStart=me,Wt.lineEnd=Ie,ft=d1(ft);var Ee=function(_e,wn){var cn=wn[0],Tn=wn[1],dn=[ps(cn),-fs(cn),0],An=0,yn=0;M0.reset();for(var mn=0,fn=_e.length;mn<fn;++mn)if(bn=(Sn=_e[mn]).length)for(var Sn,bn,Nn=Sn[bn-1],Ze=Nn[0],Mr=Nn[1]/2+u1,Qn=ps(Mr),ri=fs(Mr),gr=0;gr<bn;++gr,Ze=Ti,Qn=Fs,ri=qf,Nn=jr){var jr=Sn[gr],Ti=jr[0],po=jr[1]/2+u1,Fs=ps(po),qf=fs(po),uh=Ti-Ze,Qf=uh>=0?1:-1,Xf=Qf*uh,Xd=Xf>co,eg=Qn*Fs;if(M0.add(Vd(eg*Qf*ps(Xf),ri*qf+eg*fs(Xf))),An+=Xd?uh+Qf*Zc:uh,Xd^Ze>=cn^Ti>=cn){var Zd=qp(rs(Nn),rs(jr));y0(Zd);var C1=qp(dn,Zd);y0(C1);var k1=(Xd^uh>=0?-1:1)*Sc(C1[2]);(Tn>k1||Tn===k1&&(Zd[0]||Zd[1]))&&(yn+=Xd^uh>=0?1:-1)}}return(An<-1e-6||An<Zo&&M0<-1e-6)^1&yn}(at,Tt);ft.length?(Gt||(rt.polygonStart(),Gt=!0),E0(ft,S0,Ee,G,rt)):Ee&&(Gt||(rt.polygonStart(),Gt=!0),rt.lineStart(),G(null,null,1,rt),rt.lineEnd()),Gt&&(rt.polygonEnd(),Gt=!1),ft=at=null},sphere:function(){rt.polygonStart(),rt.lineStart(),G(null,null,1,rt),rt.lineEnd(),rt.polygonEnd()}};function ee(Ee,_e){var wn=J(Ee,_e);B(Ee=wn[0],_e=wn[1])&&rt.point(Ee,_e)}function Bt(Ee,_e){var wn=J(Ee,_e);vt.point(wn[0],wn[1])}function me(){Wt.point=Bt,vt.lineStart()}function Ie(){Wt.point=ee,vt.lineEnd()}function Zt(Ee,_e){yt.push([Ee,_e]);var wn=J(Ee,_e);It.point(wn[0],wn[1])}function fe(){It.lineStart(),yt=[]}function be(){Zt(yt[0][0],yt[0][1]),It.lineEnd();var Ee,_e,wn,cn,Tn=It.clean(),dn=xt.result(),An=dn.length;if(yt.pop(),at.push(yt),yt=null,An)if(1&Tn){if((_e=(wn=dn[0]).length-1)>0){for(Gt||(rt.polygonStart(),Gt=!0),rt.lineStart(),Ee=0;Ee<_e;++Ee)rt.point((cn=wn[Ee])[0],cn[1]);rt.lineEnd()}}else An>1&&2&Tn&&dn.push(dn.pop().concat(dn.shift())),ft.push(dn.filter(g1))}return Wt}}function g1(B){return B.length>1}function S0(B,U){return((B=B.x)[0]<0?B[1]-Xc-Zo:Xc-B[1])-((U=U.x)[0]<0?U[1]-Xc-Zo:Xc-U[1])}var C0=T0(function(){return!0},function(B){var U,G=NaN,Q=NaN,J=NaN;return{lineStart:function(){B.lineStart(),U=1},point:function(rt,at){var ft=rt>0?co:-co,yt=sa(rt-G);sa(yt-co)<Zo?(B.point(G,Q=(Q+at)/2>0?Xc:-Xc),B.point(J,Q),B.lineEnd(),B.lineStart(),B.point(ft,Q),B.point(rt,Q),U=0):J!==ft&&yt>=co&&(sa(G-J)<Zo&&(G-=J*Zo),sa(rt-ft)<Zo&&(rt-=ft*Zo),Q=function(vt,Tt,xt,It){var Gt,Wt,ee=ps(vt-xt);return sa(ee)>Zo?Py((ps(Tt)*(Wt=fs(It))*ps(xt)-ps(It)*(Gt=fs(Tt))*ps(vt))/(Gt*Wt*ee)):(Tt+It)/2}(G,Q,rt,at),B.point(J,Q),B.lineEnd(),B.lineStart(),B.point(ft,Q),U=0),B.point(G=rt,Q=at),J=ft},lineEnd:function(){B.lineEnd(),G=Q=NaN},clean:function(){return 2-U}}},function(B,U,G,Q){var J;if(B==null)J=G*Xc,Q.point(-co,J),Q.point(0,J),Q.point(co,J),Q.point(co,0),Q.point(co,-J),Q.point(0,-J),Q.point(-co,-J),Q.point(-co,0),Q.point(-co,J);else if(sa(B[0]-U[0])>Zo){var rt=B[0]<U[0]?co:-co;J=G*rt/2,Q.point(-rt,J),Q.point(0,J),Q.point(rt,J)}else Q.point(U[0],U[1])},[-co,-Xc]);function tg(B,U){var G=fs(B),Q=G>0,J=sa(G)>Zo;function rt(yt,vt){return fs(yt)*fs(vt)>G}function at(yt,vt,Tt){var xt=[1,0,0],It=qp(rs(yt),rs(vt)),Gt=Hf(It,It),Wt=It[0],ee=Gt-Wt*Wt;if(!ee)return!Tt&&yt;var Bt=G*Gt/ee,me=-G*Wt/ee,Ie=qp(xt,It),Zt=Qp(xt,Bt);m0(Zt,Qp(It,me));var fe=Ie,be=Hf(Zt,fe),Ee=Hf(fe,fe),_e=be*be-Ee*(Hf(Zt,Zt)-1);if(!(_e<0)){var wn=Uf(_e),cn=Qp(fe,(-be-wn)/Ee);if(m0(cn,Zt),cn=g0(cn),!Tt)return cn;var Tn,dn=yt[0],An=vt[0],yn=yt[1],mn=vt[1];An<dn&&(Tn=dn,dn=An,An=Tn);var fn=An-dn,Sn=sa(fn-co)<Zo;if(!Sn&&mn<yn&&(Tn=yn,yn=mn,mn=Tn),Sn||fn<Zo?Sn?yn+mn>0^cn[1]<(sa(cn[0]-dn)<Zo?yn:mn):yn<=cn[1]&&cn[1]<=mn:fn>co^(dn<=cn[0]&&cn[0]<=An)){var bn=Qp(fe,(-be+wn)/Ee);return m0(bn,Zt),[cn,g0(bn)]}}}function ft(yt,vt){var Tt=Q?B:co-B,xt=0;return yt<-Tt?xt|=1:yt>Tt&&(xt|=2),vt<-Tt?xt|=4:vt>Tt&&(xt|=8),xt}return T0(rt,function(yt){var vt,Tt,xt,It,Gt;return{lineStart:function(){It=xt=!1,Gt=1},point:function(Wt,ee){var Bt,me=[Wt,ee],Ie=rt(Wt,ee),Zt=Q?Ie?0:ft(Wt,ee):Ie?ft(Wt+(Wt<0?co:-co),ee):0;if(!vt&&(It=xt=Ie)&&yt.lineStart(),Ie!==xt&&(!(Bt=at(vt,me))||Zp(vt,Bt)||Zp(me,Bt))&&(me[0]+=Zo,me[1]+=Zo,Ie=rt(me[0],me[1])),Ie!==xt)Gt=0,Ie?(yt.lineStart(),Bt=at(me,vt),yt.point(Bt[0],Bt[1])):(Bt=at(vt,me),yt.point(Bt[0],Bt[1]),yt.lineEnd()),vt=Bt;else if(J&&vt&&Q^Ie){var fe;Zt&Tt||!(fe=at(me,vt,!0))||(Gt=0,Q?(yt.lineStart(),yt.point(fe[0][0],fe[0][1]),yt.point(fe[1][0],fe[1][1]),yt.lineEnd()):(yt.point(fe[1][0],fe[1][1]),yt.lineEnd(),yt.lineStart(),yt.point(fe[0][0],fe[0][1])))}!Ie||vt&&Zp(vt,me)||yt.point(me[0],me[1]),vt=me,xt=Ie,Tt=Zt},lineEnd:function(){xt&&yt.lineEnd(),vt=null},clean:function(){return Gt|(It&&xt)<<1}}},function(yt,vt,Tt,xt){(function(It,Gt,Wt,ee,Bt,me){if(Wt){var Ie=fs(Gt),Zt=ps(Gt),fe=ee*Wt;Bt==null?(Bt=Gt+ee*Zc,me=Gt-fe/2):(Bt=x0(Ie,Bt),me=x0(Ie,me),(ee>0?Bt<me:Bt>me)&&(Bt+=ee*Zc));for(var be,Ee=Bt;ee>0?Ee>me:Ee<me;Ee-=fe)be=g0([Ie,-Zt*fs(Ee),-Zt*ps(Ee)]),It.point(be[0],be[1])}})(xt,B,U,Tt,yt,vt)},Q?[0,-B]:[-co,B-co])}function m1(B){return function(U){var G=new k0;for(var Q in B)G[Q]=B[Q];return G.stream=U,G}}function k0(){}function Wf(B,U,G){var Q=U[1][0]-U[0][0],J=U[1][1]-U[0][1],rt=B.clipExtent&&B.clipExtent();B.scale(150).translate([0,0]),rt!=null&&B.clipExtent(null),function(Tt,xt){Tt&&Gp.hasOwnProperty(Tt.type)?Gp[Tt.type](Tt,xt):Yf(Tt,xt)}(G,B.stream(p1));var at=p1.result(),ft=Math.min(Q/(at[1][0]-at[0][0]),J/(at[1][1]-at[0][1])),yt=+U[0][0]+(Q-ft*(at[1][0]+at[0][0]))/2,vt=+U[0][1]+(J-ft*(at[1][1]+at[0][1]))/2;return rt!=null&&B.clipExtent(rt),B.scale(150*ft).translate([yt,vt])}k0.prototype={constructor:k0,point:function(B,U){this.stream.point(B,U)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var zy=fs(30*pl);function y1(B,U){return+U?function(G,Q){function J(rt,at,ft,yt,vt,Tt,xt,It,Gt,Wt,ee,Bt,me,Ie){var Zt=xt-rt,fe=It-at,be=Zt*Zt+fe*fe;if(be>4*Q&&me--){var Ee=yt+Wt,_e=vt+ee,wn=Tt+Bt,cn=Uf(Ee*Ee+_e*_e+wn*wn),Tn=Sc(wn/=cn),dn=sa(sa(wn)-1)<Zo||sa(ft-Gt)<Zo?(ft+Gt)/2:Vd(_e,Ee),An=G(dn,Tn),yn=An[0],mn=An[1],fn=yn-rt,Sn=mn-at,bn=fe*fn-Zt*Sn;(bn*bn/be>Q||sa((Zt*fn+fe*Sn)/be-.5)>.3||yt*Wt+vt*ee+Tt*Bt<zy)&&(J(rt,at,ft,yt,vt,Tt,yn,mn,dn,Ee/=cn,_e/=cn,wn,me,Ie),Ie.point(yn,mn),J(yn,mn,dn,Ee,_e,wn,xt,It,Gt,Wt,ee,Bt,me,Ie))}}return function(rt){var at,ft,yt,vt,Tt,xt,It,Gt,Wt,ee,Bt,me,Ie={point:Zt,lineStart:fe,lineEnd:Ee,polygonStart:function(){rt.polygonStart(),Ie.lineStart=_e},polygonEnd:function(){rt.polygonEnd(),Ie.lineStart=fe}};function Zt(Tn,dn){Tn=G(Tn,dn),rt.point(Tn[0],Tn[1])}function fe(){Gt=NaN,Ie.point=be,rt.lineStart()}function be(Tn,dn){var An=rs([Tn,dn]),yn=G(Tn,dn);J(Gt,Wt,It,ee,Bt,me,Gt=yn[0],Wt=yn[1],It=Tn,ee=An[0],Bt=An[1],me=An[2],16,rt),rt.point(Gt,Wt)}function Ee(){Ie.point=Zt,rt.lineEnd()}function _e(){fe(),Ie.point=wn,Ie.lineEnd=cn}function wn(Tn,dn){be(at=Tn,dn),ft=Gt,yt=Wt,vt=ee,Tt=Bt,xt=me,Ie.point=be}function cn(){J(Gt,Wt,It,ee,Bt,me,ft,yt,at,vt,Tt,xt,16,rt),Ie.lineEnd=Ee,Ee()}return Ie}}(B,U):function(G){return m1({point:function(Q,J){Q=G(Q,J),this.stream.point(Q[0],Q[1])}})}(B)}var v1=m1({point:function(B,U){this.stream.point(B*pl,U*pl)}});function Ry(B){return function(U){var G,Q,J,rt,at,ft,yt,vt,Tt,xt,It=150,Gt=480,Wt=250,ee=0,Bt=0,me=0,Ie=0,Zt=0,fe=null,be=C0,Ee=null,_e=f1,wn=.5,cn=y1(An,wn);function Tn(fn){return[(fn=at(fn[0]*pl,fn[1]*pl))[0]*It+Q,J-fn[1]*It]}function dn(fn){return(fn=at.invert((fn[0]-Q)/It,(J-fn[1])/It))&&[fn[0]*Hr,fn[1]*Hr]}function An(fn,Sn){return[(fn=G(fn,Sn))[0]*It+Q,J-fn[1]*It]}function yn(){at=v0(rt=function(Sn,bn,Nn){return(Sn%=Zc)?bn||Nn?v0(_0(Sn),w0(bn,Nn)):_0(Sn):bn||Nn?w0(bn,Nn):b0}(me,Ie,Zt),G);var fn=G(ee,Bt);return Q=Gt-fn[0]*It,J=Wt+fn[1]*It,mn()}function mn(){return Tt=xt=null,Tn}return Tn.stream=function(fn){return Tt&&xt===fn?Tt:Tt=v1(be(rt,cn(_e(xt=fn))))},Tn.clipAngle=function(fn){return arguments.length?(be=+fn?tg(fe=fn*pl,6*pl):(fe=null,C0),mn()):fe*Hr},Tn.clipExtent=function(fn){return arguments.length?(_e=fn==null?(Ee=ft=yt=vt=null,f1):Jp(Ee=+fn[0][0],ft=+fn[0][1],yt=+fn[1][0],vt=+fn[1][1]),mn()):Ee==null?null:[[Ee,ft],[yt,vt]]},Tn.scale=function(fn){return arguments.length?(It=+fn,yn()):It},Tn.translate=function(fn){return arguments.length?(Gt=+fn[0],Wt=+fn[1],yn()):[Gt,Wt]},Tn.center=function(fn){return arguments.length?(ee=fn[0]%360*pl,Bt=fn[1]%360*pl,yn()):[ee*Hr,Bt*Hr]},Tn.rotate=function(fn){return arguments.length?(me=fn[0]%360*pl,Ie=fn[1]%360*pl,Zt=fn.length>2?fn[2]%360*pl:0,yn()):[me*Hr,Ie*Hr,Zt*Hr]},Tn.precision=function(fn){return arguments.length?(cn=y1(An,wn=fn*fn),mn()):Uf(wn)},Tn.fitExtent=function(fn,Sn){return Wf(Tn,fn,Sn)},Tn.fitSize=function(fn,Sn){return function(bn,Nn,Ze){return Wf(bn,[[0,0],Nn],Ze)}(Tn,fn,Sn)},function(){return G=U.apply(this,arguments),Tn.invert=G.invert&&dn,yn()}}(function(){return B})()}var A0=function(B){return function(U,G){var Q=fs(U),J=fs(G),rt=B(Q*J);return[rt*J*ps(U),rt*ps(G)]}}(function(B){return(B=Vp(B))&&B/ps(B)});function jy(){return Ry(A0).scale(79.4188).clipAngle(179.999)}function Jh(B,U,G,Q){var J=B.properties||{},rt=B.type==="Feature"?B.geometry:B;if(rt.type==="GeometryCollection"){var at=[];return Oe(B,function(It){var Gt=Jh(It,U,G,Q);Gt&&at.push(Gt)}),ht(at)}var ft=function(It){var Gt=ko(It).geometry.coordinates,Wt=[-Gt[0],-Gt[1]];return jy().rotate(Wt).scale(O)}(rt),yt={type:rt.type,coordinates:_1(rt.coordinates,ft)},vt=new Lp().read(yt),Tt=At(Ct(U,G),"meters"),xt=yo.bufferOp(vt,Tt,Q);if(!b1((xt=new Km().write(xt)).coordinates))return W({type:xt.type,coordinates:w1(xt.coordinates,ft)},J)}function b1(B){return Array.isArray(B[0])?b1(B[0]):isNaN(B[0])}function _1(B,U){return typeof B[0]!="object"?U(B):B.map(function(G){return _1(G,U)})}function w1(B,U){return typeof B[0]!="object"?U.invert(B):B.map(function(G){return w1(G,U)})}function Kh(B,U,G){G===void 0&&(G={});var Q=ke(B),J=ke(U),rt=bu.intersection(Q.coordinates,J.coordinates);return rt.length===0?null:rt.length===1?nt(rt[0],G.properties):mt(rt,G.properties)}function x1(B,U,G){G===void 0&&(G={});var Q=JSON.stringify(G.properties||{}),J=B[0],rt=B[1],at=B[2],ft=B[3],yt=(rt+ft)/2,vt=(J+at)/2,Tt=2*U/Yr([J,yt],[at,yt],G)*(at-J),xt=2*U/Yr([vt,rt],[vt,ft],G)*(ft-rt),It=Tt/2,Gt=2*It,Wt=Math.sqrt(3)/2*xt,ee=at-J,Bt=ft-rt,me=3/4*Gt,Ie=Wt,Zt=(ee-Gt)/(Gt-It/2),fe=Math.floor(Zt),be=(fe*me-It/2-ee)/2-It/2+me/2,Ee=Math.floor((Bt-Wt)/Wt),_e=(Bt-Ee*Wt)/2,wn=Ee*Wt-Bt>Wt/2;wn&&(_e-=Wt/4);for(var cn=[],Tn=[],dn=0;dn<6;dn++){var An=2*Math.PI/6*dn;cn.push(Math.cos(An)),Tn.push(Math.sin(An))}for(var yn=[],mn=0;mn<=fe;mn++)for(var fn=0;fn<=Ee;fn++){var Sn=mn%2==1;if((fn!==0||!Sn)&&(fn!==0||!wn)){var bn=mn*me+J-be,Nn=fn*Ie+rt+_e;if(Sn&&(Nn-=Wt/2),G.triangles===!0)M1([bn,Nn],Tt/2,xt/2,JSON.parse(Q),cn,Tn).forEach(function(Mr){G.mask?Kh(G.mask,Mr)&&yn.push(Mr):yn.push(Mr)});else{var Ze=E1([bn,Nn],Tt/2,xt/2,JSON.parse(Q),cn,Tn);G.mask?Kh(G.mask,Ze)&&yn.push(Ze):yn.push(Ze)}}}return ht(yn)}function E1(B,U,G,Q,J,rt){for(var at=[],ft=0;ft<6;ft++){var yt=B[0]+U*J[ft],vt=B[1]+G*rt[ft];at.push([yt,vt])}return at.push(at[0].slice()),nt([at],Q)}function M1(B,U,G,Q,J,rt){for(var at=[],ft=0;ft<6;ft++){var yt=[];yt.push(B),yt.push([B[0]+U*J[ft],B[1]+G*rt[ft]]),yt.push([B[0]+U*J[(ft+1)%6],B[1]+G*rt[(ft+1)%6]]),yt.push(B),at.push(nt([yt],Q))}return at}function T1(B){return mt(B)}function By(B){return nt(B&&B.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function S1(B,U,G){return G===void 0&&(G={}),function(Q,J,rt,at){at===void 0&&(at={});for(var ft=[],yt=Q[0],vt=Q[1],Tt=Q[2],xt=Q[3],It=J/Yr([yt,vt],[Tt,vt],at)*(Tt-yt),Gt=rt/Yr([yt,vt],[yt,xt],at)*(xt-vt),Wt=Tt-yt,ee=xt-vt,Bt=Math.floor(Wt/It),me=Math.floor(ee/Gt),Ie=(ee-me*Gt)/2,Zt=yt+(Wt-Bt*It)/2,fe=0;fe<Bt;fe++){for(var be=vt+Ie,Ee=0;Ee<me;Ee++){var _e=nt([[[Zt,be],[Zt,be+Gt],[Zt+It,be+Gt],[Zt+It,be],[Zt,be]]],at.properties);at.mask?q0(at.mask,_e)&&ft.push(_e):ft.push(_e),be+=Gt}Zt+=It}return ht(ft)}(B,U,U,G)}function N0(B,U,G){G===void 0&&(G={});for(var Q=[],J=U/Yr([B[0],B[1]],[B[2],B[1]],G)*(B[2]-B[0]),rt=U/Yr([B[0],B[1]],[B[0],B[3]],G)*(B[3]-B[1]),at=0,ft=B[0];ft<=B[2];){for(var yt=0,vt=B[1];vt<=B[3];){var Tt=null,xt=null;at%2==0&&yt%2==0?(Tt=nt([[[ft,vt],[ft,vt+rt],[ft+J,vt],[ft,vt]]],G.properties),xt=nt([[[ft,vt+rt],[ft+J,vt+rt],[ft+J,vt],[ft,vt+rt]]],G.properties)):at%2==0&&yt%2==1?(Tt=nt([[[ft,vt],[ft+J,vt+rt],[ft+J,vt],[ft,vt]]],G.properties),xt=nt([[[ft,vt],[ft,vt+rt],[ft+J,vt+rt],[ft,vt]]],G.properties)):yt%2==0&&at%2==1?(Tt=nt([[[ft,vt],[ft,vt+rt],[ft+J,vt+rt],[ft,vt]]],G.properties),xt=nt([[[ft,vt],[ft+J,vt+rt],[ft+J,vt],[ft,vt]]],G.properties)):yt%2==1&&at%2==1&&(Tt=nt([[[ft,vt],[ft,vt+rt],[ft+J,vt],[ft,vt]]],G.properties),xt=nt([[[ft,vt+rt],[ft+J,vt+rt],[ft+J,vt],[ft,vt+rt]]],G.properties)),G.mask?(Kh(G.mask,Tt)&&Q.push(Tt),Kh(G.mask,xt)&&Q.push(xt)):(Q.push(Tt),Q.push(xt)),vt+=rt,yt++}at++,ft+=J}return ht(Q)}A0.invert=function(B){return function(U,G){var Q=Uf(U*U+G*G),J=B(Q),rt=ps(J),at=fs(J);return[Vd(U*rt,Q*at),Sc(Q&&G*rt/Q)]}}(function(B){return B}),D.along=function(B,U,G){G===void 0&&(G={});for(var Q=ke(B).coordinates,J=0,rt=0;rt<Q.length&&!(U>=J&&rt===Q.length-1);rt++){if(J>=U){var at=U-J;if(at){var ft=nl(Q[rt],Q[rt-1])-180;return vo(Q[rt],at,ft,G)}return X(Q[rt])}J+=Yr(Q[rt],Q[rt+1],G)}return X(Q[Q.length-1])},D.angle=function(B,U,G,Q){if(Q===void 0&&(Q={}),!Dt(Q))throw new Error("options is invalid");if(!B)throw new Error("startPoint is required");if(!U)throw new Error("midPoint is required");if(!G)throw new Error("endPoint is required");var J=B,rt=U,at=G,ft=Lt(Q.mercator!==!0?nl(J,rt):fu(J,rt)),yt=Lt(Q.mercator!==!0?nl(at,rt):fu(at,rt)),vt=Math.abs(ft-yt);return Q.explementary===!0?360-vt:vt},D.applyFilter=_p,D.area=Uu,D.areaFactors=Y,D.bbox=jt,D.bboxClip=function(B,U){var G=ke(B),Q=G.type,J=B.type==="Feature"?B.properties:{},rt=G.coordinates;switch(Q){case"LineString":case"MultiLineString":var at=[];return Q==="LineString"&&(rt=[rt]),rt.forEach(function(ft){(function(yt,vt,Tt){var xt,It,Gt,Wt,ee,Bt=yt.length,me=cc(yt[0],vt),Ie=[];for(Tt||(Tt=[]),xt=1;xt<Bt;xt++){for(Wt=yt[xt-1],It=Gt=cc(ee=yt[xt],vt);;){if(!(me|It)){Ie.push(Wt),It!==Gt?(Ie.push(ee),xt<Bt-1&&(Tt.push(Ie),Ie=[])):xt===Bt-1&&Ie.push(ee);break}if(me&It)break;me?me=cc(Wt=cf(Wt,ee,me,vt),vt):It=cc(ee=cf(Wt,ee,It,vt),vt)}me=Gt}Ie.length&&Tt.push(Ie)})(ft,U,at)}),at.length===1?ct(at[0],J):bt(at,J);case"Polygon":return nt(ss(rt,U),J);case"MultiPolygon":return mt(rt.map(function(ft){return ss(ft,U)}),J);default:throw new Error("geometry "+Q+" not supported")}},D.bboxPolygon=mh,D.bearing=nl,D.bearingToAngle=Lt,D.bearingToAzimuth=Lt,D.bezier=Ma,D.bezierSpline=Ma,D.booleanClockwise=uf,D.booleanContains=function(B,U){var G=ke(B),Q=ke(U),J=G.type,rt=Q.type,at=G.coordinates,ft=Q.coordinates;switch(J){case"Point":switch(rt){case"Point":return kg(at,ft);default:throw new Error("feature2 "+rt+" geometry not supported")}case"MultiPoint":switch(rt){case"Point":return function(yt,vt){var Tt,xt=!1;for(Tt=0;Tt<yt.coordinates.length;Tt++)if(kg(yt.coordinates[Tt],vt.coordinates)){xt=!0;break}return xt}(G,Q);case"MultiPoint":return function(yt,vt){for(var Tt=0,xt=vt.coordinates;Tt<xt.length;Tt++){for(var It=xt[Tt],Gt=!1,Wt=0,ee=yt.coordinates;Wt<ee.length;Wt++)if(kg(It,ee[Wt])){Gt=!0;break}if(!Gt)return!1}return!0}(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}case"LineString":switch(rt){case"Point":return Aa(Q,G,{ignoreEndVertices:!0});case"LineString":return function(yt,vt){for(var Tt=!1,xt=0,It=vt.coordinates;xt<It.length;xt++){var Gt=It[xt];if(Aa({type:"Point",coordinates:Gt},yt,{ignoreEndVertices:!0})&&(Tt=!0),!Aa({type:"Point",coordinates:Gt},yt,{ignoreEndVertices:!1}))return!1}return Tt}(G,Q);case"MultiPoint":return function(yt,vt){for(var Tt=!1,xt=0,It=vt.coordinates;xt<It.length;xt++){var Gt=It[xt];if(Aa(Gt,yt,{ignoreEndVertices:!0})&&(Tt=!0),!Aa(Gt,yt))return!1}return!!Tt}(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}case"Polygon":switch(rt){case"Point":return Pr(Q,G,{ignoreBoundary:!0});case"LineString":return function(yt,vt){var Tt=!1,xt=0,It=jt(yt),Gt=jt(vt);if(!H0(It,Gt))return!1;for(;xt<vt.coordinates.length-1;xt++)if(Pr({type:"Point",coordinates:Q1(vt.coordinates[xt],vt.coordinates[xt+1])},yt,{ignoreBoundary:!0})){Tt=!0;break}return Tt}(G,Q);case"Polygon":return function(yt,vt){if(yt.type==="Feature"&&yt.geometry===null||vt.type==="Feature"&&vt.geometry===null)return!1;var Tt=jt(yt),xt=jt(vt);if(!H0(Tt,xt))return!1;for(var It=ke(vt).coordinates,Gt=0,Wt=It;Gt<Wt.length;Gt++)for(var ee=0,Bt=Wt[Gt];ee<Bt.length;ee++)if(!Pr(Bt[ee],yt))return!1;return!0}(G,Q);case"MultiPoint":return function(yt,vt){for(var Tt=0,xt=vt.coordinates;Tt<xt.length;Tt++)if(!Pr(xt[Tt],yt,{ignoreBoundary:!0}))return!1;return!0}(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}default:throw new Error("feature1 "+J+" geometry not supported")}},D.booleanCrosses=function(B,U){var G=ke(B),Q=ke(U),J=G.type,rt=Q.type;switch(J){case"MultiPoint":switch(rt){case"LineString":return V0(G,Q);case"Polygon":return Ag(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}case"LineString":switch(rt){case"MultiPoint":return V0(Q,G);case"LineString":return function(at,ft){if(zo(at,ft).features.length>0)for(var yt=0;yt<at.coordinates.length-1;yt++)for(var vt=0;vt<ft.coordinates.length-1;vt++){var Tt=!0;if(vt!==0&&vt!==ft.coordinates.length-2||(Tt=!1),W0(at.coordinates[yt],at.coordinates[yt+1],ft.coordinates[vt],Tt))return!0}return!1}(G,Q);case"Polygon":return G0(G,Q);default:throw new Error("feature2 "+rt+" geometry not supported")}case"Polygon":switch(rt){case"MultiPoint":return Ag(Q,G);case"LineString":return G0(Q,G);default:throw new Error("feature2 "+rt+" geometry not supported")}default:throw new Error("feature1 "+J+" geometry not supported")}},D.booleanDisjoint=Cg,D.booleanEqual=function(B,U){return ke(B).type===ke(U).type&&new Ng({precision:6}).compare(Ea(B),Ea(U))},D.booleanIntersects=q0,D.booleanOverlap=function(B,U){var G=ke(B),Q=ke(U),J=G.type,rt=Q.type;if(J==="MultiPoint"&&rt!=="MultiPoint"||(J==="LineString"||J==="MultiLineString")&&rt!=="LineString"&&rt!=="MultiLineString"||(J==="Polygon"||J==="MultiPolygon")&&rt!=="Polygon"&&rt!=="MultiPolygon")throw new Error("features must be of the same type");if(J==="Point")throw new Error("Point geometry not supported");if(new Ng({precision:6}).compare(B,U))return!1;var at=0;switch(J){case"MultiPoint":for(var ft=0;ft<G.coordinates.length;ft++)for(var yt=0;yt<Q.coordinates.length;yt++){var vt=G.coordinates[ft],Tt=Q.coordinates[yt];if(vt[0]===Tt[0]&&vt[1]===Tt[1])return!0}return!1;case"LineString":case"MultiLineString":we(B,function(xt){we(U,function(It){dd(xt,It).features.length&&at++})});break;case"Polygon":case"MultiPolygon":we(B,function(xt){we(U,function(It){zo(xt,It).features.length&&at++})})}return at>0},D.booleanParallel=function(B,U){if(!B)throw new Error("line1 is required");if(!U)throw new Error("line2 is required");if(Og(B,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(Og(U,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var G=hn(Ea(B)).features,Q=hn(Ea(U)).features,J=0;J<G.length;J++){var rt=G[J].geometry.coordinates;if(!Q[J])break;if(!pp(rt,Q[J].geometry.coordinates))return!1}return!0},D.booleanPointInPolygon=Pr,D.booleanPointOnLine=Aa,D.booleanWithin=Yu,D.buffer=function(B,U,G){var Q=(G=G||{}).units||"kilometers",J=G.steps||8;if(!B)throw new Error("geojson is required");if(typeof G!="object")throw new Error("options must be an object");if(typeof J!="number")throw new Error("steps must be an number");if(U===void 0)throw new Error("radius is required");if(J<=0)throw new Error("steps must be greater than 0");var rt=[];switch(B.type){case"GeometryCollection":return Oe(B,function(at){var ft=Jh(at,U,Q,J);ft&&rt.push(ft)}),ht(rt);case"FeatureCollection":return ve(B,function(at){var ft=Jh(at,U,Q,J);ft&&ve(ft,function(yt){yt&&rt.push(yt)})}),ht(rt)}return Jh(B,U,Q,J)},D.center=ko,D.centerMean=$g,D.centerMedian=function(B,U){if(U===void 0&&(U={}),!Dt(U=U||{}))throw new Error("options is invalid");var G=U.counter||10;if(!Xt(G))throw new Error("counter must be a number");var Q=U.weight,J=$g(B,{weight:U.weight}),rt=ht([]);ve(B,function(ft){var yt;rt.features.push(Ta(ft,{properties:{weight:(yt=ft.properties)===null||yt===void 0?void 0:yt[Q]}}))});var at={tolerance:U.tolerance,medianCandidates:[]};return hm(J.geometry.coordinates,[0,0],rt,at,G)},D.centerOfMass=function B(U,G){switch(G===void 0&&(G={}),$e(U)){case"Point":return X($t(U),G.properties);case"Polygon":var Q=[];Pt(U,function(fe){Q.push(fe)});var J,rt,at,ft,yt,vt,Tt,xt,It=Ta(U,{properties:G.properties}),Gt=It.geometry.coordinates,Wt=0,ee=0,Bt=0,me=Q.map(function(fe){return[fe[0]-Gt[0],fe[1]-Gt[1]]});for(J=0;J<Q.length-1;J++)ft=(rt=me[J])[0],vt=rt[1],yt=(at=me[J+1])[0],Bt+=xt=ft*(Tt=at[1])-yt*vt,Wt+=(ft+yt)*xt,ee+=(vt+Tt)*xt;if(Bt===0)return It;var Ie=1/(6*(.5*Bt));return X([Gt[0]+Ie*Wt,Gt[1]+Ie*ee],G.properties);default:var Zt=ei(U);return Zt?B(Zt,{properties:G.properties}):Ta(U,{properties:G.properties})}},D.centroid=Ta,D.circle=ju,D.cleanCoords=Ea,D.clone=ai,D.clusterEach=Ug,D.clusterReduce=bp,D.clusters=by,D.clustersDbscan=function(B,U,G){G===void 0&&(G={}),G.mutate!==!0&&(B=ai(B)),G.minPoints=G.minPoints||3;var Q=new ty.DBSCAN,J=Q.run(De(B),qt(U,G.units),G.minPoints,Yr),rt=-1;return J.forEach(function(at){rt++,at.forEach(function(ft){var yt=B.features[ft];yt.properties||(yt.properties={}),yt.properties.cluster=rt,yt.properties.dbscan="core"})}),Q.noise.forEach(function(at){var ft=B.features[at];ft.properties||(ft.properties={}),ft.properties.cluster?ft.properties.dbscan="edge":ft.properties.dbscan="noise"}),B},D.clustersKmeans=function(B,U){U===void 0&&(U={});var G=B.features.length;U.numberOfClusters=U.numberOfClusters||Math.round(Math.sqrt(G/2)),U.numberOfClusters>G&&(U.numberOfClusters=G),U.mutate!==!0&&(B=ai(B));var Q=De(B),J=Q.slice(0,U.numberOfClusters),rt=Lg(Q,U.numberOfClusters,J),at={};return rt.centroids.forEach(function(ft,yt){at[yt]=ft}),ve(B,function(ft,yt){var vt=rt.idxs[yt];ft.properties.cluster=vt,ft.properties.centroid=at[vt]}),B},D.collect=function(B,U,G,Q){var J=en(6),rt=U.features.map(function(at){var ft;return{minX:at.geometry.coordinates[0],minY:at.geometry.coordinates[1],maxX:at.geometry.coordinates[0],maxY:at.geometry.coordinates[1],property:(ft=at.properties)===null||ft===void 0?void 0:ft[G]}});return J.load(rt),B.features.forEach(function(at){at.properties||(at.properties={});var ft=jt(at),yt=J.search({minX:ft[0],minY:ft[1],maxX:ft[2],maxY:ft[3]}),vt=[];yt.forEach(function(Tt){Pr([Tt.minX,Tt.minY],at)&&vt.push(Tt.property)}),at.properties[Q]=vt}),B},D.collectionOf=Pe,D.combine=function(B){var U={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return ve(B,function(G){var Q,J,rt,at;switch((at=G.geometry)===null||at===void 0?void 0:at.type){case"Point":U.MultiPoint.coordinates.push(G.geometry.coordinates),U.MultiPoint.properties.push(G.properties);break;case"MultiPoint":(Q=U.MultiPoint.coordinates).push.apply(Q,G.geometry.coordinates),U.MultiPoint.properties.push(G.properties);break;case"LineString":U.MultiLineString.coordinates.push(G.geometry.coordinates),U.MultiLineString.properties.push(G.properties);break;case"MultiLineString":(J=U.MultiLineString.coordinates).push.apply(J,G.geometry.coordinates),U.MultiLineString.properties.push(G.properties);break;case"Polygon":U.MultiPolygon.coordinates.push(G.geometry.coordinates),U.MultiPolygon.properties.push(G.properties);break;case"MultiPolygon":(rt=U.MultiPolygon.coordinates).push.apply(rt,G.geometry.coordinates),U.MultiPolygon.properties.push(G.properties)}}),ht(Object.keys(U).filter(function(G){return U[G].coordinates.length}).sort().map(function(G){return W({type:G,coordinates:U[G].coordinates},{collectedProperties:U[G].properties})}))},D.concave=function(B,U){U===void 0&&(U={});var G=U.maxEdge||1/0,Q=Qs(function(rt){var at=[],ft={};return ve(rt,function(yt){if(yt.geometry){var vt=yt.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(ft,vt)||(at.push(yt),ft[vt]=!0)}}),ht(at)}(B));if(Q.features=Q.features.filter(function(rt){var at=rt.geometry.coordinates[0][0],ft=rt.geometry.coordinates[0][1],yt=rt.geometry.coordinates[0][2],vt=Yr(at,ft,U),Tt=Yr(ft,yt,U),xt=Yr(at,yt,U);return vt<=G&&Tt<=G&&xt<=G}),Q.features.length<1)return null;var J=Ba(Q);return J.coordinates.length===1&&(J.coordinates=J.coordinates[0],J.type="Polygon"),W(J)},D.containsNumber=Vt,D.convertArea=te,D.convertDistance=qt,D.convertLength=qt,D.convex=ei,D.coordAll=De,D.coordEach=Pt,D.coordReduce=de,D.createBins=Yg,D.degrees2radians=Ht,D.degreesToRadians=Ht,D.destination=vo,D.difference=function(B,U){var G=ke(B),Q=ke(U),J=B.properties||{},rt=bu.difference(G.coordinates,Q.coordinates);return rt.length===0?null:rt.length===1?nt(rt[0],J):mt(rt,J)},D.dissolve=function(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.propertyName;Pe(B,"Polygon","dissolve");var Q=[];if(!U.propertyName)return Th(mt(bu.union.apply(null,B.features.map(function(yt){return yt.geometry.coordinates}))));var J={};ve(B,function(yt){Object.prototype.hasOwnProperty.call(J,yt.properties[G])||(J[yt.properties[G]]=[]),J[yt.properties[G]].push(yt)});for(var rt=Object.keys(J),at=0;at<rt.length;at++){var ft=mt(bu.union.apply(null,J[rt[at]].map(function(yt){return yt.geometry.coordinates})));ft.properties[G]=rt[at],Q.push(ft)}return Th(ht(Q))},D.distance=Yr,D.distanceToDegrees=Ft,D.distanceToRadians=Ct,D.distanceWeight=fm,D.earthRadius=O,D.ellipse=cm,D.envelope=Ru,D.explode=ou,D.factors=z,D.feature=W,D.featureCollection=ht,D.featureEach=ve,D.featureOf=ge,D.featureReduce=Ce,D.filterProperties=Tm,D.findPoint=Kt,D.findSegment=Ye,D.flatten=Th,D.flattenEach=qe,D.flattenReduce=ze,D.flip=function(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.mutate;if(!B)throw new Error("geojson is required");return G!==!1&&G!==void 0||(B=ai(B)),Pt(B,function(Q){var J=Q[0],rt=Q[1];Q[0]=rt,Q[1]=J}),B},D.geojsonType=Be,D.geomEach=Oe,D.geomReduce=Je,D.geometry=q,D.geometryCollection=_t,D.getCluster=Mm,D.getCoord=$t,D.getCoords=oe,D.getGeom=ke,D.getType=$e,D.greatCircle=function(B,U,G){if(typeof(G=G||{})!="object")throw new Error("options is invalid");var Q=G.properties,J=G.npoints,rt=G.offset;return B=$t(B),U=$t(U),Q=Q||{},J=J||100,rt=rt||10,new kn({x:B[0],y:B[1]},{x:U[0],y:U[1]},Q).Arc(J,{offset:rt}).json()},D.helpers=ce,D.hexGrid=x1,D.inside=Pr,D.interpolate=function(B,U,G){if(typeof(G=G||{})!="object")throw new Error("options is invalid");var Q=G.gridType,J=G.property,rt=G.weight;if(!B)throw new Error("points is required");if(Pe(B,"Point","input must contain Points"),!U)throw new Error("cellSize is required");if(rt!==void 0&&typeof rt!="number")throw new Error("weight must be a number");J=J||"elevation",Q=Q||"square",rt=rt||1;var at,ft=jt(B);switch(Q){case"point":case"points":at=hd(ft,U,G);break;case"square":case"squares":at=S1(ft,U,G);break;case"hex":case"hexes":at=x1(ft,U,G);break;case"triangle":case"triangles":at=N0(ft,U,G);break;default:throw new Error("invalid gridType")}var yt=[];return ve(at,function(vt){var Tt=0,xt=0;ve(B,function(Gt){var Wt,ee=Yr(Q==="point"?vt:Ta(vt),Gt,G);if(J!==void 0&&(Wt=Gt.properties[J]),Wt===void 0&&(Wt=Gt.geometry.coordinates[2]),Wt===void 0)throw new Error("zValue is missing");ee===0&&(Tt=Wt);var Bt=1/Math.pow(ee,rt);xt+=Bt,Tt+=Bt*Wt});var It=ai(vt);It.properties[J]=Tt/xt,yt.push(It)}),ht(yt)},D.intersect=Kh,D.invariant=Fe,D.isNumber=Xt,D.isObject=Dt,D.isobands=function(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.zProperty||"elevation",J=G.commonProperties||{},rt=G.breaksProperties||[];if(Pe(B,"Point","Input must contain Points"),!U)throw new Error("breaks is required");if(!Array.isArray(U))throw new Error("breaks is not an Array");if(!Dt(J))throw new Error("commonProperties is not an Object");if(!Array.isArray(rt))throw new Error("breaksProperties is not an Array");var at=pg(B,{zProperty:Q,flip:!0}),ft=function(yt,vt,Tt){for(var xt=[],It=1;It<vt.length;It++){var Gt=+vt[It-1],Wt=+vt[It],ee=V1(df(Qu(yt,Gt,Wt-Gt))),Bt={};Bt.groupedRings=ee,Bt[Tt]=Gt+"-"+Wt,xt.push(Bt)}return xt}(at,U,Q);return ht((ft=function(yt,vt,Tt){var xt=jt(Tt),It=xt[2]-xt[0],Gt=xt[3]-xt[1],Wt=xt[0],ee=xt[1],Bt=vt[0].length-1,me=vt.length-1,Ie=It/Bt,Zt=Gt/me,fe=function(be){be[0]=be[0]*Ie+Wt,be[1]=be[1]*Zt+ee};return yt.forEach(function(be){be.groupedRings.forEach(function(Ee){Ee.forEach(function(_e){_e.forEach(fe)})})}),yt}(ft,at,B)).map(function(yt,vt){if(rt[vt]&&!Dt(rt[vt]))throw new Error("Each mappedProperty is required to be an Object");var Tt=Bn({},J,rt[vt]);return Tt[Q]=yt[Q],mt(yt.groupedRings,Tt)}))},D.isolines=function(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.zProperty||"elevation",J=G.commonProperties||{},rt=G.breaksProperties||[];if(Pe(B,"Point","Input must contain Points"),!U)throw new Error("breaks is required");if(!Array.isArray(U))throw new Error("breaks must be an Array");if(!Dt(J))throw new Error("commonProperties must be an Object");if(!Array.isArray(rt))throw new Error("breaksProperties must be an Array");var at=ne(B,{zProperty:Q,flip:!0});return ht(function(ft,yt,vt){var Tt=jt(vt),xt=Tt[2]-Tt[0],It=Tt[3]-Tt[1],Gt=Tt[0],Wt=Tt[1],ee=yt[0].length-1,Bt=yt.length-1,me=xt/ee,Ie=It/Bt,Zt=function(fe){fe[0]=fe[0]*me+Gt,fe[1]=fe[1]*Ie+Wt};return ft.forEach(function(fe){Pt(fe,Zt)}),ft}(function(ft,yt,vt,Tt,xt){for(var It=[],Gt=1;Gt<yt.length;Gt++){var Wt=+yt[Gt],ee=Bn({},Tt,xt[Gt]);ee[vt]=Wt;var Bt=bt(Jn(ft,Wt),ee);It.push(Bt)}return It}(at,U,Q,J,rt),at,B))},D.kinks=function(B){var U,G,Q={type:"FeatureCollection",features:[]};if((G=B.type==="Feature"?B.geometry:B).type==="LineString")U=[G.coordinates];else if(G.type==="MultiLineString")U=G.coordinates;else if(G.type==="MultiPolygon")U=[].concat.apply([],G.coordinates);else{if(G.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");U=G.coordinates}return U.forEach(function(J){U.forEach(function(rt){for(var at=0;at<J.length-1;at++)for(var ft=at;ft<rt.length-1;ft++)if(!(J===rt&&(Math.abs(at-ft)===1||at===0&&ft===J.length-2&&J[at][0]===J[J.length-1][0]&&J[at][1]===J[J.length-1][1]))){var yt=Eh(J[at][0],J[at][1],J[at+1][0],J[at+1][1],rt[ft][0],rt[ft][1],rt[ft+1][0],rt[ft+1][1]);yt&&Q.features.push(X([yt[0],yt[1]]))}})}),Q},D.length=ld,D.lengthToDegrees=Ft,D.lengthToRadians=Ct,D.lineArc=ta,D.lineChunk=function(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.units,J=G.reverse;if(!B)throw new Error("geojson is required");if(U<=0)throw new Error("segmentLength must be greater than 0");var rt=[];return qe(B,function(at){J&&(at.geometry.coordinates=at.geometry.coordinates.reverse()),function(ft,yt,vt,Tt){var xt=ld(ft,{units:vt});if(xt<=yt)return Tt(ft);var It=xt/yt;Number.isInteger(It)||(It=Math.floor(It)+1);for(var Gt=0;Gt<It;Gt++)Tt(zc(ft,yt*Gt,yt*(Gt+1),{units:vt}),Gt)}(at,U,Q,function(ft){rt.push(ft)})}),ht(rt)},D.lineDistance=ld,D.lineEach=He,D.lineIntersect=zo,D.lineOffset=function(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.units;if(!B)throw new Error("geojson is required");if(U==null||isNaN(U))throw new Error("distance is required");var J=$e(B),rt=B.properties;switch(J){case"LineString":return md(B,U,Q);case"MultiLineString":var at=[];return qe(B,function(ft){at.push(md(ft,U,Q).geometry.coordinates)}),bt(at,rt);default:throw new Error("geometry "+J+" is not supported")}},D.lineOverlap=dd,D.lineReduce=Le,D.lineSegment=hn,D.lineSlice=function(B,U,G){var Q=oe(G);if($e(G)!=="LineString")throw new Error("line must be a LineString");for(var J,rt=Fl(G,B),at=Fl(G,U),ft=[(J=rt.properties.index<=at.properties.index?[rt,at]:[at,rt])[0].geometry.coordinates],yt=J[0].properties.index+1;yt<J[1].properties.index+1;yt++)ft.push(Q[yt]);return ft.push(J[1].geometry.coordinates),ct(ft,G.properties)},D.lineSliceAlong=zc,D.lineSplit=function(B,U){if(!B)throw new Error("line is required");if(!U)throw new Error("splitter is required");var G=$e(B),Q=$e(U);if(G!=="LineString")throw new Error("line must be LineString");if(Q==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(Q==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var J=Hu(U,{precision:7});switch(Q){case"Point":return yr(B,J);case"MultiPoint":return Vn(B,J);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Vn(B,zo(B,J))}},D.lineString=ct,D.lineStringToPolygon=lp,D.lineStrings=lt,D.lineToPolygon=lp,D.mask=function(B,U){var G,Q=By(U),J=null;return B.type==="FeatureCollection"?J=T1((G=B).features.length===2?bu.union(G.features[0].geometry.coordinates,G.features[1].geometry.coordinates):bu.union.apply(bu,G.features.map(function(rt){return rt.geometry.coordinates}))):J=T1(bu.union(B.geometry.coordinates)),J.geometry.coordinates.forEach(function(rt){Q.geometry.coordinates.push(rt[0])}),Q},D.meta=kt,D.midpoint=function(B,U){return vo(B,Yr(B,U)/2,nl(B,U))},D.moranIndex=function(B,U){var G=U.inputField,Q=U.threshold||1e5,J=U.p||2,rt=U.binary||!1,at=fm(B,{alpha:U.alpha||-1,binary:rt,p:J,standardization:U.standardization||!0,threshold:Q}),ft=[];ve(B,function(Ee){var _e=Ee.properties||{};ft.push(_e[G])});for(var yt=pm(ft),vt=function(Ee){for(var _e=pm(Ee),wn=0,cn=0,Tn=Ee;cn<Tn.length;cn++){var dn=Tn[cn];wn+=Math.pow(dn-_e,2)}return wn/Ee.length}(ft),Tt=0,xt=0,It=0,Gt=0,Wt=at.length,ee=0;ee<Wt;ee++){for(var Bt=0,me=0;me<Wt;me++)Tt+=at[ee][me]*(ft[ee]-yt)*(ft[me]-yt),xt+=at[ee][me],It+=Math.pow(at[ee][me]+at[me][ee],2),Bt+=at[ee][me]+at[me][ee];Gt+=Math.pow(Bt,2)}var Ie=Tt/xt/vt,Zt=-1/(Wt-1),fe=(Wt*Wt*(It*=.5)-Wt*Gt+xt*xt*3)/((Wt-1)*(Wt+1)*(xt*xt))-Zt*Zt,be=Math.sqrt(fe);return{expectedMoranIndex:Zt,moranIndex:Ie,stdNorm:be,zNorm:(Ie-Zt)/be}},D.multiLineString=bt,D.multiPoint=wt,D.multiPolygon=mt,D.nearest=Ke,D.nearestPoint=Ke,D.nearestPointOnLine=Fl,D.nearestPointToLine=function(B,U,G){G===void 0&&(G={});var Q=G.units,J=G.properties||{},rt=function(yt){var vt=[];switch(yt.geometry?yt.geometry.type:yt.type){case"GeometryCollection":return Oe(yt,function(Tt){Tt.type==="Point"&&vt.push({type:"Feature",properties:{},geometry:Tt})}),{type:"FeatureCollection",features:vt};case"FeatureCollection":return yt.features=yt.features.filter(function(Tt){return Tt.geometry.type==="Point"}),yt;default:throw new Error("points must be a Point Collection")}}(B);if(!rt.features.length)throw new Error("points must contain features");if(!U)throw new Error("line is required");if($e(U)!=="LineString")throw new Error("line must be a LineString");var at=1/0,ft=null;return ve(rt,function(yt){var vt=ip(yt,U,{units:Q});vt<at&&(at=vt,ft=yt)}),ft&&(ft.properties=Bn({dist:at},ft.properties,J)),ft},D.planepoint=function(B,U){var G=$t(B),Q=ke(U).coordinates[0];if(Q.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var J=U.properties||{},rt=J.a,at=J.b,ft=J.c,yt=G[0],vt=G[1],Tt=Q[0][0],xt=Q[0][1],It=rt!==void 0?rt:Q[0][2],Gt=Q[1][0],Wt=Q[1][1],ee=at!==void 0?at:Q[1][2],Bt=Q[2][0],me=Q[2][1],Ie=ft!==void 0?ft:Q[2][2];return(Ie*(yt-Tt)*(vt-Wt)+It*(yt-Gt)*(vt-me)+ee*(yt-Bt)*(vt-xt)-ee*(yt-Tt)*(vt-me)-Ie*(yt-Gt)*(vt-xt)-It*(yt-Bt)*(vt-Wt))/((yt-Tt)*(vt-Wt)+(yt-Gt)*(vt-me)+(yt-Bt)*(vt-xt)-(yt-Tt)*(vt-me)-(yt-Gt)*(vt-xt)-(yt-Bt)*(vt-Wt))},D.point=X,D.pointGrid=hd,D.pointOnFeature=op,D.pointOnLine=Fl,D.pointOnSurface=op,D.pointToLineDistance=ip,D.points=tt,D.pointsWithinPolygon=ur,D.polygon=nt,D.polygonSmooth=function(B,U){var G=[],Q=U.iterations||1;if(!B)throw new Error("inputPolys is required");return Oe(B,function(J,rt,at){var ft,yt,vt;switch(J.type){case"Polygon":ft=[[]];for(var Tt=0;Tt<Q;Tt++)vt=[[]],yt=J,Tt>0&&(yt=nt(ft).geometry),fy(yt,vt),ft=vt.slice(0);G.push(nt(ft,at));break;case"MultiPolygon":ft=[[[]]];for(var xt=0;xt<Q;xt++)vt=[[[]]],yt=J,xt>0&&(yt=mt(ft).geometry),py(yt,vt),ft=vt.slice(0);G.push(mt(ft,at));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),ht(G)},D.polygonTangents=function(B,U){var G,Q,J,rt,at=oe(B),ft=oe(U),yt=jt(U),vt=0,Tt=null;switch(at[0]>yt[0]&&at[0]<yt[2]&&at[1]>yt[1]&&at[1]<yt[3]&&(vt=(Tt=Ke(B,ou(U))).properties.featureIndex),$e(U)){case"Polygon":G=ft[0][vt],Q=ft[0][0],Tt!==null&&Tt.geometry.coordinates[1]<at[1]&&(Q=ft[0][vt]),rt=pu(ft[0][0],ft[0][ft[0].length-1],at);var xt=fg(ft[0],at,rt,J,G,Q);G=xt[0],Q=xt[1];break;case"MultiPolygon":for(var It=0,Gt=0,Wt=0,ee=0;ee<ft[0].length;ee++){It=ee;for(var Bt=!1,me=0;me<ft[0][ee].length;me++){if(Gt=me,Wt===vt){Bt=!0;break}Wt++}if(Bt)break}G=ft[0][It][Gt],Q=ft[0][It][Gt],rt=pu(ft[0][0][0],ft[0][0][ft[0][0].length-1],at),ft.forEach(function(Ie){var Zt=fg(Ie[0],at,rt,J,G,Q);G=Zt[0],Q=Zt[1]})}return ht([X(G),X(Q)])},D.polygonToLine=ea,D.polygonToLineString=ea,D.polygonize=function(B){var U=W1.fromGeoJson(B);U.deleteDangles(),U.deleteCutEdges();var G=[],Q=[];return U.getEdgeRings().filter(function(J){return J.isValid()}).forEach(function(J){J.isHole()?G.push(J):Q.push(J)}),G.forEach(function(J){ha.findEdgeRingContaining(J,Q)&&Q.push(J)}),ht(Q.map(function(J){return J.toPolygon()}))},D.polygons=st,D.projection=my,D.propEach=ye,D.propReduce=pe,D.propertiesContainsFilter=Hg,D.radians2degrees=Yt,D.radiansToDegrees=Yt,D.radiansToDistance=At,D.radiansToLength=At,D.random=vy,D.randomLineString=wm,D.randomPoint=_m,D.randomPolygon=Fg,D.randomPosition=vf,D.rewind=function(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.reverse||!1,Q=U.mutate||!1;if(!B)throw new Error("<geojson> is required");if(typeof G!="boolean")throw new Error("<reverse> must be a boolean");if(typeof Q!="boolean")throw new Error("<mutate> must be a boolean");Q===!1&&(B=ai(B));var J=[];switch(B.type){case"GeometryCollection":return Oe(B,function(rt){gu(rt,G)}),B;case"FeatureCollection":return ve(B,function(rt){ve(gu(rt,G),function(at){J.push(at)})}),ht(J)}return gu(B,G)},D.rhumbBearing=fu,D.rhumbDestination=pd,D.rhumbDistance=Oc,D.round=Et,D.sample=function(B,U){if(!B)throw new Error("featurecollection is required");if(U==null)throw new Error("num is required");if(typeof U!="number")throw new Error("num must be a number");return ht(function(G,Q){for(var J,rt,at=G.slice(0),ft=G.length,yt=ft-Q;ft-- >yt;)J=at[rt=Math.floor((ft+1)*Math.random())],at[rt]=at[ft],at[ft]=J;return at.slice(yt)}(B.features,U))},D.sector=function(B,U,G,Q,J){if(!Dt(J=J||{}))throw new Error("options is invalid");var rt=J.properties;if(!B)throw new Error("center is required");if(G==null)throw new Error("bearing1 is required");if(Q==null)throw new Error("bearing2 is required");if(!U)throw new Error("radius is required");if(typeof J!="object")throw new Error("options must be an object");if(fd(G)===fd(Q))return ju(B,U,J);var at=oe(B),ft=ta(B,U,G,Q,J),yt=[[at]];return Pt(ft,function(vt){yt[0].push(vt)}),yt[0].push(at),nt(yt,rt)},D.segmentEach=we,D.segmentReduce=Me,D.shortestPath=function(B,U,G){if(!Dt(G=G||{}))throw new Error("options is invalid");var Q=G.resolution,J=G.minDistance,rt=G.obstacles||ht([]);if(!B)throw new Error("start is required");if(!U)throw new Error("end is required");if(Q&&!Xt(Q)||Q<=0)throw new Error("options.resolution must be a number, greater than 0");if(J)throw new Error("options.minDistance is not yet implemented");var at=$t(B),ft=$t(U);switch(B=X(at),U=X(ft),$e(rt)){case"FeatureCollection":if(rt.features.length===0)return ct([at,ft]);break;case"Polygon":rt=ht([W(ke(rt))]);break;default:throw new Error("invalid obstacles")}var yt=rt;yt.features.push(B),yt.features.push(U);var vt=jt(F0(mh(jt(yt)),1.15));Q||(Q=Yr([vt[0],vt[1]],[vt[2],vt[1]],G)/100),yt.features.pop(),yt.features.pop();for(var Tt=vt[0],xt=vt[1],It=vt[2],Gt=vt[3],Wt=Q/Yr([Tt,xt],[It,xt],G)*(It-Tt),ee=Q/Yr([Tt,xt],[Tt,Gt],G)*(Gt-xt),Bt=It-Tt,me=Gt-xt,Ie=Math.floor(Bt/Wt),Zt=Math.floor(me/ee),fe=(Bt-Ie*Wt)/2,be=[],Ee=[],_e=[],wn=[],cn=1/0,Tn=1/0,dn=Gt-(me-Zt*ee)/2,An=0;dn>=xt;){for(var yn=[],mn=[],fn=Tt+fe,Sn=0;fn<=It;){var bn=X([fn,dn]),Nn=ry(bn,rt);yn.push(Nn?0:1),mn.push(fn+"|"+dn);var Ze=Yr(bn,B);!Nn&&Ze<cn&&(cn=Ze,_e={x:Sn,y:An});var Mr=Yr(bn,U);!Nn&&Mr<Tn&&(Tn=Mr,wn={x:Sn,y:An}),fn+=Wt,Sn++}Ee.push(yn),be.push(mn),dn-=ee,An++}var Qn=new Zu(Ee,{diagonal:!0}),ri=Qn.grid[_e.y][_e.x],gr=Qn.grid[wn.y][wn.x],jr=gp.search(Qn,ri,gr),Ti=[at];return jr.forEach(function(po){var Fs=be[po.x][po.y].split("|");Ti.push([+Fs[0],+Fs[1]])}),Ti.push(ft),Ea(ct(Ti))},D.simplify=function(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.tolerance!==void 0?U.tolerance:1,Q=U.highQuality||!1,J=U.mutate||!1;if(!B)throw new Error("geojson is required");if(G&&G<0)throw new Error("invalid tolerance");return J!==!0&&(B=ai(B)),Oe(B,function(rt){(function(at,ft,yt){var vt=at.type;if(vt==="Point"||vt==="MultiPoint")return at;Ea(at,!0);var Tt=at.coordinates;switch(vt){case"LineString":at.coordinates=ml(Tt,ft,yt);break;case"MultiLineString":at.coordinates=Tt.map(function(xt){return ml(xt,ft,yt)});break;case"Polygon":at.coordinates=Js(Tt,ft,yt);break;case"MultiPolygon":at.coordinates=Tt.map(function(xt){return Js(xt,ft,yt)})}})(rt,G,Q)}),B},D.square=yh,D.squareGrid=S1,D.standardDeviationalEllipse=function(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.steps||64,Q=U.weight,J=U.properties||{};if(!Xt(G))throw new Error("steps must be a number");if(!Dt(J))throw new Error("properties must be a number");var rt=De(B).length,at=$g(B,{weight:Q}),ft=0,yt=0,vt=0;ve(B,function(_e){var wn=_e.properties[Q]||1,cn=dm(oe(_e),oe(at));ft+=Math.pow(cn.x,2)*wn,yt+=Math.pow(cn.y,2)*wn,vt+=cn.x*cn.y*wn});var Tt=ft-yt,xt=Math.sqrt(Math.pow(Tt,2)+4*Math.pow(vt,2)),It=2*vt,Gt=Math.atan((Tt+xt)/It),Wt=180*Gt/Math.PI,ee=0,Bt=0,me=0;ve(B,function(_e){var wn=_e.properties[Q]||1,cn=dm(oe(_e),oe(at));ee+=Math.pow(cn.x*Math.cos(Gt)-cn.y*Math.sin(Gt),2)*wn,Bt+=Math.pow(cn.x*Math.sin(Gt)+cn.y*Math.cos(Gt),2)*wn,me+=wn});var Ie=Math.sqrt(2*ee/me),Zt=Math.sqrt(2*Bt/me),fe=cm(at,Ie,Zt,{units:"degrees",angle:Wt,steps:G,properties:J}),be=ur(B,ht([fe])),Ee={meanCenterCoordinates:oe(at),semiMajorAxis:Ie,semiMinorAxis:Zt,numberOfFeatures:rt,angle:Wt,percentageWithinEllipse:100*De(be).length/rt};return fe.properties.standardDeviationalEllipse=Ee,fe},D.tag=function(B,U,G,Q){return B=ai(B),U=ai(U),ve(B,function(J){J.properties||(J.properties={}),ve(U,function(rt){J.properties[Q]===void 0&&Pr(J,rt)&&(J.properties[Q]=rt.properties[G])})}),B},D.tesselate=function(B){if(!B.geometry||B.geometry.type!=="Polygon"&&B.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var U={type:"FeatureCollection",features:[]};return B.geometry.type==="Polygon"?U.features=Re(B.geometry.coordinates):B.geometry.coordinates.forEach(function(G){U.features=U.features.concat(Re(G))}),U},D.tin=Qs,D.toMercator=gm,D.toWgs84=mm,D.transformRotate=$0,D.transformScale=F0,D.transformTranslate=function(B,U,G,Q){if(!Dt(Q=Q||{}))throw new Error("options is invalid");var J=Q.units,rt=Q.zTranslation,at=Q.mutate;if(!B)throw new Error("geojson is required");if(U==null||isNaN(U))throw new Error("distance is required");if(rt&&typeof rt!="number"&&isNaN(rt))throw new Error("zTranslation is not a number");if(rt=rt!==void 0?rt:0,U===0&&rt===0)return B;if(G==null||isNaN(G))throw new Error("direction is required");return U<0&&(U=-U,G+=180),at!==!1&&at!==void 0||(B=ai(B)),Pt(B,function(ft){var yt=oe(pd(ft,U,G,{units:J}));ft[0]=yt[0],ft[1]=yt[1],rt&&ft.length===3&&(ft[2]+=rt)}),B},D.triangleGrid=N0,D.truncate=Hu,D.union=function(B,U,G){G===void 0&&(G={});var Q=ke(B),J=ke(U),rt=bu.union(Q.coordinates,J.coordinates);return rt.length===0?null:rt.length===1?nt(rt[0],G.properties):mt(rt,G.properties)},D.unitsFactors=F,D.unkinkPolygon=function(B){var U=[];return qe(B,function(G){G.geometry.type==="Polygon"&&ve(hg(G),function(Q){U.push(nt(Q.geometry.coordinates,G.properties))})}),ht(U)},D.validateBBox=Qt,D.validateId=Nt,D.voronoi=function(B,U){if(!Dt(U=U||{}))throw new Error("options is invalid");var G=U.bbox||[-180,-85,180,85];if(!B)throw new Error("points is required");if(!Array.isArray(G))throw new Error("bbox is invalid");return Pe(B,"Point","points"),ht(function(){var Q=iy,J=tm,rt=null;function at(ft){return new Bg(ft.map(function(yt,vt){var Tt=[Math.round(Q(yt,vt,ft)/To)*To,Math.round(J(yt,vt,ft)/To)*To];return Tt.index=vt,Tt.data=yt,Tt}),rt)}return at.polygons=function(ft){return at(ft).polygons()},at.links=function(ft){return at(ft).links()},at.triangles=function(ft){return at(ft).triangles()},at.x=function(ft){return arguments.length?(Q=typeof ft=="function"?ft:K0(+ft),at):Q},at.y=function(ft){return arguments.length?(J=typeof ft=="function"?ft:K0(+ft),at):J},at.extent=function(ft){return arguments.length?(rt=ft==null?null:[[+ft[0][0],+ft[0][1]],[+ft[1][0],+ft[1][1]]],at):rt&&[[rt[0][0],rt[0][1]],[rt[1][0],rt[1][1]]]},at.size=function(ft){return arguments.length?(rt=ft==null?null:[[0,0],[+ft[0],+ft[1]]],at):rt&&[rt[1][0]-rt[0][0],rt[1][1]-rt[0][1]]},at}().x(function(Q){return Q.geometry.coordinates[0]}).y(function(Q){return Q.geometry.coordinates[1]}).extent([[G[0],G[1]],[G[2],G[3]]]).polygons(B.features).map(dy))},D.within=ur,Object.defineProperty(D,"__esModule",{value:!0})});const _hoisted_1$8={class:"content"},_hoisted_2$7=["innerHTML"],_hoisted_3$5=createBaseVNode("div",{id:"map"},null,-1),_hoisted_4$5=["innerHTML"],_sfc_main$a=defineComponent({__name:"Map.ce",props:{overlay:{type:String},zoom:{type:Number,default:2},center:{type:String,default:"55.4,6.7"},marker:{type:Boolean},basemaps:{type:String,default:"OpenStreetMap"},caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},entities:{type:String},preferGeojson:{type:Boolean},popupOnHover:{type:Boolean},zoomOnClick:{type:Boolean},scrollWheelZoom:{type:Boolean},cards:{type:String},essayBase:{type:String}},setup(D){const O=window.turf,z={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},F=D,Y={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},W=ref(null),q=computed(()=>{var jt,$t;return($t=(jt=W.value)==null?void 0:jt.getRootNode())==null?void 0:$t.host}),X=computed(()=>{var jt;return(jt=W==null?void 0:W.value)==null?void 0:jt.parentNode}),tt=computed(()=>{var jt;return(jt=X.value)==null?void 0:jt.querySelector(".content")}),nt=ref(),st=ref(),ct=ref([]),lt=ref(),ht=ref([]),bt=ref(),wt=ref(),mt=ref(),_t=ref(10),Et=ref(),At=ref(!1),Ct=ref(),Ft=ref();watch$1(q,()=>Yt()),onMounted(()=>{let jt=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token");jt&&(nt.value=new GithubClient(jt)),Ht(),Yt()});const Lt=isMobile()?"full":F.right?"right":F.left?"left":"full";function Yt(){q.value.classList.add("ve-component"),q.value.classList.add(Lt),Lt==="full"?q.value.style.width="100%":(q.value.style.float=Lt,q.value.style.width="calc(50% - 16px)"),q.value.style.width=window.getComputedStyle(q.value).width,F.sticky&&makeSticky(q.value),tt.value.style.width=isMobile()?"100%":F.width||"100%",nextTick(()=>{let jt=parseInt(window.getComputedStyle(tt.value).width.slice(0,-2)),$t=jt;if(F.sticky&&Lt==="full"){let oe=Math.round(window.innerHeight*.4);$t=Math.min(oe,jt)}tt.value.style.width=`${jt}px`,tt.value.style.height=`${$t}px`,q.value.style.height=`${F.caption?$t+32:$t}px`,te()})}watch$1(F,()=>Ht());function Ht(){_t.value=F.zoom,F.cards&&qt()}function qt(){let jt=[];if(F.cards){let $t=document.getElementById(F.cards);$t&&$t.querySelectorAll(".card").forEach(async oe=>{var Be;let Vt=Array.from(oe.querySelectorAll("li")).filter(ge=>ge.innerHTML.trim().indexOf("coords:")===0).map(ge=>ge.innerHTML.split(":")[1].trim()).pop()||"";if(Vt){let ge=oe.querySelector("ul.card-metadata");ge&&((Be=ge.parentElement)==null||Be.removeChild(ge)),jt.push({coords:qe(Vt),caption:oe.innerHTML})}})}jt.length>0&&(ht.value=[...ht.value,...jt])}watch$1(ht,async()=>{let jt=await Promise.all(ht.value),$t=jt.filter(Pe=>Pe.geojson&&Pe.preferGeojson).map(Pe=>{if(Pe.geojson.indexOf("http")!==0)if(Pe.geojson[0]==="/"){let[ke,$e,...Fe]=Pe.geojson.split("/").filter(rn=>rn),Qe=Fe.join("/"),We="main";Pe.geojson=`https://raw.githubusercontent.com/${ke}/${$e}/${We}/${Qe}`}else Pe.geojson=`https://raw.githubusercontent.com/${F.essayBase}/${Pe.geojson}`;return Pe}).map(Pe=>({url:Pe.geojson,item:Pe})),oe=await Promise.all($t.map(Pe=>fetch(Pe.url))),Vt=await Promise.all(oe.map(Pe=>Pe.json())),Be={};for(let Pe=0;Pe<$t.length;Pe++){$t[Pe].item.id&&/^Q[0-9]+$/.test($t[Pe].item.id)&&($t[Pe].item.qid=$t[Pe].item.id,delete $t[Pe].item.id),Vt[Pe].type==="FeatureCollection"?Vt[Pe].features.forEach($e=>$e.properties={...$e.properties,...$t[Pe].item}):Vt[Pe].properties={...Vt[Pe].properties,...$t[Pe].item};let ke=$t[Pe].item.layer||"Locations";Be[ke]||(Be[ke]=[]),Be[ke].push(Vt[Pe])}let ge={};jt.filter(Pe=>!Pe.geojson||!Pe.preferGeojson).filter(Pe=>!Pe.allmaps).forEach(Pe=>{let ke=Pe.layer||"Locations";ge[ke]||(ge[ke]=[]),ge[ke].push(Pe)}),jt.filter(Pe=>!Pe.allmaps).forEach(Pe=>{let ke=Pe.layer||"Locations";Be[ke]?ge[ke]&&(Be[ke].push(Pt(ge[ke])),delete ge[ke]):(Be[ke]=[Pt(ge[ke])],delete ge[ke])}),wt.value=jt.filter(Pe=>Pe.allmaps).map(Pe=>({name:Pe.layer||"Image layer",disabled:Pe.disabled,layer:L$1.tileLayer(`https://allmaps.xyz/maps/${Pe.allmaps}/{z}/{x}/{y}.png`,{maxZoom:19,attribution:'<a href="https://allmaps.org">Allmaps</a>'})})),mt.value=Be}),watch$1(wt,()=>ce()),watch$1(mt,()=>ce()),watch$1(st,()=>ce());function te(){var oe;if(At.value)return;if(At.value=!0,ct.value=F.entities?F.entities.split(/\s+/).filter(Vt=>Vt):[],F.cards){let Vt=[],Be=document.getElementById(F.cards);Be&&Be.querySelectorAll(".card").forEach(async ge=>{var ke;let Pe=Array.from(ge.querySelectorAll("li")).filter($e=>$e.innerHTML.trim().indexOf("coords:")===0).map($e=>$e.innerHTML.split(":")[1].trim()).pop()||"";if(Pe){let $e=ge.querySelector("ul.card-metadata");$e&&((ke=$e.parentElement)==null||ke.removeChild($e)),Vt.push({coords:qe(Pe),caption:ge.innerHTML})}}),ht.value=[...ht.value,...Vt]}de(),ye();const jt=new ResizeObserver(()=>Xt());let $t=(oe=X.value)==null?void 0:oe.querySelector("#map");$t&&jt.observe($t),He()}async function Xt(){var oe,Vt;let jt;if(F.center)if(isQID(F.center)){let Be=await getEntity(F.center);jt=qe(Be.coords)}else jt=qe(F.center);else if(F.entities){let Be=await getEntity(ct.value[0]);jt=qe(Be.coords),_t.value=9}else jt=new L$1.LatLng(0,0),_t.value=6;if(st.value){st.value.off(),st.value.remove();let Be=(oe=X.value)==null?void 0:oe.querySelector("#map"),ge=document.createElement("div");ge.id="map",Be==null||Be.replaceWith(ge)}let $t=(Vt=X.value)==null?void 0:Vt.querySelector("#map");if($t){isMobile()&&L$1.Map.addInitHook("addHandler","gestureHandling",leafletGestureHandling_minExports.GestureHandling),$t.style.cursor="default";let Be=F.basemaps.split(",").map(Pe=>{let[ke,$e]=Y[Pe];return[Pe.replace(/_/," "),L$1.tileLayer(ke,$e)]}),ge={preferCanvas:!1,zoomSnap:.1,center:jt,zoom:_t.value,zoomAnimation:!0,gestureHandling:isMobile(),layers:[Be[0][1]]};st.value=L$1.map($t,ge),(Be.length>1||Object.keys(mt.value||{}).length>1)&&(bt.value=L$1.control.layers(Object.fromEntries(Be),{}).addTo(st.value)),st.value.on("click",Pe=>{var ke;Dt(Pe),lt.value&&ze((ke=lt.value)==null?void 0:ke.split(" ")[0]),F.zoomOnClick&&kt()}),st.value.on("zoomend",Pe=>{Dt(Pe),Ft.value&&Ft.value.layer.openPopup()}),st.value.on("movestart",()=>$t.style.cursor="move"),st.value.on("moveend",Pe=>{$t.style.cursor="default",Dt(Pe)}),st.value.on("layeradd",Pe=>{var ke,$e;if(Pe.layer.feature){let Fe=Pe.layer;((ke=Fe.feature)==null?void 0:ke.type)=="Feature"&&(($e=Fe.feature)!=null&&$e.properties.qid)&&Fe.feature}}),lt.value=`${Number(jt.lat.toFixed(5))},${Number(jt.lng.toFixed(5))} ${_t.value}`,Et.value=`${Number(jt.lat.toFixed(5))},${Number(jt.lng.toFixed(5))},${_t.value}`}}function Dt(jt){let $t=jt.type==="click"?jt.latlng:jt.target.getCenter(),oe=jt.target.getZoom(),Vt=[$t.lat,$t.lng,oe];return lt.value=`${Number($t.lat.toFixed(5))},${Number($t.lng.toFixed(5))} ${oe}`,Ct.value||(Et.value=`${Number($t.lat.toFixed(5))},${Number($t.lng.toFixed(5))},${oe}`),Vt}function Qt(jt){return L$1.geoJSON(jt,{pointToLayer:($t,oe)=>{const Vt=$t.properties;let Be={...z};return $t.properties.icon&&(Be.iconUrl=$t.properties.icon),$t.properties.shadowUrl&&(Be.shadowUrl=$t.properties.shadowUrl),$t.properties.iconRetinaUrl&&(Be.iconRetinaUrl=$t.properties.iconRetinaUrl),Vt.markerType==="circle"?L$1.circleMarker(oe,{radius:Vt.radius||4}):L$1.marker(oe,{icon:new L$1.Icon(Be)})},onEachFeature:async($t,oe)=>{var Be;let Vt=oe;if(!$t.properties.coords){if((Be=Vt.feature)!=null&&Be.bbox){let ge=Vt.getBounds().getCenter();$t.properties.coords=`${ge.lat},${ge.lng}`}else if($t.geometry.type==="Polygon"){let ge=O.centroid($t);$t.properties.coords=`${ge.geometry.coordinates[1]},${ge.geometry.coordinates[0]}`}}if($t.properties.qid){let ge=await getEntity($t.properties.qid);$t.properties.entityData=ge;let ke=`<ve-info-card data="${JSON.stringify(ge).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;oe.bindPopup(ke)}else{let Pe=`<ve-info-card data="${JSON.stringify($t.properties).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;oe.bindPopup(Pe)}F.popupOnHover&&(oe.on("mouseover",()=>oe.openPopup()),oe.on("mouseout",()=>oe.closePopup())),oe.on("click",()=>{Ct.value?(oe.closePopup(),Ct.value=void 0):(oe.openPopup(),Ct.value={},F.zoomOnClick&&Kt($t.properties.coords))})},style:$t=>{const oe=$t==null?void 0:$t.properties,Vt=$t==null?void 0:$t.geometry.type;for(let[ge,Pe]of Object.entries(oe))Pe==="null"&&(oe[ge]=null);return{color:oe.color||"#FB683F",weight:oe.weight||(Vt==="Polygon"||Vt==="MultiPolygon"?0:4),opacity:oe.opacity||1,fillColor:oe.fillColor||"#32C125",fillOpacity:oe.fillOpacity||.5}}})}let Nt=!1;function ce(){var jt;if(st.value&&mt.value&&wt.value&&!Nt){Nt=!0;let $t=Object.keys(mt.value||{}),oe=wt.value?wt.value.length:0;!bt.value&&($t.length>1||$t.length===1&&$t[0]!=="Locations"||oe>0)&&(bt.value=L$1.control.layers(Object.fromEntries([]),{}).addTo(st.value)),Object.keys(mt.value||{}).forEach(Be=>{var ke;let ge=new L$1.LayerGroup,Pe=!1;mt.value[Be].forEach($e=>{var Qe;let Fe=Qt($e);ge.addLayer(Fe),(Qe=$e.properties)!=null&&Qe.disabled&&(Pe=!0)}),Pe||(ke=st.value)==null||ke.addLayer(ge),bt.value&&bt.value.addOverlay(ge,Be)});let Vt={};(jt=wt.value)==null||jt.forEach(Be=>{var ge;bt.value&&bt.value.addOverlay(Be.layer,Be.name),Be.disabled||(ge=st.value)==null||ge.addLayer(Be.layer),Vt[Be.name]=Be.layer}),Object.keys(Vt).length>0&&L$1.control.opacity(Vt,{label:null,collapsed:!0,position:"topright"}).addTo(st.value)}}function Pt(jt){const $t={type:"FeatureCollection",features:[]};return jt.filter(oe=>oe.coords).forEach(oe=>{let[Vt,Be]=oe.coords.split(",").map(ge=>parseFloat(ge.trim()));$t.features.push({type:"Feature",properties:oe,geometry:{type:"Point",coordinates:[Be,Vt]}})}),$t}async function de(){let jt=Array.from(q.value.querySelectorAll("li")).map($t=>{var oe;return Je((oe=$t.firstChild)==null?void 0:oe.textContent)});if(F.marker&&F.center)if(isQID(F.center)){let $t=await getEntity(F.center);jt.push(Promise.resolve(Oe($t)))}else jt.push(Promise.resolve({coords:F.center,zoom:F.zoom||10}));ht.value=[...ht.value,...jt]}function ye(){const jt=oe=>{for(let Vt of oe)Vt.type==="childList"&&Array.from(Vt.target.classList).indexOf("hydrated")>=0&&de()};new MutationObserver(jt).observe(q.value,{childList:!0,subtree:!0,characterData:!0})}function pe(jt){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(jt)}function ve(jt){return/^\d{1,2}(\.\d{1})?$/.test(jt)}function Ce(jt){jt=jt||"";let $t=[];jt=jt.replace(//,'"').replace(//,'"').replace(//,"'");let oe=jt.match(/[^\s"]+|"([^"]*)"/gmi);return oe&&oe.forEach(Vt=>{$t.length>0&&$t[$t.length-1].indexOf("=")===$t[$t.length-1].length-1?$t[$t.length-1]=`${$t[$t.length-1]}${Vt}`:$t.push(Vt)}),$t}function De(jt,$t){let oe={id:$t},Vt=metadataAsObj(jt);return Vt.location&&(oe.coords=Vt.location[0]),Vt.coordinates_of_the_point_of_view&&(oe.coords=Vt.coordinates_of_the_point_of_view[0]),jt.label&&(oe.label=jt.label.en),jt.summary&&(oe.description=jt.summary.en[0]),jt.thumbnail&&(oe.image=jt.thumbnail[0].id),oe}function Oe(jt,$t=""){let oe={id:$t||jt.id};return jt.coords&&(oe.coords=jt.coords),jt.geojson&&(oe.geojson=jt.geojson),jt.label&&(oe.label=jt.label),jt.description&&(oe.description=jt.description),jt.thumbnail&&(oe.image=jt.thumbnail),oe}async function Je(jt){let $t=Ce(jt),oe=/\.(geo)?json$/i,Vt=/^[a-z0-9\-]+:.+/,Be={},ge=new Set(["disabled","prefer-geojson"]);for(let Pe=0;Pe<$t.length;Pe++){let ke=$t[Pe];if(ke.indexOf("=")>0){let[$e,...Fe]=ke.split("="),Qe=Fe.join("=");if(Qe=Qe[Qe.length-1]==='"'?Qe.slice(1,-1):Qe,$e==="qid"){let We=await getEntity(ke);Be={...Oe(We,ke),...Be}}else if($e==="iiif"){let We=await getManifest(ke);Be={...De(We,ke),...Be}}else Be[$e]=Qe}else if(ve(ke))Be.zoom=parseInt(ke);else if(pe(ke))Be.coords=ke,Be.id=ke;else if(isQID(ke)){let $e=await getEntity(ke);Be={...Oe($e,ke),...Be}}else if(oe.test(ke))Be.geojson=ke;else if(Vt.test(ke)){let $e=await getManifest(ke);Be={...De($e,ke),...Be}}else if(ge.has(ke))Be[kebabToCamel(ke)]=!0;else{let $e=ke[0]==='"'&&ke[ke.length-1]==='"'?ke.slice(1,-1):ke;Be.label?Be.description=$e:Be.label=$e}}return Be.preferGeojson=Be.preferGeojson||F.preferGeojson&&Be.geojson||Be.geojson&&!Be.coords,Be}function qe(jt){let[$t,oe]=jt.split(",").map(Vt=>parseFloat(Vt.trim()));return new leafletSrcExports.LatLng($t,oe)}function ze(jt){navigator.clipboard&&navigator.clipboard.writeText(jt)}function we(jt="",$t=""){return Object.values(mt.value).map(Vt=>{let Be=Vt[0];return Be.type==="FeatureCollection"?Be.features:[Be]}).flat().find(Vt=>{var Be,ge;return Vt.id===jt||((Be=Vt.properties)==null?void 0:Be.id)===jt||((ge=Vt.properties)==null?void 0:ge.coords)===$t})}function Me(jt=""){var ge,Pe,ke,$e;jt=jt.replace(/^flyto\|/i,"");let $t="",oe=10,Vt=jt.split(",");if(Vt.length===1){$t=Vt[0];let Fe=we($t);oe=((ge=Fe==null?void 0:Fe.properties)==null?void 0:ge.zoom)||oe}else if(Vt.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(Vt[0])){$t=Vt.join(",");let Fe=we("",$t);oe=((Pe=Fe==null?void 0:Fe.properties)==null?void 0:Pe.zoom)||oe}else $t=Vt[0],oe=parseFloat(Vt[1]);else $t=Vt.slice(0,2).join(","),oe=parseFloat(Vt[2]);let Be;return(ke=st.value)==null||ke.eachLayer(Fe=>{var Qe,We,rn,zn;(((We=(Qe=Fe==null?void 0:Fe.feature)==null?void 0:Qe.properties)==null?void 0:We.id)===$t||((zn=(rn=Fe==null?void 0:Fe.feature)==null?void 0:rn.properties)==null?void 0:zn.coords)===$t)&&(Be=Fe)}),Be||($e=st.value)==null||$e.eachLayer(Fe=>Be=Fe),{id:$t,zoom:oe,layer:Be}}function He(){let jt=q.value.parentElement,$t=new Set;for(;jt.parentElement&&jt.tagName!=="MAIN";)jt=jt.parentElement,Array.from(jt.querySelectorAll("[enter],[exit]")).forEach(Vt=>{Ye(Vt)&&!$t.has(Vt)&&(Le(Vt),$t.add(Vt))});let oe=q.value.parentElement;for(;oe!=null&&oe.parentElement&&oe.tagName!=="BODY";)oe=oe.parentElement;oe&&Array.from(oe.querySelectorAll("mark")).forEach(Vt=>{let Be=Array.from(Vt.attributes).find(ge=>ge.name==="flyto");if(Be&&Ye(Vt.parentElement)){let Pe=Be==null?void 0:Be.value;Vt.classList.add(Be.name),Vt.addEventListener("click",()=>Kt(Pe)),F.popupOnHover&&(Vt.addEventListener("mouseover",()=>{let ke=Me(Pe).layer;ke.openPopup(),isMobile()&&setTimeout(()=>ke.closePopup(),2e3)}),Vt.addEventListener("mouseleave",()=>{var ke;Ft.value=Me(Pe),Ft.value.id!==Ct.value&&((ke=Ft.value.layer)==null||ke.closePopup())}))}})}function Le(jt){let $t=jt.classList.contains("active");new MutationObserver(Vt=>{Vt.forEach(Be=>{if(Be.attributeName=="class"){let ge=Be.target.classList.contains("active");if($t!==ge){$t=ge;let Pe=jt.attributes.getNamedItem(ge?"enter":"exit");if(Pe){const[ke,...$e]=Pe.value.split(":");let Fe=$e.join(":");ke==="flyto"&&Kt(Fe,!0),Pe.name==="exit"&&kt()}}}})}).observe(jt,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function Ye(jt){let $t=jt.previousSibling;for(;$t;){if($t.nodeName==="VE-MAP")return $t===q.value?$t:null;$t=$t.previousSibling}for(;jt.parentElement&&jt.tagName!=="MAIN";){jt=jt.parentElement;let oe=jt.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(oe)return oe===q.value?oe:null}}async function Kt(jt,$t=!1){var oe,Vt;if(Ft.value=Me(jt),Ft.value.layer){if(Ft.value.id===Ct.value&&!$t)Ft.value.layer.closePopup(),kt();else if(Ct.value=Ft.value.id,(oe=Ft.value.layer.feature)!=null&&oe.properties){let Be=qe(Ft.value.layer.feature.properties.coords);(Vt=st.value)==null||Vt.flyTo(Be,Ft.value.zoom)}}else kt()}function kt(){var jt,$t;if(Ft.value=null,Et.value){let[oe,Vt,Be]=Et.value.split(",").map(Pe=>parseFloat(Pe)),ge=new L$1.LatLng(oe,Vt);(jt=st.value)==null||jt.flyTo(ge,Be),($t=st.value)==null||$t.closePopup()}Ct.value=void 0}return(jt,$t)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:W,style:{width:"100%",height:"100%"}},[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",{id:"lat-lng-zoom",innerHTML:lt.value,onClick:$t[0]||($t[0]=oe=>ze(`${lt.value}`))},null,8,_hoisted_2$7),_hoisted_3$5,D.caption?(openBlock(),createElementBlock("div",{key:0,id:"caption",innerHTML:D.caption},null,8,_hoisted_4$5)):createCommentVNode("",!0)])],512))}}),_style_0$7=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;font-family:Roboto,sans-serif;background-color:#fff;margin-bottom:1rem}.content{margin:auto}#map{border:1px solid #ccc;width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}
`,Map$3=_export_sfc(_sfc_main$a,[["styles",[_style_0$7]]]);var dist$1={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var D={},O={};return D.on=function(z,F){var Y={name:z,handler:F};return O[z]=O[z]||[],O[z].unshift(Y),Y},D.off=function(z){var F=O[z.name].indexOf(z);F!==-1&&O[z.name].splice(F,1)},D.trigger=function(z,F){var Y=O[z],W;if(Y)for(W=Y.length;W--;)Y[W].handler(F)},D};var sister=Sister,YouTubePlayer$1={exports:{}},browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var D=1e3,O=D*60,z=O*60,F=z*24,Y=F*7,W=F*365.25;ms=function(st,ct){ct=ct||{};var lt=typeof st;if(lt==="string"&&st.length>0)return q(st);if(lt==="number"&&isFinite(st))return ct.long?tt(st):X(st);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(st))};function q(st){if(st=String(st),!(st.length>100)){var ct=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(st);if(ct){var lt=parseFloat(ct[1]),ht=(ct[2]||"ms").toLowerCase();switch(ht){case"years":case"year":case"yrs":case"yr":case"y":return lt*W;case"weeks":case"week":case"w":return lt*Y;case"days":case"day":case"d":return lt*F;case"hours":case"hour":case"hrs":case"hr":case"h":return lt*z;case"minutes":case"minute":case"mins":case"min":case"m":return lt*O;case"seconds":case"second":case"secs":case"sec":case"s":return lt*D;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return lt;default:return}}}}function X(st){var ct=Math.abs(st);return ct>=F?Math.round(st/F)+"d":ct>=z?Math.round(st/z)+"h":ct>=O?Math.round(st/O)+"m":ct>=D?Math.round(st/D)+"s":st+"ms"}function tt(st){var ct=Math.abs(st);return ct>=F?nt(st,ct,F,"day"):ct>=z?nt(st,ct,z,"hour"):ct>=O?nt(st,ct,O,"minute"):ct>=D?nt(st,ct,D,"second"):st+" ms"}function nt(st,ct,lt,ht){var bt=ct>=lt*1.5;return Math.round(st/lt)+" "+ht+(bt?"s":"")}return ms}function setup(D){z.debug=z,z.default=z,z.coerce=tt,z.disable=W,z.enable=Y,z.enabled=q,z.humanize=requireMs(),z.destroy=nt,Object.keys(D).forEach(st=>{z[st]=D[st]}),z.names=[],z.skips=[],z.formatters={};function O(st){let ct=0;for(let lt=0;lt<st.length;lt++)ct=(ct<<5)-ct+st.charCodeAt(lt),ct|=0;return z.colors[Math.abs(ct)%z.colors.length]}z.selectColor=O;function z(st){let ct,lt=null,ht,bt;function wt(...mt){if(!wt.enabled)return;const _t=wt,Et=Number(new Date),At=Et-(ct||Et);_t.diff=At,_t.prev=ct,_t.curr=Et,ct=Et,mt[0]=z.coerce(mt[0]),typeof mt[0]!="string"&&mt.unshift("%O");let Ct=0;mt[0]=mt[0].replace(/%([a-zA-Z%])/g,(Lt,Yt)=>{if(Lt==="%%")return"%";Ct++;const Ht=z.formatters[Yt];if(typeof Ht=="function"){const qt=mt[Ct];Lt=Ht.call(_t,qt),mt.splice(Ct,1),Ct--}return Lt}),z.formatArgs.call(_t,mt),(_t.log||z.log).apply(_t,mt)}return wt.namespace=st,wt.useColors=z.useColors(),wt.color=z.selectColor(st),wt.extend=F,wt.destroy=z.destroy,Object.defineProperty(wt,"enabled",{enumerable:!0,configurable:!1,get:()=>lt!==null?lt:(ht!==z.namespaces&&(ht=z.namespaces,bt=z.enabled(st)),bt),set:mt=>{lt=mt}}),typeof z.init=="function"&&z.init(wt),wt}function F(st,ct){const lt=z(this.namespace+(typeof ct>"u"?":":ct)+st);return lt.log=this.log,lt}function Y(st){z.save(st),z.namespaces=st,z.names=[],z.skips=[];let ct;const lt=(typeof st=="string"?st:"").split(/[\s,]+/),ht=lt.length;for(ct=0;ct<ht;ct++)lt[ct]&&(st=lt[ct].replace(/\*/g,".*?"),st[0]==="-"?z.skips.push(new RegExp("^"+st.slice(1)+"$")):z.names.push(new RegExp("^"+st+"$")))}function W(){const st=[...z.names.map(X),...z.skips.map(X).map(ct=>"-"+ct)].join(",");return z.enable(""),st}function q(st){if(st[st.length-1]==="*")return!0;let ct,lt;for(ct=0,lt=z.skips.length;ct<lt;ct++)if(z.skips[ct].test(st))return!1;for(ct=0,lt=z.names.length;ct<lt;ct++)if(z.names[ct].test(st))return!0;return!1}function X(st){return st.toString().substring(2,st.toString().length-2).replace(/\.\*\?$/,"*")}function tt(st){return st instanceof Error?st.stack||st.message:st}function nt(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return z.enable(z.load()),z}var common$2=setup;(function(D,O){O.formatArgs=F,O.save=Y,O.load=W,O.useColors=z,O.storage=q(),O.destroy=(()=>{let tt=!1;return()=>{tt||(tt=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),O.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function z(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function F(tt){if(tt[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+tt[0]+(this.useColors?"%c ":" ")+"+"+D.exports.humanize(this.diff),!this.useColors)return;const nt="color: "+this.color;tt.splice(1,0,nt,"color: inherit");let st=0,ct=0;tt[0].replace(/%[a-zA-Z%]/g,lt=>{lt!=="%%"&&(st++,lt==="%c"&&(ct=st))}),tt.splice(ct,0,nt)}O.log=console.debug||console.log||(()=>{});function Y(tt){try{tt?O.storage.setItem("debug",tt):O.storage.removeItem("debug")}catch{}}function W(){let tt;try{tt=O.storage.getItem("debug")}catch{}return!tt&&typeof process<"u"&&"env"in process&&(tt={name:"juncture-webcomponents",version:"0.4.0"}.DEBUG),tt}function q(){try{return localStorage}catch{}}D.exports=common$2(O);const{formatters:X}=D.exports;X.j=function(tt){try{return JSON.stringify(tt)}catch(nt){return"[UnexpectedJSONParseError]: "+nt.message}}})(browser,browser.exports);var browserExports=browser.exports,FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(D,O){Object.defineProperty(O,"__esModule",{value:!0}),O.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},D.exports=O.default})(PlayerStates,PlayerStates.exports);var PlayerStatesExports=PlayerStates.exports;(function(D,O){Object.defineProperty(O,"__esModule",{value:!0});var z=PlayerStatesExports,F=Y(z);function Y(W){return W&&W.__esModule?W:{default:W}}O.default={pauseVideo:{acceptableStates:[F.default.ENDED,F.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[F.default.ENDED,F.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[F.default.ENDED,F.default.PLAYING,F.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},D.exports=O.default})(FunctionStateMap,FunctionStateMap.exports);var FunctionStateMapExports=FunctionStateMap.exports,eventNames={exports:{}};(function(D,O){Object.defineProperty(O,"__esModule",{value:!0}),O.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],D.exports=O.default})(eventNames,eventNames.exports);var eventNamesExports=eventNames.exports,functionNames={exports:{}};(function(D,O){Object.defineProperty(O,"__esModule",{value:!0}),O.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],D.exports=O.default})(functionNames,functionNames.exports);var functionNamesExports=functionNames.exports;(function(D,O){Object.defineProperty(O,"__esModule",{value:!0});var z=browserExports,F=st(z),Y=FunctionStateMapExports,W=st(Y),q=eventNamesExports,X=st(q),tt=functionNamesExports,nt=st(tt);function st(ht){return ht&&ht.__esModule?ht:{default:ht}}const ct=(0,F.default)("youtube-player"),lt={};lt.proxyEvents=ht=>{const bt={};for(const wt of X.default){const mt="on"+wt.slice(0,1).toUpperCase()+wt.slice(1);bt[mt]=_t=>{ct('event "%s"',mt,_t),ht.trigger(wt,_t)}}return bt},lt.promisifyPlayer=(ht,bt=!1)=>{const wt={};for(const mt of nt.default)bt&&W.default[mt]?wt[mt]=(..._t)=>ht.then(Et=>{const At=W.default[mt],Ct=Et.getPlayerState(),Ft=Et[mt].apply(Et,_t);return At.stateChangeRequired||Array.isArray(At.acceptableStates)&&!At.acceptableStates.includes(Ct)?new Promise(Lt=>{const Yt=()=>{const Ht=Et.getPlayerState();let qt;typeof At.timeout=="number"&&(qt=setTimeout(()=>{Et.removeEventListener("onStateChange",Yt),Lt()},At.timeout)),Array.isArray(At.acceptableStates)&&At.acceptableStates.includes(Ht)&&(Et.removeEventListener("onStateChange",Yt),clearTimeout(qt),Lt())};Et.addEventListener("onStateChange",Yt)}).then(()=>Ft):Ft}):wt[mt]=(..._t)=>ht.then(Et=>Et[mt].apply(Et,_t));return wt},O.default=lt,D.exports=O.default})(YouTubePlayer$1,YouTubePlayer$1.exports);var YouTubePlayerExports=YouTubePlayer$1.exports,loadYouTubeIframeApi={exports:{}},loadScript=function(O,z,F){var Y=document.head||document.getElementsByTagName("head")[0],W=document.createElement("script");typeof z=="function"&&(F=z,z={}),z=z||{},F=F||function(){},W.type=z.type||"text/javascript",W.charset=z.charset||"utf8",W.async="async"in z?!!z.async:!0,W.src=O,z.attrs&&setAttributes(W,z.attrs),z.text&&(W.text=""+z.text);var q="onload"in W?stdOnEnd:ieOnEnd;q(W,F),W.onload||stdOnEnd(W,F),Y.appendChild(W)};function setAttributes(D,O){for(var z in O)D.setAttribute(z,O[z])}function stdOnEnd(D,O){D.onload=function(){this.onerror=this.onload=null,O(null,D)},D.onerror=function(){this.onerror=this.onload=null,O(new Error("Failed to load "+this.src),D)}}function ieOnEnd(D,O){D.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,O(null,D))}}(function(D,O){Object.defineProperty(O,"__esModule",{value:!0});var z=loadScript,F=Y(z);function Y(W){return W&&W.__esModule?W:{default:W}}O.default=W=>new Promise(X=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){X(window.YT);return}else{const nt=window.location.protocol==="http:"?"http:":"https:";(0,F.default)(nt+"//www.youtube.com/iframe_api",st=>{st&&W.trigger("error",st)})}const tt=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{tt&&tt(),X(window.YT)}}),D.exports=O.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var loadYouTubeIframeApiExports=loadYouTubeIframeApi.exports;(function(D,O){Object.defineProperty(O,"__esModule",{value:!0});var z=sister,F=tt(z),Y=YouTubePlayerExports,W=tt(Y),q=loadYouTubeIframeApiExports,X=tt(q);function tt(st){return st&&st.__esModule?st:{default:st}}let nt;O.default=(st,ct={},lt=!1)=>{const ht=(0,F.default)();if(nt||(nt=(0,X.default)(ht)),ct.events)throw new Error("Event handlers cannot be overwritten.");if(typeof st=="string"&&!document.getElementById(st))throw new Error('Element "'+st+'" does not exist.');ct.events=W.default.proxyEvents(ht);const bt=new Promise(mt=>{typeof st=="object"&&st.playVideo instanceof Function?mt(st):nt.then(_t=>{const Et=new _t.Player(st,ct);return ht.on("ready",()=>{mt(Et)}),null})}),wt=W.default.promisifyPlayer(bt,lt);return wt.on=ht.on,wt.off=ht.off,wt},D.exports=O.default})(dist$1,dist$1.exports);var distExports=dist$1.exports;const YouTubePlayer=getDefaultExportFromCjs(distExports);/*! @vimeo/player v2.20.1 | (c) 2023 Vimeo | MIT License | https://github.com/vimeo/player.js */function ownKeys(D,O){var z=Object.keys(D);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(D);O&&(F=F.filter(function(Y){return Object.getOwnPropertyDescriptor(D,Y).enumerable})),z.push.apply(z,F)}return z}function _objectSpread2(D){for(var O=1;O<arguments.length;O++){var z=arguments[O]!=null?arguments[O]:{};O%2?ownKeys(Object(z),!0).forEach(function(F){_defineProperty(D,F,z[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(z)):ownKeys(Object(z)).forEach(function(F){Object.defineProperty(D,F,Object.getOwnPropertyDescriptor(z,F))})}return D}function _regeneratorRuntime(){_regeneratorRuntime=function(){return D};var D={},O=Object.prototype,z=O.hasOwnProperty,F=Object.defineProperty||function(Dt,Qt,Nt){Dt[Qt]=Nt.value},Y=typeof Symbol=="function"?Symbol:{},W=Y.iterator||"@@iterator",q=Y.asyncIterator||"@@asyncIterator",X=Y.toStringTag||"@@toStringTag";function tt(Dt,Qt,Nt){return Object.defineProperty(Dt,Qt,{value:Nt,enumerable:!0,configurable:!0,writable:!0}),Dt[Qt]}try{tt({},"")}catch{tt=function(Qt,Nt,ce){return Qt[Nt]=ce}}function nt(Dt,Qt,Nt,ce){var Pt=Qt&&Qt.prototype instanceof lt?Qt:lt,de=Object.create(Pt.prototype),ye=new qt(ce||[]);return F(de,"_invoke",{value:Ft(Dt,Nt,ye)}),de}function st(Dt,Qt,Nt){try{return{type:"normal",arg:Dt.call(Qt,Nt)}}catch(ce){return{type:"throw",arg:ce}}}D.wrap=nt;var ct={};function lt(){}function ht(){}function bt(){}var wt={};tt(wt,W,function(){return this});var mt=Object.getPrototypeOf,_t=mt&&mt(mt(te([])));_t&&_t!==O&&z.call(_t,W)&&(wt=_t);var Et=bt.prototype=lt.prototype=Object.create(wt);function At(Dt){["next","throw","return"].forEach(function(Qt){tt(Dt,Qt,function(Nt){return this._invoke(Qt,Nt)})})}function Ct(Dt,Qt){function Nt(Pt,de,ye,pe){var ve=st(Dt[Pt],Dt,de);if(ve.type!=="throw"){var Ce=ve.arg,De=Ce.value;return De&&typeof De=="object"&&z.call(De,"__await")?Qt.resolve(De.__await).then(function(Oe){Nt("next",Oe,ye,pe)},function(Oe){Nt("throw",Oe,ye,pe)}):Qt.resolve(De).then(function(Oe){Ce.value=Oe,ye(Ce)},function(Oe){return Nt("throw",Oe,ye,pe)})}pe(ve.arg)}var ce;F(this,"_invoke",{value:function(Pt,de){function ye(){return new Qt(function(pe,ve){Nt(Pt,de,pe,ve)})}return ce=ce?ce.then(ye,ye):ye()}})}function Ft(Dt,Qt,Nt){var ce="suspendedStart";return function(Pt,de){if(ce==="executing")throw new Error("Generator is already running");if(ce==="completed"){if(Pt==="throw")throw de;return Xt()}for(Nt.method=Pt,Nt.arg=de;;){var ye=Nt.delegate;if(ye){var pe=Lt(ye,Nt);if(pe){if(pe===ct)continue;return pe}}if(Nt.method==="next")Nt.sent=Nt._sent=Nt.arg;else if(Nt.method==="throw"){if(ce==="suspendedStart")throw ce="completed",Nt.arg;Nt.dispatchException(Nt.arg)}else Nt.method==="return"&&Nt.abrupt("return",Nt.arg);ce="executing";var ve=st(Dt,Qt,Nt);if(ve.type==="normal"){if(ce=Nt.done?"completed":"suspendedYield",ve.arg===ct)continue;return{value:ve.arg,done:Nt.done}}ve.type==="throw"&&(ce="completed",Nt.method="throw",Nt.arg=ve.arg)}}}function Lt(Dt,Qt){var Nt=Qt.method,ce=Dt.iterator[Nt];if(ce===void 0)return Qt.delegate=null,Nt==="throw"&&Dt.iterator.return&&(Qt.method="return",Qt.arg=void 0,Lt(Dt,Qt),Qt.method==="throw")||Nt!=="return"&&(Qt.method="throw",Qt.arg=new TypeError("The iterator does not provide a '"+Nt+"' method")),ct;var Pt=st(ce,Dt.iterator,Qt.arg);if(Pt.type==="throw")return Qt.method="throw",Qt.arg=Pt.arg,Qt.delegate=null,ct;var de=Pt.arg;return de?de.done?(Qt[Dt.resultName]=de.value,Qt.next=Dt.nextLoc,Qt.method!=="return"&&(Qt.method="next",Qt.arg=void 0),Qt.delegate=null,ct):de:(Qt.method="throw",Qt.arg=new TypeError("iterator result is not an object"),Qt.delegate=null,ct)}function Yt(Dt){var Qt={tryLoc:Dt[0]};1 in Dt&&(Qt.catchLoc=Dt[1]),2 in Dt&&(Qt.finallyLoc=Dt[2],Qt.afterLoc=Dt[3]),this.tryEntries.push(Qt)}function Ht(Dt){var Qt=Dt.completion||{};Qt.type="normal",delete Qt.arg,Dt.completion=Qt}function qt(Dt){this.tryEntries=[{tryLoc:"root"}],Dt.forEach(Yt,this),this.reset(!0)}function te(Dt){if(Dt){var Qt=Dt[W];if(Qt)return Qt.call(Dt);if(typeof Dt.next=="function")return Dt;if(!isNaN(Dt.length)){var Nt=-1,ce=function Pt(){for(;++Nt<Dt.length;)if(z.call(Dt,Nt))return Pt.value=Dt[Nt],Pt.done=!1,Pt;return Pt.value=void 0,Pt.done=!0,Pt};return ce.next=ce}}return{next:Xt}}function Xt(){return{value:void 0,done:!0}}return ht.prototype=bt,F(Et,"constructor",{value:bt,configurable:!0}),F(bt,"constructor",{value:ht,configurable:!0}),ht.displayName=tt(bt,X,"GeneratorFunction"),D.isGeneratorFunction=function(Dt){var Qt=typeof Dt=="function"&&Dt.constructor;return!!Qt&&(Qt===ht||(Qt.displayName||Qt.name)==="GeneratorFunction")},D.mark=function(Dt){return Object.setPrototypeOf?Object.setPrototypeOf(Dt,bt):(Dt.__proto__=bt,tt(Dt,X,"GeneratorFunction")),Dt.prototype=Object.create(Et),Dt},D.awrap=function(Dt){return{__await:Dt}},At(Ct.prototype),tt(Ct.prototype,q,function(){return this}),D.AsyncIterator=Ct,D.async=function(Dt,Qt,Nt,ce,Pt){Pt===void 0&&(Pt=Promise);var de=new Ct(nt(Dt,Qt,Nt,ce),Pt);return D.isGeneratorFunction(Qt)?de:de.next().then(function(ye){return ye.done?ye.value:de.next()})},At(Et),tt(Et,X,"Generator"),tt(Et,W,function(){return this}),tt(Et,"toString",function(){return"[object Generator]"}),D.keys=function(Dt){var Qt=Object(Dt),Nt=[];for(var ce in Qt)Nt.push(ce);return Nt.reverse(),function Pt(){for(;Nt.length;){var de=Nt.pop();if(de in Qt)return Pt.value=de,Pt.done=!1,Pt}return Pt.done=!0,Pt}},D.values=te,qt.prototype={constructor:qt,reset:function(Dt){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ht),!Dt)for(var Qt in this)Qt.charAt(0)==="t"&&z.call(this,Qt)&&!isNaN(+Qt.slice(1))&&(this[Qt]=void 0)},stop:function(){this.done=!0;var Dt=this.tryEntries[0].completion;if(Dt.type==="throw")throw Dt.arg;return this.rval},dispatchException:function(Dt){if(this.done)throw Dt;var Qt=this;function Nt(ve,Ce){return de.type="throw",de.arg=Dt,Qt.next=ve,Ce&&(Qt.method="next",Qt.arg=void 0),!!Ce}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var Pt=this.tryEntries[ce],de=Pt.completion;if(Pt.tryLoc==="root")return Nt("end");if(Pt.tryLoc<=this.prev){var ye=z.call(Pt,"catchLoc"),pe=z.call(Pt,"finallyLoc");if(ye&&pe){if(this.prev<Pt.catchLoc)return Nt(Pt.catchLoc,!0);if(this.prev<Pt.finallyLoc)return Nt(Pt.finallyLoc)}else if(ye){if(this.prev<Pt.catchLoc)return Nt(Pt.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<Pt.finallyLoc)return Nt(Pt.finallyLoc)}}}},abrupt:function(Dt,Qt){for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var ce=this.tryEntries[Nt];if(ce.tryLoc<=this.prev&&z.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var Pt=ce;break}}Pt&&(Dt==="break"||Dt==="continue")&&Pt.tryLoc<=Qt&&Qt<=Pt.finallyLoc&&(Pt=null);var de=Pt?Pt.completion:{};return de.type=Dt,de.arg=Qt,Pt?(this.method="next",this.next=Pt.finallyLoc,ct):this.complete(de)},complete:function(Dt,Qt){if(Dt.type==="throw")throw Dt.arg;return Dt.type==="break"||Dt.type==="continue"?this.next=Dt.arg:Dt.type==="return"?(this.rval=this.arg=Dt.arg,this.method="return",this.next="end"):Dt.type==="normal"&&Qt&&(this.next=Qt),ct},finish:function(Dt){for(var Qt=this.tryEntries.length-1;Qt>=0;--Qt){var Nt=this.tryEntries[Qt];if(Nt.finallyLoc===Dt)return this.complete(Nt.completion,Nt.afterLoc),Ht(Nt),ct}},catch:function(Dt){for(var Qt=this.tryEntries.length-1;Qt>=0;--Qt){var Nt=this.tryEntries[Qt];if(Nt.tryLoc===Dt){var ce=Nt.completion;if(ce.type==="throw"){var Pt=ce.arg;Ht(Nt)}return Pt}}throw new Error("illegal catch attempt")},delegateYield:function(Dt,Qt,Nt){return this.delegate={iterator:te(Dt),resultName:Qt,nextLoc:Nt},this.method==="next"&&(this.arg=void 0),ct}},D}function asyncGeneratorStep(D,O,z,F,Y,W,q){try{var X=D[W](q),tt=X.value}catch(nt){z(nt);return}X.done?O(tt):Promise.resolve(tt).then(F,Y)}function _asyncToGenerator(D){return function(){var O=this,z=arguments;return new Promise(function(F,Y){var W=D.apply(O,z);function q(tt){asyncGeneratorStep(W,F,Y,q,X,"next",tt)}function X(tt){asyncGeneratorStep(W,F,Y,q,X,"throw",tt)}q(void 0)})}}function _classCallCheck(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function _defineProperties(D,O){for(var z=0;z<O.length;z++){var F=O[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,_toPropertyKey(F.key),F)}}function _createClass(D,O,z){return O&&_defineProperties(D.prototype,O),z&&_defineProperties(D,z),Object.defineProperty(D,"prototype",{writable:!1}),D}function _defineProperty(D,O,z){return O=_toPropertyKey(O),O in D?Object.defineProperty(D,O,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[O]=z,D}function _inherits(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),O&&_setPrototypeOf$1(D,O)}function _getPrototypeOf(D){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},_getPrototypeOf(D)}function _setPrototypeOf$1(D,O){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,Y){return F.__proto__=Y,F},_setPrototypeOf$1(D,O)}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct$1(D,O,z){return _isNativeReflectConstruct$1()?_construct$1=Reflect.construct.bind():_construct$1=function(Y,W,q){var X=[null];X.push.apply(X,W);var tt=Function.bind.apply(Y,X),nt=new tt;return q&&_setPrototypeOf$1(nt,q.prototype),nt},_construct$1.apply(null,arguments)}function _isNativeFunction(D){return Function.toString.call(D).indexOf("[native code]")!==-1}function _wrapNativeSuper(D){var O=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(F){if(F===null||!_isNativeFunction(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(F))return O.get(F);O.set(F,Y)}function Y(){return _construct$1(F,arguments,_getPrototypeOf(this).constructor)}return Y.prototype=Object.create(F.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(Y,F)},_wrapNativeSuper(D)}function _assertThisInitialized(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function _possibleConstructorReturn(D,O){if(O&&(typeof O=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(D)}function _createSuper(D){var O=_isNativeReflectConstruct$1();return function(){var F=_getPrototypeOf(D),Y;if(O){var W=_getPrototypeOf(this).constructor;Y=Reflect.construct(F,arguments,W)}else Y=F.apply(this,arguments);return _possibleConstructorReturn(this,Y)}}function _toPrimitive(D,O){if(typeof D!="object"||D===null)return D;var z=D[Symbol.toPrimitive];if(z!==void 0){var F=z.call(D,O||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(D)}function _toPropertyKey(D){var O=_toPrimitive(D,"string");return typeof O=="symbol"?O:String(O)}var isNode$1=typeof global<"u"&&{}.toString.call(global)==="[object global]";function getMethodName(D,O){return D.indexOf(O.toLowerCase())===0?D:"".concat(O.toLowerCase()).concat(D.substr(0,1).toUpperCase()).concat(D.substr(1))}function isDomElement(D){return!!(D&&D.nodeType===1&&"nodeName"in D&&D.ownerDocument&&D.ownerDocument.defaultView)}function isInteger$1(D){return!isNaN(parseFloat(D))&&isFinite(D)&&Math.floor(D)==D}function isVimeoUrl(D){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(D)}function isVimeoEmbed(D){var O=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return O.test(D)}function getVimeoUrl(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=D.id,z=D.url,F=O||z;if(!F)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(isInteger$1(F))return"https://vimeo.com/".concat(F);if(isVimeoUrl(F))return F.replace("http:","https:");throw O?new TypeError("".concat(O," is not a valid video id.")):new TypeError("".concat(F," is not a vimeo.com url."))}var subscribe=function(O,z,F){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",q=typeof z=="string"?[z]:z;return q.forEach(function(X){O[Y](X,F)}),{cancel:function(){return q.forEach(function(tt){return O[W](tt,F)})}}},arrayIndexOfSupport=typeof Array.prototype.indexOf<"u",postMessageSupport=typeof window<"u"&&typeof window.postMessage<"u";if(!isNode$1&&(!arrayIndexOfSupport||!postMessageSupport))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(D,O){return O={exports:{}},D(O,O.exports),O.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(D){if(D.WeakMap)return;var O=Object.prototype.hasOwnProperty,z=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),F=function(W,q,X){z?Object.defineProperty(W,q,{configurable:!0,writable:!0,value:X}):W[q]=X};D.WeakMap=function(){function W(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(F(this,"_id",X("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}F(W.prototype,"delete",function(nt){if(q(this,"delete"),!Y(nt))return!1;var st=nt[this._id];return st&&st[0]===nt?(delete nt[this._id],!0):!1}),F(W.prototype,"get",function(nt){if(q(this,"get"),!!Y(nt)){var st=nt[this._id];if(st&&st[0]===nt)return st[1]}}),F(W.prototype,"has",function(nt){if(q(this,"has"),!Y(nt))return!1;var st=nt[this._id];return!!(st&&st[0]===nt)}),F(W.prototype,"set",function(nt,st){if(q(this,"set"),!Y(nt))throw new TypeError("Invalid value used as weak map key");var ct=nt[this._id];return ct&&ct[0]===nt?(ct[1]=st,this):(F(nt,this._id,[nt,st]),this)});function q(nt,st){if(!Y(nt)||!O.call(nt,"_id"))throw new TypeError(st+" method called on incompatible receiver "+typeof nt)}function X(nt){return nt+"_"+tt()+"."+tt()}function tt(){return Math.random().toString().substring(2)}return F(W,"_polyfill",!0),W}();function Y(W){return Object(W)===W}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal);var npo_src=createCommonjsModule(function(D){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(z,F,Y){F[z]=F[z]||Y(),D.exports&&(D.exports=F[z])})("Promise",commonjsGlobal,function(){var z,F,Y,W=Object.prototype.toString,q=typeof setImmediate<"u"?function(At){return setImmediate(At)}:setTimeout;try{Object.defineProperty({},"x",{}),z=function(At,Ct,Ft,Lt){return Object.defineProperty(At,Ct,{value:Ft,writable:!0,configurable:Lt!==!1})}}catch{z=function(Ct,Ft,Lt){return Ct[Ft]=Lt,Ct}}Y=function(){var At,Ct,Ft;function Lt(Yt,Ht){this.fn=Yt,this.self=Ht,this.next=void 0}return{add:function(Ht,qt){Ft=new Lt(Ht,qt),Ct?Ct.next=Ft:At=Ft,Ct=Ft,Ft=void 0},drain:function(){var Ht=At;for(At=Ct=F=void 0;Ht;)Ht.fn.call(Ht.self),Ht=Ht.next}}}();function X(Et,At){Y.add(Et,At),F||(F=q(Y.drain))}function tt(Et){var At,Ct=typeof Et;return Et!=null&&(Ct=="object"||Ct=="function")&&(At=Et.then),typeof At=="function"?At:!1}function nt(){for(var Et=0;Et<this.chain.length;Et++)st(this,this.state===1?this.chain[Et].success:this.chain[Et].failure,this.chain[Et]);this.chain.length=0}function st(Et,At,Ct){var Ft,Lt;try{At===!1?Ct.reject(Et.msg):(At===!0?Ft=Et.msg:Ft=At.call(void 0,Et.msg),Ft===Ct.promise?Ct.reject(TypeError("Promise-chain cycle")):(Lt=tt(Ft))?Lt.call(Ft,Ct.resolve,Ct.reject):Ct.resolve(Ft))}catch(Yt){Ct.reject(Yt)}}function ct(Et){var At,Ct=this;if(!Ct.triggered){Ct.triggered=!0,Ct.def&&(Ct=Ct.def);try{(At=tt(Et))?X(function(){var Ft=new bt(Ct);try{At.call(Et,function(){ct.apply(Ft,arguments)},function(){lt.apply(Ft,arguments)})}catch(Lt){lt.call(Ft,Lt)}}):(Ct.msg=Et,Ct.state=1,Ct.chain.length>0&&X(nt,Ct))}catch(Ft){lt.call(new bt(Ct),Ft)}}}function lt(Et){var At=this;At.triggered||(At.triggered=!0,At.def&&(At=At.def),At.msg=Et,At.state=2,At.chain.length>0&&X(nt,At))}function ht(Et,At,Ct,Ft){for(var Lt=0;Lt<At.length;Lt++)(function(Ht){Et.resolve(At[Ht]).then(function(te){Ct(Ht,te)},Ft)})(Lt)}function bt(Et){this.def=Et,this.triggered=!1}function wt(Et){this.promise=Et,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function mt(Et){if(typeof Et!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var At=new wt(this);this.then=function(Ft,Lt){var Yt={success:typeof Ft=="function"?Ft:!0,failure:typeof Lt=="function"?Lt:!1};return Yt.promise=new this.constructor(function(qt,te){if(typeof qt!="function"||typeof te!="function")throw TypeError("Not a function");Yt.resolve=qt,Yt.reject=te}),At.chain.push(Yt),At.state!==0&&X(nt,At),Yt.promise},this.catch=function(Ft){return this.then(void 0,Ft)};try{Et.call(void 0,function(Ft){ct.call(At,Ft)},function(Ft){lt.call(At,Ft)})}catch(Ct){lt.call(At,Ct)}}var _t=z({},"constructor",mt,!1);return mt.prototype=_t,z(_t,"__NPO__",0,!1),z(mt,"resolve",function(At){var Ct=this;return At&&typeof At=="object"&&At.__NPO__===1?At:new Ct(function(Lt,Yt){if(typeof Lt!="function"||typeof Yt!="function")throw TypeError("Not a function");Lt(At)})}),z(mt,"reject",function(At){return new this(function(Ft,Lt){if(typeof Ft!="function"||typeof Lt!="function")throw TypeError("Not a function");Lt(At)})}),z(mt,"all",function(At){var Ct=this;return W.call(At)!="[object Array]"?Ct.reject(TypeError("Not an array")):At.length===0?Ct.resolve([]):new Ct(function(Lt,Yt){if(typeof Lt!="function"||typeof Yt!="function")throw TypeError("Not a function");var Ht=At.length,qt=Array(Ht),te=0;ht(Ct,At,function(Dt,Qt){qt[Dt]=Qt,++te===Ht&&Lt(qt)},Yt)})}),z(mt,"race",function(At){var Ct=this;return W.call(At)!="[object Array]"?Ct.reject(TypeError("Not an array")):new Ct(function(Lt,Yt){if(typeof Lt!="function"||typeof Yt!="function")throw TypeError("Not a function");ht(Ct,At,function(qt,te){Lt(te)},Yt)})}),mt})}),callbackMap=new WeakMap;function storeCallback(D,O,z){var F=callbackMap.get(D.element)||{};O in F||(F[O]=[]),F[O].push(z),callbackMap.set(D.element,F)}function getCallbacks(D,O){var z=callbackMap.get(D.element)||{};return z[O]||[]}function removeCallback(D,O,z){var F=callbackMap.get(D.element)||{};if(!F[O])return!0;if(!z)return F[O]=[],callbackMap.set(D.element,F),!0;var Y=F[O].indexOf(z);return Y!==-1&&F[O].splice(Y,1),callbackMap.set(D.element,F),F[O]&&F[O].length===0}function shiftCallbacks(D,O){var z=getCallbacks(D,O);if(z.length<1)return!1;var F=z.shift();return removeCallback(D,O,F),F}function swapCallbacks(D,O){var z=callbackMap.get(D);callbackMap.set(O,z),callbackMap.delete(D)}function parseMessageData(D){if(typeof D=="string")try{D=JSON.parse(D)}catch(O){return console.warn(O),{}}return D}function postMessage(D,O,z){if(!(!D.element.contentWindow||!D.element.contentWindow.postMessage)){var F={method:O};z!==void 0&&(F.value=z);var Y=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));Y>=8&&Y<10&&(F=JSON.stringify(F)),D.element.contentWindow.postMessage(F,D.origin)}}function processData(D,O){O=parseMessageData(O);var z=[],F;if(O.event){if(O.event==="error"){var Y=getCallbacks(D,O.data.method);Y.forEach(function(q){var X=new Error(O.data.message);X.name=O.data.name,q.reject(X),removeCallback(D,O.data.method,q)})}z=getCallbacks(D,"event:".concat(O.event)),F=O.data}else if(O.method){var W=shiftCallbacks(D,O.method);W&&(z.push(W),F=O.value)}z.forEach(function(q){try{if(typeof q=="function"){q.call(D,F);return}q.resolve(F)}catch{}})}var oEmbedParameters=["autopause","autoplay","background","byline","color","colors","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function getOEmbedParameters(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oEmbedParameters.reduce(function(z,F){var Y=D.getAttribute("data-vimeo-".concat(F));return(Y||Y==="")&&(z[F]=Y===""?1:Y),z},O)}function createEmbed(D,O){var z=D.html;if(!O)throw new TypeError("An element must be provided");if(O.getAttribute("data-vimeo-initialized")!==null)return O.querySelector("iframe");var F=document.createElement("div");return F.innerHTML=z,O.appendChild(F.firstChild),O.setAttribute("data-vimeo-initialized","true"),O.querySelector("iframe")}function getOEmbedData(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2?arguments[2]:void 0;return new Promise(function(F,Y){if(!isVimeoUrl(D))throw new TypeError("".concat(D," is not a vimeo.com url."));var W="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(D));for(var q in O)O.hasOwnProperty(q)&&(W+="&".concat(q,"=").concat(encodeURIComponent(O[q])));var X="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;X.open("GET",W,!0),X.onload=function(){if(X.status===404){Y(new Error("".concat(D," was not found.")));return}if(X.status===403){Y(new Error("".concat(D," is not embeddable.")));return}try{var tt=JSON.parse(X.responseText);if(tt.domain_status_code===403){createEmbed(tt,z),Y(new Error("".concat(D," is not embeddable.")));return}F(tt)}catch(nt){Y(nt)}},X.onerror=function(){var tt=X.status?" (".concat(X.status,")"):"";Y(new Error("There was an error fetching the embed code from Vimeo".concat(tt,".")))},X.send()})}function initializeEmbeds(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,O=[].slice.call(D.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),z=function(Y){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(Y))};O.forEach(function(F){try{if(F.getAttribute("data-vimeo-defer")!==null)return;var Y=getOEmbedParameters(F),W=getVimeoUrl(Y);getOEmbedData(W,Y,F).then(function(q){return createEmbed(q,F)}).catch(z)}catch(q){z(q)}})}function resizeEmbeds(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var O=function(F){if(isVimeoUrl(F.origin)&&!(!F.data||F.data.event!=="spacechange")){for(var Y=D.querySelectorAll("iframe"),W=0;W<Y.length;W++)if(Y[W].contentWindow===F.source){var q=Y[W].parentElement;q.style.paddingBottom="".concat(F.data.data[0].bottom,"px");break}}};window.addEventListener("message",O)}}function initAppendVideoMetadata(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var O=function(F){if(isVimeoUrl(F.origin)){var Y=parseMessageData(F.data);if(!(!Y||Y.event!=="ready"))for(var W=D.querySelectorAll("iframe"),q=0;q<W.length;q++){var X=W[q],tt=X.contentWindow===F.source;if(isVimeoEmbed(X.src)&&tt){var nt=new Player(X);nt.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",O)}}function checkUrlTimeParam(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var O=function(Y){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(Y))},z=function(Y){if(isVimeoUrl(Y.origin)){var W=parseMessageData(Y.data);if(!(!W||W.event!=="ready"))for(var q=D.querySelectorAll("iframe"),X=function(){var st=q[tt],ct=st.contentWindow===Y.source;if(isVimeoEmbed(st.src)&&ct){var lt=new Player(st);lt.getVideoId().then(function(ht){var bt=new RegExp("[?&]vimeo_t_".concat(ht,"=([^&#]*)")).exec(window.location.href);if(bt&&bt[1]){var wt=decodeURI(bt[1]);lt.setCurrentTime(wt)}}).catch(O)}},tt=0;tt<q.length;tt++)X()}};window.addEventListener("message",z)}}function initializeScreenfull(){var D=function(){for(var F,Y=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],W=0,q=Y.length,X={};W<q;W++)if(F=Y[W],F&&F[1]in document){for(W=0;W<F.length;W++)X[Y[0][W]]=F[W];return X}return!1}(),O={fullscreenchange:D.fullscreenchange,fullscreenerror:D.fullscreenerror},z={request:function(Y){return new Promise(function(W,q){var X=function nt(){z.off("fullscreenchange",nt),W()};z.on("fullscreenchange",X),Y=Y||document.documentElement;var tt=Y[D.requestFullscreen]();tt instanceof Promise&&tt.then(X).catch(q)})},exit:function(){return new Promise(function(Y,W){if(!z.isFullscreen){Y();return}var q=function tt(){z.off("fullscreenchange",tt),Y()};z.on("fullscreenchange",q);var X=document[D.exitFullscreen]();X instanceof Promise&&X.then(q).catch(W)})},on:function(Y,W){var q=O[Y];q&&document.addEventListener(q,W)},off:function(Y,W){var q=O[Y];q&&document.removeEventListener(q,W)}};return Object.defineProperties(z,{isFullscreen:{get:function(){return!!document[D.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[D.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[D.fullscreenEnabled]}}}),z}var defaultOptions={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},TimingSrcConnector=function(D){_inherits(z,D);var O=_createSuper(z);function z(F,Y){var W,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,z),W=O.call(this),_defineProperty(_assertThisInitialized(W),"logger",void 0),_defineProperty(_assertThisInitialized(W),"speedAdjustment",0),_defineProperty(_assertThisInitialized(W),"adjustSpeed",function(){var tt=_asyncToGenerator(_regeneratorRuntime().mark(function nt(st,ct){var lt;return _regeneratorRuntime().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(W.speedAdjustment!==ct){bt.next=2;break}return bt.abrupt("return");case 2:return bt.next=4,st.getPlaybackRate();case 4:return bt.t0=bt.sent,bt.t1=W.speedAdjustment,bt.t2=bt.t0-bt.t1,bt.t3=ct,lt=bt.t2+bt.t3,W.log("New playbackRate:  ".concat(lt)),bt.next=12,st.setPlaybackRate(lt);case 12:W.speedAdjustment=ct;case 13:case"end":return bt.stop()}},nt)}));return function(nt,st){return tt.apply(this,arguments)}}()),W.logger=X,W.init(Y,F,_objectSpread2(_objectSpread2({},defaultOptions),q)),W}return _createClass(z,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var F=_asyncToGenerator(_regeneratorRuntime().mark(function W(q,X,tt){var nt=this,st,ct,lt;return _regeneratorRuntime().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.next=2,this.waitForTOReadyState(q,"open");case 2:if(tt.role!=="viewer"){bt.next=10;break}return bt.next=5,this.updatePlayer(q,X,tt);case 5:st=subscribe(q,"change",function(){return nt.updatePlayer(q,X,tt)}),ct=this.maintainPlaybackPosition(q,X,tt),this.addEventListener("disconnect",function(){ct.cancel(),st.cancel()}),bt.next=14;break;case 10:return bt.next=12,this.updateTimingObject(q,X);case 12:lt=subscribe(X,["seeked","play","pause","ratechange"],function(){return nt.updateTimingObject(q,X)},"on","off"),this.addEventListener("disconnect",function(){return lt.cancel()});case 14:case"end":return bt.stop()}},W,this)}));function Y(W,q,X){return F.apply(this,arguments)}return Y}()},{key:"updateTimingObject",value:function(){var F=_asyncToGenerator(_regeneratorRuntime().mark(function W(q,X){return _regeneratorRuntime().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.t0=q,nt.next=3,X.getCurrentTime();case 3:return nt.t1=nt.sent,nt.next=6,X.getPaused();case 6:if(!nt.sent){nt.next=10;break}nt.t2=0,nt.next=13;break;case 10:return nt.next=12,X.getPlaybackRate();case 12:nt.t2=nt.sent;case 13:nt.t3=nt.t2,nt.t4={position:nt.t1,velocity:nt.t3},nt.t0.update.call(nt.t0,nt.t4);case 16:case"end":return nt.stop()}},W)}));function Y(W,q){return F.apply(this,arguments)}return Y}()},{key:"updatePlayer",value:function(){var F=_asyncToGenerator(_regeneratorRuntime().mark(function W(q,X,tt){var nt,st,ct;return _regeneratorRuntime().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(nt=q.query(),st=nt.position,ct=nt.velocity,typeof st=="number"&&X.setCurrentTime(st),typeof ct!="number"){ht.next=25;break}if(ct!==0){ht.next=11;break}return ht.next=6,X.getPaused();case 6:if(ht.t0=ht.sent,ht.t0!==!1){ht.next=9;break}X.pause();case 9:ht.next=25;break;case 11:if(!(ct>0)){ht.next=25;break}return ht.next=14,X.getPaused();case 14:if(ht.t1=ht.sent,ht.t1!==!0){ht.next=19;break}return ht.next=18,X.play().catch(function(){var bt=_asyncToGenerator(_regeneratorRuntime().mark(function wt(mt){return _regeneratorRuntime().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(!(mt.name==="NotAllowedError"&&tt.autoPlayMuted)){Et.next=5;break}return Et.next=3,X.setMuted(!0);case 3:return Et.next=5,X.play().catch(function(At){return console.error("Couldn't play the video from TimingSrcConnector. Error:",At)});case 5:case"end":return Et.stop()}},wt)}));return function(wt){return bt.apply(this,arguments)}}());case 18:this.updatePlayer(q,X,tt);case 19:return ht.next=21,X.getPlaybackRate();case 21:if(ht.t2=ht.sent,ht.t3=ct,ht.t2===ht.t3){ht.next=25;break}X.setPlaybackRate(ct);case 25:case"end":return ht.stop()}},W,this)}));function Y(W,q,X){return F.apply(this,arguments)}return Y}()},{key:"maintainPlaybackPosition",value:function(Y,W,q){var X=this,tt=q.allowedDrift,nt=q.maxAllowedDrift,st=q.minCheckInterval,ct=q.maxRateAdjustment,lt=q.maxTimeToCatchUp,ht=Math.min(lt,Math.max(st,nt))*1e3,bt=function(){var mt=_asyncToGenerator(_regeneratorRuntime().mark(function _t(){var Et,At,Ct,Ft,Lt;return _regeneratorRuntime().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(Ht.t0=Y.query().velocity===0,Ht.t0){Ht.next=6;break}return Ht.next=4,W.getPaused();case 4:Ht.t1=Ht.sent,Ht.t0=Ht.t1===!0;case 6:if(!Ht.t0){Ht.next=8;break}return Ht.abrupt("return");case 8:return Ht.t2=Y.query().position,Ht.next=11,W.getCurrentTime();case 11:if(Ht.t3=Ht.sent,Et=Ht.t2-Ht.t3,At=Math.abs(Et),X.log("Drift: ".concat(Et)),!(At>nt)){Ht.next=22;break}return Ht.next=18,X.adjustSpeed(W,0);case 18:W.setCurrentTime(Y.query().position),X.log("Resync by currentTime"),Ht.next=29;break;case 22:if(!(At>tt)){Ht.next=29;break}return Ct=At/lt,Ft=ct,Lt=Ct<Ft?(Ft-Ct)/2:Ft,Ht.next=28,X.adjustSpeed(W,Lt*Math.sign(Et));case 28:X.log("Resync by playbackRate");case 29:case"end":return Ht.stop()}},_t)}));return function(){return mt.apply(this,arguments)}}(),wt=setInterval(function(){return bt()},ht);return{cancel:function(){return clearInterval(wt)}}}},{key:"log",value:function(Y){var W;(W=this.logger)===null||W===void 0||W.call(this,"TimingSrcConnector: ".concat(Y))}},{key:"waitForTOReadyState",value:function(Y,W){return new Promise(function(q){var X=function tt(){Y.readyState===W?q():Y.addEventListener("readystatechange",tt,{once:!0})};X()})}}]),z}(_wrapNativeSuper(EventTarget)),playerMap=new WeakMap,readyMap=new WeakMap,screenfull={},Player=function(){function D(O){var z=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,D),window.jQuery&&O instanceof jQuery&&(O.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),O=O[0]),typeof document<"u"&&typeof O=="string"&&(O=document.getElementById(O)),!isDomElement(O))throw new TypeError("You must pass either a valid element or a valid id.");if(O.nodeName!=="IFRAME"){var Y=O.querySelector("iframe");Y&&(O=Y)}if(O.nodeName==="IFRAME"&&!isVimeoUrl(O.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(playerMap.has(O))return playerMap.get(O);this._window=O.ownerDocument.defaultView,this.element=O,this.origin="*";var W=new npo_src(function(X,tt){if(z._onMessage=function(ct){if(!(!isVimeoUrl(ct.origin)||z.element.contentWindow!==ct.source)){z.origin==="*"&&(z.origin=ct.origin);var lt=parseMessageData(ct.data),ht=lt&&lt.event==="error",bt=ht&&lt.data&&lt.data.method==="ready";if(bt){var wt=new Error(lt.data.message);wt.name=lt.data.name,tt(wt);return}var mt=lt&&lt.event==="ready",_t=lt&&lt.method==="ping";if(mt||_t){z.element.setAttribute("data-ready","true"),X();return}processData(z,lt)}},z._window.addEventListener("message",z._onMessage),z.element.nodeName!=="IFRAME"){var nt=getOEmbedParameters(O,F),st=getVimeoUrl(nt);getOEmbedData(st,nt,O).then(function(ct){var lt=createEmbed(ct,O);return z.element=lt,z._originalElement=O,swapCallbacks(O,lt),playerMap.set(z.element,z),ct}).catch(tt)}});if(readyMap.set(this,W),playerMap.set(this.element,this),this.element.nodeName==="IFRAME"&&postMessage(this,"ping"),screenfull.isEnabled){var q=function(){return screenfull.exit()};this.fullscreenchangeHandler=function(){screenfull.isFullscreen?storeCallback(z,"event:exitFullscreen",q):removeCallback(z,"event:exitFullscreen",q),z.ready().then(function(){postMessage(z,"fullscreenchange",screenfull.isFullscreen)})},screenfull.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return _createClass(D,[{key:"callMethod",value:function(z){var F=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new npo_src(function(W,q){return F.ready().then(function(){storeCallback(F,z,{resolve:W,reject:q}),postMessage(F,z,Y)}).catch(q)})}},{key:"get",value:function(z){var F=this;return new npo_src(function(Y,W){return z=getMethodName(z,"get"),F.ready().then(function(){storeCallback(F,z,{resolve:Y,reject:W}),postMessage(F,z)}).catch(W)})}},{key:"set",value:function(z,F){var Y=this;return new npo_src(function(W,q){if(z=getMethodName(z,"set"),F==null)throw new TypeError("There must be a value to set.");return Y.ready().then(function(){storeCallback(Y,z,{resolve:W,reject:q}),postMessage(Y,z,F)}).catch(q)})}},{key:"on",value:function(z,F){if(!z)throw new TypeError("You must pass an event name.");if(!F)throw new TypeError("You must pass a callback function.");if(typeof F!="function")throw new TypeError("The callback must be a function.");var Y=getCallbacks(this,"event:".concat(z));Y.length===0&&this.callMethod("addEventListener",z).catch(function(){}),storeCallback(this,"event:".concat(z),F)}},{key:"off",value:function(z,F){if(!z)throw new TypeError("You must pass an event name.");if(F&&typeof F!="function")throw new TypeError("The callback must be a function.");var Y=removeCallback(this,"event:".concat(z),F);Y&&this.callMethod("removeEventListener",z).catch(function(W){})}},{key:"loadVideo",value:function(z){return this.callMethod("loadVideo",z)}},{key:"ready",value:function(){var z=readyMap.get(this)||new npo_src(function(F,Y){Y(new Error("Unknown player. Probably unloaded."))});return npo_src.resolve(z)}},{key:"addCuePoint",value:function(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:z,data:F})}},{key:"removeCuePoint",value:function(z){return this.callMethod("removeCuePoint",z)}},{key:"enableTextTrack",value:function(z,F){if(!z)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:z,kind:F})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return screenfull.isEnabled?screenfull.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return screenfull.isEnabled?screenfull.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return screenfull.isEnabled?npo_src.resolve(screenfull.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var z=this;return new npo_src(function(F){if(readyMap.delete(z),playerMap.delete(z.element),z._originalElement&&(playerMap.delete(z._originalElement),z._originalElement.removeAttribute("data-vimeo-initialized")),z.element&&z.element.nodeName==="IFRAME"&&z.element.parentNode&&(z.element.parentNode.parentNode&&z._originalElement&&z._originalElement!==z.element.parentNode?z.element.parentNode.parentNode.removeChild(z.element.parentNode):z.element.parentNode.removeChild(z.element)),z.element&&z.element.nodeName==="DIV"&&z.element.parentNode){z.element.removeAttribute("data-vimeo-initialized");var Y=z.element.querySelector("iframe");Y&&Y.parentNode&&(Y.parentNode.parentNode&&z._originalElement&&z._originalElement!==Y.parentNode?Y.parentNode.parentNode.removeChild(Y.parentNode):Y.parentNode.removeChild(Y))}z._window.removeEventListener("message",z._onMessage),screenfull.isEnabled&&screenfull.off("fullscreenchange",z.fullscreenchangeHandler),F()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(z){return this.set("autopause",z)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(z){return this.set("cameraProps",z)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return npo_src.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(z){return this.set("color",z)}},{key:"setColors",value:function(z){if(!Array.isArray(z))return new npo_src(function(W,q){return q(new TypeError("Argument must be an array."))});var F=new npo_src(function(W){return W(null)}),Y=[z[0]?this.set("colorOne",z[0]):F,z[1]?this.set("colorTwo",z[1]):F,z[2]?this.set("colorThree",z[2]):F,z[3]?this.set("colorFour",z[3]):F];return npo_src.all(Y)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(z){return this.set("currentTime",z)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(z){return this.set("loop",z)}},{key:"setMuted",value:function(z){return this.set("muted",z)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(z){return this.set("playbackRate",z)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(z){return this.set("quality",z)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(z){return this.set("volume",z)}},{key:"setTimingSrc",value:function(){var O=_asyncToGenerator(_regeneratorRuntime().mark(function F(Y,W){var q=this,X;return _regeneratorRuntime().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(Y){nt.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return nt.next=4,this.ready();case 4:return X=new TimingSrcConnector(this,Y,W),postMessage(this,"notifyTimingObjectConnect"),X.addEventListener("disconnect",function(){return postMessage(q,"notifyTimingObjectDisconnect")}),nt.abrupt("return",X);case 8:case"end":return nt.stop()}},F,this)}));function z(F,Y){return O.apply(this,arguments)}return z}()}]),D}();isNode$1||(screenfull=initializeScreenfull(),initializeEmbeds(),resizeEmbeds(),initAppendVideoMetadata(),checkUrlTimeParam());var openseadragon={exports:{}},hasRequiredOpenseadragon;function requireOpenseadragon(){return hasRequiredOpenseadragon||(hasRequiredOpenseadragon=1,function(module){//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(D){return new OpenSeadragon.Viewer(D)}(function(D){D.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var O={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},z=Object.prototype.toString,F=Object.prototype.hasOwnProperty;D.isFunction=function(Y){return D.type(Y)==="function"},D.isArray=Array.isArray||function(Y){return D.type(Y)==="array"},D.isWindow=function(Y){return Y&&typeof Y=="object"&&"setInterval"in Y},D.type=function(Y){return Y==null?String(Y):O[z.call(Y)]||"object"},D.isPlainObject=function(Y){if(!Y||OpenSeadragon.type(Y)!=="object"||Y.nodeType||D.isWindow(Y)||Y.constructor&&!F.call(Y,"constructor")&&!F.call(Y.constructor.prototype,"isPrototypeOf"))return!1;var W;for(var q in Y)W=q;return W===void 0||F.call(Y,W)},D.isEmptyObject=function(Y){for(var W in Y)return!1;return!0},D.freezeObject=function(Y){return Object.freeze?D.freezeObject=Object.freeze:D.freezeObject=function(W){return W},D.freezeObject(Y)},D.supportsCanvas=function(){var Y=document.createElement("canvas");return!!(D.isFunction(Y.getContext)&&Y.getContext("2d"))}(),D.isCanvasTainted=function(Y){var W=!1;try{Y.getContext("2d").getImageData(0,0,1,1)}catch{W=!0}return W},D.pixelDensityRatio=function(){if(D.supportsCanvas){var Y=document.createElement("canvas").getContext("2d"),W=window.devicePixelRatio||1,q=Y.webkitBackingStorePixelRatio||Y.mozBackingStorePixelRatio||Y.msBackingStorePixelRatio||Y.oBackingStorePixelRatio||Y.backingStorePixelRatio||1;return Math.max(W,1)/q}else return 1}()})(OpenSeadragon),function($){$.extend=function(){var D,O,z,F,Y,W,q=arguments[0]||{},X=arguments.length,tt=!1,nt=1;for(typeof q=="boolean"&&(tt=q,q=arguments[1]||{},nt=2),typeof q!="object"&&!OpenSeadragon.isFunction(q)&&(q={}),X===nt&&(q=this,--nt);nt<X;nt++)if(D=arguments[nt],D!==null||D!==void 0)for(O in D)z=q[O],F=D[O],q!==F&&(tt&&F&&(OpenSeadragon.isPlainObject(F)||(Y=OpenSeadragon.isArray(F)))?(Y?(Y=!1,W=z&&OpenSeadragon.isArray(z)?z:[]):W=z&&OpenSeadragon.isPlainObject(z)?z:{},q[O]=OpenSeadragon.extend(tt,W,F)):F!==void 0&&(q[O]=F));return q};var isIOSDevice=function(){if(typeof navigator!="object")return!1;var D=navigator.userAgent;return typeof D!="string"?!1:D.indexOf("iPhone")!==-1||D.indexOf("iPad")!==-1||D.indexOf("iPod")!==-1};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(D,O){return function(){var z=arguments;return z===void 0&&(z=[]),O.apply(D,z)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(D){return typeof D=="string"&&(D=document.getElementById(D)),D},getElementPosition:function(D){var O=new $.Point,z,F;for(D=$.getElement(D),z=$.getElementStyle(D).position=="fixed",F=getOffsetParent(D,z);F;)O.x+=D.offsetLeft,O.y+=D.offsetTop,z&&(O=O.plus($.getPageScroll())),D=F,z=$.getElementStyle(D).position=="fixed",F=getOffsetParent(D,z);return O},getElementOffset:function(D){D=$.getElement(D);var O=D&&D.ownerDocument,z,F,Y={top:0,left:0};return O?(z=O.documentElement,typeof D.getBoundingClientRect<"u"&&(Y=D.getBoundingClientRect()),F=O==O.window?O:O.nodeType===9?O.defaultView||O.parentWindow:!1,new $.Point(Y.left+(F.pageXOffset||z.scrollLeft)-(z.clientLeft||0),Y.top+(F.pageYOffset||z.scrollTop)-(z.clientTop||0))):new $.Point},getElementSize:function(D){return D=$.getElement(D),new $.Point(D.clientWidth,D.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(D){return D=$.getElement(D),D.currentStyle}:function(D){return D=$.getElement(D),window.getComputedStyle(D,"")},getCssPropertyWithVendorPrefix:function(D){var O={};return $.getCssPropertyWithVendorPrefix=function(z){if(O[z]!==void 0)return O[z];var F=document.createElement("div").style,Y=null;if(F[z]!==void 0)Y=z;else for(var W=["Webkit","Moz","MS","O","webkit","moz","ms","o"],q=$.capitalizeFirstLetter(z),X=0;X<W.length;X++){var tt=W[X]+q;if(F[tt]!==void 0){Y=tt;break}}return O[z]=Y,Y},$.getCssPropertyWithVendorPrefix(D)},capitalizeFirstLetter:function(D){return D.charAt(0).toUpperCase()+D.slice(1)},positiveModulo:function(D,O){var z=D%O;return z<0&&(z+=O),z},pointInElement:function(D,O){D=$.getElement(D);var z=$.getElementOffset(D),F=$.getElementSize(D);return O.x>=z.x&&O.x<z.x+F.x&&O.y<z.y+F.y&&O.y>=z.y},getEvent:function(D){return D?$.getEvent=function(O){return O}:$.getEvent=function(){return window.event},$.getEvent(D)},getMousePosition:function(D){if(typeof D.pageX=="number")$.getMousePosition=function(O){var z=new $.Point;return O=$.getEvent(O),z.x=O.pageX,z.y=O.pageY,z};else if(typeof D.clientX=="number")$.getMousePosition=function(O){var z=new $.Point;return O=$.getEvent(O),z.x=O.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,z.y=O.clientY+document.body.scrollTop+document.documentElement.scrollTop,z};else throw new Error("Unknown event mouse position, no known technique.");return $.getMousePosition(D)},getPageScroll:function(){var D=document.documentElement||{},O=document.body||{};if(typeof window.pageXOffset=="number")$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(O.scrollLeft||O.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else if(D.scrollLeft||D.scrollTop)$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new $.Point(0,0);return $.getPageScroll()},setPageScroll:function(D){if(typeof window.scrollTo<"u")$.setPageScroll=function(F){window.scrollTo(F.x,F.y)};else{var O=$.getPageScroll();if(O.x===D.x&&O.y===D.y)return;document.body.scrollLeft=D.x,document.body.scrollTop=D.y;var z=$.getPageScroll();if(z.x!==O.x&&z.y!==O.y){$.setPageScroll=function(F){document.body.scrollLeft=F.x,document.body.scrollTop=F.y};return}if(document.documentElement.scrollLeft=D.x,document.documentElement.scrollTop=D.y,z=$.getPageScroll(),z.x!==O.x&&z.y!==O.y){$.setPageScroll=function(F){document.documentElement.scrollLeft=F.x,document.documentElement.scrollTop=F.y};return}$.setPageScroll=function(F){}}return $.setPageScroll(D)},getWindowSize:function(){var D=document.documentElement||{},O=document.body||{};if(typeof window.innerWidth=="number")$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(D.clientWidth||D.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(O.clientWidth||O.clientHeight)$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return $.getWindowSize()},makeCenteredNode:function(D){D=$.getElement(D);var O=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(O[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(O[1].style,{display:"table-row"}),$.extend(O[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),O[0].appendChild(O[1]),O[1].appendChild(O[2]),O[2].appendChild(D),O[0]},makeNeutralElement:function(D){var O=document.createElement(D),z=O.style;return z.background="transparent none",z.border="none",z.margin="0px",z.padding="0px",z.position="static",O},now:function(){return Date.now?$.now=Date.now:$.now=function(){return new Date().getTime()},$.now()},makeTransparentImage:function(D){return $.makeTransparentImage=function(O){var z=$.makeNeutralElement("img");return z.src=O,z},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(O){var z=$.makeNeutralElement("img"),F=null;return F=$.makeNeutralElement("span"),F.style.display="inline-block",z.onload=function(){F.style.width=F.style.width||z.width+"px",F.style.height=F.style.height||z.height+"px",z.onload=null,z=null},z.src=O,F.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+O+"', sizingMethod='scale')",F}),$.makeTransparentImage(D)},setElementOpacity:function(D,O,z){var F,Y;D=$.getElement(D),z&&!$.Browser.alpha&&(O=Math.round(O)),$.Browser.opacity?D.style.opacity=O<1?O:"":O<1?(F=Math.round(100*O),Y="alpha(opacity="+F+")",D.style.filter=Y):D.style.filter=""},setElementTouchActionNone:function(D){D=$.getElement(D),typeof D.style.touchAction<"u"?D.style.touchAction="none":typeof D.style.msTouchAction<"u"&&(D.style.msTouchAction="none")},addClass:function(D,O){D=$.getElement(D),D.className?(" "+D.className+" ").indexOf(" "+O+" ")===-1&&(D.className+=" "+O):D.className=O},indexOf:function(D,O,z){return Array.prototype.indexOf?this.indexOf=function(F,Y,W){return F.indexOf(Y,W)}:this.indexOf=function(F,Y,W){var q,X=W||0,tt;if(!F)throw new TypeError;if(tt=F.length,tt===0||X>=tt)return-1;for(X<0&&(X=tt-Math.abs(X)),q=X;q<tt;q++)if(F[q]===Y)return q;return-1},this.indexOf(D,O,z)},removeClass:function(D,O){var z,F=[],Y;for(D=$.getElement(D),z=D.className.split(/\s+/),Y=0;Y<z.length;Y++)z[Y]&&z[Y]!==O&&F.push(z[Y]);D.className=F.join(" ")},addEvent:function(){if(window.addEventListener)return function(D,O,z,F){D=$.getElement(D),D.addEventListener(O,z,F)};if(window.attachEvent)return function(D,O,z,F){D=$.getElement(D),D.attachEvent("on"+O,z)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(D,O,z,F){D=$.getElement(D),D.removeEventListener(O,z,F)};if(window.detachEvent)return function(D,O,z,F){D=$.getElement(D),D.detachEvent("on"+O,z)};throw new Error("No known event model.")}(),cancelEvent:function(D){D=$.getEvent(D),D.preventDefault?$.cancelEvent=function(O){O.preventDefault()}:$.cancelEvent=function(O){O=$.getEvent(O),O.cancel=!0,O.returnValue=!1},$.cancelEvent(D)},stopEvent:function(D){D=$.getEvent(D),D.stopPropagation?$.stopEvent=function(O){O.stopPropagation()}:$.stopEvent=function(O){O=$.getEvent(O),O.cancelBubble=!0},$.stopEvent(D)},createCallback:function(D,O){var z=[],F;for(F=2;F<arguments.length;F++)z.push(arguments[F]);return function(){var Y=z.concat([]),W;for(W=0;W<arguments.length;W++)Y.push(arguments[W]);return O.apply(D,Y)}},getUrlParameter:function(D){var O=URLPARAMS[D];return O||null},getUrlProtocol:function(D){var O=D.match(/^([a-z]+:)\/\//i);return O===null?window.location.protocol:O[1].toLowerCase()},createAjaxRequest:function(D){var O;try{O=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{O=!1}if(O)window.XMLHttpRequest?$.createAjaxRequest=function(z){return z?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)$.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return $.createAjaxRequest(D)},makeAjaxRequest:function(D,O,z){var F,Y,W;$.isPlainObject(D)&&(O=D.success,z=D.error,F=D.withCredentials,Y=D.headers,W=D.responseType||null,D=D.url);var q=$.getUrlProtocol(D),X=$.createAjaxRequest(q==="file:");if(!$.isFunction(O))throw new Error("makeAjaxRequest requires a success callback");X.onreadystatechange=function(){X.readyState==4&&(X.onreadystatechange=function(){},X.status>=200&&X.status<300||X.status===0&&q!=="http:"&&q!=="https:"?O(X):($.console.log("AJAX request returned %d: %s",X.status,D),$.isFunction(z)&&z(X)))};try{if(X.open("GET",D,!0),W&&(X.responseType=W),Y)for(var tt in Y)Object.prototype.hasOwnProperty.call(Y,tt)&&Y[tt]&&X.setRequestHeader(tt,Y[tt]);F&&(X.withCredentials=!0),X.send(null)}catch(lt){var nt=lt.message,st=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(st&&typeof lt.number<"u"&&lt.number==-2147024891&&(nt+=`
See http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain`),$.console.log("%s while making AJAX request: %s",lt.name,nt),X.onreadystatechange=function(){},window.XDomainRequest){var ct=new window.XDomainRequest;if(ct){ct.onload=function(ht){$.isFunction(O)&&O({responseText:ct.responseText,status:200,statusText:"OK"})},ct.onerror=function(ht){$.isFunction(z)&&z({responseText:ct.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{ct.open("GET",D),ct.send()}catch{$.isFunction(z)&&z(X,lt)}}}else $.isFunction(z)&&z(X,lt)}return X},jsonp:function(D){var O,z=D.url,F=document.head||document.getElementsByTagName("head")[0]||document.documentElement,Y=D.callbackName||"openseadragon"+$.now(),W=window[Y],q="$1"+Y+"$2",X=D.param||"callback",tt=D.callback;z=z.replace(/(\=)\?(&|$)|\?\?/i,q),z+=(/\?/.test(z)?"&":"?")+X+"="+Y,window[Y]=function(nt){if(W)window[Y]=W;else try{delete window[Y]}catch{}tt&&$.isFunction(tt)&&tt(nt)},O=document.createElement("script"),(D.async!==void 0||D.async!==!1)&&(O.async="async"),D.scriptCharset&&(O.charset=D.scriptCharset),O.src=z,O.onload=O.onreadystatechange=function(nt,st){(st||!O.readyState||/loaded|complete/.test(O.readyState))&&(O.onload=O.onreadystatechange=null,F&&O.parentNode&&F.removeChild(O),O=void 0)},F.insertBefore(O,F.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(D){if(window.DOMParser)$.parseXml=function(O){var z=null,F;return F=new DOMParser,z=F.parseFromString(O,"text/xml"),z};else if(window.ActiveXObject)$.parseXml=function(O){var z=null;return z=new ActiveXObject("Microsoft.XMLDOM"),z.async=!1,z.loadXML(O),z};else throw new Error("Browser doesn't support XML DOM.");return $.parseXml(D)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(D){return D=D||"",!!FILEFORMATS[D.toLowerCase()]}});var nullfunction=function(D){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var D=navigator.appVersion,O=navigator.userAgent,z;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(O.substring(O.indexOf("MSIE")+5,O.indexOf(";",O.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(O.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(O.substring(O.indexOf("Firefox")+8))):O.indexOf("Safari")>=0?($.Browser.vendor=O.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(O.substring(O.substring(0,O.indexOf("Safari")).lastIndexOf("/")+1,O.indexOf("Safari")))):(z=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),z.exec(O)!==null&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(D);break}var F=window.location.search.substring(1),Y=F.split("&"),W,q,X;for(X=0;X<Y.length;X++)if(W=Y[X],q=W.indexOf("="),q>0){var tt=W.substring(0,q),nt=W.substring(q+1);try{URLPARAMS[tt]=decodeURIComponent(nt)}catch{$.console.error("Ignoring malformed URL parameter: %s=%s",tt,nt)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(D){var O=D.requestAnimationFrame||D.mozRequestAnimationFrame||D.webkitRequestAnimationFrame||D.msRequestAnimationFrame,z=D.cancelAnimationFrame||D.mozCancelAnimationFrame||D.webkitCancelAnimationFrame||D.msCancelAnimationFrame;if(O&&z)$.requestAnimationFrame=function(){return O.apply(D,arguments)},$.cancelAnimationFrame=function(){return z.apply(D,arguments)};else{var F=[],Y=[],W=0,q;$.requestAnimationFrame=function(X){return F.push([++W,X]),q||(q=setInterval(function(){if(F.length){var tt=$.now(),nt=Y;for(Y=F,F=nt;Y.length;)Y.shift()[1](tt)}else clearInterval(q),q=void 0},1e3/50)),W},$.cancelAnimationFrame=function(X){var tt,nt;for(tt=0,nt=F.length;tt<nt;tt+=1)if(F[tt][0]===X){F.splice(tt,1);return}for(tt=0,nt=Y.length;tt<nt;tt+=1)if(Y[tt][0]===X){Y.splice(tt,1);return}}}}(window);function getOffsetParent(D,O){return O&&D!=document.body?document.body:D.offsetParent}}(OpenSeadragon),function(D,O){module.exports?module.exports=O():D.OpenSeadragon=O()}(commonjsGlobal$1,function(){return OpenSeadragon}),function(D){var O={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(O.supportsFullScreen=!0,O.getFullScreenElement=function(){return document.fullscreenElement},O.requestFullScreen=function(z){return z.requestFullscreen()},O.exitFullScreen=function(){document.exitFullscreen()},O.fullScreenEventName="fullscreenchange",O.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(O.supportsFullScreen=!0,O.getFullScreenElement=function(){return document.msFullscreenElement},O.requestFullScreen=function(z){return z.msRequestFullscreen()},O.exitFullScreen=function(){document.msExitFullscreen()},O.fullScreenEventName="MSFullscreenChange",O.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(O.supportsFullScreen=!0,O.getFullScreenElement=function(){return document.webkitFullscreenElement},O.requestFullScreen=function(z){return z.webkitRequestFullscreen()},O.exitFullScreen=function(){document.webkitExitFullscreen()},O.fullScreenEventName="webkitfullscreenchange",O.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(O.supportsFullScreen=!0,O.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},O.requestFullScreen=function(z){return z.webkitRequestFullScreen()},O.exitFullScreen=function(){document.webkitCancelFullScreen()},O.fullScreenEventName="webkitfullscreenchange",O.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(O.supportsFullScreen=!0,O.getFullScreenElement=function(){return document.mozFullScreenElement},O.requestFullScreen=function(z){return z.mozRequestFullScreen()},O.exitFullScreen=function(){document.mozCancelFullScreen()},O.fullScreenEventName="mozfullscreenchange",O.fullScreenErrorEventName="mozfullscreenerror"),O.isFullScreen=function(){return O.getFullScreenElement()!==null},O.cancelFullScreen=function(){D.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),O.exitFullScreen()},D.extend(D,O)}(OpenSeadragon),function(D){D.EventSource=function(){this.events={}},D.EventSource.prototype={addOnceHandler:function(O,z,F,Y){var W=this;Y=Y||1;var q=0,X=function(tt){q++,q===Y&&W.removeHandler(O,X),z(tt)};this.addHandler(O,X,F)},addHandler:function(O,z,F){var Y=this.events[O];Y||(this.events[O]=Y=[]),z&&D.isFunction(z)&&(Y[Y.length]={handler:z,userData:F||null})},removeHandler:function(O,z){var F=this.events[O],Y=[],W;if(F&&D.isArray(F)){for(W=0;W<F.length;W++)F[W].handler!==z&&Y.push(F[W]);this.events[O]=Y}},removeAllHandlers:function(O){if(O)this.events[O]=[];else for(var z in this.events)this.events[z]=[]},getHandler:function(O){var z=this.events[O];return!z||!z.length?null:(z=z.length===1?[z[0]]:Array.apply(null,z),function(F,Y){var W,q=z.length;for(W=0;W<q;W++)z[W]&&(Y.eventSource=F,Y.userData=z[W].userData,z[W].handler(Y))})},raiseEvent:function(O,z){var F=this.getHandler(O);F&&(z||(z={}),F(this,z))}}}(OpenSeadragon),function(D){var O=[],z={};D.MouseTracker=function(ie){O.push(this);var ne=arguments;D.isPlainObject(ie)||(ie={element:ne[0],clickTimeThreshold:ne[1],clickDistThreshold:ne[2]}),this.hash=Math.random(),this.element=D.getElement(ie.element),this.clickTimeThreshold=ie.clickTimeThreshold||D.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=ie.clickDistThreshold||D.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=ie.dblClickTimeThreshold||D.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=ie.dblClickDistThreshold||D.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=ie.userData||null,this.stopDelay=ie.stopDelay||50,this.enterHandler=ie.enterHandler||null,this.exitHandler=ie.exitHandler||null,this.pressHandler=ie.pressHandler||null,this.nonPrimaryPressHandler=ie.nonPrimaryPressHandler||null,this.releaseHandler=ie.releaseHandler||null,this.nonPrimaryReleaseHandler=ie.nonPrimaryReleaseHandler||null,this.moveHandler=ie.moveHandler||null,this.scrollHandler=ie.scrollHandler||null,this.clickHandler=ie.clickHandler||null,this.dblClickHandler=ie.dblClickHandler||null,this.dragHandler=ie.dragHandler||null,this.dragEndHandler=ie.dragEndHandler||null,this.pinchHandler=ie.pinchHandler||null,this.stopHandler=ie.stopHandler||null,this.keyDownHandler=ie.keyDownHandler||null,this.keyUpHandler=ie.keyUpHandler||null,this.keyHandler=ie.keyHandler||null,this.focusHandler=ie.focusHandler||null,this.blurHandler=ie.blurHandler||null;var xe=this;z[this.hash]={click:function(Ae){bt(xe,Ae)},dblclick:function(Ae){wt(xe,Ae)},keydown:function(Ae){mt(xe,Ae)},keyup:function(Ae){_t(xe,Ae)},keypress:function(Ae){Et(xe,Ae)},focus:function(Ae){At(xe,Ae)},blur:function(Ae){Ct(xe,Ae)},wheel:function(Ae){Ft(xe,Ae)},mousewheel:function(Ae){Lt(xe,Ae)},DOMMouseScroll:function(Ae){Lt(xe,Ae)},MozMousePixelScroll:function(Ae){Lt(xe,Ae)},mouseenter:function(Ae){qt(xe,Ae)},mouseleave:function(Ae){Dt(xe,Ae)},mouseover:function(Ae){te(xe,Ae)},mouseout:function(Ae){Qt(xe,Ae)},mousedown:function(Ae){Pt(xe,Ae)},mouseup:function(Ae){de(xe,Ae)},mouseupcaptured:function(Ae){ye(xe,Ae)},mousemove:function(Ae){ve(xe,Ae)},mousemovecaptured:function(Ae){Ce(xe,Ae)},touchstart:function(Ae){Je(xe,Ae)},touchend:function(Ae){qe(xe,Ae)},touchendcaptured:function(Ae){ze(xe,Ae)},touchmove:function(Ae){Me(xe,Ae)},touchmovecaptured:function(Ae){He(xe,Ae)},touchcancel:function(Ae){Ye(xe,Ae)},gesturestart:function(Ae){Kt(xe,Ae)},gesturechange:function(Ae){kt(xe,Ae)},pointerover:function(Ae){jt(xe,Ae)},MSPointerOver:function(Ae){jt(xe,Ae)},pointerout:function(Ae){$t(xe,Ae)},MSPointerOut:function(Ae){$t(xe,Ae)},pointerdown:function(Ae){oe(xe,Ae)},MSPointerDown:function(Ae){oe(xe,Ae)},pointerup:function(Ae){Vt(xe,Ae)},MSPointerUp:function(Ae){Vt(xe,Ae)},pointermove:function(Ae){Pe(xe,Ae)},MSPointerMove:function(Ae){Pe(xe,Ae)},pointercancel:function(Ae){Fe(xe,Ae)},MSPointerCancel:function(Ae){Fe(xe,Ae)},pointerupcaptured:function(Ae){Be(xe,Ae)},pointermovecaptured:function(Ae){ke(xe,Ae)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},ie.startDisabled||this.setTracking(!0)},D.MouseTracker.prototype={destroy:function(){var ie;for(W(this),this.element=null,ie=0;ie<O.length;ie++)if(O[ie]===this){O.splice(ie,1);break}z[this.hash]=null,delete z[this.hash]},isTracking:function(){return z[this.hash].tracking},setTracking:function(ie){return ie?Y(this):W(this),this},getActivePointersListsExceptType:function(ie){for(var ne=z[this.hash],xe=[],Ae=0;Ae<ne.activePointersLists.length;++Ae)ne.activePointersLists[Ae].type!==ie&&xe.push(ne.activePointersLists[Ae]);return xe},getActivePointersListByType:function(ie){var ne=z[this.hash],xe,Ae=ne.activePointersLists.length,Ve;for(xe=0;xe<Ae;xe++)if(ne.activePointersLists[xe].type===ie)return ne.activePointersLists[xe];return Ve=new D.MouseTracker.GesturePointList(ie),ne.activePointersLists.push(Ve),Ve},getActivePointerCount:function(){var ie=z[this.hash],ne,xe=ie.activePointersLists.length,Ae=0;for(ne=0;ne<xe;ne++)Ae+=ie.activePointersLists[ne].getLength();return Ae},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},D.MouseTracker.resetAllMouseTrackers=function(){for(var ie=0;ie<O.length;ie++)O[ie].isTracking()&&(O[ie].setTracking(!1),O[ie].setTracking(!0))},D.MouseTracker.gesturePointVelocityTracker=function(){var ie=[],ne=0,xe=0,Ae=function(Dn,en){return Dn.hash.toString()+en.type+en.id.toString()},Ve=function(){var Dn,en=ie.length,Fn,$n,Kn=D.now(),Wn,mr,ir;for(Wn=Kn-xe,xe=Kn,Dn=0;Dn<en;Dn++)Fn=ie[Dn],$n=Fn.gPoint,$n.direction=Math.atan2($n.currentPos.y-Fn.lastPos.y,$n.currentPos.x-Fn.lastPos.x),mr=Fn.lastPos.distanceTo($n.currentPos),Fn.lastPos=$n.currentPos,ir=1e3*mr/(Wn+1),$n.speed=.75*ir+.25*$n.speed},vn=function(Dn,en){var Fn=Ae(Dn,en);ie.push({guid:Fn,gPoint:en,lastPos:en.currentPos}),ie.length===1&&(xe=D.now(),ne=window.setInterval(Ve,50))},Ge=function(Dn,en){var Fn=Ae(Dn,en),$n,Kn=ie.length;for($n=0;$n<Kn;$n++)if(ie[$n].guid===Fn){ie.splice($n,1),Kn--,Kn===0&&window.clearInterval(ne);break}};return{addPoint:vn,removePoint:Ge}}(),D.MouseTracker.captureElement=document,D.MouseTracker.wheelEventName=D.Browser.vendor==D.BROWSERS.IE&&D.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",D.MouseTracker.supportsMouseCapture=function(){var ie=document.createElement("div");return D.isFunction(ie.setCapture)&&D.isFunction(ie.releaseCapture)}(),D.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",D.MouseTracker.wheelEventName],D.MouseTracker.wheelEventName=="DOMMouseScroll"&&D.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||D.Browser.vendor!==D.BROWSERS.IE)?(D.MouseTracker.havePointerEvents=!0,D.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),D.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?D.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:D.MouseTracker.maxTouchPoints=0,D.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(D.MouseTracker.havePointerEvents=!0,D.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),D.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?D.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:D.MouseTracker.maxTouchPoints=0,D.MouseTracker.haveMouseEnter=!1):(D.MouseTracker.havePointerEvents=!1,D.Browser.vendor===D.BROWSERS.IE&&D.Browser.version<9?(D.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),D.MouseTracker.haveMouseEnter=!0):(D.MouseTracker.subscribeEvents.push("mouseover","mouseout"),D.MouseTracker.haveMouseEnter=!1),D.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&D.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&D.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),D.MouseTracker.mousePointerId="legacy-mouse",D.MouseTracker.maxTouchPoints=10),D.MouseTracker.GesturePointList=function(ie){this._gPoints=[],this.type=ie,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},D.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(ie){return this._gPoints.push(ie)},removeById:function(ie){var ne,xe=this._gPoints.length;for(ne=0;ne<xe;ne++)if(this._gPoints[ne].id===ie){this._gPoints.splice(ne,1);break}return this._gPoints.length},getByIndex:function(ie){return ie<this._gPoints.length?this._gPoints[ie]:null},getById:function(ie){var ne,xe=this._gPoints.length;for(ne=0;ne<xe;ne++)if(this._gPoints[ne].id===ie)return this._gPoints[ne];return null},getPrimary:function(ie){var ne,xe=this._gPoints.length;for(ne=0;ne<xe;ne++)if(this._gPoints[ne].isPrimary)return this._gPoints[ne];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function F(ie){var ne=z[ie.hash],xe,Ae=ne.activePointersLists.length;for(xe=0;xe<Ae;xe++)ne.activePointersLists[xe].captureCount>0&&(D.removeEvent(D.MouseTracker.captureElement,"mousemove",ne.mousemovecaptured,!0),D.removeEvent(D.MouseTracker.captureElement,"mouseup",ne.mouseupcaptured,!0),D.removeEvent(D.MouseTracker.captureElement,D.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",ne.pointermovecaptured,!0),D.removeEvent(D.MouseTracker.captureElement,D.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",ne.pointerupcaptured,!0),D.removeEvent(D.MouseTracker.captureElement,"touchmove",ne.touchmovecaptured,!0),D.removeEvent(D.MouseTracker.captureElement,"touchend",ne.touchendcaptured,!0),ne.activePointersLists[xe].captureCount=0);for(xe=0;xe<Ae;xe++)ne.activePointersLists.pop()}function Y(ie){var ne=z[ie.hash],xe,Ae;if(!ne.tracking){for(Ae=0;Ae<D.MouseTracker.subscribeEvents.length;Ae++)xe=D.MouseTracker.subscribeEvents[Ae],D.addEvent(ie.element,xe,ne[xe],!1);F(ie),ne.tracking=!0}}function W(ie){var ne=z[ie.hash],xe,Ae;if(ne.tracking){for(Ae=0;Ae<D.MouseTracker.subscribeEvents.length;Ae++)xe=D.MouseTracker.subscribeEvents[Ae],D.removeEvent(ie.element,xe,ne[xe],!1);F(ie),ne.tracking=!1}}function q(ie,ne){var xe=z[ie.hash];if(ne==="pointerevent")return{upName:D.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:xe.pointerupcaptured,moveName:D.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:xe.pointermovecaptured};if(ne==="mouse")return{upName:"mouseup",upHandler:xe.mouseupcaptured,moveName:"mousemove",moveHandler:xe.mousemovecaptured};if(ne==="touch")return{upName:"touchend",upHandler:xe.touchendcaptured,moveName:"touchmove",moveHandler:xe.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function X(ie,ne,xe){var Ae=ie.getActivePointersListByType(ne),Ve;Ae.captureCount+=xe||1,Ae.captureCount===1&&(D.Browser.vendor===D.BROWSERS.IE&&D.Browser.version<9?ie.element.setCapture(!0):(Ve=q(ie,D.MouseTracker.havePointerEvents?"pointerevent":ne),sr&&on(window.top)&&D.addEvent(window.top,Ve.upName,Ve.upHandler,!0),D.addEvent(D.MouseTracker.captureElement,Ve.upName,Ve.upHandler,!0),D.addEvent(D.MouseTracker.captureElement,Ve.moveName,Ve.moveHandler,!0)))}function tt(ie,ne,xe){var Ae=ie.getActivePointersListByType(ne),Ve;Ae.captureCount-=xe||1,Ae.captureCount===0&&(D.Browser.vendor===D.BROWSERS.IE&&D.Browser.version<9?ie.element.releaseCapture():(Ve=q(ie,D.MouseTracker.havePointerEvents?"pointerevent":ne),sr&&on(window.top)&&D.removeEvent(window.top,Ve.upName,Ve.upHandler,!0),D.removeEvent(D.MouseTracker.captureElement,Ve.moveName,Ve.moveHandler,!0),D.removeEvent(D.MouseTracker.captureElement,Ve.upName,Ve.upHandler,!0)))}function nt(ie){var ne;if(D.MouseTracker.unprefixedPointerEvents)ne=ie.pointerType;else switch(ie.pointerType){case 2:ne="touch";break;case 3:ne="pen";break;case 4:ne="mouse";break;default:ne=""}return ne}function st(ie){return D.getMousePosition(ie)}function ct(ie,ne){return lt(st(ie),ne)}function lt(ie,ne){var xe=D.getElementOffset(ne);return ie.minus(xe)}function ht(ie,ne){return new D.Point((ie.x+ne.x)/2,(ie.y+ne.y)/2)}function bt(ie,ne){ie.clickHandler&&D.cancelEvent(ne)}function wt(ie,ne){ie.dblClickHandler&&D.cancelEvent(ne)}function mt(ie,ne){var xe;ie.keyDownHandler&&(ne=D.getEvent(ne),xe=ie.keyDownHandler({eventSource:ie,keyCode:ne.keyCode?ne.keyCode:ne.charCode,ctrl:ne.ctrlKey,shift:ne.shiftKey,alt:ne.altKey,meta:ne.metaKey,originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),xe||D.cancelEvent(ne))}function _t(ie,ne){var xe;ie.keyUpHandler&&(ne=D.getEvent(ne),xe=ie.keyUpHandler({eventSource:ie,keyCode:ne.keyCode?ne.keyCode:ne.charCode,ctrl:ne.ctrlKey,shift:ne.shiftKey,alt:ne.altKey,meta:ne.metaKey,originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),xe||D.cancelEvent(ne))}function Et(ie,ne){var xe;ie.keyHandler&&(ne=D.getEvent(ne),xe=ie.keyHandler({eventSource:ie,keyCode:ne.keyCode?ne.keyCode:ne.charCode,ctrl:ne.ctrlKey,shift:ne.shiftKey,alt:ne.altKey,meta:ne.metaKey,originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),xe||D.cancelEvent(ne))}function At(ie,ne){var xe;ie.focusHandler&&(ne=D.getEvent(ne),xe=ie.focusHandler({eventSource:ie,originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),xe===!1&&D.cancelEvent(ne))}function Ct(ie,ne){var xe;ie.blurHandler&&(ne=D.getEvent(ne),xe=ie.blurHandler({eventSource:ie,originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),xe===!1&&D.cancelEvent(ne))}function Ft(ie,ne){Yt(ie,ne,ne)}function Lt(ie,ne){ne=D.getEvent(ne);var xe={target:ne.target||ne.srcElement,type:"wheel",shiftKey:ne.shiftKey||!1,clientX:ne.clientX,clientY:ne.clientY,pageX:ne.pageX?ne.pageX:ne.clientX,pageY:ne.pageY?ne.pageY:ne.clientY,deltaMode:ne.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};D.MouseTracker.wheelEventName=="mousewheel"?xe.deltaY=-ne.wheelDelta/D.DEFAULT_SETTINGS.pixelsPerWheelLine:xe.deltaY=ne.detail,Yt(ie,xe,ne)}function Yt(ie,ne,xe){var Ae=0,Ve;Ae=ne.deltaY<0?1:-1,ie.scrollHandler&&(Ve=ie.scrollHandler({eventSource:ie,pointerType:"mouse",position:ct(ne,ie.element),scroll:Ae,shift:ne.shiftKey,isTouchEvent:!1,originalEvent:xe,preventDefaultAction:!1,userData:ie.userData}),Ve===!1&&D.cancelEvent(xe))}function Ht(ie,ne){if(ie===ne)return!1;for(;ne&&ne!==ie;)ne=ne.parentNode;return ne===ie}function qt(ie,ne){ne=D.getEvent(ne),Xt(ie,ne)}function te(ie,ne){ne=D.getEvent(ne),!(ne.currentTarget===ne.relatedTarget||Ht(ne.currentTarget,ne.relatedTarget))&&Xt(ie,ne)}function Xt(ie,ne){var xe={id:D.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:st(ne),currentTime:D.now()};rn(ie,ne,[xe])}function Dt(ie,ne){ne=D.getEvent(ne),Nt(ie,ne)}function Qt(ie,ne){ne=D.getEvent(ne),!(ne.currentTarget===ne.relatedTarget||Ht(ne.currentTarget,ne.relatedTarget))&&Nt(ie,ne)}function Nt(ie,ne){var xe={id:D.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:st(ne),currentTime:D.now()};zn(ie,ne,[xe])}function ce(ie){return D.Browser.vendor===D.BROWSERS.IE&&D.Browser.version<9?ie===1?0:ie===2?2:ie===4?1:-1:ie}function Pt(ie,ne){var xe;ne=D.getEvent(ne),xe={id:D.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:st(ne),currentTime:D.now()},Bn(ie,ne,[xe],ce(ne.button))&&(D.stopEvent(ne),X(ie,"mouse")),(ie.clickHandler||ie.dblClickHandler||ie.pressHandler||ie.dragHandler||ie.dragEndHandler)&&D.cancelEvent(ne)}function de(ie,ne){pe(ie,ne)}function ye(ie,ne){pe(ie,ne),D.stopEvent(ne)}function pe(ie,ne){var xe;ne=D.getEvent(ne),xe={id:D.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:st(ne),currentTime:D.now()},Pn(ie,ne,[xe],ce(ne.button))&&tt(ie,"mouse")}function ve(ie,ne){De(ie,ne)}function Ce(ie,ne){De(ie,ne),D.stopEvent(ne)}function De(ie,ne){var xe;ne=D.getEvent(ne),xe={id:D.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:st(ne),currentTime:D.now()},jn(ie,ne,[xe])}function Oe(ie,ne,xe){var Ae,Ve=xe.getLength(),vn=[];if(xe.type==="touch"||xe.contacts>0){for(Ae=0;Ae<Ve;Ae++)vn.push(xe.getByIndex(Ae));vn.length>0&&(Pn(ie,ne,vn,0),xe.captureCount=1,tt(ie,xe.type),zn(ie,ne,vn))}}function Je(ie,ne){var xe,Ae,Ve,vn=ne.changedTouches.length,Ge=[],Dn,en=ie.getActivePointersListByType("touch");for(xe=D.now(),en.getLength()>ne.touches.length-vn&&(D.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),Oe(ie,ne,en)),Ae=0;Ae<vn;Ae++)Ge.push({id:ne.changedTouches[Ae].identifier,type:"touch",currentPos:st(ne.changedTouches[Ae]),currentTime:xe});for(rn(ie,ne,Ge),Ae=0;Ae<O.length;Ae++)if(O[Ae]!==ie&&O[Ae].isTracking()&&Ht(O[Ae].element,ie.element)){for(Dn=[],Ve=0;Ve<vn;Ve++)Dn.push({id:ne.changedTouches[Ve].identifier,type:"touch",currentPos:st(ne.changedTouches[Ve]),currentTime:xe});rn(O[Ae],ne,Dn)}Bn(ie,ne,Ge,0)&&(D.stopEvent(ne),X(ie,"touch",vn)),D.cancelEvent(ne)}function qe(ie,ne){we(ie,ne)}function ze(ie,ne){we(ie,ne),D.stopEvent(ne)}function we(ie,ne){var xe,Ae,Ve,vn=ne.changedTouches.length,Ge=[],Dn;for(xe=D.now(),Ae=0;Ae<vn;Ae++)Ge.push({id:ne.changedTouches[Ae].identifier,type:"touch",currentPos:st(ne.changedTouches[Ae]),currentTime:xe});for(Pn(ie,ne,Ge,0)&&tt(ie,"touch",vn),zn(ie,ne,Ge),Ae=0;Ae<O.length;Ae++)if(O[Ae]!==ie&&O[Ae].isTracking()&&Ht(O[Ae].element,ie.element)){for(Dn=[],Ve=0;Ve<vn;Ve++)Dn.push({id:ne.changedTouches[Ve].identifier,type:"touch",currentPos:st(ne.changedTouches[Ve]),currentTime:xe});zn(O[Ae],ne,Dn)}D.cancelEvent(ne)}function Me(ie,ne){Le(ie,ne)}function He(ie,ne){Le(ie,ne),D.stopEvent(ne)}function Le(ie,ne){var xe,Ae=ne.changedTouches.length,Ve=[];for(xe=0;xe<Ae;xe++)Ve.push({id:ne.changedTouches[xe].identifier,type:"touch",currentPos:st(ne.changedTouches[xe]),currentTime:D.now()});jn(ie,ne,Ve),D.cancelEvent(ne)}function Ye(ie,ne){var xe=ie.getActivePointersListByType("touch");Oe(ie,ne,xe)}function Kt(ie,ne){return ne.stopPropagation(),ne.preventDefault(),!1}function kt(ie,ne){return ne.stopPropagation(),ne.preventDefault(),!1}function jt(ie,ne){var xe;ne.currentTarget===ne.relatedTarget||Ht(ne.currentTarget,ne.relatedTarget)||(xe={id:ne.pointerId,type:nt(ne),isPrimary:ne.isPrimary,currentPos:st(ne),currentTime:D.now()},rn(ie,ne,[xe]))}function $t(ie,ne){var xe;ne.currentTarget===ne.relatedTarget||Ht(ne.currentTarget,ne.relatedTarget)||(xe={id:ne.pointerId,type:nt(ne),isPrimary:ne.isPrimary,currentPos:st(ne),currentTime:D.now()},zn(ie,ne,[xe]))}function oe(ie,ne){var xe;xe={id:ne.pointerId,type:nt(ne),isPrimary:ne.isPrimary,currentPos:st(ne),currentTime:D.now()},Bn(ie,ne,[xe],ne.button)&&(D.stopEvent(ne),X(ie,xe.type)),(ie.clickHandler||ie.dblClickHandler||ie.pressHandler||ie.dragHandler||ie.dragEndHandler||ie.pinchHandler)&&D.cancelEvent(ne)}function Vt(ie,ne){ge(ie,ne)}function Be(ie,ne){var xe=ie.getActivePointersListByType(nt(ne));xe.getById(ne.pointerId)&&ge(ie,ne),D.stopEvent(ne)}function ge(ie,ne){var xe;xe={id:ne.pointerId,type:nt(ne),isPrimary:ne.isPrimary,currentPos:st(ne),currentTime:D.now()},Pn(ie,ne,[xe],ne.button)&&tt(ie,xe.type)}function Pe(ie,ne){$e(ie,ne)}function ke(ie,ne){var xe=ie.getActivePointersListByType(nt(ne));xe.getById(ne.pointerId)&&$e(ie,ne),D.stopEvent(ne)}function $e(ie,ne){var xe;xe={id:ne.pointerId,type:nt(ne),isPrimary:ne.isPrimary,currentPos:st(ne),currentTime:D.now()},jn(ie,ne,[xe])}function Fe(ie,ne){var xe;xe={id:ne.pointerId,type:nt(ne)},Jn(ie,ne,[xe])}function Qe(ie,ne){return Object.prototype.hasOwnProperty.call(ne,"isPrimary")||(ie.getLength()===0?ne.isPrimary=!0:ne.isPrimary=!1),ne.speed=0,ne.direction=0,ne.contactPos=ne.currentPos,ne.contactTime=ne.currentTime,ne.lastPos=ne.currentPos,ne.lastTime=ne.currentTime,ie.add(ne)}function We(ie,ne){var xe,Ae;return ie.getById(ne.id)?(xe=ie.removeById(ne.id),Object.prototype.hasOwnProperty.call(ne,"isPrimary")||(Ae=ie.getPrimary(),Ae||(Ae=ie.getByIndex(0),Ae&&(Ae.isPrimary=!0)))):xe=ie.getLength(),xe}function rn(ie,ne,xe){var Ae=ie.getActivePointersListByType(xe[0].type),Ve,vn=xe.length,Ge,Dn,en;for(Ve=0;Ve<vn;Ve++)Ge=xe[Ve],Dn=Ae.getById(Ge.id),Dn?(Dn.insideElement=!0,Dn.lastPos=Dn.currentPos,Dn.lastTime=Dn.currentTime,Dn.currentPos=Ge.currentPos,Dn.currentTime=Ge.currentTime,Ge=Dn):(Ge.captured=!1,Ge.insideElementPressed=!1,Ge.insideElement=!0,Qe(Ae,Ge)),ie.enterHandler&&(en=ie.enterHandler({eventSource:ie,pointerType:Ge.type,position:lt(Ge.currentPos,ie.element),buttons:Ae.buttons,pointers:ie.getActivePointerCount(),insideElementPressed:Ge.insideElementPressed,buttonDownAny:Ae.buttons!==0,isTouchEvent:Ge.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),en===!1&&D.cancelEvent(ne))}function zn(ie,ne,xe){var Ae=ie.getActivePointersListByType(xe[0].type),Ve,vn=xe.length,Ge,Dn,en;for(Ve=0;Ve<vn;Ve++)Ge=xe[Ve],Dn=Ae.getById(Ge.id),Dn&&(Dn.captured?(Dn.insideElement=!1,Dn.lastPos=Dn.currentPos,Dn.lastTime=Dn.currentTime,Dn.currentPos=Ge.currentPos,Dn.currentTime=Ge.currentTime):We(Ae,Dn),Ge=Dn),ie.exitHandler&&(en=ie.exitHandler({eventSource:ie,pointerType:Ge.type,position:Ge.currentPos&&lt(Ge.currentPos,ie.element),buttons:Ae.buttons,pointers:ie.getActivePointerCount(),insideElementPressed:Dn?Dn.insideElementPressed:!1,buttonDownAny:Ae.buttons!==0,isTouchEvent:Ge.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),en===!1&&D.cancelEvent(ne))}function Bn(ie,ne,xe,Ae){var Ve=z[ie.hash],vn,Ge=ie.getActivePointersListByType(xe[0].type),Dn,en=xe.length,Fn,$n;typeof ne.buttons<"u"?Ge.buttons=ne.buttons:D.Browser.vendor===D.BROWSERS.IE&&D.Browser.version<9?Ae===0?Ge.buttons+=1:Ae===1?Ge.buttons+=4:Ae===2?Ge.buttons+=2:Ae===3?Ge.buttons+=8:Ae===4?Ge.buttons+=16:Ae===5&&(Ge.buttons+=32):Ae===0?Ge.buttons|=1:Ae===1?Ge.buttons|=4:Ae===2?Ge.buttons|=2:Ae===3?Ge.buttons|=8:Ae===4?Ge.buttons|=16:Ae===5&&(Ge.buttons|=32);var Kn=ie.getActivePointersListsExceptType(xe[0].type);for(Dn=0;Dn<Kn.length;Dn++)Oe(ie,ne,Kn[Dn]);if(Ae!==0)return ie.nonPrimaryPressHandler&&(vn=ie.nonPrimaryPressHandler({eventSource:ie,pointerType:xe[0].type,position:lt(xe[0].currentPos,ie.element),button:Ae,buttons:Ge.buttons,isTouchEvent:xe[0].type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),vn===!1&&D.cancelEvent(ne)),!1;for(Dn=0;Dn<en;Dn++)Fn=xe[Dn],$n=Ge.getById(Fn.id),$n?($n.captured=!0,$n.insideElementPressed=!0,$n.insideElement=!0,$n.contactPos=Fn.currentPos,$n.contactTime=Fn.currentTime,$n.lastPos=$n.currentPos,$n.lastTime=$n.currentTime,$n.currentPos=Fn.currentPos,$n.currentTime=Fn.currentTime,Fn=$n):(Fn.captured=!0,Fn.insideElementPressed=!0,Fn.insideElement=!0,Qe(Ge,Fn)),Ge.addContact(),(ie.dragHandler||ie.dragEndHandler||ie.pinchHandler)&&D.MouseTracker.gesturePointVelocityTracker.addPoint(ie,Fn),Ge.contacts===1?ie.pressHandler&&(vn=ie.pressHandler({eventSource:ie,pointerType:Fn.type,position:lt(Fn.contactPos,ie.element),buttons:Ge.buttons,isTouchEvent:Fn.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),vn===!1&&D.cancelEvent(ne)):Ge.contacts===2&&ie.pinchHandler&&Fn.type==="touch"&&(Ve.pinchGPoints=Ge.asArray(),Ve.lastPinchDist=Ve.currentPinchDist=Ve.pinchGPoints[0].currentPos.distanceTo(Ve.pinchGPoints[1].currentPos),Ve.lastPinchCenter=Ve.currentPinchCenter=ht(Ve.pinchGPoints[0].currentPos,Ve.pinchGPoints[1].currentPos));return!0}function Pn(ie,ne,xe,Ae){var Ve=z[ie.hash],vn=ie.getActivePointersListByType(xe[0].type),Ge,Dn,en,Fn,$n=xe.length,Kn,Wn,mr=!1,ir=!1,wr;if(typeof ne.buttons<"u"?vn.buttons=ne.buttons:D.Browser.vendor===D.BROWSERS.IE&&D.Browser.version<9?Ae===0?vn.buttons-=1:Ae===1?vn.buttons-=4:Ae===2?vn.buttons-=2:Ae===3?vn.buttons-=8:Ae===4?vn.buttons-=16:Ae===5&&(vn.buttons-=32):Ae===0?vn.buttons^=-2:Ae===1?vn.buttons^=-5:Ae===2?vn.buttons^=-3:Ae===3?vn.buttons^=-9:Ae===4?vn.buttons^=-17:Ae===5&&(vn.buttons^=-33),Ae!==0){ie.nonPrimaryReleaseHandler&&(Ge=ie.nonPrimaryReleaseHandler({eventSource:ie,pointerType:xe[0].type,position:lt(xe[0].currentPos,ie.element),button:Ae,buttons:vn.buttons,isTouchEvent:xe[0].type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Ge===!1&&D.cancelEvent(ne));var Lr=ie.getActivePointersListByType("mouse");return Oe(ie,ne,Lr),!1}if(typeof xe[0].currentPos>"u")return Oe(ie,ne,vn),!1;for(Fn=0;Fn<$n;Fn++)Kn=xe[Fn],Wn=vn.getById(Kn.id),Wn&&(Wn.captured&&(Wn.captured=!1,mr=!0,ir=!0),Wn.lastPos=Wn.currentPos,Wn.lastTime=Wn.currentTime,Wn.currentPos=Kn.currentPos,Wn.currentTime=Kn.currentTime,Wn.insideElement||We(vn,Wn),Dn=Wn.currentPos,en=Wn.currentTime,ir?(vn.removeContact(),(ie.dragHandler||ie.dragEndHandler||ie.pinchHandler)&&D.MouseTracker.gesturePointVelocityTracker.removePoint(ie,Wn),vn.contacts===0?(ie.releaseHandler&&(Ge=ie.releaseHandler({eventSource:ie,pointerType:Wn.type,position:lt(Dn,ie.element),buttons:vn.buttons,insideElementPressed:Wn.insideElementPressed,insideElementReleased:Wn.insideElement,isTouchEvent:Wn.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Ge===!1&&D.cancelEvent(ne)),ie.dragEndHandler&&!Wn.currentPos.equals(Wn.contactPos)&&(Ge=ie.dragEndHandler({eventSource:ie,pointerType:Wn.type,position:lt(Wn.currentPos,ie.element),speed:Wn.speed,direction:Wn.direction,shift:ne.shiftKey,isTouchEvent:Wn.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Ge===!1&&D.cancelEvent(ne)),(ie.clickHandler||ie.dblClickHandler)&&Wn.insideElement&&(wr=en-Wn.contactTime<=ie.clickTimeThreshold&&Wn.contactPos.distanceTo(Dn)<=ie.clickDistThreshold,ie.clickHandler&&(Ge=ie.clickHandler({eventSource:ie,pointerType:Wn.type,position:lt(Wn.currentPos,ie.element),quick:wr,shift:ne.shiftKey,isTouchEvent:Wn.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Ge===!1&&D.cancelEvent(ne)),ie.dblClickHandler&&wr&&(vn.clicks++,vn.clicks===1?(Ve.lastClickPos=Dn,Ve.dblClickTimeOut=setTimeout(function(){vn.clicks=0},ie.dblClickTimeThreshold)):vn.clicks===2&&(clearTimeout(Ve.dblClickTimeOut),vn.clicks=0,Ve.lastClickPos.distanceTo(Dn)<=ie.dblClickDistThreshold&&(Ge=ie.dblClickHandler({eventSource:ie,pointerType:Wn.type,position:lt(Wn.currentPos,ie.element),shift:ne.shiftKey,isTouchEvent:Wn.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Ge===!1&&D.cancelEvent(ne)),Ve.lastClickPos=null)))):vn.contacts===2&&ie.pinchHandler&&Wn.type==="touch"&&(Ve.pinchGPoints=vn.asArray(),Ve.lastPinchDist=Ve.currentPinchDist=Ve.pinchGPoints[0].currentPos.distanceTo(Ve.pinchGPoints[1].currentPos),Ve.lastPinchCenter=Ve.currentPinchCenter=ht(Ve.pinchGPoints[0].currentPos,Ve.pinchGPoints[1].currentPos))):ie.releaseHandler&&(Ge=ie.releaseHandler({eventSource:ie,pointerType:Wn.type,position:lt(Dn,ie.element),buttons:vn.buttons,insideElementPressed:Wn.insideElementPressed,insideElementReleased:Wn.insideElement,isTouchEvent:Wn.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Ge===!1&&D.cancelEvent(ne)));return mr}function jn(ie,ne,xe){var Ae=z[ie.hash],Ve=ie.getActivePointersListByType(xe[0].type),vn,Ge=xe.length,Dn,en,Fn,$n,Kn;for(typeof ne.buttons<"u"&&(Ve.buttons=ne.buttons),vn=0;vn<Ge;vn++)Dn=xe[vn],en=Ve.getById(Dn.id),en?(Object.prototype.hasOwnProperty.call(Dn,"isPrimary")&&(en.isPrimary=Dn.isPrimary),en.lastPos=en.currentPos,en.lastTime=en.currentTime,en.currentPos=Dn.currentPos,en.currentTime=Dn.currentTime):(Dn.captured=!1,Dn.insideElementPressed=!1,Dn.insideElement=!0,Qe(Ve,Dn));ie.stopHandler&&xe[0].type==="mouse"&&(clearTimeout(ie.stopTimeOut),ie.stopTimeOut=setTimeout(function(){rr(ie,ne,xe[0].type)},ie.stopDelay)),Ve.contacts===0?ie.moveHandler&&(Kn=ie.moveHandler({eventSource:ie,pointerType:xe[0].type,position:lt(xe[0].currentPos,ie.element),buttons:Ve.buttons,isTouchEvent:xe[0].type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Kn===!1&&D.cancelEvent(ne)):Ve.contacts===1?(ie.moveHandler&&(en=Ve.asArray()[0],Kn=ie.moveHandler({eventSource:ie,pointerType:en.type,position:lt(en.currentPos,ie.element),buttons:Ve.buttons,isTouchEvent:en.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Kn===!1&&D.cancelEvent(ne)),ie.dragHandler&&(en=Ve.asArray()[0],$n=en.currentPos.minus(en.lastPos),Kn=ie.dragHandler({eventSource:ie,pointerType:en.type,position:lt(en.currentPos,ie.element),buttons:Ve.buttons,delta:$n,speed:en.speed,direction:en.direction,shift:ne.shiftKey,isTouchEvent:en.type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Kn===!1&&D.cancelEvent(ne))):Ve.contacts===2&&(ie.moveHandler&&(Fn=Ve.asArray(),Kn=ie.moveHandler({eventSource:ie,pointerType:Fn[0].type,position:lt(ht(Fn[0].currentPos,Fn[1].currentPos),ie.element),buttons:Ve.buttons,isTouchEvent:Fn[0].type==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Kn===!1&&D.cancelEvent(ne)),ie.pinchHandler&&xe[0].type==="touch"&&($n=Ae.pinchGPoints[0].currentPos.distanceTo(Ae.pinchGPoints[1].currentPos),$n!=Ae.currentPinchDist&&(Ae.lastPinchDist=Ae.currentPinchDist,Ae.currentPinchDist=$n,Ae.lastPinchCenter=Ae.currentPinchCenter,Ae.currentPinchCenter=ht(Ae.pinchGPoints[0].currentPos,Ae.pinchGPoints[1].currentPos),Kn=ie.pinchHandler({eventSource:ie,pointerType:"touch",gesturePoints:Ae.pinchGPoints,lastCenter:lt(Ae.lastPinchCenter,ie.element),center:lt(Ae.currentPinchCenter,ie.element),lastDistance:Ae.lastPinchDist,distance:Ae.currentPinchDist,shift:ne.shiftKey,originalEvent:ne,preventDefaultAction:!1,userData:ie.userData}),Kn===!1&&D.cancelEvent(ne))))}function Jn(ie,ne,xe){Pn(ie,ne,xe,0),zn(ie,ne,xe)}function rr(ie,ne,xe){ie.stopHandler&&ie.stopHandler({eventSource:ie,pointerType:xe,position:ct(ne,ie.element),buttons:ie.getActivePointersListByType(xe).buttons,isTouchEvent:xe==="touch",originalEvent:ne,preventDefaultAction:!1,userData:ie.userData})}var sr=function(){try{return window.self!==window.top}catch{return!0}}();function on(ie){try{return ie.addEventListener&&ie.removeEventListener}catch{return!1}}}(OpenSeadragon),function(D){D.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},D.Control=function(O,z,F){var Y=O.parentNode;typeof z=="number"&&(D.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),z={anchor:z}),z.attachToViewer=typeof z.attachToViewer>"u"?!0:z.attachToViewer,this.autoFade=typeof z.autoFade>"u"?!0:z.autoFade,this.element=O,this.anchor=z.anchor,this.container=F,this.anchor==D.ControlAnchor.ABSOLUTE?(this.wrapper=D.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof z.top=="number"?z.top+"px":z.top,this.wrapper.style.left=typeof z.left=="number"?z.left+"px":z.left,this.wrapper.style.height=typeof z.height=="number"?z.height+"px":z.height,this.wrapper.style.width=typeof z.width=="number"?z.width+"px":z.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=D.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==D.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),z.attachToViewer?this.anchor==D.ControlAnchor.TOP_RIGHT||this.anchor==D.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):Y.appendChild(this.wrapper)},D.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!="none"},setVisible:function(O){this.wrapper.style.display=O?this.anchor==D.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(O){this.element[D.SIGNAL]&&D.Browser.vendor==D.BROWSERS.IE?D.setElementOpacity(this.element,O,!0):D.setElementOpacity(this.wrapper,O,!0)}}}(OpenSeadragon),function(D){D.ControlDock=function(z){var F=["topleft","topright","bottomright","bottomleft"],Y,W;for(D.extend(!0,this,{id:"controldock-"+D.now()+"-"+Math.floor(Math.random()*1e6),container:D.makeNeutralElement("div"),controls:[]},z),this.container.onsubmit=function(){return!1},this.element&&(this.element=D.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),W=0;W<F.length;W++)Y=F[W],this.controls[Y]=D.makeNeutralElement("div"),this.controls[Y].style.position="absolute",Y.match("left")&&(this.controls[Y].style.left="0px"),Y.match("right")&&(this.controls[Y].style.right="0px"),Y.match("top")&&(this.controls[Y].style.top="0px"),Y.match("bottom")&&(this.controls[Y].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},D.ControlDock.prototype={addControl:function(z,F){z=D.getElement(z);var Y=null;if(!(O(this,z)>=0)){switch(F.anchor){case D.ControlAnchor.TOP_RIGHT:Y=this.controls.topright,z.style.position="relative",z.style.paddingRight="0px",z.style.paddingTop="0px";break;case D.ControlAnchor.BOTTOM_RIGHT:Y=this.controls.bottomright,z.style.position="relative",z.style.paddingRight="0px",z.style.paddingBottom="0px";break;case D.ControlAnchor.BOTTOM_LEFT:Y=this.controls.bottomleft,z.style.position="relative",z.style.paddingLeft="0px",z.style.paddingBottom="0px";break;case D.ControlAnchor.TOP_LEFT:Y=this.controls.topleft,z.style.position="relative",z.style.paddingLeft="0px",z.style.paddingTop="0px";break;case D.ControlAnchor.ABSOLUTE:Y=this.container,z.style.margin="0px",z.style.padding="0px";break;default:case D.ControlAnchor.NONE:Y=this.container,z.style.margin="0px",z.style.padding="0px";break}this.controls.push(new D.Control(z,F,Y)),z.style.display="inline-block"}},removeControl:function(z){z=D.getElement(z);var F=O(this,z);return F>=0&&(this.controls[F].destroy(),this.controls.splice(F,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var z;for(z=this.controls.length-1;z>=0;z--)if(this.controls[z].isVisible())return!0;return!1},setControlsEnabled:function(z){var F;for(F=this.controls.length-1;F>=0;F--)this.controls[F].setVisible(z);return this}};function O(z,F){var Y=z.controls,W;for(W=Y.length-1;W>=0;W--)if(Y[W].element==F)return W;return-1}}(OpenSeadragon),function(D){D.Placement=D.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(D){var O={},z=1;D.Viewer=function(kt){var jt=arguments,$t=this,oe;if(D.isPlainObject(kt)||(kt={id:jt[0],xmlPath:jt.length>1?jt[1]:void 0,prefixUrl:jt.length>2?jt[2]:void 0,controls:jt.length>3?jt[3]:void 0,overlays:jt.length>4?jt[4]:void 0}),kt.config&&(D.extend(!0,kt,kt.config),delete kt.config),D.extend(!0,this,{id:kt.id,hash:kt.hash||z++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},D.DEFAULT_SETTINGS,kt),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof O[this.hash]<"u"&&D.console.warn("Hash "+this.hash+" has already been used."),O[this.hash]={fsBoundsDelta:new D.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=D.now(),D.EventSource.call(this),this.addHandler("open-failed",function(Vt){var Be=D.getString("Errors.OpenFailed",Vt.eventSource,Vt.message);$t._showMessage(Be)}),D.ControlDock.call(this,kt),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=D.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Vt){Vt.width="100%",Vt.height="100%",Vt.overflow="hidden",Vt.position="absolute",Vt.top="0px",Vt.left="0px"}(this.canvas.style),D.setElementTouchActionNone(this.canvas),kt.tabIndex!==""&&(this.canvas.tabIndex=kt.tabIndex===void 0?0:kt.tabIndex),this.container.className="openseadragon-container",function(Vt){Vt.width="100%",Vt.height="100%",Vt.position="relative",Vt.overflow="hidden",Vt.left="0px",Vt.top="0px",Vt.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new D.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:D.delegate(this,bt),keyHandler:D.delegate(this,wt),clickHandler:D.delegate(this,mt),dblClickHandler:D.delegate(this,_t),dragHandler:D.delegate(this,Et),dragEndHandler:D.delegate(this,At),enterHandler:D.delegate(this,Ct),exitHandler:D.delegate(this,Ft),pressHandler:D.delegate(this,Lt),releaseHandler:D.delegate(this,Yt),nonPrimaryPressHandler:D.delegate(this,Ht),nonPrimaryReleaseHandler:D.delegate(this,qt),scrollHandler:D.delegate(this,Xt),pinchHandler:D.delegate(this,te)}),this.outerTracker=new D.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:D.delegate(this,Dt),exitHandler:D.delegate(this,Qt)}),this.toolbar&&(this.toolbar=new D.ControlDock({element:this.toolbar})),this.bindStandardControls(),O[this.hash].prevContainerSize=F(this.container),this.world=new D.World({viewer:this}),this.world.addHandler("add-item",function(Vt){$t.source=$t.world.getItemAt(0).source,O[$t.hash].forceRedraw=!0,$t._updateRequestId||($t._updateRequestId=X($t,Nt))}),this.world.addHandler("remove-item",function(Vt){$t.world.getItemCount()?$t.source=$t.world.getItemAt(0).source:$t.source=null,O[$t.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Vt){$t.viewport&&$t.viewport._setContentBounds($t.world.getHomeBounds(),$t.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Vt){$t.source=$t.world.getItemAt(0).source}),this.viewport=new D.Viewport({containerSize:O[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new D.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:kt.timeout}),this.tileCache=new D.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new D.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=D.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(oe=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(oe,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(oe=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(oe,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new D.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),oe=0;oe<this.customControls.length;oe++)this.addControl(this.customControls[oe].id,{anchor:this.customControls[oe].anchor});D.requestAnimationFrame(function(){nt($t)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},D.extend(D.Viewer.prototype,D.EventSource.prototype,D.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(kt){return D.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(kt)},openTileSource:function(kt){return D.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(kt)},open:function(kt,jt){var $t=this;if(this.close(),!!kt){if(this.sequenceMode&&D.isArray(kt)){this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof jt<"u"&&!isNaN(jt)&&(this.initialPage=jt),this.tileSources=kt,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);return}if(D.isArray(kt)||(kt=[kt]),!!kt.length){this._opening=!0;for(var oe=kt.length,Vt=0,Be=0,ge,Pe=function(){if(Vt+Be===oe)if(Vt){($t._firstOpen||!$t.preserveViewport)&&($t.viewport.goHome(!0),$t.viewport.update()),$t._firstOpen=!1;var Fe=kt[0];if(Fe.tileSource&&(Fe=Fe.tileSource),$t.overlays&&!$t.preserveOverlays)for(var Qe=0;Qe<$t.overlays.length;Qe++)$t.currentOverlays[Qe]=W($t,$t.overlays[Qe]);$t._drawOverlays(),$t._opening=!1,$t.raiseEvent("open",{source:Fe})}else $t._opening=!1,$t.raiseEvent("open-failed",ge)},ke=function(Fe){(!D.isPlainObject(Fe)||!Fe.tileSource)&&(Fe={tileSource:Fe}),Fe.index!==void 0&&(D.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Fe.index),Fe.collectionImmediately===void 0&&(Fe.collectionImmediately=!0);var Qe=Fe.success;Fe.success=function(rn){if(Vt++,Fe.tileSource.overlays)for(var zn=0;zn<Fe.tileSource.overlays.length;zn++)$t.addOverlay(Fe.tileSource.overlays[zn]);Qe&&Qe(rn),Pe()};var We=Fe.error;Fe.error=function(rn){Be++,ge||(ge=rn),We&&We(rn),Pe()},$t.addTiledImage(Fe)},$e=0;$e<kt.length;$e++)ke(kt[$e]);return this}}},close:function(){return O[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),O[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(O[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(D.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),O[this.hash]=null,delete O[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(kt){return this.innerTracker.setTracking(kt),this.outerTracker.setTracking(kt),this.raiseEvent("mouse-enabled",{enabled:kt}),this},areControlsEnabled:function(){var kt=this.controls.length,jt;for(jt=0;jt<this.controls.length;jt++)kt=kt&&this.controls[jt].isVisible();return kt},setControlsEnabled:function(kt){return kt?ct(this):nt(this),this.raiseEvent("controls-enabled",{enabled:kt}),this},setDebugMode:function(kt){for(var jt=0;jt<this.world.getItemCount();jt++)this.world.getItemAt(jt).debugMode=kt;this.debugMode=kt,this.forceRedraw()},isFullPage:function(){return O[this.hash].fullPage},setFullPage:function(kt){var jt=document.body,$t=jt.style,oe=document.documentElement.style,Vt=this,Be,ge;if(kt==this.isFullPage())return this;var Pe={fullPage:kt,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Pe),Pe.preventDefaultAction)return this;if(kt){for(this.elementSize=D.getElementSize(this.element),this.pageScroll=D.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=$t.margin,this.docMargin=oe.margin,$t.margin="0",oe.margin="0",this.bodyPadding=$t.padding,this.docPadding=oe.padding,$t.padding="0",oe.padding="0",this.bodyWidth=$t.width,this.docWidth=oe.width,$t.width="100%",oe.width="100%",this.bodyHeight=$t.height,this.docHeight=oe.height,$t.height="100%",oe.height="100%",this.previousBody=[],O[this.hash].prevElementParent=this.element.parentNode,O[this.hash].prevNextSibling=this.element.nextSibling,O[this.hash].prevElementWidth=this.element.style.width,O[this.hash].prevElementHeight=this.element.style.height,Be=jt.childNodes.length,ge=0;ge<Be;ge++)this.previousBody.push(jt.childNodes[0]),jt.removeChild(jt.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,jt.appendChild(this.toolbar.element),D.addClass(this.toolbar.element,"fullpage")),D.addClass(this.element,"fullpage"),jt.appendChild(this.element),this.element.style.height=D.getWindowSize().y+"px",this.element.style.width=D.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=D.getElementSize(this.element).y-D.getElementSize(this.toolbar.element).y+"px"),O[this.hash].fullPage=!0,D.delegate(this,Dt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,$t.margin=this.bodyMargin,oe.margin=this.docMargin,$t.padding=this.bodyPadding,oe.padding=this.docPadding,$t.width=this.bodyWidth,oe.width=this.docWidth,$t.height=this.bodyHeight,oe.height=this.docHeight,jt.removeChild(this.element),Be=this.previousBody.length,ge=0;ge<Be;ge++)jt.appendChild(this.previousBody.shift());D.removeClass(this.element,"fullpage"),O[this.hash].prevElementParent.insertBefore(this.element,O[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(jt.removeChild(this.toolbar.element),D.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=O[this.hash].prevElementWidth,this.element.style.height=O[this.hash].prevElementHeight;var ke=0,$e=function(){D.setPageScroll(Vt.pageScroll);var Fe=D.getPageScroll();ke++,ke<10&&(Fe.x!==Vt.pageScroll.x||Fe.y!==Vt.pageScroll.y)&&D.requestAnimationFrame($e)};D.requestAnimationFrame($e),O[this.hash].fullPage=!1,D.delegate(this,Qt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:kt}),this},setFullScreen:function(kt){var jt=this;if(!D.supportsFullScreen)return this.setFullPage(kt);if(D.isFullScreen()===kt)return this;var $t={fullScreen:kt,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",$t),$t.preventDefaultAction)return this;if(kt){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var oe=function(){var Vt=D.isFullScreen();Vt||(D.removeEvent(document,D.fullScreenEventName,oe),D.removeEvent(document,D.fullScreenErrorEventName,oe),jt.setFullPage(!1),jt.isFullPage()&&(jt.element.style.width=jt.fullPageStyleWidth,jt.element.style.height=jt.fullPageStyleHeight)),jt.navigator&&jt.viewport&&setTimeout(function(){jt.navigator.update(jt.viewport)}),jt.raiseEvent("full-screen",{fullScreen:Vt})};D.addEvent(document,D.fullScreenEventName,oe),D.addEvent(document,D.fullScreenErrorEventName,oe),D.requestFullScreen(document.body)}else D.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!="hidden"},setVisible:function(kt){return this.container.style.visibility=kt?"":"hidden",this.raiseEvent("visible",{visible:kt}),this},addTiledImage:function(kt){D.console.assert(kt,"[Viewer.addTiledImage] options is required"),D.console.assert(kt.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),D.console.assert(!kt.replace||kt.index>-1&&kt.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var jt=this;kt.replace&&(kt.replaceItem=jt.world.getItemAt(kt.index)),this._hideMessage(),kt.placeholderFillStyle===void 0&&(kt.placeholderFillStyle=this.placeholderFillStyle),kt.opacity===void 0&&(kt.opacity=this.opacity),kt.preload===void 0&&(kt.preload=this.preload),kt.compositeOperation===void 0&&(kt.compositeOperation=this.compositeOperation),kt.crossOriginPolicy===void 0&&(kt.crossOriginPolicy=kt.tileSource.crossOriginPolicy!==void 0?kt.tileSource.crossOriginPolicy:this.crossOriginPolicy),kt.ajaxWithCredentials===void 0&&(kt.ajaxWithCredentials=this.ajaxWithCredentials),kt.loadTilesWithAjax===void 0&&(kt.loadTilesWithAjax=this.loadTilesWithAjax),kt.ajaxHeaders===void 0||kt.ajaxHeaders===null?kt.ajaxHeaders=this.ajaxHeaders:D.isPlainObject(kt.ajaxHeaders)&&D.isPlainObject(this.ajaxHeaders)&&(kt.ajaxHeaders=D.extend({},this.ajaxHeaders,kt.ajaxHeaders));var $t={options:kt};function oe(ge){for(var Pe=0;Pe<jt._loadQueue.length;Pe++)if(jt._loadQueue[Pe]===$t){jt._loadQueue.splice(Pe,1);break}jt._loadQueue.length===0&&Vt($t),jt.raiseEvent("add-item-failed",ge),kt.error&&kt.error(ge)}function Vt(ge){jt.collectionMode&&(jt.world.arrange({immediately:ge.options.collectionImmediately,rows:jt.collectionRows,columns:jt.collectionColumns,layout:jt.collectionLayout,tileSize:jt.collectionTileSize,tileMargin:jt.collectionTileMargin}),jt.world.setAutoRefigureSizes(!0))}if(D.isArray(kt.tileSource)){setTimeout(function(){oe({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:kt.tileSource,options:kt})});return}this._loadQueue.push($t);function Be(){for(var ge,Pe,ke;jt._loadQueue.length&&(ge=jt._loadQueue[0],!!ge.tileSource);){if(jt._loadQueue.splice(0,1),ge.options.replace){var $e=jt.world.getIndexOfItem(ge.options.replaceItem);$e!=-1&&(ge.options.index=$e),jt.world.removeItem(ge.options.replaceItem)}Pe=new D.TiledImage({viewer:jt,source:ge.tileSource,viewport:jt.viewport,drawer:jt.drawer,tileCache:jt.tileCache,imageLoader:jt.imageLoader,x:ge.options.x,y:ge.options.y,width:ge.options.width,height:ge.options.height,fitBounds:ge.options.fitBounds,fitBoundsPlacement:ge.options.fitBoundsPlacement,clip:ge.options.clip,placeholderFillStyle:ge.options.placeholderFillStyle,opacity:ge.options.opacity,preload:ge.options.preload,degrees:ge.options.degrees,compositeOperation:ge.options.compositeOperation,springStiffness:jt.springStiffness,animationTime:jt.animationTime,minZoomImageRatio:jt.minZoomImageRatio,wrapHorizontal:jt.wrapHorizontal,wrapVertical:jt.wrapVertical,immediateRender:jt.immediateRender,blendTime:jt.blendTime,alwaysBlend:jt.alwaysBlend,minPixelRatio:jt.minPixelRatio,smoothTileEdgesMinZoom:jt.smoothTileEdgesMinZoom,iOSDevice:jt.iOSDevice,crossOriginPolicy:ge.options.crossOriginPolicy,ajaxWithCredentials:ge.options.ajaxWithCredentials,loadTilesWithAjax:ge.options.loadTilesWithAjax,ajaxHeaders:ge.options.ajaxHeaders,debugMode:jt.debugMode}),jt.collectionMode&&jt.world.setAutoRefigureSizes(!1),jt.world.addItem(Pe,{index:ge.options.index}),jt._loadQueue.length===0&&Vt(ge),jt.world.getItemCount()===1&&!jt.preserveViewport&&jt.viewport.goHome(!0),jt.navigator&&(ke=D.extend({},ge.options,{replace:!1,originalTiledImage:Pe,tileSource:ge.tileSource}),jt.navigator.addTiledImage(ke)),ge.options.success&&ge.options.success({item:Pe})}}Y(this,kt.tileSource,kt,function(ge){$t.tileSource=ge,Be()},function(ge){ge.options=kt,oe(ge),Be()})},addSimpleImage:function(kt){D.console.assert(kt,"[Viewer.addSimpleImage] options is required"),D.console.assert(kt.url,"[Viewer.addSimpleImage] options.url is required");var jt=D.extend({},kt,{tileSource:{type:"image",url:kt.url}});delete jt.url,this.addTiledImage(jt)},addLayer:function(kt){var jt=this;D.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var $t=D.extend({},kt,{success:function(oe){jt.raiseEvent("add-layer",{options:kt,drawer:oe.item})},error:function(oe){jt.raiseEvent("add-layer-failed",oe)}});return this.addTiledImage($t),this},getLayerAtLevel:function(kt){return D.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(kt)},getLevelOfLayer:function(kt){return D.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(kt)},getLayersCount:function(){return D.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(kt,jt){return D.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(kt,jt)},removeLayer:function(kt){return D.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(kt)},forceRedraw:function(){return O[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var kt=D.delegate(this,lt),jt=D.delegate(this,ht),$t=D.delegate(this,Kt),oe=D.delegate(this,Ye),Vt=this.navImages,Be=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Be=!1),this.previousButton=new D.Button({element:this.previousButton?D.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.PreviousPage"),srcRest:de(this.prefixUrl,Vt.previous.REST),srcGroup:de(this.prefixUrl,Vt.previous.GROUP),srcHover:de(this.prefixUrl,Vt.previous.HOVER),srcDown:de(this.prefixUrl,Vt.previous.DOWN),onRelease:oe,onFocus:kt,onBlur:jt}),this.nextButton=new D.Button({element:this.nextButton?D.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.NextPage"),srcRest:de(this.prefixUrl,Vt.next.REST),srcGroup:de(this.prefixUrl,Vt.next.GROUP),srcHover:de(this.prefixUrl,Vt.next.HOVER),srcDown:de(this.prefixUrl,Vt.next.DOWN),onRelease:$t,onFocus:kt,onBlur:jt}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Be&&(this.paging=new D.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:D.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||D.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var kt=D.delegate(this,ye),jt=D.delegate(this,ve),$t=D.delegate(this,Oe),oe=D.delegate(this,pe),Vt=D.delegate(this,Je),Be=D.delegate(this,ze),ge=D.delegate(this,we),Pe=D.delegate(this,Me),ke=D.delegate(this,He),$e=D.delegate(this,Le),Fe=D.delegate(this,lt),Qe=D.delegate(this,ht),We=this.navImages,rn=[],zn=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(zn=!1),this.showZoomControl&&(rn.push(this.zoomInButton=new D.Button({element:this.zoomInButton?D.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.ZoomIn"),srcRest:de(this.prefixUrl,We.zoomIn.REST),srcGroup:de(this.prefixUrl,We.zoomIn.GROUP),srcHover:de(this.prefixUrl,We.zoomIn.HOVER),srcDown:de(this.prefixUrl,We.zoomIn.DOWN),onPress:kt,onRelease:jt,onClick:$t,onEnter:kt,onExit:jt,onFocus:Fe,onBlur:Qe})),rn.push(this.zoomOutButton=new D.Button({element:this.zoomOutButton?D.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.ZoomOut"),srcRest:de(this.prefixUrl,We.zoomOut.REST),srcGroup:de(this.prefixUrl,We.zoomOut.GROUP),srcHover:de(this.prefixUrl,We.zoomOut.HOVER),srcDown:de(this.prefixUrl,We.zoomOut.DOWN),onPress:oe,onRelease:jt,onClick:Vt,onEnter:oe,onExit:jt,onFocus:Fe,onBlur:Qe}))),this.showHomeControl&&rn.push(this.homeButton=new D.Button({element:this.homeButton?D.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.Home"),srcRest:de(this.prefixUrl,We.home.REST),srcGroup:de(this.prefixUrl,We.home.GROUP),srcHover:de(this.prefixUrl,We.home.HOVER),srcDown:de(this.prefixUrl,We.home.DOWN),onRelease:Be,onFocus:Fe,onBlur:Qe})),this.showFullPageControl&&rn.push(this.fullPageButton=new D.Button({element:this.fullPageButton?D.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.FullPage"),srcRest:de(this.prefixUrl,We.fullpage.REST),srcGroup:de(this.prefixUrl,We.fullpage.GROUP),srcHover:de(this.prefixUrl,We.fullpage.HOVER),srcDown:de(this.prefixUrl,We.fullpage.DOWN),onRelease:ge,onFocus:Fe,onBlur:Qe})),this.showRotationControl&&(rn.push(this.rotateLeftButton=new D.Button({element:this.rotateLeftButton?D.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.RotateLeft"),srcRest:de(this.prefixUrl,We.rotateleft.REST),srcGroup:de(this.prefixUrl,We.rotateleft.GROUP),srcHover:de(this.prefixUrl,We.rotateleft.HOVER),srcDown:de(this.prefixUrl,We.rotateleft.DOWN),onRelease:Pe,onFocus:Fe,onBlur:Qe})),rn.push(this.rotateRightButton=new D.Button({element:this.rotateRightButton?D.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.RotateRight"),srcRest:de(this.prefixUrl,We.rotateright.REST),srcGroup:de(this.prefixUrl,We.rotateright.GROUP),srcHover:de(this.prefixUrl,We.rotateright.HOVER),srcDown:de(this.prefixUrl,We.rotateright.DOWN),onRelease:ke,onFocus:Fe,onBlur:Qe}))),this.showFlipControl&&rn.push(this.flipButton=new D.Button({element:this.flipButton?D.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:D.getString("Tooltips.Flip"),srcRest:de(this.prefixUrl,We.flip.REST),srcGroup:de(this.prefixUrl,We.flip.GROUP),srcHover:de(this.prefixUrl,We.flip.HOVER),srcDown:de(this.prefixUrl,We.flip.DOWN),onRelease:$e,onFocus:Fe,onBlur:Qe})),zn&&(this.buttons=new D.ButtonGroup({buttons:rn,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",D.delegate(this,qe)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||D.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||D.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(kt){return this.tileSources&&kt>=0&&kt<this.tileSources.length&&(this._sequenceIndex=kt,this._updateSequenceButtons(kt),this.open(this.tileSources[kt]),this.referenceStrip&&this.referenceStrip.setFocus(kt),this.raiseEvent("page",{page:kt})),this},addOverlay:function(kt,jt,$t,oe){var Vt;if(D.isPlainObject(kt)?Vt=kt:Vt={element:kt,location:jt,placement:$t,onDraw:oe},kt=D.getElement(Vt.element),q(this.currentOverlays,kt)>=0)return this;var Be=W(this,Vt);return this.currentOverlays.push(Be),Be.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:kt,location:Vt.location,placement:Vt.placement}),this},updateOverlay:function(kt,jt,$t){var oe;return kt=D.getElement(kt),oe=q(this.currentOverlays,kt),oe>=0&&(this.currentOverlays[oe].update(jt,$t),O[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:kt,location:jt,placement:$t})),this},removeOverlay:function(kt){var jt;return kt=D.getElement(kt),jt=q(this.currentOverlays,kt),jt>=0&&(this.currentOverlays[jt].destroy(),this.currentOverlays.splice(jt,1),O[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:kt})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return O[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(kt){var jt;return kt=D.getElement(kt),jt=q(this.currentOverlays,kt),jt>=0?this.currentOverlays[jt]:null},_updateSequenceButtons:function(kt){this.nextButton&&(!this.tileSources||this.tileSources.length-1===kt?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(kt>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(kt){this._hideMessage();var jt=D.makeNeutralElement("div");jt.appendChild(document.createTextNode(kt)),this.messageDiv=D.makeCenteredNode(jt),D.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var kt=this.messageDiv;kt&&(kt.parentNode.removeChild(kt),delete this.messageDiv)},gestureSettingsByDeviceType:function(kt){switch(kt){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var kt,jt=this.currentOverlays.length;for(kt=0;kt<jt;kt++)this.currentOverlays[kt].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new D.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else D.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}});function F(kt){return kt=D.getElement(kt),new D.Point(kt.clientWidth===0?1:kt.clientWidth,kt.clientHeight===0?1:kt.clientHeight)}function Y(kt,jt,$t,oe,Vt){var Be=kt;if(D.type(jt)=="string"){if(jt.match(/^\s*<.*>\s*$/))jt=D.parseXml(jt);else if(jt.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var ge=D.parseJSON(jt);jt=ge}catch{}}function Pe(ke,$e){ke.ready?oe(ke):(ke.addHandler("ready",function(){oe(ke)}),ke.addHandler("open-failed",function(Fe){Vt({message:Fe.message,source:$e})}))}setTimeout(function(){if(D.type(jt)=="string")jt=new D.TileSource({url:jt,crossOriginPolicy:$t.crossOriginPolicy!==void 0?$t.crossOriginPolicy:kt.crossOriginPolicy,ajaxWithCredentials:kt.ajaxWithCredentials,ajaxHeaders:kt.ajaxHeaders,useCanvas:kt.useCanvas,success:function(Qe){oe(Qe.tileSource)}}),jt.addHandler("open-failed",function(Qe){Vt(Qe)});else if(D.isPlainObject(jt)||jt.nodeType)if(jt.crossOriginPolicy===void 0&&($t.crossOriginPolicy!==void 0||kt.crossOriginPolicy!==void 0)&&(jt.crossOriginPolicy=$t.crossOriginPolicy!==void 0?$t.crossOriginPolicy:kt.crossOriginPolicy),jt.ajaxWithCredentials===void 0&&(jt.ajaxWithCredentials=kt.ajaxWithCredentials),jt.useCanvas===void 0&&(jt.useCanvas=kt.useCanvas),D.isFunction(jt.getTileUrl)){var ke=new D.TileSource(jt);ke.getTileUrl=jt.getTileUrl,oe(ke)}else{var $e=D.TileSource.determineType(Be,jt);if(!$e){Vt({message:"Unable to load TileSource",source:jt});return}var Fe=$e.prototype.configure.apply(Be,[jt]);Pe(new $e(Fe),jt)}else Pe(jt,jt)})}function W(kt,jt){if(jt instanceof D.Overlay)return jt;var $t=null;if(jt.element)$t=D.getElement(jt.element);else{var oe=jt.id?jt.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);$t=D.getElement(jt.id),$t||($t=document.createElement("a"),$t.href="#/overlay/"+oe),$t.id=oe,D.addClass($t,jt.className?jt.className:"openseadragon-overlay")}var Vt=jt.location,Be=jt.width,ge=jt.height;if(!Vt){var Pe=jt.x,ke=jt.y;if(jt.px!==void 0){var $e=kt.viewport.imageToViewportRectangle(new D.Rect(jt.px,jt.py,Be||0,ge||0));Pe=$e.x,ke=$e.y,Be=Be!==void 0?$e.width:void 0,ge=ge!==void 0?$e.height:void 0}Vt=new D.Point(Pe,ke)}var Fe=jt.placement;return Fe&&D.type(Fe)==="string"&&(Fe=D.Placement[jt.placement.toUpperCase()]),new D.Overlay({element:$t,location:Vt,placement:Fe,onDraw:jt.onDraw,checkResize:jt.checkResize,width:Be,height:ge,rotationMode:jt.rotationMode})}function q(kt,jt){var $t;for($t=kt.length-1;$t>=0;$t--)if(kt[$t].element===jt)return $t;return-1}function X(kt,jt){return D.requestAnimationFrame(function(){jt(kt)})}function tt(kt){D.requestAnimationFrame(function(){st(kt)})}function nt(kt){kt.autoHideControls&&(kt.controlsShouldFade=!0,kt.controlsFadeBeginTime=D.now()+kt.controlsFadeDelay,window.setTimeout(function(){tt(kt)},kt.controlsFadeDelay))}function st(kt){var jt,$t,oe,Vt;if(kt.controlsShouldFade){for(jt=D.now(),$t=jt-kt.controlsFadeBeginTime,oe=1-$t/kt.controlsFadeLength,oe=Math.min(1,oe),oe=Math.max(0,oe),Vt=kt.controls.length-1;Vt>=0;Vt--)kt.controls[Vt].autoFade&&kt.controls[Vt].setOpacity(oe);oe>0&&tt(kt)}}function ct(kt){var jt;for(kt.controlsShouldFade=!1,jt=kt.controls.length-1;jt>=0;jt--)kt.controls[jt].setOpacity(1)}function lt(){ct(this)}function ht(){nt(this)}function bt(kt){var jt={originalEvent:kt.originalEvent,preventDefaultAction:kt.preventDefaultAction,preventVerticalPan:kt.preventVerticalPan,preventHorizontalPan:kt.preventHorizontalPan};if(this.raiseEvent("canvas-key",jt),!jt.preventDefaultAction&&!kt.ctrl&&!kt.alt&&!kt.meta)switch(kt.keyCode){case 38:return jt.preventVerticalPan||(kt.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return jt.preventVerticalPan||(kt.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return jt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return jt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}else return!0}function wt(kt){var jt={originalEvent:kt.originalEvent,preventDefaultAction:kt.preventDefaultAction,preventVerticalPan:kt.preventVerticalPan,preventHorizontalPan:kt.preventHorizontalPan};if(this.raiseEvent("canvas-key",jt),!jt.preventDefaultAction&&!kt.ctrl&&!kt.alt&&!kt.meta)switch(kt.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return jt.preventVerticalPan||(kt.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return jt.preventVerticalPan||(kt.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return jt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return jt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new D.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(D.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(D.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(D.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(D.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}else return!0}function mt(kt){var jt,$t=document.activeElement==this.canvas;$t||this.canvas.focus(),this.viewport.flipped&&(kt.position.x=this.viewport.getContainerSize().x-kt.position.x);var oe={tracker:kt.eventSource,position:kt.position,quick:kt.quick,shift:kt.shift,originalEvent:kt.originalEvent,preventDefaultAction:kt.preventDefaultAction};this.raiseEvent("canvas-click",oe),!oe.preventDefaultAction&&this.viewport&&kt.quick&&(jt=this.gestureSettingsByDeviceType(kt.pointerType),jt.clickToZoom&&(this.viewport.zoomBy(kt.shift?1/this.zoomPerClick:this.zoomPerClick,jt.zoomToRefPoint?this.viewport.pointFromPixel(kt.position,!0):null),this.viewport.applyConstraints()))}function _t(kt){var jt,$t={tracker:kt.eventSource,position:kt.position,shift:kt.shift,originalEvent:kt.originalEvent,preventDefaultAction:kt.preventDefaultAction};this.raiseEvent("canvas-double-click",$t),!$t.preventDefaultAction&&this.viewport&&(jt=this.gestureSettingsByDeviceType(kt.pointerType),jt.dblClickToZoom&&(this.viewport.zoomBy(kt.shift?1/this.zoomPerClick:this.zoomPerClick,jt.zoomToRefPoint?this.viewport.pointFromPixel(kt.position,!0):null),this.viewport.applyConstraints()))}function Et(kt){var jt,$t={tracker:kt.eventSource,position:kt.position,delta:kt.delta,speed:kt.speed,direction:kt.direction,shift:kt.shift,originalEvent:kt.originalEvent,preventDefaultAction:kt.preventDefaultAction};if(this.raiseEvent("canvas-drag",$t),!$t.preventDefaultAction&&this.viewport){if(jt=this.gestureSettingsByDeviceType(kt.pointerType),this.panHorizontal||(kt.delta.x=0),this.panVertical||(kt.delta.y=0),this.viewport.flipped&&(kt.delta.x=-kt.delta.x),this.constrainDuringPan){var oe=this.viewport.deltaPointsFromPixels(kt.delta.negate());this.viewport.centerSpringX.target.value+=oe.x,this.viewport.centerSpringY.target.value+=oe.y;var Vt=this.viewport.getBounds(),Be=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=oe.x,this.viewport.centerSpringY.target.value-=oe.y,Vt.x!=Be.x&&(kt.delta.x=0),Vt.y!=Be.y&&(kt.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(kt.delta.negate()),jt.flickEnabled&&!this.constrainDuringPan)}}function At(kt){if(!kt.preventDefaultAction&&this.viewport){var jt=this.gestureSettingsByDeviceType(kt.pointerType);if(jt.flickEnabled&&kt.speed>=jt.flickMinSpeed){var $t=0;this.panHorizontal&&($t=jt.flickMomentum*kt.speed*Math.cos(kt.direction));var oe=0;this.panVertical&&(oe=jt.flickMomentum*kt.speed*Math.sin(kt.direction));var Vt=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Be=this.viewport.pointFromPixel(new D.Point(Vt.x-$t,Vt.y-oe));this.viewport.panTo(Be,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:kt.eventSource,position:kt.position,speed:kt.speed,direction:kt.direction,shift:kt.shift,originalEvent:kt.originalEvent})}function Ct(kt){this.raiseEvent("canvas-enter",{tracker:kt.eventSource,pointerType:kt.pointerType,position:kt.position,buttons:kt.buttons,pointers:kt.pointers,insideElementPressed:kt.insideElementPressed,buttonDownAny:kt.buttonDownAny,originalEvent:kt.originalEvent})}function Ft(kt){window.location!=window.parent.location&&D.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:kt.eventSource,pointerType:kt.pointerType,position:kt.position,buttons:kt.buttons,pointers:kt.pointers,insideElementPressed:kt.insideElementPressed,buttonDownAny:kt.buttonDownAny,originalEvent:kt.originalEvent})}function Lt(kt){this.raiseEvent("canvas-press",{tracker:kt.eventSource,pointerType:kt.pointerType,position:kt.position,insideElementPressed:kt.insideElementPressed,insideElementReleased:kt.insideElementReleased,originalEvent:kt.originalEvent})}function Yt(kt){this.raiseEvent("canvas-release",{tracker:kt.eventSource,pointerType:kt.pointerType,position:kt.position,insideElementPressed:kt.insideElementPressed,insideElementReleased:kt.insideElementReleased,originalEvent:kt.originalEvent})}function Ht(kt){this.raiseEvent("canvas-nonprimary-press",{tracker:kt.eventSource,position:kt.position,pointerType:kt.pointerType,button:kt.button,buttons:kt.buttons,originalEvent:kt.originalEvent})}function qt(kt){this.raiseEvent("canvas-nonprimary-release",{tracker:kt.eventSource,position:kt.position,pointerType:kt.pointerType,button:kt.button,buttons:kt.buttons,originalEvent:kt.originalEvent})}function te(kt){var jt,$t,oe,Vt;if(!kt.preventDefaultAction&&this.viewport&&(jt=this.gestureSettingsByDeviceType(kt.pointerType),jt.pinchToZoom&&($t=this.viewport.pointFromPixel(kt.center,!0),oe=this.viewport.pointFromPixel(kt.lastCenter,!0),Vt=oe.minus($t),this.panHorizontal||(Vt.x=0),this.panVertical||(Vt.y=0),this.viewport.zoomBy(kt.distance/kt.lastDistance,$t,!0),jt.zoomToRefPoint&&this.viewport.panBy(Vt,!0),this.viewport.applyConstraints()),jt.pinchRotate)){var Be=Math.atan2(kt.gesturePoints[0].currentPos.y-kt.gesturePoints[1].currentPos.y,kt.gesturePoints[0].currentPos.x-kt.gesturePoints[1].currentPos.x),ge=Math.atan2(kt.gesturePoints[0].lastPos.y-kt.gesturePoints[1].lastPos.y,kt.gesturePoints[0].lastPos.x-kt.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Be-ge)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:kt.eventSource,gesturePoints:kt.gesturePoints,lastCenter:kt.lastCenter,center:kt.center,lastDistance:kt.lastDistance,distance:kt.distance,shift:kt.shift,originalEvent:kt.originalEvent}),!1}function Xt(kt){var jt,$t,oe,Vt;if(oe=D.now(),Vt=oe-this._lastScrollTime,Vt>this.minScrollDeltaTime){if(this._lastScrollTime=oe,this.viewport.flipped&&(kt.position.x=this.viewport.getContainerSize().x-kt.position.x),!kt.preventDefaultAction&&this.viewport&&(jt=this.gestureSettingsByDeviceType(kt.pointerType),jt.scrollToZoom&&($t=Math.pow(this.zoomPerScroll,kt.scroll),this.viewport.zoomBy($t,jt.zoomToRefPoint?this.viewport.pointFromPixel(kt.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:kt.eventSource,position:kt.position,scroll:kt.scroll,shift:kt.shift,originalEvent:kt.originalEvent}),jt&&jt.scrollToZoom)return!1}else if(jt=this.gestureSettingsByDeviceType(kt.pointerType),jt&&jt.scrollToZoom)return!1}function Dt(kt){O[this.hash].mouseInside=!0,ct(this),this.raiseEvent("container-enter",{tracker:kt.eventSource,position:kt.position,buttons:kt.buttons,pointers:kt.pointers,insideElementPressed:kt.insideElementPressed,buttonDownAny:kt.buttonDownAny,originalEvent:kt.originalEvent})}function Qt(kt){kt.pointers<1&&(O[this.hash].mouseInside=!1,O[this.hash].animating||nt(this)),this.raiseEvent("container-exit",{tracker:kt.eventSource,position:kt.position,buttons:kt.buttons,pointers:kt.pointers,insideElementPressed:kt.insideElementPressed,buttonDownAny:kt.buttonDownAny,originalEvent:kt.originalEvent})}function Nt(kt){ce(kt),kt.isOpen()?kt._updateRequestId=X(kt,Nt):kt._updateRequestId=!1}function ce(kt){if(!kt._opening){if(kt.autoResize){var jt=F(kt.container),$t=O[kt.hash].prevContainerSize;if(!jt.equals($t)){var oe=kt.viewport;if(kt.preserveImageSizeOnResize){var Vt=$t.x/jt.x,Be=oe.getZoom()*Vt,ge=oe.getCenter();oe.resize(jt,!1),oe.zoomTo(Be,null,!0),oe.panTo(ge,!0)}else{var Pe=oe.getBounds();oe.resize(jt,!0),oe.fitBoundsWithConstraints(Pe,!0)}O[kt.hash].prevContainerSize=jt,O[kt.hash].forceRedraw=!0}}var ke=kt.viewport.update(),$e=kt.world.update()||ke;ke&&kt.raiseEvent("viewport-change"),kt.referenceStrip&&($e=kt.referenceStrip.update(kt.viewport)||$e),!O[kt.hash].animating&&$e&&(kt.raiseEvent("animation-start"),ct(kt)),($e||O[kt.hash].forceRedraw||kt.world.needsDraw())&&(Pt(kt),kt._drawOverlays(),kt.navigator&&kt.navigator.update(kt.viewport),O[kt.hash].forceRedraw=!1,$e&&kt.raiseEvent("animation")),O[kt.hash].animating&&!$e&&(kt.raiseEvent("animation-finish"),O[kt.hash].mouseInside||nt(kt)),O[kt.hash].animating=$e}}function Pt(kt){kt.imageLoader.clear(),kt.drawer.clear(),kt.world.draw(),kt.raiseEvent("update-viewport",{})}function de(kt,jt){return kt?kt+jt:jt}function ye(){O[this.hash].lastZoomTime=D.now(),O[this.hash].zoomFactor=this.zoomPerSecond,O[this.hash].zooming=!0,Ce(this)}function pe(){O[this.hash].lastZoomTime=D.now(),O[this.hash].zoomFactor=1/this.zoomPerSecond,O[this.hash].zooming=!0,Ce(this)}function ve(){O[this.hash].zooming=!1}function Ce(kt){D.requestAnimationFrame(D.delegate(kt,De))}function De(){var kt,jt,$t;O[this.hash].zooming&&this.viewport&&(kt=D.now(),jt=kt-O[this.hash].lastZoomTime,$t=Math.pow(O[this.hash].zoomFactor,jt/1e3),this.viewport.zoomBy($t),this.viewport.applyConstraints(),O[this.hash].lastZoomTime=kt,Ce(this))}function Oe(){this.viewport&&(O[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Je(){this.viewport&&(O[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function qe(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function ze(){this.viewport&&this.viewport.goHome()}function we(){this.isFullPage()&&!D.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Me(){if(this.viewport){var kt=this.viewport.getRotation();this.viewport.flipped?kt=D.positiveModulo(kt+this.rotationIncrement,360):kt=D.positiveModulo(kt-this.rotationIncrement,360),this.viewport.setRotation(kt)}}function He(){if(this.viewport){var kt=this.viewport.getRotation();this.viewport.flipped?kt=D.positiveModulo(kt-this.rotationIncrement,360):kt=D.positiveModulo(kt+this.rotationIncrement,360),this.viewport.setRotation(kt)}}function Le(){this.viewport.toggleFlip()}function Ye(){var kt=this._sequenceIndex-1;this.navPrevNextWrap&&kt<0&&(kt+=this.tileSources.length),this.goToPage(kt)}function Kt(){var kt=this._sequenceIndex+1;this.navPrevNextWrap&&kt>=this.tileSources.length&&(kt=0),this.goToPage(kt)}}(OpenSeadragon),function(D){D.Navigator=function(X){var tt=X.viewer,nt=this,st,ct;X.id?(this.element=document.getElementById(X.id),X.controlOptions={anchor:D.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(X.id="navigator-"+D.now(),this.element=D.makeNeutralElement("div"),X.controlOptions={anchor:D.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:X.autoFade},X.position&&(X.position=="BOTTOM_RIGHT"?X.controlOptions.anchor=D.ControlAnchor.BOTTOM_RIGHT:X.position=="BOTTOM_LEFT"?X.controlOptions.anchor=D.ControlAnchor.BOTTOM_LEFT:X.position=="TOP_RIGHT"?X.controlOptions.anchor=D.ControlAnchor.TOP_RIGHT:X.position=="TOP_LEFT"?X.controlOptions.anchor=D.ControlAnchor.TOP_LEFT:X.position=="ABSOLUTE"&&(X.controlOptions.anchor=D.ControlAnchor.ABSOLUTE,X.controlOptions.top=X.top,X.controlOptions.left=X.left,X.controlOptions.height=X.height,X.controlOptions.width=X.width))),this.element.id=X.id,this.element.className+=" navigator",X=D.extend(!0,{sizeRatio:D.DEFAULT_SETTINGS.navigatorSizeRatio},X,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:X.autoResize,minZoomImageRatio:1,background:X.background,opacity:X.opacity,borderColor:X.borderColor,displayRegionColor:X.displayRegionColor}),X.minPixelRatio=this.minPixelRatio=tt.minPixelRatio,D.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new D.Point(1,1),this.totalBorderWidths=new D.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),X.controlOptions.anchor!=D.ControlAnchor.NONE&&function(bt,wt){bt.margin="0px",bt.border=wt+"px solid "+X.borderColor,bt.padding="0px",bt.background=X.background,bt.opacity=X.opacity,bt.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=D.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(bt,wt){bt.position="relative",bt.top="0px",bt.left="0px",bt.fontSize="0px",bt.overflow="hidden",bt.border=wt+"px solid "+X.displayRegionColor,bt.margin="0px",bt.padding="0px",bt.background="transparent",bt.float="left",bt.cssFloat="left",bt.styleFloat="left",bt.zIndex=999999999,bt.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=D.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",tt.addControl(this.element,X.controlOptions),this._resizeWithViewer=X.controlOptions.anchor!=D.ControlAnchor.ABSOLUTE&&X.controlOptions.anchor!=D.ControlAnchor.NONE,X.width&&X.height?(this.setWidth(X.width),this.setHeight(X.height)):this._resizeWithViewer&&(st=D.getElementSize(tt.element),this.element.style.height=Math.round(st.y*X.sizeRatio)+"px",this.element.style.width=Math.round(st.x*X.sizeRatio)+"px",this.oldViewerSize=st,ct=D.getElementSize(this.element),this.elementArea=ct.x*ct.y),this.oldContainerSize=new D.Point(0,0),D.Viewer.apply(this,[X]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function lt(bt){W(nt.displayRegionContainer,bt),W(nt.displayRegion,-bt),nt.viewport.setRotation(bt)}if(X.navigatorRotate){var ht=X.viewer.viewport?X.viewer.viewport.getRotation():X.viewer.degrees||0;lt(ht),X.viewer.addHandler("rotate",function(bt){lt(bt.degrees)})}this.innerTracker.destroy(),this.innerTracker=new D.MouseTracker({element:this.element,dragHandler:D.delegate(this,z),clickHandler:D.delegate(this,O),releaseHandler:D.delegate(this,F),scrollHandler:D.delegate(this,Y)}),this.addHandler("reset-size",function(){nt.viewport&&nt.viewport.goHome(!0)}),tt.world.addHandler("item-index-change",function(bt){window.setTimeout(function(){var wt=nt.world.getItemAt(bt.previousIndex);nt.world.setItemIndex(wt,bt.newIndex)},1)}),tt.world.addHandler("remove-item",function(bt){var wt=bt.item,mt=nt._getMatchingItem(wt);mt&&nt.world.removeItem(mt)}),this.update(tt.viewport)},D.extend(D.Navigator.prototype,D.EventSource.prototype,D.Viewer.prototype,{updateSize:function(){if(this.viewport){var X=new D.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);X.equals(this.oldContainerSize)||(this.viewport.resize(X,!0),this.viewport.goHome(!0),this.oldContainerSize=X,this.drawer.clear(),this.world.draw())}},setWidth:function(X){this.width=X,this.element.style.width=typeof X=="number"?X+"px":X,this._resizeWithViewer=!1},setHeight:function(X){this.height=X,this.element.style.height=typeof X=="number"?X+"px":X,this._resizeWithViewer=!1},setFlip:function(X){return this.viewport.setFlip(X),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(X){q(this.displayRegion,X),q(this.canvas,X),q(this.element,X)},update:function(X){var tt,nt,st,ct,lt,ht;if(tt=D.getElementSize(this.viewer.element),this._resizeWithViewer&&tt.x&&tt.y&&!tt.equals(this.oldViewerSize)&&(this.oldViewerSize=tt,this.maintainSizeRatio||!this.elementArea?(nt=tt.x*this.sizeRatio,st=tt.y*this.sizeRatio):(nt=Math.sqrt(this.elementArea*(tt.x/tt.y)),st=this.elementArea/nt),this.element.style.width=Math.round(nt)+"px",this.element.style.height=Math.round(st)+"px",this.elementArea||(this.elementArea=nt*st),this.updateSize()),X&&this.viewport){ct=X.getBoundsNoRotate(!0),lt=this.viewport.pixelFromPointNoRotate(ct.getTopLeft(),!1),ht=this.viewport.pixelFromPointNoRotate(ct.getBottomRight(),!1).minus(this.totalBorderWidths);var bt=this.displayRegion.style;bt.display=this.world.getItemCount()?"block":"none",bt.top=Math.round(lt.y)+"px",bt.left=Math.round(lt.x)+"px";var wt=Math.abs(lt.x-ht.x),mt=Math.abs(lt.y-ht.y);bt.width=Math.round(Math.max(wt,0))+"px",bt.height=Math.round(Math.max(mt,0))+"px"}},addTiledImage:function(X){var tt=this,nt=X.originalTiledImage;delete X.original;var st=D.extend({},X,{success:function(ct){var lt=ct.item;lt._originalForNavigator=nt,tt._matchBounds(lt,nt,!0);function ht(){tt._matchBounds(lt,nt)}function bt(){tt._matchOpacity(lt,nt)}function wt(){tt._matchCompositeOperation(lt,nt)}nt.addHandler("bounds-change",ht),nt.addHandler("clip-change",ht),nt.addHandler("opacity-change",bt),nt.addHandler("composite-operation-change",wt)}});return D.Viewer.prototype.addTiledImage.apply(this,[st])},_getMatchingItem:function(X){for(var tt=this.world.getItemCount(),nt,st=0;st<tt;st++)if(nt=this.world.getItemAt(st),nt._originalForNavigator===X)return nt;return null},_matchBounds:function(X,tt,nt){var st=tt.getBoundsNoRotate();X.setPosition(st.getTopLeft(),nt),X.setWidth(st.width,nt),X.setRotation(tt.getRotation(),nt),X.setClip(tt.getClip())},_matchOpacity:function(X,tt){X.setOpacity(tt.opacity)},_matchCompositeOperation:function(X,tt){X.setCompositeOperation(tt.compositeOperation)}});function O(X){var tt={tracker:X.eventSource,position:X.position,quick:X.quick,shift:X.shift,originalEvent:X.originalEvent,preventDefaultAction:X.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",tt),!tt.preventDefaultAction&&X.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(X.position.x=this.viewport.getContainerSize().x-X.position.x);var nt=this.viewport.pointFromPixel(X.position);this.panVertical?this.panHorizontal||(nt.x=this.viewer.viewport.getCenter(!0).x):nt.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(nt),this.viewer.viewport.applyConstraints()}}function z(X){var tt={tracker:X.eventSource,position:X.position,delta:X.delta,speed:X.speed,direction:X.direction,shift:X.shift,originalEvent:X.originalEvent,preventDefaultAction:X.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",tt),!tt.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(X.delta.x=0),this.panVertical||(X.delta.y=0),this.viewer.viewport.flipped&&(X.delta.x=-X.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(X.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function F(X){X.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function Y(X){return this.viewer.raiseEvent("navigator-scroll",{tracker:X.eventSource,position:X.position,scroll:X.scroll,shift:X.shift,originalEvent:X.originalEvent}),!1}function W(X,tt){q(X,"rotate("+tt+"deg)")}function q(X,tt){X.style.webkitTransform=tt,X.style.mozTransform=tt,X.style.msTransform=tt,X.style.oTransform=tt,X.style.transform=tt}}(OpenSeadragon),function(D){var O={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};D.extend(D,{getString:function(z){var F=z.split("."),Y=null,W=arguments,q=O,X;for(X=0;X<F.length-1;X++)q=q[F[X]]||{};return Y=q[F[X]],typeof Y!="string"&&(D.console.log("Untranslated source string:",z),Y=""),Y.replace(/\{\d+\}/g,function(tt){var nt=parseInt(tt.match(/\d+/),10)+1;return nt<W.length?W[nt]:""})},setString:function(z,F){var Y=z.split("."),W=O,q;for(q=0;q<Y.length-1;q++)W[Y[q]]||(W[Y[q]]={}),W=W[Y[q]];W[Y[q]]=F}})}(OpenSeadragon),function(D){D.Point=function(O,z){this.x=typeof O=="number"?O:0,this.y=typeof z=="number"?z:0},D.Point.prototype={clone:function(){return new D.Point(this.x,this.y)},plus:function(O){return new D.Point(this.x+O.x,this.y+O.y)},minus:function(O){return new D.Point(this.x-O.x,this.y-O.y)},times:function(O){return new D.Point(this.x*O,this.y*O)},divide:function(O){return new D.Point(this.x/O,this.y/O)},negate:function(){return new D.Point(-this.x,-this.y)},distanceTo:function(O){return Math.sqrt(Math.pow(this.x-O.x,2)+Math.pow(this.y-O.y,2))},squaredDistanceTo:function(O){return Math.pow(this.x-O.x,2)+Math.pow(this.y-O.y,2)},apply:function(O){return new D.Point(O(this.x),O(this.y))},equals:function(O){return O instanceof D.Point&&this.x===O.x&&this.y===O.y},rotate:function(O,z){z=z||new D.Point(0,0);var F,Y;if(O%90===0){var W=D.positiveModulo(O,360);switch(W){case 0:F=1,Y=0;break;case 90:F=0,Y=1;break;case 180:F=-1,Y=0;break;case 270:F=0,Y=-1;break}}else{var q=O*Math.PI/180;F=Math.cos(q),Y=Math.sin(q)}var X=F*(this.x-z.x)-Y*(this.y-z.y)+z.x,tt=Y*(this.x-z.x)+F*(this.y-z.y)+z.y;return new D.Point(X,tt)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(OpenSeadragon),function(D){D.TileSource=function(z,F,Y,W,q,X){var tt=this,nt=arguments,st,ct;if(D.isPlainObject(z)?st=z:st={width:nt[0],height:nt[1],tileSize:nt[2],tileOverlap:nt[3],minLevel:nt[4],maxLevel:nt[5]},D.EventSource.call(this),D.extend(!0,this,st),!this.success){for(ct=0;ct<arguments.length;ct++)if(D.isFunction(arguments[ct])){this.success=arguments[ct];break}}this.success&&this.addHandler("ready",function(lt){tt.success(lt)}),D.type(arguments[0])=="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new D.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=st.width&&st.height?st.width/st.height:1,this.dimensions=new D.Point(st.width,st.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=st.tileOverlap?st.tileOverlap:0,this.minLevel=st.minLevel?st.minLevel:0,this.maxLevel=st.maxLevel!==void 0&&st.maxLevel!==null?st.maxLevel:st.width&&st.height?Math.ceil(Math.log(Math.max(st.width,st.height))/Math.log(2)):0,this.success&&D.isFunction(this.success)&&this.success(this))},D.TileSource.prototype={getTileSize:function(z){return D.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(z){return this._tileWidth?this._tileWidth:this.getTileSize(z)},getTileHeight:function(z){return this._tileHeight?this._tileHeight:this.getTileSize(z)},getLevelScale:function(z){var F={},Y;for(Y=0;Y<=this.maxLevel;Y++)F[Y]=1/Math.pow(2,this.maxLevel-Y);return this.getLevelScale=function(W){return F[W]},this.getLevelScale(z)},getNumTiles:function(z){var F=this.getLevelScale(z),Y=Math.ceil(F*this.dimensions.x/this.getTileWidth(z)),W=Math.ceil(F*this.dimensions.y/this.getTileHeight(z));return new D.Point(Y,W)},getPixelRatio:function(z){var F=this.dimensions.times(this.getLevelScale(z)),Y=1/F.x,W=1/F.y;return new D.Point(Y,W)},getClosestLevel:function(){var z,F;for(z=this.minLevel+1;z<=this.maxLevel&&(F=this.getNumTiles(z),!(F.x>1||F.y>1));z++);return z-1},getTileAtPoint:function(z,F){var Y=F.x>=0&&F.x<=1&&F.y>=0&&F.y<=1/this.aspectRatio;D.console.assert(Y,"[TileSource.getTileAtPoint] must be called with a valid point.");var W=this.dimensions.x*this.getLevelScale(z),q=F.x*W,X=F.y*W,tt=Math.floor(q/this.getTileWidth(z)),nt=Math.floor(X/this.getTileHeight(z));F.x>=1&&(tt=this.getNumTiles(z).x-1);var st=1e-15;return F.y>=1/this.aspectRatio-st&&(nt=this.getNumTiles(z).y-1),new D.Point(tt,nt)},getTileBounds:function(z,F,Y,W){var q=this.dimensions.times(this.getLevelScale(z)),X=this.getTileWidth(z),tt=this.getTileHeight(z),nt=F===0?0:X*F-this.tileOverlap,st=Y===0?0:tt*Y-this.tileOverlap,ct=X+(F===0?1:2)*this.tileOverlap,lt=tt+(Y===0?1:2)*this.tileOverlap,ht=1/q.x;return ct=Math.min(ct,q.x-nt),lt=Math.min(lt,q.y-st),W?new D.Rect(0,0,ct,lt):new D.Rect(nt*ht,st*ht,ct*ht,lt*ht)},getImageInfo:function(z){var F=this,Y,W,q,X,tt,nt,st;z&&(tt=z.split("/"),nt=tt[tt.length-1],st=nt.lastIndexOf("."),st>-1&&(tt[tt.length-1]=nt.slice(0,st))),W=function(ct){typeof ct=="string"&&(ct=D.parseXml(ct));var lt=D.TileSource.determineType(F,ct,z);if(!lt){F.raiseEvent("open-failed",{message:"Unable to load TileSource",source:z});return}X=lt.prototype.configure.apply(F,[ct,z]),X.ajaxWithCredentials===void 0&&(X.ajaxWithCredentials=F.ajaxWithCredentials),q=new lt(X),F.ready=!0,F.raiseEvent("ready",{tileSource:q})},z.match(/\.js$/)?(Y=z.split("/").pop().replace(".js",""),D.jsonp({url:z,async:!1,callbackName:Y,callback:W})):D.makeAjaxRequest({url:z,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(ct){var lt=O(ct);W(lt)},error:function(ct,lt){var ht;try{ht="HTTP "+ct.status+" attempting to load TileSource"}catch{var bt;typeof lt>"u"||!lt.toString?bt="Unknown error":bt=lt.toString(),ht=bt+" attempting to load TileSource"}F.raiseEvent("open-failed",{message:ht,source:z})}})},supports:function(z,F){return!1},configure:function(z,F){throw new Error("Method not implemented.")},getTileUrl:function(z,F,Y){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(z,F,Y){return{}},tileExists:function(z,F,Y){var W=this.getNumTiles(z);return z>=this.minLevel&&z<=this.maxLevel&&F>=0&&Y>=0&&F<W.x&&Y<W.y}},D.extend(!0,D.TileSource.prototype,D.EventSource.prototype);function O(z){var F=z.responseText,Y=z.status,W,q;if(z){if(z.status!==200&&z.status!==0)throw Y=z.status,W=Y==404?"Not Found":z.statusText,new Error(D.getString("Errors.Status",Y,W))}else throw new Error(D.getString("Errors.Security"));if(F.match(/\s*<.*/))try{q=z.responseXML&&z.responseXML.documentElement?z.responseXML:D.parseXml(F)}catch{q=z.responseText}else if(F.match(/\s*[\{\[].*/))try{q=D.parseJSON(F)}catch{q=F}else q=F;return q}D.TileSource.determineType=function(z,F,Y){var W;for(W in OpenSeadragon)if(W.match(/.+TileSource$/)&&D.isFunction(OpenSeadragon[W])&&D.isFunction(OpenSeadragon[W].prototype.supports)&&OpenSeadragon[W].prototype.supports.call(z,F,Y))return OpenSeadragon[W];D.console.error("No TileSource was able to open %s %s",Y,F)}}(OpenSeadragon),function(D){D.DziTileSource=function(F,Y,W,q,X,tt,nt,st,ct){var lt,ht,bt,wt;if(D.isPlainObject(F)?wt=F:wt={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=wt.tilesUrl,this.fileFormat=wt.fileFormat,this.displayRects=wt.displayRects,this.displayRects)for(lt=this.displayRects.length-1;lt>=0;lt--)for(ht=this.displayRects[lt],bt=ht.minLevel;bt<=ht.maxLevel;bt++)this._levelRects[bt]||(this._levelRects[bt]=[]),this._levelRects[bt].push(ht);D.TileSource.apply(this,[wt])},D.extend(D.DziTileSource.prototype,D.TileSource.prototype,{supports:function(F,Y){var W;return F.Image?W=F.Image.xmlns:F.documentElement&&(F.documentElement.localName=="Image"||F.documentElement.tagName=="Image")&&(W=F.documentElement.namespaceURI),W=(W||"").toLowerCase(),W.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||W.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(F,Y){var W;return D.isPlainObject(F)?W=z(this,F):W=O(this,F),Y&&!W.tilesUrl&&(W.tilesUrl=Y.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),Y.search(/\.(dzi|xml|js)\?/)!=-1?W.queryParams=Y.match(/\?.*/):W.queryParams=""),W},getTileUrl:function(F,Y,W){return[this.tilesUrl,F,"/",Y,"_",W,".",this.fileFormat,this.queryParams].join("")},tileExists:function(F,Y,W){var q=this._levelRects[F],X,tt,nt,st,ct,lt,ht;if(this.minLevel&&F<this.minLevel||this.maxLevel&&F>this.maxLevel)return!1;if(!q||!q.length)return!0;for(ht=q.length-1;ht>=0;ht--)if(X=q[ht],!(F<X.minLevel||F>X.maxLevel)&&(tt=this.getLevelScale(F),nt=X.x*tt,st=X.y*tt,ct=nt+X.width*tt,lt=st+X.height*tt,nt=Math.floor(nt/this._tileWidth),st=Math.floor(st/this._tileWidth),ct=Math.ceil(ct/this._tileWidth),lt=Math.ceil(lt/this._tileWidth),nt<=Y&&Y<ct&&st<=W&&W<lt))return!0;return!1}});function O(F,Y){if(!Y||!Y.documentElement)throw new Error(D.getString("Errors.Xml"));var W=Y.documentElement,q=W.localName||W.tagName,X=Y.documentElement.namespaceURI,tt=null,nt=[],st,ct,lt,ht,bt;if(q=="Image")try{if(ht=W.getElementsByTagName("Size")[0],ht===void 0&&(ht=W.getElementsByTagNameNS(X,"Size")[0]),tt={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:W.getAttribute("Url"),Format:W.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(W.getAttribute("Overlap"),10),TileSize:parseInt(W.getAttribute("TileSize"),10),Size:{Height:parseInt(ht.getAttribute("Height"),10),Width:parseInt(ht.getAttribute("Width"),10)}}},!D.imageFormatSupported(tt.Image.Format))throw new Error(D.getString("Errors.ImageFormat",tt.Image.Format.toUpperCase()));for(st=W.getElementsByTagName("DisplayRect"),st===void 0&&(st=W.getElementsByTagNameNS(X,"DisplayRect")[0]),bt=0;bt<st.length;bt++)ct=st[bt],lt=ct.getElementsByTagName("Rect")[0],lt===void 0&&(lt=ct.getElementsByTagNameNS(X,"Rect")[0]),nt.push({Rect:{X:parseInt(lt.getAttribute("X"),10),Y:parseInt(lt.getAttribute("Y"),10),Width:parseInt(lt.getAttribute("Width"),10),Height:parseInt(lt.getAttribute("Height"),10),MinLevel:parseInt(ct.getAttribute("MinLevel"),10),MaxLevel:parseInt(ct.getAttribute("MaxLevel"),10)}});return nt.length&&(tt.Image.DisplayRect=nt),z(F,tt)}catch(_t){throw _t instanceof Error?_t:new Error(D.getString("Errors.Dzi"))}else{if(q=="Collection")throw new Error(D.getString("Errors.Dzc"));if(q=="Error"){var wt=W.getElementsByTagName("Message")[0],mt=wt.firstChild.nodeValue;throw new Error(mt)}}throw new Error(D.getString("Errors.Dzi"))}function z(F,Y){var W=Y.Image,q=W.Url,X=W.Format,tt=W.Size,nt=W.DisplayRect||[],st=parseInt(tt.Width,10),ct=parseInt(tt.Height,10),lt=parseInt(W.TileSize,10),ht=parseInt(W.Overlap,10),bt=[],wt,mt;for(mt=0;mt<nt.length;mt++)wt=nt[mt].Rect,bt.push(new D.DisplayRect(parseInt(wt.X,10),parseInt(wt.Y,10),parseInt(wt.Width,10),parseInt(wt.Height,10),parseInt(wt.MinLevel,10),parseInt(wt.MaxLevel,10)));return D.extend(!0,{width:st,height:ct,tileSize:lt,tileOverlap:ht,minLevel:null,maxLevel:null,tilesUrl:q,fileFormat:X,displayRects:bt},Y)}}(OpenSeadragon),function(D){D.IIIFTileSource=function(W){if(D.extend(!0,this,W),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(W.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=W.version,this.tile_width&&this.tile_height)W.tileWidth=this.tile_width,W.tileHeight=this.tile_height;else if(this.tile_width)W.tileSize=this.tile_width;else if(this.tile_height)W.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length==1)W.tileWidth=this.tiles[0].width,W.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var q=0;q<this.tiles.length;q++)for(var X=0;X<this.tiles[q].scaleFactors.length;X++){var tt=this.tiles[q].scaleFactors[X];this.scale_factors.push(tt),W.tileSizePerScaleFactor[tt]={width:this.tiles[q].width,height:this.tiles[q].height||this.tiles[q].width}}}else if(O(W)){for(var nt=Math.min(this.height,this.width),st=[256,512,1024],ct=[],lt=0;lt<st.length;lt++)st[lt]<=nt&&ct.push(st[lt]);ct.length>0?W.tileSize=Math.max.apply(null,ct):W.tileSize=nt}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,W.levels=z(this),D.extend(!0,W,{width:W.levels[W.levels.length-1].width,height:W.levels[W.levels.length-1].height,tileSize:Math.max(W.height,W.width),tileOverlap:0,minLevel:0,maxLevel:W.levels.length-1}),this.levels=W.levels):D.console.error("Nothing in the info.json to construct image pyramids from");if(!W.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)W.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var ht=Math.max.apply(null,this.scale_factors);W.maxLevel=Math.round(Math.log(ht)*Math.LOG2E)}D.TileSource.apply(this,[W])},D.extend(D.IIIFTileSource.prototype,D.TileSource.prototype,{supports:function(W,q){return W.protocol&&W.protocol=="http://iiif.io/api/image"||W["@context"]&&(W["@context"]=="http://library.stanford.edu/iiif/image-api/1.1/context.json"||W["@context"]=="http://iiif.io/api/image/1/context.json")||W.profile&&W.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||W.identifier&&W.width&&W.height?!0:!!(W.documentElement&&W.documentElement.tagName=="info"&&W.documentElement.namespaceURI=="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(W,q){if(D.isPlainObject(W)){if(!W["@context"])W["@context"]="http://iiif.io/api/image/1.0/context.json",W["@id"]=q.replace("/info.json",""),W.version=1;else{var tt=W["@context"];if(Array.isArray(tt)){for(var nt=0;nt<tt.length;nt++)if(typeof tt[nt]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(tt[nt])||tt[nt]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){tt=tt[nt];break}}switch(tt){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":W.version=1;break;case"http://iiif.io/api/image/2/context.json":W.version=2;break;case"http://iiif.io/api/image/3/context.json":W.version=3;break;default:D.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!W["@id"]&&W.id&&(W["@id"]=W.id),W.preferredFormats){for(var st=0;st<W.preferredFormats.length;st++)if(OpenSeadragon.imageFormatSupported(W.preferredFormats[st])){W.tileFormat=W.preferredFormats[st];break}}return W}else{var X=F(W);return X["@context"]="http://iiif.io/api/image/1.0/context.json",X["@id"]=q.replace("/info.xml",""),X.version=1,X}},getTileWidth:function(W){if(this.emulateLegacyImagePyramid)return D.TileSource.prototype.getTileWidth.call(this,W);var q=Math.pow(2,this.maxLevel-W);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[q]?this.tileSizePerScaleFactor[q].width:this._tileWidth},getTileHeight:function(W){if(this.emulateLegacyImagePyramid)return D.TileSource.prototype.getTileHeight.call(this,W);var q=Math.pow(2,this.maxLevel-W);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[q]?this.tileSizePerScaleFactor[q].height:this._tileHeight},getLevelScale:function(W){if(this.emulateLegacyImagePyramid){var q=NaN;return this.levels.length>0&&W>=this.minLevel&&W<=this.maxLevel&&(q=this.levels[W].width/this.levels[this.maxLevel].width),q}return D.TileSource.prototype.getLevelScale.call(this,W)},getNumTiles:function(W){if(this.emulateLegacyImagePyramid){var q=this.getLevelScale(W);return q?new D.Point(1,1):new D.Point(0,0)}return D.TileSource.prototype.getNumTiles.call(this,W)},getTileAtPoint:function(W,q){return this.emulateLegacyImagePyramid?new D.Point(0,0):D.TileSource.prototype.getTileAtPoint.call(this,W,q)},getTileUrl:function(W,q,X){if(this.emulateLegacyImagePyramid){var tt=null;return this.levels.length>0&&W>=this.minLevel&&W<=this.maxLevel&&(tt=this.levels[W].url),tt}var nt="0",st=Math.pow(.5,this.maxLevel-W),ct=Math.ceil(this.width*st),lt=Math.ceil(this.height*st),ht,bt,wt,mt,_t,Et,At,Ct,Ft,Lt,Yt,Ht,qt,te;return ht=this.getTileWidth(W),bt=this.getTileHeight(W),wt=Math.ceil(ht/st),mt=Math.ceil(bt/st),this.version===1?qt="native."+this.tileFormat:qt="default."+this.tileFormat,ct<ht&&lt<bt?(this.version===2&&ct===this.width||this.version===3&&ct===this.width&&lt===this.height?Lt="max":this.version===3?Lt=ct+","+lt:Lt=ct+",",_t="full"):(Et=q*wt,At=X*mt,Ct=Math.min(wt,this.width-Et),Ft=Math.min(mt,this.height-At),q===0&&X===0&&Ct===this.width&&Ft===this.height?_t="full":_t=[Et,At,Ct,Ft].join(","),Yt=Math.ceil(Ct*st),Ht=Math.ceil(Ft*st),this.version===2&&Yt===this.width||this.version===3&&Yt===this.width&&Ht===this.height?Lt="max":this.version===3?Lt=Yt+","+Ht:Lt=Yt+","),te=[this["@id"],_t,Lt,nt,qt].join("/"),te},__testonly__:{canBeTiled:O,constructLevels:z}});function O(W){var q=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],X=Array.isArray(W.profile)?W.profile[0]:W.profile,tt=q.indexOf(X)!==-1,nt=!1;return W.version===2&&W.profile.length>1&&W.profile[1].supports&&(nt=W.profile[1].supports.indexOf("sizeByW")!==-1),W.version===3&&W.extraFeatures&&(nt=W.extraFeatures.indexOf("sizeByWh")!==-1),!tt||nt}function z(W){for(var q=[],X=0;X<W.sizes.length;X++)q.push({url:W["@id"]+"/full/"+W.sizes[X].width+","+(W.version===3?W.sizes[X].height:"")+"/0/default."+W.tileFormat,width:W.sizes[X].width,height:W.sizes[X].height});return q.sort(function(tt,nt){return tt.width-nt.width})}function F(W){if(!W||!W.documentElement)throw new Error(D.getString("Errors.Xml"));var q=W.documentElement,X=q.tagName,tt=null;if(X=="info")try{return tt={},Y(q,tt),tt}catch(nt){throw nt instanceof Error?nt:new Error(D.getString("Errors.IIIF"))}throw new Error(D.getString("Errors.IIIF"))}function Y(W,q,X){var tt,nt;if(W.nodeType==3&&X)nt=W.nodeValue.trim(),nt.match(/^\d*$/)&&(nt=Number(nt)),q[X]?(D.isArray(q[X])||(q[X]=[q[X]]),q[X].push(nt)):q[X]=nt;else if(W.nodeType==1)for(tt=0;tt<W.childNodes.length;tt++)Y(W.childNodes[tt],q,W.nodeName)}}(OpenSeadragon),function(D){D.OsmTileSource=function(O,z,F,Y,W){var q;D.isPlainObject(O)?q=O:q={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!q.width||!q.height)&&(q.width=65572864,q.height=65572864),q.tileSize||(q.tileSize=256,q.tileOverlap=0),q.tilesUrl||(q.tilesUrl="http://tile.openstreetmap.org/"),q.minLevel=8,D.TileSource.apply(this,[q])},D.extend(D.OsmTileSource.prototype,D.TileSource.prototype,{supports:function(O,z){return O.type&&O.type=="openstreetmaps"},configure:function(O,z){return O},getTileUrl:function(O,z,F){return this.tilesUrl+(O-8)+"/"+z+"/"+F+".png"}})}(OpenSeadragon),function(D){D.TmsTileSource=function(O,z,F,Y,W){var q;D.isPlainObject(O)?q=O:q={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var X=Math.ceil(q.width/256)*256,tt=Math.ceil(q.height/256)*256,nt;X>tt?nt=X/256:nt=tt/256,q.maxLevel=Math.ceil(Math.log(nt)/Math.log(2))-1,q.tileSize=256,q.width=X,q.height=tt,D.TileSource.apply(this,[q])},D.extend(D.TmsTileSource.prototype,D.TileSource.prototype,{supports:function(O,z){return O.type&&O.type=="tiledmapservice"},configure:function(O,z){return O},getTileUrl:function(O,z,F){var Y=this.getNumTiles(O).y-1;return this.tilesUrl+O+"/"+z+"/"+(Y-F)+".png"}})}(OpenSeadragon),function(D){D.ZoomifyTileSource=function(O){O.tileSize=256;var z={x:O.width,y:O.height};for(O.imageSizes=[{x:O.width,y:O.height}],O.gridSize=[this._getGridSize(O.width,O.height,O.tileSize)];parseInt(z.x,10)>O.tileSize||parseInt(z.y,10)>O.tileSize;)z.x=Math.floor(z.x/2),z.y=Math.floor(z.y/2),O.imageSizes.push({x:z.x,y:z.y}),O.gridSize.push(this._getGridSize(z.x,z.y,O.tileSize));O.imageSizes.reverse(),O.gridSize.reverse(),O.minLevel=0,O.maxLevel=O.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[O])},D.extend(D.ZoomifyTileSource.prototype,D.TileSource.prototype,{_getGridSize:function(O,z,F){return{x:Math.ceil(O/F),y:Math.ceil(z/F)}},_calculateAbsoluteTileNumber:function(O,z,F){for(var Y=0,W={},q=0;q<O;q++)W=this.gridSize[q],Y+=W.x*W.y;return W=this.gridSize[O],Y+=W.x*F+z,Y},supports:function(O,z){return O.type&&O.type=="zoomifytileservice"},configure:function(O,z){return O},getTileUrl:function(O,z,F){var Y=0,W=this._calculateAbsoluteTileNumber(O,z,F);return Y=Math.floor(W/256),this.tilesUrl+"TileGroup"+Y+"/"+O+"-"+z+"-"+F+".jpg"}})}(OpenSeadragon),function(D){D.LegacyTileSource=function(Y){var W,q,X;D.isArray(Y)&&(W={type:"legacy-image-pyramid",levels:Y}),W.levels=O(W.levels),W.levels.length>0?(q=W.levels[W.levels.length-1].width,X=W.levels[W.levels.length-1].height):(q=0,X=0,D.console.error("No supported image formats found")),D.extend(!0,W,{width:q,height:X,tileSize:Math.max(X,q),tileOverlap:0,minLevel:0,maxLevel:W.levels.length>0?W.levels.length-1:0}),D.TileSource.apply(this,[W]),this.levels=W.levels},D.extend(D.LegacyTileSource.prototype,D.TileSource.prototype,{supports:function(Y,W){return Y.type&&Y.type=="legacy-image-pyramid"||Y.documentElement&&Y.documentElement.getAttribute("type")=="legacy-image-pyramid"},configure:function(Y,W){var q;return D.isPlainObject(Y)?q=F(this,Y):q=z(this,Y),q},getLevelScale:function(Y){var W=NaN;return this.levels.length>0&&Y>=this.minLevel&&Y<=this.maxLevel&&(W=this.levels[Y].width/this.levels[this.maxLevel].width),W},getNumTiles:function(Y){var W=this.getLevelScale(Y);return W?new D.Point(1,1):new D.Point(0,0)},getTileUrl:function(Y,W,q){var X=null;return this.levels.length>0&&Y>=this.minLevel&&Y<=this.maxLevel&&(X=this.levels[Y].url),X}});function O(Y){var W=[],q,X;for(X=0;X<Y.length;X++)q=Y[X],q.height&&q.width&&q.url?W.push({url:q.url,width:Number(q.width),height:Number(q.height)}):D.console.error("Unsupported image format: %s",q.url?q.url:"<no URL>");return W.sort(function(tt,nt){return tt.height-nt.height})}function z(Y,W){if(!W||!W.documentElement)throw new Error(D.getString("Errors.Xml"));var q=W.documentElement,X=q.tagName,tt=null,nt=[],st,ct;if(X=="image")try{for(tt={type:q.getAttribute("type"),levels:[]},nt=q.getElementsByTagName("level"),ct=0;ct<nt.length;ct++)st=nt[ct],tt.levels.push({url:st.getAttribute("url"),width:parseInt(st.getAttribute("width"),10),height:parseInt(st.getAttribute("height"),10)});return F(Y,tt)}catch(lt){throw lt instanceof Error?lt:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(X=="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(X=="error")throw new Error("Error: "+W)}throw new Error("Unknown element "+X)}function F(Y,W){return W.levels}}(OpenSeadragon),function(D){D.ImageTileSource=function(O){O=D.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},O),D.TileSource.apply(this,[O])},D.extend(D.ImageTileSource.prototype,D.TileSource.prototype,{supports:function(O,z){return O.type&&O.type==="image"},configure:function(O,z){return O},getImageInfo:function(O){var z=this._image=new Image,F=this;this.crossOriginPolicy&&(z.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(z.useCredentials=this.ajaxWithCredentials),D.addEvent(z,"load",function(){F.width=Object.prototype.hasOwnProperty.call(z,"naturalWidth")?z.naturalWidth:z.width,F.height=Object.prototype.hasOwnProperty.call(z,"naturalHeight")?z.naturalHeight:z.height,F.aspectRatio=F.width/F.height,F.dimensions=new D.Point(F.width,F.height),F._tileWidth=F.width,F._tileHeight=F.height,F.tileOverlap=0,F.minLevel=0,F.levels=F._buildLevels(),F.maxLevel=F.levels.length-1,F.ready=!0,F.raiseEvent("ready",{tileSource:F})}),D.addEvent(z,"error",function(){F.raiseEvent("open-failed",{message:"Error loading image at "+O,source:O})}),z.src=O},getLevelScale:function(O){var z=NaN;return O>=this.minLevel&&O<=this.maxLevel&&(z=this.levels[O].width/this.levels[this.maxLevel].width),z},getNumTiles:function(O){var z=this.getLevelScale(O);return z?new D.Point(1,1):new D.Point(0,0)},getTileUrl:function(O,z,F){var Y=null;return O>=this.minLevel&&O<=this.maxLevel&&(Y=this.levels[O].url),Y},getContext2D:function(O,z,F){var Y=null;return O>=this.minLevel&&O<=this.maxLevel&&(Y=this.levels[O].context2D),Y},_buildLevels:function(){var O=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!D.supportsCanvas||!this.useCanvas)return delete this._image,O;var z=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,F=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,Y=document.createElement("canvas"),W=Y.getContext("2d");if(Y.width=z,Y.height=F,W.drawImage(this._image,0,0,z,F),O[0].context2D=W,delete this._image,D.isCanvasTainted(Y))return O;for(;z>=2&&F>=2;){z=Math.floor(z/2),F=Math.floor(F/2);var q=document.createElement("canvas"),X=q.getContext("2d");q.width=z,q.height=F,X.drawImage(Y,0,0,z,F),O.splice(0,0,{context2D:X,width:z,height:F}),Y=q,W=X}return O}})}(OpenSeadragon),function(D){D.TileSourceCollection=function(O,z,F,Y){D.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(D){D.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},D.Button=function(X){var tt=this;D.EventSource.call(this),D.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:D.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:D.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},X),this.element=X.element||D.makeNeutralElement("div"),X.element||(this.imgRest=D.makeTransparentImage(this.srcRest),this.imgGroup=D.makeTransparentImage(this.srcGroup),this.imgHover=D.makeTransparentImage(this.srcHover),this.imgDown=D.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",D.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",D.Browser.vendor==D.BROWSERS.FIREFOX&&D.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=D.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new D.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(nt){nt.insideElementPressed?(W(tt,D.ButtonState.DOWN),tt.raiseEvent("enter",{originalEvent:nt.originalEvent})):nt.buttonDownAny||W(tt,D.ButtonState.HOVER)},focusHandler:function(nt){this.enterHandler(nt),tt.raiseEvent("focus",{originalEvent:nt.originalEvent})},exitHandler:function(nt){q(tt,D.ButtonState.GROUP),nt.insideElementPressed&&tt.raiseEvent("exit",{originalEvent:nt.originalEvent})},blurHandler:function(nt){this.exitHandler(nt),tt.raiseEvent("blur",{originalEvent:nt.originalEvent})},pressHandler:function(nt){W(tt,D.ButtonState.DOWN),tt.raiseEvent("press",{originalEvent:nt.originalEvent})},releaseHandler:function(nt){nt.insideElementPressed&&nt.insideElementReleased?(q(tt,D.ButtonState.HOVER),tt.raiseEvent("release",{originalEvent:nt.originalEvent})):nt.insideElementPressed?q(tt,D.ButtonState.GROUP):W(tt,D.ButtonState.HOVER)},clickHandler:function(nt){nt.quick&&tt.raiseEvent("click",{originalEvent:nt.originalEvent})},keyHandler:function(nt){return nt.keyCode===13?(tt.raiseEvent("click",{originalEvent:nt.originalEvent}),tt.raiseEvent("release",{originalEvent:nt.originalEvent}),!1):!0}}),q(this,D.ButtonState.REST)},D.extend(D.Button.prototype,D.EventSource.prototype,{notifyGroupEnter:function(){W(this,D.ButtonState.GROUP)},notifyGroupExit:function(){q(this,D.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,D.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,D.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}});function O(X){D.requestAnimationFrame(function(){z(X)})}function z(X){var tt,nt,st;X.shouldFade&&(tt=D.now(),nt=tt-X.fadeBeginTime,st=1-nt/X.fadeLength,st=Math.min(1,st),st=Math.max(0,st),X.imgGroup&&D.setElementOpacity(X.imgGroup,st,!0),st>0&&O(X))}function F(X){X.shouldFade=!0,X.fadeBeginTime=D.now()+X.fadeDelay,window.setTimeout(function(){O(X)},X.fadeDelay)}function Y(X){X.shouldFade=!1,X.imgGroup&&D.setElementOpacity(X.imgGroup,1,!0)}function W(X,tt){X.element.disabled||(tt>=D.ButtonState.GROUP&&X.currentState==D.ButtonState.REST&&(Y(X),X.currentState=D.ButtonState.GROUP),tt>=D.ButtonState.HOVER&&X.currentState==D.ButtonState.GROUP&&(X.imgHover&&(X.imgHover.style.visibility=""),X.currentState=D.ButtonState.HOVER),tt>=D.ButtonState.DOWN&&X.currentState==D.ButtonState.HOVER&&(X.imgDown&&(X.imgDown.style.visibility=""),X.currentState=D.ButtonState.DOWN))}function q(X,tt){X.element.disabled||(tt<=D.ButtonState.HOVER&&X.currentState==D.ButtonState.DOWN&&(X.imgDown&&(X.imgDown.style.visibility="hidden"),X.currentState=D.ButtonState.HOVER),tt<=D.ButtonState.GROUP&&X.currentState==D.ButtonState.HOVER&&(X.imgHover&&(X.imgHover.style.visibility="hidden"),X.currentState=D.ButtonState.GROUP),tt<=D.ButtonState.REST&&X.currentState==D.ButtonState.GROUP&&(F(X),X.currentState=D.ButtonState.REST))}}(OpenSeadragon),function(D){D.ButtonGroup=function(O){D.extend(!0,this,{buttons:[],clickTimeThreshold:D.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:D.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},O);var z=this.buttons.concat([]),F=this,Y;if(this.element=O.element||D.makeNeutralElement("div"),!O.group)for(this.element.style.display="inline-block",Y=0;Y<z.length;Y++)this.element.appendChild(z[Y].element);D.setElementTouchActionNone(this.element),this.tracker=new D.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(W){var q;for(q=0;q<F.buttons.length;q++)F.buttons[q].notifyGroupEnter()},exitHandler:function(W){var q;if(!W.insideElementPressed)for(q=0;q<F.buttons.length;q++)F.buttons[q].notifyGroupExit()}})},D.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(D){D.Rect=function(O,z,F,Y,W){this.x=typeof O=="number"?O:0,this.y=typeof z=="number"?z:0,this.width=typeof F=="number"?F:0,this.height=typeof Y=="number"?Y:0,this.degrees=typeof W=="number"?W:0,this.degrees=D.positiveModulo(this.degrees,360);var q,X;this.degrees>=270?(q=this.getTopRight(),this.x=q.x,this.y=q.y,X=this.height,this.height=this.width,this.width=X,this.degrees-=270):this.degrees>=180?(q=this.getBottomRight(),this.x=q.x,this.y=q.y,this.degrees-=180):this.degrees>=90&&(q=this.getBottomLeft(),this.x=q.x,this.y=q.y,X=this.height,this.height=this.width,this.width=X,this.degrees-=90)},D.Rect.fromSummits=function(O,z,F){var Y=O.distanceTo(z),W=O.distanceTo(F),q=z.minus(O),X=Math.atan(q.y/q.x);return q.x<0?X+=Math.PI:q.y<0&&(X+=2*Math.PI),new D.Rect(O.x,O.y,Y,W,X/Math.PI*180)},D.Rect.prototype={clone:function(){return new D.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new D.Point(this.x,this.y)},getBottomRight:function(){return new D.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new D.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new D.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new D.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new D.Point(this.width,this.height)},equals:function(O){return O instanceof D.Rect&&this.x===O.x&&this.y===O.y&&this.width===O.width&&this.height===O.height&&this.degrees===O.degrees},times:function(O){return new D.Rect(this.x*O,this.y*O,this.width*O,this.height*O,this.degrees)},translate:function(O){return new D.Rect(this.x+O.x,this.y+O.y,this.width,this.height,this.degrees)},union:function(O){var z=this.getBoundingBox(),F=O.getBoundingBox(),Y=Math.min(z.x,F.x),W=Math.min(z.y,F.y),q=Math.max(z.x+z.width,F.x+F.width),X=Math.max(z.y+z.height,F.y+F.height);return new D.Rect(Y,W,q-Y,X-W)},intersection:function(O){var z=1e-10,F=[],Y=this.getTopLeft();O.containsPoint(Y,z)&&F.push(Y);var W=this.getTopRight();O.containsPoint(W,z)&&F.push(W);var q=this.getBottomLeft();O.containsPoint(q,z)&&F.push(q);var X=this.getBottomRight();O.containsPoint(X,z)&&F.push(X);var tt=O.getTopLeft();this.containsPoint(tt,z)&&F.push(tt);var nt=O.getTopRight();this.containsPoint(nt,z)&&F.push(nt);var st=O.getBottomLeft();this.containsPoint(st,z)&&F.push(st);var ct=O.getBottomRight();this.containsPoint(ct,z)&&F.push(ct);for(var lt=this._getSegments(),ht=O._getSegments(),bt=0;bt<lt.length;bt++)for(var wt=lt[bt],mt=0;mt<ht.length;mt++){var _t=ht[mt],Et=At(wt[0],wt[1],_t[0],_t[1]);Et&&F.push(Et)}function At(te,Xt,Dt,Qt){var Nt=Xt.minus(te),ce=Qt.minus(Dt),Pt=-ce.x*Nt.y+Nt.x*ce.y;if(Pt===0)return null;var de=(Nt.x*(te.y-Dt.y)-Nt.y*(te.x-Dt.x))/Pt,ye=(ce.x*(te.y-Dt.y)-ce.y*(te.x-Dt.x))/Pt;return-z<=de&&de<=1-z&&-z<=ye&&ye<=1-z?new D.Point(te.x+ye*Nt.x,te.y+ye*Nt.y):null}if(F.length===0)return null;for(var Ct=F[0].x,Ft=F[0].x,Lt=F[0].y,Yt=F[0].y,Ht=1;Ht<F.length;Ht++){var qt=F[Ht];qt.x<Ct&&(Ct=qt.x),qt.x>Ft&&(Ft=qt.x),qt.y<Lt&&(Lt=qt.y),qt.y>Yt&&(Yt=qt.y)}return new D.Rect(Ct,Lt,Ft-Ct,Yt-Lt)},_getSegments:function(){var O=this.getTopLeft(),z=this.getTopRight(),F=this.getBottomLeft(),Y=this.getBottomRight();return[[O,z],[z,Y],[Y,F],[F,O]]},rotate:function(O,z){if(O=D.positiveModulo(O,360),O===0)return this.clone();z=z||this.getCenter();var F=this.getTopLeft().rotate(O,z),Y=this.getTopRight().rotate(O,z),W=Y.minus(F);W=W.apply(function(X){var tt=1e-15;return Math.abs(X)<tt?0:X});var q=Math.atan(W.y/W.x);return W.x<0?q+=Math.PI:W.y<0&&(q+=2*Math.PI),new D.Rect(F.x,F.y,this.width,this.height,q/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var O=this.getTopLeft(),z=this.getTopRight(),F=this.getBottomLeft(),Y=this.getBottomRight(),W=Math.min(O.x,z.x,F.x,Y.x),q=Math.max(O.x,z.x,F.x,Y.x),X=Math.min(O.y,z.y,F.y,Y.y),tt=Math.max(O.y,z.y,F.y,Y.y);return new D.Rect(W,X,q-W,tt-X)},getIntegerBoundingBox:function(){var O=this.getBoundingBox(),z=Math.floor(O.x),F=Math.floor(O.y),Y=Math.ceil(O.width+O.x-z),W=Math.ceil(O.height+O.y-F);return new D.Rect(z,F,Y,W)},containsPoint:function(O,z){z=z||0;var F=this.getTopLeft(),Y=this.getTopRight(),W=this.getBottomLeft(),q=Y.minus(F),X=W.minus(F);return(O.x-F.x)*q.x+(O.y-F.y)*q.y>=-z&&(O.x-Y.x)*q.x+(O.y-Y.y)*q.y<=z&&(O.x-F.x)*X.x+(O.y-F.y)*X.y>=-z&&(O.x-W.x)*X.x+(O.y-W.y)*X.y<=z},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(OpenSeadragon),function(D){var O={};D.ReferenceStrip=function(nt){var st=this,ct=nt.viewer,lt=D.getElementSize(ct.element),ht,bt,wt;for(nt.id||(nt.id="referencestrip-"+D.now(),this.element=D.makeNeutralElement("div"),this.element.id=nt.id,this.element.className="referencestrip"),nt=D.extend(!0,{sizeRatio:D.DEFAULT_SETTINGS.referenceStripSizeRatio,position:D.DEFAULT_SETTINGS.referenceStripPosition,scroll:D.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:D.DEFAULT_SETTINGS.clickTimeThreshold},nt,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),D.extend(this,nt),O[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,bt=this.element.style,bt.marginTop="0px",bt.marginRight="0px",bt.marginBottom="0px",bt.marginLeft="0px",bt.left="0px",bt.bottom="0px",bt.border="0px",bt.background="#000",bt.position="relative",D.setElementTouchActionNone(this.element),D.setElementOpacity(this.element,.8),this.viewer=ct,this.innerTracker=new D.MouseTracker({element:this.element,dragHandler:D.delegate(this,z),scrollHandler:D.delegate(this,F),enterHandler:D.delegate(this,W),exitHandler:D.delegate(this,q),keyDownHandler:D.delegate(this,X),keyHandler:D.delegate(this,tt)}),nt.width&&nt.height?(this.element.style.width=nt.width+"px",this.element.style.height=nt.height+"px",ct.addControl(this.element,{anchor:D.ControlAnchor.BOTTOM_LEFT})):nt.scroll=="horizontal"?(this.element.style.width=lt.x*nt.sizeRatio*ct.tileSources.length+12*ct.tileSources.length+"px",this.element.style.height=lt.y*nt.sizeRatio+"px",ct.addControl(this.element,{anchor:D.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=lt.y*nt.sizeRatio*ct.tileSources.length+12*ct.tileSources.length+"px",this.element.style.width=lt.x*nt.sizeRatio+"px",ct.addControl(this.element,{anchor:D.ControlAnchor.TOP_LEFT})),this.panelWidth=lt.x*this.sizeRatio+8,this.panelHeight=lt.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},wt=0;wt<ct.tileSources.length;wt++)ht=D.makeNeutralElement("div"),ht.id=this.element.id+"-"+wt,ht.style.width=st.panelWidth+"px",ht.style.height=st.panelHeight+"px",ht.style.display="inline",ht.style.float="left",ht.style.cssFloat="left",ht.style.styleFloat="left",ht.style.padding="2px",D.setElementTouchActionNone(ht),ht.innerTracker=new D.MouseTracker({element:ht,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(mt){mt.eventSource.dragging=D.now()},releaseHandler:function(mt){var _t=mt.eventSource,Et=_t.element.id,At=Number(Et.split("-")[2]),Ct=D.now();mt.insideElementPressed&&mt.insideElementReleased&&_t.dragging&&Ct-_t.dragging<_t.clickTimeThreshold&&(_t.dragging=null,ct.goToPage(At))}}),this.element.appendChild(ht),ht.activePanel=!1,this.panels.push(ht);Y(this,this.scroll=="vertical"?lt.y:lt.x,0),this.setFocus(0)},D.extend(D.ReferenceStrip.prototype,D.EventSource.prototype,D.Viewer.prototype,{setFocus:function(nt){var st=this.element.querySelector("#"+this.element.id+"-"+nt),ct=D.getElementSize(this.viewer.canvas),lt=Number(this.element.style.width.replace("px","")),ht=Number(this.element.style.height.replace("px","")),bt=-Number(this.element.style.marginLeft.replace("px","")),wt=-Number(this.element.style.marginTop.replace("px","")),mt;this.currentSelected!==st&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=st,this.currentSelected.style.background="#999",this.scroll=="horizontal"?(mt=Number(nt)*(this.panelWidth+3),mt>bt+ct.x-this.panelWidth?(mt=Math.min(mt,lt-ct.x),this.element.style.marginLeft=-mt+"px",Y(this,ct.x,-mt)):mt<bt&&(mt=Math.max(0,mt-ct.x/2),this.element.style.marginLeft=-mt+"px",Y(this,ct.x,-mt))):(mt=Number(nt)*(this.panelHeight+3),mt>wt+ct.y-this.panelHeight?(mt=Math.min(mt,ht-ct.y),this.element.style.marginTop=-mt+"px",Y(this,ct.y,-mt)):mt<wt&&(mt=Math.max(0,mt-ct.y/2),this.element.style.marginTop=-mt+"px",Y(this,ct.y,-mt))),this.currentPage=nt,W.call(this,{eventSource:this.innerTracker}))},update:function(){return O[this.id].animating?(D.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var nt in this.miniViewers)this.miniViewers[nt].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function z(nt){var st=Number(this.element.style.marginLeft.replace("px","")),ct=Number(this.element.style.marginTop.replace("px","")),lt=Number(this.element.style.width.replace("px","")),ht=Number(this.element.style.height.replace("px","")),bt=D.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&(this.scroll=="horizontal"?-nt.delta.x>0?st>-(lt-bt.x)&&(this.element.style.marginLeft=st+nt.delta.x*2+"px",Y(this,bt.x,st+nt.delta.x*2)):-nt.delta.x<0&&st<0&&(this.element.style.marginLeft=st+nt.delta.x*2+"px",Y(this,bt.x,st+nt.delta.x*2)):-nt.delta.y>0?ct>-(ht-bt.y)&&(this.element.style.marginTop=ct+nt.delta.y*2+"px",Y(this,bt.y,ct+nt.delta.y*2)):-nt.delta.y<0&&ct<0&&(this.element.style.marginTop=ct+nt.delta.y*2+"px",Y(this,bt.y,ct+nt.delta.y*2))),!1}function F(nt){var st=Number(this.element.style.marginLeft.replace("px","")),ct=Number(this.element.style.marginTop.replace("px","")),lt=Number(this.element.style.width.replace("px","")),ht=Number(this.element.style.height.replace("px","")),bt=D.getElementSize(this.viewer.canvas);return this.element&&(this.scroll=="horizontal"?nt.scroll>0?st>-(lt-bt.x)&&(this.element.style.marginLeft=st-nt.scroll*60+"px",Y(this,bt.x,st-nt.scroll*60)):nt.scroll<0&&st<0&&(this.element.style.marginLeft=st-nt.scroll*60+"px",Y(this,bt.x,st-nt.scroll*60)):nt.scroll<0?ct>bt.y-ht&&(this.element.style.marginTop=ct+nt.scroll*60+"px",Y(this,bt.y,ct+nt.scroll*60)):nt.scroll>0&&ct<0&&(this.element.style.marginTop=ct+nt.scroll*60+"px",Y(this,bt.y,ct+nt.scroll*60))),!1}function Y(nt,st,ct){var lt,ht,bt,wt,mt,_t,Et;for(nt.scroll=="horizontal"?lt=nt.panelWidth:lt=nt.panelHeight,ht=Math.ceil(st/lt)+5,bt=Math.ceil((Math.abs(ct)+st)/lt)+1,ht=bt-ht,ht=ht<0?0:ht,_t=ht;_t<bt&&_t<nt.panels.length;_t++)if(Et=nt.panels[_t],!Et.activePanel){var At,Ct=nt.viewer.tileSources[_t];Ct.referenceStripThumbnailUrl?At={type:"image",url:Ct.referenceStripThumbnailUrl}:At=Ct,wt=new D.Viewer({id:Et.id,tileSources:[At],element:Et,navigatorSizeRatio:nt.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:nt.viewer.loadTilesWithAjax,ajaxHeaders:nt.viewer.ajaxHeaders,useCanvas:nt.useCanvas}),wt.displayRegion=D.makeNeutralElement("div"),wt.displayRegion.id=Et.id+"-displayregion",wt.displayRegion.className="displayregion",mt=wt.displayRegion.style,mt.position="relative",mt.top="0px",mt.left="0px",mt.fontSize="0px",mt.overflow="hidden",mt.float="left",mt.cssFloat="left",mt.styleFloat="left",mt.zIndex=999999999,mt.cursor="default",mt.width=nt.panelWidth-4+"px",mt.height=nt.panelHeight-4+"px",wt.displayRegion.innerTracker=new D.MouseTracker({element:wt.displayRegion,startDisabled:!0}),Et.getElementsByTagName("div")[0].appendChild(wt.displayRegion),nt.miniViewers[Et.id]=wt,Et.activePanel=!0}}function W(nt){var st=nt.eventSource.element;return this.scroll=="horizontal"?st.style.marginBottom="0px":st.style.marginLeft="0px",!1}function q(nt){var st=nt.eventSource.element;return this.scroll=="horizontal"?st.style.marginBottom="-"+D.getElementSize(st).y/2+"px":st.style.marginLeft="-"+D.getElementSize(st).x/2+"px",!1}function X(nt){if(!nt.preventDefaultAction&&!nt.ctrl&&!nt.alt&&!nt.meta)switch(nt.keyCode){case 38:return F.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return F.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return F.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return F.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}function tt(nt){if(!nt.preventDefaultAction&&!nt.ctrl&&!nt.alt&&!nt.meta)switch(nt.keyCode){case 61:return F.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return F.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return F.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return F.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return F.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return F.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}}(OpenSeadragon),function(D){D.DisplayRect=function(O,z,F,Y,W,q){D.Rect.apply(this,[O,z,F,Y]),this.minLevel=W,this.maxLevel=q},D.extend(D.DisplayRect.prototype,D.Rect.prototype)}(OpenSeadragon),function(D){D.Spring=function(z){var F=arguments;typeof z!="object"&&(z={initial:F.length&&typeof F[0]=="number"?F[0]:void 0,springStiffness:F.length>1?F[1].springStiffness:5,animationTime:F.length>1?F[1].animationTime:1.5}),D.console.assert(typeof z.springStiffness=="number"&&z.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),D.console.assert(typeof z.animationTime=="number"&&z.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),z.exponential&&(this._exponential=!0,delete z.exponential),D.extend(!0,this,z),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:D.now()},D.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},D.Spring.prototype={resetTo:function(z){D.console.assert(!this._exponential||z!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=z,this.start.time=this.target.time=this.current.time=D.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(z){D.console.assert(!this._exponential||z!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=z,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(z){this.start.value+=z,this.target.value+=z,this._exponential&&(D.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(z){this._exponential=z,this._exponential&&(D.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=D.now();var z,F;this._exponential?(z=this.start._logValue,F=this.target._logValue):(z=this.start.value,F=this.target.value);var Y=this.current.time>=this.target.time?F:z+(F-z)*O(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),W=this.current.value;return this._exponential?this.current.value=Math.exp(Y):this.current.value=Y,W!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function O(z,F){return(1-Math.exp(z*-F))/(1-Math.exp(-z))}}(OpenSeadragon),function(D){function O(F){D.extend(!0,this,{timeout:D.DEFAULT_SETTINGS.timeout,jobId:null},F),this.image=null}O.prototype={errorMsg:null,start:function(){var F=this,Y=this.abort;this.image=new Image,this.image.onload=function(){F.finish(!0)},this.image.onabort=this.image.onerror=function(){F.errorMsg="Image load aborted",F.finish(!1)},this.jobId=window.setTimeout(function(){F.errorMsg="Image load exceeded timeout ("+F.timeout+" ms)",F.finish(!1)},this.timeout),this.loadWithAjax?(this.request=D.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(W){var q;try{q=new window.Blob([W.response])}catch(st){var X=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(st.name==="TypeError"&&X){var tt=new X;tt.append(W.response),q=tt.getBlob()}}q.size===0&&(F.errorMsg="Empty image response.",F.finish(!1));var nt=(window.URL||window.webkitURL).createObjectURL(q);F.image.src=nt},error:function(W){F.errorMsg="Image load aborted - XHR error",F.finish(!1)}}),this.abort=function(){F.request.abort(),typeof Y=="function"&&Y()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(F){this.image.onload=this.image.onerror=this.image.onabort=null,F||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},D.ImageLoader=function(F){D.extend(!0,this,{jobLimit:D.DEFAULT_SETTINGS.imageLoaderLimit,timeout:D.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},F)},D.ImageLoader.prototype={addJob:function(F){var Y=this,W=function(tt){z(Y,tt,F.callback)},q={src:F.src,loadWithAjax:F.loadWithAjax,ajaxHeaders:F.loadWithAjax?F.ajaxHeaders:null,crossOriginPolicy:F.crossOriginPolicy,ajaxWithCredentials:F.ajaxWithCredentials,callback:W,abort:F.abort,timeout:this.timeout},X=new O(q);!this.jobLimit||this.jobsInProgress<this.jobLimit?(X.start(),this.jobsInProgress++):this.jobQueue.push(X)},clear:function(){for(var F=0;F<this.jobQueue.length;F++){var Y=this.jobQueue[F];typeof Y.abort=="function"&&Y.abort()}this.jobQueue=[]}};function z(F,Y,W){var q;F.jobsInProgress--,(!F.jobLimit||F.jobsInProgress<F.jobLimit)&&F.jobQueue.length>0&&(q=F.jobQueue.shift(),q.start(),F.jobsInProgress++),W(Y.image,Y.errorMsg,Y.request)}}(OpenSeadragon),function(D){D.Tile=function(O,z,F,Y,W,q,X,tt,nt,st){this.level=O,this.x=z,this.y=F,this.bounds=Y,this.sourceBounds=st,this.exists=W,this.url=q,this.context2D=X,this.loadWithAjax=tt,this.ajaxHeaders=nt,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},D.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(O){if(!this.cacheImageRecord){D.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){D.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=D.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=O&&O.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",D.setElementOpacity(this.element,this.opacity)},drawCanvas:function(O,z,F,Y){var W=this.position.times(D.pixelDensityRatio),q=this.size.times(D.pixelDensityRatio),X;if(!this.context2D&&!this.cacheImageRecord){D.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(X=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!X){D.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}O.save(),O.globalAlpha=this.opacity,typeof F=="number"&&F!==1&&(W=W.times(F),q=q.times(F)),Y instanceof D.Point&&(W=W.plus(Y)),O.globalAlpha===1&&this._hasTransparencyChannel()&&O.clearRect(W.x,W.y,q.x,q.y),z({context:O,tile:this,rendered:X});var tt,nt;this.sourceBounds?(tt=Math.min(this.sourceBounds.width,X.canvas.width),nt=Math.min(this.sourceBounds.height,X.canvas.height)):(tt=X.canvas.width,nt=X.canvas.height),O.drawImage(X.canvas,0,0,tt,nt,W.x,W.y,q.x,q.y),O.restore()},getScaleForEdgeSmoothing:function(){var O;if(this.cacheImageRecord)O=this.cacheImageRecord.getRenderedContext();else if(this.context2D)O=this.context2D;else return D.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return O.canvas.width/(this.size.x*D.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(O,z,F){var Y=Math.max(1,Math.ceil((F.x-z.x)/2)),W=Math.max(1,Math.ceil((F.y-z.y)/2));return new D.Point(Y,W).minus(this.position.times(D.pixelDensityRatio).times(O||1).apply(function(q){return q%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(D){D.OverlayPlacement=D.Placement,D.OverlayRotationMode=D.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),D.Overlay=function(O,z,F){var Y;D.isPlainObject(O)?Y=O:Y={element:O,location:z,placement:F},this.element=Y.element,this.style=Y.element.style,this._init(Y)},D.Overlay.prototype={_init:function(O){this.location=O.location,this.placement=O.placement===void 0?D.Placement.TOP_LEFT:O.placement,this.onDraw=O.onDraw,this.checkResize=O.checkResize===void 0?!0:O.checkResize,this.width=O.width===void 0?null:O.width,this.height=O.height===void 0?null:O.height,this.rotationMode=O.rotationMode||D.OverlayRotationMode.EXACT,this.location instanceof D.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=D.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new D.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(O,z){var F=D.Placement.properties[this.placement];F&&(F.isHorizontallyCentered?O.x-=z.x/2:F.isRight&&(O.x-=z.x),F.isVerticallyCentered?O.y-=z.y/2:F.isBottom&&(O.y-=z.y))},destroy:function(){var O=this.element,z=this.style;O.parentNode&&(O.parentNode.removeChild(O),O.prevElementParent&&(z.display="none",document.body.appendChild(O))),this.onDraw=null,z.top="",z.left="",z.position="",this.width!==null&&(z.width=""),this.height!==null&&(z.height="");var F=D.getCssPropertyWithVendorPrefix("transformOrigin"),Y=D.getCssPropertyWithVendorPrefix("transform");F&&Y&&(z[F]="",z[Y]="")},drawHTML:function(O,z){var F=this.element;F.parentNode!==O&&(F.prevElementParent=F.parentNode,F.prevNextSibling=F.nextSibling,O.appendChild(F),this.style.position="absolute",this.size=D.getElementSize(F));var Y=this._getOverlayPositionAndSize(z),W=Y.position,q=this.size=Y.size,X=Y.rotate;if(this.onDraw)this.onDraw(W,q,this.element);else{var tt=this.style;tt.left=W.x+"px",tt.top=W.y+"px",this.width!==null&&(tt.width=q.x+"px"),this.height!==null&&(tt.height=q.y+"px");var nt=D.getCssPropertyWithVendorPrefix("transformOrigin"),st=D.getCssPropertyWithVendorPrefix("transform");nt&&st&&(X?(tt[nt]=this._getTransformOrigin(),tt[st]="rotate("+X+"deg)"):(tt[nt]="",tt[st]="")),tt.display!=="none"&&(tt.display="block")}},_getOverlayPositionAndSize:function(O){var z=O.pixelFromPoint(this.location,!0),F=this._getSizeInPixels(O);this.adjust(z,F);var Y=0;if(O.degrees&&this.rotationMode!==D.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===D.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var W=new D.Rect(z.x,z.y,F.x,F.y),q=this._getBoundingBox(W,O.degrees);z=q.getTopLeft(),F=q.getSize()}else Y=O.degrees;return{position:z,size:F,rotate:Y}},_getSizeInPixels:function(O){var z=this.size.x,F=this.size.y;if(this.width!==null||this.height!==null){var Y=O.deltaPixelsFromPointsNoRotate(new D.Point(this.width||0,this.height||0),!0);this.width!==null&&(z=Y.x),this.height!==null&&(F=Y.y)}if(this.checkResize&&(this.width===null||this.height===null)){var W=this.size=D.getElementSize(this.element);this.width===null&&(z=W.x),this.height===null&&(F=W.y)}return new D.Point(z,F)},_getBoundingBox:function(O,z){var F=this._getPlacementPoint(O);return O.rotate(z,F).getBoundingBox()},_getPlacementPoint:function(O){var z=new D.Point(O.x,O.y),F=D.Placement.properties[this.placement];return F&&(F.isHorizontallyCentered?z.x+=O.width/2:F.isRight&&(z.x+=O.width),F.isVerticallyCentered?z.y+=O.height/2:F.isBottom&&(z.y+=O.height)),z},_getTransformOrigin:function(){var O="",z=D.Placement.properties[this.placement];return z&&(z.isLeft?O="left":z.isRight&&(O="right"),z.isTop?O+=" top":z.isBottom&&(O+=" bottom")),O},update:function(O,z){var F=D.isPlainObject(O)?O:{location:O,placement:z};this._init({location:F.location||this.location,placement:F.placement!==void 0?F.placement:this.placement,onDraw:F.onDraw||this.onDraw,checkResize:F.checkResize||this.checkResize,width:F.width!==void 0?F.width:this.width,height:F.height!==void 0?F.height:this.height,rotationMode:F.rotationMode||this.rotationMode})},getBounds:function(O){D.console.assert(O,"A viewport must now be passed to Overlay.getBounds.");var z=this.width,F=this.height;if(z===null||F===null){var Y=O.deltaPointsFromPixelsNoRotate(this.size,!0);z===null&&(z=Y.x),F===null&&(F=Y.y)}var W=this.location.clone();return this.adjust(W,new D.Point(z,F)),this._adjustBoundsForRotation(O,new D.Rect(W.x,W.y,z,F))},_adjustBoundsForRotation:function(O,z){if(!O||O.degrees===0||this.rotationMode===D.OverlayRotationMode.EXACT)return z;if(this.rotationMode===D.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return z;var F=this._getOverlayPositionAndSize(O);return O.viewerElementToViewportRectangle(new D.Rect(F.position.x,F.position.y,F.size.x,F.size.y))}return z.rotate(-O.degrees,this._getPlacementPoint(z))}}}(OpenSeadragon),function(D){D.Drawer=function(O){D.console.assert(O.viewer,"[Drawer] options.viewer is required");var z=arguments;if(D.isPlainObject(O)||(O={source:z[0],viewport:z[1],element:z[2]}),D.console.assert(O.viewport,"[Drawer] options.viewport is required"),D.console.assert(O.element,"[Drawer] options.element is required"),O.source&&D.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=O.viewer,this.viewport=O.viewport,this.debugGridColor=typeof O.debugGridColor=="string"?[O.debugGridColor]:O.debugGridColor||D.DEFAULT_SETTINGS.debugGridColor,O.opacity&&D.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=D.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=D.getElement(O.element),this.canvas=D.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var F=this._calculateCanvasSize();this.canvas.width=F.x,this.canvas.height=F.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",D.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},D.Drawer.prototype={addOverlay:function(O,z,F,Y){return D.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(O,z,F,Y),this},updateOverlay:function(O,z,F){return D.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(O,z,F),this},removeOverlay:function(O){return D.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(O),this},clearOverlays:function(){return D.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(O){var z=this.viewport.pixelFromPointNoRotate(O,!0);return new D.Point(z.x*D.pixelDensityRatio,z.y*D.pixelDensityRatio)},clipWithPolygons:function(O,z){if(this.useCanvas){var F=this._getContext(z);F.beginPath(),O.forEach(function(Y){Y.forEach(function(W,q){F[q===0?"moveTo":"lineTo"](W.x,W.y)})}),F.clip()}},setOpacity:function(O){D.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var z=this.viewer.world,F=0;F<z.getItemCount();F++)z.getItemAt(F).setOpacity(O);return this},getOpacity:function(){D.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var O=this.viewer.world,z=0,F=0;F<O.getItemCount();F++){var Y=O.getItemAt(F).getOpacity();Y>z&&(z=Y)}return z},needsUpdate:function(){return D.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return D.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return D.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return D.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var O=this._calculateCanvasSize();if((this.canvas.width!=O.x||this.canvas.height!=O.y)&&(this.canvas.width=O.x,this.canvas.height=O.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var z=this._calculateSketchCanvasSize();this.sketchCanvas.width=z.x,this.sketchCanvas.height=z.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(O,z){if(this.useCanvas){var F=this._getContext(O);if(z)F.clearRect(z.x,z.y,z.width,z.height);else{var Y=F.canvas;F.clearRect(0,0,Y.width,Y.height)}}},viewportToDrawerRectangle:function(O){var z=this.viewport.pixelFromPointNoRotate(O.getTopLeft(),!0),F=this.viewport.deltaPixelsFromPointsNoRotate(O.getSize(),!0);return new D.Rect(z.x*D.pixelDensityRatio,z.y*D.pixelDensityRatio,F.x*D.pixelDensityRatio,F.y*D.pixelDensityRatio)},drawTile:function(O,z,F,Y,W){if(D.console.assert(O,"[Drawer.drawTile] tile is required"),D.console.assert(z,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var q=this._getContext(F);Y=Y||1,O.drawCanvas(q,z,Y,W)}else O.drawHTML(this.canvas)},_getContext:function(O){var z=this.context;if(O){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var F=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=F.x,this.sketchCanvas.height=F.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var Y=this;this.viewer.addHandler("rotate",function W(){if(Y.viewport.getRotation()!==0){Y.viewer.removeHandler("rotate",W);var q=Y._calculateSketchCanvasSize();Y.sketchCanvas.width=q.x,Y.sketchCanvas.height=q.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}z=this.sketchContext}return z},saveContext:function(O){this.useCanvas&&this._getContext(O).save()},restoreContext:function(O){this.useCanvas&&this._getContext(O).restore()},setClip:function(O,z){if(this.useCanvas){var F=this._getContext(z);F.beginPath(),F.rect(O.x,O.y,O.width,O.height),F.clip()}},drawRectangle:function(O,z,F){if(this.useCanvas){var Y=this._getContext(F);Y.save(),Y.fillStyle=z,Y.fillRect(O.x,O.y,O.width,O.height),Y.restore()}},blendSketch:function(O,z,F,Y){var W=O;if(D.isPlainObject(W)||(W={opacity:O,scale:z,translate:F,compositeOperation:Y}),!(!this.useCanvas||!this.sketchCanvas)){O=W.opacity,Y=W.compositeOperation;var q=W.bounds;if(this.context.save(),this.context.globalAlpha=O,Y&&(this.context.globalCompositeOperation=Y),q)q.x<0&&(q.width+=q.x,q.x=0),q.x+q.width>this.canvas.width&&(q.width=this.canvas.width-q.x),q.y<0&&(q.height+=q.y,q.y=0),q.y+q.height>this.canvas.height&&(q.height=this.canvas.height-q.y),this.context.drawImage(this.sketchCanvas,q.x,q.y,q.width,q.height,q.x,q.y,q.width,q.height);else{z=W.scale||1,F=W.translate;var X=F instanceof D.Point?F:new D.Point(0,0),tt=0,nt=0;if(F){var st=this.sketchCanvas.width-this.canvas.width,ct=this.sketchCanvas.height-this.canvas.height;tt=Math.round(st/2),nt=Math.round(ct/2)}this.context.drawImage(this.sketchCanvas,X.x-tt*z,X.y-nt*z,(this.canvas.width+2*tt)*z,(this.canvas.height+2*nt)*z,-tt,-nt,this.canvas.width+2*tt,this.canvas.height+2*nt)}this.context.restore()}},drawDebugInfo:function(O,z,F,Y){if(this.useCanvas){var W=this.viewer.world.getIndexOfItem(Y)%this.debugGridColor.length,q=this.context;q.save(),q.lineWidth=2*D.pixelDensityRatio,q.font="small-caps bold "+13*D.pixelDensityRatio+"px arial",q.strokeStyle=this.debugGridColor[W],q.fillStyle=this.debugGridColor[W],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),Y.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:Y.getRotation(!0),point:Y.viewport.pixelFromPointNoRotate(Y._getRotationPoint(!0),!0)}),Y.viewport.degrees===0&&Y.getRotation(!0)%360===0&&Y._drawer.viewer.viewport.getFlip()&&Y._drawer._flip(),q.strokeRect(O.position.x*D.pixelDensityRatio,O.position.y*D.pixelDensityRatio,O.size.x*D.pixelDensityRatio,O.size.y*D.pixelDensityRatio);var X=(O.position.x+O.size.x/2)*D.pixelDensityRatio,tt=(O.position.y+O.size.y/2)*D.pixelDensityRatio;q.translate(X,tt),q.rotate(Math.PI/180*-this.viewport.degrees),q.translate(-X,-tt),O.x===0&&O.y===0&&(q.fillText("Zoom: "+this.viewport.getZoom(),O.position.x*D.pixelDensityRatio,(O.position.y-30)*D.pixelDensityRatio),q.fillText("Pan: "+this.viewport.getBounds().toString(),O.position.x*D.pixelDensityRatio,(O.position.y-20)*D.pixelDensityRatio)),q.fillText("Level: "+O.level,(O.position.x+10)*D.pixelDensityRatio,(O.position.y+20)*D.pixelDensityRatio),q.fillText("Column: "+O.x,(O.position.x+10)*D.pixelDensityRatio,(O.position.y+30)*D.pixelDensityRatio),q.fillText("Row: "+O.y,(O.position.x+10)*D.pixelDensityRatio,(O.position.y+40)*D.pixelDensityRatio),q.fillText("Order: "+F+" of "+z,(O.position.x+10)*D.pixelDensityRatio,(O.position.y+50)*D.pixelDensityRatio),q.fillText("Size: "+O.size.toString(),(O.position.x+10)*D.pixelDensityRatio,(O.position.y+60)*D.pixelDensityRatio),q.fillText("Position: "+O.position.toString(),(O.position.x+10)*D.pixelDensityRatio,(O.position.y+70)*D.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),Y.getRotation(!0)%360!==0&&this._restoreRotationChanges(),Y.viewport.degrees===0&&Y.getRotation(!0)%360===0&&Y._drawer.viewer.viewport.getFlip()&&Y._drawer._flip(),q.restore()}},debugRect:function(O){if(this.useCanvas){var z=this.context;z.save(),z.lineWidth=2*D.pixelDensityRatio,z.strokeStyle=this.debugGridColor[0],z.fillStyle=this.debugGridColor[0],z.strokeRect(O.x*D.pixelDensityRatio,O.y*D.pixelDensityRatio,O.width*D.pixelDensityRatio,O.height*D.pixelDensityRatio),z.restore()}},setImageSmoothingEnabled:function(O){this.useCanvas&&(this._imageSmoothingEnabled=O,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(O){O.msImageSmoothingEnabled=this._imageSmoothingEnabled,O.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(O){var z=this._getContext(O).canvas;return new D.Point(z.width,z.height)},getCanvasCenter:function(){return new D.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(O){var z=O.point?O.point.times(D.pixelDensityRatio):this.getCanvasCenter(),F=this._getContext(O.useSketch);F.save(),F.translate(z.x,z.y),this.viewer.viewport.flipped?(F.rotate(Math.PI/180*-O.degrees),F.scale(-1,1)):F.rotate(Math.PI/180*O.degrees),F.translate(-z.x,-z.y)},_flip:function(O){O=O||{};var z=O.point?O.point.times(D.pixelDensityRatio):this.getCanvasCenter(),F=this._getContext(O.useSketch);F.translate(z.x,0),F.scale(-1,1),F.translate(-z.x,0)},_restoreRotationChanges:function(O){var z=this._getContext(O);z.restore()},_calculateCanvasSize:function(){var O=D.pixelDensityRatio,z=this.viewport.getContainerSize();return{x:Math.round(z.x*O),y:Math.round(z.y*O)}},_calculateSketchCanvasSize:function(){var O=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return O;var z=Math.ceil(Math.sqrt(O.x*O.x+O.y*O.y));return{x:z,y:z}}}}(OpenSeadragon),function(D){D.Viewport=function(O){var z=arguments;z.length&&z[0]instanceof D.Point&&(O={containerSize:z[0],contentSize:z[1],config:z[2]}),O.config&&(D.extend(!0,O,O.config),delete O.config),this._margins=D.extend({left:0,top:0,right:0,bottom:0},O.margins||{}),delete O.margins,D.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:D.DEFAULT_SETTINGS.springStiffness,animationTime:D.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:D.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:D.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:D.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:D.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:D.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:D.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:D.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:D.DEFAULT_SETTINGS.maxZoomLevel,degrees:D.DEFAULT_SETTINGS.degrees,flipped:D.DEFAULT_SETTINGS.flipped,homeFillsViewer:D.DEFAULT_SETTINGS.homeFillsViewer},O),this._updateContainerInnerSize(),this.centerSpringX=new D.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new D.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new D.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new D.Rect(0,0,1,1),1),this.goHome(!0),this.update()},D.Viewport.prototype={resetContentSize:function(O){return D.console.assert(O,"[Viewport.resetContentSize] contentSize is required"),D.console.assert(O instanceof D.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),D.console.assert(O.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),D.console.assert(O.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new D.Rect(0,0,1,O.y/O.x),O.x),this},setHomeBounds:function(O,z){D.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(O,z)},_setContentBounds:function(O,z){D.console.assert(O,"[Viewport._setContentBounds] bounds is required"),D.console.assert(O instanceof D.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),D.console.assert(O.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),D.console.assert(O.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=O.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(z),this._contentBounds=O.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(z),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:z,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var O=this._contentAspectRatio/this.getAspectRatio(),z;return this.homeFillsViewer?z=O>=1?O:1:z=O>=1?1:O,z/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var O=this._contentBounds.getCenter(),z=1/this.getHomeZoom(),F=z/this.getAspectRatio();return new D.Rect(O.x-z/2,O.y-F/2,z,F)},goHome:function(O){return this.viewer&&this.viewer.raiseEvent("home",{immediately:O}),this.fitBounds(this.getHomeBounds(),O)},getMinZoom:function(){var O=this.getHomeZoom(),z=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*O;return z},getMaxZoom:function(){var O=this.maxZoomLevel;return O||(O=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,O/=this._contentBounds.width),Math.max(O,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new D.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return D.extend({},this._margins)},setMargins:function(O){D.console.assert(D.type(O)==="object","[Viewport.setMargins] margins must be an object"),this._margins=D.extend({left:0,top:0,right:0,bottom:0},O),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(O){return this.getBoundsNoRotate(O).rotate(-this.getRotation())},getBoundsNoRotate:function(O){var z=this.getCenter(O),F=1/this.getZoom(O),Y=F/this.getAspectRatio();return new D.Rect(z.x-F/2,z.y-Y/2,F,Y)},getBoundsWithMargins:function(O){return this.getBoundsNoRotateWithMargins(O).rotate(-this.getRotation(),this.getCenter(O))},getBoundsNoRotateWithMargins:function(O){var z=this.getBoundsNoRotate(O),F=this._containerInnerSize.x*this.getZoom(O);return z.x-=this._margins.left/F,z.y-=this._margins.top/F,z.width+=(this._margins.left+this._margins.right)/F,z.height+=(this._margins.top+this._margins.bottom)/F,z},getCenter:function(O){var z=new D.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),F=new D.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),Y,W,q,X,tt,nt,st,ct;return O?z:this.zoomPoint?(Y=this.pixelFromPoint(this.zoomPoint,!0),W=this.getZoom(),q=1/W,X=q/this.getAspectRatio(),tt=new D.Rect(z.x-q/2,z.y-X/2,q,X),nt=this._pixelFromPoint(this.zoomPoint,tt),st=nt.minus(Y),ct=st.divide(this._containerInnerSize.x*W),F.plus(ct)):F},getZoom:function(O){return O?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(O){return Math.max(Math.min(O,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(O){var z=new D.Rect(O.x,O.y,O.width,O.height);if(!this.wrapHorizontal){var F=this.visibilityRatio*z.width,Y=z.x+z.width,W=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,q=this._contentBoundsNoRotate.x-Y+F,X=W-z.x-F;F>this._contentBoundsNoRotate.width?z.x+=(q+X)/2:X<0?z.x+=X:q>0&&(z.x+=q)}if(!this.wrapVertical){var tt=this.visibilityRatio*z.height,nt=z.y+z.height,st=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,ct=this._contentBoundsNoRotate.y-nt+tt,lt=st-z.y-tt;tt>this._contentBoundsNoRotate.height?z.y+=(ct+lt)/2:lt<0?z.y+=lt:ct>0&&(z.y+=ct)}return z},_raiseConstraintsEvent:function(O){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:O})},applyConstraints:function(O){var z=this.getZoom(),F=this._applyZoomConstraints(z);z!==F&&this.zoomTo(F,this.zoomPoint,O);var Y=this.getBoundsNoRotate(),W=this._applyBoundaryConstraints(Y);return this._raiseConstraintsEvent(O),(Y.x!==W.x||Y.y!==W.y||O)&&this.fitBounds(W.rotate(-this.getRotation()),O),this},ensureVisible:function(O){return this.applyConstraints(O)},_fitBounds:function(O,z){z=z||{};var F=z.immediately||!1,Y=z.constraints||!1,W=this.getAspectRatio(),q=O.getCenter(),X=new D.Rect(O.x,O.y,O.width,O.height,O.degrees+this.getRotation()).getBoundingBox();X.getAspectRatio()>=W?X.height=X.width/W:X.width=X.height*W,X.x=q.x-X.width/2,X.y=q.y-X.height/2;var tt=1/X.width;if(Y){var nt=X.getAspectRatio(),st=this._applyZoomConstraints(tt);tt!==st&&(tt=st,X.width=1/tt,X.x=q.x-X.width/2,X.height=X.width/nt,X.y=q.y-X.height/2),X=this._applyBoundaryConstraints(X),q=X.getCenter(),this._raiseConstraintsEvent(F)}if(F)return this.panTo(q,!0),this.zoomTo(tt,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var ct=this.getBounds(),lt=this.getZoom();if(lt===0||Math.abs(tt/lt-1)<1e-8)return this.zoomTo(tt,!0),this.panTo(q,F);X=X.rotate(-this.getRotation());var ht=X.getTopLeft().times(tt).minus(ct.getTopLeft().times(lt)).divide(tt-lt);return this.zoomTo(tt,ht,F)},fitBounds:function(O,z){return this._fitBounds(O,{immediately:z,constraints:!1})},fitBoundsWithConstraints:function(O,z){return this._fitBounds(O,{immediately:z,constraints:!0})},fitVertically:function(O){var z=new D.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(z,O)},fitHorizontally:function(O){var z=new D.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(z,O)},getConstrainedBounds:function(O){var z,F;return z=this.getBounds(O),F=this._applyBoundaryConstraints(z),F},panBy:function(O,z){var F=new D.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(F.plus(O),z)},panTo:function(O,z){return z?(this.centerSpringX.resetTo(O.x),this.centerSpringY.resetTo(O.y)):(this.centerSpringX.springTo(O.x),this.centerSpringY.springTo(O.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:O,immediately:z}),this},zoomBy:function(O,z,F){return this.zoomTo(this.zoomSpring.target.value*O,z,F)},zoomTo:function(O,z,F){var Y=this;return this.zoomPoint=z instanceof D.Point&&!isNaN(z.x)&&!isNaN(z.y)?z:null,F?this._adjustCenterSpringsForZoomPoint(function(){Y.zoomSpring.resetTo(O)}):this.zoomSpring.springTo(O),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:O,refPoint:z,immediately:F}),this},setRotation:function(O){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=D.positiveModulo(O,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:O}),this)},getRotation:function(){return this.degrees},resize:function(O,z){var F=this.getBoundsNoRotate(),Y=F,W;return this.containerSize.x=O.x,this.containerSize.y=O.y,this._updateContainerInnerSize(),z&&(W=O.x/this.containerSize.x,Y.width=F.width*W,Y.height=Y.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:O,maintain:z}),this.fitBounds(Y,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new D.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var O=this;this._adjustCenterSpringsForZoomPoint(function(){O.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var z=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,z},_adjustCenterSpringsForZoomPoint:function(O){if(this.zoomPoint){var z=this.pixelFromPoint(this.zoomPoint,!0);O();var F=this.pixelFromPoint(this.zoomPoint,!0),Y=F.minus(z),W=this.deltaPointsFromPixels(Y,!0);this.centerSpringX.shiftBy(W.x),this.centerSpringY.shiftBy(W.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else O()},deltaPixelsFromPointsNoRotate:function(O,z){return O.times(this._containerInnerSize.x*this.getZoom(z))},deltaPixelsFromPoints:function(O,z){return this.deltaPixelsFromPointsNoRotate(O.rotate(this.getRotation()),z)},deltaPointsFromPixelsNoRotate:function(O,z){return O.divide(this._containerInnerSize.x*this.getZoom(z))},deltaPointsFromPixels:function(O,z){return this.deltaPointsFromPixelsNoRotate(O,z).rotate(-this.getRotation())},pixelFromPointNoRotate:function(O,z){return this._pixelFromPointNoRotate(O,this.getBoundsNoRotate(z))},pixelFromPoint:function(O,z){return this._pixelFromPoint(O,this.getBoundsNoRotate(z))},_pixelFromPointNoRotate:function(O,z){return O.minus(z.getTopLeft()).times(this._containerInnerSize.x/z.width).plus(new D.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(O,z){return this._pixelFromPointNoRotate(O.rotate(this.getRotation(),this.getCenter(!0)),z)},pointFromPixelNoRotate:function(O,z){var F=this.getBoundsNoRotate(z);return O.minus(new D.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/F.width).plus(F.getTopLeft())},pointFromPixel:function(O,z){return this.pointFromPixelNoRotate(O,z).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(O,z){var F=this._contentBoundsNoRotate.width;return new D.Point(O*this._contentSizeNoRotate.x/F,z*this._contentSizeNoRotate.x/F)},viewportToImageCoordinates:function(O,z){if(O instanceof D.Point)return this.viewportToImageCoordinates(O.x,O.y);if(this.viewer){var F=this.viewer.world.getItemCount();if(F>1)D.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(F===1){var Y=this.viewer.world.getItemAt(0);return Y.viewportToImageCoordinates(O,z,!0)}}return this._viewportToImageDelta(O-this._contentBoundsNoRotate.x,z-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(O,z){var F=this._contentBoundsNoRotate.width;return new D.Point(O/this._contentSizeNoRotate.x*F,z/this._contentSizeNoRotate.x*F)},imageToViewportCoordinates:function(O,z){if(O instanceof D.Point)return this.imageToViewportCoordinates(O.x,O.y);if(this.viewer){var F=this.viewer.world.getItemCount();if(F>1)D.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(F===1){var Y=this.viewer.world.getItemAt(0);return Y.imageToViewportCoordinates(O,z,!0)}}var W=this._imageToViewportDelta(O,z);return W.x+=this._contentBoundsNoRotate.x,W.y+=this._contentBoundsNoRotate.y,W},imageToViewportRectangle:function(O,z,F,Y){var W=O;if(W instanceof D.Rect||(W=new D.Rect(O,z,F,Y)),this.viewer){var q=this.viewer.world.getItemCount();if(q>1)D.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(q===1){var X=this.viewer.world.getItemAt(0);return X.imageToViewportRectangle(O,z,F,Y,!0)}}var tt=this.imageToViewportCoordinates(W.x,W.y),nt=this._imageToViewportDelta(W.width,W.height);return new D.Rect(tt.x,tt.y,nt.x,nt.y,W.degrees)},viewportToImageRectangle:function(O,z,F,Y){var W=O;if(W instanceof D.Rect||(W=new D.Rect(O,z,F,Y)),this.viewer){var q=this.viewer.world.getItemCount();if(q>1)D.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(q===1){var X=this.viewer.world.getItemAt(0);return X.viewportToImageRectangle(O,z,F,Y,!0)}}var tt=this.viewportToImageCoordinates(W.x,W.y),nt=this._viewportToImageDelta(W.width,W.height);return new D.Rect(tt.x,tt.y,nt.x,nt.y,W.degrees)},viewerElementToImageCoordinates:function(O){var z=this.pointFromPixel(O,!0);return this.viewportToImageCoordinates(z)},imageToViewerElementCoordinates:function(O){var z=this.imageToViewportCoordinates(O);return this.pixelFromPoint(z,!0)},windowToImageCoordinates:function(O){D.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var z=O.minus(D.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(z)},imageToWindowCoordinates:function(O){D.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var z=this.imageToViewerElementCoordinates(O);return z.plus(D.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(O){return this.pointFromPixel(O,!0)},viewportToViewerElementCoordinates:function(O){return this.pixelFromPoint(O,!0)},viewerElementToViewportRectangle:function(O){return D.Rect.fromSummits(this.pointFromPixel(O.getTopLeft(),!0),this.pointFromPixel(O.getTopRight(),!0),this.pointFromPixel(O.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(O){return D.Rect.fromSummits(this.pixelFromPoint(O.getTopLeft(),!0),this.pixelFromPoint(O.getTopRight(),!0),this.pixelFromPoint(O.getBottomLeft(),!0))},windowToViewportCoordinates:function(O){D.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var z=O.minus(D.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(z)},viewportToWindowCoordinates:function(O){D.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var z=this.viewportToViewerElementCoordinates(O);return z.plus(D.getElementPosition(this.viewer.element))},viewportToImageZoom:function(O){if(this.viewer){var z=this.viewer.world.getItemCount();if(z>1)D.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(z===1){var F=this.viewer.world.getItemAt(0);return F.viewportToImageZoom(O)}}var Y=this._contentSizeNoRotate.x,W=this._containerInnerSize.x,q=this._contentBoundsNoRotate.width,X=W/Y*q;return O*X},imageToViewportZoom:function(O){if(this.viewer){var z=this.viewer.world.getItemCount();if(z>1)D.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(z===1){var F=this.viewer.world.getItemAt(0);return F.imageToViewportZoom(O)}}var Y=this._contentSizeNoRotate.x,W=this._containerInnerSize.x,q=this._contentBoundsNoRotate.width,X=Y/W/q;return O*X},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(O){return this.flipped===O?this:(this.flipped=O,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:O}),this)}}}(OpenSeadragon),function(D){D.TiledImage=function(mt){var _t=this;D.console.assert(mt.tileCache,"[TiledImage] options.tileCache is required"),D.console.assert(mt.drawer,"[TiledImage] options.drawer is required"),D.console.assert(mt.viewer,"[TiledImage] options.viewer is required"),D.console.assert(mt.imageLoader,"[TiledImage] options.imageLoader is required"),D.console.assert(mt.source,"[TiledImage] options.source is required"),D.console.assert(!mt.clip||mt.clip instanceof D.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),D.EventSource.call(this),this._tileCache=mt.tileCache,delete mt.tileCache,this._drawer=mt.drawer,delete mt.drawer,this._imageLoader=mt.imageLoader,delete mt.imageLoader,mt.clip instanceof D.Rect&&(this._clip=mt.clip.clone()),delete mt.clip;var Et=mt.x||0;delete mt.x;var At=mt.y||0;delete mt.y,this.normHeight=mt.source.dimensions.y/mt.source.dimensions.x,this.contentAspectX=mt.source.dimensions.x/mt.source.dimensions.y;var Ct=1;mt.width?(Ct=mt.width,delete mt.width,mt.height&&(D.console.error("specifying both width and height to a tiledImage is not supported"),delete mt.height)):mt.height&&(Ct=mt.height/this.normHeight,delete mt.height);var Ft=mt.fitBounds;delete mt.fitBounds;var Lt=mt.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete mt.fitBoundsPlacement;var Yt=mt.degrees||0;delete mt.degrees,D.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:D.DEFAULT_SETTINGS.springStiffness,animationTime:D.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:D.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:D.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:D.DEFAULT_SETTINGS.wrapVertical,immediateRender:D.DEFAULT_SETTINGS.immediateRender,blendTime:D.DEFAULT_SETTINGS.blendTime,alwaysBlend:D.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:D.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:D.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:D.DEFAULT_SETTINGS.iOSDevice,debugMode:D.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:D.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:D.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:D.DEFAULT_SETTINGS.placeholderFillStyle,opacity:D.DEFAULT_SETTINGS.opacity,preload:D.DEFAULT_SETTINGS.preload,compositeOperation:D.DEFAULT_SETTINGS.compositeOperation},mt),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new D.Spring({initial:Et,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new D.Spring({initial:At,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new D.Spring({initial:Ct,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new D.Spring({initial:Yt,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),Ft&&this.fitBounds(Ft,Lt,!0),this._drawingHandler=function(Ht){_t.viewer.raiseEvent("tile-drawing",D.extend({tiledImage:_t},Ht))}},D.extend(D.TiledImage.prototype,D.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(mt){mt!==this._fullyLoaded&&(this._fullyLoaded=mt,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=D.now(),this._needsDraw=!0},update:function(){var mt=this._xSpring.update(),_t=this._ySpring.update(),Et=this._scaleSpring.update(),At=this._degreesSpring.update();return mt||_t||Et||At?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(mt){return this.getBoundsNoRotate(mt).rotate(this.getRotation(mt),this._getRotationPoint(mt))},getBoundsNoRotate:function(mt){return mt?new D.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new D.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return D.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(mt){var _t=this.getBoundsNoRotate(mt);if(this._clip){var Et=mt?this._worldWidthCurrent:this._worldWidthTarget,At=Et/this.source.dimensions.x,Ct=this._clip.times(At);_t=new D.Rect(_t.x+Ct.x,_t.y+Ct.y,Ct.width,Ct.height)}return _t.rotate(this.getRotation(mt),this._getRotationPoint(mt))},getContentSize:function(){return new D.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(mt,_t,Et){var At=Et?this._scaleSpring.current.value:this._scaleSpring.target.value;return new D.Point(mt*(this.source.dimensions.x/At),_t*(this.source.dimensions.y*this.contentAspectX/At))},viewportToImageCoordinates:function(mt,_t,Et){var At;return mt instanceof D.Point?(Et=_t,At=mt):At=new D.Point(mt,_t),At=At.rotate(-this.getRotation(Et),this._getRotationPoint(Et)),Et?this._viewportToImageDelta(At.x-this._xSpring.current.value,At.y-this._ySpring.current.value):this._viewportToImageDelta(At.x-this._xSpring.target.value,At.y-this._ySpring.target.value)},_imageToViewportDelta:function(mt,_t,Et){var At=Et?this._scaleSpring.current.value:this._scaleSpring.target.value;return new D.Point(mt/this.source.dimensions.x*At,_t/this.source.dimensions.y/this.contentAspectX*At)},imageToViewportCoordinates:function(mt,_t,Et){mt instanceof D.Point&&(Et=_t,_t=mt.y,mt=mt.x);var At=this._imageToViewportDelta(mt,_t);return Et?(At.x+=this._xSpring.current.value,At.y+=this._ySpring.current.value):(At.x+=this._xSpring.target.value,At.y+=this._ySpring.target.value),At.rotate(this.getRotation(Et),this._getRotationPoint(Et))},imageToViewportRectangle:function(mt,_t,Et,At,Ct){var Ft=mt;Ft instanceof D.Rect?Ct=_t:Ft=new D.Rect(mt,_t,Et,At);var Lt=this.imageToViewportCoordinates(Ft.getTopLeft(),Ct),Yt=this._imageToViewportDelta(Ft.width,Ft.height,Ct);return new D.Rect(Lt.x,Lt.y,Yt.x,Yt.y,Ft.degrees+this.getRotation(Ct))},viewportToImageRectangle:function(mt,_t,Et,At,Ct){var Ft=mt;mt instanceof D.Rect?Ct=_t:Ft=new D.Rect(mt,_t,Et,At);var Lt=this.viewportToImageCoordinates(Ft.getTopLeft(),Ct),Yt=this._viewportToImageDelta(Ft.width,Ft.height,Ct);return new D.Rect(Lt.x,Lt.y,Yt.x,Yt.y,Ft.degrees-this.getRotation(Ct))},viewerElementToImageCoordinates:function(mt){var _t=this.viewport.pointFromPixel(mt,!0);return this.viewportToImageCoordinates(_t)},imageToViewerElementCoordinates:function(mt){var _t=this.imageToViewportCoordinates(mt);return this.viewport.pixelFromPoint(_t,!0)},windowToImageCoordinates:function(mt){var _t=mt.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(_t)},imageToWindowCoordinates:function(mt){var _t=this.imageToViewerElementCoordinates(mt);return _t.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(mt){var _t=this._scaleSpring.current.value;return mt=mt.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new D.Rect((mt.x-this._xSpring.current.value)/_t,(mt.y-this._ySpring.current.value)/_t,mt.width/_t,mt.height/_t,mt.degrees)},viewportToImageZoom:function(mt){var _t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return _t*mt},imageToViewportZoom:function(mt){var _t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return mt/_t},setPosition:function(mt,_t){var Et=this._xSpring.target.value===mt.x&&this._ySpring.target.value===mt.y;if(_t){if(Et&&this._xSpring.current.value===mt.x&&this._ySpring.current.value===mt.y)return;this._xSpring.resetTo(mt.x),this._ySpring.resetTo(mt.y),this._needsDraw=!0}else{if(Et)return;this._xSpring.springTo(mt.x),this._ySpring.springTo(mt.y),this._needsDraw=!0}Et||this._raiseBoundsChange()},setWidth:function(mt,_t){this._setScale(mt,_t)},setHeight:function(mt,_t){this._setScale(mt/this.normHeight,_t)},setCroppingPolygons:function(mt){var _t=function(At){return At instanceof D.Point||typeof At.x=="number"&&typeof At.y=="number"},Et=function(At){return At.map(function(Ct){try{if(_t(Ct))return{x:Ct.x,y:Ct.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!D.isArray(mt))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=mt.map(function(At){return Et(At)})}catch(At){D.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),D.console.error(At),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(mt,_t,Et){_t=_t||D.Placement.CENTER;var At=D.Placement.properties[_t],Ct=this.contentAspectX,Ft=0,Lt=0,Yt=1,Ht=1;if(this._clip&&(Ct=this._clip.getAspectRatio(),Yt=this._clip.width/this.source.dimensions.x,Ht=this._clip.height/this.source.dimensions.y,mt.getAspectRatio()>Ct?(Ft=this._clip.x/this._clip.height*mt.height,Lt=this._clip.y/this._clip.height*mt.height):(Ft=this._clip.x/this._clip.width*mt.width,Lt=this._clip.y/this._clip.width*mt.width)),mt.getAspectRatio()>Ct){var qt=mt.height/Ht,te=0;At.isHorizontallyCentered?te=(mt.width-mt.height*Ct)/2:At.isRight&&(te=mt.width-mt.height*Ct),this.setPosition(new D.Point(mt.x-Ft+te,mt.y-Lt),Et),this.setHeight(qt,Et)}else{var Xt=mt.width/Yt,Dt=0;At.isVerticallyCentered?Dt=(mt.height-mt.width/Ct)/2:At.isBottom&&(Dt=mt.height-mt.width/Ct),this.setPosition(new D.Point(mt.x-Ft,mt.y-Lt+Dt),Et),this.setWidth(Xt,Et)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(mt){D.console.assert(!mt||mt instanceof D.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),mt instanceof D.Rect?this._clip=mt.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(mt){mt!==this.opacity&&(this.opacity=mt,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(mt){this._preload=!!mt,this._needsDraw=!0},getRotation:function(mt){return mt?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(mt,_t){this._degreesSpring.target.value===mt&&this._degreesSpring.isAtTargetValue()||(_t?this._degreesSpring.resetTo(mt):this._degreesSpring.springTo(mt),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(mt){return this.getBoundsNoRotate(mt).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(mt){mt!==this.compositeOperation&&(this.compositeOperation=mt,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(mt,_t){var Et=this._scaleSpring.target.value===mt;if(_t){if(Et&&this._scaleSpring.current.value===mt)return;this._scaleSpring.resetTo(mt),this._updateForScale(),this._needsDraw=!0}else{if(Et)return;this._scaleSpring.springTo(mt),this._updateForScale(),this._needsDraw=!0}Et||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var mt=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),_t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,Et=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(_t/this.minPixelRatio)/Math.log(2))));return Et=Math.max(Et,this.source.minLevel||0),mt=Math.min(mt,Et),{lowestLevel:mt,highestLevel:Et}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var mt=this.lastDrawn.pop();mt.beingDrawn=!1}var _t=this.viewport,Et=this._viewportToTiledImageRectangle(_t.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var At=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(Et=Et.intersection(At),Et===null)return}for(var Ct=this._getLevelsInterval(),Ft=Ct.lowestLevel,Lt=Ct.highestLevel,Yt=null,Ht=!1,qt=D.now(),te=Lt;te>=Ft;te--){var Xt=!1,Dt=_t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(te),!0).x*this._scaleSpring.current.value;if(te===Ft||!Ht&&Dt>=this.minPixelRatio)Xt=!0,Ht=!0;else if(!Ht)continue;var Qt=_t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(te),!1).x*this._scaleSpring.current.value,Nt=_t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,ce=this.immediateRender?1:Nt,Pt=Math.min(1,(Dt-.5)/.5),de=ce/Math.abs(ce-Qt);if(Yt=O(this,Ht,Xt,te,Pt,de,Et,qt,Yt),nt(this.coverage,te))break}bt(this,this.lastDrawn),Yt&&!Yt.context2D?(Y(this,Yt,qt),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(mt,_t,Et){var At,Ct;this.wrapHorizontal?(At=D.positiveModulo(_t.x,1),Ct=D.positiveModulo(Et.x,1)):(At=Math.max(0,_t.x),Ct=Math.min(1,Et.x));var Ft,Lt,Yt=1/this.source.aspectRatio;this.wrapVertical?(Ft=D.positiveModulo(_t.y,Yt),Lt=D.positiveModulo(Et.y,Yt)):(Ft=Math.max(0,_t.y),Lt=Math.min(Yt,Et.y));var Ht=this.source.getTileAtPoint(mt,new D.Point(At,Ft)),qt=this.source.getTileAtPoint(mt,new D.Point(Ct,Lt)),te=this.source.getNumTiles(mt);return this.wrapHorizontal&&(Ht.x+=te.x*Math.floor(_t.x),qt.x+=te.x*Math.floor(Et.x)),this.wrapVertical&&(Ht.y+=te.y*Math.floor(_t.y/Yt),qt.y+=te.y*Math.floor(Et.y/Yt)),{topLeft:Ht,bottomRight:qt}}});function O(mt,_t,Et,At,Ct,Ft,Lt,Yt,Ht){var qt=Lt.getBoundingBox().getTopLeft(),te=Lt.getBoundingBox().getBottomRight();mt.viewer&&mt.viewer.raiseEvent("update-level",{tiledImage:mt,havedrawn:_t,level:At,opacity:Ct,visibility:Ft,drawArea:Lt,topleft:qt,bottomright:te,currenttime:Yt,best:Ht}),lt(mt.coverage,At),lt(mt.loadingCoverage,At);for(var Xt=mt._getCornerTiles(At,qt,te),Dt=Xt.topLeft,Qt=Xt.bottomRight,Nt=mt.source.getNumTiles(At),ce=mt.viewport.pixelFromPoint(mt.viewport.getCenter()),Pt=Dt.x;Pt<=Qt.x;Pt++)for(var de=Dt.y;de<=Qt.y;de++){if(!mt.wrapHorizontal&&!mt.wrapVertical){var ye=mt.source.getTileBounds(At,Pt,de);if(Lt.intersection(ye)===null)continue}Ht=z(mt,Et,_t,Pt,de,At,Ct,Ft,ce,Nt,Yt,Ht)}return Ht}function z(mt,_t,Et,At,Ct,Ft,Lt,Yt,Ht,qt,te,Xt){var Dt=F(At,Ct,Ft,mt,mt.source,mt.tilesMatrix,te,qt,mt._worldWidthCurrent,mt._worldHeightCurrent),Qt=Et;mt.viewer&&mt.viewer.raiseEvent("update-tile",{tiledImage:mt,tile:Dt}),ct(mt.coverage,Ft,At,Ct,!1);var Nt=Dt.loaded||Dt.loading||st(mt.loadingCoverage,Ft,At,Ct);if(ct(mt.loadingCoverage,Ft,At,Ct,Nt),!Dt.exists||(_t&&!Qt&&(st(mt.coverage,Ft,At,Ct)?ct(mt.coverage,Ft,At,Ct,!0):Qt=!0),!Qt))return Xt;if(X(Dt,mt.source.tileOverlap,mt.viewport,Ht,Yt,mt),!Dt.loaded)if(Dt.context2D)q(mt,Dt);else{var ce=mt._tileCache.getImageRecord(Dt.cacheKey);if(ce){var Pt=ce.getImage();q(mt,Dt,Pt)}}if(Dt.loaded){var de=tt(mt,Dt,At,Ct,Ft,Lt,te);de&&(mt._needsDraw=!0)}else Dt.loading?mt._tilesLoading++:Nt||(Xt=ht(Xt,Dt));return Xt}function F(mt,_t,Et,At,Ct,Ft,Lt,Yt,Ht,qt){var te,Xt,Dt,Qt,Nt,ce,Pt,de,ye;return Ft[Et]||(Ft[Et]={}),Ft[Et][mt]||(Ft[Et][mt]={}),Ft[Et][mt][_t]||(te=(Yt.x+mt%Yt.x)%Yt.x,Xt=(Yt.y+_t%Yt.y)%Yt.y,Dt=Ct.getTileBounds(Et,te,Xt),Qt=Ct.getTileBounds(Et,te,Xt,!0),Nt=Ct.tileExists(Et,te,Xt),ce=Ct.getTileUrl(Et,te,Xt),At.loadTilesWithAjax?(Pt=Ct.getTileAjaxHeaders(Et,te,Xt),D.isPlainObject(At.ajaxHeaders)&&(Pt=D.extend({},At.ajaxHeaders,Pt))):Pt=null,de=Ct.getContext2D?Ct.getContext2D(Et,te,Xt):void 0,Dt.x+=(mt-te)/Yt.x,Dt.y+=qt/Ht*((_t-Xt)/Yt.y),ye=new D.Tile(Et,mt,_t,Dt,Nt,ce,de,At.loadTilesWithAjax,Pt,Qt),te===Yt.x-1&&(ye.isRightMost=!0),Xt===Yt.y-1&&(ye.isBottomMost=!0),Ft[Et][mt][_t]=ye),ye=Ft[Et][mt][_t],ye.lastTouchTime=Lt,ye}function Y(mt,_t,Et){_t.loading=!0,mt._imageLoader.addJob({src:_t.url,loadWithAjax:_t.loadWithAjax,ajaxHeaders:_t.ajaxHeaders,crossOriginPolicy:mt.crossOriginPolicy,ajaxWithCredentials:mt.ajaxWithCredentials,callback:function(At,Ct,Ft){W(mt,_t,Et,At,Ct,Ft)},abort:function(){_t.loading=!1}})}function W(mt,_t,Et,At,Ct,Ft){if(!At){D.console.log("Tile %s failed to load: %s - error: %s",_t,_t.url,Ct),mt.viewer.raiseEvent("tile-load-failed",{tile:_t,tiledImage:mt,time:Et,message:Ct,tileRequest:Ft}),_t.loading=!1,_t.exists=!1;return}if(Et<mt.lastResetTime){D.console.log("Ignoring tile %s loaded before reset: %s",_t,_t.url),_t.loading=!1;return}var Lt=function(){var Yt=mt.source.getClosestLevel();q(mt,_t,At,Yt,Ft)};mt._midDraw?window.setTimeout(Lt,1):Lt()}function q(mt,_t,Et,At,Ct){var Ft=0;function Lt(){return Ft++,Yt}function Yt(){Ft--,Ft===0&&(_t.loading=!1,_t.loaded=!0,_t.context2D||mt._tileCache.cacheTile({image:Et,tile:_t,cutoff:At,tiledImage:mt}),mt._needsDraw=!0)}mt.viewer.raiseEvent("tile-loaded",{tile:_t,tiledImage:mt,tileRequest:Ct,image:Et,getCompletionCallback:Lt}),Lt()()}function X(mt,_t,Et,At,Ct,Ft){var Lt=mt.bounds.getTopLeft();Lt.x*=Ft._scaleSpring.current.value,Lt.y*=Ft._scaleSpring.current.value,Lt.x+=Ft._xSpring.current.value,Lt.y+=Ft._ySpring.current.value;var Yt=mt.bounds.getSize();Yt.x*=Ft._scaleSpring.current.value,Yt.y*=Ft._scaleSpring.current.value;var Ht=Et.pixelFromPointNoRotate(Lt,!0),qt=Et.pixelFromPointNoRotate(Lt,!1),te=Et.deltaPixelsFromPointsNoRotate(Yt,!0),Xt=Et.deltaPixelsFromPointsNoRotate(Yt,!1),Dt=qt.plus(Xt.divide(2)),Qt=At.squaredDistanceTo(Dt);_t||(te=te.plus(new D.Point(1,1))),mt.isRightMost&&Ft.wrapHorizontal&&(te.x+=.75),mt.isBottomMost&&Ft.wrapVertical&&(te.y+=.75),mt.position=Ht,mt.size=te,mt.squaredDistance=Qt,mt.visibility=Ct}function tt(mt,_t,Et,At,Ct,Ft,Lt){var Yt=1e3*mt.blendTime,Ht,qt;if(_t.blendStart||(_t.blendStart=Lt),Ht=Lt-_t.blendStart,qt=Yt?Math.min(1,Ht/Yt):1,mt.alwaysBlend&&(qt*=Ft),_t.opacity=qt,mt.lastDrawn.push(_t),qt===1)ct(mt.coverage,Ct,Et,At,!0),mt._hasOpaqueTile=!0;else if(Ht<Yt)return!0;return!1}function nt(mt,_t,Et,At){var Ct,Ft,Lt,Yt;if(!mt[_t])return!1;if(Et===void 0||At===void 0){Ct=mt[_t];for(Lt in Ct)if(Object.prototype.hasOwnProperty.call(Ct,Lt)){Ft=Ct[Lt];for(Yt in Ft)if(Object.prototype.hasOwnProperty.call(Ft,Yt)&&!Ft[Yt])return!1}return!0}return mt[_t][Et]===void 0||mt[_t][Et][At]===void 0||mt[_t][Et][At]===!0}function st(mt,_t,Et,At){return Et===void 0||At===void 0?nt(mt,_t+1):nt(mt,_t+1,2*Et,2*At)&&nt(mt,_t+1,2*Et,2*At+1)&&nt(mt,_t+1,2*Et+1,2*At)&&nt(mt,_t+1,2*Et+1,2*At+1)}function ct(mt,_t,Et,At,Ct){if(!mt[_t]){D.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",_t);return}mt[_t][Et]||(mt[_t][Et]={}),mt[_t][Et][At]=Ct}function lt(mt,_t){mt[_t]={}}function ht(mt,_t){return!mt||_t.visibility>mt.visibility||_t.visibility==mt.visibility&&_t.squaredDistance<mt.squaredDistance?_t:mt}function bt(mt,_t){if(!(mt.opacity===0||_t.length===0&&!mt.placeholderFillStyle)){var Et=_t[0],At;Et&&(At=mt.opacity<1||mt.compositeOperation&&mt.compositeOperation!=="source-over"||!mt._isBottomItem()&&Et._hasTransparencyChannel());var Ct,Ft,Lt=mt.viewport.getZoom(!0),Yt=mt.viewportToImageZoom(Lt);_t.length>1&&Yt>mt.smoothTileEdgesMinZoom&&!mt.iOSDevice&&mt.getRotation(!0)%360===0&&D.supportsCanvas&&(At=!0,Ct=Et.getScaleForEdgeSmoothing(),Ft=Et.getTranslationForEdgeSmoothing(Ct,mt._drawer.getCanvasSize(!1),mt._drawer.getCanvasSize(!0)));var Ht;At&&(Ct||(Ht=mt.viewport.viewportToViewerElementRectangle(mt.getClippedBounds(!0)).getIntegerBoundingBox(),mt._drawer.viewer.viewport.getFlip()&&(mt.viewport.degrees!==0||mt.getRotation(!0)%360!==0)&&(Ht.x=mt._drawer.viewer.container.clientWidth-(Ht.x+Ht.width)),Ht=Ht.times(D.pixelDensityRatio)),mt._drawer._clear(!0,Ht)),Ct||(mt.viewport.degrees!==0&&mt._drawer._offsetForRotation({degrees:mt.viewport.degrees,useSketch:At}),mt.getRotation(!0)%360!==0&&mt._drawer._offsetForRotation({degrees:mt.getRotation(!0),point:mt.viewport.pixelFromPointNoRotate(mt._getRotationPoint(!0),!0),useSketch:At}),mt.viewport.degrees===0&&mt.getRotation(!0)%360===0&&mt._drawer.viewer.viewport.getFlip()&&mt._drawer._flip());var qt=!1;if(mt._clip){mt._drawer.saveContext(At);var te=mt.imageToViewportRectangle(mt._clip,!0);te=te.rotate(-mt.getRotation(!0),mt._getRotationPoint(!0));var Xt=mt._drawer.viewportToDrawerRectangle(te);Ct&&(Xt=Xt.times(Ct)),Ft&&(Xt=Xt.translate(Ft)),mt._drawer.setClip(Xt,At),qt=!0}if(mt._croppingPolygons){mt._drawer.saveContext(At);try{var Dt=mt._croppingPolygons.map(function(Pt){return Pt.map(function(de){var ye=mt.imageToViewportCoordinates(de.x,de.y,!0).rotate(-mt.getRotation(!0),mt._getRotationPoint(!0)),pe=mt._drawer.viewportCoordToDrawerCoord(ye);return Ct&&(pe=pe.times(Ct)),pe})});mt._drawer.clipWithPolygons(Dt,At)}catch(Pt){D.console.error(Pt)}qt=!0}if(mt.placeholderFillStyle&&mt._hasOpaqueTile===!1){var Qt=mt._drawer.viewportToDrawerRectangle(mt.getBounds(!0));Ct&&(Qt=Qt.times(Ct)),Ft&&(Qt=Qt.translate(Ft));var Nt=null;typeof mt.placeholderFillStyle=="function"?Nt=mt.placeholderFillStyle(mt,mt._drawer.context):Nt=mt.placeholderFillStyle,mt._drawer.drawRectangle(Qt,Nt,At)}for(var ce=_t.length-1;ce>=0;ce--)Et=_t[ce],mt._drawer.drawTile(Et,mt._drawingHandler,At,Ct,Ft),Et.beingDrawn=!0,mt.viewer&&mt.viewer.raiseEvent("tile-drawn",{tiledImage:mt,tile:Et});qt&&mt._drawer.restoreContext(At),Ct||(mt.getRotation(!0)%360!==0&&mt._drawer._restoreRotationChanges(At),mt.viewport.degrees!==0&&mt._drawer._restoreRotationChanges(At)),At&&(Ct&&(mt.viewport.degrees!==0&&mt._drawer._offsetForRotation({degrees:mt.viewport.degrees,useSketch:!1}),mt.getRotation(!0)%360!==0&&mt._drawer._offsetForRotation({degrees:mt.getRotation(!0),point:mt.viewport.pixelFromPointNoRotate(mt._getRotationPoint(!0),!0),useSketch:!1})),mt._drawer.blendSketch({opacity:mt.opacity,scale:Ct,translate:Ft,compositeOperation:mt.compositeOperation,bounds:Ht}),Ct&&(mt.getRotation(!0)%360!==0&&mt._drawer._restoreRotationChanges(!1),mt.viewport.degrees!==0&&mt._drawer._restoreRotationChanges(!1))),Ct||mt.viewport.degrees===0&&mt.getRotation(!0)%360===0&&mt._drawer.viewer.viewport.getFlip()&&mt._drawer._flip(),wt(mt,_t)}}function wt(mt,_t){if(mt.debugMode)for(var Et=_t.length-1;Et>=0;Et--){var At=_t[Et];try{mt._drawer.drawDebugInfo(At,_t.length,Et,mt)}catch(Ct){D.console.error(Ct)}}}}(OpenSeadragon),function(D){var O=function(F){D.console.assert(F,"[TileCache.cacheTile] options is required"),D.console.assert(F.tile,"[TileCache.cacheTile] options.tile is required"),D.console.assert(F.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=F.tile,this.tiledImage=F.tiledImage},z=function(F){D.console.assert(F,"[ImageRecord] options is required"),D.console.assert(F.image,"[ImageRecord] options.image is required"),this._image=F.image,this._tiles=[]};z.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var F=document.createElement("canvas");F.width=this._image.width,F.height=this._image.height,this._renderedContext=F.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(F){D.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=F},addTile:function(F){D.console.assert(F,"[ImageRecord.addTile] tile is required"),this._tiles.push(F)},removeTile:function(F){for(var Y=0;Y<this._tiles.length;Y++)if(this._tiles[Y]===F){this._tiles.splice(Y,1);return}D.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",F)},getTileCount:function(){return this._tiles.length}},D.TileCache=function(F){F=F||{},this._maxImageCacheCount=F.maxImageCacheCount||D.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},D.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(F){D.console.assert(F,"[TileCache.cacheTile] options is required"),D.console.assert(F.tile,"[TileCache.cacheTile] options.tile is required"),D.console.assert(F.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),D.console.assert(F.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var Y=F.cutoff||0,W=this._tilesLoaded.length,q=this._imagesLoaded[F.tile.cacheKey];if(q||(D.console.assert(F.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),q=this._imagesLoaded[F.tile.cacheKey]=new z({image:F.image}),this._imagesLoadedCount++),q.addTile(F.tile),F.tile.cacheImageRecord=q,this._imagesLoadedCount>this._maxImageCacheCount){for(var X=null,tt=-1,nt=null,st,ct,lt,ht,bt,wt,mt=this._tilesLoaded.length-1;mt>=0;mt--)if(wt=this._tilesLoaded[mt],st=wt.tile,!(st.level<=Y||st.beingDrawn)){if(!X){X=st,tt=mt,nt=wt;continue}ht=st.lastTouchTime,ct=X.lastTouchTime,bt=st.level,lt=X.level,(ht<ct||ht==ct&&bt>lt)&&(X=st,tt=mt,nt=wt)}X&&tt>=0&&(this._unloadTile(nt),W=tt)}this._tilesLoaded[W]=new O({tile:F.tile,tiledImage:F.tiledImage})},clearTilesFor:function(F){D.console.assert(F,"[TileCache.clearTilesFor] tiledImage is required");for(var Y,W=0;W<this._tilesLoaded.length;++W)Y=this._tilesLoaded[W],Y.tiledImage===F&&(this._unloadTile(Y),this._tilesLoaded.splice(W,1),W--)},getImageRecord:function(F){return D.console.assert(F,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[F]},_unloadTile:function(F){D.console.assert(F,"[TileCache._unloadTile] tileRecord is required");var Y=F.tile,W=F.tiledImage;Y.unload(),Y.cacheImageRecord=null;var q=this._imagesLoaded[Y.cacheKey];q.removeTile(Y),q.getTileCount()||(q.destroy(),delete this._imagesLoaded[Y.cacheKey],this._imagesLoadedCount--),W.viewer.raiseEvent("tile-unloaded",{tile:Y,tiledImage:W})}}}(OpenSeadragon),function(D){D.World=function(O){var z=this;D.console.assert(O.viewer,"[World] options.viewer is required"),D.EventSource.call(this),this.viewer=O.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(F){z._autoRefigureSizes?z._figureSizes():z._needsSizesFigured=!0},this._figureSizes()},D.extend(D.World.prototype,D.EventSource.prototype,{addItem:function(O,z){if(D.console.assert(O,"[World.addItem] item is required"),D.console.assert(O instanceof D.TiledImage,"[World.addItem] only TiledImages supported at this time"),z=z||{},z.index!==void 0){var F=Math.max(0,Math.min(this._items.length,z.index));this._items.splice(F,0,O)}else this._items.push(O);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,O.addHandler("bounds-change",this._delegatedFigureSizes),O.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:O})},getItemAt:function(O){return D.console.assert(O!==void 0,"[World.getItemAt] index is required"),this._items[O]},getIndexOfItem:function(O){return D.console.assert(O,"[World.getIndexOfItem] item is required"),D.indexOf(this._items,O)},getItemCount:function(){return this._items.length},setItemIndex:function(O,z){D.console.assert(O,"[World.setItemIndex] item is required"),D.console.assert(z!==void 0,"[World.setItemIndex] index is required");var F=this.getIndexOfItem(O);if(z>=this._items.length)throw new Error("Index bigger than number of layers.");z===F||F===-1||(this._items.splice(F,1),this._items.splice(z,0,O),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:O,previousIndex:F,newIndex:z}))},removeItem:function(O){D.console.assert(O,"[World.removeItem] item is required");var z=D.indexOf(this._items,O);z!==-1&&(O.removeHandler("bounds-change",this._delegatedFigureSizes),O.removeHandler("clip-change",this._delegatedFigureSizes),O.destroy(),this._items.splice(z,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(O))},removeAll:function(){this.viewer._cancelPendingImages();var O,z;for(z=0;z<this._items.length;z++)O=this._items[z],O.removeHandler("bounds-change",this._delegatedFigureSizes),O.removeHandler("clip-change",this._delegatedFigureSizes),O.destroy();var F=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,z=0;z<F.length;z++)O=F[z],this._raiseRemoveItem(O)},resetItems:function(){for(var O=0;O<this._items.length;O++)this._items[O].reset()},update:function(){for(var O=!1,z=0;z<this._items.length;z++)O=this._items[z].update()||O;return O},draw:function(){for(var O=0;O<this._items.length;O++)this._items[O].draw();this._needsDraw=!1},needsDraw:function(){for(var O=0;O<this._items.length;O++)if(this._items[O].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(O){this._autoRefigureSizes=O,O&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(O){O=O||{};var z=O.immediately||!1,F=O.layout||D.DEFAULT_SETTINGS.collectionLayout,Y=O.rows||D.DEFAULT_SETTINGS.collectionRows,W=O.columns||D.DEFAULT_SETTINGS.collectionColumns,q=O.tileSize||D.DEFAULT_SETTINGS.collectionTileSize,X=O.tileMargin||D.DEFAULT_SETTINGS.collectionTileMargin,tt=q+X,nt;!O.rows&&W?nt=W:nt=Math.ceil(this._items.length/Y);var st=0,ct=0,lt,ht,bt,wt,mt;this.setAutoRefigureSizes(!1);for(var _t=0;_t<this._items.length;_t++)_t&&_t%nt===0&&(F==="horizontal"?(ct+=tt,st=0):(st+=tt,ct=0)),lt=this._items[_t],ht=lt.getBounds(),ht.width>ht.height?bt=q:bt=q*(ht.width/ht.height),wt=bt*(ht.height/ht.width),mt=new D.Point(st+(q-bt)/2,ct+(q-wt)/2),lt.setPosition(mt,z),lt.setWidth(bt,z),F==="horizontal"?st+=tt:ct+=tt;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var O=this._homeBounds?this._homeBounds.clone():null,z=this._contentSize?this._contentSize.clone():null,F=this._contentFactor||0;if(!this._items.length)this._homeBounds=new D.Rect(0,0,1,1),this._contentSize=new D.Point(1,1),this._contentFactor=1;else{var Y=this._items[0],W=Y.getBounds();this._contentFactor=Y.getContentSize().x/W.width;for(var q=Y.getClippedBounds().getBoundingBox(),X=q.x,tt=q.y,nt=q.x+q.width,st=q.y+q.height,ct=1;ct<this._items.length;ct++)Y=this._items[ct],W=Y.getBounds(),this._contentFactor=Math.max(this._contentFactor,Y.getContentSize().x/W.width),q=Y.getClippedBounds().getBoundingBox(),X=Math.min(X,q.x),tt=Math.min(tt,q.y),nt=Math.max(nt,q.x+q.width),st=Math.max(st,q.y+q.height);this._homeBounds=new D.Rect(X,tt,nt-X,st-tt),this._contentSize=new D.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==F||!this._homeBounds.equals(O)||!this._contentSize.equals(z))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(O){this.raiseEvent("remove-item",{item:O})}})}(OpenSeadragon)}(openseadragon)),openseadragon.exports}var openseadragonExports=requireOpenseadragon();const OpenSeadragon=getDefaultExportFromCjs(openseadragonExports);var openseadragonViewerinputhook={exports:{}};/*! @openseadragon-imaging/openseadragon-viewerinputhook 2.2.1 ab9b394 (clean)  @license MIT */(function(D,O){(function(z,F){D.exports=F(requireOpenseadragon())})(window,function(z){return function(F){function Y(q){if(W[q])return W[q].exports;var X=W[q]={i:q,l:!1,exports:{}};return F[q].call(X.exports,X,X.exports,Y),X.l=!0,X.exports}var W={};return Y.m=F,Y.c=W,Y.d=function(q,X,tt){Y.o(q,X)||Object.defineProperty(q,X,{enumerable:!0,get:tt})},Y.r=function(q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})},Y.t=function(q,X){if(1&X&&(q=Y(q)),8&X||4&X&&typeof q=="object"&&q&&q.__esModule)return q;var tt=Object.create(null);if(Y.r(tt),Object.defineProperty(tt,"default",{enumerable:!0,value:q}),2&X&&typeof q!="string")for(var nt in q)Y.d(tt,nt,(function(st){return q[st]}).bind(null,nt));return tt},Y.n=function(q){var X=q&&q.__esModule?function(){return q.default}:function(){return q};return Y.d(X,"a",X),X},Y.o=function(q,X){return Object.prototype.hasOwnProperty.call(q,X)},Y.p="",Y(Y.s=1)}([function(F){F.exports=z},function(F,Y,W){W.r(Y);var q=W(0),X=W.n(q);Y.default=function(tt,nt){if(!tt.version||1>tt.version.major)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");return tt.Viewer.prototype.addViewerInputHook=function(st){return(st=st||{}).viewer=this,new nt.ViewerInputHook(st)},nt.ViewerInputHook=function(st){var ct,lt;for((st=st||{}).hooks=st.hooks||[],this.viewer=st.viewer||null,this.viewerTrackers={},this.hooks=[],this.viewer&&(this.viewerTrackers.viewer=this.viewer.innerTracker,this.viewerTrackers.viewer_outer=this.viewer.outerTracker),ct=0;ct<st.hooks.length;ct++){if(typeof st.hooks[ct].tracker=="string"){if(!this.viewer)throw new Error("A viewer must be specified.");if((lt=this.viewerTrackers[st.hooks[ct].tracker])===void 0)throw new Error("Unknown tracker specified: "+st.hooks[ct].tracker)}else lt=st.hooks[ct].tracker;this.hooks.push({tracker:lt,handlerName:st.hooks[ct].handler,origHandler:lt[st.hooks[ct].handler],hookHandler:st.hooks[ct].hookHandler}),function(ht,bt,wt,mt){var _t=bt[wt];bt[wt]=function(Et){return ht._callHandlers(mt,_t,Et)}}(this,lt,st.hooks[ct].handler,st.hooks[ct].hookHandler)}},nt.ViewerInputHook.version={versionStr:"2.2.1",major:2,minor:2,revision:1},nt.ViewerInputHook.prototype._callHandlers=function(st,ct,lt){var ht=st(lt);return ct&&!lt.stopHandlers&&(ht=ct(lt)),!lt.stopBubbling&&ht},nt.ViewerInputHook.prototype.destroy=function(){for(;0<this.hooks.length;){var st=this.hooks.pop();st.tracker[st.handlerName]=st.origHandler}this.viewer&&(delete this.viewerTrackers.viewer,delete this.viewerTrackers.viewer_outer,this.viewer=null)},nt.ViewerInputHook}(X.a||window.OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{})}]).default})})(openseadragonViewerinputhook);var openseadragonViewerinputhookExports=openseadragonViewerinputhook.exports;const OpenSeadragonViewerInputHook=getDefaultExportFromCjs(openseadragonViewerinputhookExports);var openseadragonAnnotorious_min={exports:{}};(function(D,O){var z=Object.defineProperty,F=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,tt=(ht,bt,wt)=>bt in ht?z(ht,bt,{enumerable:!0,configurable:!0,writable:!0,value:wt}):ht[bt]=wt,nt=(ht,bt)=>{for(var wt in bt||(bt={}))q.call(bt,wt)&&tt(ht,wt,bt[wt]);if(W)for(var wt of W(bt))X.call(bt,wt)&&tt(ht,wt,bt[wt]);return ht},st=(ht,bt)=>F(ht,Y(bt)),ct=(ht,bt)=>{var wt={};for(var mt in ht)q.call(ht,mt)&&bt.indexOf(mt)<0&&(wt[mt]=ht[mt]);if(ht!=null&&W)for(var mt of W(ht))bt.indexOf(mt)<0&&X.call(ht,mt)&&(wt[mt]=ht[mt]);return wt},lt=(ht,bt,wt)=>(tt(ht,typeof bt!="symbol"?bt+"":bt,wt),wt);(function(ht,bt){D.exports=bt(requireOpenseadragon())})(commonjsGlobal$1,function(ht){function bt(et){return et&&typeof et=="object"&&"default"in et?et:{default:et}}var wt=bt(ht),mt,_t,Et,At,Ct,Ft,Lt,Yt={},Ht=[],qt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function te(et,ot){for(var ut in ot)et[ut]=ot[ut];return et}function Xt(et){var ot=et.parentNode;ot&&ot.removeChild(et)}function Dt(et,ot,ut){var dt,gt,Mt,zt={};for(Mt in ot)Mt=="key"?dt=ot[Mt]:Mt=="ref"?gt=ot[Mt]:zt[Mt]=ot[Mt];if(arguments.length>2&&(zt.children=arguments.length>3?mt.call(arguments,2):ut),typeof et=="function"&&et.defaultProps!=null)for(Mt in et.defaultProps)zt[Mt]===void 0&&(zt[Mt]=et.defaultProps[Mt]);return Qt(et,zt,dt,gt,null)}function Qt(et,ot,ut,dt,gt){var Mt={type:et,props:ot,key:ut,ref:dt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:gt??++Et};return _t.vnode!=null&&_t.vnode(Mt),Mt}function Nt(){return{current:null}}function ce(et){return et.children}function Pt(et,ot){this.props=et,this.context=ot}function de(et,ot){if(ot==null)return et.__?de(et.__,et.__.__k.indexOf(et)+1):null;for(var ut;ot<et.__k.length;ot++)if((ut=et.__k[ot])!=null&&ut.__e!=null)return ut.__e;return typeof et.type=="function"?de(et):null}function ye(et){var ot,ut;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,ot=0;ot<et.__k.length;ot++)if((ut=et.__k[ot])!=null&&ut.__e!=null){et.__e=et.__c.base=ut.__e;break}return ye(et)}}function pe(et){(!et.__d&&(et.__d=!0)&&At.push(et)&&!ve.__r++||Ft!==_t.debounceRendering)&&((Ft=_t.debounceRendering)||Ct)(ve)}function ve(){for(var et;ve.__r=At.length;)et=At.sort(function(ot,ut){return ot.__v.__b-ut.__v.__b}),At=[],et.some(function(ot){var ut,dt,gt,Mt,zt,Jt;ot.__d&&(zt=(Mt=(ut=ot).__v).__e,(Jt=ut.__P)&&(dt=[],(gt=te({},Mt)).__v=Mt.__v+1,Le(Jt,Mt,gt,ut.__n,Jt.ownerSVGElement!==void 0,Mt.__h!=null?[zt]:null,dt,zt??de(Mt),Mt.__h),Ye(dt,Mt),Mt.__e!=zt&&ye(Mt)))})}function Ce(et,ot,ut,dt,gt,Mt,zt,Jt,ue,he){var le,Ue,tn,ln,Mn,Rn,On,or=dt&&dt.__k||Ht,fr=or.length;for(ut.__k=[],le=0;le<ot.length;le++)if((ln=ut.__k[le]=(ln=ot[le])==null||typeof ln=="boolean"?null:typeof ln=="string"||typeof ln=="number"||typeof ln=="bigint"?Qt(null,ln,null,null,ln):Array.isArray(ln)?Qt(ce,{children:ln},null,null,null):ln.__b>0?Qt(ln.type,ln.props,ln.key,null,ln.__v):ln)!=null){if(ln.__=ut,ln.__b=ut.__b+1,(tn=or[le])===null||tn&&ln.key==tn.key&&ln.type===tn.type)or[le]=void 0;else for(Ue=0;Ue<fr;Ue++){if((tn=or[Ue])&&ln.key==tn.key&&ln.type===tn.type){or[Ue]=void 0;break}tn=null}Le(et,ln,tn=tn||Yt,gt,Mt,zt,Jt,ue,he),Mn=ln.__e,(Ue=ln.ref)&&tn.ref!=Ue&&(On||(On=[]),tn.ref&&On.push(tn.ref,null,ln),On.push(Ue,ln.__c||Mn,ln)),Mn!=null?(Rn==null&&(Rn=Mn),typeof ln.type=="function"&&ln.__k!=null&&ln.__k===tn.__k?ln.__d=ue=De(ln,ue,et):ue=Je(et,ln,tn,or,Mn,ue),he||ut.type!=="option"?typeof ut.type=="function"&&(ut.__d=ue):et.value=""):ue&&tn.__e==ue&&ue.parentNode!=et&&(ue=de(tn))}for(ut.__e=Rn,le=fr;le--;)or[le]!=null&&(typeof ut.type=="function"&&or[le].__e!=null&&or[le].__e==ut.__d&&(ut.__d=de(dt,le+1)),jt(or[le],or[le]));if(On)for(le=0;le<On.length;le++)kt(On[le],On[++le],On[++le])}function De(et,ot,ut){var dt,gt;for(dt=0;dt<et.__k.length;dt++)(gt=et.__k[dt])&&(gt.__=et,ot=typeof gt.type=="function"?De(gt,ot,ut):Je(ut,gt,gt,et.__k,gt.__e,ot));return ot}function Oe(et,ot){return ot=ot||[],et==null||typeof et=="boolean"||(Array.isArray(et)?et.some(function(ut){Oe(ut,ot)}):ot.push(et)),ot}function Je(et,ot,ut,dt,gt,Mt){var zt,Jt,ue;if(ot.__d!==void 0)zt=ot.__d,ot.__d=void 0;else if(ut==null||gt!=Mt||gt.parentNode==null)t:if(Mt==null||Mt.parentNode!==et)et.appendChild(gt),zt=null;else{for(Jt=Mt,ue=0;(Jt=Jt.nextSibling)&&ue<dt.length;ue+=2)if(Jt==gt)break t;et.insertBefore(gt,Mt),zt=Mt}return zt!==void 0?zt:gt.nextSibling}function qe(et,ot,ut,dt,gt){var Mt;for(Mt in ut)Mt==="children"||Mt==="key"||Mt in ot||we(et,Mt,null,ut[Mt],dt);for(Mt in ot)gt&&typeof ot[Mt]!="function"||Mt==="children"||Mt==="key"||Mt==="value"||Mt==="checked"||ut[Mt]===ot[Mt]||we(et,Mt,ot[Mt],ut[Mt],dt)}function ze(et,ot,ut){ot[0]==="-"?et.setProperty(ot,ut):et[ot]=ut==null?"":typeof ut!="number"||qt.test(ot)?ut:ut+"px"}function we(et,ot,ut,dt,gt){var Mt;t:if(ot==="style")if(typeof ut=="string")et.style.cssText=ut;else{if(typeof dt=="string"&&(et.style.cssText=dt=""),dt)for(ot in dt)ut&&ot in ut||ze(et.style,ot,"");if(ut)for(ot in ut)dt&&ut[ot]===dt[ot]||ze(et.style,ot,ut[ot])}else if(ot[0]==="o"&&ot[1]==="n")Mt=ot!==(ot=ot.replace(/Capture$/,"")),ot=ot.toLowerCase()in et?ot.toLowerCase().slice(2):ot.slice(2),et.l||(et.l={}),et.l[ot+Mt]=ut,ut?dt||et.addEventListener(ot,Mt?He:Me,Mt):et.removeEventListener(ot,Mt?He:Me,Mt);else if(ot!=="dangerouslySetInnerHTML"){if(gt)ot=ot.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ot!=="href"&&ot!=="list"&&ot!=="form"&&ot!=="tabIndex"&&ot!=="download"&&ot in et)try{et[ot]=ut??"";break t}catch{}typeof ut=="function"||(ut!=null&&(ut!==!1||ot[0]==="a"&&ot[1]==="r")?et.setAttribute(ot,ut):et.removeAttribute(ot))}}function Me(et){this.l[et.type+!1](_t.event?_t.event(et):et)}function He(et){this.l[et.type+!0](_t.event?_t.event(et):et)}function Le(et,ot,ut,dt,gt,Mt,zt,Jt,ue){var he,le,Ue,tn,ln,Mn,Rn,On,or,fr,oi,Zr=ot.type;if(ot.constructor!==void 0)return null;ut.__h!=null&&(ue=ut.__h,Jt=ot.__e=ut.__e,ot.__h=null,Mt=[Jt]),(he=_t.__b)&&he(ot);try{t:if(typeof Zr=="function"){if(On=ot.props,or=(he=Zr.contextType)&&dt[he.__c],fr=he?or?or.props.value:he.__:dt,ut.__c?Rn=(le=ot.__c=ut.__c).__=le.__E:("prototype"in Zr&&Zr.prototype.render?ot.__c=le=new Zr(On,fr):(ot.__c=le=new Pt(On,fr),le.constructor=Zr,le.render=$t),or&&or.sub(le),le.props=On,le.state||(le.state={}),le.context=fr,le.__n=dt,Ue=le.__d=!0,le.__h=[]),le.__s==null&&(le.__s=le.state),Zr.getDerivedStateFromProps!=null&&(le.__s==le.state&&(le.__s=te({},le.__s)),te(le.__s,Zr.getDerivedStateFromProps(On,le.__s))),tn=le.props,ln=le.state,Ue)Zr.getDerivedStateFromProps==null&&le.componentWillMount!=null&&le.componentWillMount(),le.componentDidMount!=null&&le.__h.push(le.componentDidMount);else{if(Zr.getDerivedStateFromProps==null&&On!==tn&&le.componentWillReceiveProps!=null&&le.componentWillReceiveProps(On,fr),!le.__e&&le.shouldComponentUpdate!=null&&le.shouldComponentUpdate(On,le.__s,fr)===!1||ot.__v===ut.__v){le.props=On,le.state=le.__s,ot.__v!==ut.__v&&(le.__d=!1),le.__v=ot,ot.__e=ut.__e,ot.__k=ut.__k,ot.__k.forEach(function(Gr){Gr&&(Gr.__=ot)}),le.__h.length&&zt.push(le);break t}le.componentWillUpdate!=null&&le.componentWillUpdate(On,le.__s,fr),le.componentDidUpdate!=null&&le.__h.push(function(){le.componentDidUpdate(tn,ln,Mn)})}le.context=fr,le.props=On,le.state=le.__s,(he=_t.__r)&&he(ot),le.__d=!1,le.__v=ot,le.__P=et,he=le.render(le.props,le.state,le.context),le.state=le.__s,le.getChildContext!=null&&(dt=te(te({},dt),le.getChildContext())),Ue||le.getSnapshotBeforeUpdate==null||(Mn=le.getSnapshotBeforeUpdate(tn,ln)),oi=he!=null&&he.type===ce&&he.key==null?he.props.children:he,Ce(et,Array.isArray(oi)?oi:[oi],ot,ut,dt,gt,Mt,zt,Jt,ue),le.base=ot.__e,ot.__h=null,le.__h.length&&zt.push(le),Rn&&(le.__E=le.__=null),le.__e=!1}else Mt==null&&ot.__v===ut.__v?(ot.__k=ut.__k,ot.__e=ut.__e):ot.__e=Kt(ut.__e,ot,ut,dt,gt,Mt,zt,ue);(he=_t.diffed)&&he(ot)}catch(Gr){ot.__v=null,(ue||Mt!=null)&&(ot.__e=Jt,ot.__h=!!ue,Mt[Mt.indexOf(Jt)]=null),_t.__e(Gr,ot,ut)}}function Ye(et,ot){_t.__c&&_t.__c(ot,et),et.some(function(ut){try{et=ut.__h,ut.__h=[],et.some(function(dt){dt.call(ut)})}catch(dt){_t.__e(dt,ut.__v)}})}function Kt(et,ot,ut,dt,gt,Mt,zt,Jt){var ue,he,le,Ue=ut.props,tn=ot.props,ln=ot.type,Mn=0;if(ln==="svg"&&(gt=!0),Mt!=null){for(;Mn<Mt.length;Mn++)if((ue=Mt[Mn])&&(ue===et||(ln?ue.localName==ln:ue.nodeType==3))){et=ue,Mt[Mn]=null;break}}if(et==null){if(ln===null)return document.createTextNode(tn);et=gt?document.createElementNS("http://www.w3.org/2000/svg",ln):document.createElement(ln,tn.is&&tn),Mt=null,Jt=!1}if(ln===null)Ue===tn||Jt&&et.data===tn||(et.data=tn);else{if(Mt=Mt&&mt.call(et.childNodes),he=(Ue=ut.props||Yt).dangerouslySetInnerHTML,le=tn.dangerouslySetInnerHTML,!Jt){if(Mt!=null)for(Ue={},Mn=0;Mn<et.attributes.length;Mn++)Ue[et.attributes[Mn].name]=et.attributes[Mn].value;(le||he)&&(le&&(he&&le.__html==he.__html||le.__html===et.innerHTML)||(et.innerHTML=le&&le.__html||""))}if(qe(et,tn,Ue,gt,Jt),le)ot.__k=[];else if(Mn=ot.props.children,Ce(et,Array.isArray(Mn)?Mn:[Mn],ot,ut,dt,gt&&ln!=="foreignObject",Mt,zt,Mt?Mt[0]:ut.__k&&de(ut,0),Jt),Mt!=null)for(Mn=Mt.length;Mn--;)Mt[Mn]!=null&&Xt(Mt[Mn]);Jt||("value"in tn&&(Mn=tn.value)!==void 0&&(Mn!==et.value||ln==="progress"&&!Mn)&&we(et,"value",Mn,Ue.value,!1),"checked"in tn&&(Mn=tn.checked)!==void 0&&Mn!==et.checked&&we(et,"checked",Mn,Ue.checked,!1))}return et}function kt(et,ot,ut){try{typeof et=="function"?et(ot):et.current=ot}catch(dt){_t.__e(dt,ut)}}function jt(et,ot,ut){var dt,gt;if(_t.unmount&&_t.unmount(et),(dt=et.ref)&&(dt.current&&dt.current!==et.__e||kt(dt,null,ot)),(dt=et.__c)!=null){if(dt.componentWillUnmount)try{dt.componentWillUnmount()}catch(Mt){_t.__e(Mt,ot)}dt.base=dt.__P=null}if(dt=et.__k)for(gt=0;gt<dt.length;gt++)dt[gt]&&jt(dt[gt],ot,typeof et.type!="function");ut||et.__e==null||Xt(et.__e),et.__e=et.__d=void 0}function $t(et,ot,ut){return this.constructor(et,ut)}function oe(et,ot,ut){var dt,gt,Mt;_t.__&&_t.__(et,ot),gt=(dt=typeof ut=="function")?null:ut&&ut.__k||ot.__k,Mt=[],Le(ot,et=(!dt&&ut||ot).__k=Dt(ce,null,[et]),gt||Yt,Yt,ot.ownerSVGElement!==void 0,!dt&&ut?[ut]:gt?null:ot.firstChild?mt.call(ot.childNodes):null,Mt,!dt&&ut?ut:gt?gt.__e:ot.firstChild,dt),Ye(Mt,et)}function Vt(et,ot){oe(et,ot,Vt)}function Be(et,ot,ut){var dt,gt,Mt,zt=te({},et.props);for(Mt in ot)Mt=="key"?dt=ot[Mt]:Mt=="ref"?gt=ot[Mt]:zt[Mt]=ot[Mt];return arguments.length>2&&(zt.children=arguments.length>3?mt.call(arguments,2):ut),Qt(et.type,zt,dt||et.key,gt||et.ref,null)}function ge(et,ot){var ut={__c:ot="__cC"+Lt++,__:et,Consumer:function(dt,gt){return dt.children(gt)},Provider:function(dt){var gt,Mt;return this.getChildContext||(gt=[],(Mt={})[ot]=this,this.getChildContext=function(){return Mt},this.shouldComponentUpdate=function(zt){this.props.value!==zt.value&&gt.some(pe)},this.sub=function(zt){gt.push(zt);var Jt=zt.componentWillUnmount;zt.componentWillUnmount=function(){gt.splice(gt.indexOf(zt),1),Jt&&Jt.call(zt)}}),dt.children}};return ut.Provider.__=ut.Consumer.contextType=ut}mt=Ht.slice,_t={__e:function(et,ot){for(var ut,dt,gt;ot=ot.__;)if((ut=ot.__c)&&!ut.__)try{if((dt=ut.constructor)&&dt.getDerivedStateFromError!=null&&(ut.setState(dt.getDerivedStateFromError(et)),gt=ut.__d),ut.componentDidCatch!=null&&(ut.componentDidCatch(et),gt=ut.__d),gt)return ut.__E=ut}catch(Mt){et=Mt}throw et}},Et=0,Pt.prototype.setState=function(et,ot){var ut;ut=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=te({},this.state),typeof et=="function"&&(et=et(te({},ut),this.props)),et&&te(ut,et),et!=null&&this.__v&&(ot&&this.__h.push(ot),pe(this))},Pt.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),pe(this))},Pt.prototype.render=ce,At=[],Ct=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve.__r=0,Lt=0;var Pe,ke,$e,Fe=0,Qe=[],We=_t.__b,rn=_t.__r,zn=_t.diffed,Bn=_t.__c,Pn=_t.unmount;function jn(et,ot){_t.__h&&_t.__h(ke,et,Fe||ot),Fe=0;var ut=ke.__H||(ke.__H={__:[],__h:[]});return et>=ut.__.length&&ut.__.push({}),ut.__[et]}function Jn(et){return Fe=1,rr(Wn,et)}function rr(et,ot,ut){var dt=jn(Pe++,2);return dt.t=et,dt.__c||(dt.__=[ut?ut(ot):Wn(void 0,ot),function(gt){var Mt=dt.t(dt.__[0],gt);dt.__[0]!==Mt&&(dt.__=[Mt,dt.__[1]],dt.__c.setState({}))}],dt.__c=ke),dt.__}function sr(et,ot){var ut=jn(Pe++,3);!_t.__s&&Kn(ut.__H,ot)&&(ut.__=et,ut.__H=ot,ke.__H.__h.push(ut))}function on(et,ot){var ut=jn(Pe++,4);!_t.__s&&Kn(ut.__H,ot)&&(ut.__=et,ut.__H=ot,ke.__h.push(ut))}function ie(et){return Fe=5,xe(function(){return{current:et}},[])}function ne(et,ot,ut){Fe=6,on(function(){typeof et=="function"?et(ot()):et&&(et.current=ot())},ut==null?ut:ut.concat(et))}function xe(et,ot){var ut=jn(Pe++,7);return Kn(ut.__H,ot)&&(ut.__=et(),ut.__H=ot,ut.__h=et),ut.__}function Ae(et,ot){return Fe=8,xe(function(){return et},ot)}function Ve(et){var ot=ke.context[et.__c],ut=jn(Pe++,9);return ut.c=et,ot?(ut.__==null&&(ut.__=!0,ot.sub(ke)),ot.props.value):et.__}function vn(et,ot){_t.useDebugValue&&_t.useDebugValue(ot?ot(et):et)}function Ge(et){var ot=jn(Pe++,10),ut=Jn();return ot.__=et,ke.componentDidCatch||(ke.componentDidCatch=function(dt){ot.__&&ot.__(dt),ut[1](dt)}),[ut[0],function(){ut[1](void 0)}]}function Dn(){Qe.forEach(function(et){if(et.__P)try{et.__H.__h.forEach(Fn),et.__H.__h.forEach($n),et.__H.__h=[]}catch(ot){et.__H.__h=[],_t.__e(ot,et.__v)}}),Qe=[]}_t.__b=function(et){ke=null,We&&We(et)},_t.__r=function(et){rn&&rn(et),Pe=0;var ot=(ke=et.__c).__H;ot&&(ot.__h.forEach(Fn),ot.__h.forEach($n),ot.__h=[])},_t.diffed=function(et){zn&&zn(et);var ot=et.__c;ot&&ot.__H&&ot.__H.__h.length&&(Qe.push(ot)!==1&&$e===_t.requestAnimationFrame||(($e=_t.requestAnimationFrame)||function(ut){var dt,gt=function(){clearTimeout(Mt),en&&cancelAnimationFrame(dt),setTimeout(ut)},Mt=setTimeout(gt,100);en&&(dt=requestAnimationFrame(gt))})(Dn)),ke=void 0},_t.__c=function(et,ot){ot.some(function(ut){try{ut.__h.forEach(Fn),ut.__h=ut.__h.filter(function(dt){return!dt.__||$n(dt)})}catch(dt){ot.some(function(gt){gt.__h&&(gt.__h=[])}),ot=[],_t.__e(dt,ut.__v)}}),Bn&&Bn(et,ot)},_t.unmount=function(et){Pn&&Pn(et);var ot=et.__c;if(ot&&ot.__H)try{ot.__H.__.forEach(Fn)}catch(ut){_t.__e(ut,ot.__v)}};var en=typeof requestAnimationFrame=="function";function Fn(et){var ot=ke;typeof et.__c=="function"&&et.__c(),ke=ot}function $n(et){var ot=ke;et.__c=et.__(),ke=ot}function Kn(et,ot){return!et||et.length!==ot.length||ot.some(function(ut,dt){return ut!==et[dt]})}function Wn(et,ot){return typeof ot=="function"?ot(et):ot}function mr(et,ot){for(var ut in ot)et[ut]=ot[ut];return et}function ir(et,ot){for(var ut in et)if(ut!=="__source"&&!(ut in ot))return!0;for(var dt in ot)if(dt!=="__source"&&et[dt]!==ot[dt])return!0;return!1}function wr(et){this.props=et}function Lr(et,ot){function ut(gt){var Mt=this.props.ref,zt=Mt==gt.ref;return!zt&&Mt&&(Mt.call?Mt(null):Mt.current=null),ot?!ot(this.props,gt)||!zt:ir(this.props,gt)}function dt(gt){return this.shouldComponentUpdate=ut,Dt(et,gt)}return dt.displayName="Memo("+(et.displayName||et.name)+")",dt.prototype.isReactComponent=!0,dt.__f=!0,dt}(wr.prototype=new Pt).isPureReactComponent=!0,wr.prototype.shouldComponentUpdate=function(et,ot){return ir(this.props,et)||ir(this.state,ot)};var Dr=_t.__b;_t.__b=function(et){et.type&&et.type.__f&&et.ref&&(et.props.ref=et.ref,et.ref=null),Dr&&Dr(et)};var Fo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xo(et){function ot(ut,dt){var gt=mr({},ut);return delete gt.ref,et(gt,(dt=ut.ref||dt)&&(typeof dt!="object"||"current"in dt)?dt:null)}return ot.$$typeof=Fo,ot.render=ot,ot.prototype.isReactComponent=ot.__f=!0,ot.displayName="ForwardRef("+(et.displayName||et.name)+")",ot}var tr=function(et,ot){return et==null?null:Oe(Oe(et).map(ot))},Cr={map:tr,forEach:tr,count:function(et){return et?Oe(et).length:0},only:function(et){var ot=Oe(et);if(ot.length!==1)throw"Children.only";return ot[0]},toArray:Oe},go=_t.__e;_t.__e=function(et,ot,ut){if(et.then){for(var dt,gt=ot;gt=gt.__;)if((dt=gt.__c)&&dt.__c)return ot.__e==null&&(ot.__e=ut.__e,ot.__k=ut.__k),dt.__c(et,ot)}go(et,ot,ut)};var Un=_t.unmount;function zi(){this.__u=0,this.t=null,this.__b=null}function uo(et){var ot=et.__.__c;return ot&&ot.__e&&ot.__e(et)}function io(et){var ot,ut,dt;function gt(Mt){if(ot||(ot=et()).then(function(zt){ut=zt.default||zt},function(zt){dt=zt}),dt)throw dt;if(!ut)throw ot;return Dt(ut,Mt)}return gt.displayName="Lazy",gt.__f=!0,gt}function sn(){this.u=null,this.o=null}_t.unmount=function(et){var ot=et.__c;ot&&ot.__R&&ot.__R(),ot&&et.__h===!0&&(et.type=null),Un&&Un(et)},(zi.prototype=new Pt).__c=function(et,ot){var ut=ot.__c,dt=this;dt.t==null&&(dt.t=[]),dt.t.push(ut);var gt=uo(dt.__v),Mt=!1,zt=function(){Mt||(Mt=!0,ut.__R=null,gt?gt(Jt):Jt())};ut.__R=zt;var Jt=function(){if(!--dt.__u){if(dt.state.__e){var he=dt.state.__e;dt.__v.__k[0]=function Ue(tn,ln,Mn){return tn&&(tn.__v=null,tn.__k=tn.__k&&tn.__k.map(function(Rn){return Ue(Rn,ln,Mn)}),tn.__c&&tn.__c.__P===ln&&(tn.__e&&Mn.insertBefore(tn.__e,tn.__d),tn.__c.__e=!0,tn.__c.__P=Mn)),tn}(he,he.__c.__P,he.__c.__O)}var le;for(dt.setState({__e:dt.__b=null});le=dt.t.pop();)le.forceUpdate()}},ue=ot.__h===!0;dt.__u++||ue||dt.setState({__e:dt.__b=dt.__v.__k[0]}),et.then(zt,zt)},zi.prototype.componentWillUnmount=function(){this.t=[]},zi.prototype.render=function(et,ot){if(this.__b){if(this.__v.__k){var ut=document.createElement("div"),dt=this.__v.__k[0].__c;this.__v.__k[0]=function Mt(zt,Jt,ue){return zt&&(zt.__c&&zt.__c.__H&&(zt.__c.__H.__.forEach(function(he){typeof he.__c=="function"&&he.__c()}),zt.__c.__H=null),(zt=mr({},zt)).__c!=null&&(zt.__c.__P===ue&&(zt.__c.__P=Jt),zt.__c=null),zt.__k=zt.__k&&zt.__k.map(function(he){return Mt(he,Jt,ue)})),zt}(this.__b,ut,dt.__O=dt.__P)}this.__b=null}var gt=ot.__e&&Dt(ce,null,et.fallback);return gt&&(gt.__h=null),[Dt(ce,null,ot.__e?null:et.children),gt]};var En=function(et,ot,ut){if(++ut[1]===ut[0]&&et.o.delete(ot),et.props.revealOrder&&(et.props.revealOrder[0]!=="t"||!et.o.size))for(ut=et.u;ut;){for(;ut.length>3;)ut.pop()();if(ut[1]<ut[0])break;et.u=ut=ut[2]}};function un(et){return this.getChildContext=function(){return et.context},et.children}function je(et){var ot=this,ut=et.i;ot.componentWillUnmount=function(){oe(null,ot.l),ot.l=null,ot.i=null},ot.i&&ot.i!==ut&&ot.componentWillUnmount(),et.__v?(ot.l||(ot.i=ut,ot.l={nodeType:1,parentNode:ut,childNodes:[],appendChild:function(dt){this.childNodes.push(dt),ot.i.appendChild(dt)},insertBefore:function(dt,gt){this.childNodes.push(dt),ot.i.appendChild(dt)},removeChild:function(dt){this.childNodes.splice(this.childNodes.indexOf(dt)>>>1,1),ot.i.removeChild(dt)}}),oe(Dt(un,{context:ot.context},et.__v),ot.l)):ot.l&&ot.componentWillUnmount()}function gn(et,ot){return Dt(je,{__v:et,i:ot})}(sn.prototype=new Pt).__e=function(et){var ot=this,ut=uo(ot.__v),dt=ot.o.get(et);return dt[0]++,function(gt){var Mt=function(){ot.props.revealOrder?(dt.push(gt),En(ot,et,dt)):gt()};ut?ut(Mt):Mt()}},sn.prototype.render=function(et){this.u=null,this.o=new Map;var ot=Oe(et.children);et.revealOrder&&et.revealOrder[0]==="b"&&ot.reverse();for(var ut=ot.length;ut--;)this.o.set(ot[ut],this.u=[1,0,this.u]);return et.children},sn.prototype.componentDidUpdate=sn.prototype.componentDidMount=function(){var et=this;this.o.forEach(function(ot,ut){En(et,ut,ot)})};var In=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Hn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Er=function(et){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(et)};function Or(et,ot,ut){return ot.__k==null&&(ot.textContent=""),oe(et,ot),typeof ut=="function"&&ut(),et?et.__c:null}function ci(et,ot,ut){return Vt(et,ot),typeof ut=="function"&&ut(),et?et.__c:null}Pt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(et){Object.defineProperty(Pt.prototype,et,{configurable:!0,get:function(){return this["UNSAFE_"+et]},set:function(ot){Object.defineProperty(this,et,{configurable:!0,writable:!0,value:ot})}})});var Si=_t.event;function si(){}function mo(){return this.cancelBubble}function Co(){return this.defaultPrevented}_t.event=function(et){return Si&&(et=Si(et)),et.persist=si,et.isPropagationStopped=mo,et.isDefaultPrevented=Co,et.nativeEvent=et};var Uo,_r={configurable:!0,get:function(){return this.class}},Ir=_t.vnode;_t.vnode=function(et){var ot=et.type,ut=et.props,dt=ut;if(typeof ot=="string"){for(var gt in dt={},ut){var Mt=ut[gt];gt==="value"&&"defaultValue"in ut&&Mt==null||(gt==="defaultValue"&&"value"in ut&&ut.value==null?gt="value":gt==="download"&&Mt===!0?Mt="":/ondoubleclick/i.test(gt)?gt="ondblclick":/^onchange(textarea|input)/i.test(gt+ot)&&!Er(ut.type)?gt="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(gt)?gt=gt.toLowerCase():Hn.test(gt)?gt=gt.replace(/[A-Z0-9]/,"-$&").toLowerCase():Mt===null&&(Mt=void 0),dt[gt]=Mt)}ot=="select"&&dt.multiple&&Array.isArray(dt.value)&&(dt.value=Oe(ut.children).forEach(function(zt){zt.props.selected=dt.value.indexOf(zt.props.value)!=-1})),ot=="select"&&dt.defaultValue!=null&&(dt.value=Oe(ut.children).forEach(function(zt){zt.props.selected=dt.multiple?dt.defaultValue.indexOf(zt.props.value)!=-1:dt.defaultValue==zt.props.value})),et.props=dt}ot&&ut.class!=ut.className&&(_r.enumerable="className"in ut,ut.className!=null&&(dt.class=ut.className),Object.defineProperty(dt,"className",_r)),et.$$typeof=In,Ir&&Ir(et)};var $r=_t.__r;_t.__r=function(et){$r&&$r(et),Uo=et.__c};var er={ReactCurrentDispatcher:{current:{readContext:function(et){return Uo.__n[et.__c].props.value}}}},Nr="17.0.2";function Xe(et){return Dt.bind(null,et)}function xs(et){return!!et&&et.$$typeof===In}function an(et){return xs(et)?Be.apply(null,arguments):et}function Do(et){return!!et.__k&&(oe(null,et),!0)}function Ka(et){return et&&(et.base||et.nodeType===1&&et)||null}var ei=function(et,ot){return et(ot)},Pr=function(et,ot){return et(ot)},oc=ce,ur={useState:Jn,useReducer:rr,useEffect:sr,useLayoutEffect:on,useRef:ie,useImperativeHandle:ne,useMemo:xe,useCallback:Ae,useContext:Ve,useDebugValue:vn,version:"17.0.2",Children:Cr,render:Or,hydrate:ci,unmountComponentAtNode:Do,createPortal:gn,createElement:Dt,createContext:ge,createFactory:Xe,cloneElement:an,createRef:Nt,Fragment:ce,isValidElement:xs,findDOMNode:Ka,Component:Pt,PureComponent:wr,memo:Lr,forwardRef:xo,flushSync:Pr,unstable_batchedUpdates:ei,StrictMode:ce,Suspense:zi,SuspenseList:sn,lazy:io,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:er},Yr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ur,version:Nr,Children:Cr,render:Or,hydrate:ci,unmountComponentAtNode:Do,createPortal:gn,createFactory:Xe,cloneElement:an,isValidElement:xs,findDOMNode:Ka,PureComponent:wr,memo:Lr,forwardRef:xo,flushSync:Pr,unstable_batchedUpdates:ei,StrictMode:oc,Suspense:zi,SuspenseList:sn,lazy:io,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:er,createElement:Dt,createContext:ge,createRef:Nt,Fragment:ce,Component:Pt,useState:Jn,useReducer:rr,useEffect:sr,useLayoutEffect:on,useRef:ie,useImperativeHandle:ne,useMemo:xe,useCallback:Ae,useContext:Ve,useDebugValue:vn,useErrorBoundary:Ge}),Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:{};function tl(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function _a(et){if(et.__esModule)return et;var ot=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(et).forEach(function(ut){var dt=Object.getOwnPropertyDescriptor(et,ut);Object.defineProperty(ot,ut,dt.get?dt:{enumerable:!0,get:function(){return et[ut]}})}),ot}var Mo={exports:{}};function ai(){}ai.prototype={on:function(et,ot,ut){var dt=this.e||(this.e={});return(dt[et]||(dt[et]=[])).push({fn:ot,ctx:ut}),this},once:function(et,ot,ut){var dt=this;function gt(){dt.off(et,gt),ot.apply(ut,arguments)}return gt._=ot,this.on(et,gt,ut)},emit:function(et){var ot=[].slice.call(arguments,1),ut=((this.e||(this.e={}))[et]||[]).slice(),dt=0,gt=ut.length;for(dt;dt<gt;dt++)ut[dt].fn.apply(ut[dt].ctx,ot);return this},off:function(et,ot){var ut=this.e||(this.e={}),dt=ut[et],gt=[];if(dt&&ot)for(var Mt=0,zt=dt.length;Mt<zt;Mt++)dt[Mt].fn!==ot&&dt[Mt].fn._!==ot&&gt.push(dt[Mt]);return gt.length?ut[et]=gt:delete ut[et],this}},Mo.exports=ai,Mo.exports.TinyEmitter=ai;var Es=Mo.exports,Io={exports:{}},el={},Yo=_a(Yr),wa={exports:{}},Os="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pl=Os,gl=Pl;function zl(){}function Ps(){}Ps.resetWarningCache=zl;var nu=function(){function et(dt,gt,Mt,zt,Jt,ue){if(ue!==gl){var he=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw he.name="Invariant Violation",he}}et.isRequired=et;function ot(){return et}var ut={array:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:ot,element:et,elementType:et,instanceOf:ot,node:et,objectOf:ot,oneOf:ot,oneOfType:ot,shape:ot,exact:ot,checkPropTypes:Ps,resetWarningCache:zl};return ut.PropTypes=ut,ut};wa.exports=nu();function Cc(et){var ot,ut,dt="";if(typeof et=="string"||typeof et=="number")dt+=et;else if(typeof et=="object")if(Array.isArray(et))for(ot=0;ot<et.length;ot++)et[ot]&&(ut=Cc(et[ot]))&&(dt&&(dt+=" "),dt+=ut);else for(ot in et)et[ot]&&(dt&&(dt+=" "),dt+=ot);return dt}function Rl(){for(var et=0,ot,ut,dt="";et<arguments.length;)(ot=arguments[et++])&&(ut=Cc(ot))&&(dt&&(dt+=" "),dt+=ut);return dt}var Kr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rl}),ja=_a(Kr),zr={},aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.findInArray=dh,aa.isFunction=ru,aa.isNum=iu,aa.int=jl,aa.dontSetMe=fh;function dh(et,ot){for(var ut=0,dt=et.length;ut<dt;ut++)if(ot.apply(ot,[et[ut],ut,et]))return et[ut]}function ru(et){return typeof et=="function"||Object.prototype.toString.call(et)==="[object Function]"}function iu(et){return typeof et=="number"&&!isNaN(et)}function jl(et){return parseInt(et,10)}function fh(et,ot,ut){if(et[ot])return new Error("Invalid prop ".concat(ot," passed to ").concat(ut," - do not set this, set it on the child."))}var xa={};Object.defineProperty(xa,"__esModule",{value:!0}),xa.getPrefix=la,xa.browserPrefixToKey=ph,xa.browserPrefixToStyle=gh,xa.default=void 0;var Ho=["Moz","Webkit","O","ms"];function la(){var et,ot,ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var dt=(et=window.document)===null||et===void 0||(ot=et.documentElement)===null||ot===void 0?void 0:ot.style;if(!dt||ut in dt)return"";for(var gt=0;gt<Ho.length;gt++)if(ph(ut,Ho[gt])in dt)return Ho[gt];return""}function ph(et,ot){return ot?"".concat(ot).concat(tf(et)):et}function gh(et,ot){return ot?"-".concat(ot.toLowerCase(),"-").concat(et):et}function tf(et){for(var ot="",ut=!0,dt=0;dt<et.length;dt++)ut?(ot+=et[dt].toUpperCase(),ut=!1):et[dt]==="-"?ut=!0:ot+=et[dt];return ot}var Ba=la();xa.default=Ba;function Ea(et){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ea=function(ot){return typeof ot}:Ea=function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},Ea(et)}Object.defineProperty(zr,"__esModule",{value:!0}),zr.matchesSelector=Js,zr.matchesSelectorAndParentsTo=$a,zr.addEvent=Ac,zr.removeEvent=Ma,zr.outerHeight=mh,zr.outerWidth=Ru,zr.innerHeight=yh,zr.innerWidth=vo,zr.offsetXYFromParent=ju,zr.createCSSTransform=nl,zr.createSVGTransform=ko,zr.getTranslation=Ta,zr.getTouch=ou,zr.getTouchIdentifier=Nc,zr.addUserSelectStyles=Ms,zr.removeUserSelectStyles=su,zr.addClassName=Dc,zr.removeClassName=Jo;var zs=aa,Pu=zu(xa);function mi(et){if(typeof WeakMap!="function")return null;var ot=new WeakMap,ut=new WeakMap;return(mi=function(dt){return dt?ut:ot})(et)}function zu(et,ot){if(!ot&&et&&et.__esModule)return et;if(et===null||Ea(et)!=="object"&&typeof et!="function")return{default:et};var ut=mi(ot);if(ut&&ut.has(et))return ut.get(et);var dt={},gt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mt in et)if(Mt!=="default"&&Object.prototype.hasOwnProperty.call(et,Mt)){var zt=gt?Object.getOwnPropertyDescriptor(et,Mt):null;zt&&(zt.get||zt.set)?Object.defineProperty(dt,Mt,zt):dt[Mt]=et[Mt]}return dt.default=et,ut&&ut.set(et,dt),dt}function Xs(et,ot){var ut=Object.keys(et);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(et);ot&&(dt=dt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),ut.push.apply(ut,dt)}return ut}function kc(et){for(var ot=1;ot<arguments.length;ot++){var ut=arguments[ot]!=null?arguments[ot]:{};ot%2?Xs(Object(ut),!0).forEach(function(dt){Zs(et,dt,ut[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(ut)):Xs(Object(ut)).forEach(function(dt){Object.defineProperty(et,dt,Object.getOwnPropertyDescriptor(ut,dt))})}return et}function Zs(et,ot,ut){return ot in et?Object.defineProperty(et,ot,{value:ut,enumerable:!0,configurable:!0,writable:!0}):et[ot]=ut,et}var ml="";function Js(et,ot){return ml||(ml=(0,zs.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ut){return(0,zs.isFunction)(et[ut])})),(0,zs.isFunction)(et[ml])?et[ml](ot):!1}function $a(et,ot,ut){var dt=et;do{if(Js(dt,ot))return!0;if(dt===ut)return!1;dt=dt.parentNode}while(dt);return!1}function Ac(et,ot,ut,dt){if(et){var gt=kc({capture:!0},dt);et.addEventListener?et.addEventListener(ot,ut,gt):et.attachEvent?et.attachEvent("on"+ot,ut):et["on"+ot]=ut}}function Ma(et,ot,ut,dt){if(et){var gt=kc({capture:!0},dt);et.removeEventListener?et.removeEventListener(ot,ut,gt):et.detachEvent?et.detachEvent("on"+ot,ut):et["on"+ot]=null}}function mh(et){var ot=et.clientHeight,ut=et.ownerDocument.defaultView.getComputedStyle(et);return ot+=(0,zs.int)(ut.borderTopWidth),ot+=(0,zs.int)(ut.borderBottomWidth),ot}function Ru(et){var ot=et.clientWidth,ut=et.ownerDocument.defaultView.getComputedStyle(et);return ot+=(0,zs.int)(ut.borderLeftWidth),ot+=(0,zs.int)(ut.borderRightWidth),ot}function yh(et){var ot=et.clientHeight,ut=et.ownerDocument.defaultView.getComputedStyle(et);return ot-=(0,zs.int)(ut.paddingTop),ot-=(0,zs.int)(ut.paddingBottom),ot}function vo(et){var ot=et.clientWidth,ut=et.ownerDocument.defaultView.getComputedStyle(et);return ot-=(0,zs.int)(ut.paddingLeft),ot-=(0,zs.int)(ut.paddingRight),ot}function ju(et,ot,ut){var dt=ot===ot.ownerDocument.body,gt=dt?{left:0,top:0}:ot.getBoundingClientRect(),Mt=(et.clientX+ot.scrollLeft-gt.left)/ut,zt=(et.clientY+ot.scrollTop-gt.top)/ut;return{x:Mt,y:zt}}function nl(et,ot){var ut=Ta(et,ot,"px");return Zs({},(0,Pu.browserPrefixToKey)("transform",Pu.default),ut)}function ko(et,ot){var ut=Ta(et,ot,"");return ut}function Ta(et,ot,ut){var dt=et.x,gt=et.y,Mt="translate(".concat(dt).concat(ut,",").concat(gt).concat(ut,")");if(ot){var zt="".concat(typeof ot.x=="string"?ot.x:ot.x+ut),Jt="".concat(typeof ot.y=="string"?ot.y:ot.y+ut);Mt="translate(".concat(zt,", ").concat(Jt,")")+Mt}return Mt}function ou(et,ot){return et.targetTouches&&(0,zs.findInArray)(et.targetTouches,function(ut){return ot===ut.identifier})||et.changedTouches&&(0,zs.findInArray)(et.changedTouches,function(ut){return ot===ut.identifier})}function Nc(et){if(et.targetTouches&&et.targetTouches[0])return et.targetTouches[0].identifier;if(et.changedTouches&&et.changedTouches[0])return et.changedTouches[0].identifier}function Ms(et){if(et){var ot=et.getElementById("react-draggable-style-el");ot||(ot=et.createElement("style"),ot.type="text/css",ot.id="react-draggable-style-el",ot.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,ot.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,et.getElementsByTagName("head")[0].appendChild(ot)),et.body&&Dc(et.body,"react-draggable-transparent-selection")}}function su(et){if(et)try{if(et.body&&Jo(et.body,"react-draggable-transparent-selection"),et.selection)et.selection.empty();else{var ot=(et.defaultView||window).getSelection();ot&&ot.type!=="Caret"&&ot.removeAllRanges()}}catch{}}function Dc(et,ot){et.classList?et.classList.add(ot):et.className.match(new RegExp("(?:^|\\s)".concat(ot,"(?!\\S)")))||(et.className+=" ".concat(ot))}function Jo(et,ot){et.classList?et.classList.remove(ot):et.className=et.className.replace(new RegExp("(?:^|\\s)".concat(ot,"(?!\\S)"),"g"),"")}var Us={};Object.defineProperty(Us,"__esModule",{value:!0}),Us.getBoundPosition=vh,Us.snapToGrid=bh,Us.canDragX=Bu,Us.canDragY=Vo,Us.getControlPosition=ca,Us.createCoreData=Ks,Us.createDraggableData=vs;var Ts=aa,sc=zr;function vh(et,ot,ut){if(!et.props.bounds)return[ot,ut];var dt=et.props.bounds;dt=typeof dt=="string"?dt:_h(dt);var gt=Po(et);if(typeof dt=="string"){var Mt=gt.ownerDocument,zt=Mt.defaultView,Jt;if(dt==="parent"?Jt=gt.parentNode:Jt=Mt.querySelector(dt),!(Jt instanceof zt.HTMLElement))throw new Error('Bounds selector "'+dt+'" could not find an element.');var ue=Jt,he=zt.getComputedStyle(gt),le=zt.getComputedStyle(ue);dt={left:-gt.offsetLeft+(0,Ts.int)(le.paddingLeft)+(0,Ts.int)(he.marginLeft),top:-gt.offsetTop+(0,Ts.int)(le.paddingTop)+(0,Ts.int)(he.marginTop),right:(0,sc.innerWidth)(ue)-(0,sc.outerWidth)(gt)-gt.offsetLeft+(0,Ts.int)(le.paddingRight)-(0,Ts.int)(he.marginRight),bottom:(0,sc.innerHeight)(ue)-(0,sc.outerHeight)(gt)-gt.offsetTop+(0,Ts.int)(le.paddingBottom)-(0,Ts.int)(he.marginBottom)}}return(0,Ts.isNum)(dt.right)&&(ot=Math.min(ot,dt.right)),(0,Ts.isNum)(dt.bottom)&&(ut=Math.min(ut,dt.bottom)),(0,Ts.isNum)(dt.left)&&(ot=Math.max(ot,dt.left)),(0,Ts.isNum)(dt.top)&&(ut=Math.max(ut,dt.top)),[ot,ut]}function bh(et,ot,ut){var dt=Math.round(ot/et[0])*et[0],gt=Math.round(ut/et[1])*et[1];return[dt,gt]}function Bu(et){return et.props.axis==="both"||et.props.axis==="x"}function Vo(et){return et.props.axis==="both"||et.props.axis==="y"}function ca(et,ot,ut){var dt=typeof ot=="number"?(0,sc.getTouch)(et,ot):null;if(typeof ot=="number"&&!dt)return null;var gt=Po(ut),Mt=ut.props.offsetParent||gt.offsetParent||gt.ownerDocument.body;return(0,sc.offsetXYFromParent)(dt||et,Mt,ut.props.scale)}function Ks(et,ot,ut){var dt=et.state,gt=!(0,Ts.isNum)(dt.lastX),Mt=Po(et);return gt?{node:Mt,deltaX:0,deltaY:0,lastX:ot,lastY:ut,x:ot,y:ut}:{node:Mt,deltaX:ot-dt.lastX,deltaY:ut-dt.lastY,lastX:dt.lastX,lastY:dt.lastY,x:ot,y:ut}}function vs(et,ot){var ut=et.props.scale;return{node:ot.node,x:et.state.x+ot.deltaX/ut,y:et.state.y+ot.deltaY/ut,deltaX:ot.deltaX/ut,deltaY:ot.deltaY/ut,lastX:et.state.x,lastY:et.state.y}}function _h(et){return{left:et.left,top:et.top,right:et.right,bottom:et.bottom}}function Po(et){var ot=et.findDOMNode();if(!ot)throw new Error("<DraggableCore>: Unmounted during event!");return ot}var Fa={},ac={};Object.defineProperty(ac,"__esModule",{value:!0}),ac.default=rl;function rl(){}function Ic(et){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ic=function(ot){return typeof ot}:Ic=function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},Ic(et)}Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.default=void 0;var Ot=yi(Yo),Rt=Ln(wa.exports),ae=Ln(Yo),Se=zr,Re=Us,Ke=aa,hn=Ln(ac);function Ln(et){return et&&et.__esModule?et:{default:et}}function lr(et){if(typeof WeakMap!="function")return null;var ot=new WeakMap,ut=new WeakMap;return(lr=function(dt){return dt?ut:ot})(et)}function yi(et,ot){if(!ot&&et&&et.__esModule)return et;if(et===null||Ic(et)!=="object"&&typeof et!="function")return{default:et};var ut=lr(ot);if(ut&&ut.has(et))return ut.get(et);var dt={},gt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mt in et)if(Mt!=="default"&&Object.prototype.hasOwnProperty.call(et,Mt)){var zt=gt?Object.getOwnPropertyDescriptor(et,Mt):null;zt&&(zt.get||zt.set)?Object.defineProperty(dt,Mt,zt):dt[Mt]=et[Mt]}return dt.default=et,ut&&ut.set(et,dt),dt}function ii(et,ot){return ao(et)||to(et,ot)||Ci(et,ot)||oo()}function oo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ci(et,ot){if(et){if(typeof et=="string")return Ri(et,ot);var ut=Object.prototype.toString.call(et).slice(8,-1);if(ut==="Object"&&et.constructor&&(ut=et.constructor.name),ut==="Map"||ut==="Set")return Array.from(et);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return Ri(et,ot)}}function Ri(et,ot){(ot==null||ot>et.length)&&(ot=et.length);for(var ut=0,dt=new Array(ot);ut<ot;ut++)dt[ut]=et[ut];return dt}function to(et,ot){var ut=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(ut!=null){var dt=[],gt=!0,Mt=!1,zt,Jt;try{for(ut=ut.call(et);!(gt=(zt=ut.next()).done)&&(dt.push(zt.value),!(ot&&dt.length===ot));gt=!0);}catch(ue){Mt=!0,Jt=ue}finally{try{!gt&&ut.return!=null&&ut.return()}finally{if(Mt)throw Jt}}return dt}}function ao(et){if(Array.isArray(et))return et}function ho(et,ot){if(!(et instanceof ot))throw new TypeError("Cannot call a class as a function")}function Sa(et,ot){for(var ut=0;ut<ot.length;ut++){var dt=ot[ut];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(et,dt.key,dt)}}function ef(et,ot,ut){return ot&&Sa(et.prototype,ot),ut&&Sa(et,ut),et}function il(et,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(ot&&ot.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),ot&&$u(et,ot)}function $u(et,ot){return $u=Object.setPrototypeOf||function(ut,dt){return ut.__proto__=dt,ut},$u(et,ot)}function Bl(et){var ot=au();return function(){var ut=Lc(et),dt;if(ot){var gt=Lc(this).constructor;dt=Reflect.construct(ut,arguments,gt)}else dt=ut.apply(this,arguments);return nd(this,dt)}}function nd(et,ot){if(ot&&(Ic(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ki(et)}function ki(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function au(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lc(et){return Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(ot){return ot.__proto__||Object.getPrototypeOf(ot)},Lc(et)}function Ca(et,ot,ut){return ot in et?Object.defineProperty(et,ot,{value:ut,enumerable:!0,configurable:!0,writable:!0}):et[ot]=ut,et}var ka={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},$l=ka.mouse,lu=function(et){il(ut,et);var ot=Bl(ut);function ut(){var dt;ho(this,ut);for(var gt=arguments.length,Mt=new Array(gt),zt=0;zt<gt;zt++)Mt[zt]=arguments[zt];return dt=ot.call.apply(ot,[this].concat(Mt)),Ca(ki(dt),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Ca(ki(dt),"mounted",!1),Ca(ki(dt),"handleDragStart",function(Jt){if(dt.props.onMouseDown(Jt),!dt.props.allowAnyClick&&typeof Jt.button=="number"&&Jt.button!==0)return!1;var ue=dt.findDOMNode();if(!ue||!ue.ownerDocument||!ue.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var he=ue.ownerDocument;if(!(dt.props.disabled||!(Jt.target instanceof he.defaultView.Node)||dt.props.handle&&!(0,Se.matchesSelectorAndParentsTo)(Jt.target,dt.props.handle,ue)||dt.props.cancel&&(0,Se.matchesSelectorAndParentsTo)(Jt.target,dt.props.cancel,ue))){Jt.type==="touchstart"&&Jt.preventDefault();var le=(0,Se.getTouchIdentifier)(Jt);dt.setState({touchIdentifier:le});var Ue=(0,Re.getControlPosition)(Jt,le,ki(dt));if(Ue!=null){var tn=Ue.x,ln=Ue.y,Mn=(0,Re.createCoreData)(ki(dt),tn,ln);(0,hn.default)("DraggableCore: handleDragStart: %j",Mn),(0,hn.default)("calling",dt.props.onStart);var Rn=dt.props.onStart(Jt,Mn);Rn===!1||dt.mounted===!1||(dt.props.enableUserSelectHack&&(0,Se.addUserSelectStyles)(he),dt.setState({dragging:!0,lastX:tn,lastY:ln}),(0,Se.addEvent)(he,$l.move,dt.handleDrag),(0,Se.addEvent)(he,$l.stop,dt.handleDragStop))}}}),Ca(ki(dt),"handleDrag",function(Jt){var ue=(0,Re.getControlPosition)(Jt,dt.state.touchIdentifier,ki(dt));if(ue!=null){var he=ue.x,le=ue.y;if(Array.isArray(dt.props.grid)){var Ue=he-dt.state.lastX,tn=le-dt.state.lastY,ln=(0,Re.snapToGrid)(dt.props.grid,Ue,tn),Mn=ii(ln,2);if(Ue=Mn[0],tn=Mn[1],!Ue&&!tn)return;he=dt.state.lastX+Ue,le=dt.state.lastY+tn}var Rn=(0,Re.createCoreData)(ki(dt),he,le);(0,hn.default)("DraggableCore: handleDrag: %j",Rn);var On=dt.props.onDrag(Jt,Rn);if(On===!1||dt.mounted===!1){try{dt.handleDragStop(new MouseEvent("mouseup"))}catch{var or=document.createEvent("MouseEvents");or.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),dt.handleDragStop(or)}return}dt.setState({lastX:he,lastY:le})}}),Ca(ki(dt),"handleDragStop",function(Jt){if(dt.state.dragging){var ue=(0,Re.getControlPosition)(Jt,dt.state.touchIdentifier,ki(dt));if(ue!=null){var he=ue.x,le=ue.y,Ue=(0,Re.createCoreData)(ki(dt),he,le),tn=dt.props.onStop(Jt,Ue);if(tn===!1||dt.mounted===!1)return!1;var ln=dt.findDOMNode();ln&&dt.props.enableUserSelectHack&&(0,Se.removeUserSelectStyles)(ln.ownerDocument),(0,hn.default)("DraggableCore: handleDragStop: %j",Ue),dt.setState({dragging:!1,lastX:NaN,lastY:NaN}),ln&&((0,hn.default)("DraggableCore: Removing handlers"),(0,Se.removeEvent)(ln.ownerDocument,$l.move,dt.handleDrag),(0,Se.removeEvent)(ln.ownerDocument,$l.stop,dt.handleDragStop))}}}),Ca(ki(dt),"onMouseDown",function(Jt){return $l=ka.mouse,dt.handleDragStart(Jt)}),Ca(ki(dt),"onMouseUp",function(Jt){return $l=ka.mouse,dt.handleDragStop(Jt)}),Ca(ki(dt),"onTouchStart",function(Jt){return $l=ka.touch,dt.handleDragStart(Jt)}),Ca(ki(dt),"onTouchEnd",function(Jt){return $l=ka.touch,dt.handleDragStop(Jt)}),dt}return ef(ut,[{key:"componentDidMount",value:function(){this.mounted=!0;var dt=this.findDOMNode();dt&&(0,Se.addEvent)(dt,ka.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var dt=this.findDOMNode();if(dt){var gt=dt.ownerDocument;(0,Se.removeEvent)(gt,ka.mouse.move,this.handleDrag),(0,Se.removeEvent)(gt,ka.touch.move,this.handleDrag),(0,Se.removeEvent)(gt,ka.mouse.stop,this.handleDragStop),(0,Se.removeEvent)(gt,ka.touch.stop,this.handleDragStop),(0,Se.removeEvent)(dt,ka.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Se.removeUserSelectStyles)(gt)}}},{key:"findDOMNode",value:function(){var dt,gt,Mt;return(dt=(gt=this.props)===null||gt===void 0||(Mt=gt.nodeRef)===null||Mt===void 0?void 0:Mt.current)!==null&&dt!==void 0?dt:ae.default.findDOMNode(this)}},{key:"render",value:function(){return Ot.cloneElement(Ot.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),ut}(Ot.Component);Fa.default=lu,Ca(lu,"displayName","DraggableCore"),Ca(lu,"propTypes",{allowAnyClick:Rt.default.bool,disabled:Rt.default.bool,enableUserSelectHack:Rt.default.bool,offsetParent:function(et,ot){if(et[ot]&&et[ot].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Rt.default.arrayOf(Rt.default.number),handle:Rt.default.string,cancel:Rt.default.string,nodeRef:Rt.default.object,onStart:Rt.default.func,onDrag:Rt.default.func,onStop:Rt.default.func,onMouseDown:Rt.default.func,scale:Rt.default.number,className:Ke.dontSetMe,style:Ke.dontSetMe,transform:Ke.dontSetMe}),Ca(lu,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(et){function ot(Gn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ot=function(hr){return typeof hr}:ot=function(hr){return hr&&typeof Symbol=="function"&&hr.constructor===Symbol&&hr!==Symbol.prototype?"symbol":typeof hr},ot(Gn)}Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"DraggableCore",{enumerable:!0,get:function(){return he.default}}),et.default=void 0;var ut=Mn(Yo),dt=tn(wa.exports),gt=tn(Yo),Mt=tn(ja),zt=zr,Jt=Us,ue=aa,he=tn(Fa),le=tn(ac),Ue=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function tn(Gn){return Gn&&Gn.__esModule?Gn:{default:Gn}}function ln(Gn){if(typeof WeakMap!="function")return null;var hr=new WeakMap,pr=new WeakMap;return(ln=function(dr){return dr?pr:hr})(Gn)}function Mn(Gn,hr){if(!hr&&Gn&&Gn.__esModule)return Gn;if(Gn===null||ot(Gn)!=="object"&&typeof Gn!="function")return{default:Gn};var pr=ln(hr);if(pr&&pr.has(Gn))return pr.get(Gn);var dr={},xr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var hi in Gn)if(hi!=="default"&&Object.prototype.hasOwnProperty.call(Gn,hi)){var ys=xr?Object.getOwnPropertyDescriptor(Gn,hi):null;ys&&(ys.get||ys.set)?Object.defineProperty(dr,hi,ys):dr[hi]=Gn[hi]}return dr.default=Gn,pr&&pr.set(Gn,dr),dr}function Rn(){return Rn=Object.assign||function(Gn){for(var hr=1;hr<arguments.length;hr++){var pr=arguments[hr];for(var dr in pr)Object.prototype.hasOwnProperty.call(pr,dr)&&(Gn[dr]=pr[dr])}return Gn},Rn.apply(this,arguments)}function On(Gn,hr){if(Gn==null)return{};var pr=or(Gn,hr),dr,xr;if(Object.getOwnPropertySymbols){var hi=Object.getOwnPropertySymbols(Gn);for(xr=0;xr<hi.length;xr++)dr=hi[xr],!(hr.indexOf(dr)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Gn,dr)||(pr[dr]=Gn[dr]))}return pr}function or(Gn,hr){if(Gn==null)return{};var pr={},dr=Object.keys(Gn),xr,hi;for(hi=0;hi<dr.length;hi++)xr=dr[hi],!(hr.indexOf(xr)>=0)&&(pr[xr]=Gn[xr]);return pr}function fr(Gn,hr){var pr=Object.keys(Gn);if(Object.getOwnPropertySymbols){var dr=Object.getOwnPropertySymbols(Gn);hr&&(dr=dr.filter(function(xr){return Object.getOwnPropertyDescriptor(Gn,xr).enumerable})),pr.push.apply(pr,dr)}return pr}function oi(Gn){for(var hr=1;hr<arguments.length;hr++){var pr=arguments[hr]!=null?arguments[hr]:{};hr%2?fr(Object(pr),!0).forEach(function(dr){eu(Gn,dr,pr[dr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gn,Object.getOwnPropertyDescriptors(pr)):fr(Object(pr)).forEach(function(dr){Object.defineProperty(Gn,dr,Object.getOwnPropertyDescriptor(pr,dr))})}return Gn}function Zr(Gn,hr){return ws(Gn)||gs(Gn,hr)||li(Gn,hr)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(Gn,hr){if(Gn){if(typeof Gn=="string")return Jr(Gn,hr);var pr=Object.prototype.toString.call(Gn).slice(8,-1);if(pr==="Object"&&Gn.constructor&&(pr=Gn.constructor.name),pr==="Map"||pr==="Set")return Array.from(Gn);if(pr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pr))return Jr(Gn,hr)}}function Jr(Gn,hr){(hr==null||hr>Gn.length)&&(hr=Gn.length);for(var pr=0,dr=new Array(hr);pr<hr;pr++)dr[pr]=Gn[pr];return dr}function gs(Gn,hr){var pr=Gn==null?null:typeof Symbol<"u"&&Gn[Symbol.iterator]||Gn["@@iterator"];if(pr!=null){var dr=[],xr=!0,hi=!1,ys,ba;try{for(pr=pr.call(Gn);!(xr=(ys=pr.next()).done)&&(dr.push(ys.value),!(hr&&dr.length===hr));xr=!0);}catch($o){hi=!0,ba=$o}finally{try{!xr&&pr.return!=null&&pr.return()}finally{if(hi)throw ba}}return dr}}function ws(Gn){if(Array.isArray(Gn))return Gn}function jo(Gn,hr){if(!(Gn instanceof hr))throw new TypeError("Cannot call a class as a function")}function Bo(Gn,hr){for(var pr=0;pr<hr.length;pr++){var dr=hr[pr];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(Gn,dr.key,dr)}}function Kc(Gn,hr,pr){return hr&&Bo(Gn.prototype,hr),pr&&Bo(Gn,pr),Gn}function Ol(Gn,hr){if(typeof hr!="function"&&hr!==null)throw new TypeError("Super expression must either be null or a function");Gn.prototype=Object.create(hr&&hr.prototype,{constructor:{value:Gn,writable:!0,configurable:!0}}),hr&&ed(Gn,hr)}function ed(Gn,hr){return ed=Object.setPrototypeOf||function(pr,dr){return pr.__proto__=dr,pr},ed(Gn,hr)}function tu(Gn){var hr=j1();return function(){var pr=ep(Gn),dr;if(hr){var xr=ep(this).constructor;dr=Reflect.construct(pr,arguments,xr)}else dr=pr.apply(this,arguments);return Ou(this,dr)}}function Ou(Gn,hr){if(hr&&(ot(hr)==="object"||typeof hr=="function"))return hr;if(hr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ja(Gn)}function Ja(Gn){if(Gn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Gn}function j1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ep(Gn){return ep=Object.setPrototypeOf?Object.getPrototypeOf:function(hr){return hr.__proto__||Object.getPrototypeOf(hr)},ep(Gn)}function eu(Gn,hr,pr){return hr in Gn?Object.defineProperty(Gn,hr,{value:pr,enumerable:!0,configurable:!0,writable:!0}):Gn[hr]=pr,Gn}var is=function(Gn){Ol(pr,Gn);var hr=tu(pr);function pr(dr){var xr;return jo(this,pr),xr=hr.call(this,dr),eu(Ja(xr),"onDragStart",function(hi,ys){(0,le.default)("Draggable: onDragStart: %j",ys);var ba=xr.props.onStart(hi,(0,Jt.createDraggableData)(Ja(xr),ys));if(ba===!1)return!1;xr.setState({dragging:!0,dragged:!0})}),eu(Ja(xr),"onDrag",function(hi,ys){if(!xr.state.dragging)return!1;(0,le.default)("Draggable: onDrag: %j",ys);var ba=(0,Jt.createDraggableData)(Ja(xr),ys),$o={x:ba.x,y:ba.y};if(xr.props.bounds){var np=$o.x,hh=$o.y;$o.x+=xr.state.slackX,$o.y+=xr.state.slackY;var Kd=(0,Jt.getBoundPosition)(Ja(xr),$o.x,$o.y),lg=Zr(Kd,2),B1=lg[0],$1=lg[1];$o.x=B1,$o.y=$1,$o.slackX=xr.state.slackX+(np-$o.x),$o.slackY=xr.state.slackY+(hh-$o.y),ba.x=$o.x,ba.y=$o.y,ba.deltaX=$o.x-xr.state.x,ba.deltaY=$o.y-xr.state.y}var pv=xr.props.onDrag(hi,ba);if(pv===!1)return!1;xr.setState($o)}),eu(Ja(xr),"onDragStop",function(hi,ys){if(!xr.state.dragging)return!1;var ba=xr.props.onStop(hi,(0,Jt.createDraggableData)(Ja(xr),ys));if(ba===!1)return!1;(0,le.default)("Draggable: onDragStop: %j",ys);var $o={dragging:!1,slackX:0,slackY:0},np=!!xr.props.position;if(np){var hh=xr.props.position,Kd=hh.x,lg=hh.y;$o.x=Kd,$o.y=lg}xr.setState($o)}),xr.state={dragging:!1,dragged:!1,x:dr.position?dr.position.x:dr.defaultPosition.x,y:dr.position?dr.position.y:dr.defaultPosition.y,prevPropsPosition:oi({},dr.position),slackX:0,slackY:0,isElementSVG:!1},dr.position&&!(dr.onDrag||dr.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),xr}return Kc(pr,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var dr,xr,hi;return(dr=(xr=this.props)===null||xr===void 0||(hi=xr.nodeRef)===null||hi===void 0?void 0:hi.current)!==null&&dr!==void 0?dr:gt.default.findDOMNode(this)}},{key:"render",value:function(){var dr,xr=this.props;xr.axis,xr.bounds;var hi=xr.children,ys=xr.defaultPosition,ba=xr.defaultClassName,$o=xr.defaultClassNameDragging,np=xr.defaultClassNameDragged,hh=xr.position,Kd=xr.positionOffset;xr.scale;var lg=On(xr,Ue),B1={},$1=null,pv=!!hh,_b=!pv||this.state.dragging,wb=hh||ys,xb={x:(0,Jt.canDragX)(this)&&_b?this.state.x:wb.x,y:(0,Jt.canDragY)(this)&&_b?this.state.y:wb.y};this.state.isElementSVG?$1=(0,zt.createSVGTransform)(xb,Kd):B1=(0,zt.createCSSTransform)(xb,Kd);var Uw=(0,Mt.default)(hi.props.className||"",ba,(dr={},eu(dr,$o,this.state.dragging),eu(dr,np,this.state.dragged),dr));return ut.createElement(he.default,Rn({},lg,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),ut.cloneElement(ut.Children.only(hi),{className:Uw,style:oi(oi({},hi.props.style),B1),transform:$1}))}}],[{key:"getDerivedStateFromProps",value:function(dr,xr){var hi=dr.position,ys=xr.prevPropsPosition;return hi&&(!ys||hi.x!==ys.x||hi.y!==ys.y)?((0,le.default)("Draggable: getDerivedStateFromProps %j",{position:hi,prevPropsPosition:ys}),{x:hi.x,y:hi.y,prevPropsPosition:oi({},hi)}):null}}]),pr}(ut.Component);et.default=is,eu(is,"displayName","Draggable"),eu(is,"propTypes",oi(oi({},he.default.propTypes),{},{axis:dt.default.oneOf(["both","x","y","none"]),bounds:dt.default.oneOfType([dt.default.shape({left:dt.default.number,right:dt.default.number,top:dt.default.number,bottom:dt.default.number}),dt.default.string,dt.default.oneOf([!1])]),defaultClassName:dt.default.string,defaultClassNameDragging:dt.default.string,defaultClassNameDragged:dt.default.string,defaultPosition:dt.default.shape({x:dt.default.number,y:dt.default.number}),positionOffset:dt.default.shape({x:dt.default.oneOfType([dt.default.number,dt.default.string]),y:dt.default.oneOfType([dt.default.number,dt.default.string])}),position:dt.default.shape({x:dt.default.number,y:dt.default.number}),className:ue.dontSetMe,style:ue.dontSetMe,transform:ue.dontSetMe})),eu(is,"defaultProps",oi(oi({},he.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(el);var cu=el,wh=cu.default,xh=cu.DraggableCore;Io.exports=wh,Io.exports.default=wh,Io.exports.DraggableCore=xh;var rd=Io.exports,cg=["second","minute","hour","day","week","month","year"];function lc(et,ot){if(ot===0)return["just now","right now"];var ut=cg[Math.floor(ot/2)];return et>1&&(ut+="s"),[et+" "+ut+" ago","in "+et+" "+ut]}var ug=["","","","","","",""];function nf(et,ot){if(ot===0)return["",""];var ut=ug[~~(ot/2)];return[et+" "+ut+"",et+" "+ut+""]}var od={},Go=function(et,ot){od[et]=ot},rp=function(et){return od[et]||od.en_US},zo=[60,60,24,7,365/7/12,12];function Fu(et){return et instanceof Date?et:!isNaN(et)||/^\d+$/.test(et)?new Date(parseInt(et)):(et=(et||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(et))}function Fl(et,ot){var ut=et<0?1:0;et=Math.abs(et);for(var dt=et,gt=0;et>=zo[gt]&&gt<zo.length;gt++)et/=zo[gt];return et=Math.floor(et),gt*=2,et>(gt===0?9:1)&&(gt+=1),ot(et,gt,dt)[ut].replace("%s",et.toString())}function Oc(et,ot){var ut=ot?Fu(ot):new Date;return(+ut-+Fu(et))/1e3}function ip(et){for(var ot=1,ut=0,dt=Math.abs(et);et>=zo[ut]&&ut<zo.length;ut++)et/=zo[ut],ot*=zo[ut];return dt=dt%ot,dt=dt?ot-dt:ot,Math.ceil(dt)}var rf=function(et,ot,ut){var dt=Oc(et,ut&&ut.relativeDate);return Fl(dt,rp(ot))},sd="timeago-id";function Eh(et){return et.getAttribute("datetime")}function op(et,ot){et.setAttribute(sd,ot)}function Pc(et){return parseInt(et.getAttribute(sd))}var Mh={},Uu=function(et){clearTimeout(et),delete Mh[et]};function of(et,ot,ut,dt){Uu(Pc(et));var gt=dt.relativeDate,Mt=dt.minInterval,zt=Oc(ot,gt);et.innerText=Fl(zt,ut);var Jt=setTimeout(function(){of(et,ot,ut,dt)},Math.min(Math.max(ip(zt),Mt||1)*1e3,2147483647));Mh[Jt]=0,op(et,Jt)}function yl(et){et?Uu(Pc(et)):Object.keys(Mh).forEach(Uu)}function ad(et,ot,ut){var dt=et.length?et:[et];return dt.forEach(function(gt){of(gt,Eh(gt),rp(ot),ut||{})}),dt}Go("en_US",lc),Go("zh_CN",nf);var ld=function(){var et=function(ot,ut){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,gt){dt.__proto__=gt}||function(dt,gt){for(var Mt in gt)gt.hasOwnProperty(Mt)&&(dt[Mt]=gt[Mt])},et(ot,ut)};return function(ot,ut){et(ot,ut);function dt(){this.constructor=ot}ot.prototype=ut===null?Object.create(ut):(dt.prototype=ut.prototype,new dt)}}(),zc=function(){return zc=Object.assign||function(et){for(var ot,ut=1,dt=arguments.length;ut<dt;ut++){ot=arguments[ut];for(var gt in ot)Object.prototype.hasOwnProperty.call(ot,gt)&&(et[gt]=ot[gt])}return et},zc.apply(this,arguments)},Aa=function(et,ot){var ut={};for(var dt in et)Object.prototype.hasOwnProperty.call(et,dt)&&ot.indexOf(dt)<0&&(ut[dt]=et[dt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,dt=Object.getOwnPropertySymbols(et);gt<dt.length;gt++)ot.indexOf(dt[gt])<0&&Object.prototype.propertyIsEnumerable.call(et,dt[gt])&&(ut[dt[gt]]=et[dt[gt]]);return ut},cd=function(et){return""+(et instanceof Date?et.getTime():et)},Yu=function(et){ld(ot,et);function ot(){var ut=et!==null&&et.apply(this,arguments)||this;return ut.dom=null,ut}return ot.prototype.componentDidMount=function(){this.renderTimeAgo()},ot.prototype.componentDidUpdate=function(){this.renderTimeAgo()},ot.prototype.renderTimeAgo=function(){var ut=this.props,dt=ut.live,gt=ut.datetime,Mt=ut.locale,zt=ut.opts;yl(this.dom),dt!==!1&&(this.dom.setAttribute("datetime",cd(gt)),ad(this.dom,Mt,zt))},ot.prototype.componentWillUnmount=function(){yl(this.dom)},ot.prototype.render=function(){var ut=this,dt=this.props,gt=dt.datetime;dt.live;var Mt=dt.locale,zt=dt.opts,Jt=Aa(dt,["datetime","live","locale","opts"]);return Dt("time",zc({ref:function(ue){ut.dom=ue}},Jt),rf(gt,Mt,zt))},ot.defaultProps={live:!0,className:""},ot}(wr);function sf(et,ot){const ut=dt=>{et.current&&!et.current.contains(event.target)&&ot()};sr(()=>(document.addEventListener("mousedown",ut),()=>document.removeEventListener("mousedown",ut)))}var ud=Object.prototype.toString,sp=function(et){var ot=ud.call(et),ut=ot==="[object Arguments]";return ut||(ut=ot!=="[object Array]"&&et!==null&&typeof et=="object"&&typeof et.length=="number"&&et.length>=0&&ud.call(et.callee)==="[object Function]"),ut},hd;if(!Object.keys){var Hu=Object.prototype.hasOwnProperty,Th=Object.prototype.toString,ap=sp,uu=Object.prototype.propertyIsEnumerable,hg=!uu.call({toString:null},"toString"),af=uu.call(function(){},"prototype"),Vu=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Gu=function(et){var ot=et.constructor;return ot&&ot.prototype===et},it={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},pt=function(){if(typeof window>"u")return!1;for(var et in window)try{if(!it["$"+et]&&Hu.call(window,et)&&window[et]!==null&&typeof window[et]=="object")try{Gu(window[et])}catch{return!0}}catch{return!0}return!1}(),St=function(et){if(typeof window>"u"||!pt)return Gu(et);try{return Gu(et)}catch{return!1}};hd=function(et){var ot=et!==null&&typeof et=="object",ut=Th.call(et)==="[object Function]",dt=ap(et),gt=ot&&Th.call(et)==="[object String]",Mt=[];if(!ot&&!ut&&!dt)throw new TypeError("Object.keys called on a non-object");var zt=af&&ut;if(gt&&et.length>0&&!Hu.call(et,0))for(var Jt=0;Jt<et.length;++Jt)Mt.push(String(Jt));if(dt&&et.length>0)for(var ue=0;ue<et.length;++ue)Mt.push(String(ue));else for(var he in et)!(zt&&he==="prototype")&&Hu.call(et,he)&&Mt.push(String(he));if(hg)for(var le=St(et),Ue=0;Ue<Vu.length;++Ue)!(le&&Vu[Ue]==="constructor")&&Hu.call(et,Vu[Ue])&&Mt.push(Vu[Ue]);return Mt}}var Ut=hd,se=Array.prototype.slice,Ne=sp,nn=Object.keys,_n=nn?function(et){return nn(et)}:Ut,kn=Object.keys;_n.shim=function(){if(Object.keys){var et=function(){var ot=Object.keys(arguments);return ot&&ot.length===arguments.length}(1,2);et||(Object.keys=function(ot){return Ne(ot)?kn(se.call(ot)):kn(ot)})}else Object.keys=_n;return Object.keys||_n};var Vn=_n,yr=Vn,qr=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",vi=Object.prototype.toString,ta=Array.prototype.concat,os=Object.defineProperty,ea=function(et){return typeof et=="function"&&vi.call(et)==="[object Function]"},ua=function(){var et={};try{os(et,"x",{enumerable:!1,value:et});for(var ot in et)return!1;return et.x===et}catch{return!1}},Rc=os&&ua(),lp=function(et,ot,ut,dt){ot in et&&(!ea(dt)||!dt())||(Rc?os(et,ot,{configurable:!0,enumerable:!1,value:ut,writable:!0}):et[ot]=ut)},lf=function(et,ot){var ut=arguments.length>2?arguments[2]:{},dt=yr(ot);qr&&(dt=ta.call(dt,Object.getOwnPropertySymbols(ot)));for(var gt=0;gt<dt.length;gt+=1)lp(et,dt[gt],ot[dt[gt]],ut[dt[gt]])};lf.supportsDescriptors=!!Rc;var hu=lf,du={exports:{}},cf="Function.prototype.bind called on incompatible ",cc=Array.prototype.slice,ss=Object.prototype.toString,Sh="[object Function]",cp=function(et){var ot=this;if(typeof ot!="function"||ss.call(ot)!==Sh)throw new TypeError(cf+ot);for(var ut=cc.call(arguments,1),dt,gt=function(){if(this instanceof dt){var he=ot.apply(this,ut.concat(cc.call(arguments)));return Object(he)===he?he:this}else return ot.apply(et,ut.concat(cc.call(arguments)))},Mt=Math.max(0,ot.length-ut.length),zt=[],Jt=0;Jt<Mt;Jt++)zt.push("$"+Jt);if(dt=Function("binder","return function ("+zt.join(",")+"){ return binder.apply(this,arguments); }")(gt),ot.prototype){var ue=function(){};ue.prototype=ot.prototype,dt.prototype=new ue,ue.prototype=null}return dt},Wu=cp,dd=Function.prototype.bind||Wu,Ch=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var et={},ot=Symbol("test"),ut=Object(ot);if(typeof ot=="string"||Object.prototype.toString.call(ot)!=="[object Symbol]"||Object.prototype.toString.call(ut)!=="[object Symbol]")return!1;var dt=42;et[ot]=dt;for(ot in et)return!1;if(typeof Object.keys=="function"&&Object.keys(et).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(et).length!==0)return!1;var gt=Object.getOwnPropertySymbols(et);if(gt.length!==1||gt[0]!==ot||!Object.prototype.propertyIsEnumerable.call(et,ot))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var Mt=Object.getOwnPropertyDescriptor(et,ot);if(Mt.value!==dt||Mt.enumerable!==!0)return!1}return!0},fd=typeof Symbol<"u"&&Symbol,fu=Ch,dg=function(){return typeof fd!="function"||typeof Symbol!="function"||typeof fd("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fu()},pd=dd,fg=pd.call(Function.call,Object.prototype.hasOwnProperty),fo,pu=SyntaxError,uf=Function,gu=TypeError,up=function(et){try{return uf('"use strict"; return ('+et+").constructor;")()}catch{}},qu=Object.getOwnPropertyDescriptor;if(qu)try{qu({},"")}catch{qu=null}var pg=function(){throw new gu},j0=qu?function(){try{return arguments.callee,pg}catch{try{return qu(arguments,"callee").get}catch{return pg}}}():pg,Ul=dg(),Qu=Object.getPrototypeOf||function(et){return et.__proto__},bs={},uc=typeof Uint8Array>"u"?fo:Qu(Uint8Array),di={"%AggregateError%":typeof AggregateError>"u"?fo:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fo:ArrayBuffer,"%ArrayIteratorPrototype%":Ul?Qu([][Symbol.iterator]()):fo,"%AsyncFromSyncIteratorPrototype%":fo,"%AsyncFunction%":bs,"%AsyncGenerator%":bs,"%AsyncGeneratorFunction%":bs,"%AsyncIteratorPrototype%":bs,"%Atomics%":typeof Atomics>"u"?fo:Atomics,"%BigInt%":typeof BigInt>"u"?fo:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fo:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?fo:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fo:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fo:FinalizationRegistry,"%Function%":uf,"%GeneratorFunction%":bs,"%Int8Array%":typeof Int8Array>"u"?fo:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fo:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fo:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ul?Qu(Qu([][Symbol.iterator]())):fo,"%JSON%":typeof JSON=="object"?JSON:fo,"%Map%":typeof Map>"u"?fo:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ul?fo:Qu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fo:Promise,"%Proxy%":typeof Proxy>"u"?fo:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?fo:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fo:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ul?fo:Qu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fo:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ul?Qu(""[Symbol.iterator]()):fo,"%Symbol%":Ul?Symbol:fo,"%SyntaxError%":pu,"%ThrowTypeError%":j0,"%TypedArray%":uc,"%TypeError%":gu,"%Uint8Array%":typeof Uint8Array>"u"?fo:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fo:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fo:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fo:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?fo:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fo:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fo:WeakSet},ji=function et(ot){var ut;if(ot==="%AsyncFunction%")ut=up("async function () {}");else if(ot==="%GeneratorFunction%")ut=up("function* () {}");else if(ot==="%AsyncGeneratorFunction%")ut=up("async function* () {}");else if(ot==="%AsyncGenerator%"){var dt=et("%AsyncGeneratorFunction%");dt&&(ut=dt.prototype)}else if(ot==="%AsyncIteratorPrototype%"){var gt=et("%AsyncGenerator%");gt&&(ut=Qu(gt.prototype))}return di[ot]=ut,ut},Ai={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bi=dd,_i=fg,Bi=bi.call(Function.call,Array.prototype.concat),$i=bi.call(Function.apply,Array.prototype.splice),Ni=bi.call(Function.call,String.prototype.replace),wi=bi.call(Function.call,String.prototype.slice),Fi=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ui=/\\(\\)?/g,Yi=function(et){var ot=wi(et,0,1),ut=wi(et,-1);if(ot==="%"&&ut!=="%")throw new pu("invalid intrinsic syntax, expected closing `%`");if(ut==="%"&&ot!=="%")throw new pu("invalid intrinsic syntax, expected opening `%`");var dt=[];return Ni(et,Fi,function(gt,Mt,zt,Jt){dt[dt.length]=zt?Ni(Jt,Ui,"$1"):Mt||gt}),dt},Hi=function(et,ot){var ut=et,dt;if(_i(Ai,ut)&&(dt=Ai[ut],ut="%"+dt[0]+"%"),_i(di,ut)){var gt=di[ut];if(gt===bs&&(gt=ji(ut)),typeof gt>"u"&&!ot)throw new gu("intrinsic "+et+" exists, but is not available. Please file an issue!");return{alias:dt,name:ut,value:gt}}throw new pu("intrinsic "+et+" does not exist!")},Wr=function(et,ot){if(typeof et!="string"||et.length===0)throw new gu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ot!="boolean")throw new gu('"allowMissing" argument must be a boolean');var ut=Yi(et),dt=ut.length>0?ut[0]:"",gt=Hi("%"+dt+"%",ot),Mt=gt.name,zt=gt.value,Jt=!1,ue=gt.alias;ue&&(dt=ue[0],$i(ut,Bi([0,1],ue)));for(var he=1,le=!0;he<ut.length;he+=1){var Ue=ut[he],tn=wi(Ue,0,1),ln=wi(Ue,-1);if((tn==='"'||tn==="'"||tn==="`"||ln==='"'||ln==="'"||ln==="`")&&tn!==ln)throw new pu("property names with quotes must have matching quotes");if((Ue==="constructor"||!le)&&(Jt=!0),dt+="."+Ue,Mt="%"+dt+"%",_i(di,Mt))zt=di[Mt];else if(zt!=null){if(!(Ue in zt)){if(!ot)throw new gu("base intrinsic for "+et+" exists, but the property is not available.");return}if(qu&&he+1>=ut.length){var Mn=qu(zt,Ue);le=!!Mn,le&&"get"in Mn&&!("originalValue"in Mn.get)?zt=Mn.get:zt=zt[Ue]}else le=_i(zt,Ue),zt=zt[Ue];le&&!Jt&&(di[Mt]=zt)}}return zt};(function(et){var ot=dd,ut=Wr,dt=ut("%Function.prototype.apply%"),gt=ut("%Function.prototype.call%"),Mt=ut("%Reflect.apply%",!0)||ot.call(gt,dt),zt=ut("%Object.getOwnPropertyDescriptor%",!0),Jt=ut("%Object.defineProperty%",!0),ue=ut("%Math.max%");if(Jt)try{Jt({},"a",{value:1})}catch{Jt=null}et.exports=function(le){var Ue=Mt(ot,gt,arguments);if(zt&&Jt){var tn=zt(Ue,"length");tn.configurable&&Jt(Ue,"length",{value:1+ue(0,le.length-(arguments.length-1))})}return Ue};var he=function(){return Mt(ot,dt,arguments)};Jt?Jt(et.exports,"apply",{value:he}):et.exports.apply=he})(du);var Di=Wr,Ii=du.exports,Vi=Ii(Di("String.prototype.indexOf")),ui=function(et,ot){var ut=Di(et,!!ot);return typeof ut=="function"&&Vi(et,".prototype.")>-1?Ii(ut):ut},Gi=Wr,Wi=Gi("%TypeError%"),qi=function(et,ot){if(et==null)throw new Wi(ot||"Cannot call method on "+et);return et},xi=qi,Qi=Wr,Li=Qi("%Array%"),gg=!Li.isArray&&ui("Object.prototype.toString"),mg=Li.isArray||function(et){return gg(et)==="[object Array]"},hp=Wr,yg=ui,vg=hp("%TypeError%"),bg=mg,_g=hp("%Reflect.apply%",!0)||yg("%Function.prototype.apply%"),wg=function(et,ot){var ut=arguments.length>2?arguments[2]:[];if(!bg(ut))throw new vg("Assertion failed: optional `argumentsList`, if provided, must be a List");return _g(et,ot,ut)},br={},vr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:br}),Rr=_a(vr),kr=typeof Map=="function"&&Map.prototype,Vr=Object.getOwnPropertyDescriptor&&kr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Fr=kr&&Vr&&typeof Vr.get=="function"?Vr.get:null,Xi=kr&&Map.prototype.forEach,Oi=typeof Set=="function"&&Set.prototype,cr=Object.getOwnPropertyDescriptor&&Oi?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Te=Oi&&cr&&typeof cr.get=="function"?cr.get:null,xg=Oi&&Set.prototype.forEach,Y1=typeof WeakMap=="function"&&WeakMap.prototype,hf=Y1?WeakMap.prototype.has:null,H1=typeof WeakSet=="function"&&WeakSet.prototype,df=H1?WeakSet.prototype.has:null,V1=typeof WeakRef=="function"&&WeakRef.prototype,B0=V1?WeakRef.prototype.deref:null,G1=Boolean.prototype.valueOf,$0=Object.prototype.toString,F0=Function.prototype.toString,U0=String.prototype.match,gd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ff=Object.getOwnPropertySymbols,Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,md=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mg=Object.prototype.propertyIsEnumerable,Tg=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(et){return et.__proto__}:null),dp=Rr.custom,Sg=dp&&Ag(dp)?dp:null,ha=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,W1=function et(ot,ut,dt,gt){var Mt=ut||{};if(Xu(Mt,"quoteStyle")&&Mt.quoteStyle!=="single"&&Mt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Xu(Mt,"maxStringLength")&&(typeof Mt.maxStringLength=="number"?Mt.maxStringLength<0&&Mt.maxStringLength!==1/0:Mt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var zt=Xu(Mt,"customInspect")?Mt.customInspect:!0;if(typeof zt!="boolean"&&zt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Xu(Mt,"indent")&&Mt.indent!==null&&Mt.indent!=="	"&&!(parseInt(Mt.indent,10)===Mt.indent&&Mt.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof ot>"u")return"undefined";if(ot===null)return"null";if(typeof ot=="boolean")return ot?"true":"false";if(typeof ot=="string")return Dg(ot,Mt);if(typeof ot=="number")return ot===0?1/0/ot>0?"0":"-0":String(ot);if(typeof ot=="bigint")return String(ot)+"n";var Jt=typeof Mt.depth>"u"?5:Mt.depth;if(typeof dt>"u"&&(dt=0),dt>=Jt&&Jt>0&&typeof ot=="object")return fp(ot)?"[Array]":"[Object]";var ue=Z0(Mt,dt);if(typeof gt>"u")gt=[];else if(Ng(gt,ot)>=0)return"[Circular]";function he(jo,Bo,Kc){if(Bo&&(gt=gt.slice(),gt.push(Bo)),Kc){var Ol={depth:Mt.depth};return Xu(Mt,"quoteStyle")&&(Ol.quoteStyle=Mt.quoteStyle),et(jo,Ol,dt+1,gt)}return et(jo,Mt,dt+1,gt)}if(typeof ot=="function"){var le=X1(ot),Ue=pp(ot,he);return"[Function"+(le?": "+le:" (anonymous)")+"]"+(Ue.length>0?" { "+Ue.join(", ")+" }":"")}if(Ag(ot)){var tn=md?String(ot).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Eg.call(ot);return typeof ot=="object"&&!md?pf(tn):tn}if(ty(ot)){for(var ln="<"+String(ot.nodeName).toLowerCase(),Mn=ot.attributes||[],Rn=0;Rn<Mn.length;Rn++)ln+=" "+Mn[Rn].name+"="+Cg(Y0(Mn[Rn].value),"double",Mt);return ln+=">",ot.childNodes&&ot.childNodes.length&&(ln+="..."),ln+="</"+String(ot.nodeName).toLowerCase()+">",ln}if(fp(ot)){if(ot.length===0)return"[]";var On=pp(ot,he);return ue&&!ny(On)?"["+Lg(On,ue)+"]":"[ "+On.join(", ")+" ]"}if(kg(ot)){var or=pp(ot,he);return or.length===0?"["+String(ot)+"]":"{ ["+String(ot)+"] "+or.join(", ")+" }"}if(typeof ot=="object"&&zt){if(Sg&&typeof ot[Sg]=="function")return ot[Sg]();if(zt!=="symbol"&&typeof ot.inspect=="function")return ot.inspect()}if(q0(ot)){var fr=[];return Xi.call(ot,function(jo,Bo){fr.push(he(Bo,ot,!0)+" => "+he(jo,ot))}),X0("Map",Fr.call(ot),fr,ue)}if(Q0(ot)){var oi=[];return xg.call(ot,function(jo){oi.push(he(jo,ot))}),X0("Set",Te.call(ot),oi,ue)}if(Z1(ot))return Ig("WeakMap");if(K1(ot))return Ig("WeakSet");if(J1(ot))return Ig("WeakRef");if(V0(ot))return pf(he(Number(ot)));if(W0(ot))return pf(he(gd.call(ot)));if(G0(ot))return pf(G1.call(ot));if(Q1(ot))return pf(he(String(ot)));if(!q1(ot)&&!H0(ot)){var Zr=pp(ot,he),Gr=Tg?Tg(ot)===Object.prototype:ot instanceof Object||ot.constructor===Object,li=ot instanceof Object?"":"null prototype",Jr=!Gr&&ha&&Object(ot)===ot&&ha in ot?mu(ot).slice(8,-1):li?"Object":"",gs=Gr||typeof ot.constructor!="function"?"":ot.constructor.name?ot.constructor.name+" ":"",ws=gs+(Jr||li?"["+[].concat(Jr||[],li||[]).join(": ")+"] ":"");return Zr.length===0?ws+"{}":ue?ws+"{"+Lg(Zr,ue)+"}":ws+"{ "+Zr.join(", ")+" }"}return String(ot)};function Cg(et,ot,ut){var dt=(ut.quoteStyle||ot)==="double"?'"':"'";return dt+et+dt}function Y0(et){return String(et).replace(/"/g,"&quot;")}function fp(et){return mu(et)==="[object Array]"&&(!ha||!(typeof et=="object"&&ha in et))}function q1(et){return mu(et)==="[object Date]"&&(!ha||!(typeof et=="object"&&ha in et))}function H0(et){return mu(et)==="[object RegExp]"&&(!ha||!(typeof et=="object"&&ha in et))}function kg(et){return mu(et)==="[object Error]"&&(!ha||!(typeof et=="object"&&ha in et))}function Q1(et){return mu(et)==="[object String]"&&(!ha||!(typeof et=="object"&&ha in et))}function V0(et){return mu(et)==="[object Number]"&&(!ha||!(typeof et=="object"&&ha in et))}function G0(et){return mu(et)==="[object Boolean]"&&(!ha||!(typeof et=="object"&&ha in et))}function Ag(et){if(md)return et&&typeof et=="object"&&et instanceof Symbol;if(typeof et=="symbol")return!0;if(!et||typeof et!="object"||!Eg)return!1;try{return Eg.call(et),!0}catch{}return!1}function W0(et){if(!et||typeof et!="object"||!gd)return!1;try{return gd.call(et),!0}catch{}return!1}var jc=Object.prototype.hasOwnProperty||function(et){return et in this};function Xu(et,ot){return jc.call(et,ot)}function mu(et){return $0.call(et)}function X1(et){if(et.name)return et.name;var ot=U0.call(F0.call(et),/^function\s*([\w$]+)/);return ot?ot[1]:null}function Ng(et,ot){if(et.indexOf)return et.indexOf(ot);for(var ut=0,dt=et.length;ut<dt;ut++)if(et[ut]===ot)return ut;return-1}function q0(et){if(!Fr||!et||typeof et!="object")return!1;try{Fr.call(et);try{Te.call(et)}catch{return!0}return et instanceof Map}catch{}return!1}function Z1(et){if(!hf||!et||typeof et!="object")return!1;try{hf.call(et,hf);try{df.call(et,df)}catch{return!0}return et instanceof WeakMap}catch{}return!1}function J1(et){if(!B0||!et||typeof et!="object")return!1;try{return B0.call(et),!0}catch{}return!1}function Q0(et){if(!Te||!et||typeof et!="object")return!1;try{Te.call(et);try{Fr.call(et)}catch{return!0}return et instanceof Set}catch{}return!1}function K1(et){if(!df||!et||typeof et!="object")return!1;try{df.call(et,df);try{hf.call(et,hf)}catch{return!0}return et instanceof WeakSet}catch{}return!1}function ty(et){return!et||typeof et!="object"?!1:typeof HTMLElement<"u"&&et instanceof HTMLElement?!0:typeof et.nodeName=="string"&&typeof et.getAttribute=="function"}function Dg(et,ot){if(et.length>ot.maxStringLength){var ut=et.length-ot.maxStringLength,dt="... "+ut+" more character"+(ut>1?"s":"");return Dg(et.slice(0,ot.maxStringLength),ot)+dt}var gt=et.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,ey);return Cg(gt,"single",ot)}function ey(et){var ot=et.charCodeAt(0),ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[ot];return ut?"\\"+ut:"\\x"+(ot<16?"0":"")+ot.toString(16).toUpperCase()}function pf(et){return"Object("+et+")"}function Ig(et){return et+" { ? }"}function X0(et,ot,ut,dt){var gt=dt?Lg(ut,dt):ut.join(", ");return et+" ("+ot+") {"+gt+"}"}function ny(et){for(var ot=0;ot<et.length;ot++)if(Ng(et[ot],`
`)>=0)return!1;return!0}function Z0(et,ot){var ut;if(et.indent==="	")ut="	";else if(typeof et.indent=="number"&&et.indent>0)ut=Array(et.indent+1).join(" ");else return null;return{base:ut,prev:Array(ot+1).join(ut)}}function Lg(et,ot){if(et.length===0)return"";var ut=`
`+ot.prev+ot.base;return ut+et.join(","+ut)+`
`+ot.prev}function pp(et,ot){var ut=fp(et),dt=[];if(ut){dt.length=et.length;for(var gt=0;gt<et.length;gt++)dt[gt]=Xu(et,gt)?ot(et[gt],et):""}var Mt=typeof ff=="function"?ff(et):[],zt;if(md){zt={};for(var Jt=0;Jt<Mt.length;Jt++)zt["$"+Mt[Jt]]=Mt[Jt]}for(var ue in et)!Xu(et,ue)||ut&&String(Number(ue))===ue&&ue<et.length||md&&zt["$"+ue]instanceof Symbol||(/[^\w$]/.test(ue)?dt.push(ot(ue,et)+": "+ot(et[ue],et)):dt.push(ue+": "+ot(et[ue],et)));if(typeof ff=="function")for(var he=0;he<Mt.length;he++)Mg.call(et,Mt[he])&&dt.push("["+ot(Mt[he])+"]: "+ot(et[Mt[he]],et));return dt}var Og=function(et){return typeof et=="string"||typeof et=="symbol"},J0=function(et){if(et===null)return"Null";if(typeof et>"u")return"Undefined";if(typeof et=="function"||typeof et=="object")return"Object";if(typeof et=="number")return"Number";if(typeof et=="boolean")return"Boolean";if(typeof et=="string")return"String"},gp=J0,Zu=function(et){return typeof et=="symbol"?"Symbol":typeof et=="bigint"?"BigInt":gp(et)},mp=Wr,Pg=mp("%TypeError%"),ry=W1,K0=Og,iy=Zu,tm=function(et,ot){if(iy(et)!=="Object")throw new Pg("Assertion failed: Type(O) is not Object");if(!K0(ot))throw new Pg("Assertion failed: IsPropertyKey(P) is not true, got "+ry(ot));return et[ot]},yp=Wr,gf=yp("%TypeError%"),mf=Og,yf=Zu,em=function(et,ot){if(yf(et)!=="Object")throw new gf("Assertion failed: `O` must be an Object");if(!mf(ot))throw new gf("Assertion failed: `P` must be a Property Key");return ot in et},yd=Function.prototype.toString,Bc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,vd,vp;if(typeof Bc=="function"&&typeof Object.defineProperty=="function")try{vd=Object.defineProperty({},"length",{get:function(){throw vp}}),vp={},Bc(function(){throw 42},null,vd)}catch(et){et!==vp&&(Bc=null)}else Bc=null;var oy=/^\s*class\b/,zg=function(et){try{var ot=yd.call(et);return oy.test(ot)}catch{return!1}},nm=function(et){try{return zg(et)?!1:(yd.call(et),!0)}catch{return!1}},sy=Object.prototype.toString,Rg="[object Function]",rm="[object GeneratorFunction]",ay=typeof Symbol=="function"&&!!Symbol.toStringTag,kh=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},Ju=Bc?function(et){if(et===kh)return!0;if(!et||typeof et!="function"&&typeof et!="object")return!1;if(typeof et=="function"&&!et.prototype)return!0;try{Bc(et,null,vd)}catch(ot){if(ot!==vp)return!1}return!zg(et)}:function(et){if(et===kh)return!0;if(!et||typeof et!="function"&&typeof et!="object")return!1;if(typeof et=="function"&&!et.prototype)return!0;if(ay)return nm(et);if(zg(et))return!1;var ot=sy.call(et);return ot===Rg||ot===rm},im=Ju,om=Wr,sm=om("%Math%"),jg=om("%Number%"),ly=jg.MAX_SAFE_INTEGER||sm.pow(2,53)-1,cy=Wr,am=cy("%Math.abs%"),uy=function(et){return am(et)},bd=Math.floor,vl=function(et){return bd(et)},_d=function(et){return et===null||typeof et!="function"&&typeof et!="object"},Na=Object.prototype.toString,To=_d,hy=Ju,lm={"[[DefaultValue]]":function(et){var ot;if(arguments.length>1?ot=arguments[1]:ot=Na.call(et)==="[object Date]"?String:Number,ot===String||ot===Number){var ut=ot===String?["toString","valueOf"]:["valueOf","toString"],dt,gt;for(gt=0;gt<ut.length;++gt)if(hy(et[ut[gt]])&&(dt=et[ut[gt]](),To(dt)))return dt;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},Bg=function(et){return To(et)?et:arguments.length>1?lm["[[DefaultValue]]"](et,arguments[1]):lm["[[DefaultValue]]"](et)},dy=Bg,cm=dy,um=function(et){var ot=cm(et,Number);if(typeof ot!="string")return+ot;var ut=ot.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(ut)?NaN:+ut},$g=Number.isNaN||function(et){return et!==et},hm=Number.isNaN||function(et){return et!==et},dm=Number.isFinite||function(et){return typeof et=="number"&&!hm(et)&&et!==1/0&&et!==-1/0},fy=function(et){return et>=0?1:-1},py=uy,gy=vl,fm=um,pm=$g,gm=dm,mm=fy,ym=function(et){var ot=fm(et);return pm(ot)?0:ot===0||!gm(ot)?ot:mm(ot)*gy(py(ot))},vm=Wr,bm=vm("RegExp.prototype.test"),my=du.exports,yy=function(et){return my(bm,et)},vf=function(et){return et===null||typeof et!="function"&&typeof et!="object"},_m=Ch,Fg=function(){return _m()&&!!Symbol.toStringTag},wm=Date.prototype.getDay,xm=function(et){try{return wm.call(et),!0}catch{return!1}},Em=Object.prototype.toString,vy="[object Date]",Mm=Fg(),Ug=function(et){return typeof et!="object"||et===null?!1:Mm?xm(et):Em.call(et)===vy},bp={exports:{}},Yg=Object.prototype.toString,_p=dg();if(_p){var Hg=Symbol.prototype.toString,Tm=/^Symbol\(.*\)$/,by=function(et){return typeof et.valueOf()!="symbol"?!1:Tm.test(Hg.call(et))};bp.exports=function(et){if(typeof et=="symbol")return!0;if(Yg.call(et)!=="[object Symbol]")return!1;try{return by(et)}catch{return!1}}}else bp.exports=function(et){return!1};var Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Vg=_d,yu=Ju,Gg=Ug,Wg=bp.exports,qg=function(et,ot){if(typeof et>"u"||et===null)throw new TypeError("Cannot call method on "+et);if(typeof ot!="string"||ot!=="number"&&ot!=="string")throw new TypeError('hint must be "string" or "number"');var ut=ot==="string"?["toString","valueOf"]:["valueOf","toString"],dt,gt,Mt;for(Mt=0;Mt<ut.length;++Mt)if(dt=et[ut[Mt]],yu(dt)&&(gt=dt.call(et),Vg(gt)))return gt;throw new TypeError("No default value")},Qg=function(et,ot){var ut=et[ot];if(ut!==null&&typeof ut<"u"){if(!yu(ut))throw new TypeError(ut+" returned for property "+ot+" of object "+et+" is not a function");return ut}},Xg=function(et){if(Vg(et))return et;var ot="default";arguments.length>1&&(arguments[1]===String?ot="string":arguments[1]===Number&&(ot="number"));var ut;if(Ku&&(Symbol.toPrimitive?ut=Qg(et,Symbol.toPrimitive):Wg(et)&&(ut=Symbol.prototype.valueOf)),typeof ut<"u"){var dt=ut.call(et,ot);if(Vg(dt))return dt;throw new TypeError("unable to convert exotic object to primitive")}return ot==="default"&&(Gg(et)||Wg(et))&&(ot="string"),qg(et,ot==="default"?"number":ot)},wp=Xg,Zg=function(et){return arguments.length>1?wp(et,arguments[1]):wp(et)},Ua=Wr,Jg=Ua("%TypeError%"),Da=Ua("%Number%"),bf=Ua("%RegExp%"),xp=Ua("%parseInt%"),vu=ui,Ep=yy,Kg=vf,Sm=vu("String.prototype.slice"),Cm=Ep(/^0b[01]+$/i),_f=Ep(/^0o[0-7]+$/i),wf=Ep(/^[-+]0x[0-9a-f]+$/i),km=["","",""].join(""),Am=new bf("["+km+"]","g"),Mp=Ep(Am),Nm=[`	
\v\f\r `,"\u2028","\u2029\uFEFF"].join(""),Dm=new RegExp("(^["+Nm+"]+)|(["+Nm+"]+$)","g"),Im=vu("String.prototype.replace"),$c=function(et){return Im(et,Dm,"")},_y=Zg,Tp=function et(ot){var ut=Kg(ot)?ot:_y(ot,Da);if(typeof ut=="symbol")throw new Jg("Cannot convert a Symbol value to a number");if(typeof ut=="bigint")throw new Jg("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof ut=="string"){if(Cm(ut))return et(xp(Sm(ut,2),2));if(_f(ut))return et(xp(Sm(ut,2),8));if(Mp(ut)||wf(ut))return NaN;var dt=$c(ut);if(dt!==ut)return et(dt)}return Da(ut)},Lm=ym,wy=Tp,Om=function(et){var ot=wy(et);return ot!==0&&(ot=Lm(ot)),ot===0?0:ot},Pm=ly,zm=Om,xy=function(et){var ot=zm(et);return ot<=0?0:ot>Pm?Pm:ot},Ey=Wr,Rm=Ey("%TypeError%"),My=tm,hc=xy,bu=Zu,Ah=function(et){if(bu(et)!=="Object")throw new Rm("Assertion failed: `obj` must be an Object");return hc(My(et,"length"))},Ao=Wr,Qr=Ao("%Object%"),jm=xi,ol=function(et){return jm(et),Qr(et)},xf=Wr,wd=xf("%String%"),sl=xf("%TypeError%"),pn=function(et){if(typeof et=="symbol")throw new sl("Cannot convert a Symbol value to a string");return wd(et)},Nh=String.prototype.valueOf,_u=function(et){try{return Nh.call(et),!0}catch{return!1}},xd=Object.prototype.toString,xn="[object String]",Ef=Fg(),Ur=function(et){return typeof et=="string"?!0:typeof et!="object"?!1:Ef?_u(et):xd.call(et)===xn},Ya=Wr,Bm=ui,Yl=Ya("%TypeError%"),Hl=wg,Mf=tm,Cn=em,bl=im,da=Ah,$m=ol,Pi=pn,Tf=Ur,Fm=Bm("String.prototype.split"),Dh=Object("a"),Rs=Dh[0]!=="a"||!(0 in Dh),al=function(et){var ot=$m(this),ut=Rs&&Tf(this)?Fm(this,""):ot,dt=da(ut);if(!bl(et))throw new Yl("Array.prototype.forEach callback must be a function");var gt;arguments.length>1&&(gt=arguments[1]);for(var Mt=0;Mt<dt;){var zt=Pi(Mt),Jt=Cn(ut,zt);if(Jt){var ue=Mf(ut,zt);Hl(et,gt,[ue,Mt,ut])}Mt+=1}},Sr=function(et){var ot=!0,ut=!0,dt=!1;if(typeof et=="function"){try{et.call("f",function(gt,Mt,zt){typeof zt!="object"&&(ot=!1)}),et.call([null],function(){"use strict";ut=typeof this=="string"},"x")}catch{dt=!0}return!dt&&ot&&ut}return!1},Um=Sr,Vl=al,Sf=function(){var et=Array.prototype.forEach;return Um(et)?et:Vl},Fc=hu,Ed=Sf,_l=function(){var et=Ed();return Fc(Array.prototype,{forEach:et},{forEach:function(){return Array.prototype.forEach!==et}}),et},Uc=hu,Sp=du.exports,ni=ui,Lo=xi,Ih=al,wu=Sf,Lh=wu(),Gl=_l,ar=ni("Array.prototype.slice"),Oh=Sp.apply(Lh),dc=function(et,ot){return Lo(et),Oh(et,ar(arguments,1))};Uc(dc,{getPolyfill:wu,implementation:Ih,shim:Gl});var Br=dc,fc=xi,Cp=ui,pc=Cp("Object.prototype.propertyIsEnumerable"),ll=Cp("Array.prototype.push"),gc=function(et){var ot=fc(et),ut=[];for(var dt in ot)pc(ot,dt)&&ll(ut,[dt,ot[dt]]);return ut},Md=gc,Ph=function(){return typeof Object.entries=="function"?Object.entries:Md},Td=Ph,Sd=hu,as=function(){var et=Td();return Sd(Object,{entries:et},{entries:function(){return Object.entries!==et}}),et},e0=hu,Cd=du.exports,wl=gc,zh=Ph,nr=as,Ym=Cd(zh(),Object);e0(Ym,{getPolyfill:zh,implementation:wl,shim:nr});var Cf=Ym,fi=xi,kp=pn,kf=ui,Rh=kf("String.prototype.replace"),jh=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Ty=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,kd=function(){var et=kp(fi(this));return Rh(Rh(et,jh,""),Ty,"")},Ap=kd,Np="",Hm=function(){return String.prototype.trim&&Np.trim()===Np?String.prototype.trim:Ap},Vm=hu,bo=Hm,Yc=function(){var et=bo();return Vm(String.prototype,{trim:et},{trim:function(){return String.prototype.trim!==et}}),et},n0=du.exports,Gm=hu,Ys=kd,Ad=Hm,Wm=Yc,xl=n0(Ad());Gm(xl,{getPolyfill:Ad,implementation:Ys,shim:Wm});var Dp=xl,mc=Br,Zi=Cf,cl=fg,Wl=Dp,El=function(et){},na=String.prototype.replace,xu=String.prototype.split,fa="||||",Nd=function(et){var ot=et%100,ut=ot%10;return ot!==11&&ut===1?0:2<=ut&&ut<=4&&!(ot>=12&&ot<=14)?1:2},qm={pluralTypes:{arabic:function(et){if(et<3)return et;var ot=et%100;return ot>=3&&ot<=10?3:ot>=11?4:5},bosnian_serbian:Nd,chinese:function(){return 0},croatian:Nd,french:function(et){return et>=2?1:0},german:function(et){return et!==1?1:0},russian:Nd,lithuanian:function(et){return et%10==1&&et%100!=11?0:et%10>=2&&et%10<=9&&(et%100<11||et%100>19)?1:2},czech:function(et){return et===1?0:et>=2&&et<=4?1:2},polish:function(et){if(et===1)return 0;var ot=et%10;return 2<=ot&&ot<=4&&(et%100<10||et%100>=20)?1:2},icelandic:function(et){return et%10!=1||et%100==11?1:0},slovenian:function(et){var ot=et%100;return ot===1?0:ot===2?1:ot===3||ot===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function Sy(et){var ot={};return mc(Zi(et),function(ut){var dt=ut[0],gt=ut[1];mc(gt,function(Mt){ot[Mt]=dt})}),ot}function Cy(et,ot){var ut=Sy(et.pluralTypeToLanguages);return ut[ot]||ut[xu.call(ot,/-/,1)[0]]||ut.en}function ky(et,ot,ut){return et.pluralTypes[ot](ut)}function Ay(){var et={};return function(ot,ut){var dt=et[ut];return dt&&!ot.pluralTypes[dt]&&(dt=null,et[ut]=dt),dt||(dt=Cy(ot,ut),dt&&(et[ut]=dt)),dt}}function Qm(et){return et.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ul(et){var ot=et&&et.prefix||"%{",ut=et&&et.suffix||"}";if(ot===fa||ut===fa)throw new RangeError('"'+fa+'" token is reserved for pluralization');return new RegExp(Qm(ot)+"(.*?)"+Qm(ut),"g")}var r0=Ay(),Wo=/%\{(.*?)\}/g;function No(et,ot,ut,dt,gt){if(typeof et!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(ot==null)return et;var Mt=et,zt=dt||Wo,Jt=typeof ot=="number"?{smart_count:ot}:ot;if(Jt.smart_count!=null&&et){var ue=gt||qm,he=xu.call(et,fa),le=ut||"en",Ue=r0(ue,le),tn=ky(ue,Ue,Jt.smart_count);Mt=Wl(he[tn]||he[0])}return Mt=na.call(Mt,zt,function(ln,Mn){return!cl(Jt,Mn)||Jt[Mn]==null?ln:Jt[Mn]}),Mt}function Ml(et){var ot=et||{};this.phrases={},this.extend(ot.phrases||{}),this.currentLocale=ot.locale||"en";var ut=ot.allowMissing?No:null;this.onMissingKey=typeof ot.onMissingKey=="function"?ot.onMissingKey:ut,this.warn=ot.warn||El,this.tokenRegex=ul(ot.interpolation),this.pluralRules=ot.pluralRules||qm}Ml.prototype.locale=function(et){return et&&(this.currentLocale=et),this.currentLocale},Ml.prototype.extend=function(et,ot){mc(Zi(et||{}),function(ut){var dt=ut[0],gt=ut[1],Mt=ot?ot+"."+dt:dt;typeof gt=="object"?this.extend(gt,Mt):this.phrases[Mt]=gt},this)},Ml.prototype.unset=function(et,ot){typeof et=="string"?delete this.phrases[et]:mc(Zi(et||{}),function(ut){var dt=ut[0],gt=ut[1],Mt=ot?ot+"."+dt:dt;typeof gt=="object"?this.unset(gt,Mt):delete this.phrases[Mt]},this)},Ml.prototype.clear=function(){this.phrases={}},Ml.prototype.replace=function(et){this.clear(),this.extend(et)},Ml.prototype.t=function(et,ot){var ut,dt,gt=ot??{};if(typeof this.phrases[et]=="string")ut=this.phrases[et];else if(typeof gt._=="string")ut=gt._;else if(this.onMissingKey){var Mt=this.onMissingKey;dt=Mt(et,gt,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+et+'"'),dt=et;return typeof ut=="string"&&(dt=No(ut,gt,this.currentLocale,this.tokenRegex,this.pluralRules)),dt},Ml.prototype.has=function(et){return cl(this.phrases,et)},Ml.transformPhrase=function(et,ot,ut){return No(et,ot,ut)};var Ia=Ml,Eu={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:"",Close:"",Edit:"Edit",Delete:"Delete",Ok:""},ls={"Add a comment...":"Napsat koment...","Add a reply...":"Odpovdt...","Add tag...":"Pidat ttek...",Cancel:"Zruit",Close:"Zavt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},Dd={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Lschen",Ok:"Ok"},yc={"Add a comment...":"...","Add a reply...":"...","Add tag...":" tag...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:"Ok"},vc={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},hl={"Add a comment...":"Lis kommentti","Add a reply...":"Lis vastaus","Add tag...":"Lis tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},Ip={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une rponse...","Add tag...":"Ajouter une tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"diter",Delete:"Supprimer",Ok:"Ok"},Af={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Nf={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:" ",Close:" ",Edit:" ",Delete:"",Ok:" "},Df={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},qo={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},Xm={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},bc={"Add a comment...":"Adicionar um comentrio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},i0={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Zm={"Add a comment...":"...","Add a reply...":"...","Add tag...":"...",Cancel:"",Close:"",Edit:"",Delete:"",Ok:""},eo={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"ptal",Close:"Kapat",Edit:"Dzenle",Delete:"Sil",Ok:"Tamam"},o0={"Add a comment...":" ","Add a reply...":" ","Add tag...":" ",Cancel:" ",Close:" ",Edit:" ",Delete:"",Ok:" "},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});var If=[["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "],["","","%s ","%s "]];function gi(et,ot){return ot<3?If[et][ot-1]:ot>=3&&ot<=10?If[et][2]:If[et][3]}function Jm(et,ot){if(ot===0)return[" "," "];var ut=gi(Math.floor(ot/2),et);return[" "+ut," "+ut]}var Ny=Tl.default=Jm,Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});function ql(et,ot){var ut=0,dt=ot==1||ot==3||ot==5||ot==7||ot==9||ot==11||ot==13;return dt&&et>=5&&(ut=1),[[["prv te","prv te"]],[["ped %s vteinami","za %s vteiny"],["ped %s vteinami","za %s vtein"]],[["ped minutou","za minutu"]],[["ped %s minutami","za %s minuty"],["ped %s minutami","za %s minut"]],[["ped hodinou","za hodinu"]],[["ped %s hodinami","za %s hodiny"],["ped %s hodinami","za %s hodin"]],[["vera","ztra"]],[["ped %s dny","za %s dny"],["ped %s dny","za %s dn"]],[["minul tden","pt tden"]],[["ped %s tdny","za %s tdny"],["ped %s tdny","za %s tdn"]],[["minul msc","pst msc"]],[["ped %s msci","za %s msce"],["ped %s msci","za %s msc"]],[["ped rokem","pst rok"]],[["ped %s lety","za %s roky"],["ped %s lety","za %s let"]]][ot][ut]}var Hc=Lf.default=ql,Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});function Km(et,ot){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][ot]}var qn=Lp.default=Km,Of={};Object.defineProperty(Of,"__esModule",{value:!0});function Op(et,ot){return[[" "," "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "],["1  "," 1 "],["%s  "," %s "]][ot]}var Ql=Of.default=Op,Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});function Vc(et,ot){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 da","en 1 da"],["hace %s das","en %s das"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 ao","en 1 ao"],["hace %s aos","en %s aos"]][ot]}var Pp=Sl.default=Vc,Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});function _o(et,ot){return[["juuri sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin pst"],["minuutti sitten","minuutin pst"],["%s minuuttia sitten","%s minuutin pst"],["tunti sitten","tunnin pst"],["%s tuntia sitten","%s tunnin pst"],["piv sitten","pivn pst"],["%s piv sitten","%s pivn pst"],["viikko sitten","viikon pst"],["%s viikkoa sitten","%s viikon pst"],["kuukausi sitten","kuukauden pst"],["%s kuukautta sitten","%s kuukauden pst"],["vuosi sitten","vuoden pst"],["%s vuotta sitten","%s vuoden pst"]][ot]}var so=Hs.default=_o,Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});function Dy(et,ot){return[[" l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][ot]}var Iy=Qo.default=Dy,La={};Object.defineProperty(La,"__esModule",{value:!0});function zp(et,ot){return[["xusto agora","daqu a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 da","nun da"],["hai %s das","en %s das"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][ot]}var Xl=La.default=zp,lo={};Object.defineProperty(lo,"__esModule",{value:!0});function Pf(et,ot){return[[""," "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "],["1  ","1  "],["%s  ","%s  "]][ot]}var Vs=lo.default=Pf,Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});function Id(et,ot){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][ot]}var Oo=Rp.default=Id,pa={};Object.defineProperty(pa,"__esModule",{value:!0});function Ld(et,ot){return[["",""],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "],["1 ","1 "],["%s ","%s "]][ot]}var Cl=pa.default=Ld,_c={};Object.defineProperty(_c,"__esModule",{value:!0});function Mu(et,ot){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][ot]}var Bh=_c.default=Mu,Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});function e1(et,ot){return[["agora mesmo","agora"],["h %s segundos","em %s segundos"],["h um minuto","em um minuto"],["h %s minutos","em %s minutos"],["h uma hora","em uma hora"],["h %s horas","em %s horas"],["h um dia","em um dia"],["h %s dias","em %s dias"],["h uma semana","em uma semana"],["h %s semanas","em %s semanas"],["h um ms","em um ms"],["h %s meses","em %s meses"],["h um ano","em um ano"],["h %s anos","em %s anos"]][ot]}var kl=Ko.default=e1,Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});function Ss(et,ot){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 mnad sedan","om 1 mnad"],["%s mnader sedan","om %s mnader"],["1 r sedan","om 1 r"],["%s r sedan","om %s r"]][ot]}var jp=Xo.default=Ss,n1={};Object.defineProperty(n1,"__esModule",{value:!0});function Od(et,ot){return[["",""],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "],["1 "," 1 "],["%s "," %s "]][ot]}var r1=n1.default=Od,s0={};Object.defineProperty(s0,"__esModule",{value:!0});function ga(et,ot){return[["az nce","imdi"],["%s saniye nce","%s saniye iinde"],["1 dakika nce","1 dakika iinde"],["%s dakika nce","%s dakika iinde"],["1 saat nce","1 saat iinde"],["%s saat nce","%s saat iinde"],["1 gn nce","1 gn iinde"],["%s gn nce","%s gn iinde"],["1 hafta nce","1 hafta iinde"],["%s hafta nce","%s hafta iinde"],["1 ay nce","1 ay iinde"],["%s ay nce","%s ay iinde"],["1 yl nce","1 yl iinde"],["%s yl nce","%s yl iinde"]][ot]}var Tu=s0.default=ga;const _s={ar:Eu,cs:ls,de:Dd,el:yc,es:vc,fi:hl,fr:Ip,gl:Af,hi:Nf,it:Df,ko:qo,nl:Xm,pt:bc,sv:i0,th:Zm,tr:eo,ur:o0},Al=new Ia({allowMissing:!0});Al.init=(et,ot)=>{Al.clear(),et&&(Al.locale(et),Al.extend(_s[et])),ot&&Al.extend(ot)},Go("ar",Ny),Go("cs",Hc),Go("de",qn),Go("el",Ql),Go("es",Pp),Go("fi",so),Go("fr",Iy),Go("gl",Xl),Go("hi",Vs),Go("it",Oo),Go("ko",Cl),Go("nl",Bh),Go("pt",kl),Go("sv",jp),Go("th",r1),Go("tr",Tu),Al.registerMessages=(et,ot)=>{_s[et]?_s[et]=nt(nt({},_s[et]),ot):_s[et]=ot};var cs=Al,zf=et=>{const ot=ie();return sf(ot,()=>et.onClickOutside()),Dt("ul",{ref:ot,className:"r6o-comment-dropdown-menu"},Dt("li",{onClick:et.onEdit},cs.t("Edit")),Dt("li",{onClick:et.onDelete},cs.t("Delete")))},Ro={},Tr={},Bp={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(et,ot){(function(ut,dt){dt(et,ot)})(Qs,function(ut,dt){var gt=typeof Map=="function"?new Map:function(){var le=[],Ue=[];return{has:function(tn){return le.indexOf(tn)>-1},get:function(tn){return Ue[le.indexOf(tn)]},set:function(tn,ln){le.indexOf(tn)===-1&&(le.push(tn),Ue.push(ln))},delete:function(tn){var ln=le.indexOf(tn);ln>-1&&(le.splice(ln,1),Ue.splice(ln,1))}}}(),Mt=function(le){return new Event(le,{bubbles:!0})};try{new Event("test")}catch{Mt=function(Ue){var tn=document.createEvent("Event");return tn.initEvent(Ue,!0,!1),tn}}function zt(le){if(!le||!le.nodeName||le.nodeName!=="TEXTAREA"||gt.has(le))return;var Ue=null,tn=null,ln=null;function Mn(){var Gr=window.getComputedStyle(le,null);Gr.resize==="vertical"?le.style.resize="none":Gr.resize==="both"&&(le.style.resize="horizontal"),Gr.boxSizing==="content-box"?Ue=-(parseFloat(Gr.paddingTop)+parseFloat(Gr.paddingBottom)):Ue=parseFloat(Gr.borderTopWidth)+parseFloat(Gr.borderBottomWidth),isNaN(Ue)&&(Ue=0),fr()}function Rn(Gr){{var li=le.style.width;le.style.width="0px",le.offsetWidth,le.style.width=li}le.style.overflowY=Gr}function On(Gr){for(var li=[];Gr&&Gr.parentNode&&Gr.parentNode instanceof Element;)Gr.parentNode.scrollTop&&li.push({node:Gr.parentNode,scrollTop:Gr.parentNode.scrollTop}),Gr=Gr.parentNode;return li}function or(){if(le.scrollHeight!==0){var Gr=On(le),li=document.documentElement&&document.documentElement.scrollTop;le.style.height="",le.style.height=le.scrollHeight+Ue+"px",tn=le.clientWidth,Gr.forEach(function(Jr){Jr.node.scrollTop=Jr.scrollTop}),li&&(document.documentElement.scrollTop=li)}}function fr(){or();var Gr=Math.round(parseFloat(le.style.height)),li=window.getComputedStyle(le,null),Jr=li.boxSizing==="content-box"?Math.round(parseFloat(li.height)):le.offsetHeight;if(Jr<Gr?li.overflowY==="hidden"&&(Rn("scroll"),or(),Jr=li.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(le,null).height)):le.offsetHeight):li.overflowY!=="hidden"&&(Rn("hidden"),or(),Jr=li.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(le,null).height)):le.offsetHeight),ln!==Jr){ln=Jr;var gs=Mt("autosize:resized");try{le.dispatchEvent(gs)}catch{}}}var oi=function(){le.clientWidth!==tn&&fr()},Zr=(function(Gr){window.removeEventListener("resize",oi,!1),le.removeEventListener("input",fr,!1),le.removeEventListener("keyup",fr,!1),le.removeEventListener("autosize:destroy",Zr,!1),le.removeEventListener("autosize:update",fr,!1),Object.keys(Gr).forEach(function(li){le.style[li]=Gr[li]}),gt.delete(le)}).bind(le,{height:le.style.height,resize:le.style.resize,overflowY:le.style.overflowY,overflowX:le.style.overflowX,wordWrap:le.style.wordWrap});le.addEventListener("autosize:destroy",Zr,!1),"onpropertychange"in le&&"oninput"in le&&le.addEventListener("keyup",fr,!1),window.addEventListener("resize",oi,!1),le.addEventListener("input",fr,!1),le.addEventListener("autosize:update",fr,!1),le.style.overflowX="hidden",le.style.wordWrap="break-word",gt.set(le,{destroy:Zr,update:fr}),Mn()}function Jt(le){var Ue=gt.get(le);Ue&&Ue.destroy()}function ue(le){var Ue=gt.get(le);Ue&&Ue.update()}var he=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(he=function(le){return le},he.destroy=function(le){return le},he.update=function(le){return le}):(he=function(le,Ue){return le&&Array.prototype.forEach.call(le.length?le:[le],function(tn){return zt(tn)}),le},he.destroy=function(le){return le&&Array.prototype.forEach.call(le.length?le:[le],Jt),le},he.update=function(le){return le&&Array.prototype.forEach.call(le.length?le:[le],ue),le}),dt.default=he,ut.exports=dt.default})})(Bp,Bp.exports);var Rf=function(et,ot,ut){return ut=window.getComputedStyle,(ut?ut(et):et.currentStyle)[ot.replace(/-(\w)/gi,function(dt,gt){return gt.toUpperCase()})]},Oa=Rf,dl=Oa;function th(et){var ot=dl(et,"line-height"),ut=parseFloat(ot,10);if(ot===ut+""){var dt=et.style.lineHeight;et.style.lineHeight=ot+"em",ot=dl(et,"line-height"),ut=parseFloat(ot,10),dt?et.style.lineHeight=dt:delete et.style.lineHeight}if(ot.indexOf("pt")!==-1?(ut*=4,ut/=3):ot.indexOf("mm")!==-1?(ut*=96,ut/=25.4):ot.indexOf("cm")!==-1?(ut*=96,ut/=2.54):ot.indexOf("in")!==-1?ut*=96:ot.indexOf("pc")!==-1&&(ut*=16),ut=Math.round(ut),ot==="normal"){var gt=et.nodeName,Mt=document.createElement(gt);Mt.innerHTML="&nbsp;",gt.toUpperCase()==="TEXTAREA"&&Mt.setAttribute("rows","1");var zt=dl(et,"font-size");Mt.style.fontSize=zt,Mt.style.padding="0px",Mt.style.border="0px";var Jt=document.body;Jt.appendChild(Mt);var ue=Mt.offsetHeight;ut=ue,Jt.removeChild(Mt)}return ut}var jf=th,a0=Qs&&Qs.__extends||function(){var et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,ut){ot.__proto__=ut}||function(ot,ut){for(var dt in ut)ut.hasOwnProperty(dt)&&(ot[dt]=ut[dt])};return function(ot,ut){et(ot,ut);function dt(){this.constructor=ot}ot.prototype=ut===null?Object.create(ut):(dt.prototype=ut.prototype,new dt)}}(),$p=Qs&&Qs.__assign||Object.assign||function(et){for(var ot,ut=1,dt=arguments.length;ut<dt;ut++){ot=arguments[ut];for(var gt in ot)Object.prototype.hasOwnProperty.call(ot,gt)&&(et[gt]=ot[gt])}return et},no=Qs&&Qs.__rest||function(et,ot){var ut={};for(var dt in et)Object.prototype.hasOwnProperty.call(et,dt)&&ot.indexOf(dt)<0&&(ut[dt]=et[dt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,dt=Object.getOwnPropertySymbols(et);gt<dt.length;gt++)ot.indexOf(dt[gt])<0&&(ut[dt[gt]]=et[dt[gt]]);return ut};Tr.__esModule=!0;var Nl=Yo,Eo=wa.exports,eh=Bp.exports,Ha=jf,i1=Ha,Ei="autosize:resized",$h=function(et){a0(ot,et);function ot(){var ut=et!==null&&et.apply(this,arguments)||this;return ut.state={lineHeight:null},ut.textarea=null,ut.onResize=function(dt){ut.props.onResize&&ut.props.onResize(dt)},ut.updateLineHeight=function(){ut.textarea&&ut.setState({lineHeight:i1(ut.textarea)})},ut.onChange=function(dt){var gt=ut.props.onChange;ut.currentValue=dt.currentTarget.value,gt&&gt(dt)},ut}return ot.prototype.componentDidMount=function(){var ut=this,dt=this.props,gt=dt.maxRows,Mt=dt.async;typeof gt=="number"&&this.updateLineHeight(),typeof gt=="number"||Mt?setTimeout(function(){return ut.textarea&&eh(ut.textarea)}):this.textarea&&eh(this.textarea),this.textarea&&this.textarea.addEventListener(Ei,this.onResize)},ot.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Ei,this.onResize),eh.destroy(this.textarea))},ot.prototype.render=function(){var ut=this,dt=this,gt=dt.props;gt.onResize;var Mt=gt.maxRows;gt.onChange;var zt=gt.style;gt.innerRef;var Jt=gt.children,ue=no(gt,["onResize","maxRows","onChange","style","innerRef","children"]),he=dt.state.lineHeight,le=Mt&&he?he*Mt:null;return Nl.createElement("textarea",$p({},ue,{onChange:this.onChange,style:le?$p({},zt,{maxHeight:le}):zt,ref:function(Ue){ut.textarea=Ue,typeof ut.props.innerRef=="function"?ut.props.innerRef(Ue):ut.props.innerRef&&(ut.props.innerRef.current=Ue)}}),Jt)},ot.prototype.componentDidUpdate=function(){this.textarea&&eh.update(this.textarea)},ot.defaultProps={rows:1,async:!1},ot.propTypes={rows:Eo.number,maxRows:Eo.number,onResize:Eo.func,innerRef:Eo.any,async:Eo.bool},ot}(Nl.Component);Tr.TextareaAutosize=Nl.forwardRef(function(et,ot){return Nl.createElement($h,$p({},et,{innerRef:ot}))}),function(et){et.__esModule=!0;var ot=Tr;et.default=ot.TextareaAutosize}(Ro);var So=tl(Ro);class Pd extends Pt{constructor(ot){super(ot),lt(this,"onKeyDown",ut=>{ut.which===13&&ut.ctrlKey&&this.props.onSaveAndClose()}),this.element=Nt()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Dt(So,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||cs.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function Ar(){return Ar=Object.assign||function(et){for(var ot=1;ot<arguments.length;ot++){var ut=arguments[ot];for(var dt in ut)Object.prototype.hasOwnProperty.call(ut,dt)&&(et[dt]=ut[dt])}return et},Ar.apply(this,arguments)}function Fh(et){if(et.sheet)return et.sheet;for(var ot=0;ot<document.styleSheets.length;ot++)if(document.styleSheets[ot].ownerNode===et)return document.styleSheets[ot]}function o1(et){var ot=document.createElement("style");return ot.setAttribute("data-emotion",et.key),et.nonce!==void 0&&ot.setAttribute("nonce",et.nonce),ot.appendChild(document.createTextNode("")),ot.setAttribute("data-s",""),ot}var nh=function(){function et(ut){var dt=this;this._insertTag=function(gt){var Mt;dt.tags.length===0?dt.insertionPoint?Mt=dt.insertionPoint.nextSibling:dt.prepend?Mt=dt.container.firstChild:Mt=dt.before:Mt=dt.tags[dt.tags.length-1].nextSibling,dt.container.insertBefore(gt,Mt),dt.tags.push(gt)},this.isSpeedy=ut.speedy===void 0?!0:ut.speedy,this.tags=[],this.ctr=0,this.nonce=ut.nonce,this.key=ut.key,this.container=ut.container,this.prepend=ut.prepend,this.insertionPoint=ut.insertionPoint,this.before=null}var ot=et.prototype;return ot.hydrate=function(ut){ut.forEach(this._insertTag)},ot.insert=function(ut){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(o1(this));var dt=this.tags[this.tags.length-1];if(this.isSpeedy){var gt=Fh(dt);try{gt.insertRule(ut,gt.cssRules.length)}catch{}}else dt.appendChild(document.createTextNode(ut));this.ctr++},ot.flush=function(){this.tags.forEach(function(ut){return ut.parentNode&&ut.parentNode.removeChild(ut)}),this.tags=[],this.ctr=0},et}(),Xr="-ms-",ma="-moz-",ro="-webkit-",Zl="comm",ya="rule",Cs="decl",Ly="@import",s1="@keyframes",Su=Math.abs,Pa=String.fromCharCode;function rh(et,ot){return(((ot<<2^us(et,0))<<2^us(et,1))<<2^us(et,2))<<2^us(et,3)}function za(et){return et.trim()}function Jl(et,ot){return(et=ot.exec(et))?et[0]:et}function Ji(et,ot,ut){return et.replace(ot,ut)}function Cu(et,ot){return et.indexOf(ot)}function us(et,ot){return et.charCodeAt(ot)|0}function ts(et,ot,ut){return et.slice(ot,ut)}function wc(et){return et.length}function zd(et){return et.length}function ks(et,ot){return ot.push(et),et}function ku(et,ot){return et.map(ot).join("")}var Va=1,Uh=1,ra=0,Ga=0,es=0,xc="";function Bf(et,ot,ut,dt,gt,Mt,zt){return{value:et,root:ot,parent:ut,type:dt,props:gt,children:Mt,line:Va,column:Uh,length:zt,return:""}}function Rd(et,ot,ut){return Bf(et,ot.root,ot.parent,ut,ot.props,ot.children,0)}function Yh(){return es}function Ec(){return es=Ga>0?us(xc,--Ga):0,Uh--,es===10&&(Uh=1,Va--),es}function yo(){return es=Ga<ra?us(xc,Ga++):0,Uh++,es===10&&(Uh=1,Va++),es}function Wa(){return us(xc,Ga)}function As(){return Ga}function qa(et,ot){return ts(xc,et,ot)}function Kl(et){switch(et){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fp(et){return Va=Uh=1,ra=wc(xc=et),Ga=0,[]}function ih(et){return xc="",et}function Mc(et){return za(qa(Ga-1,Qa(et===91?et+2:et===40?et+1:et)))}function Gc(et){for(;(es=Wa())&&es<33;)yo();return Kl(et)>2||Kl(es)>3?"":" "}function js(et,ot){for(;--ot&&yo()&&!(es<48||es>102||es>57&&es<65||es>70&&es<97););return qa(et,As()+(ot<6&&Wa()==32&&yo()==32))}function Qa(et){for(;yo();)switch(es){case et:return Ga;case 34:case 39:return Qa(et===34||et===39?et:es);case 40:et===41&&Qa(et);break;case 92:yo();break}return Ga}function ia(et,ot){for(;yo()&&et+es!==47+10&&!(et+es===42+42&&Wa()===47););return"/*"+qa(ot,Ga-1)+"*"+Pa(et===47?et:yo())}function a1(et){for(;!Kl(Wa());)yo();return qa(et,Ga)}function Au(et){return ih(Wc("",null,null,null,[""],et=Fp(et),0,[0],et))}function Wc(et,ot,ut,dt,gt,Mt,zt,Jt,ue){for(var he=0,le=0,Ue=zt,tn=0,ln=0,Mn=0,Rn=1,On=1,or=1,fr=0,oi="",Zr=gt,Gr=Mt,li=dt,Jr=oi;On;)switch(Mn=fr,fr=yo()){case 34:case 39:case 91:case 40:Jr+=Mc(fr);break;case 9:case 10:case 13:case 32:Jr+=Gc(Mn);break;case 92:Jr+=js(As()-1,7);continue;case 47:switch(Wa()){case 42:case 47:ks(Gs(ia(yo(),As()),ot,ut),ue);break;default:Jr+="/"}break;case 123*Rn:Jt[he++]=wc(Jr)*or;case 125*Rn:case 59:case 0:switch(fr){case 0:case 125:On=0;case 59+le:ln>0&&wc(Jr)-Ue&&ks(ln>32?Dl(Jr+";",dt,ut,Ue-1):Dl(Ji(Jr," ","")+";",dt,ut,Ue-2),ue);break;case 59:Jr+=";";default:if(ks(li=Ns(Jr,ot,ut,he,le,gt,Jt,oi,Zr=[],Gr=[],Ue),Mt),fr===123)if(le===0)Wc(Jr,ot,li,li,Zr,Mt,Ue,Jt,Gr);else switch(tn){case 100:case 109:case 115:Wc(et,li,li,dt&&ks(Ns(et,li,li,0,0,gt,Jt,oi,gt,Zr=[],Ue),Gr),gt,Gr,Ue,Jt,dt?Zr:Gr);break;default:Wc(Jr,li,li,li,[""],Gr,Ue,Jt,Gr)}}he=le=ln=0,Rn=or=1,oi=Jr="",Ue=zt;break;case 58:Ue=1+wc(Jr),ln=Mn;default:if(Rn<1){if(fr==123)--Rn;else if(fr==125&&Rn++==0&&Ec()==125)continue}switch(Jr+=Pa(fr),fr*Rn){case 38:or=le>0?1:(Jr+="\f",-1);break;case 44:Jt[he++]=(wc(Jr)-1)*or,or=1;break;case 64:Wa()===45&&(Jr+=Mc(yo())),tn=Wa(),le=wc(oi=Jr+=a1(As())),fr++;break;case 45:Mn===45&&wc(Jr)==2&&(Rn=0)}}return Mt}function Ns(et,ot,ut,dt,gt,Mt,zt,Jt,ue,he,le){for(var Ue=gt-1,tn=gt===0?Mt:[""],ln=zd(tn),Mn=0,Rn=0,On=0;Mn<dt;++Mn)for(var or=0,fr=ts(et,Ue+1,Ue=Su(Rn=zt[Mn])),oi=et;or<ln;++or)(oi=za(Rn>0?tn[or]+" "+fr:Ji(fr,/&\f/g,tn[or])))&&(ue[On++]=oi);return Bf(et,ot,ut,gt===0?ya:Jt,ue,he,le)}function Gs(et,ot,ut){return Bf(et,ot,ut,Zl,Pa(Yh()),ts(et,2,-2),0)}function Dl(et,ot,ut,dt){return Bf(et,ot,ut,Cs,ts(et,0,dt),ts(et,dt+1,-1),dt)}function Xa(et,ot){switch(rh(et,ot)){case 5103:return ro+"print-"+et+et;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ro+et+et;case 5349:case 4246:case 4810:case 6968:case 2756:return ro+et+ma+et+Xr+et+et;case 6828:case 4268:return ro+et+Xr+et+et;case 6165:return ro+et+Xr+"flex-"+et+et;case 5187:return ro+et+Ji(et,/(\w+).+(:[^]+)/,ro+"box-$1$2"+Xr+"flex-$1$2")+et;case 5443:return ro+et+Xr+"flex-item-"+Ji(et,/flex-|-self/,"")+et;case 4675:return ro+et+Xr+"flex-line-pack"+Ji(et,/align-content|flex-|-self/,"")+et;case 5548:return ro+et+Xr+Ji(et,"shrink","negative")+et;case 5292:return ro+et+Xr+Ji(et,"basis","preferred-size")+et;case 6060:return ro+"box-"+Ji(et,"-grow","")+ro+et+Xr+Ji(et,"grow","positive")+et;case 4554:return ro+Ji(et,/([^-])(transform)/g,"$1"+ro+"$2")+et;case 6187:return Ji(Ji(Ji(et,/(zoom-|grab)/,ro+"$1"),/(image-set)/,ro+"$1"),et,"")+et;case 5495:case 3959:return Ji(et,/(image-set\([^]*)/,ro+"$1$`$1");case 4968:return Ji(Ji(et,/(.+:)(flex-)?(.*)/,ro+"box-pack:$3"+Xr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ro+et+et;case 4095:case 3583:case 4068:case 2532:return Ji(et,/(.+)-inline(.+)/,ro+"$1$2")+et;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wc(et)-1-ot>6)switch(us(et,ot+1)){case 109:if(us(et,ot+4)!==45)break;case 102:return Ji(et,/(.+:)(.+)-([^]+)/,"$1"+ro+"$2-$3$1"+ma+(us(et,ot+3)==108?"$3":"$2-$3"))+et;case 115:return~Cu(et,"stretch")?Xa(Ji(et,"stretch","fill-available"),ot)+et:et}break;case 4949:if(us(et,ot+1)!==115)break;case 6444:switch(us(et,wc(et)-3-(~Cu(et,"!important")&&10))){case 107:return Ji(et,":",":"+ro)+et;case 101:return Ji(et,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ro+(us(et,14)===45?"inline-":"")+"box$3$1"+ro+"$2$3$1"+Xr+"$2box$3")+et}break;case 5936:switch(us(et,ot+11)){case 114:return ro+et+Xr+Ji(et,/[svh]\w+-[tblr]{2}/,"tb")+et;case 108:return ro+et+Xr+Ji(et,/[svh]\w+-[tblr]{2}/,"tb-rl")+et;case 45:return ro+et+Xr+Ji(et,/[svh]\w+-[tblr]{2}/,"lr")+et}return ro+et+Xr+et+et}return et}function Hh(et,ot){for(var ut="",dt=zd(et),gt=0;gt<dt;gt++)ut+=ot(et[gt],gt,et,ot)||"";return ut}function Vh(et,ot,ut,dt){switch(et.type){case Ly:case Cs:return et.return=et.return||et.value;case Zl:return"";case ya:et.value=et.props.join(",")}return wc(ut=Hh(et.children,dt))?et.return=et.value+"{"+ut+"}":""}function Nu(et){var ot=zd(et);return function(ut,dt,gt,Mt){for(var zt="",Jt=0;Jt<ot;Jt++)zt+=et[Jt](ut,dt,gt,Mt)||"";return zt}}function Ra(et){return function(ot){ot.root||(ot=ot.return)&&et(ot)}}function l0(et,ot,ut,dt){if(!et.return)switch(et.type){case Cs:et.return=Xa(et.value,et.length);break;case s1:return Hh([Rd(Ji(et.value,"@","@"+ro),et,"")],dt);case ya:if(et.length)return ku(et.props,function(gt){switch(Jl(gt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hh([Rd(Ji(gt,/:(read-\w+)/,":"+ma+"$1"),et,"")],dt);case"::placeholder":return Hh([Rd(Ji(gt,/:(plac\w+)/,":"+ro+"input-$1"),et,""),Rd(Ji(gt,/:(plac\w+)/,":"+ma+"$1"),et,""),Rd(Ji(gt,/:(plac\w+)/,Xr+"input-$1"),et,"")],dt)}return""})}}function Bs(et){var ot=Object.create(null);return function(ut){return ot[ut]===void 0&&(ot[ut]=et(ut)),ot[ut]}}var c0=function(et,ot,ut){for(var dt=0,gt=0;dt=gt,gt=Wa(),dt===38&&gt===12&&(ot[ut]=1),!Kl(gt);)yo();return qa(et,Ga)},tc=function(et,ot){var ut=-1,dt=44;do switch(Kl(dt)){case 0:dt===38&&Wa()===12&&(ot[ut]=1),et[ut]+=c0(Ga-1,ot,ut);break;case 2:et[ut]+=Mc(dt);break;case 4:if(dt===44){et[++ut]=Wa()===58?"&\f":"",ot[ut]=et[ut].length;break}default:et[ut]+=Pa(dt)}while(dt=yo());return et},Ds=function(et,ot){return ih(tc(Fp(et),ot))},fl=new WeakMap,oh=function(et){if(!(et.type!=="rule"||!et.parent||!et.length)){for(var ot=et.value,ut=et.parent,dt=et.column===ut.column&&et.line===ut.line;ut.type!=="rule";)if(ut=ut.parent,!ut)return;if(!(et.props.length===1&&ot.charCodeAt(0)!==58&&!fl.get(ut))&&!dt){fl.set(et,!0);for(var gt=[],Mt=Ds(ot,gt),zt=ut.props,Jt=0,ue=0;Jt<Mt.length;Jt++)for(var he=0;he<zt.length;he++,ue++)et.props[ue]=gt[Jt]?Mt[Jt].replace(/&\f/g,zt[he]):zt[he]+" "+Mt[Jt]}}},Gh=function(et){if(et.type==="decl"){var ot=et.value;ot.charCodeAt(0)===108&&ot.charCodeAt(2)===98&&(et.return="",et.value="")}},ec=[l0],Wh=function(et){var ot=et.key;if(ot==="css"){var ut=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ut,function(Mn){var Rn=Mn.getAttribute("data-emotion");Rn.indexOf(" ")!==-1&&(document.head.appendChild(Mn),Mn.setAttribute("data-s",""))})}var dt=et.stylisPlugins||ec,gt={},Mt,zt=[];Mt=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+ot+' "]'),function(Mn){for(var Rn=Mn.getAttribute("data-emotion").split(" "),On=1;On<Rn.length;On++)gt[Rn[On]]=!0;zt.push(Mn)});var Jt,ue=[oh,Gh];{var he,le=[Vh,Ra(function(Mn){he.insert(Mn)})],Ue=Nu(ue.concat(dt,le)),tn=function(Mn){return Hh(Au(Mn),Ue)};Jt=function(Mn,Rn,On,or){he=On,tn(Mn?Mn+"{"+Rn.styles+"}":Rn.styles),or&&(ln.inserted[Rn.name]=!0)}}var ln={key:ot,sheet:new nh({key:ot,container:Mt,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:gt,registered:{},insert:Jt};return ln.sheet.hydrate(zt),ln},oa={exports:{}},Ki={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Mi=typeof Symbol=="function"&&Symbol.for,Up=Mi?Symbol.for("react.element"):60103,Yp=Mi?Symbol.for("react.portal"):60106,Is=Mi?Symbol.for("react.fragment"):60107,nc=Mi?Symbol.for("react.strict_mode"):60108,jd=Mi?Symbol.for("react.profiler"):60114,qc=Mi?Symbol.for("react.provider"):60109,rc=Mi?Symbol.for("react.context"):60110,hs=Mi?Symbol.for("react.async_mode"):60111,Ls=Mi?Symbol.for("react.concurrent_mode"):60111,sh=Mi?Symbol.for("react.forward_ref"):60112,Ws=Mi?Symbol.for("react.suspense"):60113,u0=Mi?Symbol.for("react.suspense_list"):60120,qh=Mi?Symbol.for("react.memo"):60115,ds=Mi?Symbol.for("react.lazy"):60116,Oy=Mi?Symbol.for("react.block"):60121,Tc=Mi?Symbol.for("react.fundamental"):60117,l1=Mi?Symbol.for("react.responder"):60118,$f=Mi?Symbol.for("react.scope"):60119;function Il(et){if(typeof et=="object"&&et!==null){var ot=et.$$typeof;switch(ot){case Up:switch(et=et.type,et){case hs:case Ls:case Is:case jd:case nc:case Ws:return et;default:switch(et=et&&et.$$typeof,et){case rc:case sh:case ds:case qh:case qc:return et;default:return ot}}case Yp:return ot}}}function c1(et){return Il(et)===Ls}Ki.AsyncMode=hs,Ki.ConcurrentMode=Ls,Ki.ContextConsumer=rc,Ki.ContextProvider=qc,Ki.Element=Up,Ki.ForwardRef=sh,Ki.Fragment=Is,Ki.Lazy=ds,Ki.Memo=qh,Ki.Portal=Yp,Ki.Profiler=jd,Ki.StrictMode=nc,Ki.Suspense=Ws,Ki.isAsyncMode=function(et){return c1(et)||Il(et)===hs},Ki.isConcurrentMode=c1,Ki.isContextConsumer=function(et){return Il(et)===rc},Ki.isContextProvider=function(et){return Il(et)===qc},Ki.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===Up},Ki.isForwardRef=function(et){return Il(et)===sh},Ki.isFragment=function(et){return Il(et)===Is},Ki.isLazy=function(et){return Il(et)===ds},Ki.isMemo=function(et){return Il(et)===qh},Ki.isPortal=function(et){return Il(et)===Yp},Ki.isProfiler=function(et){return Il(et)===jd},Ki.isStrictMode=function(et){return Il(et)===nc},Ki.isSuspense=function(et){return Il(et)===Ws},Ki.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===Is||et===Ls||et===jd||et===nc||et===Ws||et===u0||typeof et=="object"&&et!==null&&(et.$$typeof===ds||et.$$typeof===qh||et.$$typeof===qc||et.$$typeof===rc||et.$$typeof===sh||et.$$typeof===Tc||et.$$typeof===l1||et.$$typeof===$f||et.$$typeof===Oy)},Ki.typeOf=Il,oa.exports=Ki;var ic=oa.exports,Bd={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$d={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hp={};Hp[ic.ForwardRef]=Bd,Hp[ic.Memo]=$d;var Fd=!0;function Du(et,ot,ut){var dt="";return ut.split(" ").forEach(function(gt){et[gt]!==void 0?ot.push(et[gt]+";"):dt+=gt+" "}),dt}var Ud=function(et,ot,ut){var dt=et.key+"-"+ot.name;if((ut===!1||Fd===!1)&&et.registered[dt]===void 0&&(et.registered[dt]=ot.styles),et.inserted[ot.name]===void 0){var gt=ot;do et.insert(ot===gt?"."+dt:"",gt,et.sheet,!0),gt=gt.next;while(gt!==void 0)}};function Yd(et){for(var ot=0,ut,dt=0,gt=et.length;gt>=4;++dt,gt-=4)ut=et.charCodeAt(dt)&255|(et.charCodeAt(++dt)&255)<<8|(et.charCodeAt(++dt)&255)<<16|(et.charCodeAt(++dt)&255)<<24,ut=(ut&65535)*1540483477+((ut>>>16)*59797<<16),ut^=ut>>>24,ot=(ut&65535)*1540483477+((ut>>>16)*59797<<16)^(ot&65535)*1540483477+((ot>>>16)*59797<<16);switch(gt){case 3:ot^=(et.charCodeAt(dt+2)&255)<<16;case 2:ot^=(et.charCodeAt(dt+1)&255)<<8;case 1:ot^=et.charCodeAt(dt)&255,ot=(ot&65535)*1540483477+((ot>>>16)*59797<<16)}return ot^=ot>>>13,ot=(ot&65535)*1540483477+((ot>>>16)*59797<<16),((ot^ot>>>15)>>>0).toString(36)}var ah={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ti=/[A-Z]|^ms/g,Iu=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qh=function(et){return et.charCodeAt(1)===45},Lu=function(et){return et!=null&&typeof et!="boolean"},va=Bs(function(et){return Qh(et)?et:et.replace(ti,"-$&").toLowerCase()}),h0=function(et,ot){switch(et){case"animation":case"animationName":if(typeof ot=="string")return ot.replace(Iu,function(ut,dt,gt){return Ll={name:dt,styles:gt,next:Ll},dt})}return ah[et]!==1&&!Qh(et)&&typeof ot=="number"&&ot!==0?ot+"px":ot};function qs(et,ot,ut){if(ut==null)return"";if(ut.__emotion_styles!==void 0)return ut;switch(typeof ut){case"boolean":return"";case"object":{if(ut.anim===1)return Ll={name:ut.name,styles:ut.styles,next:Ll},ut.name;if(ut.styles!==void 0){var dt=ut.next;if(dt!==void 0)for(;dt!==void 0;)Ll={name:dt.name,styles:dt.styles,next:Ll},dt=dt.next;var gt=ut.styles+";";return gt}return ns(et,ot,ut)}case"function":{if(et!==void 0){var Mt=Ll,zt=ut(et);return Ll=Mt,qs(et,ot,zt)}break}}if(ot==null)return ut;var Jt=ot[ut];return Jt!==void 0?Jt:ut}function ns(et,ot,ut){var dt="";if(Array.isArray(ut))for(var gt=0;gt<ut.length;gt++)dt+=qs(et,ot,ut[gt])+";";else for(var Mt in ut){var zt=ut[Mt];if(typeof zt!="object")ot!=null&&ot[zt]!==void 0?dt+=Mt+"{"+ot[zt]+"}":Lu(zt)&&(dt+=va(Mt)+":"+h0(Mt,zt)+";");else if(Array.isArray(zt)&&typeof zt[0]=="string"&&(ot==null||ot[zt[0]]===void 0))for(var Jt=0;Jt<zt.length;Jt++)Lu(zt[Jt])&&(dt+=va(Mt)+":"+h0(Mt,zt[Jt])+";");else{var ue=qs(et,ot,zt);switch(Mt){case"animation":case"animationName":{dt+=va(Mt)+":"+ue+";";break}default:dt+=Mt+"{"+ue+"}"}}}return dt}var d0=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ll,Qc=function(et,ot,ut){if(et.length===1&&typeof et[0]=="object"&&et[0]!==null&&et[0].styles!==void 0)return et[0];var dt=!0,gt="";Ll=void 0;var Mt=et[0];Mt==null||Mt.raw===void 0?(dt=!1,gt+=qs(ut,ot,Mt)):gt+=Mt[0];for(var zt=1;zt<et.length;zt++)gt+=qs(ut,ot,et[zt]),dt&&(gt+=Mt[zt]);d0.lastIndex=0;for(var Jt="",ue;(ue=d0.exec(gt))!==null;)Jt+="-"+ue[1];var he=Yd(gt)+Jt;return{name:he,styles:gt,next:Ll}},Hd={}.hasOwnProperty,Ff=ge(typeof HTMLElement<"u"?Wh({key:"css"}):null);Ff.Provider;var f0=function(et){return xo(function(ot,ut){var dt=Ve(Ff);return et(ot,dt,ut)})},Zo=ge({}),co="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xc=function(et,ot){var ut={};for(var dt in ot)Hd.call(ot,dt)&&(ut[dt]=ot[dt]);return ut[co]=et,ut},u1=function(){return null},Zc=f0(function(et,ot,ut){var dt=et.css;typeof dt=="string"&&ot.registered[dt]!==void 0&&(dt=ot.registered[dt]);var gt=et[co],Mt=[dt],zt="";typeof et.className=="string"?zt=Du(ot.registered,Mt,et.className):et.className!=null&&(zt=et.className+" ");var Jt=Qc(Mt,void 0,Ve(Zo));Ud(ot,Jt,typeof gt=="string"),zt+=ot.key+"-"+Jt.name;var ue={};for(var he in et)Hd.call(et,he)&&he!=="css"&&he!==co&&(ue[he]=et[he]);ue.ref=ut,ue.className=zt;var le=Dt(gt,ue),Ue=Dt(u1,null);return Dt(ce,null,Ue,le)}),Hr=function(et,ot){var ut=arguments;if(ot==null||!Hd.call(ot,"css"))return Dt.apply(void 0,ut);var dt=ut.length,gt=new Array(dt);gt[0]=Zc,gt[1]=Xc(et,ot);for(var Mt=2;Mt<dt;Mt++)gt[Mt]=ut[Mt];return Dt.apply(null,gt)};function pl(){for(var et=arguments.length,ot=new Array(et),ut=0;ut<et;ut++)ot[ut]=arguments[ut];return Qc(ot)}var sa=function(){var et=pl.apply(void 0,arguments),ot="animation-"+et.name;return{name:ot,styles:"@keyframes "+ot+"{"+et.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Py=function et(ot){for(var ut=ot.length,dt=0,gt="";dt<ut;dt++){var Mt=ot[dt];if(Mt!=null){var zt=void 0;switch(typeof Mt){case"boolean":break;case"object":{if(Array.isArray(Mt))zt=et(Mt);else{zt="";for(var Jt in Mt)Mt[Jt]&&Jt&&(zt&&(zt+=" "),zt+=Jt)}break}default:zt=Mt}zt&&(gt&&(gt+=" "),gt+=zt)}}return gt};function Vd(et,ot,ut){var dt=[],gt=Du(et,dt,ut);return dt.length<2?ut:gt+ot(dt)}var fs=function(){return null},ps=f0(function(et,ot){var ut=function(){for(var Jt=arguments.length,ue=new Array(Jt),he=0;he<Jt;he++)ue[he]=arguments[he];var le=Qc(ue,ot.registered);return Ud(ot,le,!1),ot.key+"-"+le.name},dt=function(){for(var Jt=arguments.length,ue=new Array(Jt),he=0;he<Jt;he++)ue[he]=arguments[he];return Vd(ot.registered,ut,Py(ue))},gt={css:ut,cx:dt,theme:Ve(Zo)},Mt=et.children(gt),zt=Dt(fs,null);return Dt(ce,null,zt,Mt)});function Uf(et,ot){return ot||(ot=et.slice(0)),Object.freeze(Object.defineProperties(et,{raw:{value:Object.freeze(ot)}}))}function Vp(et,ot){if(et==null)return{};var ut={},dt=Object.keys(et),gt,Mt;for(Mt=0;Mt<dt.length;Mt++)gt=dt[Mt],!(ot.indexOf(gt)>=0)&&(ut[gt]=et[gt]);return ut}function Sc(et,ot){if(et==null)return{};var ut=Vp(et,ot),dt,gt;if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(et);for(gt=0;gt<Mt.length;gt++)dt=Mt[gt],!(ot.indexOf(dt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(et,dt)||(ut[dt]=et[dt]))}return ut}function lh(et){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lh=function(ot){return typeof ot}:lh=function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},lh(et)}var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});var Gp=Object.assign||function(et){for(var ot=1;ot<arguments.length;ot++){var ut=arguments[ot];for(var dt in ut)Object.prototype.hasOwnProperty.call(ut,dt)&&(et[dt]=ut[dt])}return et},p0=function(){function et(ot,ut){for(var dt=0;dt<ut.length;dt++){var gt=ut[dt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ot,gt.key,gt)}}return function(ot,ut,dt){return ut&&et(ot.prototype,ut),dt&&et(ot,dt),ot}}(),Wp=Yo,Gd=Hf(Wp),g0=wa.exports,rs=Hf(g0);function Hf(et){return et&&et.__esModule?et:{default:et}}function qp(et,ot){var ut={};for(var dt in et)ot.indexOf(dt)>=0||!Object.prototype.hasOwnProperty.call(et,dt)||(ut[dt]=et[dt]);return ut}function m0(et,ot){if(!(et instanceof ot))throw new TypeError("Cannot call a class as a function")}function Qp(et,ot){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot&&(typeof ot=="object"||typeof ot=="function")?ot:et}function y0(et,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ot);et.prototype=Object.create(ot&&ot.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),ot&&(Object.setPrototypeOf?Object.setPrototypeOf(et,ot):et.__proto__=ot)}var v0={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},b0=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h1=function(et){return b0.forEach(function(ot){return delete et[ot]}),et},_0=function(et,ot){ot.style.fontSize=et.fontSize,ot.style.fontFamily=et.fontFamily,ot.style.fontWeight=et.fontWeight,ot.style.fontStyle=et.fontStyle,ot.style.letterSpacing=et.letterSpacing,ot.style.textTransform=et.textTransform},w0=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,x0=function(){return w0?"_"+Math.random().toString(36).substr(2,12):void 0},Xp=function(et){y0(ot,et),p0(ot,null,[{key:"getDerivedStateFromProps",value:function(ut,dt){var gt=ut.id;return gt!==dt.prevId?{inputId:gt||x0(),prevId:gt}:null}}]);function ot(ut){m0(this,ot);var dt=Qp(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this,ut));return dt.inputRef=function(gt){dt.input=gt,typeof dt.props.inputRef=="function"&&dt.props.inputRef(gt)},dt.placeHolderSizerRef=function(gt){dt.placeHolderSizer=gt},dt.sizerRef=function(gt){dt.sizer=gt},dt.state={inputWidth:ut.minWidth,inputId:ut.id||x0(),prevId:ut.id},dt}return p0(ot,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(ut,dt){dt.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var ut=this.input&&window.getComputedStyle(this.input);!ut||(_0(ut,this.sizer),this.placeHolderSizer&&_0(ut,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var ut=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?ut=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:ut=this.sizer.scrollWidth+2;var dt=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;ut+=dt,ut<this.props.minWidth&&(ut=this.props.minWidth),ut!==this.state.inputWidth&&this.setState({inputWidth:ut})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var ut=this.props.injectStyles;return w0&&ut?Gd.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var ut=[this.props.defaultValue,this.props.value,""].reduce(function(zt,Jt){return zt??Jt}),dt=Gp({},this.props.style);dt.display||(dt.display="inline-block");var gt=Gp({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),Mt=qp(this.props,[]);return h1(Mt),Mt.className=this.props.inputClassName,Mt.id=this.state.inputId,Mt.style=gt,Gd.default.createElement("div",{className:this.props.className,style:dt},this.renderStyles(),Gd.default.createElement("input",Gp({},Mt,{ref:this.inputRef})),Gd.default.createElement("div",{ref:this.sizerRef,style:v0},ut),this.props.placeholder?Gd.default.createElement("div",{ref:this.placeHolderSizerRef,style:v0},this.props.placeholder):null)}}]),ot}(Wp.Component);Xp.propTypes={className:rs.default.string,defaultValue:rs.default.any,extraWidth:rs.default.oneOfType([rs.default.number,rs.default.string]),id:rs.default.string,injectStyles:rs.default.bool,inputClassName:rs.default.string,inputRef:rs.default.func,inputStyle:rs.default.object,minWidth:rs.default.oneOfType([rs.default.number,rs.default.string]),onAutosize:rs.default.func,onChange:rs.default.func,placeholder:rs.default.string,placeholderIsMinWidth:rs.default.bool,style:rs.default.object,value:rs.default.any},Xp.defaultProps={minWidth:1,injectStyles:!0};var Zp=Yf.default=Xp;function Xh(et,ot){if(!(et instanceof ot))throw new TypeError("Cannot call a class as a function")}function E0(et,ot){for(var ut=0;ut<ot.length;ut++){var dt=ot[ut];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(et,dt.key,dt)}}function Vf(et,ot,ut){return ot&&E0(et.prototype,ot),ut&&E0(et,ut),et}function Gf(et,ot){return Gf=Object.setPrototypeOf||function(ut,dt){return ut.__proto__=dt,ut},Gf(et,ot)}function Wd(et,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(ot&&ot.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),ot&&Gf(et,ot)}function Jc(et,ot,ut){return ot in et?Object.defineProperty(et,ot,{value:ut,enumerable:!0,configurable:!0,writable:!0}):et[ot]=ut,et}function d1(et,ot,ut){return ot in et?Object.defineProperty(et,ot,{value:ut,enumerable:!0,configurable:!0,writable:!0}):et[ot]=ut,et}function qd(et,ot){var ut=Object.keys(et);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(et);ot&&(dt=dt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),ut.push.apply(ut,dt)}return ut}function $s(et){for(var ot=1;ot<arguments.length;ot++){var ut=arguments[ot]!=null?arguments[ot]:{};ot%2?qd(Object(ut),!0).forEach(function(dt){d1(et,dt,ut[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(ut)):qd(Object(ut)).forEach(function(dt){Object.defineProperty(et,dt,Object.getOwnPropertyDescriptor(ut,dt))})}return et}function Jp(et){return Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(ot){return ot.__proto__||Object.getPrototypeOf(ot)},Jp(et)}function M0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f1(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function Qd(et,ot){return ot&&(typeof ot=="object"||typeof ot=="function")?ot:f1(et)}function Zh(et){var ot=M0();return function(){var ut=Jp(et),dt;if(ot){var gt=Jp(this).constructor;dt=Reflect.construct(ut,arguments,gt)}else dt=ut.apply(this,arguments);return Qd(this,dt)}}var ch=function(){};function Kp(et,ot){return ot?ot[0]==="-"?et+ot:et+"__"+ot:et}function p1(et,ot,ut){var dt=[ut];if(ot&&et)for(var gt in ot)ot.hasOwnProperty(gt)&&ot[gt]&&dt.push("".concat(Kp(et,gt)));return dt.filter(function(Mt){return Mt}).map(function(Mt){return String(Mt).trim()}).join(" ")}var T0=function(et){return Array.isArray(et)?et.filter(Boolean):lh(et)==="object"&&et!==null?[et]:[]},g1=function(et){et.className,et.clearValue,et.cx,et.getStyles,et.getValue,et.hasValue,et.isMulti,et.isRtl,et.options,et.selectOption,et.selectProps,et.setValue,et.theme;var ot=Sc(et,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return $s({},ot)};function S0(et){return[document.documentElement,document.body,window].indexOf(et)>-1}function C0(et){return S0(et)?window.pageYOffset:et.scrollTop}function tg(et,ot){if(S0(et)){window.scrollTo(0,ot);return}et.scrollTop=ot}function m1(et){var ot=getComputedStyle(et),ut=ot.position==="absolute",dt=/(auto|scroll)/,gt=document.documentElement;if(ot.position==="fixed")return gt;for(var Mt=et;Mt=Mt.parentElement;)if(ot=getComputedStyle(Mt),!(ut&&ot.position==="static")&&dt.test(ot.overflow+ot.overflowY+ot.overflowX))return Mt;return gt}function k0(et,ot,ut,dt){return ut*((et=et/dt-1)*et*et+1)+ot}function Wf(et,ot){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ch,gt=C0(et),Mt=ot-gt,zt=10,Jt=0;function ue(){Jt+=zt;var he=k0(Jt,gt,Mt,ut);tg(et,he),Jt<ut?window.requestAnimationFrame(ue):dt(et)}ue()}function zy(et,ot){var ut=et.getBoundingClientRect(),dt=ot.getBoundingClientRect(),gt=ot.offsetHeight/3;dt.bottom+gt>ut.bottom?tg(et,Math.min(ot.offsetTop+ot.clientHeight-et.offsetHeight+gt,et.scrollHeight)):dt.top-gt<ut.top&&tg(et,Math.max(ot.offsetTop-gt,0))}function y1(et){var ot=et.getBoundingClientRect();return{bottom:ot.bottom,height:ot.height,left:ot.left,right:ot.right,top:ot.top,width:ot.width}}function v1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Ry(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var A0=!1,jy={get passive(){return A0=!0}},Jh=typeof window<"u"?window:{};Jh.addEventListener&&Jh.removeEventListener&&(Jh.addEventListener("p",ch,jy),Jh.removeEventListener("p",ch,!1));var b1=A0;function _1(et){var ot=et.maxHeight,ut=et.menuEl,dt=et.minHeight,gt=et.placement,Mt=et.shouldScroll,zt=et.isFixedPosition,Jt=et.theme,ue=Jt.spacing,he=m1(ut),le={placement:"bottom",maxHeight:ot};if(!ut||!ut.offsetParent)return le;var Ue=he.getBoundingClientRect(),tn=Ue.height,ln=ut.getBoundingClientRect(),Mn=ln.bottom,Rn=ln.height,On=ln.top,or=ut.offsetParent.getBoundingClientRect(),fr=or.top,oi=window.innerHeight,Zr=C0(he),Gr=parseInt(getComputedStyle(ut).marginBottom,10),li=parseInt(getComputedStyle(ut).marginTop,10),Jr=fr-li,gs=oi-On,ws=Jr+Zr,jo=tn-Zr-On,Bo=Mn-oi+Zr+Gr,Kc=Zr+On-li,Ol=160;switch(gt){case"auto":case"bottom":if(gs>=Rn)return{placement:"bottom",maxHeight:ot};if(jo>=Rn&&!zt)return Mt&&Wf(he,Bo,Ol),{placement:"bottom",maxHeight:ot};if(!zt&&jo>=dt||zt&&gs>=dt){Mt&&Wf(he,Bo,Ol);var ed=zt?gs-Gr:jo-Gr;return{placement:"bottom",maxHeight:ed}}if(gt==="auto"||zt){var tu=ot,Ou=zt?Jr:ws;return Ou>=dt&&(tu=Math.min(Ou-Gr-ue.controlHeight,ot)),{placement:"top",maxHeight:tu}}if(gt==="bottom")return Mt&&tg(he,Bo),{placement:"bottom",maxHeight:ot};break;case"top":if(Jr>=Rn)return{placement:"top",maxHeight:ot};if(ws>=Rn&&!zt)return Mt&&Wf(he,Kc,Ol),{placement:"top",maxHeight:ot};if(!zt&&ws>=dt||zt&&Jr>=dt){var Ja=ot;return(!zt&&ws>=dt||zt&&Jr>=dt)&&(Ja=zt?Jr-li:ws-li),Mt&&Wf(he,Kc,Ol),{placement:"top",maxHeight:Ja}}return{placement:"bottom",maxHeight:ot};default:throw new Error('Invalid placement provided "'.concat(gt,'".'))}return le}function w1(et){var ot={bottom:"top",top:"bottom"};return et?ot[et]:"bottom"}var Kh=function(et){return et==="auto"?"bottom":et},x1=function(et){var ot,ut=et.placement,dt=et.theme,gt=dt.borderRadius,Mt=dt.spacing,zt=dt.colors;return ot={label:"menu"},Jc(ot,w1(ut),"100%"),Jc(ot,"backgroundColor",zt.neutral0),Jc(ot,"borderRadius",gt),Jc(ot,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Jc(ot,"marginBottom",Mt.menuGutter),Jc(ot,"marginTop",Mt.menuGutter),Jc(ot,"position","absolute"),Jc(ot,"width","100%"),Jc(ot,"zIndex",1),ot},E1=ge({getPortalPlacement:null}),M1=function(et){Wd(ut,et);var ot=Zh(ut);function ut(){var dt;Xh(this,ut);for(var gt=arguments.length,Mt=new Array(gt),zt=0;zt<gt;zt++)Mt[zt]=arguments[zt];return dt=ot.call.apply(ot,[this].concat(Mt)),dt.state={maxHeight:dt.props.maxMenuHeight,placement:null},dt.getPlacement=function(Jt){var ue=dt.props,he=ue.minMenuHeight,le=ue.maxMenuHeight,Ue=ue.menuPlacement,tn=ue.menuPosition,ln=ue.menuShouldScrollIntoView,Mn=ue.theme;if(Jt){var Rn=tn==="fixed",On=ln&&!Rn,or=_1({maxHeight:le,menuEl:Jt,minHeight:he,placement:Ue,shouldScroll:On,isFixedPosition:Rn,theme:Mn}),fr=dt.context.getPortalPlacement;fr&&fr(or),dt.setState(or)}},dt.getUpdatedProps=function(){var Jt=dt.props.menuPlacement,ue=dt.state.placement||Kh(Jt);return $s($s({},dt.props),{},{placement:ue,maxHeight:dt.state.maxHeight})},dt}return Vf(ut,[{key:"render",value:function(){var dt=this.props.children;return dt({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),ut}(Pt);M1.contextType=E1;var T1=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerRef,zt=et.innerProps;return Hr("div",Ar({css:gt("menu",et),className:dt({menu:!0},ut),ref:Mt},zt),ot)},By=function(et){var ot=et.maxHeight,ut=et.theme.spacing.baseUnit;return{maxHeight:ot,overflowY:"auto",paddingBottom:ut,paddingTop:ut,position:"relative",WebkitOverflowScrolling:"touch"}},S1=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps,zt=et.innerRef,Jt=et.isMulti;return Hr("div",Ar({css:gt("menuList",et),className:dt({"menu-list":!0,"menu-list--is-multi":Jt},ut),ref:zt},Mt),ot)},N0=function(et){var ot=et.theme,ut=ot.spacing.baseUnit,dt=ot.colors;return{color:dt.neutral40,padding:"".concat(ut*2,"px ").concat(ut*3,"px"),textAlign:"center"}},B=N0,U=N0,G=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps;return Hr("div",Ar({css:gt("noOptionsMessage",et),className:dt({"menu-notice":!0,"menu-notice--no-options":!0},ut)},Mt),ot)};G.defaultProps={children:"No options"};var Q=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps;return Hr("div",Ar({css:gt("loadingMessage",et),className:dt({"menu-notice":!0,"menu-notice--loading":!0},ut)},Mt),ot)};Q.defaultProps={children:"Loading..."};var J=function(et){var ot=et.rect,ut=et.offset,dt=et.position;return{left:ot.left,position:dt,top:ut,width:ot.width,zIndex:1}},rt=function(et){Wd(ut,et);var ot=Zh(ut);function ut(){var dt;Xh(this,ut);for(var gt=arguments.length,Mt=new Array(gt),zt=0;zt<gt;zt++)Mt[zt]=arguments[zt];return dt=ot.call.apply(ot,[this].concat(Mt)),dt.state={placement:null},dt.getPortalPlacement=function(Jt){var ue=Jt.placement,he=Kh(dt.props.menuPlacement);ue!==he&&dt.setState({placement:ue})},dt}return Vf(ut,[{key:"render",value:function(){var dt=this.props,gt=dt.appendTo,Mt=dt.children,zt=dt.className,Jt=dt.controlElement,ue=dt.cx,he=dt.innerProps,le=dt.menuPlacement,Ue=dt.menuPosition,tn=dt.getStyles,ln=Ue==="fixed";if(!gt&&!ln||!Jt)return null;var Mn=this.state.placement||Kh(le),Rn=y1(Jt),On=ln?0:window.pageYOffset,or=Rn[Mn]+On,fr={offset:or,position:Ue,rect:Rn},oi=Hr("div",Ar({css:tn("menuPortal",fr),className:ue({"menu-portal":!0},zt)},he),Mt);return Hr(E1.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},gt?gn(oi,gt):oi)}}]),ut}(Pt),at=function(et){var ot=et.isDisabled,ut=et.isRtl;return{label:"container",direction:ut?"rtl":null,pointerEvents:ot?"none":null,position:"relative"}},ft=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps,zt=et.isDisabled,Jt=et.isRtl;return Hr("div",Ar({css:gt("container",et),className:dt({"--is-disabled":zt,"--is-rtl":Jt},ut)},Mt),ot)},yt=function(et){var ot=et.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(ot.baseUnit/2,"px ").concat(ot.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},vt=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.innerProps,Mt=et.isMulti,zt=et.getStyles,Jt=et.hasValue;return Hr("div",Ar({css:zt("valueContainer",et),className:dt({"value-container":!0,"value-container--is-multi":Mt,"value-container--has-value":Jt},ut)},gt),ot)},Tt=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xt=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.innerProps,Mt=et.getStyles;return Hr("div",Ar({css:Mt("indicatorsContainer",et),className:dt({indicators:!0},ut)},gt),ot)},It,Gt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Wt=function(et){var ot=et.size,ut=Sc(et,["size"]);return Hr("svg",Ar({height:ot,width:ot,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Gt},ut))},ee=function(et){return Hr(Wt,Ar({size:20},et),Hr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Bt=function(et){return Hr(Wt,Ar({size:20},et),Hr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},me=function(et){var ot=et.isFocused,ut=et.theme,dt=ut.spacing.baseUnit,gt=ut.colors;return{label:"indicatorContainer",color:ot?gt.neutral60:gt.neutral20,display:"flex",padding:dt*2,transition:"color 150ms",":hover":{color:ot?gt.neutral80:gt.neutral40}}},Ie=me,Zt=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps;return Hr("div",Ar({css:gt("dropdownIndicator",et),className:dt({indicator:!0,"dropdown-indicator":!0},ut)},Mt),ot||Hr(Bt,null))},fe=me,be=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps;return Hr("div",Ar({css:gt("clearIndicator",et),className:dt({indicator:!0,"clear-indicator":!0},ut)},Mt),ot||Hr(ee,null))},Ee=function(et){var ot=et.isDisabled,ut=et.theme,dt=ut.spacing.baseUnit,gt=ut.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:ot?gt.neutral10:gt.neutral20,marginBottom:dt*2,marginTop:dt*2,width:1}},_e=function(et){var ot=et.className,ut=et.cx,dt=et.getStyles,gt=et.innerProps;return Hr("span",Ar({},gt,{css:dt("indicatorSeparator",et),className:ut({"indicator-separator":!0},ot)}))},wn=sa(It||(It=Uf([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),cn=function(et){var ot=et.isFocused,ut=et.size,dt=et.theme,gt=dt.colors,Mt=dt.spacing.baseUnit;return{label:"loadingIndicator",color:ot?gt.neutral60:gt.neutral20,display:"flex",padding:Mt*2,transition:"color 150ms",alignSelf:"center",fontSize:ut,lineHeight:1,marginRight:ut,textAlign:"center",verticalAlign:"middle"}},Tn=function(et){var ot=et.delay,ut=et.offset;return Hr("span",{css:pl({animation:"".concat(wn," 1s ease-in-out ").concat(ot,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:ut?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dn=function(et){var ot=et.className,ut=et.cx,dt=et.getStyles,gt=et.innerProps,Mt=et.isRtl;return Hr("div",Ar({css:dt("loadingIndicator",et),className:ut({indicator:!0,"loading-indicator":!0},ot)},gt),Hr(Tn,{delay:0,offset:Mt}),Hr(Tn,{delay:160,offset:!0}),Hr(Tn,{delay:320,offset:!Mt}))};dn.defaultProps={size:4};var An=function(et){var ot=et.isDisabled,ut=et.isFocused,dt=et.theme,gt=dt.colors,Mt=dt.borderRadius,zt=dt.spacing;return{label:"control",alignItems:"center",backgroundColor:ot?gt.neutral5:gt.neutral0,borderColor:ot?gt.neutral10:ut?gt.primary:gt.neutral20,borderRadius:Mt,borderStyle:"solid",borderWidth:1,boxShadow:ut?"0 0 0 1px ".concat(gt.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:zt.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:ut?gt.primary:gt.neutral30}}},yn=function(et){var ot=et.children,ut=et.cx,dt=et.getStyles,gt=et.className,Mt=et.isDisabled,zt=et.isFocused,Jt=et.innerRef,ue=et.innerProps,he=et.menuIsOpen;return Hr("div",Ar({ref:Jt,css:dt("control",et),className:ut({control:!0,"control--is-disabled":Mt,"control--is-focused":zt,"control--menu-is-open":he},gt)},ue),ot)},mn=function(et){var ot=et.theme.spacing;return{paddingBottom:ot.baseUnit*2,paddingTop:ot.baseUnit*2}},fn=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.Heading,zt=et.headingProps,Jt=et.innerProps,ue=et.label,he=et.theme,le=et.selectProps;return Hr("div",Ar({css:gt("group",et),className:dt({group:!0},ut)},Jt),Hr(Mt,Ar({},zt,{selectProps:le,theme:he,getStyles:gt,cx:dt}),ue),Hr("div",null,ot))},Sn=function(et){var ot=et.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:ot.baseUnit*3,paddingRight:ot.baseUnit*3,textTransform:"uppercase"}},bn=function(et){var ot=et.getStyles,ut=et.cx,dt=et.className,gt=g1(et);gt.data;var Mt=Sc(gt,["data"]);return Hr("div",Ar({css:ot("groupHeading",et),className:ut({"group-heading":!0},dt)},Mt))},Nn=function(et){var ot=et.isDisabled,ut=et.theme,dt=ut.spacing,gt=ut.colors;return{margin:dt.baseUnit/2,paddingBottom:dt.baseUnit/2,paddingTop:dt.baseUnit/2,visibility:ot?"hidden":"visible",color:gt.neutral80}},Ze=function(et){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:et?0:1,outline:0,padding:0,color:"inherit"}},Mr=function(et){var ot=et.className,ut=et.cx,dt=et.getStyles,gt=g1(et),Mt=gt.innerRef,zt=gt.isDisabled,Jt=gt.isHidden,ue=Sc(gt,["innerRef","isDisabled","isHidden"]);return Hr("div",{css:dt("input",et)},Hr(Zp,Ar({className:ut({input:!0},ot),inputRef:Mt,inputStyle:Ze(Jt),disabled:zt},ue)))},Qn=function(et){var ot=et.theme,ut=ot.spacing,dt=ot.borderRadius,gt=ot.colors;return{label:"multiValue",backgroundColor:gt.neutral10,borderRadius:dt/2,display:"flex",margin:ut.baseUnit/2,minWidth:0}},ri=function(et){var ot=et.theme,ut=ot.borderRadius,dt=ot.colors,gt=et.cropWithEllipsis;return{borderRadius:ut/2,color:dt.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:gt?"ellipsis":null,whiteSpace:"nowrap"}},gr=function(et){var ot=et.theme,ut=ot.spacing,dt=ot.borderRadius,gt=ot.colors,Mt=et.isFocused;return{alignItems:"center",borderRadius:dt/2,backgroundColor:Mt&&gt.dangerLight,display:"flex",paddingLeft:ut.baseUnit,paddingRight:ut.baseUnit,":hover":{backgroundColor:gt.dangerLight,color:gt.danger}}},jr=function(et){var ot=et.children,ut=et.innerProps;return Hr("div",ut,ot)},Ti=jr,po=jr;function Fs(et){var ot=et.children,ut=et.innerProps;return Hr("div",ut,ot||Hr(ee,{size:14}))}var qf=function(et){var ot=et.children,ut=et.className,dt=et.components,gt=et.cx,Mt=et.data,zt=et.getStyles,Jt=et.innerProps,ue=et.isDisabled,he=et.removeProps,le=et.selectProps,Ue=dt.Container,tn=dt.Label,ln=dt.Remove;return Hr(ps,null,function(Mn){var Rn=Mn.css,On=Mn.cx;return Hr(Ue,{data:Mt,innerProps:$s({className:On(Rn(zt("multiValue",et)),gt({"multi-value":!0,"multi-value--is-disabled":ue},ut))},Jt),selectProps:le},Hr(tn,{data:Mt,innerProps:{className:On(Rn(zt("multiValueLabel",et)),gt({"multi-value__label":!0},ut))},selectProps:le},ot),Hr(ln,{data:Mt,innerProps:$s({className:On(Rn(zt("multiValueRemove",et)),gt({"multi-value__remove":!0},ut))},he),selectProps:le}))})};qf.defaultProps={cropWithEllipsis:!0};var uh=function(et){var ot=et.isDisabled,ut=et.isFocused,dt=et.isSelected,gt=et.theme,Mt=gt.spacing,zt=gt.colors;return{label:"option",backgroundColor:dt?zt.primary:ut?zt.primary25:"transparent",color:ot?zt.neutral20:dt?zt.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(Mt.baseUnit*2,"px ").concat(Mt.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!ot&&(dt?zt.primary:zt.primary50)}}},Qf=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.isDisabled,zt=et.isFocused,Jt=et.isSelected,ue=et.innerRef,he=et.innerProps;return Hr("div",Ar({css:gt("option",et),className:dt({option:!0,"option--is-disabled":Mt,"option--is-focused":zt,"option--is-selected":Jt},ut),ref:ue},he),ot)},Xf=function(et){var ot=et.theme,ut=ot.spacing,dt=ot.colors;return{label:"placeholder",color:dt.neutral50,marginLeft:ut.baseUnit/2,marginRight:ut.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},Xd=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.innerProps;return Hr("div",Ar({css:gt("placeholder",et),className:dt({placeholder:!0},ut)},Mt),ot)},eg=function(et){var ot=et.isDisabled,ut=et.theme,dt=ut.spacing,gt=ut.colors;return{label:"singleValue",color:ot?gt.neutral40:gt.neutral80,marginLeft:dt.baseUnit/2,marginRight:dt.baseUnit/2,maxWidth:"calc(100% - ".concat(dt.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Zd=function(et){var ot=et.children,ut=et.className,dt=et.cx,gt=et.getStyles,Mt=et.isDisabled,zt=et.innerProps;return Hr("div",Ar({css:gt("singleValue",et),className:dt({"single-value":!0,"single-value--is-disabled":Mt},ut)},zt),ot)},C1={ClearIndicator:be,Control:yn,DropdownIndicator:Zt,DownChevron:Bt,CrossIcon:ee,Group:fn,GroupHeading:bn,IndicatorsContainer:xt,IndicatorSeparator:_e,Input:Mr,LoadingIndicator:dn,Menu:T1,MenuList:S1,MenuPortal:rt,LoadingMessage:Q,NoOptionsMessage:G,MultiValue:qf,MultiValueContainer:Ti,MultiValueLabel:po,MultiValueRemove:Fs,Option:Qf,Placeholder:Xd,SelectContainer:ft,SingleValue:Zd,ValueContainer:vt},k1=function(et){return $s($s({},C1),et.components)};function $y(et,ot){(ot==null||ot>et.length)&&(ot=et.length);for(var ut=0,dt=new Array(ot);ut<ot;ut++)dt[ut]=et[ut];return dt}function Tb(et){if(Array.isArray(et))return $y(et)}function Sb(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function Cb(et,ot){if(et){if(typeof et=="string")return $y(et,ot);var ut=Object.prototype.toString.call(et).slice(8,-1);if(ut==="Object"&&et.constructor&&(ut=et.constructor.name),ut==="Map"||ut==="Set")return Array.from(et);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return $y(et,ot)}}function kb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gv(et){return Tb(et)||Sb(et)||Cb(et)||kb()}var mv=Number.isNaN||function(et){return typeof et=="number"&&et!==et};function Ab(et,ot){return!!(et===ot||mv(et)&&mv(ot))}function Nb(et,ot){if(et.length!==ot.length)return!1;for(var ut=0;ut<et.length;ut++)if(!Ab(et[ut],ot[ut]))return!1;return!0}function Db(et,ot){ot===void 0&&(ot=Nb);var ut,dt=[],gt,Mt=!1;function zt(){for(var Jt=[],ue=0;ue<arguments.length;ue++)Jt[ue]=arguments[ue];return Mt&&ut===this&&ot(Jt,dt)||(gt=et.apply(this,Jt),Mt=!0,ut=this,dt=Jt),gt}return zt}for(var Ib={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Lb=function(et){return Hr("span",Ar({css:Ib},et))},Ob={guidance:function(et){var ot=et.isSearchable,ut=et.isMulti,dt=et.isDisabled,gt=et.tabSelectsValue,Mt=et.context;switch(Mt){case"menu":return"Use Up and Down to choose options".concat(dt?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(gt?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(et["aria-label"]||"Select"," is focused ").concat(ot?",type to refine list":"",", press Down to open the menu, ").concat(ut?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(et){var ot=et.action,ut=et.label,dt=ut===void 0?"":ut,gt=et.isDisabled;switch(ot){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(dt,", deselected.");case"select-option":return gt?"option ".concat(dt," is disabled. Select another option."):"option ".concat(dt,", selected.");default:return""}},onFocus:function(et){var ot=et.context,ut=et.focused,dt=ut===void 0?{}:ut,gt=et.options,Mt=et.label,zt=Mt===void 0?"":Mt,Jt=et.selectValue,ue=et.isDisabled,he=et.isSelected,le=function(ln,Mn){return ln&&ln.length?"".concat(ln.indexOf(Mn)+1," of ").concat(ln.length):""};if(ot==="value"&&Jt)return"value ".concat(zt," focused, ").concat(le(Jt,dt),".");if(ot==="menu"){var Ue=ue?" disabled":"",tn="".concat(he?"selected":"focused").concat(Ue);return"option ".concat(zt," ").concat(tn,", ").concat(le(gt,dt),".")}return""},onFilter:function(et){var ot=et.inputValue,ut=et.resultsMessage;return"".concat(ut).concat(ot?" for search term "+ot:"",".")}},Pb=function(et){var ot=et.ariaSelection,ut=et.focusedOption,dt=et.focusedValue,gt=et.focusableOptions,Mt=et.isFocused,zt=et.selectValue,Jt=et.selectProps,ue=Jt.ariaLiveMessages,he=Jt.getOptionLabel,le=Jt.inputValue,Ue=Jt.isMulti,tn=Jt.isOptionDisabled,ln=Jt.isSearchable,Mn=Jt.menuIsOpen,Rn=Jt.options,On=Jt.screenReaderStatus,or=Jt.tabSelectsValue,fr=Jt["aria-label"],oi=Jt["aria-live"],Zr=xe(function(){return $s($s({},Ob),ue||{})},[ue]),Gr=xe(function(){var jo="";if(ot&&Zr.onChange){var Bo=ot.option,Kc=ot.removedValue,Ol=ot.value,ed=function(Ja){return Array.isArray(Ja)?null:Ja},tu=Kc||Bo||ed(Ol),Ou=$s({isDisabled:tu&&tn(tu),label:tu?he(tu):""},ot);jo=Zr.onChange(Ou)}return jo},[ot,tn,he,Zr]),li=xe(function(){var jo="",Bo=ut||dt,Kc=!!(ut&&zt&&zt.includes(ut));if(Bo&&Zr.onFocus){var Ol={focused:Bo,label:he(Bo),isDisabled:tn(Bo),isSelected:Kc,options:Rn,context:Bo===ut?"menu":"value",selectValue:zt};jo=Zr.onFocus(Ol)}return jo},[ut,dt,he,tn,Zr,Rn,zt]),Jr=xe(function(){var jo="";if(Mn&&Rn.length&&Zr.onFilter){var Bo=On({count:gt.length});jo=Zr.onFilter({inputValue:le,resultsMessage:Bo})}return jo},[gt,le,Mn,Zr,Rn,On]),gs=xe(function(){var jo="";if(Zr.guidance){var Bo=dt?"value":Mn?"menu":"input";jo=Zr.guidance({"aria-label":fr,context:Bo,isDisabled:ut&&tn(ut),isMulti:Ue,isSearchable:ln,tabSelectsValue:or})}return jo},[fr,ut,dt,Ue,tn,ln,Mn,Zr,or]),ws="".concat(li," ").concat(Jr," ").concat(gs);return Hr(Lb,{"aria-live":oi,"aria-atomic":"false","aria-relevant":"additions text"},Mt&&Hr(ur.Fragment,null,Hr("span",{id:"aria-selection"},Gr),Hr("span",{id:"aria-context"},ws)))},Fy=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],zb=new RegExp("["+Fy.map(function(et){return et.letters}).join("")+"]","g"),yv={},Uy=0;Uy<Fy.length;Uy++)for(var Yy=Fy[Uy],Hy=0;Hy<Yy.letters.length;Hy++)yv[Yy.letters[Hy]]=Yy.base;var vv=function(et){return et.replace(zb,function(ot){return yv[ot]})},Rb=Db(vv),bv=function(et){return et.replace(/^\s+|\s+$/g,"")},jb=function(et){return"".concat(et.label," ").concat(et.value)},Bb=function(et){return function(ot,ut){var dt=$s({ignoreCase:!0,ignoreAccents:!0,stringify:jb,trim:!0,matchFrom:"any"},et),gt=dt.ignoreCase,Mt=dt.ignoreAccents,zt=dt.stringify,Jt=dt.trim,ue=dt.matchFrom,he=Jt?bv(ut):ut,le=Jt?bv(zt(ot)):zt(ot);return gt&&(he=he.toLowerCase(),le=le.toLowerCase()),Mt&&(he=Rb(he),le=vv(le)),ue==="start"?le.substr(0,he.length)===he:le.indexOf(he)>-1}};function $b(et){et.in,et.out,et.onExited,et.appear,et.enter,et.exit;var ot=et.innerRef;et.emotion;var ut=Sc(et,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Hr("input",Ar({ref:ot},ut,{css:pl({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var Fb=function(et){et.preventDefault(),et.stopPropagation()};function Ub(et){var ot=et.isEnabled,ut=et.onBottomArrive,dt=et.onBottomLeave,gt=et.onTopArrive,Mt=et.onTopLeave,zt=ie(!1),Jt=ie(!1),ue=ie(0),he=ie(null),le=Ae(function(On,or){if(he.current!==null){var fr=he.current,oi=fr.scrollTop,Zr=fr.scrollHeight,Gr=fr.clientHeight,li=he.current,Jr=or>0,gs=Zr-Gr-oi,ws=!1;gs>or&&zt.current&&(dt&&dt(On),zt.current=!1),Jr&&Jt.current&&(Mt&&Mt(On),Jt.current=!1),Jr&&or>gs?(ut&&!zt.current&&ut(On),li.scrollTop=Zr,ws=!0,zt.current=!0):!Jr&&-or>oi&&(gt&&!Jt.current&&gt(On),li.scrollTop=0,ws=!0,Jt.current=!0),ws&&Fb(On)}},[]),Ue=Ae(function(On){le(On,On.deltaY)},[le]),tn=Ae(function(On){ue.current=On.changedTouches[0].clientY},[]),ln=Ae(function(On){var or=ue.current-On.changedTouches[0].clientY;le(On,or)},[le]),Mn=Ae(function(On){if(On){var or=b1?{passive:!1}:!1;typeof On.addEventListener=="function"&&On.addEventListener("wheel",Ue,or),typeof On.addEventListener=="function"&&On.addEventListener("touchstart",tn,or),typeof On.addEventListener=="function"&&On.addEventListener("touchmove",ln,or)}},[ln,tn,Ue]),Rn=Ae(function(On){!On||(typeof On.removeEventListener=="function"&&On.removeEventListener("wheel",Ue,!1),typeof On.removeEventListener=="function"&&On.removeEventListener("touchstart",tn,!1),typeof On.removeEventListener=="function"&&On.removeEventListener("touchmove",ln,!1))},[ln,tn,Ue]);return sr(function(){if(ot){var On=he.current;return Mn(On),function(){Rn(On)}}},[ot,Mn,Rn]),function(On){he.current=On}}var _v=["boxSizing","height","overflow","paddingRight","position"],wv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xv(et){et.preventDefault()}function Ev(et){et.stopPropagation()}function Mv(){var et=this.scrollTop,ot=this.scrollHeight,ut=et+this.offsetHeight;et===0?this.scrollTop=1:ut===ot&&(this.scrollTop=et-1)}function Tv(){return"ontouchstart"in window||navigator.maxTouchPoints}var Sv=!!(typeof window<"u"&&window.document&&window.document.createElement),D0=0,ng={capture:!1,passive:!1};function Yb(et){var ot=et.isEnabled,ut=et.accountForScrollbars,dt=ut===void 0?!0:ut,gt=ie({}),Mt=ie(null),zt=Ae(function(ue){if(Sv){var he=document.body,le=he&&he.style;if(dt&&_v.forEach(function(Mn){var Rn=le&&le[Mn];gt.current[Mn]=Rn}),dt&&D0<1){var Ue=parseInt(gt.current.paddingRight,10)||0,tn=document.body?document.body.clientWidth:0,ln=window.innerWidth-tn+Ue||0;Object.keys(wv).forEach(function(Mn){var Rn=wv[Mn];le&&(le[Mn]=Rn)}),le&&(le.paddingRight="".concat(ln,"px"))}he&&Tv()&&(he.addEventListener("touchmove",xv,ng),ue&&(ue.addEventListener("touchstart",Mv,ng),ue.addEventListener("touchmove",Ev,ng))),D0+=1}},[]),Jt=Ae(function(ue){if(Sv){var he=document.body,le=he&&he.style;D0=Math.max(D0-1,0),dt&&D0<1&&_v.forEach(function(Ue){var tn=gt.current[Ue];le&&(le[Ue]=tn)}),he&&Tv()&&(he.removeEventListener("touchmove",xv,ng),ue&&(ue.removeEventListener("touchstart",Mv,ng),ue.removeEventListener("touchmove",Ev,ng)))}},[]);return sr(function(){if(ot){var ue=Mt.current;return zt(ue),function(){Jt(ue)}}},[ot,zt,Jt]),function(ue){Mt.current=ue}}var Hb=function(){return document.activeElement&&document.activeElement.blur()},Vb={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Gb(et){var ot=et.children,ut=et.lockEnabled,dt=et.captureEnabled,gt=dt===void 0?!0:dt,Mt=et.onBottomArrive,zt=et.onBottomLeave,Jt=et.onTopArrive,ue=et.onTopLeave,he=Ub({isEnabled:gt,onBottomArrive:Mt,onBottomLeave:zt,onTopArrive:Jt,onTopLeave:ue}),le=Yb({isEnabled:ut}),Ue=function(tn){he(tn),le(tn)};return Hr(ur.Fragment,null,ut&&Hr("div",{onClick:Hb,css:Vb}),ot(Ue))}var Wb=function(et){return et.label},qb=function(et){return et.label},Qb=function(et){return et.value},Xb=function(et){return!!et.isDisabled},Zb={clearIndicator:fe,container:at,control:An,dropdownIndicator:Ie,group:mn,groupHeading:Sn,indicatorsContainer:Tt,indicatorSeparator:Ee,input:Nn,loadingIndicator:cn,loadingMessage:U,menu:x1,menuList:By,menuPortal:J,multiValue:Qn,multiValueLabel:ri,multiValueRemove:gr,noOptionsMessage:B,option:uh,placeholder:Xf,singleValue:eg,valueContainer:yt},Jb={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Kb=4,Cv=4,t_=38,e_=Cv*2,n_={baseUnit:Cv,controlHeight:t_,menuGutter:e_},Vy={borderRadius:Kb,colors:Jb,spacing:n_},r_={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:v1(),captureMenuScroll:!v1(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Bb(),formatGroupLabel:Wb,getOptionLabel:qb,getOptionValue:Qb,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Xb,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Ry(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(et){var ot=et.count;return"".concat(ot," result").concat(ot!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function kv(et,ot,ut,dt){var gt=Lv(et,ot,ut),Mt=Ov(et,ot,ut),zt=Iv(et,ot),Jt=A1(et,ot);return{type:"option",data:ot,isDisabled:gt,isSelected:Mt,label:zt,value:Jt,index:dt}}function Av(et,ot){return et.options.map(function(ut,dt){if(ut.options){var gt=ut.options.map(function(zt,Jt){return kv(et,zt,ot,Jt)}).filter(function(zt){return Dv(et,zt)});return gt.length>0?{type:"group",data:ut,options:gt,index:dt}:void 0}var Mt=kv(et,ut,ot,dt);return Dv(et,Mt)?Mt:void 0}).filter(function(ut){return!!ut})}function Nv(et){return et.reduce(function(ot,ut){return ut.type==="group"?ot.push.apply(ot,gv(ut.options.map(function(dt){return dt.data}))):ot.push(ut.data),ot},[])}function i_(et,ot){return Nv(Av(et,ot))}function Dv(et,ot){var ut=et.inputValue,dt=ut===void 0?"":ut,gt=ot.data,Mt=ot.isSelected,zt=ot.label,Jt=ot.value;return(!zv(et)||!Mt)&&Pv(et,{label:zt,value:Jt,data:gt},dt)}function o_(et,ot){var ut=et.focusedValue,dt=et.selectValue,gt=dt.indexOf(ut);if(gt>-1){var Mt=ot.indexOf(ut);if(Mt>-1)return ut;if(gt<ot.length)return ot[gt]}return null}function s_(et,ot){var ut=et.focusedOption;return ut&&ot.indexOf(ut)>-1?ut:ot[0]}var Iv=function(et,ot){return et.getOptionLabel(ot)},A1=function(et,ot){return et.getOptionValue(ot)};function Lv(et,ot,ut){return typeof et.isOptionDisabled=="function"?et.isOptionDisabled(ot,ut):!1}function Ov(et,ot,ut){if(ut.indexOf(ot)>-1)return!0;if(typeof et.isOptionSelected=="function")return et.isOptionSelected(ot,ut);var dt=A1(et,ot);return ut.some(function(gt){return A1(et,gt)===dt})}function Pv(et,ot,ut){return et.filterOption?et.filterOption(ot,ut):!0}var zv=function(et){var ot=et.hideSelectedOptions,ut=et.isMulti;return ot===void 0?ut:ot},a_=1,Rv=function(et){Wd(ut,et);var ot=Zh(ut);function ut(dt){var gt;return Xh(this,ut),gt=ot.call(this,dt),gt.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},gt.blockOptionHover=!1,gt.isComposing=!1,gt.commonProps=void 0,gt.initialTouchX=0,gt.initialTouchY=0,gt.instancePrefix="",gt.openAfterFocus=!1,gt.scrollToFocusedOptionOnUpdate=!1,gt.userIsDragging=void 0,gt.controlRef=null,gt.getControlRef=function(Mt){gt.controlRef=Mt},gt.focusedOptionRef=null,gt.getFocusedOptionRef=function(Mt){gt.focusedOptionRef=Mt},gt.menuListRef=null,gt.getMenuListRef=function(Mt){gt.menuListRef=Mt},gt.inputRef=null,gt.getInputRef=function(Mt){gt.inputRef=Mt},gt.focus=gt.focusInput,gt.blur=gt.blurInput,gt.onChange=function(Mt,zt){var Jt=gt.props,ue=Jt.onChange,he=Jt.name;zt.name=he,gt.ariaOnChange(Mt,zt),ue(Mt,zt)},gt.setValue=function(Mt){var zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",Jt=arguments.length>2?arguments[2]:void 0,ue=gt.props,he=ue.closeMenuOnSelect,le=ue.isMulti;gt.onInputChange("",{action:"set-value"}),he&&(gt.setState({inputIsHiddenAfterUpdate:!le}),gt.onMenuClose()),gt.setState({clearFocusValueOnUpdate:!0}),gt.onChange(Mt,{action:zt,option:Jt})},gt.selectOption=function(Mt){var zt=gt.props,Jt=zt.blurInputOnSelect,ue=zt.isMulti,he=zt.name,le=gt.state.selectValue,Ue=ue&&gt.isOptionSelected(Mt,le),tn=gt.isOptionDisabled(Mt,le);if(Ue){var ln=gt.getOptionValue(Mt);gt.setValue(le.filter(function(Mn){return gt.getOptionValue(Mn)!==ln}),"deselect-option",Mt)}else if(!tn)ue?gt.setValue([].concat(gv(le),[Mt]),"select-option",Mt):gt.setValue(Mt,"select-option");else{gt.ariaOnChange(Mt,{action:"select-option",name:he});return}Jt&&gt.blurInput()},gt.removeValue=function(Mt){var zt=gt.props.isMulti,Jt=gt.state.selectValue,ue=gt.getOptionValue(Mt),he=Jt.filter(function(Ue){return gt.getOptionValue(Ue)!==ue}),le=zt?he:he[0]||null;gt.onChange(le,{action:"remove-value",removedValue:Mt}),gt.focusInput()},gt.clearValue=function(){var Mt=gt.state.selectValue;gt.onChange(gt.props.isMulti?[]:null,{action:"clear",removedValues:Mt})},gt.popValue=function(){var Mt=gt.props.isMulti,zt=gt.state.selectValue,Jt=zt[zt.length-1],ue=zt.slice(0,zt.length-1),he=Mt?ue:ue[0]||null;gt.onChange(he,{action:"pop-value",removedValue:Jt})},gt.getValue=function(){return gt.state.selectValue},gt.cx=function(){for(var Mt=arguments.length,zt=new Array(Mt),Jt=0;Jt<Mt;Jt++)zt[Jt]=arguments[Jt];return p1.apply(void 0,[gt.props.classNamePrefix].concat(zt))},gt.getOptionLabel=function(Mt){return Iv(gt.props,Mt)},gt.getOptionValue=function(Mt){return A1(gt.props,Mt)},gt.getStyles=function(Mt,zt){var Jt=Zb[Mt](zt);Jt.boxSizing="border-box";var ue=gt.props.styles[Mt];return ue?ue(Jt,zt):Jt},gt.getElementId=function(Mt){return"".concat(gt.instancePrefix,"-").concat(Mt)},gt.getComponents=function(){return k1(gt.props)},gt.buildCategorizedOptions=function(){return Av(gt.props,gt.state.selectValue)},gt.getCategorizedOptions=function(){return gt.props.menuIsOpen?gt.buildCategorizedOptions():[]},gt.buildFocusableOptions=function(){return Nv(gt.buildCategorizedOptions())},gt.getFocusableOptions=function(){return gt.props.menuIsOpen?gt.buildFocusableOptions():[]},gt.ariaOnChange=function(Mt,zt){gt.setState({ariaSelection:$s({value:Mt},zt)})},gt.onMenuMouseDown=function(Mt){Mt.button===0&&(Mt.stopPropagation(),Mt.preventDefault(),gt.focusInput())},gt.onMenuMouseMove=function(Mt){gt.blockOptionHover=!1},gt.onControlMouseDown=function(Mt){var zt=gt.props.openMenuOnClick;gt.state.isFocused?gt.props.menuIsOpen?Mt.target.tagName!=="INPUT"&&Mt.target.tagName!=="TEXTAREA"&&gt.onMenuClose():zt&&gt.openMenu("first"):(zt&&(gt.openAfterFocus=!0),gt.focusInput()),Mt.target.tagName!=="INPUT"&&Mt.target.tagName!=="TEXTAREA"&&Mt.preventDefault()},gt.onDropdownIndicatorMouseDown=function(Mt){if(!(Mt&&Mt.type==="mousedown"&&Mt.button!==0)&&!gt.props.isDisabled){var zt=gt.props,Jt=zt.isMulti,ue=zt.menuIsOpen;gt.focusInput(),ue?(gt.setState({inputIsHiddenAfterUpdate:!Jt}),gt.onMenuClose()):gt.openMenu("first"),Mt.preventDefault(),Mt.stopPropagation()}},gt.onClearIndicatorMouseDown=function(Mt){Mt&&Mt.type==="mousedown"&&Mt.button!==0||(gt.clearValue(),Mt.stopPropagation(),gt.openAfterFocus=!1,Mt.type==="touchend"?gt.focusInput():setTimeout(function(){return gt.focusInput()}))},gt.onScroll=function(Mt){typeof gt.props.closeMenuOnScroll=="boolean"?Mt.target instanceof HTMLElement&&S0(Mt.target)&&gt.props.onMenuClose():typeof gt.props.closeMenuOnScroll=="function"&&gt.props.closeMenuOnScroll(Mt)&&gt.props.onMenuClose()},gt.onCompositionStart=function(){gt.isComposing=!0},gt.onCompositionEnd=function(){gt.isComposing=!1},gt.onTouchStart=function(Mt){var zt=Mt.touches,Jt=zt&&zt.item(0);!Jt||(gt.initialTouchX=Jt.clientX,gt.initialTouchY=Jt.clientY,gt.userIsDragging=!1)},gt.onTouchMove=function(Mt){var zt=Mt.touches,Jt=zt&&zt.item(0);if(Jt){var ue=Math.abs(Jt.clientX-gt.initialTouchX),he=Math.abs(Jt.clientY-gt.initialTouchY),le=5;gt.userIsDragging=ue>le||he>le}},gt.onTouchEnd=function(Mt){gt.userIsDragging||(gt.controlRef&&!gt.controlRef.contains(Mt.target)&&gt.menuListRef&&!gt.menuListRef.contains(Mt.target)&&gt.blurInput(),gt.initialTouchX=0,gt.initialTouchY=0)},gt.onControlTouchEnd=function(Mt){gt.userIsDragging||gt.onControlMouseDown(Mt)},gt.onClearIndicatorTouchEnd=function(Mt){gt.userIsDragging||gt.onClearIndicatorMouseDown(Mt)},gt.onDropdownIndicatorTouchEnd=function(Mt){gt.userIsDragging||gt.onDropdownIndicatorMouseDown(Mt)},gt.handleInputChange=function(Mt){var zt=Mt.currentTarget.value;gt.setState({inputIsHiddenAfterUpdate:!1}),gt.onInputChange(zt,{action:"input-change"}),gt.props.menuIsOpen||gt.onMenuOpen()},gt.onInputFocus=function(Mt){gt.props.onFocus&&gt.props.onFocus(Mt),gt.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(gt.openAfterFocus||gt.props.openMenuOnFocus)&&gt.openMenu("first"),gt.openAfterFocus=!1},gt.onInputBlur=function(Mt){if(gt.menuListRef&&gt.menuListRef.contains(document.activeElement)){gt.inputRef.focus();return}gt.props.onBlur&&gt.props.onBlur(Mt),gt.onInputChange("",{action:"input-blur"}),gt.onMenuClose(),gt.setState({focusedValue:null,isFocused:!1})},gt.onOptionHover=function(Mt){gt.blockOptionHover||gt.state.focusedOption===Mt||gt.setState({focusedOption:Mt})},gt.shouldHideSelectedOptions=function(){return zv(gt.props)},gt.onKeyDown=function(Mt){var zt=gt.props,Jt=zt.isMulti,ue=zt.backspaceRemovesValue,he=zt.escapeClearsValue,le=zt.inputValue,Ue=zt.isClearable,tn=zt.isDisabled,ln=zt.menuIsOpen,Mn=zt.onKeyDown,Rn=zt.tabSelectsValue,On=zt.openMenuOnFocus,or=gt.state,fr=or.focusedOption,oi=or.focusedValue,Zr=or.selectValue;if(!tn&&!(typeof Mn=="function"&&(Mn(Mt),Mt.defaultPrevented))){switch(gt.blockOptionHover=!0,Mt.key){case"ArrowLeft":if(!Jt||le)return;gt.focusValue("previous");break;case"ArrowRight":if(!Jt||le)return;gt.focusValue("next");break;case"Delete":case"Backspace":if(le)return;if(oi)gt.removeValue(oi);else{if(!ue)return;Jt?gt.popValue():Ue&&gt.clearValue()}break;case"Tab":if(gt.isComposing||Mt.shiftKey||!ln||!Rn||!fr||On&&gt.isOptionSelected(fr,Zr))return;gt.selectOption(fr);break;case"Enter":if(Mt.keyCode===229)break;if(ln){if(!fr||gt.isComposing)return;gt.selectOption(fr);break}return;case"Escape":ln?(gt.setState({inputIsHiddenAfterUpdate:!1}),gt.onInputChange("",{action:"menu-close"}),gt.onMenuClose()):Ue&&he&&gt.clearValue();break;case" ":if(le)return;if(!ln){gt.openMenu("first");break}if(!fr)return;gt.selectOption(fr);break;case"ArrowUp":ln?gt.focusOption("up"):gt.openMenu("last");break;case"ArrowDown":ln?gt.focusOption("down"):gt.openMenu("first");break;case"PageUp":if(!ln)return;gt.focusOption("pageup");break;case"PageDown":if(!ln)return;gt.focusOption("pagedown");break;case"Home":if(!ln)return;gt.focusOption("first");break;case"End":if(!ln)return;gt.focusOption("last");break;default:return}Mt.preventDefault()}},gt.instancePrefix="react-select-"+(gt.props.instanceId||++a_),gt.state.selectValue=T0(dt.value),gt}return Vf(ut,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(dt){var gt=this.props,Mt=gt.isDisabled,zt=gt.menuIsOpen,Jt=this.state.isFocused;(Jt&&!Mt&&dt.isDisabled||Jt&&zt&&!dt.menuIsOpen)&&this.focusInput(),Jt&&Mt&&!dt.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(zy(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(dt,gt){this.props.onInputChange(dt,gt)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(dt){var gt=this,Mt=this.state,zt=Mt.selectValue,Jt=Mt.isFocused,ue=this.buildFocusableOptions(),he=dt==="first"?0:ue.length-1;if(!this.props.isMulti){var le=ue.indexOf(zt[0]);le>-1&&(he=le)}this.scrollToFocusedOptionOnUpdate=!(Jt&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:ue[he]},function(){return gt.onMenuOpen()})}},{key:"focusValue",value:function(dt){var gt=this.state,Mt=gt.selectValue,zt=gt.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var Jt=Mt.indexOf(zt);zt||(Jt=-1);var ue=Mt.length-1,he=-1;if(Mt.length){switch(dt){case"previous":Jt===0?he=0:Jt===-1?he=ue:he=Jt-1;break;case"next":Jt>-1&&Jt<ue&&(he=Jt+1);break}this.setState({inputIsHidden:he!==-1,focusedValue:Mt[he]})}}}},{key:"focusOption",value:function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",gt=this.props.pageSize,Mt=this.state.focusedOption,zt=this.getFocusableOptions();if(zt.length){var Jt=0,ue=zt.indexOf(Mt);Mt||(ue=-1),dt==="up"?Jt=ue>0?ue-1:zt.length-1:dt==="down"?Jt=(ue+1)%zt.length:dt==="pageup"?(Jt=ue-gt,Jt<0&&(Jt=0)):dt==="pagedown"?(Jt=ue+gt,Jt>zt.length-1&&(Jt=zt.length-1)):dt==="last"&&(Jt=zt.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:zt[Jt],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Vy):$s($s({},Vy),this.props.theme):Vy}},{key:"getCommonProps",value:function(){var dt=this.clearValue,gt=this.cx,Mt=this.getStyles,zt=this.getValue,Jt=this.selectOption,ue=this.setValue,he=this.props,le=he.isMulti,Ue=he.isRtl,tn=he.options,ln=this.hasValue();return{clearValue:dt,cx:gt,getStyles:Mt,getValue:zt,hasValue:ln,isMulti:le,isRtl:Ue,options:tn,selectOption:Jt,selectProps:he,setValue:ue,theme:this.getTheme()}}},{key:"hasValue",value:function(){var dt=this.state.selectValue;return dt.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var dt=this.props,gt=dt.isClearable,Mt=dt.isMulti;return gt===void 0?Mt:gt}},{key:"isOptionDisabled",value:function(dt,gt){return Lv(this.props,dt,gt)}},{key:"isOptionSelected",value:function(dt,gt){return Ov(this.props,dt,gt)}},{key:"filterOption",value:function(dt,gt){return Pv(this.props,dt,gt)}},{key:"formatOptionLabel",value:function(dt,gt){if(typeof this.props.formatOptionLabel=="function"){var Mt=this.props.inputValue,zt=this.state.selectValue;return this.props.formatOptionLabel(dt,{context:gt,inputValue:Mt,selectValue:zt})}else return this.getOptionLabel(dt)}},{key:"formatGroupLabel",value:function(dt){return this.props.formatGroupLabel(dt)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var dt=this.props,gt=dt.isDisabled,Mt=dt.isSearchable,zt=dt.inputId,Jt=dt.inputValue,ue=dt.tabIndex,he=dt.form,le=this.getComponents(),Ue=le.Input,tn=this.state.inputIsHidden,ln=this.commonProps,Mn=zt||this.getElementId("input"),Rn={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return Mt?ur.createElement(Ue,Ar({},ln,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Mn,innerRef:this.getInputRef,isDisabled:gt,isHidden:tn,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:ue,form:he,type:"text",value:Jt},Rn)):ur.createElement($b,Ar({id:Mn,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ch,onFocus:this.onInputFocus,readOnly:!0,disabled:gt,tabIndex:ue,form:he,value:""},Rn))}},{key:"renderPlaceholderOrValue",value:function(){var dt=this,gt=this.getComponents(),Mt=gt.MultiValue,zt=gt.MultiValueContainer,Jt=gt.MultiValueLabel,ue=gt.MultiValueRemove,he=gt.SingleValue,le=gt.Placeholder,Ue=this.commonProps,tn=this.props,ln=tn.controlShouldRenderValue,Mn=tn.isDisabled,Rn=tn.isMulti,On=tn.inputValue,or=tn.placeholder,fr=this.state,oi=fr.selectValue,Zr=fr.focusedValue,Gr=fr.isFocused;if(!this.hasValue()||!ln)return On?null:ur.createElement(le,Ar({},Ue,{key:"placeholder",isDisabled:Mn,isFocused:Gr}),or);if(Rn){var li=oi.map(function(gs,ws){var jo=gs===Zr;return ur.createElement(Mt,Ar({},Ue,{components:{Container:zt,Label:Jt,Remove:ue},isFocused:jo,isDisabled:Mn,key:"".concat(dt.getOptionValue(gs)).concat(ws),index:ws,removeProps:{onClick:function(){return dt.removeValue(gs)},onTouchEnd:function(){return dt.removeValue(gs)},onMouseDown:function(Bo){Bo.preventDefault(),Bo.stopPropagation()}},data:gs}),dt.formatOptionLabel(gs,"value"))});return li}if(On)return null;var Jr=oi[0];return ur.createElement(he,Ar({},Ue,{data:Jr,isDisabled:Mn}),this.formatOptionLabel(Jr,"value"))}},{key:"renderClearIndicator",value:function(){var dt=this.getComponents(),gt=dt.ClearIndicator,Mt=this.commonProps,zt=this.props,Jt=zt.isDisabled,ue=zt.isLoading,he=this.state.isFocused;if(!this.isClearable()||!gt||Jt||!this.hasValue()||ue)return null;var le={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ur.createElement(gt,Ar({},Mt,{innerProps:le,isFocused:he}))}},{key:"renderLoadingIndicator",value:function(){var dt=this.getComponents(),gt=dt.LoadingIndicator,Mt=this.commonProps,zt=this.props,Jt=zt.isDisabled,ue=zt.isLoading,he=this.state.isFocused;if(!gt||!ue)return null;var le={"aria-hidden":"true"};return ur.createElement(gt,Ar({},Mt,{innerProps:le,isDisabled:Jt,isFocused:he}))}},{key:"renderIndicatorSeparator",value:function(){var dt=this.getComponents(),gt=dt.DropdownIndicator,Mt=dt.IndicatorSeparator;if(!gt||!Mt)return null;var zt=this.commonProps,Jt=this.props.isDisabled,ue=this.state.isFocused;return ur.createElement(Mt,Ar({},zt,{isDisabled:Jt,isFocused:ue}))}},{key:"renderDropdownIndicator",value:function(){var dt=this.getComponents(),gt=dt.DropdownIndicator;if(!gt)return null;var Mt=this.commonProps,zt=this.props.isDisabled,Jt=this.state.isFocused,ue={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ur.createElement(gt,Ar({},Mt,{innerProps:ue,isDisabled:zt,isFocused:Jt}))}},{key:"renderMenu",value:function(){var dt=this,gt=this.getComponents(),Mt=gt.Group,zt=gt.GroupHeading,Jt=gt.Menu,ue=gt.MenuList,he=gt.MenuPortal,le=gt.LoadingMessage,Ue=gt.NoOptionsMessage,tn=gt.Option,ln=this.commonProps,Mn=this.state.focusedOption,Rn=this.props,On=Rn.captureMenuScroll,or=Rn.inputValue,fr=Rn.isLoading,oi=Rn.loadingMessage,Zr=Rn.minMenuHeight,Gr=Rn.maxMenuHeight,li=Rn.menuIsOpen,Jr=Rn.menuPlacement,gs=Rn.menuPosition,ws=Rn.menuPortalTarget,jo=Rn.menuShouldBlockScroll,Bo=Rn.menuShouldScrollIntoView,Kc=Rn.noOptionsMessage,Ol=Rn.onMenuScrollToTop,ed=Rn.onMenuScrollToBottom;if(!li)return null;var tu=function(is,Gn){var hr=is.type,pr=is.data,dr=is.isDisabled,xr=is.isSelected,hi=is.label,ys=is.value,ba=Mn===pr,$o=dr?void 0:function(){return dt.onOptionHover(pr)},np=dr?void 0:function(){return dt.selectOption(pr)},hh="".concat(dt.getElementId("option"),"-").concat(Gn),Kd={id:hh,onClick:np,onMouseMove:$o,onMouseOver:$o,tabIndex:-1};return ur.createElement(tn,Ar({},ln,{innerProps:Kd,data:pr,isDisabled:dr,isSelected:xr,key:hh,label:hi,type:hr,value:ys,isFocused:ba,innerRef:ba?dt.getFocusedOptionRef:void 0}),dt.formatOptionLabel(is.data,"menu"))},Ou;if(this.hasOptions())Ou=this.getCategorizedOptions().map(function(is){if(is.type==="group"){var Gn=is.data,hr=is.options,pr=is.index,dr="".concat(dt.getElementId("group"),"-").concat(pr),xr="".concat(dr,"-heading");return ur.createElement(Mt,Ar({},ln,{key:dr,data:Gn,options:hr,Heading:zt,headingProps:{id:xr,data:is.data},label:dt.formatGroupLabel(is.data)}),is.options.map(function(hi){return tu(hi,"".concat(pr,"-").concat(hi.index))}))}else if(is.type==="option")return tu(is,"".concat(is.index))});else if(fr){var Ja=oi({inputValue:or});if(Ja===null)return null;Ou=ur.createElement(le,ln,Ja)}else{var j1=Kc({inputValue:or});if(j1===null)return null;Ou=ur.createElement(Ue,ln,j1)}var ep={minMenuHeight:Zr,maxMenuHeight:Gr,menuPlacement:Jr,menuPosition:gs,menuShouldScrollIntoView:Bo},eu=ur.createElement(M1,Ar({},ln,ep),function(is){var Gn=is.ref,hr=is.placerProps,pr=hr.placement,dr=hr.maxHeight;return ur.createElement(Jt,Ar({},ln,ep,{innerRef:Gn,innerProps:{onMouseDown:dt.onMenuMouseDown,onMouseMove:dt.onMenuMouseMove},isLoading:fr,placement:pr}),ur.createElement(Gb,{captureEnabled:On,onTopArrive:Ol,onBottomArrive:ed,lockEnabled:jo},function(xr){return ur.createElement(ue,Ar({},ln,{innerRef:function(hi){dt.getMenuListRef(hi),xr(hi)},isLoading:fr,maxHeight:dr,focusedOption:Mn}),Ou)}))});return ws||gs==="fixed"?ur.createElement(he,Ar({},ln,{appendTo:ws,controlElement:this.controlRef,menuPlacement:Jr,menuPosition:gs}),eu):eu}},{key:"renderFormField",value:function(){var dt=this,gt=this.props,Mt=gt.delimiter,zt=gt.isDisabled,Jt=gt.isMulti,ue=gt.name,he=this.state.selectValue;if(!(!ue||zt))if(Jt)if(Mt){var le=he.map(function(ln){return dt.getOptionValue(ln)}).join(Mt);return ur.createElement("input",{name:ue,type:"hidden",value:le})}else{var Ue=he.length>0?he.map(function(ln,Mn){return ur.createElement("input",{key:"i-".concat(Mn),name:ue,type:"hidden",value:dt.getOptionValue(ln)})}):ur.createElement("input",{name:ue,type:"hidden"});return ur.createElement("div",null,Ue)}else{var tn=he[0]?this.getOptionValue(he[0]):"";return ur.createElement("input",{name:ue,type:"hidden",value:tn})}}},{key:"renderLiveRegion",value:function(){var dt=this.commonProps,gt=this.state,Mt=gt.ariaSelection,zt=gt.focusedOption,Jt=gt.focusedValue,ue=gt.isFocused,he=gt.selectValue,le=this.getFocusableOptions();return ur.createElement(Pb,Ar({},dt,{ariaSelection:Mt,focusedOption:zt,focusedValue:Jt,isFocused:ue,selectValue:he,focusableOptions:le}))}},{key:"render",value:function(){var dt=this.getComponents(),gt=dt.Control,Mt=dt.IndicatorsContainer,zt=dt.SelectContainer,Jt=dt.ValueContainer,ue=this.props,he=ue.className,le=ue.id,Ue=ue.isDisabled,tn=ue.menuIsOpen,ln=this.state.isFocused,Mn=this.commonProps=this.getCommonProps();return ur.createElement(zt,Ar({},Mn,{className:he,innerProps:{id:le,onKeyDown:this.onKeyDown},isDisabled:Ue,isFocused:ln}),this.renderLiveRegion(),ur.createElement(gt,Ar({},Mn,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Ue,isFocused:ln,menuIsOpen:tn}),ur.createElement(Jt,Ar({},Mn,{isDisabled:Ue}),this.renderPlaceholderOrValue(),this.renderInput()),ur.createElement(Mt,Ar({},Mn,{isDisabled:Ue}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(dt,gt){var Mt=gt.prevProps,zt=gt.clearFocusValueOnUpdate,Jt=gt.inputIsHiddenAfterUpdate,ue=dt.options,he=dt.value,le=dt.menuIsOpen,Ue=dt.inputValue,tn={};if(Mt&&(he!==Mt.value||ue!==Mt.options||le!==Mt.menuIsOpen||Ue!==Mt.inputValue)){var ln=T0(he),Mn=le?i_(dt,ln):[],Rn=zt?o_(gt,ln):null,On=s_(gt,Mn);tn={selectValue:ln,focusedOption:On,focusedValue:Rn,clearFocusValueOnUpdate:!1}}var or=Jt!=null&&dt!==Mt?{inputIsHidden:Jt,inputIsHiddenAfterUpdate:void 0}:{};return $s($s($s({},tn),or),{},{prevProps:dt})}}]),ut}(Pt);Rv.defaultProps=r_;var l_={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},c_=function(et){var ot,ut;return ut=ot=function(dt){Wd(Mt,dt);var gt=Zh(Mt);function Mt(){var zt;Xh(this,Mt);for(var Jt=arguments.length,ue=new Array(Jt),he=0;he<Jt;he++)ue[he]=arguments[he];return zt=gt.call.apply(gt,[this].concat(ue)),zt.select=void 0,zt.state={inputValue:zt.props.inputValue!==void 0?zt.props.inputValue:zt.props.defaultInputValue,menuIsOpen:zt.props.menuIsOpen!==void 0?zt.props.menuIsOpen:zt.props.defaultMenuIsOpen,value:zt.props.value!==void 0?zt.props.value:zt.props.defaultValue},zt.onChange=function(le,Ue){zt.callProp("onChange",le,Ue),zt.setState({value:le})},zt.onInputChange=function(le,Ue){var tn=zt.callProp("onInputChange",le,Ue);zt.setState({inputValue:tn!==void 0?tn:le})},zt.onMenuOpen=function(){zt.callProp("onMenuOpen"),zt.setState({menuIsOpen:!0})},zt.onMenuClose=function(){zt.callProp("onMenuClose"),zt.setState({menuIsOpen:!1})},zt}return Vf(Mt,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(zt){return this.props[zt]!==void 0?this.props[zt]:this.state[zt]}},{key:"callProp",value:function(zt){if(typeof this.props[zt]=="function"){for(var Jt,ue=arguments.length,he=new Array(ue>1?ue-1:0),le=1;le<ue;le++)he[le-1]=arguments[le];return(Jt=this.props)[zt].apply(Jt,he)}}},{key:"render",value:function(){var zt=this,Jt=this.props;Jt.defaultInputValue,Jt.defaultMenuIsOpen,Jt.defaultValue;var ue=Sc(Jt,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return ur.createElement(et,Ar({},ue,{ref:function(he){zt.select=he},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),Mt}(Pt),ot.defaultProps=l_,ut},u_=c_(Rv),h_=u_;const Gy=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var jv=et=>{const ot=et.content?Gy.find(ut=>ut.value===et.content):null;return Dt("div",{className:"r6o-purposedropdown"},Dt(h_,{value:ot,onChange:et.onChange,options:Gy,isDisabled:!et.editable}))};const d_=et=>Dt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:et.width},Dt("metadata",null,"IcoFont Icons"),Dt("title",null,"simple-down"),Dt("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),Dt("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),f_=et=>Dt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:et.width},Dt("metadata",null,"IcoFont Icons"),Dt("title",null,"close"),Dt("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),Dt("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),p_=et=>Dt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:et.width},Dt("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var g_=et=>{const[ot,ut]=Jn(!1),[dt,gt]=Jn(!1),Mt=Ue=>{ut(!0),gt(!1)},zt=Ue=>{et.onDelete(et.body),gt(!1)},Jt=Ue=>et.onUpdate(et.body,st(nt({},et.body),{value:Ue.target.value})),ue=Ue=>et.onUpdate(et.body,st(nt({},et.body),{purpose:Ue.value})),he=et.body.modified||et.body.created,le=et.body.creator&&Dt("div",{className:"r6o-lastmodified"},Dt("span",{className:"r6o-lastmodified-by"},et.body.creator.name||et.body.creator.id),et.body.created&&Dt("span",{className:"r6o-lastmodified-at"},Dt(Yu,{datetime:et.env.toClientTime(he),locale:cs.locale()})));return et.readOnly?Dt("div",{className:"r6o-widget comment"},Dt("div",{className:"r6o-readonly-comment"},et.body.value),le):Dt("div",{className:ot?"r6o-widget comment editable":"r6o-widget comment"},Dt(Pd,{editable:ot,content:et.body.value,onChange:Jt,onSaveAndClose:et.onSaveAndClose}),!ot&&le,et.purposeSelector&&Dt(jv,{editable:ot,content:et.body.purpose,onChange:ue,onSaveAndClose:et.onSaveAndClose}),Dt("div",{className:dt?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>gt(!dt)},Dt(d_,{width:12})),dt&&Dt(zf,{onEdit:Mt,onDelete:zt,onClickOutside:()=>gt(!1)}))};const m_=Gy.map(et=>et.value),Bv=(et,ot)=>{const ut=ot?m_.indexOf(et.purpose)>-1:et.purpose=="commenting"||et.purpose=="replying";return et.type==="TextualBody"&&(!et.hasOwnProperty("purpose")||ut)},$v=(et,ot)=>{var ut,dt;if(ot.editable===!0)return!1;if(ot.editable===!1)return!0;if(ot.editable==="MINE_ONLY"){const gt=(ut=et.creator)==null?void 0:ut.id;return((dt=ot.env.user)==null?void 0:dt.id)!==gt}return ot.readOnly},y_=(et,ot)=>et||{type:"TextualBody",value:"",purpose:ot?"replying":"commenting",draft:!0},Fv=et=>{const ot=et.annotation?et.annotation.bodies.filter(zt=>Bv(zt,et.purposeSelector)):[],ut=y_(ot.find(zt=>zt.draft==!0),ot.length>1),dt=ot.filter(zt=>zt!=ut),gt=zt=>{const Jt=ut.value,ue=zt.target.value;Jt.length===0&&ue.length>0?et.onAppendBody(st(nt({},ut),{value:ue})):Jt.length>0&&ue.length===0?et.onRemoveBody(ut):et.onUpdateBody(ut,st(nt({},ut),{value:ue}))},Mt=zt=>et.onUpdateBody(ut,st(nt({},ut),{purpose:zt.value}));return Dt(ce,null,dt.map((zt,Jt)=>Dt(g_,{key:Jt,env:et.env,purposeSelector:et.purposeSelector,readOnly:$v(zt,et),body:zt,onUpdate:et.onUpdateBody,onDelete:et.onRemoveBody,onSaveAndClose:et.onSaveAndClose})),!et.readOnly&&et.annotation&&Dt("div",{className:"r6o-widget comment editable"},Dt(Pd,{focus:et.focus,content:ut.value,editable:!0,placeholder:dt.length>0?cs.t("Add a reply..."):cs.t("Add a comment..."),onChange:gt,onSaveAndClose:()=>et.onSaveAndClose()}),et.purposeSelector&&ut.value.length>0&&Dt(jv,{editable:!0,content:ut.purpose,onChange:Mt,onSaveAndClose:()=>et.onSaveAndClose()})))};Fv.disableDelete=(et,ot)=>et.bodies.filter(ut=>Bv(ut,ot.purposeSelector)).some(ut=>$v(ut,ot));var Uv=Fv;function Yv(et,ot){et.prototype=Object.create(ot.prototype),et.prototype.constructor=et,Gf(et,ot)}function v_(et,ot){return et.classList?!!ot&&et.classList.contains(ot):(" "+(et.className.baseVal||et.className)+" ").indexOf(" "+ot+" ")!==-1}function b_(et,ot){et.classList?et.classList.add(ot):v_(et,ot)||(typeof et.className=="string"?et.className=et.className+" "+ot:et.setAttribute("class",(et.className&&et.className.baseVal||"")+" "+ot))}function Hv(et,ot){return et.replace(new RegExp("(^|\\s)"+ot+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function __(et,ot){et.classList?et.classList.remove(ot):typeof et.className=="string"?et.className=Hv(et.className,ot):et.setAttribute("class",Hv(et.className&&et.className.baseVal||"",ot))}var Vv={disabled:!1},Gv=ur.createContext(null),I0="unmounted",Zf="exited",Jf="entering",rg="entered",Wy="exiting",td=function(et){Yv(ot,et);function ot(dt,gt){var Mt;Mt=et.call(this,dt,gt)||this;var zt=gt,Jt=zt&&!zt.isMounting?dt.enter:dt.appear,ue;return Mt.appearStatus=null,dt.in?Jt?(ue=Zf,Mt.appearStatus=Jf):ue=rg:dt.unmountOnExit||dt.mountOnEnter?ue=I0:ue=Zf,Mt.state={status:ue},Mt.nextCallback=null,Mt}ot.getDerivedStateFromProps=function(dt,gt){var Mt=dt.in;return Mt&&gt.status===I0?{status:Zf}:null};var ut=ot.prototype;return ut.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},ut.componentDidUpdate=function(dt){var gt=null;if(dt!==this.props){var Mt=this.state.status;this.props.in?Mt!==Jf&&Mt!==rg&&(gt=Jf):(Mt===Jf||Mt===rg)&&(gt=Wy)}this.updateStatus(!1,gt)},ut.componentWillUnmount=function(){this.cancelNextCallback()},ut.getTimeouts=function(){var dt=this.props.timeout,gt,Mt,zt;return gt=Mt=zt=dt,dt!=null&&typeof dt!="number"&&(gt=dt.exit,Mt=dt.enter,zt=dt.appear!==void 0?dt.appear:Mt),{exit:gt,enter:Mt,appear:zt}},ut.updateStatus=function(dt,gt){dt===void 0&&(dt=!1),gt!==null?(this.cancelNextCallback(),gt===Jf?this.performEnter(dt):this.performExit()):this.props.unmountOnExit&&this.state.status===Zf&&this.setState({status:I0})},ut.performEnter=function(dt){var gt=this,Mt=this.props.enter,zt=this.context?this.context.isMounting:dt,Jt=this.props.nodeRef?[zt]:[ur.findDOMNode(this),zt],ue=Jt[0],he=Jt[1],le=this.getTimeouts(),Ue=zt?le.appear:le.enter;if(!dt&&!Mt||Vv.disabled){this.safeSetState({status:rg},function(){gt.props.onEntered(ue)});return}this.props.onEnter(ue,he),this.safeSetState({status:Jf},function(){gt.props.onEntering(ue,he),gt.onTransitionEnd(Ue,function(){gt.safeSetState({status:rg},function(){gt.props.onEntered(ue,he)})})})},ut.performExit=function(){var dt=this,gt=this.props.exit,Mt=this.getTimeouts(),zt=this.props.nodeRef?void 0:ur.findDOMNode(this);if(!gt||Vv.disabled){this.safeSetState({status:Zf},function(){dt.props.onExited(zt)});return}this.props.onExit(zt),this.safeSetState({status:Wy},function(){dt.props.onExiting(zt),dt.onTransitionEnd(Mt.exit,function(){dt.safeSetState({status:Zf},function(){dt.props.onExited(zt)})})})},ut.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},ut.safeSetState=function(dt,gt){gt=this.setNextCallback(gt),this.setState(dt,gt)},ut.setNextCallback=function(dt){var gt=this,Mt=!0;return this.nextCallback=function(zt){Mt&&(Mt=!1,gt.nextCallback=null,dt(zt))},this.nextCallback.cancel=function(){Mt=!1},this.nextCallback},ut.onTransitionEnd=function(dt,gt){this.setNextCallback(gt);var Mt=this.props.nodeRef?this.props.nodeRef.current:ur.findDOMNode(this),zt=dt==null&&!this.props.addEndListener;if(!Mt||zt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Jt=this.props.nodeRef?[this.nextCallback]:[Mt,this.nextCallback],ue=Jt[0],he=Jt[1];this.props.addEndListener(ue,he)}dt!=null&&setTimeout(this.nextCallback,dt)},ut.render=function(){var dt=this.state.status;if(dt===I0)return null;var gt=this.props,Mt=gt.children;gt.in,gt.mountOnEnter,gt.unmountOnExit,gt.appear,gt.enter,gt.exit,gt.timeout,gt.addEndListener,gt.onEnter,gt.onEntering,gt.onEntered,gt.onExit,gt.onExiting,gt.onExited,gt.nodeRef;var zt=Vp(gt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ur.createElement(Gv.Provider,{value:null},typeof Mt=="function"?Mt(dt,zt):ur.cloneElement(ur.Children.only(Mt),zt))},ot}(ur.Component);td.contextType=Gv,td.propTypes={};function ig(){}td.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ig,onEntering:ig,onEntered:ig,onExit:ig,onExiting:ig,onExited:ig},td.UNMOUNTED=I0,td.EXITED=Zf,td.ENTERING=Jf,td.ENTERED=rg,td.EXITING=Wy;var w_=td,x_=function(et,ot){return et&&ot&&ot.split(" ").forEach(function(ut){return b_(et,ut)})},qy=function(et,ot){return et&&ot&&ot.split(" ").forEach(function(ut){return __(et,ut)})},Qy=function(et){Yv(ot,et);function ot(){for(var dt,gt=arguments.length,Mt=new Array(gt),zt=0;zt<gt;zt++)Mt[zt]=arguments[zt];return dt=et.call.apply(et,[this].concat(Mt))||this,dt.appliedClasses={appear:{},enter:{},exit:{}},dt.onEnter=function(Jt,ue){var he=dt.resolveArguments(Jt,ue),le=he[0],Ue=he[1];dt.removeClasses(le,"exit"),dt.addClass(le,Ue?"appear":"enter","base"),dt.props.onEnter&&dt.props.onEnter(Jt,ue)},dt.onEntering=function(Jt,ue){var he=dt.resolveArguments(Jt,ue),le=he[0],Ue=he[1],tn=Ue?"appear":"enter";dt.addClass(le,tn,"active"),dt.props.onEntering&&dt.props.onEntering(Jt,ue)},dt.onEntered=function(Jt,ue){var he=dt.resolveArguments(Jt,ue),le=he[0],Ue=he[1],tn=Ue?"appear":"enter";dt.removeClasses(le,tn),dt.addClass(le,tn,"done"),dt.props.onEntered&&dt.props.onEntered(Jt,ue)},dt.onExit=function(Jt){var ue=dt.resolveArguments(Jt),he=ue[0];dt.removeClasses(he,"appear"),dt.removeClasses(he,"enter"),dt.addClass(he,"exit","base"),dt.props.onExit&&dt.props.onExit(Jt)},dt.onExiting=function(Jt){var ue=dt.resolveArguments(Jt),he=ue[0];dt.addClass(he,"exit","active"),dt.props.onExiting&&dt.props.onExiting(Jt)},dt.onExited=function(Jt){var ue=dt.resolveArguments(Jt),he=ue[0];dt.removeClasses(he,"exit"),dt.addClass(he,"exit","done"),dt.props.onExited&&dt.props.onExited(Jt)},dt.resolveArguments=function(Jt,ue){return dt.props.nodeRef?[dt.props.nodeRef.current,Jt]:[Jt,ue]},dt.getClassNames=function(Jt){var ue=dt.props.classNames,he=typeof ue=="string",le=he&&ue?ue+"-":"",Ue=he?""+le+Jt:ue[Jt],tn=he?Ue+"-active":ue[Jt+"Active"],ln=he?Ue+"-done":ue[Jt+"Done"];return{baseClassName:Ue,activeClassName:tn,doneClassName:ln}},dt}var ut=ot.prototype;return ut.addClass=function(dt,gt,Mt){var zt=this.getClassNames(gt)[Mt+"ClassName"],Jt=this.getClassNames("enter"),ue=Jt.doneClassName;gt==="appear"&&Mt==="done"&&ue&&(zt+=" "+ue),Mt==="active"&&dt&&dt.scrollTop,zt&&(this.appliedClasses[gt][Mt]=zt,x_(dt,zt))},ut.removeClasses=function(dt,gt){var Mt=this.appliedClasses[gt],zt=Mt.base,Jt=Mt.active,ue=Mt.done;this.appliedClasses[gt]={},zt&&qy(dt,zt),Jt&&qy(dt,Jt),ue&&qy(dt,ue)},ut.render=function(){var dt=this.props;dt.classNames;var gt=Vp(dt,["classNames"]);return ur.createElement(w_,Ar({},gt,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},ot}(ur.Component);Qy.defaultProps={classNames:""},Qy.propTypes={};var E_=Qy;const M_=(et,ot)=>ot.filter(ut=>(ut.label?ut.label:ut).toLowerCase().startsWith(et.toLowerCase())),T_=(et,ot)=>ot(et);var S_=et=>{const ot=ie(),[ut,dt]=Jn(et.initialValue||""),[gt,Mt]=Jn([]),[zt,Jt]=Jn(null);sr(()=>{et.focus&&ot.current.querySelector("input").focus({preventScroll:!0})},[]),sr(()=>{et.onChange&&et.onChange(ut)},[ut]);const ue=le=>{if(typeof et.vocabulary=="function"){const Ue=T_(le,et.vocabulary);Ue.then?Ue.then(Mt):Mt(Ue)}else{const Ue=M_(le,et.vocabulary);Mt(Ue)}},he=()=>{if(zt!==null)et.onSubmit(gt[zt]);else{const le=ut.trim();if(le){const Ue=Array.isArray(et.vocabulary)?et.vocabulary.find(tn=>(tn.label||tn).toLowerCase()===le.toLowerCase()):null;Ue?et.onSubmit(Ue):et.onSubmit(le)}}dt(""),Mt([]),Jt(null)};return Dt("div",{ref:ot,className:"r6o-autocomplete"},Dt("div",null,Dt("input",{onKeyDown:le=>{if(le.which===13)he();else if(le.which===27)et.onCancel&&et.onCancel();else if(gt.length>0){if(le.which===38)if(zt===null)Jt(0);else{const Ue=Math.max(0,zt-1);Jt(Ue)}else if(le.which===40)if(zt===null)Jt(0);else{const Ue=Math.min(gt.length-1,zt+1);Jt(Ue)}}else le.which===40&&Array.isArray(et.vocabulary)&&Mt(et.vocabulary)},onChange:le=>{const{value:Ue}=le.target;dt(Ue),Jt(null),Ue?ue(Ue):Mt([])},value:ut,placeholder:et.placeholder})),Dt("ul",null,gt.length>0&&gt.map((le,Ue)=>Dt("li",{key:`${le.label?le.label:le}${Ue}`,onClick:he,onMouseEnter:()=>Jt(Ue),style:zt===Ue?{backgroundColor:"#bde4ff"}:{}},le.label?le.label:le))))};const C_=et=>et||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var Wv=et=>{const ot=et.annotation?et.annotation.bodies.filter(le=>le.type==="TextualBody"&&le.purpose==="tagging"):[],ut=C_(ot.slice().reverse().find(le=>le.draft)),dt=ot.filter(le=>le!=ut),[gt,Mt]=Jn(!1),zt=le=>Ue=>{Mt(gt===le?!1:le)},Jt=le=>{const Ue=ut.value.trim(),tn=le.trim();Ue.length===0&&tn.length>0?et.onAppendBody(st(nt({},ut),{value:tn})):Ue.length>0&&tn.length===0?et.onRemoveBody(ut):et.onUpdateBody(ut,st(nt({},ut),{value:tn}))},ue=le=>Ue=>{Ue.stopPropagation(),et.onRemoveBody(le)},he=le=>{const Ue=le.label?st(nt({},ut),{value:le.label,source:le.uri}):st(nt({},ut),{value:le}),tn=ct(Ue,["draft"]);ut.value.trim().length===0?et.onAppendBody(tn):et.onUpdateBody(ut,tn)};return Dt("div",{className:"r6o-widget r6o-tag"},dt.length>0&&Dt("ul",{className:"r6o-taglist"},dt.map(le=>Dt("li",{key:le.value,onClick:zt(le.value)},Dt("span",{className:"r6o-label"},le.value),!et.readOnly&&Dt(E_,{in:gt===le.value,timeout:200,classNames:"r6o-delete"},Dt("span",{className:"r6o-delete-wrapper",onClick:ue(le)},Dt("span",{className:"r6o-delete"},Dt(f_,{width:12}))))))),!et.readOnly&&Dt(S_,{focus:et.focus,placeholder:cs.t("Add tag..."),vocabulary:et.vocabulary||[],onChange:Jt,onSubmit:he}))};class qv extends Pt{constructor(ot){super(ot),this.element=ur.createRef()}renderWidget(ot){const ut=this.props.widget(st(nt({annotation:ot.annotation,readOnly:ot.readOnly},ot.config),{onAppendBody:(dt,gt)=>ot.onAppendBody(dt,gt),onUpdateBody:(dt,gt,Mt)=>ot.onUpdateBody(dt,gt,Mt),onUpsertBody:(dt,gt,Mt)=>ot.onUpsertBody(dt,gt,Mt),onRemoveBody:(dt,gt)=>ot.onRemoveBody(dt,gt),onBatchModify:(dt,gt)=>ot.onBatchModify(dt,gt),onSetProperty:(dt,gt)=>ot.onSetProperty(dt,gt),onSaveAndClose:()=>ot.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(ut)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(ot){this.element.current&&this.props.annotation!==ot.annotation&&this.renderWidget(ot)}render(){return Dt("div",{ref:this.element,className:"widget"})}}window.React=ur,window.ReactDOM=ur;const k_={COMMENT:Uv,TAG:Wv},A_=[Dt(Uv,null),Dt(Wv,null)],N_=et=>{const ot=dt=>{var gt;return typeof dt=="function"&&!!((gt=dt.prototype)!=null&&gt.isReactComponent)},ut=dt=>typeof dt=="function"&&(String(dt).match(/return .+\(['|"].+['|"],\s*\{/g)||String(dt).match(/return .+preact_compat/)||String(dt).match(/return .+\.createElement/g));return ot(et)||ut(et)},D_=et=>{const ot=(ut,dt,gt)=>{if(typeof ut=="string"||ut instanceof String)return ur.createElement(k_[ut],dt);if((gt==null?void 0:gt.toLowerCase())==="react")return ur.createElement(ut,dt);if((gt==null?void 0:gt.toLowerCase())==="plainjs")return Dt(qv,{widget:ut,config:dt});if(N_(ut))return ur.createElement(ut,dt);if(typeof ut=="function"||ut instanceof Function)return Dt(qv,{widget:ut,config:dt});throw`${ut} is not a valid plugin`};if(et.widget){const ut=et,{widget:dt,force:gt}=ut,Mt=ct(ut,["widget","force"]);return ot(dt,Mt,gt)}else return ot(et)},Qv=14;var Xv=(et,ot,ut,dt)=>{const gt=et.getBoundingClientRect();ot.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:Mt,top:zt,right:Jt,bottom:ue}=ut.getBoundingClientRect();if(ot.style.top=`${ue-gt.top+Qv}px`,ot.style.left=`${Mt-gt.left}px`,dt){const he=ot.children[1].getBoundingClientRect();if(he.right>window.innerWidth&&(ot.classList.remove("r6o-arrow-left"),ot.classList.add("r6o-arrow-right"),ot.style.left=`${Jt-he.width-gt.left}px`),he.bottom>window.innerHeight){ot.classList.remove("r6o-arrow-top"),ot.classList.add("r6o-arrow-bottom");const Ue=ot.children[1].getBoundingClientRect().height;ot.style.top=`${zt-gt.top-Ue-Qv}px`}const le=ot.children[1].getBoundingClientRect();if(le.top<0){ot.classList.add("pushed","down"),ot.style.top=`${-gt.top}px`;const Ue=ue-gt.top;le.height-gt.top>Ue&&ot.classList.remove("r6o-arrow-bottom")}le.left<0&&(ot.classList.add("pushed","right"),ot.style.left=`${-gt.left}px`),requestAnimationFrame(()=>ot.style.opacity=1)}};const Zv=et=>{const{top:ot,left:ut,width:dt,height:gt}=et.getBoundingClientRect();return`${ot}, ${ut}, ${dt}, ${gt}`};class I_ extends Pt{constructor(ot){super(ot),lt(this,"initResizeObserver",()=>{const ut=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const dt=new ResizeObserver(()=>{this.state.dragged||Xv(this.props.wrapperEl,this.element.current,this.props.selectedElement,ut)});return dt.observe(this.props.wrapperEl),()=>dt.disconnect()}else this.state.dragged||Xv(this.props.wrapperEl,this.element.current,this.props.selectedElement,ut)}),lt(this,"creationMeta",ut=>{const dt={},{user:gt}=this.props.env;return gt&&(dt.creator={},gt.id&&(dt.creator.id=gt.id),gt.displayName&&(dt.creator.name=gt.displayName),dt[ut.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),dt}),lt(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),lt(this,"updateCurrentAnnotation",(ut,dt)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(ut)},()=>{dt&&this.onOk()})),lt(this,"onAppendBody",(ut,dt)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,nt(nt({},ut),this.creationMeta(ut))]},dt)),lt(this,"onUpdateBody",(ut,dt,gt)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(Mt=>Mt===ut?nt(nt({},dt),this.creationMeta(dt)):Mt)},gt)),lt(this,"onRemoveBody",(ut,dt)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(gt=>gt!==ut)},dt)),lt(this,"onUpsertBody",(ut,dt,gt)=>{if(ut==null&&dt!=null)this.onAppendBody(dt,gt);else if(ut!=null&&dt!=null)this.onUpdateBody(ut,dt,gt);else if(ut!=null&&dt==null){const Mt=this.state.currentAnnotation.bodies.find(zt=>zt.purpose===ut.purpose);Mt?this.onUpdateBody(Mt,ut,gt):this.onAppendBody(ut,gt)}}),lt(this,"onBatchModify",(ut,dt)=>{const gt=ut.filter(he=>he.action==="upsert"&&he.body).map(he=>({previous:this.state.currentAnnotation.bodies.find(le=>le.purpose===he.body.purpose),updated:nt(nt({},he.body),this.creationMeta(he.body))})),Mt=ut.filter(he=>he.action==="remove").map(he=>he.body),zt=[...ut.filter(he=>he.action==="append"||he.action==="upsert"&&he.updated&&!he.previous).map(he=>nt(nt({},he.body),this.creationMeta(he.body))),...gt.filter(he=>!he.previous).map(he=>he.updated)],Jt=[...ut.filter(he=>he.action==="update"||he.action==="upsert"&&he.updated&&he.previous).map(he=>({previous:he.previous,updated:nt(nt({},he.updated),this.creationMeta(he.updated))})),...gt.filter(he=>he.previous)],ue=[...this.state.currentAnnotation.bodies.filter(he=>!Mt.includes(he)).map(he=>{const le=Jt.find(Ue=>Ue.previous===he);return le?le.updated:he}),...zt];this.updateCurrentAnnotation({body:ue},dt)}),lt(this,"onSetProperty",(ut,dt)=>{if(["@context","id","type","body","target"].includes(ut))throw new Exception(`Cannot set ${ut} - not allowed`);if(dt)this.updateCurrentAnnotation({[ut]:dt});else{const gt=this.currentAnnotation.clone();delete gt[ut],this.setState({currentAnnotation:gt})}}),lt(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),lt(this,"onOk",()=>{const ut=gt=>gt.clone({body:gt.bodies.map(Mt=>{var zt=Mt,Jt=ct(zt,["draft"]);return Jt})}),{currentAnnotation:dt}=this.state;dt.bodies.length===0&&!this.props.allowEmpty?dt.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):dt.isSelection?this.props.onAnnotationCreated(ut(dt).toAnnotation()):this.props.onAnnotationUpdated(ut(dt),this.props.annotation)}),lt(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=ur.createRef(),this.state={currentAnnotation:ot.annotation,dragged:!1,selectionBounds:Zv(ot.selectedElement)}}componentWillReceiveProps(ot){var ut;const{selectionBounds:dt}=this.state,gt=Zv(ot.selectedElement);(ut=this.props.annotation)!=null&&ut.isEqual(ot.annotation)?this.setState({selectionBounds:gt}):this.setState({currentAnnotation:ot.annotation,selectionBounds:gt}),this.props.modifiedTarget!=ot.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),dt!=gt&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:ot}=this.state,ut=this.props.widgets?this.props.widgets.map(D_):A_,dt=Mt=>Mt.type.disableDelete?Mt.type.disableDelete(ot,st(nt({},Mt.props),{readOnly:this.props.readOnly,env:this.props.env})):!1,gt=ot&&(ot.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!ot.isSelection&&!ut.some(dt);return Dt(rd,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Dt("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Dt("div",{className:"r6o-arrow"}),Dt("div",{className:"r6o-editor-inner"},ut.map((Mt,zt)=>ur.cloneElement(Mt,{key:`${zt}`,focus:zt===0,annotation:ot,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk})),this.props.readOnly?Dt("div",{className:"r6o-footer"},Dt("button",{className:"r6o-btn",onClick:this.onCancel},cs.t("Close"))):Dt("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},gt&&Dt("button",{className:"r6o-btn left delete-annotation",title:cs.t("Delete"),onClick:this.onDelete},Dt(p_,{width:12})),Dt("button",{className:"r6o-btn outline",onClick:this.onCancel},cs.t("Cancel")),Dt("button",{className:"r6o-btn ",onClick:this.onOk},cs.t("Ok"))))))}}var N1,L_=new Uint8Array(16);function O_(){if(!N1&&(N1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!N1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N1(L_)}var P_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function z_(et){return typeof et=="string"&&P_.test(et)}for(var Za=[],Xy=0;Xy<256;++Xy)Za.push((Xy+256).toString(16).substr(1));function R_(et){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ut=(Za[et[ot+0]]+Za[et[ot+1]]+Za[et[ot+2]]+Za[et[ot+3]]+"-"+Za[et[ot+4]]+Za[et[ot+5]]+"-"+Za[et[ot+6]]+Za[et[ot+7]]+"-"+Za[et[ot+8]]+Za[et[ot+9]]+"-"+Za[et[ot+10]]+Za[et[ot+11]]+Za[et[ot+12]]+Za[et[ot+13]]+Za[et[ot+14]]+Za[et[ot+15]]).toLowerCase();if(!z_(ut))throw TypeError("Stringified UUID is invalid");return ut}function Jv(et,ot,ut){et=et||{};var dt=et.random||(et.rng||O_)();if(dt[6]=dt[6]&15|64,dt[8]=dt[8]&63|128,ot){ut=ut||0;for(var gt=0;gt<16;++gt)ot[ut+gt]=dt[gt];return ot}return R_(dt)}var j_=function et(ot,ut){if(ot===ut)return!0;if(ot&&ut&&typeof ot=="object"&&typeof ut=="object"){if(ot.constructor!==ut.constructor)return!1;var dt,gt,Mt;if(Array.isArray(ot)){if(dt=ot.length,dt!=ut.length)return!1;for(gt=dt;gt--!=0;)if(!et(ot[gt],ut[gt]))return!1;return!0}if(ot.constructor===RegExp)return ot.source===ut.source&&ot.flags===ut.flags;if(ot.valueOf!==Object.prototype.valueOf)return ot.valueOf()===ut.valueOf();if(ot.toString!==Object.prototype.toString)return ot.toString()===ut.toString();if(Mt=Object.keys(ot),dt=Mt.length,dt!==Object.keys(ut).length)return!1;for(gt=dt;gt--!=0;)if(!Object.prototype.hasOwnProperty.call(ut,Mt[gt]))return!1;for(gt=dt;gt--!=0;){var zt=Mt[gt];if(!et(ot[zt],ut[zt]))return!1}return!0}return ot!==ot&&ut!==ut},Kv=j_;const Zy=class{constructor(et,ot){lt(this,"clone",(ut,dt)=>new Zy(nt(nt({},this.underlying),ut),nt(nt({},this.opts),dt))),lt(this,"selector",ut=>{const{target:dt}=this.underlying;if(dt.selector)return(Array.isArray(dt.selector)?dt.selector:[dt.selector]).find(gt=>gt.type===ut)}),this.underlying=et,this.opts=ot}isEqual(et){return(et==null?void 0:et.type)!=="Annotation"?!1:this.underlying===et.underlying?!0:!this.underlying.id||!et.underlying.id?!1:Kv(this.underlying,et.underlying)}get readOnly(){var et;return(et=this.opts)==null?void 0:et.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(et){this.underlying.body=et}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let Kf=Zy;lt(Kf,"create",et=>{const ot={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Jv()}`,body:[]};return new Zy(nt(nt({},ot),et))});class L0{constructor(ot,ut){lt(this,"clone",dt=>{const gt=new L0;return gt.underlying=JSON.parse(JSON.stringify(this.underlying)),dt&&(gt.underlying=nt(nt({},gt.underlying),dt)),gt}),lt(this,"selector",dt=>{const{target:gt}=this.underlying;if(gt.selector)return(Array.isArray(gt.selector)?gt.selector:[gt.selector]).find(Mt=>Mt.type===dt)}),lt(this,"toAnnotation",()=>{const dt=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Jv()}`});return new Kf(dt)}),this.underlying={type:"Selection",body:ut||[],target:ot}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(ot){return ot?Kv(this.underlying,ot.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let Jy=0;var B_=()=>({setServerTime:et=>{const ot=Date.now();Jy=et-ot},getCurrentTimeAdjusted:()=>new Date(Date.now()+Jy).toISOString(),toClientTime:et=>Date.parse(et)-Jy});const $_=(et,ot)=>{if(et){const ut=et==="auto"?window.navigator.userLanguage||window.navigator.language:et;try{cs.init(ut.split("-")[0].toLowerCase(),ot)}catch{console.warn(`Unsupported locale '${ut}'. Falling back to default en.`)}}else cs.init(null,ot)},wo="http://www.w3.org/2000/svg",Ky=et=>{const ot=et.getAttribute("class");return ot?new Set(ot.split(" ")):new Set},Jd=(et,ot)=>{const ut=Ky(et);ut.add(ot),et.setAttribute("class",Array.from(ut).join(" "))},F_=(et,ot)=>{const ut=Ky(et);ut.delete(ot),ut.size===0?et.removeAttribute("class"):et.setAttribute("class",Array.from(ut).join(" "))},tv=(et,ot)=>Ky(et).has(ot),tp=(et,ot)=>{const ut=et.selector("FragmentSelector");if(ut!=null&&ut.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:dt}=ut,gt=dt.includes(":")?dt.substring(dt.indexOf("=")+1,dt.indexOf(":")):"pixel",Mt=dt.includes(":")?dt.substring(dt.indexOf(":")+1):dt.substring(dt.indexOf("=")+1);let[zt,Jt,ue,he]=Mt.split(",").map(parseFloat);return gt.toLowerCase()==="percent"&&(zt=zt*ot.naturalWidth/100,Jt=Jt*ot.naturalHeight/100,ue=ue*ot.naturalWidth/100,he=he*ot.naturalHeight/100),{x:zt,y:Jt,w:ue,h:he}}},U_=(et,ot,ut,dt,gt)=>({source:gt==null?void 0:gt.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${et},${ot},${ut},${dt}`}}),Y_=(et,ot,ut,dt,gt)=>{const Mt=et/gt.naturalWidth*100,zt=ot/gt.naturalHeight*100,Jt=ut/gt.naturalWidth*100,ue=dt/gt.naturalHeight*100;return{source:gt.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${Mt},${zt},${Jt},${ue}`}}},O0=(et,ot,ut,dt,gt,Mt)=>(Mt==null?void 0:Mt.toLowerCase())==="percent"?Y_(et,ot,ut,dt,gt):U_(et,ot,ut,dt,gt),D1=(et,ot,ut,dt,gt)=>{et.setAttribute("x",ot),et.setAttribute("y",ut),et.setAttribute("width",dt),et.setAttribute("height",gt)},I1=(et,ot,ut)=>{et.setAttribute("cx",ot),et.setAttribute("cy",ut),et.setAttribute("r",7)},tb=(et,ot,ut,dt,gt)=>{const Mt=document.createElementNS(wo,"path");Mt.setAttribute("fill-rule","evenodd");const{naturalWidth:zt,naturalHeight:Jt}=et;return Mt.setAttribute("d",`M0 0 h${zt} v${Jt} h-${zt} z M${ot} ${ut} h${dt} v${gt} h-${dt} z`),Mt},ev=(et,ot,ut,dt,gt,Mt)=>{const{naturalWidth:zt,naturalHeight:Jt}=ot;et.setAttribute("d",`M0 0 h${zt} v${Jt} h-${zt} z M${ut} ${dt} h${gt} v${Mt} h-${gt} z`)},nv=(et,ot,ut,dt)=>{const{x:gt,y:Mt,w:zt,h:Jt}=et.type==="Annotation"||et.type==="Selection"?tp(et,ot):{x:et,y:ot,w:ut,h:dt},ue=document.createElementNS(wo,"g");if(zt===0&&Jt===0){Jd(ue,"a9s-point"),Jd(ue,"a9s-non-scaling"),ue.setAttribute("transform-origin",`${gt} ${Mt}`);const he=document.createElementNS(wo,"circle"),le=document.createElementNS(wo,"circle");le.setAttribute("class","a9s-inner"),I1(le,gt,Mt),he.setAttribute("class","a9s-outer"),I1(he,gt,Mt),ue.appendChild(he),ue.appendChild(le)}else{const he=document.createElementNS(wo,"rect"),le=document.createElementNS(wo,"rect");le.setAttribute("class","a9s-inner"),D1(le,gt,Mt,zt,Jt),he.setAttribute("class","a9s-outer"),D1(he,gt,Mt,zt,Jt),ue.appendChild(he),ue.appendChild(le)}return ue},eb=et=>{const ot=et.querySelector(".a9s-outer");if(ot.nodeName==="rect"){const ut=parseFloat(ot.getAttribute("x")),dt=parseFloat(ot.getAttribute("y")),gt=parseFloat(ot.getAttribute("width")),Mt=parseFloat(ot.getAttribute("height"));return{x:ut,y:dt,w:gt,h:Mt}}else{const ut=parseFloat(ot.getAttribute("cx")),dt=parseFloat(ot.getAttribute("cy"));return{x:ut,y:dt,w:0,h:0}}},rv=(et,ot,ut,dt,gt)=>{const Mt=et.querySelector(".a9s-inner"),zt=et.querySelector(".a9s-outer");zt.nodeName==="rect"?(D1(Mt,ot,ut,dt,gt),D1(zt,ot,ut,dt,gt)):(I1(Mt,ot,ut),I1(zt,ot,ut))},H_=(et,ot)=>{const{w:ut,h:dt}=tp(et,ot);return ut*dt};class V_{constructor(ot,ut,dt,gt,Mt){lt(this,"dragTo",(zt,Jt)=>{this.group.style.display=null,this.opposite=[zt,Jt];const{x:ue,y:he,w:le,h:Ue}=this.bbox;ev(this.mask,this.env.image,ue,he,le,Ue),rv(this.rect,ue,he,le,Ue)}),lt(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),lt(this,"toSelection",()=>{const{x:zt,y:Jt,w:ue,h:he}=this.bbox;return new L0(O0(zt,Jt,ue,he,this.env.image,this.config.fragmentUnit))}),lt(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[ot,ut],this.opposite=[ot,ut],this.config=gt,this.env=Mt,this.group=document.createElementNS(wo,"g"),this.mask=tb(Mt.image,ot,ut,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=nv(ot,ut,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),dt.appendChild(this.group)}get bbox(){const ot=this.opposite[0]-this.anchor[0],ut=this.opposite[1]-this.anchor[1];return{x:ot>0?this.anchor[0]:this.opposite[0],y:ut>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(ot)),h:Math.max(1,Math.abs(ut))}}get element(){return this.rect}}const G_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},iv=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,W_=et=>{let ot=null;const ut=(gt,Mt)=>new MouseEvent(gt,{screenX:Mt.screenX,screenY:Mt.screenY,clientX:Mt.clientX,clientY:Mt.clientY,pageX:Mt.pageX,pageY:Mt.pageY,bubbles:!0}),dt=gt=>{const Mt=gt.changedTouches[0],zt=ut(G_[gt.type],Mt);Mt.target.dispatchEvent(zt),gt.preventDefault(),(gt.type==="touchstart"||gt.type==="touchmove")&&(ot&&clearTimeout(ot),ot=setTimeout(()=>{const Jt=ut("dblclick",Mt);Mt.target.dispatchEvent(Jt)},800)),gt.type==="touchend"&&ot&&clearTimeout(ot)};et.addEventListener("touchstart",dt,!0),et.addEventListener("touchmove",dt,!0),et.addEventListener("touchend",dt,!0),et.addEventListener("touchcancel",dt,!0)},L1="An implementation is missing",q_=iv();class nb extends Es{constructor(ot,ut,dt){super(),lt(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const Mt=this.svg.getBoundingClientRect(),{width:zt,height:Jt}=this.svg.viewBox.baseVal;this.scale=Math.max(zt/Mt.width,Jt/Mt.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),lt(this,"getSVGPoint",Mt=>{const zt=this.svg.createSVGPoint();if(q_){const Jt=this.svg.getBoundingClientRect(),ue=Mt.clientX-Jt.x,he=Mt.clientY-Jt.y,{left:le,top:Ue}=this.svg.getBoundingClientRect();return zt.x=ue+le,zt.y=he+Ue,zt.matrixTransform(this.g.getScreenCTM().inverse())}else return zt.x=Mt.offsetX,zt.y=Mt.offsetY,zt.matrixTransform(this.g.getCTM().inverse())}),lt(this,"drawHandle",(Mt,zt)=>{const Jt=document.createElementNS(wo,"g");Jt.setAttribute("class","a9s-handle");const ue=document.createElementNS(wo,"g"),he=ln=>{const Mn=document.createElementNS(wo,"circle");return Mn.setAttribute("cx",Mt),Mn.setAttribute("cy",zt),Mn.setAttribute("r",ln),Mn},le=this.config.handleRadius||6,Ue=he(le);Ue.setAttribute("class","a9s-handle-inner");const tn=he(le+1);return tn.setAttribute("class","a9s-handle-outer"),ue.appendChild(tn),ue.appendChild(Ue),Jt.appendChild(ue),Jt}),lt(this,"setHandleXY",(Mt,zt,Jt)=>{const ue=Mt.querySelector(".a9s-handle-inner");ue.setAttribute("cx",zt),ue.setAttribute("cy",Jt);const he=Mt.querySelector(".a9s-handle-outer");he.setAttribute("cx",zt),he.setAttribute("cy",Jt)}),lt(this,"getHandleXY",Mt=>{const zt=Mt.querySelector(".a9s-handle-outer");return{x:parseFloat(zt.getAttribute("cx")),y:parseFloat(zt.getAttribute("cy"))}}),lt(this,"scaleHandle",Mt=>{const zt=Mt.querySelector(".a9s-handle-inner"),Jt=Mt.querySelector(".a9s-handle-outer"),ue=this.scale*(this.config.handleRadius||6);zt.setAttribute("r",ue),Jt.setAttribute("r",ue)}),this.svg=ot.closest("svg"),this.g=ot,this.config=ut,this.env=dt,this.scale=1;const{image:gt}=dt;(gt instanceof Element||gt instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class ov extends nb{constructor(ot,ut,dt){super(ot,ut,dt),lt(this,"attachListeners",({mouseMove:gt,mouseUp:Mt,dblClick:zt})=>{gt&&(this.mouseMove=Jt=>{const{x:ue,y:he}=this.getSVGPoint(Jt);this.started||(this.emit("startSelection",{x:ue,y:he}),this.started=!0),gt(ue,he,Jt)},this.svg.addEventListener("mousemove",this.mouseMove)),Mt&&(this.mouseUp=Jt=>{if(Jt.button!==0)return;const{x:ue,y:he}=this.getSVGPoint(Jt);Mt(ue,he,Jt)},document.addEventListener("mouseup",this.mouseUp)),zt&&(this.dblClick=Jt=>{const{x:ue,y:he}=this.getSVGPoint(Jt);zt(ue,he,Jt)},document.addEventListener("dblclick",this.dblClick))}),lt(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),lt(this,"start",(gt,Mt)=>{const{x:zt,y:Jt}=this.getSVGPoint(gt);this.startDrawing(zt,Jt,Mt,gt)}),lt(this,"startDrawing",gt=>{throw new Error(L1)}),lt(this,"createEditableShape",gt=>{throw new Error(L1)}),this.started=!1}get isDrawing(){throw new Error(L1)}}ov.supports=et=>{throw new Error(L1)};const rb="An implementation is missing";class ib extends nb{constructor(ot,ut,dt,gt){super(ut,dt,gt),lt(this,"updateState",Mt=>{throw new Error(rb)}),this.annotation=ot}get element(){throw new Error(rb)}}const Q_=/firefox/i.test(navigator.userAgent),ob=(et,ot,ut,dt,gt)=>{et.setAttribute("width",dt),et.setAttribute("height",gt),Q_?(et.setAttribute("x",0),et.setAttribute("y",0),et.setAttribute("transform",`translate(${ot}, ${ut})`)):(et.setAttribute("x",ot),et.setAttribute("y",ut))},sb=(et,ot)=>{const{x:ut,y:dt,width:gt,height:Mt}=ot.getBBox(),zt=document.createElementNS(wo,"svg");zt.setAttribute("class","a9s-formatter-el"),ob(zt,ut,dt,gt,Mt);const Jt=document.createElementNS(wo,"g");Jt.appendChild(et),zt.appendChild(Jt),ot.append(zt)},O1=(et,ot,ut)=>{if(!ut)return et;const dt=ut(ot);if(!dt)return et;if(typeof dt=="string"||dt instanceof String)Jd(et,dt);else if(dt.nodeType===Node.ELEMENT_NODE)sb(dt,et);else{const{className:gt,style:Mt,element:zt}=dt;if(gt&&Jd(et,gt),Mt){const Jt=et.querySelector(".a9s-outer"),ue=et.querySelector(".a9s-inner");Jt&&ue?(Jt.setAttribute("style","display:none"),ue.setAttribute("style",Mt)):et.setAttribute("style",Mt)}zt&&sb(zt,et);for(const Jt in dt)dt.hasOwnProperty(Jt)&&Jt.startsWith("data-")&&et.setAttribute(Jt,dt[Jt])}},sv=(et,ot,ut,dt,gt)=>{const Mt=et.querySelector(".a9s-formatter-el");Mt&&ob(Mt,ot,ut,dt,gt)};class X_ extends ib{constructor(ot,ut,dt,gt){super(ot,ut,dt,gt),lt(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),lt(this,"setSize",(he,le,Ue,tn)=>{rv(this.rectangle,he,le,Ue,tn),ev(this.mask,this.env.image,he,le,Ue,tn),sv(this.elementGroup,he,le,Ue,tn);const[ln,Mn,Rn,On]=this.handles;this.setHandleXY(ln,he,le),this.setHandleXY(Mn,he+Ue,le),this.setHandleXY(Rn,he+Ue,le+tn),this.setHandleXY(On,he,le+tn)}),lt(this,"stretchCorners",(he,le,Ue)=>{const tn=this.getHandleXY(le),ln=Ue.x-tn.x,Mn=Ue.y-tn.y,Rn=ln>0?tn.x:Ue.x,On=Mn>0?tn.y:Ue.y,or=Math.abs(ln),fr=Math.abs(Mn);rv(this.rectangle,Rn,On,or,fr),ev(this.mask,this.env.image,Rn,On,or,fr),sv(this.elementGroup,Rn,On,or,fr),this.setHandleXY(this.handles[he],Ue.x,Ue.y);const oi=this.handles[(he+3)%4];this.setHandleXY(oi,tn.x,Ue.y);const Zr=this.handles[(he+5)%4];return this.setHandleXY(Zr,Ue.x,tn.y),{x:Rn,y:On,w:or,h:fr}}),lt(this,"onGrab",he=>le=>{if(le.button!==0)return;this.grabbedElem=he;const Ue=this.getSVGPoint(le),{x:tn,y:ln}=eb(this.rectangle);this.mouseOffset={x:Ue.x-tn,y:Ue.y-ln}}),lt(this,"onMouseMove",he=>{if(he.button!==0)return;const le=(Ue,tn)=>Ue<0?0:Ue>tn?tn:Ue;if(this.grabbedElem){const Ue=this.getSVGPoint(he);if(this.grabbedElem===this.rectangle){const{w:tn,h:ln}=eb(this.rectangle),{naturalWidth:Mn,naturalHeight:Rn}=this.env.image,On=le(Ue.x-this.mouseOffset.x,Mn-tn),or=le(Ue.y-this.mouseOffset.y,Rn-ln);this.setSize(On,or,tn,ln),this.emit("update",O0(On,or,tn,ln,this.env.image,this.config.fragmentUnit))}else{const tn=this.handles.indexOf(this.grabbedElem),ln=tn<2?this.handles[tn+2]:this.handles[tn-2],{x:Mn,y:Rn,w:On,h:or}=this.stretchCorners(tn,ln,Ue);this.emit("update",O0(Mn,Rn,On,or,this.env.image,this.config.fragmentUnit))}}}),lt(this,"onMouseUp",he=>{this.grabbedElem=null,this.mouseOffset=null}),lt(this,"updateState",he=>{const{x:le,y:Ue,w:tn,h:ln}=tp(he,this.env.image);this.setSize(le,Ue,tn,ln)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:Mt,y:zt,w:Jt,h:ue}=tp(ot,gt.image);this.containerGroup=document.createElementNS(wo,"g"),this.mask=tb(gt.image,Mt,zt,Jt,ue),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(wo,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=nv(Mt,zt,Jt,ue),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[Mt,zt],[Mt+Jt,zt],[Mt+Jt,zt+ue],[Mt,zt+ue]].map(he=>{const[le,Ue]=he,tn=this.drawHandle(le,Ue);return tn.addEventListener("mousedown",this.onGrab(tn)),this.elementGroup.appendChild(tn),tn}),this.containerGroup.appendChild(this.elementGroup),ut.appendChild(this.containerGroup),O1(this.rectangle,ot,dt.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class P1 extends ov{constructor(ot,ut,dt){super(ot,ut,dt),lt(this,"startDrawing",(gt,Mt)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new V_(gt,Mt,this.g,this.config,this.env)}),lt(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),lt(this,"onMouseMove",(gt,Mt)=>this.rubberband.dragTo(gt,Mt)),lt(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:gt,height:Mt}=this.rubberband.getBoundingClientRect(),zt=this.config.minSelectionWidth||4,Jt=this.config.minSelectionHeight||4;if(gt>=zt&&Mt>=Jt){const{element:ue}=this.rubberband;ue.annotation=this.rubberband.toSelection(),this.emit("complete",ue)}else this.emit("cancel");this.stop()}),lt(this,"createEditableShape",gt=>new X_(gt,this.g,this.config,this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}P1.identifier="rect",P1.supports=et=>{const ot=et.selector("FragmentSelector");return ot==null?void 0:ot.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const Z_=et=>{const ot=new XMLSerializer().serializeToString(et.documentElement).replace("<svg>",`<svg xmlns="${wo}">`);return new DOMParser().parseFromString(ot,"image/svg+xml").documentElement},ab=et=>{const ot=dt=>{Array.from(dt.attributes).forEach(gt=>{gt.name.startsWith("on")&&dt.removeAttribute(gt.name)})},ut=et.getElementsByTagName("script");return Array.from(ut).reverse().forEach(dt=>dt.parentNode.removeChild(dt)),ot(et),Array.from(et.querySelectorAll("*")).forEach(ot),et},og=et=>{const ot=et.selector("SvgSelector");if(ot){const ut=new DOMParser,{value:dt}=ot,gt=ut.parseFromString(dt,"image/svg+xml"),Mt=gt.lookupPrefix(wo),zt=gt.lookupNamespaceURI(null);return Mt||zt?ab(gt).firstChild:ab(Z_(gt)).firstChild}},lb=et=>{const ot=og(et),ut=document.createElementNS(wo,"g"),dt=ot.cloneNode(!0);dt.setAttribute("class","a9s-inner");const gt=ot.cloneNode(!0);return gt.setAttribute("class","a9s-outer"),ut.appendChild(gt),ut.appendChild(dt),ut},av=(et,ot)=>{const ut=et.querySelector(".a9s-inner").cloneNode(!0);ut.removeAttribute("class"),ut.removeAttribute("xmlns");let dt=ut.outerHTML||new XMLSerializer().serializeToString(ut);return dt=dt.replace(` xmlns="${wo}"`,""),{source:ot==null?void 0:ot.src,selector:{type:"SvgSelector",value:`<svg>${dt}</svg>`}}},J_=et=>{const ot=og(et),ut=ot.nodeName.toLowerCase();if(ut==="polygon")return K_(ot);if(ut==="circle")return tw(ot);if(ut==="ellipse")return ew(ot);if(ut=="path")return nw(ot);throw`Unsupported SVG shape type: ${ut}`},K_=et=>{const ot=et.getAttribute("points").split(" ").map(gt=>gt.split(",").map(Mt=>parseFloat(Mt.trim())));let ut=0,dt=ot.length-1;for(let gt=0;gt<ot.length;gt++)ut+=(ot[dt][0]+ot[gt][0])*(ot[dt][1]-ot[gt][1]),dt=gt;return Math.abs(.5*ut)},tw=et=>{const ot=et.getAttribute("r");return ot*ot*Math.PI},ew=et=>{const ot=et.getAttribute("rx"),ut=et.getAttribute("ry");return ot*ut*Math.PI},nw=et=>{const ot=et.getAttribute("d").split("L");let ut=0;if(ot.length>1){var dt=ot[ot.length-1].trim().split(" ");let gt=parseFloat(dt[0]),Mt=parseFloat(dt[1]);dt=ot[0].substring(1).trim().split(" ");let zt=parseFloat(dt[0]),Jt=parseFloat(dt[1]);ut+=(gt+zt)*(Mt-Jt),gt=zt,Mt=Jt;for(let ue=1;ue<ot.length;ue++)dt=ot[ue].trim().split(" "),zt=parseFloat(dt[0]),Jt=parseFloat(dt[1]),ut+=(gt+zt)*(Mt-Jt),gt=zt,Mt=Jt}return Math.abs(.5*ut)};class cb{constructor(ot,ut){lt(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),lt(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=ot.naturalWidth,this.h=ot.naturalHeight,this.polygon=ut,this.mask=document.createElementNS(wo,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class rw{constructor(ot,ut,dt){lt(this,"setPoints",gt=>{const Mt=gt.map(zt=>`${zt[0]},${zt[1]}`).join(" ");this.outer.setAttribute("points",Mt),this.inner.setAttribute("points",Mt)}),lt(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),lt(this,"dragTo",gt=>{this.group.style.display=null,this.mousepos=gt;const Mt=[...this.points,gt];this.setPoints(Mt),this.mask.redraw()}),lt(this,"addPoint",()=>{const[gt,Mt]=this.mousepos,zt=this.points[this.points.length-1];Math.pow(gt-zt[0],2)+Math.pow(Mt-zt[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),lt(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),lt(this,"toSelection",()=>new L0(av(this.group,this.env.image))),this.points=[ot],this.env=dt,this.mousepos=ot,this.group=document.createElementNS(wo,"g"),this.polygon=document.createElementNS(wo,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(wo,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(wo,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new cb(dt.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),ut.appendChild(this.group)}get element(){return this.polygon}}const lv=et=>{const ot=et.querySelector(".a9s-inner").points,ut=[];for(let dt=0;dt<ot.numberOfItems;dt++)ut.push(ot.getItem(dt));return ut},iw=et=>et.querySelector(".a9s-inner").getBBox();class ow extends ib{constructor(ot,ut,dt,gt){super(ot,ut,dt,gt),lt(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),lt(this,"setPoints",Mt=>{const zt=ln=>Math.round(10*ln)/10,Jt=Mt.map(ln=>`${zt(ln.x)},${zt(ln.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",Jt);const ue=this.shape.querySelector(".a9s-outer");ue.setAttribute("points",Jt),this.mask.redraw();const{x:he,y:le,width:Ue,height:tn}=ue.getBBox();sv(this.elementGroup,he,le,Ue,tn)}),lt(this,"onGrab",Mt=>zt=>{zt.button===0&&(this.grabbedElem=Mt,this.grabbedAt=this.getSVGPoint(zt))}),lt(this,"onMouseMove",Mt=>{const zt=(Jt,ue,he)=>Jt+ue<0?-Jt:Jt+ue>he?he-Jt:ue;if(this.grabbedElem){const Jt=this.getSVGPoint(Mt);if(this.grabbedElem===this.shape){const{x:ue,y:he,width:le,height:Ue}=iw(this.shape),{naturalWidth:tn,naturalHeight:ln}=this.env.image,Mn=zt(ue,Jt.x-this.grabbedAt.x,tn-le),Rn=zt(he,Jt.y-this.grabbedAt.y,ln-Ue),On=lv(this.shape).map(or=>({x:or.x+Mn,y:or.y+Rn}));this.grabbedAt=Jt,this.setPoints(On),On.forEach((or,fr)=>this.setHandleXY(this.handles[fr],or.x,or.y)),this.emit("update",av(this.shape,this.env.image))}else{const ue=this.handles.indexOf(this.grabbedElem),he=lv(this.shape).map((le,Ue)=>Ue===ue?Jt:le);this.setPoints(he),this.setHandleXY(this.handles[ue],Jt.x,Jt.y),this.emit("update",av(this.shape,this.env.image))}}}),lt(this,"onMouseUp",Mt=>{this.grabbedElem=null,this.grabbedAt=null}),lt(this,"updateState",Mt=>{const zt=og(Mt).getAttribute("points").split(" ").map(Jt=>{const[ue,he]=Jt.split(",").map(le=>parseFloat(le.trim()));return{x:ue,y:he}});this.setPoints(zt),zt.forEach((Jt,ue)=>this.setHandleXY(this.handles[ue],Jt.x,Jt.y))}),lt(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(wo,"g"),this.shape=lb(ot),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new cb(gt.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(wo,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=lv(this.shape).map(Mt=>{const zt=this.drawHandle(Mt.x,Mt.y);return zt.addEventListener("mousedown",this.onGrab(zt)),this.elementGroup.appendChild(zt),zt}),this.containerGroup.appendChild(this.elementGroup),ut.appendChild(this.containerGroup),O1(this.shape,ot,dt.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class cv extends ov{constructor(ot,ut,dt){super(ot,ut,dt),lt(this,"startDrawing",(gt,Mt,zt)=>{this._isDrawing=!0,this._startOnSingleClick=zt,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new rw([gt,Mt],this.g,this.env)}),lt(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),lt(this,"onMouseMove",(gt,Mt)=>this.rubberband.dragTo([gt,Mt])),lt(this,"onMouseUp",()=>{const{width:gt,height:Mt}=this.rubberband.getBoundingClientRect(),zt=this.config.minSelectionWidth||4,Jt=this.config.minSelectionHeight||4;gt>=zt||Mt>=Jt?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),lt(this,"onDblClick",()=>{this._isDrawing=!1;const gt=this.rubberband.element;gt.annotation=this.rubberband.toSelection(),this.emit("complete",gt),this.stop()}),lt(this,"createEditableShape",gt=>new ow(gt,this.g,this.config,this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}cv.identifier="polygon",cv.supports=et=>{var ot;const ut=et.selector("SvgSelector");if(ut)return(ot=ut.value)==null?void 0:ot.match(/^<svg.*<polygon/g)};class sw extends Es{constructor(ot,ut,dt){super(),lt(this,"listTools",()=>this._registered.map(gt=>gt.identifier)),lt(this,"registerTool",gt=>{const Mt=gt.identifier;this.listTools().includes(Mt)&&this.unregisterTool(Mt),this._registered.push(gt)}),lt(this,"unregisterTool",gt=>this._registered=this._registered.filter(Mt=>Mt.identifier!==gt)),lt(this,"setCurrent",gt=>{const Mt=typeof gt=="string"||gt instanceof String?this._registered.find(zt=>zt.identifier===gt):gt;this._current=new Mt(this._g,this._config,this._env),this._current.on("startSelection",zt=>this.emit("startSelection",zt)),this._current.on("complete",zt=>this.emit("complete",zt)),this._current.on("cancel",zt=>this.emit("cancel",zt))}),lt(this,"forAnnotation",gt=>{var Mt;const[zt,...Jt]=gt.targets,ue=(Mt=zt.renderedVia)==null?void 0:Mt.name,he=ue?this._registered.find(le=>le.identifier===ue):this._registered.find(le=>le.supports(gt));return he?new he(this._g,this._config,this._env):null}),this._g=ot,this._config=ut,this._env=dt,this._registered=[P1,cv],this.setCurrent(P1)}get current(){return this._current}}class aw{constructor(ot,ut,dt){this.svg=ot.closest("svg"),this.g=document.createElementNS(wo,"g"),this.g.setAttribute("class","a9s-crosshair");const gt=document.createElementNS(wo,"line"),Mt=document.createElementNS(wo,"line");this.g.appendChild(gt),this.g.appendChild(Mt),ot.appendChild(this.g);const zt=Jt=>{const ue=this.svg.getBoundingClientRect(),he=Jt.clientX-ue.x,le=Jt.clientY-ue.y,Ue=this.svg.createSVGPoint(),{left:tn,top:ln}=this.svg.getBoundingClientRect();return Ue.x=he+tn,Ue.y=le+ln,Ue.matrixTransform(ot.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",Jt=>{const{x:ue,y:he}=zt(Jt);gt.setAttribute("x1",0),gt.setAttribute("y1",he),gt.setAttribute("x2",ut),gt.setAttribute("y2",he),Mt.setAttribute("x1",ue),Mt.setAttribute("y1",0),Mt.setAttribute("x2",ue),Mt.setAttribute("y2",dt)})}}const lw={FragmentSelector:nv,SvgSelector:lb},cw={FragmentSelector:H_,SvgSelector:J_},ub=et=>{const ot=et.targets[0];if(ot)return Array.isArray(ot.selector)?ot.selector[0]:ot.selector},uv=(et,ot)=>lw[ub(et).type](et,ot),hb=(et,ot)=>cw[ub(et).type](et,ot);function uw(et,ot,ut,dt,gt){fb(et,ot,ut||0,dt||et.length-1,gt||hw)}function fb(et,ot,ut,dt,gt){for(;dt>ut;){if(dt-ut>600){var Mt=dt-ut+1,zt=ot-ut+1,Jt=Math.log(Mt),ue=.5*Math.exp(2*Jt/3),he=.5*Math.sqrt(Jt*ue*(Mt-ue)/Mt)*(zt-Mt/2<0?-1:1),le=Math.max(ut,Math.floor(ot-zt*ue/Mt+he)),Ue=Math.min(dt,Math.floor(ot+(Mt-zt)*ue/Mt+he));fb(et,ot,le,Ue,gt)}var tn=et[ot],ln=ut,Mn=dt;for(P0(et,ut,ot),gt(et[dt],tn)>0&&P0(et,ut,dt);ln<Mn;){for(P0(et,ln,Mn),ln++,Mn--;gt(et[ln],tn)<0;)ln++;for(;gt(et[Mn],tn)>0;)Mn--}gt(et[ut],tn)===0?P0(et,ut,Mn):(Mn++,P0(et,Mn,dt)),Mn<=ot&&(ut=Mn+1),ot<=Mn&&(dt=Mn-1)}}function P0(et,ot,ut){var dt=et[ot];et[ot]=et[ut],et[ut]=dt}function hw(et,ot){return et<ot?-1:et>ot?1:0}class dw{constructor(ot=9){this._maxEntries=Math.max(4,ot),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(ot){let ut=this.data;const dt=[];if(!R1(ot,ut))return dt;const gt=this.toBBox,Mt=[];for(;ut;){for(let zt=0;zt<ut.children.length;zt++){const Jt=ut.children[zt],ue=ut.leaf?gt(Jt):Jt;R1(ot,ue)&&(ut.leaf?dt.push(Jt):dv(ot,ue)?this._all(Jt,dt):Mt.push(Jt))}ut=Mt.pop()}return dt}collides(ot){let ut=this.data;if(!R1(ot,ut))return!1;const dt=[];for(;ut;){for(let gt=0;gt<ut.children.length;gt++){const Mt=ut.children[gt],zt=ut.leaf?this.toBBox(Mt):Mt;if(R1(ot,zt)){if(ut.leaf||dv(ot,zt))return!0;dt.push(Mt)}}ut=dt.pop()}return!1}load(ot){if(!(ot&&ot.length))return this;if(ot.length<this._minEntries){for(let dt=0;dt<ot.length;dt++)this.insert(ot[dt]);return this}let ut=this._build(ot.slice(),0,ot.length-1,0);if(!this.data.children.length)this.data=ut;else if(this.data.height===ut.height)this._splitRoot(this.data,ut);else{if(this.data.height<ut.height){const dt=this.data;this.data=ut,ut=dt}this._insert(ut,this.data.height-ut.height-1,!0)}return this}insert(ot){return ot&&this._insert(ot,this.data.height-1),this}clear(){return this.data=ag([]),this}remove(ot,ut){if(!ot)return this;let dt=this.data;const gt=this.toBBox(ot),Mt=[],zt=[];let Jt,ue,he;for(;dt||Mt.length;){if(dt||(dt=Mt.pop(),ue=Mt[Mt.length-1],Jt=zt.pop(),he=!0),dt.leaf){const le=fw(ot,dt.children,ut);if(le!==-1)return dt.children.splice(le,1),Mt.push(dt),this._condense(Mt),this}!he&&!dt.leaf&&dv(dt,gt)?(Mt.push(dt),zt.push(Jt),Jt=0,ue=dt,dt=dt.children[0]):ue?(Jt++,dt=ue.children[Jt],he=!1):dt=null}return this}toBBox(ot){return ot}compareMinX(ot,ut){return ot.minX-ut.minX}compareMinY(ot,ut){return ot.minY-ut.minY}toJSON(){return this.data}fromJSON(ot){return this.data=ot,this}_all(ot,ut){const dt=[];for(;ot;)ot.leaf?ut.push(...ot.children):dt.push(...ot.children),ot=dt.pop();return ut}_build(ot,ut,dt,gt){const Mt=dt-ut+1;let zt=this._maxEntries,Jt;if(Mt<=zt)return Jt=ag(ot.slice(ut,dt+1)),sg(Jt,this.toBBox),Jt;gt||(gt=Math.ceil(Math.log(Mt)/Math.log(zt)),zt=Math.ceil(Mt/Math.pow(zt,gt-1))),Jt=ag([]),Jt.leaf=!1,Jt.height=gt;const ue=Math.ceil(Mt/zt),he=ue*Math.ceil(Math.sqrt(zt));pb(ot,ut,dt,he,this.compareMinX);for(let le=ut;le<=dt;le+=he){const Ue=Math.min(le+he-1,dt);pb(ot,le,Ue,ue,this.compareMinY);for(let tn=le;tn<=Ue;tn+=ue){const ln=Math.min(tn+ue-1,Ue);Jt.children.push(this._build(ot,tn,ln,gt-1))}}return sg(Jt,this.toBBox),Jt}_chooseSubtree(ot,ut,dt,gt){for(;gt.push(ut),!(ut.leaf||gt.length-1===dt);){let Mt=1/0,zt=1/0,Jt;for(let ue=0;ue<ut.children.length;ue++){const he=ut.children[ue],le=hv(he),Ue=mw(ot,he)-le;Ue<zt?(zt=Ue,Mt=le<Mt?le:Mt,Jt=he):Ue===zt&&le<Mt&&(Mt=le,Jt=he)}ut=Jt||ut.children[0]}return ut}_insert(ot,ut,dt){const gt=dt?ot:this.toBBox(ot),Mt=[],zt=this._chooseSubtree(gt,this.data,ut,Mt);for(zt.children.push(ot),R0(zt,gt);ut>=0&&Mt[ut].children.length>this._maxEntries;)this._split(Mt,ut),ut--;this._adjustParentBBoxes(gt,Mt,ut)}_split(ot,ut){const dt=ot[ut],gt=dt.children.length,Mt=this._minEntries;this._chooseSplitAxis(dt,Mt,gt);const zt=this._chooseSplitIndex(dt,Mt,gt),Jt=ag(dt.children.splice(zt,dt.children.length-zt));Jt.height=dt.height,Jt.leaf=dt.leaf,sg(dt,this.toBBox),sg(Jt,this.toBBox),ut?ot[ut-1].children.push(Jt):this._splitRoot(dt,Jt)}_splitRoot(ot,ut){this.data=ag([ot,ut]),this.data.height=ot.height+1,this.data.leaf=!1,sg(this.data,this.toBBox)}_chooseSplitIndex(ot,ut,dt){let gt,Mt=1/0,zt=1/0;for(let Jt=ut;Jt<=dt-ut;Jt++){const ue=z0(ot,0,Jt,this.toBBox),he=z0(ot,Jt,dt,this.toBBox),le=yw(ue,he),Ue=hv(ue)+hv(he);le<Mt?(Mt=le,gt=Jt,zt=Ue<zt?Ue:zt):le===Mt&&Ue<zt&&(zt=Ue,gt=Jt)}return gt||dt-ut}_chooseSplitAxis(ot,ut,dt){const gt=ot.leaf?this.compareMinX:pw,Mt=ot.leaf?this.compareMinY:gw,zt=this._allDistMargin(ot,ut,dt,gt),Jt=this._allDistMargin(ot,ut,dt,Mt);zt<Jt&&ot.children.sort(gt)}_allDistMargin(ot,ut,dt,gt){ot.children.sort(gt);const Mt=this.toBBox,zt=z0(ot,0,ut,Mt),Jt=z0(ot,dt-ut,dt,Mt);let ue=z1(zt)+z1(Jt);for(let he=ut;he<dt-ut;he++){const le=ot.children[he];R0(zt,ot.leaf?Mt(le):le),ue+=z1(zt)}for(let he=dt-ut-1;he>=ut;he--){const le=ot.children[he];R0(Jt,ot.leaf?Mt(le):le),ue+=z1(Jt)}return ue}_adjustParentBBoxes(ot,ut,dt){for(let gt=dt;gt>=0;gt--)R0(ut[gt],ot)}_condense(ot){for(let ut=ot.length-1,dt;ut>=0;ut--)ot[ut].children.length===0?ut>0?(dt=ot[ut-1].children,dt.splice(dt.indexOf(ot[ut]),1)):this.clear():sg(ot[ut],this.toBBox)}}function fw(et,ot,ut){if(!ut)return ot.indexOf(et);for(let dt=0;dt<ot.length;dt++)if(ut(et,ot[dt]))return dt;return-1}function sg(et,ot){z0(et,0,et.children.length,ot,et)}function z0(et,ot,ut,dt,gt){gt||(gt=ag(null)),gt.minX=1/0,gt.minY=1/0,gt.maxX=-1/0,gt.maxY=-1/0;for(let Mt=ot;Mt<ut;Mt++){const zt=et.children[Mt];R0(gt,et.leaf?dt(zt):zt)}return gt}function R0(et,ot){return et.minX=Math.min(et.minX,ot.minX),et.minY=Math.min(et.minY,ot.minY),et.maxX=Math.max(et.maxX,ot.maxX),et.maxY=Math.max(et.maxY,ot.maxY),et}function pw(et,ot){return et.minX-ot.minX}function gw(et,ot){return et.minY-ot.minY}function hv(et){return(et.maxX-et.minX)*(et.maxY-et.minY)}function z1(et){return et.maxX-et.minX+(et.maxY-et.minY)}function mw(et,ot){return(Math.max(ot.maxX,et.maxX)-Math.min(ot.minX,et.minX))*(Math.max(ot.maxY,et.maxY)-Math.min(ot.minY,et.minY))}function yw(et,ot){const ut=Math.max(et.minX,ot.minX),dt=Math.max(et.minY,ot.minY),gt=Math.min(et.maxX,ot.maxX),Mt=Math.min(et.maxY,ot.maxY);return Math.max(0,gt-ut)*Math.max(0,Mt-dt)}function dv(et,ot){return et.minX<=ot.minX&&et.minY<=ot.minY&&ot.maxX<=et.maxX&&ot.maxY<=et.maxY}function R1(et,ot){return ot.minX<=et.maxX&&ot.minY<=et.maxY&&ot.maxX>=et.minX&&ot.maxY>=et.minY}function ag(et){return{children:et,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function pb(et,ot,ut,dt,gt){const Mt=[ot,ut];for(;Mt.length;){if(ut=Mt.pop(),ot=Mt.pop(),ut-ot<=dt)continue;const zt=ot+Math.ceil((ut-ot)/dt/2)*dt;uw(et,zt,ot,ut,gt),Mt.push(ot,zt,zt,ut)}}const gb=et=>{const ot=uv(et),ut=document.createElementNS(wo,"svg");ut.style.position="absolute",ut.style.opacity=0,ut.style.top=0,ut.style.left=0,ut.appendChild(ot),document.body.appendChild(ut);const{x:dt,y:gt,width:Mt,height:zt}=ot.getBBox();return document.body.removeChild(ut),{minX:dt,minY:gt,maxX:dt+Mt,maxY:gt+zt}};class vw{constructor(ot){lt(this,"getAnnotationAt",(ut,dt,gt)=>{const Mt=gt?5/gt:5,zt=this.spatial_index.search({minX:ut-Mt,minY:dt-Mt,maxX:ut+Mt,maxY:dt+Mt}).map(Jt=>Jt.annotation);if(zt.length>0)return zt.sort((Jt,ue)=>hb(Jt,this.env.image)-hb(ue,this.env.image)),zt[0]}),lt(this,"getAnnotationsIntersecting",ut=>this.spatial_index.search(ut).map(dt=>dt.annotation)),lt(this,"insert",ut=>{(Array.isArray(ut)?ut:[ut]).forEach(dt=>{this.spatial_index.insert(st(nt({},gb(dt)),{annotation:dt}))})}),lt(this,"remove",ut=>{const dt=st(nt({},gb(ut)),{annotation:ut});this.spatial_index.remove(dt,(gt,Mt)=>gt.annotation.id===Mt.annotation.id)}),this.env=ot,this.spatial_index=new dw}}const bw=(et,ot)=>{const ut=tv(ot,".a9s-annotation")?ot:ot.querySelector(".a9s-annotation"),{canvas:dt}=et.drawer,gt=dt.getBoundingClientRect(),Mt=dt.width/gt.width,zt=dt.height/gt.height,Jt=ut.getBoundingClientRect(),ue=Jt.x-gt.x,he=Jt.y-gt.y,{width:le,height:Ue}=Jt,tn=document.createElement("CANVAS"),ln=tn.getContext("2d");tn.width=le,tn.height=Ue,ln.drawImage(dt,ue*Mt,he*zt,le*Mt,Ue*zt,0,0,le,Ue);const Mn=et.viewport.viewportToImageCoordinates(Jt.x,Jt.y),Rn=et.viewport.viewportToImageZoom(et.viewport.getZoom());return{snippet:tn,transform:On=>{const or=Mn.x+On[0]/Mt/Rn,fr=Mn.y+On[1]/zt/Rn;return[or,fr]}}},_w=iv();class mb extends Es{constructor(ot){super(),lt(this,"_getShapeAt",dt=>{const gt=ue=>{const he=this.svg.createSVGPoint();if(window.TouchEvent&&ue instanceof TouchEvent){const le=this.svg.getBoundingClientRect(),Ue=ue.touches[0],tn=Ue.clientX-le.x,ln=Ue.clientY-le.y,{left:Mn,top:Rn}=this.svg.getBoundingClientRect();return he.x=tn+Mn,he.y=ln+Rn,he.matrixTransform(this.g.getScreenCTM().inverse())}else return he.x=ue.offsetX,he.y=ue.offsetY,he.matrixTransform(this.g.getCTM().inverse())},{x:Mt,y:zt}=gt(dt),Jt=this.store.getAnnotationAt(Mt,zt,this.currentScale());if(Jt)return this.findShape(Jt)}),lt(this,"_initDrawingTools",dt=>{this.tools=new sw(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let gt=!1;this.mouseTracker=new wt.default.MouseTracker({element:this.svg,pressHandler:Mt=>{this.tools.current.isDrawing||(this.tools.current.start(Mt.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),dt||this.scaleTool(this.tools.current))},moveHandler:Mt=>{if(this.tools.current.isDrawing){const{x:zt,y:Jt}=this.tools.current.getSVGPoint(Mt.originalEvent);this.tools.current.onMouseMove(zt,Jt,Mt.originalEvent),gt||(this.emit("startSelection",{x:zt,y:Jt}),gt=!0)}},releaseHandler:Mt=>{if(this.tools.current.isDrawing){const{x:zt,y:Jt}=this.tools.current.getSVGPoint(Mt.originalEvent);this.tools.current.onMouseUp(zt,Jt,Mt.originalEvent)}gt=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=Mt=>{Mt.which===16&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=Mt=>{Mt.which===16&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),lt(this,"_initMouseEvents",()=>{let dt=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",zt=>{var Jt,ue;if(!((Jt=this.tools)!=null&&Jt.current.isDrawing)&&!zt.target.closest(".a9s-annotation.editable.selected")){const he=this._getShapeAt(zt);if((he==null?void 0:he.annotation)!==((ue=this.hoveredShape)==null?void 0:ue.annotation)){if(this.hoveredShape){this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=dt;const le=this.hoveredShape.element||this.hoveredShape;F_(le,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}he&&(dt=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,Jd(he,"hover"),this.emit("mouseEnterAnnotation",he.annotation,he))}this.hoveredShape=he}});let gt=null;new wt.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{gt=new Date().getTime()}}),this.svg.addEventListener("mousedown",()=>{gt=new Date().getTime()});const Mt=zt=>{var Jt;if(!((Jt=this.tools.current)!=null&&Jt.isDrawing||this.disableSelect)&&new Date().getTime()-gt<250){const ue=zt.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(zt);ue?this.selectShape(ue):ue||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",Mt),this.svg.addEventListener("touchstart",Mt)}),lt(this,"_refreshNonScalingAnnotations",()=>{const dt=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(gt=>gt.setAttribute("transform",`scale(${1/dt})`))}),lt(this,"addAnnotation",(dt,gt)=>{const Mt=gt||this.g,zt=uv(dt,this.env.image);return Jd(zt,"a9s-annotation"),zt.setAttribute("data-id",dt.id),zt.annotation=dt,Mt.appendChild(zt),O1(zt,dt,this.formatter),this.scaleFormatterElements(zt),zt}),lt(this,"addDrawingTool",dt=>this.tools.registerTool(dt)),lt(this,"addOrUpdateAnnotation",(dt,gt)=>{var Mt,zt;(((Mt=this.selectedShape)==null?void 0:Mt.annotation)===dt||((zt=this.selectedShape)==null?void 0:zt.annotation)==gt)&&this.deselect(),gt&&this.removeAnnotation(dt),this.removeAnnotation(dt);const Jt=this.addAnnotation(dt);tv(Jt,"a9s-non-scaling")&&Jt.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(dt)}),lt(this,"currentScale",()=>{const dt=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*dt/this.viewer.world.getContentFactor()}),lt(this,"deselect",()=>{var dt;if((dt=this.tools)==null||dt.current.stop(),this.selectedShape){const{annotation:gt}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!gt.isSelection)){const Mt=this.addAnnotation(gt);tv(Mt,"a9s-non-scaling")&&Mt.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}}),lt(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),lt(this,"findShape",dt=>{const gt=dt!=null&&dt.id?dt.id:dt;return this.g.querySelector(`.a9s-annotation[data-id="${gt}"]`)}),lt(this,"fitBounds",(dt,gt)=>{const Mt=this.findShape(dt);if(Mt){const{x:zt,y:Jt,width:ue,height:he}=Mt.getBBox(),le=this.viewer.viewport.imageToViewportRectangle(zt,Jt,ue,he);this.viewer.viewport.fitBounds(le,gt)}}),lt(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(dt=>dt.annotation)),lt(this,"getSelectedImageSnippet",()=>{var dt;if(this.selectedShape){const gt=(dt=this.selectedShape.element)!=null?dt:this.selectedShape;return bw(this.viewer,gt)}}),lt(this,"init",dt=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(gt=>this.g.removeChild(gt)),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),dt.forEach(gt=>this.addAnnotation(gt)),console.log("Indexing..."),this.store.insert(dt),console.timeEnd("Took"),this.resize()}),lt(this,"listDrawingTools",()=>this.tools.listTools()),lt(this,"overrideId",(dt,gt)=>{const Mt=this.findShape(dt);Mt.setAttribute("data-id",gt);const{annotation:zt}=Mt,Jt=zt.clone({id:gt});return Mt.annotation=Jt,this.store.remove(zt),this.store.insert(Jt),Jt}),lt(this,"panTo",(dt,gt)=>{const Mt=this.findShape(dt);if(Mt){const{top:zt,left:Jt,width:ue,height:he}=Mt.getBoundingClientRect(),le=Jt+ue/2+window.scrollX,Ue=zt+he/2+window.scrollY,tn=this.viewer.viewport.windowToViewportCoordinates(new wt.default.Point(le,Ue));this.viewer.viewport.panTo(tn,gt)}}),lt(this,"removeAnnotation",dt=>{var gt,Mt;const zt=dt.type?dt.id:dt;((gt=this.selectedShape)==null?void 0:gt.annotation.id)===zt&&this.deselect();const Jt=this.findShape(dt);if(Jt){const{annotation:ue}=Jt;((Mt=this.selectedShape)==null?void 0:Mt.annotation)===ue&&this.deselect(),Jt.parentNode.removeChild(Jt),this.store.remove(ue)}}),lt(this,"removeDrawingTool",dt=>{var gt;return(gt=this.tools)==null?void 0:gt.unregisterTool(dt)}),lt(this,"scaleFormatterElements",dt=>{const gt=1/this.currentScale();if(dt){const Mt=dt.querySelector(".a9s-formatter-el");Mt&&Mt.firstChild.setAttribute("transform",`scale(${gt})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(Mt=>Mt.firstChild.setAttribute("transform",`scale(${gt})`))}),lt(this,"scaleTool",dt=>{if(dt){const gt=1/this.currentScale();dt.scale=gt,dt.onScaleChanged&&dt.onScaleChanged(gt)}}),lt(this,"selectAnnotation",(dt,gt)=>{this.selectedShape&&this.deselect();const Mt=this.findShape(dt);if(Mt){this.selectShape(Mt,gt);const zt=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:Mt.annotation,element:zt}}else this.deselect()}),lt(this,"selectShape",(dt,gt)=>{var Mt;if(!gt&&!dt.annotation.isSelection&&this.emit("clickAnnotation",dt.annotation,dt),((Mt=this.selectedShape)==null?void 0:Mt.annotation)===dt.annotation)return;this.selectedShape&&this.selectedShape.annotation!==dt.annotation&&this.deselect();const{annotation:zt}=dt;if(this.readOnly||zt.readOnly||this.headless)this.selectedShape=dt,gt||this.emit("select",{annotation:zt,element:dt,skipEvent:gt});else{const Jt=this.tools.forAnnotation(zt);if(Jt){setTimeout(()=>{dt.parentNode.removeChild(dt),gt||this.emit("select",{annotation:zt,element:this.selectedShape.element})},1),this.selectedShape=Jt.createEditableShape(zt),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=zt;const ue=new wt.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,ue.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,ue.setTracking(!1)}),this.selectedShape.mouseTracker=ue,this.selectedShape.on("update",he=>this.emit("updateTarget",this.selectedShape.element,he))}else this.selectedShape=dt,gt||this.emit("select",{annotation:zt,element:this.selectedShape})}}),lt(this,"setDrawingEnabled",dt=>{var gt;return(gt=this.mouseTracker)==null?void 0:gt.setTracking(dt&&!this.readOnly)}),lt(this,"setDrawingTool",dt=>{var gt;this.tools&&((gt=this.tools.current)==null||gt.stop(),this.tools.setCurrent(dt))}),lt(this,"setVisible",dt=>{dt?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),lt(this,"stopDrawing",()=>{var dt,gt;return(gt=(dt=this.tools)==null?void 0:dt.current)==null?void 0:gt.stop()}),this.viewer=ot.viewer,this.config=ot.config,this.env=ot.env,this.readOnly=ot.config.readOnly,this.headless=ot.config.headless,this.formatter=ot.config.formatter,this.disableSelect=ot.disableSelect,this.drawOnSingleClick=ot.config.drawOnSingleClick,this.svg=document.createElementNS(wo,"svg"),_w?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),W_(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(wo,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const ut=()=>{const{x:dt,y:gt}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:dt,naturalHeight:gt},ot.config.crosshair&&(this.crosshair=new aw(this.g,dt,gt),Jd(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",ut),this.viewer.world.addHandler("add-item",ut),this.viewer.world.getItemAt(0)&&ut(),this.store=new vw(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var ot;const ut=this.viewer.viewport.getFlip(),dt=this.viewer.viewport.pixelFromPoint(new wt.default.Point(0,0),!0);ut&&(dt.x=this.viewer.viewport._containerInnerSize.x-dt.x);const gt=this.currentScale(),Mt=ut?-gt:gt,zt=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${dt.x}, ${dt.y}) scale(${Mt}, ${gt}) rotate(${zt})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(ot=this.tools)!=null&&ot.current.isDrawing&&this.scaleTool(this.tools.current)}}class ww extends mb{constructor(ot){super(ot),lt(this,"onDrawingComplete",ut=>{this.selectShape(ut),this.emit("createSelection",ut.annotation),this.mouseTracker.setTracking(!1)}),this._initDrawingTools()}}const fv=et=>{const ot=et.viewport.viewportToImageRectangle(et.viewport.getBounds(!0)),ut=et.viewport.getContainerSize().x,dt=et.viewport.getZoom(!0)*ut/et.world.getContentFactor();return{extent:ot,scale:dt}},xw=et=>{var ot;const ut=et.targets[0];return ut?Array.isArray(ut.selector)?ut.selector[0].type:(ot=ut.selector)==null?void 0:ot.type:null},yb=(et,ot)=>{const{extent:ut,scale:dt}=fv(et),{selector:gt}=ot,Mt=Kf.create({target:ot});if(gt.type==="SvgSelector"){const zt=og(Mt),Jt=zt.nodeName.toLowerCase();let ue=null;if(Jt==="polygon")ue=Ew(zt,ut,dt);else if(Jt==="circle")ue=Mw(zt,ut,dt);else if(Jt==="ellipse")ue=Tw(zt,ut,dt);else if(Jt==="path")ue=Sw(zt,ut,dt);else throw`Unsupported SVG shape type: ${Jt}`;let he=ue.outerHTML||new XMLSerializer().serializeToString(ue);return he=he.replace(` xmlns="${wo}"`,""),st(nt({},ot),{selector:{type:"SvgSelector",value:`<svg>${he}</svg>`}})}else if(gt.type==="FragmentSelector"){const{x:zt,y:Jt,w:ue,h:he}=tp(Mt),le=ut.x+zt/dt,Ue=ut.y+Jt/dt,tn=ue/dt,ln=he/dt;return O0(le,Ue,tn,ln)}else throw`Unsupported selector type: ${gt.type}`},Ew=(et,ot,ut)=>{const dt=Array.from(et.points).map(gt=>{const Mt=ot.x+gt.x/ut,zt=ot.y+gt.y/ut;return Mt+","+zt}).join(" ");return et.setAttribute("points",dt),et},Mw=(et,ot,ut)=>{const dt=parseFloat(et.getAttribute("cx")),gt=parseFloat(et.getAttribute("cy")),Mt=parseFloat(et.getAttribute("r"));return et.setAttribute("cx",ot.x+dt/ut),et.setAttribute("cy",ot.y+gt/ut),et.setAttribute("r",Mt/ut),et},Tw=(et,ot,ut)=>{const dt=parseFloat(et.getAttribute("cx")),gt=parseFloat(et.getAttribute("cy")),Mt=parseFloat(et.getAttribute("rx")),zt=parseFloat(et.getAttribute("ry"));return et.setAttribute("cx",ot.x+dt/ut),et.setAttribute("cy",ot.y+gt/ut),et.setAttribute("rx",Mt/ut),et.setAttribute("ry",zt/ut),et},Sw=(et,ot,ut)=>{const dt=et.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(gt=>gt.trim()).map(gt=>{const Mt=gt.substring(0,1);if(Mt.toLowerCase()==="z")return Mt;{const zt=gt.substring(1).split(" ").map(le=>parseFloat(le.trim())),Jt=Mt===Mt.toUpperCase(),ue=Jt?ot.x+zt[0]/ut:zt[0]/ut,he=Jt?ot.y+zt[1]/ut:zt[1]/ut;return Mt+" "+ue+" "+he}}).join(" ");return et.setAttribute("d",dt),et},vb=(et,ot)=>{const{extent:ut,scale:dt}=fv(et),gt=ot.selector("FragmentSelector");if(ot.selector("SvgSelector")){const Mt=og(ot),zt=Mt.nodeName.toLowerCase();let Jt=null;if(zt==="polygon")Jt=Cw(Mt,ut,dt);else if(zt==="circle")Jt=kw(Mt,ut,dt);else if(zt==="ellipse")Jt=Aw(Mt,ut,dt);else if(zt==="path")Jt=Nw(Mt,ut,dt);else throw`Unsupported SVG shape type: ${zt}`;let ue=Jt.outerHTML||new XMLSerializer().serializeToString(Jt);ue=ue.replace(` xmlns="${wo}"`,"");const he={selector:{type:"SvgSelector",value:`<svg>${ue}</svg>`}};return ot.clone({target:he})}else if(gt){const{x:Mt,y:zt,w:Jt,h:ue}=tp(ot),he=(Mt-ut.x)*dt,le=(zt-ut.y)*dt,Ue=O0(he,le,Jt*dt,ue*dt);return ot.clone({target:Ue})}},Cw=(et,ot,ut)=>{const dt=Array.from(et.points).map(gt=>{const Mt=ut*(gt.x-ot.x),zt=ut*(gt.y-ot.y);return Mt+","+zt}).join(" ");return et.setAttribute("points",dt),et},kw=(et,ot,ut)=>{const dt=et.getAttribute("cx"),gt=et.getAttribute("cy"),Mt=et.getAttribute("r");return et.setAttribute("cx",ut*(dt-ot.x)),et.setAttribute("cy",ut*(gt-ot.y)),et.setAttribute("r",Mt*ut),et},Aw=(et,ot,ut)=>{const dt=et.getAttribute("cx"),gt=et.getAttribute("cy"),Mt=et.getAttribute("rx"),zt=et.getAttribute("ry");return et.setAttribute("cx",ut*(dt-ot.x)),et.setAttribute("cy",ut*(gt-ot.y)),et.setAttribute("rx",Mt*ut),et.setAttribute("ry",zt*ut),et},Nw=(et,ot,ut)=>{const dt=et.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(gt=>gt.trim()).map(gt=>{const Mt=gt.substring(0,1);if(Mt.toLowerCase()==="z")return Mt;{const zt=gt.substring(1).split(" ").filter(le=>le).map(le=>parseFloat(le.trim())),Jt=Mt===Mt.toUpperCase(),ue=Jt?ut*(zt[0]-ot.x):ut*zt[0],he=Jt?ut*(zt[1]-ot.y):ut*zt[1];return Mt+" "+ue+" "+he}}).join(" ");return et.setAttribute("d",dt),et},bb=(et,ot)=>{const{extent:ut,scale:dt}=fv(et),gt=xw(ot.annotation);if(gt==="FragmentSelector")Dw(ot,ut,dt);else if(gt==="SvgSelector")Iw(ot,ut,dt);else throw`Unsupported selector type type: ${gt}`},Dw=(et,ot,ut)=>{const{x:dt,y:gt,w:Mt,h:zt}=tp(et.annotation),Jt=et.querySelector(".a9s-outer"),ue=et.querySelector(".a9s-inner"),he=ut*(dt-ot.x),le=ut*(gt-ot.y);Mt===0&&zt===0?[Jt,ue].forEach(Ue=>{Ue.setAttribute("cx",he),Ue.setAttribute("cy",le)}):[Jt,ue].forEach(Ue=>{Ue.setAttribute("x",he),Ue.setAttribute("y",le),Ue.setAttribute("width",Mt*ut),Ue.setAttribute("height",zt*ut)})},Iw=(et,ot,ut)=>{const dt=og(et.annotation),gt=dt.nodeName.toLowerCase();if(gt==="polygon")Lw(et,dt,ot,ut);else if(gt==="circle")Ow(et,dt,ot,ut);else if(gt==="ellipse")Pw(et,dt,ot,ut);else if(gt==="path")zw(et,dt,ot,ut);else throw`Unsupported SVG shape type: ${gt}`},Lw=(et,ot,ut,dt)=>{const gt=Array.from(ot.points).map(Mt=>{const zt=dt*(Mt.x-ut.x),Jt=dt*(Mt.y-ut.y);return zt+","+Jt}).join(" ");et.querySelector(".a9s-outer").setAttribute("points",gt),et.querySelector(".a9s-inner").setAttribute("points",gt)},Ow=(et,ot,ut,dt)=>{const gt=dt*(ot.getAttribute("cx")-ut.x),Mt=dt*(ot.getAttribute("cy")-ut.y),zt=dt*ot.getAttribute("r"),Jt=et.querySelector(".a9s-outer");Jt.setAttribute("cx",gt),Jt.setAttribute("cy",Mt),Jt.setAttribute("r",zt);const ue=et.querySelector(".a9s-inner");ue.setAttribute("cx",gt),ue.setAttribute("cy",Mt),ue.setAttribute("r",zt)},Pw=(et,ot,ut,dt)=>{const gt=dt*(ot.getAttribute("cx")-ut.x),Mt=dt*(ot.getAttribute("cy")-ut.y),zt=dt*ot.getAttribute("rx"),Jt=dt*ot.getAttribute("ry"),ue=et.querySelector(".a9s-outer");ue.setAttribute("cx",gt),ue.setAttribute("cy",Mt),ue.setAttribute("rx",zt),ue.setAttribute("ry",Jt);const he=et.querySelector(".a9s-inner");he.setAttribute("cx",gt),he.setAttribute("cy",Mt),he.setAttribute("rx",zt),he.setAttribute("ry",Jt)},zw=(et,ot,ut,dt)=>{const gt=ot.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Mt=>Mt.trim()).map(Mt=>{const zt=Mt.substring(0,1);if(zt.toLowerCase()==="z")return zt;{const Jt=Mt.substring(1).split(" ").filter(Ue=>Ue).map(Ue=>parseFloat(Ue.trim())),ue=zt===zt.toUpperCase(),he=ue?dt*(Jt[0]-ut.x):dt*Jt[0],le=ue?dt*(Jt[1]-ut.y):dt*Jt[1];return zt+" "+he+" "+le}}).join(" ");et.querySelector(".a9s-inner").setAttribute("d",gt),et.querySelector(".a9s-outer").setAttribute("d",gt)},Rw=iv();class jw extends mb{constructor(ot){super(ot),lt(this,"onDrawingComplete",ut=>{const dt=ut.annotation.clone({target:yb(this.viewer,ut.annotation.target)});ut.annotation=dt,this.selectShape(ut),this.emit("createSelection",ut.annotation),this.mouseTracker.setTracking(!1)}),lt(this,"addAnnotation",(ut,dt)=>{const gt=dt||this.g,Mt=uv(ut,this.env.image);return Jd(Mt,"a9s-annotation"),Mt.setAttribute("data-id",ut.id),Mt.annotation=ut,bb(this.viewer,Mt),gt.appendChild(Mt),O1(Mt,ut,this.formatter),Mt}),lt(this,"_getShapeAt",ut=>{const dt=ue=>{if(Rw){const he=this.svg.getBoundingClientRect(),le=ue.clientX-he.x,Ue=ue.clientY-he.y;return new wt.default.Point(le,Ue)}else return new wt.default.Point(ue.offsetX,ue.offsetY)},gt=this.viewer.viewport.viewerElementToViewportCoordinates(dt(ut)),{x:Mt,y:zt}=this.viewer.viewport.viewportToImageCoordinates(gt.x,gt.y),Jt=this.store.getAnnotationAt(Mt,zt,this.currentScale());if(Jt)return this.findShape(Jt)}),lt(this,"selectShape",(ut,dt)=>{var gt;if(!dt&&!ut.annotation.isSelection&&this.emit("clickAnnotation",ut.annotation,ut),((gt=this.selectedShape)==null?void 0:gt.annotation)===ut.annotation)return;this.selectedShape&&this.selectedShape.annotation!==ut.annotation&&this.deselect(!0);const{annotation:Mt}=ut;if(this.readOnly||Mt.readOnly||this.headless)this.selectedShape=ut,dt||this.emit("select",{annotation:Mt,element:ut,skipEvent:dt});else{setTimeout(()=>{ut.parentNode.removeChild(ut),dt||this.emit("select",{annotation:Mt,element:this.selectedShape.element})},1);const zt=this.tools.forAnnotation(Mt);this.selectedShape=zt.createEditableShape(Mt),this.selectedShape.element.annotation=Mt;const Jt=vb(this.viewer,Mt);this.selectedShape.updateState(Jt);const ue=new wt.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",he=>ue.setTracking(!0)),this.selectedShape.element.addEventListener("mouseleave",he=>ue.setTracking(!1)),this.selectedShape.mouseTracker=ue,this.selectedShape.on("update",he=>{const le=yb(this.viewer,he);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:le}),this.emit("updateTarget",this.selectedShape.element,le)})}}),this._initDrawingTools(!0)}resize(){const ot=this.viewer.viewport.getBounds(!0),{x:ut,y:dt,width:gt,height:Mt}=this.viewer.viewport.viewportToImageRectangle(ot),zt={minX:ut,minY:dt,maxX:ut+gt,maxY:dt+Mt},Jt=new Set(this.store.getAnnotationsIntersecting(zt).map(ue=>ue.id));if(Jt.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(ue=>{Jt.has(ue.annotation.id)?(ue.removeAttribute("visibility"),bb(this.viewer,ue)):ue.hasAttribute("visibility")||ue.setAttribute("visibility","hidden")}),this.selectedShape)if(this.selectedShape.element){const ue=vb(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(ue),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class Bw extends Pt{constructor(ot){super(ot),lt(this,"clearState",ut=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},ut)),lt(this,"forwardEvent",(ut,dt)=>{this.annotationLayer.on(ut,(gt,Mt)=>{this.props[dt](gt.clone(),Mt)})}),lt(this,"escapeKeyCancel",ut=>{if(ut.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:dt}=this.state;dt&&(this.cancelSelected(),this.props.onCancelSelected(dt))}}),lt(this,"handleStartSelect",ut=>this.props.onSelectionStarted(ut)),lt(this,"handleSelect",(ut,dt)=>{this.state.editorDisabled?this.onHeadlessSelect(ut,dt):this.onNormalSelect(ut,dt)}),lt(this,"onNormalSelect",(ut,dt)=>{const{annotation:gt,element:Mt}=ut;if(gt){const zt=()=>{this.setState({selectedAnnotation:gt,selectedDOMElement:Mt,modifiedTarget:null},()=>{dt||(gt.isSelection?this.props.onSelectionCreated(gt.clone()):this.props.onAnnotationSelected(gt.clone(),Mt))})},{selectedAnnotation:Jt}=this.state;Jt&&!Jt.isEqual(gt)?this.clearState(()=>{this.props.onCancelSelected(Jt),zt()}):zt()}else{const{selectedAnnotation:zt}=this.state;zt?this.clearState(()=>this.props.onCancelSelected(zt)):this.clearState()}}),lt(this,"onHeadlessSelect",(ut,dt)=>{this.saveSelected().then(()=>{this.onNormalSelect(ut,dt)})}),lt(this,"handleUpdateTarget",(ut,dt)=>{this.setState({selectedDOMElement:ut,modifiedTarget:dt});const gt=JSON.parse(JSON.stringify(dt));this.props.onSelectionTargetChanged(gt)}),lt(this,"handleViewportChange",ut=>this.setState({selectedDOMElement:ut})),lt(this,"overrideAnnotationId",ut=>dt=>{const{id:gt}=ut;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(gt,dt)}):this.annotationLayer.overrideId(gt,dt)}),lt(this,"onCreateOrUpdateAnnotation",(ut,dt)=>(gt,Mt)=>{let zt=gt.isSelection?gt.toAnnotation():gt;zt=this.state.modifiedTarget?zt.clone({target:this.state.modifiedTarget}):zt.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(zt,Mt),Mt?this.props[ut](zt,Mt.clone()):this.props[ut](zt,this.overrideAnnotationId(gt)),dt&&dt()})}),lt(this,"onDeleteAnnotation",ut=>{this.clearState(),this.annotationLayer.removeAnnotation(ut),this.props.onAnnotationDeleted(ut)}),lt(this,"onCancelAnnotation",(ut,dt)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(ut),this.clearState(dt)}),lt(this,"addAnnotation",ut=>{var dt;ut.id===((dt=this.state.selectedAnnotation)==null?void 0:dt.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(ut.clone())}),lt(this,"addDrawingTool",ut=>this.annotationLayer.addDrawingTool(ut)),lt(this,"cancelSelected",()=>new Promise(ut=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(ut):ut()})),lt(this,"fitBounds",(ut,dt)=>this.annotationLayer.fitBounds(ut,dt)),lt(this,"getAnnotationById",ut=>{var dt;return(dt=this.annotationLayer.findShape(ut))==null?void 0:dt.annotation}),lt(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(ut=>ut.clone())),lt(this,"getSelected",()=>{var ut;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(ut=this._editor.current)==null?void 0:ut.getCurrentAnnotation()}),lt(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),lt(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),lt(this,"panTo",(ut,dt)=>this.annotationLayer.panTo(ut,dt)),lt(this,"removeAnnotation",ut=>this.annotationLayer.removeAnnotation(ut)),lt(this,"removeDrawingTool",ut=>this.annotationLayer.removeDrawingTool(ut)),lt(this,"saveSelected",()=>new Promise(ut=>{const dt=this.state.selectedAnnotation;if(dt)if(dt.isSelection)dt.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",ut)(dt,dt):(this.annotationLayer.deselect(),ut());else{const{beforeHeadlessModify:gt,modifiedTarget:Mt}=this.state;gt?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",ut)(dt,gt):Mt?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",ut)(dt,dt):this.onCancelAnnotation(dt,ut)}else ut()})),lt(this,"selectAnnotation",ut=>{const dt=this.annotationLayer.selectAnnotation(ut,!0);if(dt)return this.handleSelect(dt,!0),dt.annotation.clone();this.clearState()}),lt(this,"setAnnotations",ut=>this.annotationLayer.init(ut.map(dt=>dt.clone()))),lt(this,"setDrawingEnabled",ut=>this.annotationLayer.setDrawingEnabled(ut)),lt(this,"setDrawingTool",ut=>this.annotationLayer.setDrawingTool(ut)),lt(this,"setVisible",ut=>{this.annotationLayer.setVisible(ut),ut||this.clearState()}),lt(this,"updateSelected",(ut,dt)=>new Promise(gt=>{this.state.selectedAnnotation&&(dt?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",gt)(ut):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",gt)(ut,this.state.selectedAnnotation):this.setState({selectedAnnotation:ut,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},gt))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:ot.config.readOnly,editorDisabled:ot.config.disableEditor,widgets:ot.config.widgets,beforeHeadlessModify:null},this._editor=ur.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new jw(this.props):new ww(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(ot){this.setState({editorDisabled:ot},()=>{ot?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(ot){this.annotationLayer.disableSelect=ot}get readOnly(){return this.state.readOnly}set readOnly(ot){this.annotationLayer.readOnly=ot,this.setState({readOnly:ot})}get widgets(){return this.state.widgets}set widgets(ot){this.setState({widgets:ot})}render(){var ot;const ut=this.state.selectedAnnotation&&!this.state.editorDisabled,dt=this.state.readOnly||((ot=this.state.selectedAnnotation)==null?void 0:ot.readOnly);return ut&&Dt(I_,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:dt,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class $w{constructor(ot,ut){lt(this,"handleAnnotationCreated",(gt,Mt)=>this._emitter.emit("createAnnotation",gt.underlying,Mt)),lt(this,"handleAnnotationDeleted",gt=>this._emitter.emit("deleteAnnotation",gt.underlying)),lt(this,"handleAnnotationSelected",(gt,Mt)=>this._emitter.emit("selectAnnotation",gt.underlying,Mt)),lt(this,"handleAnnotationUpdated",(gt,Mt)=>this._emitter.emit("updateAnnotation",gt.underlying,Mt.underlying)),lt(this,"handleCancelSelected",gt=>this._emitter.emit("cancelSelected",gt.underlying)),lt(this,"handleClickAnnotation",(gt,Mt)=>this._emitter.emit("clickAnnotation",gt.underlying,Mt)),lt(this,"handleSelectionCreated",gt=>this._emitter.emit("createSelection",gt.underlying)),lt(this,"handleSelectionStarted",gt=>this._emitter.emit("startSelection",gt)),lt(this,"handleSelectionTargetChanged",gt=>this._emitter.emit("changeSelectionTarget",gt)),lt(this,"handleMouseEnterAnnotation",(gt,Mt)=>this._emitter.emit("mouseEnterAnnotation",gt.underlying,Mt)),lt(this,"handleMouseLeaveAnnotation",(gt,Mt)=>this._emitter.emit("mouseLeaveAnnotation",gt.underlying,Mt)),lt(this,"_wrap",gt=>(gt==null?void 0:gt.type)==="Annotation"?new Kf(gt):gt),lt(this,"addAnnotation",gt=>this._app.current.addAnnotation(new Kf(gt))),lt(this,"addDrawingTool",gt=>this._app.current.addDrawingTool(gt)),lt(this,"cancelSelected",()=>this._app.current.cancelSelected()),lt(this,"clearAnnotations",()=>this.setAnnotations([])),lt(this,"clearAuthInfo",()=>this._env.user=null),lt(this,"destroy",()=>ur.unmountComponentAtNode(this.appContainerEl)),lt(this,"fitBounds",(gt,Mt)=>this._app.current.fitBounds(this._wrap(gt),Mt)),lt(this,"getAnnotationById",gt=>{const Mt=this._app.current.getAnnotationById(gt);return Mt==null?void 0:Mt.underlying}),lt(this,"getAnnotations",()=>this._app.current.getAnnotations().map(gt=>gt.underlying)),lt(this,"getSelected",()=>{const gt=this._app.current.getSelected();return gt==null?void 0:gt.underlying}),lt(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),lt(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),lt(this,"loadAnnotations",gt=>fetch(gt).then(Mt=>Mt.json()).then(Mt=>(this.setAnnotations(Mt),Mt))),lt(this,"off",(gt,Mt)=>this._emitter.off(gt,Mt)),lt(this,"on",(gt,Mt)=>this._emitter.on(gt,Mt)),lt(this,"once",(gt,Mt)=>this._emitter.once(gt,Mt)),lt(this,"panTo",(gt,Mt)=>this._app.current.panTo(this._wrap(gt),Mt)),lt(this,"removeAnnotation",gt=>this._app.current.removeAnnotation(this._wrap(gt))),lt(this,"removeDrawingTool",gt=>this._app.current.removeDrawingTool(gt)),lt(this,"saveSelected",()=>this._app.current.saveSelected()),lt(this,"selectAnnotation",gt=>{const Mt=this._app.current.selectAnnotation(this._wrap(gt));return Mt==null?void 0:Mt.underlying}),lt(this,"setAnnotations",gt=>{const Mt=(gt||[]).map(zt=>new Kf(zt));this._app.current.setAnnotations(Mt)}),lt(this,"setAuthInfo",gt=>this._env.user=gt),lt(this,"setDrawingEnabled",gt=>this._app.current.setDrawingEnabled(gt)),lt(this,"setDrawingTool",gt=>this._app.current.setDrawingTool(gt)),lt(this,"setServerTime",gt=>this._env.setServerTime(gt)),lt(this,"setVisible",gt=>this._app.current.setVisible(gt)),lt(this,"updateSelected",(gt,Mt)=>{let zt=null;gt.type==="Annotation"?zt=new Kf(gt):gt.type==="Selection"&&(zt=new L0(gt.target,gt.body)),zt&&this._app.current.updateSelected(zt,Mt)});const dt=ut||{};this._app=ur.createRef(),this._emitter=new Es,this._env=B_(),this._element=ot.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),$_(dt.locale,dt.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),ur.render(Dt(Bw,{ref:this._app,viewer:ot,wrapperEl:this._element,config:dt,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(ot){this._app.current.disableEditor=ot}get disableSelect(){return this._app.current.disableSelect}set disableSelect(ot){this._app.current.disableSelect=ot}get readOnly(){return this._app.current.readOnly}set readOnly(ot){this._app.current.readOnly=ot}get widgets(){return this._app.current.widgets}set widgets(ot){this._app.current.widgets=ot}}var Fw=(et,ot)=>new $w(et,ot);return Fw})})(openseadragonAnnotorious_min);var openseadragonAnnotorious_minExports=openseadragonAnnotorious_min.exports;const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_minExports);class Annotator{constructor(O,z="",F=!0){this.ref="main",this.imageId="",this.sha="",this.visible=!1,this.ghAuthToken="",this.selected=null,this.osd=O,this.base=z;let[Y,W,...q]=this.base.split("/");this.acct=Y,this.repo=W,this.basePath=q.join("/"),this.annotorious=Annotorious(O,{readOnly:!F}),this.annotorious.on("createAnnotation",async X=>this.createAnnotation(X)),this.annotorious.on("updateAnnotation",async X=>this.updateAnnotation(X)),this.annotorious.on("deleteAnnotation",async X=>this.deleteAnnotation(X)),this.annotorious.on("selectAnnotation",async X=>this.onSelect(X)),this.setVisible(!0),this.ghAuthToken=localStorage.getItem("gh-auth-token")||"",this.ghAuthToken&&(this.ghClient=new GithubClient(this.ghAuthToken))}async loadAnnotations(O){this.imageId=O,this.setVisible(!1);let z=[],F=await this.ghClient.getFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,this.ref);return F.content&&(z=JSON.parse(F.content),this.sha=F.sha),console.log(`Adding ${z.length} annotations`),this.annotorious.setAnnotations(z),this.annotorious.readOnly&&z.forEach(Y=>{let W=this.annoEl(Y.id);W&&(W.addEventListener("mouseenter",()=>this.select(Y.id)),W.addEventListener("mouseleave",()=>this.deselect()),W.addEventListener("click",()=>navigator.clipboard.writeText(Y.id)))}),z}setVisible(O){if(this.selected)this.deselect();else{this.visible=O;let z=this.osd.element.querySelector(".a9s-annotationlayer");z&&(z.style.visibility=this.visible?"visible":"hidden"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(F=>F.style.visibility=this.visible?"visible":"hidden")}}toggleVisibility(O){O&&O.stopPropagation(),this.setVisible(!this.visible)}onSelect(O){this.selected=O.id,navigator.clipboard&&navigator.clipboard.writeText(this.selected)}annoEl(O){return this.osd.element.querySelector(`[data-id="${O}"]`)}select(O){var z;if(O!==((z=this.selected)==null?void 0:z.id)){if(this.deselect(),this.selected=this.annotorious.selectAnnotation(O),this.selected){let F=this.annoEl(O);F&&(F.style.visibility="visible");let Y=this.osd.element.querySelector(".a9s-annotation.selected");Y&&(Y.style.visibility="visible")}}else this.deselect()}deselect(){Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(O=>O.style.visibility=this.visible?"visible":"hidden"),this.annotorious.selectAnnotation(),this.selected=void 0}async saveAnnotations(){let O=JSON.stringify(this.annotorious.getAnnotations(),null,2);await this.ghClient.putFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,O,this.ref,!1,this.sha)}async createAnnotation(O){O.id=sha256(O.id).slice(0,8),O.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(O.id)}async updateAnnotation(O){O.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(O.id)}async deleteAnnotation(O){this.saveAnnotations()}}var badge_styles_default=i$5`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    -webkit-user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,SlBadge=class extends ShoelaceElement{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return x$1`
      <span
        part="base"
        class=${e$2({badge:!0,"badge--primary":this.variant==="primary","badge--success":this.variant==="success","badge--neutral":this.variant==="neutral","badge--warning":this.variant==="warning","badge--danger":this.variant==="danger","badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      >
        <slot></slot>
      </span>
    `}};SlBadge.styles=badge_styles_default;__decorateClass([n$3({reflect:!0})],SlBadge.prototype,"variant",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlBadge.prototype,"pill",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlBadge.prototype,"pulse",2);SlBadge.define("sl-badge");var spinner_styles_default=i$5`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.01em, 2.75em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.01em, 2.75em;
    }
  }
`,SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this)}render(){return x$1`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;var button_styles_default=i$5`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$1=Symbol.for(""),o$3=D=>{if((D==null?void 0:D.r)===e$1)return D==null?void 0:D._$litStatic$},s=(D,...O)=>({_$litStatic$:O.reduce((z,F,Y)=>z+(W=>{if(W._$litStatic$!==void 0)return W._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${W}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(F)+D[Y+1],D[0]),r:e$1}),a=new Map,l=D=>(O,...z)=>{const F=z.length;let Y,W;const q=[],X=[];let tt,nt=0,st=!1;for(;nt<F;){for(tt=O[nt];nt<F&&(W=z[nt],(Y=o$3(W))!==void 0);)tt+=Y+O[++nt],st=!0;nt!==F&&X.push(W),q.push(tt),nt++}if(nt===F&&q.push(O[F]),st){const ct=q.join("$$lit$$");(O=a.get(ct))===void 0&&(q.raw=q,a.set(ct,O=q)),z=X}return D(O,...z)},n$2=l(x$1);var SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formControlController=new FormControlController(this,{form:D=>{if(D.hasAttribute("form")){const O=D.getRootNode(),z=D.getAttribute("form");return O.getElementById(z)}return D.closest("form")},assumeInteractionOn:["click"]}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:validValidityState}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(D){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(D)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(D){this.button.focus(D)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(D){this.isButton()&&(this.button.setCustomValidity(D),this.formControlController.updateValidity())}render(){const D=this.isLink(),O=D?s`a`:s`button`;return n$2`
      <${O}
        part="base"
        class=${e$2({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${o$4(D?void 0:this.disabled)}
        type=${o$4(D?void 0:this.type)}
        title=${this.title}
        name=${o$4(D?void 0:this.name)}
        value=${o$4(D?void 0:this.value)}
        href=${o$4(D?this.href:void 0)}
        target=${o$4(D?this.target:void 0)}
        download=${o$4(D?this.download:void 0)}
        rel=${o$4(D?this.rel:void 0)}
        role=${o$4(D?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?n$2` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?n$2`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${O}>
    `}};SlButton.styles=button_styles_default;SlButton.dependencies={"sl-icon":SlIcon,"sl-spinner":SlSpinner};__decorateClass([e$5(".button")],SlButton.prototype,"button",2);__decorateClass([r$2()],SlButton.prototype,"hasFocus",2);__decorateClass([r$2()],SlButton.prototype,"invalid",2);__decorateClass([n$3()],SlButton.prototype,"title",2);__decorateClass([n$3({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass([n$3({reflect:!0})],SlButton.prototype,"size",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass([n$3()],SlButton.prototype,"type",2);__decorateClass([n$3()],SlButton.prototype,"name",2);__decorateClass([n$3()],SlButton.prototype,"value",2);__decorateClass([n$3()],SlButton.prototype,"href",2);__decorateClass([n$3()],SlButton.prototype,"target",2);__decorateClass([n$3()],SlButton.prototype,"rel",2);__decorateClass([n$3()],SlButton.prototype,"download",2);__decorateClass([n$3()],SlButton.prototype,"form",2);__decorateClass([n$3({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass([n$3({attribute:"formenctype"})],SlButton.prototype,"formEnctype",2);__decorateClass([n$3({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass([n$3({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass([n$3({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlButton.prototype,"handleDisabledChange",1);SlButton.define("sl-button");function isTakingUpSpace(D){return!!(D.offsetParent||D.offsetWidth||D.offsetHeight||D.getClientRects().length)}function isTabbable(D){const O=D.tagName.toLowerCase();return D.getAttribute("tabindex")==="-1"||D.hasAttribute("disabled")||O==="input"&&D.getAttribute("type")==="radio"&&!D.hasAttribute("checked")||!isTakingUpSpace(D)||window.getComputedStyle(D).visibility==="hidden"?!1:(O==="audio"||O==="video")&&D.hasAttribute("controls")||D.hasAttribute("tabindex")||D.hasAttribute("contenteditable")&&D.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(O)}function getTabbableElements(D){const O=[];function z(F){if(F instanceof Element){if(F.hasAttribute("inert"))return;!O.includes(F)&&isTabbable(F)&&O.push(F);const Y=W=>{var q;return((q=W.getRootNode({composed:!0}))==null?void 0:q.host)!==D};F instanceof HTMLSlotElement&&Y(F)&&F.assignedElements({flatten:!0}).forEach(W=>{z(W)}),F.shadowRoot!==null&&F.shadowRoot.mode==="open"&&z(F.shadowRoot)}[...F.children].forEach(Y=>z(Y))}return z(D),O.sort((F,Y)=>{const W=Number(F.getAttribute("tabindex"))||0;return(Number(Y.getAttribute("tabindex"))||0)-W})}function*activeElements(D=document.activeElement){D!=null&&(yield D,"shadowRoot"in D&&D.shadowRoot&&D.shadowRoot.mode!=="closed"&&(yield*__yieldStar(activeElements(D.shadowRoot.activeElement))))}function getDeepestActiveElement(){return[...activeElements()].pop()}var activeModals=[],Modal$1=class{constructor(O){this.tabDirection="forward",this.handleFocusIn=()=>{this.checkFocus()},this.handleKeyDown=z=>{var F,Y;if(z.key!=="Tab"||this.isExternalActivated)return;z.shiftKey?this.tabDirection="backward":this.tabDirection="forward",z.preventDefault();const W=getTabbableElements(this.element),q=getDeepestActiveElement();let X=W.findIndex(nt=>nt===q);if(X===-1){this.currentFocus=W[0],(F=this.currentFocus)==null||F.focus({preventScroll:!0});return}const tt=this.tabDirection==="forward"?1:-1;X+tt>=W.length?X=0:X+tt<0?X=W.length-1:X+=tt,this.currentFocus=W[X],(Y=this.currentFocus)==null||Y.focus({preventScroll:!0}),setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=O}activate(){activeModals.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){activeModals=activeModals.filter(O=>O!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return activeModals[activeModals.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const O=getTabbableElements(this.element);if(!this.element.matches(":focus-within")){const z=O[0],F=O[O.length-1],Y=this.tabDirection==="forward"?z:F;typeof(Y==null?void 0:Y.focus)=="function"&&(this.currentFocus=Y,Y.focus({preventScroll:!0}))}}}},locks=new Set;function getScrollbarWidth(){const D=document.documentElement.clientWidth;return Math.abs(window.innerWidth-D)}function lockBodyScrolling(D){if(locks.add(D),!document.body.classList.contains("sl-scroll-lock")){const O=getScrollbarWidth();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${O}px`)}}function unlockBodyScrolling(D){locks.delete(D),locks.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}var dialog_styles_default=i$5`
  ${component_styles_default}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,icon_button_styles_default=i$5`
  ${component_styles_default}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,SlIconButton=class extends ShoelaceElement{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(D){this.disabled&&(D.preventDefault(),D.stopPropagation())}click(){this.button.click()}focus(D){this.button.focus(D)}blur(){this.button.blur()}render(){const D=!!this.href,O=D?s`a`:s`button`;return n$2`
      <${O}
        part="base"
        class=${e$2({"icon-button":!0,"icon-button--disabled":!D&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${o$4(D?void 0:this.disabled)}
        type=${o$4(D?void 0:"button")}
        href=${o$4(D?this.href:void 0)}
        target=${o$4(D?this.target:void 0)}
        download=${o$4(D?this.download:void 0)}
        rel=${o$4(D&&this.target?"noreferrer noopener":void 0)}
        role=${o$4(D?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${o$4(this.name)}
          library=${o$4(this.library)}
          src=${o$4(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${O}>
    `}};SlIconButton.styles=icon_button_styles_default;SlIconButton.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".icon-button")],SlIconButton.prototype,"button",2);__decorateClass([r$2()],SlIconButton.prototype,"hasFocus",2);__decorateClass([n$3()],SlIconButton.prototype,"name",2);__decorateClass([n$3()],SlIconButton.prototype,"library",2);__decorateClass([n$3()],SlIconButton.prototype,"src",2);__decorateClass([n$3()],SlIconButton.prototype,"href",2);__decorateClass([n$3()],SlIconButton.prototype,"target",2);__decorateClass([n$3()],SlIconButton.prototype,"download",2);__decorateClass([n$3()],SlIconButton.prototype,"label",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlIconButton.prototype,"disabled",2);var defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(D){return D??{keyframes:[],options:{duration:0}}}function getLogicalAnimation(D,O){return O.toLowerCase()==="rtl"?{keyframes:D.rtlKeyframes||D.keyframes,options:D.options}:D}function setDefaultAnimation(D,O){defaultAnimationRegistry.set(D,ensureAnimation(O))}function getAnimation(D,O,z){const F=customAnimationRegistry.get(D);if(F!=null&&F[O])return getLogicalAnimation(F[O],z.dir);const Y=defaultAnimationRegistry.get(O);return Y?getLogicalAnimation(Y,z.dir):{keyframes:[],options:{duration:0}}}function waitForEvent(D,O){return new Promise(z=>{function F(Y){Y.target===D&&(D.removeEventListener(O,F),z())}D.addEventListener(O,F)})}function animateTo(D,O,z){return new Promise(F=>{if((z==null?void 0:z.duration)===1/0)throw new Error("Promise-based animations must be finite.");const Y=D.animate(O,__spreadProps(__spreadValues({},z),{duration:prefersReducedMotion()?0:z.duration}));Y.addEventListener("cancel",F,{once:!0}),Y.addEventListener("finish",F,{once:!0})})}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(D){return Promise.all(D.getAnimations().map(O=>new Promise(z=>{const F=requestAnimationFrame(z);O.addEventListener("cancel",()=>F,{once:!0}),O.addEventListener("finish",()=>F,{once:!0}),O.cancel()})))}var SlDialog=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController(this),this.modal=new Modal$1(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=D=>{D.key==="Escape"&&this.modal.isActive()&&this.open&&(D.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),lockBodyScrolling(this))}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate(),unlockBodyScrolling(this)}requestClose(D){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:D}}).defaultPrevented){const z=getAnimation(this,"dialog.denyClose",{dir:this.localize.dir()});animateTo(this.panel,z.keyframes,z.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),lockBodyScrolling(this);const D=this.querySelector("[autofocus]");D&&D.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(D?D.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),D&&D.setAttribute("autofocus","")});const O=getAnimation(this,"dialog.show",{dir:this.localize.dir()}),z=getAnimation(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,O.keyframes,O.options),animateTo(this.overlay,z.keyframes,z.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]);const D=getAnimation(this,"dialog.hide",{dir:this.localize.dir()}),O=getAnimation(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,O.keyframes,O.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,D.keyframes,D.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,unlockBodyScrolling(this);const z=this.originalTrigger;typeof(z==null?void 0:z.focus)=="function"&&setTimeout(()=>z.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x$1`
      <div
        part="base"
        class=${e$2({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${o$4(this.noHeader?this.label:void 0)}
          aria-labelledby=${o$4(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":x$1`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <slot part="body" class="dialog__body" tabindex="-1"></slot>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDialog.styles=dialog_styles_default;SlDialog.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".dialog")],SlDialog.prototype,"dialog",2);__decorateClass([e$5(".dialog__panel")],SlDialog.prototype,"panel",2);__decorateClass([e$5(".dialog__overlay")],SlDialog.prototype,"overlay",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlDialog.prototype,"open",2);__decorateClass([n$3({reflect:!0})],SlDialog.prototype,"label",2);__decorateClass([n$3({attribute:"no-header",type:Boolean,reflect:!0})],SlDialog.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDialog.prototype,"handleOpenChange",1);setDefaultAnimation("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});SlDialog.define("sl-dialog");SlIconButton.define("sl-icon-button");var image_comparer_styles_default=i$5`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(D,O){function z(Y){const W=D.getBoundingClientRect(),q=D.ownerDocument.defaultView,X=W.left+q.pageXOffset,tt=W.top+q.pageYOffset,nt=Y.pageX-X,st=Y.pageY-tt;O!=null&&O.onMove&&O.onMove(nt,st)}function F(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",F),O!=null&&O.onStop&&O.onStop()}document.addEventListener("pointermove",z,{passive:!0}),document.addEventListener("pointerup",F),(O==null?void 0:O.initialEvent)instanceof PointerEvent&&z(O.initialEvent)}function clamp$1(D,O,z){const F=Y=>Object.is(Y,-0)?0:Y;return D<O?F(O):D>z?F(z):F(D)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n$1="important",i$1=" !"+n$1,o$2=e$3(class extends i$2{constructor(D){var O;if(super(D),D.type!==t$2.ATTRIBUTE||D.name!=="style"||((O=D.strings)==null?void 0:O.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(D){return Object.keys(D).reduce((O,z)=>{const F=D[z];return F==null?O:O+`${z=z.includes("-")?z:z.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${F};`},"")}update(D,[O]){const{style:z}=D.element;if(this.ut===void 0)return this.ut=new Set(Object.keys(O)),this.render(O);for(const F of this.ut)O[F]==null&&(this.ut.delete(F),F.includes("-")?z.removeProperty(F):z[F]=null);for(const F in O){const Y=O[F];if(Y!=null){this.ut.add(F);const W=typeof Y=="string"&&Y.endsWith(i$1);F.includes("-")||W?z.setProperty(F,W?Y.slice(0,-11):Y,W?n$1:""):z[F]=Y}}return w$1}});var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.position=50}handleDrag(D){const{width:O}=this.base.getBoundingClientRect(),z=this.localize.dir()==="rtl";D.preventDefault(),drag(this.base,{onMove:F=>{this.position=parseFloat(clamp$1(F/O*100,0,100).toFixed(2)),z&&(this.position=100-this.position)},initialEvent:D})}handleKeyDown(D){const O=this.localize.dir()==="ltr",z=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(D.key)){const F=D.shiftKey?10:1;let Y=this.position;D.preventDefault(),(O&&D.key==="ArrowLeft"||z&&D.key==="ArrowRight")&&(Y-=F),(O&&D.key==="ArrowRight"||z&&D.key==="ArrowLeft")&&(Y+=F),D.key==="Home"&&(Y=0),D.key==="End"&&(Y=100),Y=clamp$1(Y,0,100),this.position=Y}}handlePositionChange(){this.emit("sl-change")}render(){const D=this.localize.dir()==="rtl";return x$1`
      <div
        part="base"
        id="image-comparer"
        class=${e$2({"image-comparer":!0,"image-comparer--rtl":D})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <div part="before" class="image-comparer__before">
            <slot name="before"></slot>
          </div>

          <div
            part="after"
            class="image-comparer__after"
            style=${o$2({clipPath:D?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          >
            <slot name="after"></slot>
          </div>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${o$2({left:D?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <div
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <slot name="handle">
              <sl-icon library="system" name="grip-vertical"></sl-icon>
            </slot>
          </div>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;SlImageComparer.scopedElement={"sl-icon":SlIcon};__decorateClass([e$5(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([e$5(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([n$3({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer.define("sl-image-comparer");var popup_styles_default=i$5`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`;const min$3=Math.min,max$3=Math.max,round=Math.round,floor=Math.floor,createCoords=D=>({x:D,y:D}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(D,O,z){return max$3(D,min$3(O,z))}function evaluate$1(D,O){return typeof D=="function"?D(O):D}function getSide(D){return D.split("-")[0]}function getAlignment(D){return D.split("-")[1]}function getOppositeAxis(D){return D==="x"?"y":"x"}function getAxisLength(D){return D==="y"?"height":"width"}function getSideAxis(D){return["top","bottom"].includes(getSide(D))?"y":"x"}function getAlignmentAxis(D){return getOppositeAxis(getSideAxis(D))}function getAlignmentSides(D,O,z){z===void 0&&(z=!1);const F=getAlignment(D),Y=getAlignmentAxis(D),W=getAxisLength(Y);let q=Y==="x"?F===(z?"end":"start")?"right":"left":F==="start"?"bottom":"top";return O.reference[W]>O.floating[W]&&(q=getOppositePlacement(q)),[q,getOppositePlacement(q)]}function getExpandedPlacements(D){const O=getOppositePlacement(D);return[getOppositeAlignmentPlacement(D),O,getOppositeAlignmentPlacement(O)]}function getOppositeAlignmentPlacement(D){return D.replace(/start|end/g,O=>oppositeAlignmentMap[O])}function getSideList(D,O,z){const F=["left","right"],Y=["right","left"],W=["top","bottom"],q=["bottom","top"];switch(D){case"top":case"bottom":return z?O?Y:F:O?F:Y;case"left":case"right":return O?W:q;default:return[]}}function getOppositeAxisPlacements(D,O,z,F){const Y=getAlignment(D);let W=getSideList(getSide(D),z==="start",F);return Y&&(W=W.map(q=>q+"-"+Y),O&&(W=W.concat(W.map(getOppositeAlignmentPlacement)))),W}function getOppositePlacement(D){return D.replace(/left|right|bottom|top/g,O=>oppositeSideMap[O])}function expandPaddingObject(D){return{top:0,right:0,bottom:0,left:0,...D}}function getPaddingObject(D){return typeof D!="number"?expandPaddingObject(D):{top:D,right:D,bottom:D,left:D}}function rectToClientRect(D){return{...D,top:D.y,left:D.x,right:D.x+D.width,bottom:D.y+D.height}}function computeCoordsFromPlacement(D,O,z){let{reference:F,floating:Y}=D;const W=getSideAxis(O),q=getAlignmentAxis(O),X=getAxisLength(q),tt=getSide(O),nt=W==="y",st=F.x+F.width/2-Y.width/2,ct=F.y+F.height/2-Y.height/2,lt=F[X]/2-Y[X]/2;let ht;switch(tt){case"top":ht={x:st,y:F.y-Y.height};break;case"bottom":ht={x:st,y:F.y+F.height};break;case"right":ht={x:F.x+F.width,y:ct};break;case"left":ht={x:F.x-Y.width,y:ct};break;default:ht={x:F.x,y:F.y}}switch(getAlignment(O)){case"start":ht[q]-=lt*(z&&nt?-1:1);break;case"end":ht[q]+=lt*(z&&nt?-1:1);break}return ht}const computePosition$1=async(D,O,z)=>{const{placement:F="bottom",strategy:Y="absolute",middleware:W=[],platform:q}=z,X=W.filter(Boolean),tt=await(q.isRTL==null?void 0:q.isRTL(O));let nt=await q.getElementRects({reference:D,floating:O,strategy:Y}),{x:st,y:ct}=computeCoordsFromPlacement(nt,F,tt),lt=F,ht={},bt=0;for(let wt=0;wt<X.length;wt++){const{name:mt,fn:_t}=X[wt],{x:Et,y:At,data:Ct,reset:Ft}=await _t({x:st,y:ct,initialPlacement:F,placement:lt,strategy:Y,middlewareData:ht,rects:nt,platform:q,elements:{reference:D,floating:O}});if(st=Et??st,ct=At??ct,ht={...ht,[mt]:{...ht[mt],...Ct}},Ft&&bt<=50){bt++,typeof Ft=="object"&&(Ft.placement&&(lt=Ft.placement),Ft.rects&&(nt=Ft.rects===!0?await q.getElementRects({reference:D,floating:O,strategy:Y}):Ft.rects),{x:st,y:ct}=computeCoordsFromPlacement(nt,lt,tt)),wt=-1;continue}}return{x:st,y:ct,placement:lt,strategy:Y,middlewareData:ht}};async function detectOverflow(D,O){var z;O===void 0&&(O={});const{x:F,y:Y,platform:W,rects:q,elements:X,strategy:tt}=D,{boundary:nt="clippingAncestors",rootBoundary:st="viewport",elementContext:ct="floating",altBoundary:lt=!1,padding:ht=0}=evaluate$1(O,D),bt=getPaddingObject(ht),mt=X[lt?ct==="floating"?"reference":"floating":ct],_t=rectToClientRect(await W.getClippingRect({element:(z=await(W.isElement==null?void 0:W.isElement(mt)))==null||z?mt:mt.contextElement||await(W.getDocumentElement==null?void 0:W.getDocumentElement(X.floating)),boundary:nt,rootBoundary:st,strategy:tt})),Et=ct==="floating"?{...q.floating,x:F,y:Y}:q.reference,At=await(W.getOffsetParent==null?void 0:W.getOffsetParent(X.floating)),Ct=await(W.isElement==null?void 0:W.isElement(At))?await(W.getScale==null?void 0:W.getScale(At))||{x:1,y:1}:{x:1,y:1},Ft=rectToClientRect(W.convertOffsetParentRelativeRectToViewportRelativeRect?await W.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Et,offsetParent:At,strategy:tt}):Et);return{top:(_t.top-Ft.top+bt.top)/Ct.y,bottom:(Ft.bottom-_t.bottom+bt.bottom)/Ct.y,left:(_t.left-Ft.left+bt.left)/Ct.x,right:(Ft.right-_t.right+bt.right)/Ct.x}}const arrow=D=>({name:"arrow",options:D,async fn(O){const{x:z,y:F,placement:Y,rects:W,platform:q,elements:X,middlewareData:tt}=O,{element:nt,padding:st=0}=evaluate$1(D,O)||{};if(nt==null)return{};const ct=getPaddingObject(st),lt={x:z,y:F},ht=getAlignmentAxis(Y),bt=getAxisLength(ht),wt=await q.getDimensions(nt),mt=ht==="y",_t=mt?"top":"left",Et=mt?"bottom":"right",At=mt?"clientHeight":"clientWidth",Ct=W.reference[bt]+W.reference[ht]-lt[ht]-W.floating[bt],Ft=lt[ht]-W.reference[ht],Lt=await(q.getOffsetParent==null?void 0:q.getOffsetParent(nt));let Yt=Lt?Lt[At]:0;(!Yt||!await(q.isElement==null?void 0:q.isElement(Lt)))&&(Yt=X.floating[At]||W.floating[bt]);const Ht=Ct/2-Ft/2,qt=Yt/2-wt[bt]/2-1,te=min$3(ct[_t],qt),Xt=min$3(ct[Et],qt),Dt=te,Qt=Yt-wt[bt]-Xt,Nt=Yt/2-wt[bt]/2+Ht,ce=clamp(Dt,Nt,Qt),Pt=!tt.arrow&&getAlignment(Y)!=null&&Nt!=ce&&W.reference[bt]/2-(Nt<Dt?te:Xt)-wt[bt]/2<0,de=Pt?Nt<Dt?Nt-Dt:Nt-Qt:0;return{[ht]:lt[ht]+de,data:{[ht]:ce,centerOffset:Nt-ce-de,...Pt&&{alignmentOffset:de}},reset:Pt}}}),flip=function(D){return D===void 0&&(D={}),{name:"flip",options:D,async fn(O){var z,F;const{placement:Y,middlewareData:W,rects:q,initialPlacement:X,platform:tt,elements:nt}=O,{mainAxis:st=!0,crossAxis:ct=!0,fallbackPlacements:lt,fallbackStrategy:ht="bestFit",fallbackAxisSideDirection:bt="none",flipAlignment:wt=!0,...mt}=evaluate$1(D,O);if((z=W.arrow)!=null&&z.alignmentOffset)return{};const _t=getSide(Y),Et=getSide(X)===X,At=await(tt.isRTL==null?void 0:tt.isRTL(nt.floating)),Ct=lt||(Et||!wt?[getOppositePlacement(X)]:getExpandedPlacements(X));!lt&&bt!=="none"&&Ct.push(...getOppositeAxisPlacements(X,wt,bt,At));const Ft=[X,...Ct],Lt=await detectOverflow(O,mt),Yt=[];let Ht=((F=W.flip)==null?void 0:F.overflows)||[];if(st&&Yt.push(Lt[_t]),ct){const Dt=getAlignmentSides(Y,q,At);Yt.push(Lt[Dt[0]],Lt[Dt[1]])}if(Ht=[...Ht,{placement:Y,overflows:Yt}],!Yt.every(Dt=>Dt<=0)){var qt,te;const Dt=(((qt=W.flip)==null?void 0:qt.index)||0)+1,Qt=Ft[Dt];if(Qt)return{data:{index:Dt,overflows:Ht},reset:{placement:Qt}};let Nt=(te=Ht.filter(ce=>ce.overflows[0]<=0).sort((ce,Pt)=>ce.overflows[1]-Pt.overflows[1])[0])==null?void 0:te.placement;if(!Nt)switch(ht){case"bestFit":{var Xt;const ce=(Xt=Ht.map(Pt=>[Pt.placement,Pt.overflows.filter(de=>de>0).reduce((de,ye)=>de+ye,0)]).sort((Pt,de)=>Pt[1]-de[1])[0])==null?void 0:Xt[0];ce&&(Nt=ce);break}case"initialPlacement":Nt=X;break}if(Y!==Nt)return{reset:{placement:Nt}}}return{}}}};async function convertValueToCoords(D,O){const{placement:z,platform:F,elements:Y}=D,W=await(F.isRTL==null?void 0:F.isRTL(Y.floating)),q=getSide(z),X=getAlignment(z),tt=getSideAxis(z)==="y",nt=["left","top"].includes(q)?-1:1,st=W&&tt?-1:1,ct=evaluate$1(O,D);let{mainAxis:lt,crossAxis:ht,alignmentAxis:bt}=typeof ct=="number"?{mainAxis:ct,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ct};return X&&typeof bt=="number"&&(ht=X==="end"?bt*-1:bt),tt?{x:ht*st,y:lt*nt}:{x:lt*nt,y:ht*st}}const offset=function(D){return D===void 0&&(D=0),{name:"offset",options:D,async fn(O){const{x:z,y:F}=O,Y=await convertValueToCoords(O,D);return{x:z+Y.x,y:F+Y.y,data:Y}}}},shift=function(D){return D===void 0&&(D={}),{name:"shift",options:D,async fn(O){const{x:z,y:F,placement:Y}=O,{mainAxis:W=!0,crossAxis:q=!1,limiter:X={fn:mt=>{let{x:_t,y:Et}=mt;return{x:_t,y:Et}}},...tt}=evaluate$1(D,O),nt={x:z,y:F},st=await detectOverflow(O,tt),ct=getSideAxis(getSide(Y)),lt=getOppositeAxis(ct);let ht=nt[lt],bt=nt[ct];if(W){const mt=lt==="y"?"top":"left",_t=lt==="y"?"bottom":"right",Et=ht+st[mt],At=ht-st[_t];ht=clamp(Et,ht,At)}if(q){const mt=ct==="y"?"top":"left",_t=ct==="y"?"bottom":"right",Et=bt+st[mt],At=bt-st[_t];bt=clamp(Et,bt,At)}const wt=X.fn({...O,[lt]:ht,[ct]:bt});return{...wt,data:{x:wt.x-z,y:wt.y-F}}}}},size=function(D){return D===void 0&&(D={}),{name:"size",options:D,async fn(O){const{placement:z,rects:F,platform:Y,elements:W}=O,{apply:q=()=>{},...X}=evaluate$1(D,O),tt=await detectOverflow(O,X),nt=getSide(z),st=getAlignment(z),ct=getSideAxis(z)==="y",{width:lt,height:ht}=F.floating;let bt,wt;nt==="top"||nt==="bottom"?(bt=nt,wt=st===(await(Y.isRTL==null?void 0:Y.isRTL(W.floating))?"start":"end")?"left":"right"):(wt=nt,bt=st==="end"?"top":"bottom");const mt=ht-tt[bt],_t=lt-tt[wt],Et=!O.middlewareData.shift;let At=mt,Ct=_t;if(ct){const Lt=lt-tt.left-tt.right;Ct=st||Et?min$3(_t,Lt):Lt}else{const Lt=ht-tt.top-tt.bottom;At=st||Et?min$3(mt,Lt):Lt}if(Et&&!st){const Lt=max$3(tt.left,0),Yt=max$3(tt.right,0),Ht=max$3(tt.top,0),qt=max$3(tt.bottom,0);ct?Ct=lt-2*(Lt!==0||Yt!==0?Lt+Yt:max$3(tt.left,tt.right)):At=ht-2*(Ht!==0||qt!==0?Ht+qt:max$3(tt.top,tt.bottom))}await q({...O,availableWidth:Ct,availableHeight:At});const Ft=await Y.getDimensions(W.floating);return lt!==Ft.width||ht!==Ft.height?{reset:{rects:!0}}:{}}}};function getNodeName(D){return isNode(D)?(D.nodeName||"").toLowerCase():"#document"}function getWindow(D){var O;return(D==null||(O=D.ownerDocument)==null?void 0:O.defaultView)||window}function getDocumentElement(D){var O;return(O=(isNode(D)?D.ownerDocument:D.document)||window.document)==null?void 0:O.documentElement}function isNode(D){return D instanceof Node||D instanceof getWindow(D).Node}function isElement(D){return D instanceof Element||D instanceof getWindow(D).Element}function isHTMLElement(D){return D instanceof HTMLElement||D instanceof getWindow(D).HTMLElement}function isShadowRoot(D){return typeof ShadowRoot>"u"?!1:D instanceof ShadowRoot||D instanceof getWindow(D).ShadowRoot}function isOverflowElement(D){const{overflow:O,overflowX:z,overflowY:F,display:Y}=getComputedStyle$1(D);return/auto|scroll|overlay|hidden|clip/.test(O+F+z)&&!["inline","contents"].includes(Y)}function isTableElement(D){return["table","td","th"].includes(getNodeName(D))}function isContainingBlock(D){const O=isWebKit(),z=getComputedStyle$1(D);return z.transform!=="none"||z.perspective!=="none"||(z.containerType?z.containerType!=="normal":!1)||!O&&(z.backdropFilter?z.backdropFilter!=="none":!1)||!O&&(z.filter?z.filter!=="none":!1)||["transform","perspective","filter"].some(F=>(z.willChange||"").includes(F))||["paint","layout","strict","content"].some(F=>(z.contain||"").includes(F))}function getContainingBlock(D){let O=getParentNode(D);for(;isHTMLElement(O)&&!isLastTraversableNode(O);){if(isContainingBlock(O))return O;O=getParentNode(O)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(D){return["html","body","#document"].includes(getNodeName(D))}function getComputedStyle$1(D){return getWindow(D).getComputedStyle(D)}function getNodeScroll(D){return isElement(D)?{scrollLeft:D.scrollLeft,scrollTop:D.scrollTop}:{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function getParentNode(D){if(getNodeName(D)==="html")return D;const O=D.assignedSlot||D.parentNode||isShadowRoot(D)&&D.host||getDocumentElement(D);return isShadowRoot(O)?O.host:O}function getNearestOverflowAncestor(D){const O=getParentNode(D);return isLastTraversableNode(O)?D.ownerDocument?D.ownerDocument.body:D.body:isHTMLElement(O)&&isOverflowElement(O)?O:getNearestOverflowAncestor(O)}function getOverflowAncestors(D,O,z){var F;O===void 0&&(O=[]),z===void 0&&(z=!0);const Y=getNearestOverflowAncestor(D),W=Y===((F=D.ownerDocument)==null?void 0:F.body),q=getWindow(Y);return W?O.concat(q,q.visualViewport||[],isOverflowElement(Y)?Y:[],q.frameElement&&z?getOverflowAncestors(q.frameElement):[]):O.concat(Y,getOverflowAncestors(Y,[],z))}function getCssDimensions(D){const O=getComputedStyle$1(D);let z=parseFloat(O.width)||0,F=parseFloat(O.height)||0;const Y=isHTMLElement(D),W=Y?D.offsetWidth:z,q=Y?D.offsetHeight:F,X=round(z)!==W||round(F)!==q;return X&&(z=W,F=q),{width:z,height:F,$:X}}function unwrapElement(D){return isElement(D)?D:D.contextElement}function getScale(D){const O=unwrapElement(D);if(!isHTMLElement(O))return createCoords(1);const z=O.getBoundingClientRect(),{width:F,height:Y,$:W}=getCssDimensions(O);let q=(W?round(z.width):z.width)/F,X=(W?round(z.height):z.height)/Y;return(!q||!Number.isFinite(q))&&(q=1),(!X||!Number.isFinite(X))&&(X=1),{x:q,y:X}}const noOffsets=createCoords(0);function getVisualOffsets(D){const O=getWindow(D);return!isWebKit()||!O.visualViewport?noOffsets:{x:O.visualViewport.offsetLeft,y:O.visualViewport.offsetTop}}function shouldAddVisualOffsets(D,O,z){return O===void 0&&(O=!1),!z||O&&z!==getWindow(D)?!1:O}function getBoundingClientRect(D,O,z,F){O===void 0&&(O=!1),z===void 0&&(z=!1);const Y=D.getBoundingClientRect(),W=unwrapElement(D);let q=createCoords(1);O&&(F?isElement(F)&&(q=getScale(F)):q=getScale(D));const X=shouldAddVisualOffsets(W,z,F)?getVisualOffsets(W):createCoords(0);let tt=(Y.left+X.x)/q.x,nt=(Y.top+X.y)/q.y,st=Y.width/q.x,ct=Y.height/q.y;if(W){const lt=getWindow(W),ht=F&&isElement(F)?getWindow(F):F;let bt=lt.frameElement;for(;bt&&F&&ht!==lt;){const wt=getScale(bt),mt=bt.getBoundingClientRect(),_t=getComputedStyle$1(bt),Et=mt.left+(bt.clientLeft+parseFloat(_t.paddingLeft))*wt.x,At=mt.top+(bt.clientTop+parseFloat(_t.paddingTop))*wt.y;tt*=wt.x,nt*=wt.y,st*=wt.x,ct*=wt.y,tt+=Et,nt+=At,bt=getWindow(bt).frameElement}}return rectToClientRect({width:st,height:ct,x:tt,y:nt})}function convertOffsetParentRelativeRectToViewportRelativeRect(D){let{rect:O,offsetParent:z,strategy:F}=D;const Y=isHTMLElement(z),W=getDocumentElement(z);if(z===W)return O;let q={scrollLeft:0,scrollTop:0},X=createCoords(1);const tt=createCoords(0);if((Y||!Y&&F!=="fixed")&&((getNodeName(z)!=="body"||isOverflowElement(W))&&(q=getNodeScroll(z)),isHTMLElement(z))){const nt=getBoundingClientRect(z);X=getScale(z),tt.x=nt.x+z.clientLeft,tt.y=nt.y+z.clientTop}return{width:O.width*X.x,height:O.height*X.y,x:O.x*X.x-q.scrollLeft*X.x+tt.x,y:O.y*X.y-q.scrollTop*X.y+tt.y}}function getClientRects(D){return Array.from(D.getClientRects())}function getWindowScrollBarX(D){return getBoundingClientRect(getDocumentElement(D)).left+getNodeScroll(D).scrollLeft}function getDocumentRect(D){const O=getDocumentElement(D),z=getNodeScroll(D),F=D.ownerDocument.body,Y=max$3(O.scrollWidth,O.clientWidth,F.scrollWidth,F.clientWidth),W=max$3(O.scrollHeight,O.clientHeight,F.scrollHeight,F.clientHeight);let q=-z.scrollLeft+getWindowScrollBarX(D);const X=-z.scrollTop;return getComputedStyle$1(F).direction==="rtl"&&(q+=max$3(O.clientWidth,F.clientWidth)-Y),{width:Y,height:W,x:q,y:X}}function getViewportRect(D,O){const z=getWindow(D),F=getDocumentElement(D),Y=z.visualViewport;let W=F.clientWidth,q=F.clientHeight,X=0,tt=0;if(Y){W=Y.width,q=Y.height;const nt=isWebKit();(!nt||nt&&O==="fixed")&&(X=Y.offsetLeft,tt=Y.offsetTop)}return{width:W,height:q,x:X,y:tt}}function getInnerBoundingClientRect(D,O){const z=getBoundingClientRect(D,!0,O==="fixed"),F=z.top+D.clientTop,Y=z.left+D.clientLeft,W=isHTMLElement(D)?getScale(D):createCoords(1),q=D.clientWidth*W.x,X=D.clientHeight*W.y,tt=Y*W.x,nt=F*W.y;return{width:q,height:X,x:tt,y:nt}}function getClientRectFromClippingAncestor(D,O,z){let F;if(O==="viewport")F=getViewportRect(D,z);else if(O==="document")F=getDocumentRect(getDocumentElement(D));else if(isElement(O))F=getInnerBoundingClientRect(O,z);else{const Y=getVisualOffsets(D);F={...O,x:O.x-Y.x,y:O.y-Y.y}}return rectToClientRect(F)}function hasFixedPositionAncestor(D,O){const z=getParentNode(D);return z===O||!isElement(z)||isLastTraversableNode(z)?!1:getComputedStyle$1(z).position==="fixed"||hasFixedPositionAncestor(z,O)}function getClippingElementAncestors(D,O){const z=O.get(D);if(z)return z;let F=getOverflowAncestors(D,[],!1).filter(X=>isElement(X)&&getNodeName(X)!=="body"),Y=null;const W=getComputedStyle$1(D).position==="fixed";let q=W?getParentNode(D):D;for(;isElement(q)&&!isLastTraversableNode(q);){const X=getComputedStyle$1(q),tt=isContainingBlock(q);!tt&&X.position==="fixed"&&(Y=null),(W?!tt&&!Y:!tt&&X.position==="static"&&!!Y&&["absolute","fixed"].includes(Y.position)||isOverflowElement(q)&&!tt&&hasFixedPositionAncestor(D,q))?F=F.filter(st=>st!==q):Y=X,q=getParentNode(q)}return O.set(D,F),F}function getClippingRect(D){let{element:O,boundary:z,rootBoundary:F,strategy:Y}=D;const q=[...z==="clippingAncestors"?getClippingElementAncestors(O,this._c):[].concat(z),F],X=q[0],tt=q.reduce((nt,st)=>{const ct=getClientRectFromClippingAncestor(O,st,Y);return nt.top=max$3(ct.top,nt.top),nt.right=min$3(ct.right,nt.right),nt.bottom=min$3(ct.bottom,nt.bottom),nt.left=max$3(ct.left,nt.left),nt},getClientRectFromClippingAncestor(O,X,Y));return{width:tt.right-tt.left,height:tt.bottom-tt.top,x:tt.left,y:tt.top}}function getDimensions(D){return getCssDimensions(D)}function getRectRelativeToOffsetParent(D,O,z){const F=isHTMLElement(O),Y=getDocumentElement(O),W=z==="fixed",q=getBoundingClientRect(D,!0,W,O);let X={scrollLeft:0,scrollTop:0};const tt=createCoords(0);if(F||!F&&!W)if((getNodeName(O)!=="body"||isOverflowElement(Y))&&(X=getNodeScroll(O)),F){const nt=getBoundingClientRect(O,!0,W,O);tt.x=nt.x+O.clientLeft,tt.y=nt.y+O.clientTop}else Y&&(tt.x=getWindowScrollBarX(Y));return{x:q.left+X.scrollLeft-tt.x,y:q.top+X.scrollTop-tt.y,width:q.width,height:q.height}}function getTrueOffsetParent(D,O){return!isHTMLElement(D)||getComputedStyle$1(D).position==="fixed"?null:O?O(D):D.offsetParent}function getOffsetParent(D,O){const z=getWindow(D);if(!isHTMLElement(D))return z;let F=getTrueOffsetParent(D,O);for(;F&&isTableElement(F)&&getComputedStyle$1(F).position==="static";)F=getTrueOffsetParent(F,O);return F&&(getNodeName(F)==="html"||getNodeName(F)==="body"&&getComputedStyle$1(F).position==="static"&&!isContainingBlock(F))?z:F||getContainingBlock(D)||z}const getElementRects=async function(D){let{reference:O,floating:z,strategy:F}=D;const Y=this.getOffsetParent||getOffsetParent,W=this.getDimensions;return{reference:getRectRelativeToOffsetParent(O,await Y(z),F),floating:{x:0,y:0,...await W(z)}}};function isRTL(D){return getComputedStyle$1(D).direction==="rtl"}const platform$1={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(D,O){let z=null,F;const Y=getDocumentElement(D);function W(){clearTimeout(F),z&&z.disconnect(),z=null}function q(X,tt){X===void 0&&(X=!1),tt===void 0&&(tt=1),W();const{left:nt,top:st,width:ct,height:lt}=D.getBoundingClientRect();if(X||O(),!ct||!lt)return;const ht=floor(st),bt=floor(Y.clientWidth-(nt+ct)),wt=floor(Y.clientHeight-(st+lt)),mt=floor(nt),Et={rootMargin:-ht+"px "+-bt+"px "+-wt+"px "+-mt+"px",threshold:max$3(0,min$3(1,tt))||1};let At=!0;function Ct(Ft){const Lt=Ft[0].intersectionRatio;if(Lt!==tt){if(!At)return q();Lt?q(!1,Lt):F=setTimeout(()=>{q(!1,1e-7)},100)}At=!1}try{z=new IntersectionObserver(Ct,{...Et,root:Y.ownerDocument})}catch{z=new IntersectionObserver(Ct,Et)}z.observe(D)}return q(!0),W}function autoUpdate(D,O,z,F){F===void 0&&(F={});const{ancestorScroll:Y=!0,ancestorResize:W=!0,elementResize:q=typeof ResizeObserver=="function",layoutShift:X=typeof IntersectionObserver=="function",animationFrame:tt=!1}=F,nt=unwrapElement(D),st=Y||W?[...nt?getOverflowAncestors(nt):[],...getOverflowAncestors(O)]:[];st.forEach(_t=>{Y&&_t.addEventListener("scroll",z,{passive:!0}),W&&_t.addEventListener("resize",z)});const ct=nt&&X?observeMove(nt,z):null;let lt=-1,ht=null;q&&(ht=new ResizeObserver(_t=>{let[Et]=_t;Et&&Et.target===nt&&ht&&(ht.unobserve(O),cancelAnimationFrame(lt),lt=requestAnimationFrame(()=>{ht&&ht.observe(O)})),z()}),nt&&!tt&&ht.observe(nt),ht.observe(O));let bt,wt=tt?getBoundingClientRect(D):null;tt&&mt();function mt(){const _t=getBoundingClientRect(D);wt&&(_t.x!==wt.x||_t.y!==wt.y||_t.width!==wt.width||_t.height!==wt.height)&&z(),wt=_t,bt=requestAnimationFrame(mt)}return z(),()=>{st.forEach(_t=>{Y&&_t.removeEventListener("scroll",z),W&&_t.removeEventListener("resize",z)}),ct&&ct(),ht&&ht.disconnect(),ht=null,tt&&cancelAnimationFrame(bt)}}const computePosition=(D,O,z)=>{const F=new Map,Y={platform:platform$1,...z},W={...Y.platform,_c:F};return computePosition$1(D,O,{...Y,platform:W})};function t$1(D){return r$1(D)}function o$1(D){return D.assignedSlot?D.assignedSlot:D.parentNode instanceof ShadowRoot?D.parentNode.host:D.parentNode}function r$1(D){for(let O=D;O;O=o$1(O))if(O instanceof Element&&getComputedStyle(O).display==="none")return null;for(let O=o$1(D);O;O=o$1(O)){if(!(O instanceof Element))continue;const z=getComputedStyle(O);if(z.display!=="contents"&&(z.position!=="static"||z.filter!=="none"||O.tagName==="BODY"))return O}return null}function isVirtualElement(D){return D!==null&&typeof D=="object"&&"getBoundingClientRect"in D}var SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(D){super.updated(D),D.has("active")&&(this.active?this.start():this.stop()),D.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const D=this.getRootNode();this.anchorEl=D.getElementById(this.anchor)}else this.anchor instanceof Element||isVirtualElement(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=autoUpdate(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(D=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>D())):D()})}reposition(){if(!this.active||!this.anchorEl)return;const D=[offset({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?D.push(size({apply:({rects:z})=>{const F=this.sync==="width"||this.sync==="both",Y=this.sync==="height"||this.sync==="both";this.popup.style.width=F?`${z.reference.width}px`:"",this.popup.style.height=Y?`${z.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&D.push(flip({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&D.push(shift({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?D.push(size({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:z,availableHeight:F})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${F}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${z}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&D.push(arrow({element:this.arrowEl,padding:this.arrowPadding}));const O=this.strategy==="absolute"?z=>platform$1.getOffsetParent(z,t$1):platform$1.getOffsetParent;computePosition(this.anchorEl,this.popup,{placement:this.placement,middleware:D,strategy:this.strategy,platform:__spreadProps(__spreadValues({},platform$1),{getOffsetParent:O})}).then(({x:z,y:F,middlewareData:Y,placement:W})=>{const q=getComputedStyle(this).direction==="rtl",X={top:"bottom",right:"left",bottom:"top",left:"right"}[W.split("-")[0]];if(this.setAttribute("data-current-placement",W),Object.assign(this.popup.style,{left:`${z}px`,top:`${F}px`}),this.arrow){const tt=Y.arrow.x,nt=Y.arrow.y;let st="",ct="",lt="",ht="";if(this.arrowPlacement==="start"){const bt=typeof tt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";st=typeof nt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",ct=q?bt:"",ht=q?"":bt}else if(this.arrowPlacement==="end"){const bt=typeof tt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";ct=q?"":bt,ht=q?bt:"",lt=typeof nt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(ht=typeof tt=="number"?"calc(50% - var(--arrow-size-diagonal))":"",st=typeof nt=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(ht=typeof tt=="number"?`${tt}px`:"",st=typeof nt=="number"?`${nt}px`:"");Object.assign(this.arrowEl.style,{top:st,right:ct,bottom:lt,left:ht,[X]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return x$1`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${e$2({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?x$1`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass([e$5(".popup")],SlPopup.prototype,"popup",2);__decorateClass([e$5(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass([n$3()],SlPopup.prototype,"anchor",2);__decorateClass([n$3({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass([n$3({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass([n$3({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass([n$3({type:Number})],SlPopup.prototype,"distance",2);__decorateClass([n$3({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass([n$3({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass([n$3({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass([n$3({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass([n$3({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass([n$3({attribute:"flip-fallback-placements",converter:{fromAttribute:D=>D.split(" ").map(O=>O.trim()).filter(O=>O!==""),toAttribute:D=>D.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass([n$3({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass([n$3({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass([n$3({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass([n$3({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass([n$3({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass([n$3({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass([n$3({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass([n$3()],SlPopup.prototype,"sync",2);__decorateClass([n$3({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass([n$3({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);SlPopup.define("sl-popup");const _hoisted_1$7=["draggable"],_hoisted_2$6={id:"content"},_hoisted_3$4={key:0,class:"image-wrapper media-item"},_hoisted_4$4=["src"],_hoisted_5$3=["src"],_hoisted_6$3={key:2,id:"osd"},_hoisted_7$3=["manifest"],_hoisted_8$3=["manifest"],_hoisted_9$3={key:1},_hoisted_10$3=["draggable","onDragstart"],_hoisted_11$2=["data-id","src","onClick"],_hoisted_12$2=["src","onClick"],_hoisted_13$2=["manifest"],_hoisted_14$1={key:2},_hoisted_15$1=["slot","src","alt"],_hoisted_16={key:3,class:"media-item"},_hoisted_17={id:"html5-player",controls:""},_hoisted_18=["src","type"],_hoisted_19=["manifest"],_hoisted_20={key:4,class:"media-item"},_hoisted_21={key:0,id:"youtube-placeholder"},_hoisted_22={key:1,id:"ve-video-vimeo","data-vimeo-playsinline":"true"},_hoisted_23=["muted","autoplay","poster"],_hoisted_24=["src","type"],_hoisted_25=["manifest"],_hoisted_26=["total","current"],_hoisted_27=["innerHTML"],_hoisted_28=["innerHTML"],_hoisted_29=["src"],_sfc_main$9=defineComponent({__name:"MediaViewer.ce",props:{manifest:{type:String},src:{type:String},seq:{type:Number,default:1},annoBase:{type:String},base:{type:String},region:{type:String},size:{type:String},rotation:{type:String},quality:{type:String},format:{type:String},options:{type:String},alt:{type:String},caption:{type:String},fit:{type:String},entities:{type:String},zoomOnScroll:{type:Boolean},noCaption:{type:Boolean},noInfoIcon:{type:Boolean},editable:{type:Boolean},static:{type:Boolean},grid:{type:Boolean},cards:{type:Boolean},compare:{type:Boolean},small:{type:Boolean},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String},autoplay:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},start:{type:Number},end:{type:Number},poster:{type:String},class:{type:String}},setup(D){function O(sn,En){var je;En.stopPropagation();let un=`https://iiif.juncture-digital.org/?manifest=${sn.id}`;(je=En.dataTransfer)==null||je.setData("text/uri-list",un)}const z=D,F=ref(null),Y=computed(()=>{var sn;return(sn=F==null?void 0:F.value)==null?void 0:sn.parentNode}),W=computed(()=>{var sn,En;return(En=(sn=F.value)==null?void 0:sn.getRootNode())==null?void 0:En.host}),q=computed(()=>{var sn;return(sn=Y.value)==null?void 0:sn.querySelector("#content")}),X=computed(()=>{var sn;return(sn=Y.value)==null?void 0:sn.querySelector("#outer")}),tt=computed(()=>{var sn;return(sn=Y.value)==null?void 0:sn.querySelector("#inner")}),nt=ref([]);onMounted(()=>lt());const st=z.position||(isMobile()?"full":z.right?"right":z.left?"left":"full");function ct(sn=16/9){z.sticky&&(makeSticky(W.value),tt.value.style.paddingTop="6px",X.value.style.paddingBottom="6px"),Ce.value=ze.value?Number((ze.value.width/ze.value.height).toFixed(4)):sn,W.value.classList.add("ve-component"),W.value.classList.add(st),st==="full"||(W.value.style.float=st,W.value.style.width="calc(50% - 12px)"),W.value.style.width=window.getComputedStyle(W.value).width,q.value&&(tt.value.style.width=isMobile()?"100%":z.width||"100%"),nextTick(()=>{if(pe.value=parseInt(window.getComputedStyle(q.value).width.slice(0,-2)),q.value.style.width=`${pe.value}px`,q.value.style.height=z.height||(we.value==="image-grid"?"":we.value==="audio"?"80px":`${Math.round((pe==null?void 0:pe.value)/Ce.value)}px`),ve.value=parseInt(window.getComputedStyle(q.value).height.slice(0,-2)),z.sticky&&st==="full"&&!(z.width||z.height)){let En=Math.round(window.innerHeight*.4),un=Math.ceil(En*Ce.value);we.value==="image"&&(q.value.style.height=`${En}px`),we.value!=="image-grid"&&tt.value.classList.add("drop-shadow"),tt.value.style.width=`${un}px`}nextTick(()=>{pe.value=parseInt(window.getComputedStyle(tt.value).width.slice(0,-2)),ve.value=parseInt(window.getComputedStyle(q.value).height.slice(0,-2))})})}function lt(){var sn;if(nt.value=z.entities?z.entities.split(/\s+/).filter(En=>En):[],z.src)if(((sn=z.src)==null?void 0:sn.indexOf("http"))===0){let En=new URL(z.src),un=En.hostname.replace(/^www\./,"");xe.has(un)?(we.value="video",en=!0,vn.value=En.searchParams.get("v"),nextTick(()=>Lr())):Ae.has(un)?(we.value="video",Fn=!0,vn.value=En.pathname.slice(1),nextTick(()=>Dr())):De.value=ge()}else De.value=ge();else De.value=ge();kt()}function ht(sn){const En=sn.target.parentElement;En&&(En.active=!En.active)}const bt=ref();watch$1(bt,()=>{if(bt.value){let sn=bt.value;setTimeout(()=>te(),100),sn.addHandler("viewport-change",()=>qt()),(z.base||z.annoBase)&&(Et.value=new Annotator(sn,z.base||z.annoBase,Ft.value));let En=sn.world.getItemAt(0);En?(z.rotation&&En.setRotation(parseInt(z.rotation),!0),En.getFullyLoaded()?mt():En.addHandler("fully-loaded-change",un=>{un.fullyLoaded&&mt()})):sn.world.addHandler("add-item",()=>{let un=sn.world.getItemAt(0);z.rotation&&un.setRotation(parseInt(z.rotation),!0),un.getFullyLoaded()?mt():un.addHandler("fully-loaded-change",je=>{je.fullyLoaded&&mt()})})}});let wt;function mt(sn){var je;let En=De.value[0],un=sha256(ze.value.id||ze.value["@id"]).slice(0,8);un!==wt&&(Et.value&&Et.value.loadAnnotations(un).then(gn=>At.value=gn),!wt&&En.seq===Pt.value&&En.region&&((je=bt.value)==null||je.viewport.fitBounds(parseRegionString(En.region,bt.value),!0)),wt=un)}function _t(sn){return getItemInfo(sn).format==="image/gif"}const Et=ref(),At=ref([]),Ct=ref(!1),Ft=ref(window.location.pathname.split("/")[1]==="editor"||z.editable);function Lt(){Ct.value=!Ct.value}watch$1(Ct,()=>{var En;Et.value.setVisible(Ct.value);let sn=(En=Y.value)==null?void 0:En.querySelector("#annotations-icon");Ft.value&&Ct.value?sn==null||sn.classList.add("editable"):sn==null||sn.classList.remove("editable")});const Yt=ref();let Ht=null;function qt(){Ht!==null&&(clearTimeout(Ht),Ht=null),Ht=window.setTimeout(()=>te(),100)}function te(){var En,un;const sn=bt&&((En=bt.value)==null?void 0:En.world.getItemAt(0));if(sn){let je=(un=bt.value)==null?void 0:un.viewport.getBounds();const gn=je?sn.viewportToImageRectangle(je):null;Yt.value=gn?`${Math.ceil(gn.x)},${Math.ceil(gn.y)},${Math.ceil(gn.width)},${Math.ceil(gn.height)}`:""}}const Xt=ref();watch$1(Y,()=>{var sn;Xt.value=(sn=Y.value)==null?void 0:sn.querySelector("#media-dialog")}),watch$1(Xt,sn=>{sn==null||sn.addEventListener("sl-after-hide",()=>Dt.value=null),sn==null||sn.addEventListener("sl-show",()=>{Xt.value&&(Xt.value.panel.style.width=isMobile()?"100%":`${Nt()}px`)})});const Dt=ref();watch$1(Dt,sn=>{var En,un;sn?(En=Xt.value)==null||En.show():(un=Xt.value)==null||un.hide()});function Qt(sn=null){Dt.value=Dt.value?null:sn.src||sn.id}function Nt(){var gn;let sn=Math.round(window.innerWidth-100),En=Math.round(window.innerHeight-150),un=((gn=Dt.value)==null?void 0:gn.indexOf("http"))===0?Dt.value:`https://iiif.juncture-digital.org/${Dt.value}/manifest.json`,je=Oe.value.find(In=>decodeURIComponent(In.id)===un);if(je){let In=getItemInfo(je),Hn=Number((In.width/In.height).toFixed(4));sn=Hn>=1?sn/Hn>En?sn=En*Hn:sn:Math.round(En*Hn)}return sn}const ce=ref(z.caption),Pt=ref(z.seq),de=ref(z.seq);function ye(sn){Pt.value=sn.detail}const pe=ref(0),ve=ref(0),Ce=ref(0),De=ref([]),Oe=ref([]),Je=ref(null),qe=ref(null),ze=ref(null),we=ref(null),Me=ref(null),He=computed(()=>Object.fromEntries(Oe.value.map(sn=>[sha256(decodeURIComponent(sn.id)).slice(0,8),sn])));watch$1(De,()=>{let sn=De.value.filter(En=>En.iiif).map(En=>En.src);loadManifests(sn).then(En=>{Oe.value=En,z.grid?we.value="image-grid":Oe.value.length>1&&(we.value=Oe.value.length===2?"image-compare":"image-grid")})}),watch$1(Oe,()=>{Je.value=Oe.value.length>0&&Oe.value[0],qe.value=De.value[0]}),watch$1(Je,()=>{de.value=imageCount(Je.value),ze.value=Je.value?getItemInfo(Je.value,Pt.value):null}),watch$1(Pt,()=>ze.value=Je.value?getItemInfo(Je.value,Pt.value):null);const Le=ref([]),Ye=computed(()=>{var sn;return(sn=ze.value)==null?void 0:sn.id}),Kt=computed(()=>{var En;let sn=(En=Ye.value)==null?void 0:En.split("#")[0].split(".").pop();return sn==="mp4"?"video/mp4":sn==="webm"?"video/webm":"application/ogg"});watch$1(ze,()=>{var sn,En;we.value=we.value||((En=(sn=ze.value)==null?void 0:sn.type)==null?void 0:En.split(":").pop().toLowerCase()),Me.value=(we==null?void 0:we.value.indexOf("image"))===0?ze.value.service?`${ze.value.service[0].id||ze.value.service[0]["@id"]}/info.json`:{url:ze.value.id,type:"image",buildPyramid:!0}:null,bt.value&&bt.value.open(Me.value),pe.value||nextTick(()=>ct())}),watch$1(we,()=>{Pn(),nextTick(()=>{we.value==="image"&&!_t(Je.value)&&!z.static?ke():(we.value==="video"&&De.value.length>0||we.value==="audio")&&Fo(),!ce.value&&we.value==="image"&&(ce.value=label(Je.value))})}),watch$1(ve,()=>{we.value==="image-compare"&&(Le.value=Pe())});function kt(){let sn=W.value.parentElement.querySelector("ve-media > ul, ve-media > span");if(sn){const En=je=>{for(let gn of je)gn.type==="childList"||gn.type;De.value=ge()};new MutationObserver(En).observe(sn,{childList:!0,subtree:!0,characterData:!0})}}const jt=RegExp(/^(?<region>(pct:)?([0-9.]+,[0-9.]+,[0-9.]+,[0-9.]+)|full|square)(\/(?<size>full|max|((pct:)?[\d,.!]+)))?(\/(?<rotation>!?\d+))?(\/(?<quality>color|gray|bitonal|default))?(\/(?<format>jpg|tif|png|gif|jp2|pdf|webp))?/),$t=RegExp(/^(?<mirror>!?)(?<rotation>0|90|180|270){1}/);function oe(sn){return jt.test(sn)}function Vt(sn){return/^[0-9]+$/.test(sn)}function Be(sn){return $t.test(sn)}function ge(){let sn=[],En=z.manifest||z.src,un=Array.from(W.value.querySelectorAll("li")).filter(je=>je.innerText.trim()!=="");if(!En&&un.length===0&&nt.value.length>0&&(En=`wd:${nt.value[0]}`),En){let je={};je.src=En,je.src=je.src.indexOf("http")===0?je.src:`https://iiif.juncture-digital.org/${je.src}/manifest.json`,je.id=sha256(je.src).slice(0,8);let In=new URL(je.src).hostname.replace(/^www\./,"");if(je.iiif=!xe.has(In)&&!Ae.has(In),z.options&&oe(z.options)){let Hn=z.options.match(jt);Hn&&(je={...je,...Hn.groups})}je.seq=z.seq,je.region=z.region||je.region,je.size=z.size||je.size,je.rotation=z.rotation||je.rotation,je.quality=z.quality||je.quality,je.format=z.format||je.format,je.fit=z.fit,sn.push(je)}else sn=un.map(je=>{var ci,Si;let gn=[],In=(ci=je.textContent)==null?void 0:ci.replace(//,'"').replace(//,'"').replace(//,"'").trim();(Si=In==null?void 0:In.match(/[^\s"]+|"([^"]*)"/gmi))==null||Si.forEach(si=>{gn.length>0&&gn[gn.length-1].indexOf("=")===gn[gn.length-1].length-1?gn[gn.length-1]=`${gn[gn.length-1]}${si}`:gn.push(si)});let Hn={};gn.length>0&&(Hn.src=gn[0].indexOf("http")===0?gn[0]:gn[0].indexOf("manifest")===0?`https://iiif.juncture-digital.org/${gn[0]}`:`https://iiif.juncture-digital.org/${gn[0]}/manifest.json`),Hn.id=sha256(decodeURIComponent(Hn.src)).slice(0,8);let Er=new URL(Hn.src),Or=Er.hostname.replace(/^www\./,"");xe.has(Or)?(Hn.youtube=!0,Hn.videoid=Er.searchParams.get("v")):Ae.has(Or)?Hn.vimeo=!0:Hn.iiif=!0,Hn.iiif=!xe.has(Or)&&!Ae.has(Or);for(let si=1;si<gn.length;si++){let mo=gn[si];if(mo.indexOf("=")>0){let Co=mo.split("=");Hn[Co[0]]=Co[1]}else if(Vt(mo))Hn.seq=mo;else if(oe(mo)){let Co=mo.match(jt);Co&&(Hn={...Hn,...Co.groups})}else if(mo==="cover"||mo==="contain")Hn.fit=mo;else if(Be(mo)){let Co=mo.match($t);Co&&(Hn={...Hn,...Co.groups})}else mo==="mirror"?Hn.mirror=!0:Hn.caption=mo[0]==='"'&&mo[mo.length-1]==='"'?mo.slice(1,-1):mo}return Hn});return sn}function Pe(){let sn=pe.value,En=ve.value,un=Ce.value;return De.value.map((je,gn)=>{let In=getItemInfo(Oe.value[gn],je.seq),Hn,Er,Or,ci;je.region&&([Hn,Er,Or,ci]=je.region.split(":").pop().split(",").map(xs=>parseFloat(xs)),je.region.split(":")[0]==="pct"&&(Hn=Math.round(Hn*In.width/100),Er=Math.round(Er*In.height/100),Or=Math.round(Or*In.width/100),ci=Math.round(ci*In.height/100)));const Si=Or||In.width,si=ci||In.height,mo=Number((Si/si).toFixed(4));let Co=Si,Uo=si;mo>un?(Co=Math.round(si*un),Uo=Math.round(Co/un)):(Uo=Math.round(Si/un),Co=Math.round(Uo*un));let _r=In.service[0].id||In.service[0]["@id"];const Ir=(Hn||0)+Math.abs(Math.round((Co-Si)*.5)),$r=(Er||0)+Math.abs(Math.round((Uo-si)*.5));let er=`${Ir},${$r},${Co},${Uo}`;return`${_r}/${er}/${sn},${En}/${je.mirror?"!":""}${je.rotation||0}/${je.quality||"default"}.${je.format||"jpg"}`})}function ke(){bt.value=$e(),Fe(),Me.value&&bt.value.open(Me.value)}function $e(){var je;const un={element:((je=F.value)==null?void 0:je.parentNode).querySelector("#osd"),prefixUrl:"https://openseadragon.github.io/openseadragon/images/",homeFillsViewer:z.fit==="cover",showNavigationControl:!0,minZoomImageRatio:1,maxZoomPixelRatio:10,showRotationControl:!0,showHomeControl:!0,showZoomControl:!0,showFullPageControl:!0,showNavigator:!1,sequenceMode:!0,showReferenceStrip:!0,animationTime:.5,springStiffness:10,visibilityRatio:1,constrainDuringPan:!0};return OpenSeadragon(un)}function Fe(){z.zoomOnScroll||new OpenSeadragonViewerInputHook({viewer:bt.value,hooks:[{tracker:"viewer",handler:"scrollHandler",hookHandler:sn=>{var En;return!((En=bt.value)!=null&&En.isFullPage())&&!sn.originalEvent.ctrlKey&&(sn.preventDefaultAction=!0,sn.stopHandlers=!0),!0}}]})}function Qe(sn){navigator.clipboard&&navigator.clipboard.writeText(sn)}function We(sn){let En=sn.name.toLowerCase(),un=sn.value;return(En==="enter"||En==="exit")&&un.indexOf("|")>0&&([En,un]=un.split("|")),["zoom","zoomto"].indexOf(En.toLowerCase())===0||/^((pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?\|?([0-9a-f]{8})?$/.test(un)}function rn(sn){let En=sn.name.toLowerCase(),un=sn.value;return(En==="enter"||En==="exit")&&un.indexOf("|")>0&&([En,un]=un.split("|")),En.toLowerCase()==="play"||/^([0-9:]+)+,?([0-9:]+)?$/.test(un)}function zn(sn){let En=sn.name.toLowerCase(),un=sn.value.toLowerCase();return En==="pause"||un==="pause"}const Bn=new Set(["anno","play","start","zoomto"]);function Pn(){Array.from(W.value.querySelectorAll("[enter],[exit]")).forEach(En=>{jn(En)&&Jn(En)});let sn=W.value.parentElement;for(;sn.parentElement&&sn.tagName!=="BODY";)sn=sn.parentElement;Array.from(sn.querySelectorAll("mark, ve-trigger")).forEach(En=>{let un=Array.from(En.attributes).find(je=>Bn.has(je.name));un&&jn(En.parentElement)&&(En.classList.add(un.name),En.addEventListener("click",()=>{(un==null?void 0:un.name)==="anno"?ne(un.value):(un==null?void 0:un.name)==="zoomto"?ie(un.value):(un==null?void 0:un.name)==="play"?rr(un.value):sr()}))})}function jn(sn){let En=sn.previousSibling;for(;En;){if(En.nodeName==="VE-MEDIA")return En===W.value?En:null;En=En.previousSibling}for(;sn.parentElement&&sn.tagName!=="MAIN";){sn=sn.parentElement;let un=sn.querySelector(":scope > ve-media, :scope > p > ve-media");if(un)return un===W.value?un:null}}function Jn(sn){let En=sn.classList.contains("active");new MutationObserver(je=>{je.forEach(gn=>{if(gn.attributeName=="class"){let In=gn.target.classList.contains("active");if(En!==In){En=In;let Hn=sn.attributes.getNamedItem(In?"enter":"exit");Hn&&(we.value==="image"&&We(Hn)&&ie(Hn.value),we.value!=="image"&&(rn(Hn)?rr(Hn.value):zn(Hn)&&sr()))}}})}).observe(sn,{attributes:!0})}function rr(sn){sn=sn.replace(/^play\|/i,"");const En=sn.match(/^([0-9:]+)+,?([0-9:]+)?$/);En&&io(En[1],En[2])}function sr(){tr()}let on="";function ie(sn){var un,je,gn,In,Hn,Er,Or;sn=sn.replace(/^zoomto\|/i,"");const En=sn==null?void 0:sn.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?,?(?<annoid>[0-9a-f]{8})?$/);if(En){let ci=(un=En==null?void 0:En.groups)==null?void 0:un.region,Si=(je=En==null?void 0:En.groups)==null?void 0:je.annoid;ci?(on===ci?((gn=bt.value)==null||gn.viewport.goHome(),on=""):(on=ci,(In=Et.value)==null||In.deselect(),(Hn=bt.value)==null||Hn.viewport.fitBounds(parseRegionString(ci,bt.value),!1)),Si&&Et.value.select(Si)):Si&&(((Er=Et.value.selected)==null?void 0:Er.id)===Si?Et.value.deselect():((Or=bt.value)==null||Or.viewport.goHome(),Si&&Et.value.select(Si)))}}function ne(sn){var un,je,gn,In,Hn;const En=sn==null?void 0:sn.match(/^(?<annoid>[0-9a-f]{8})$/);if(En){let Er=(un=En==null?void 0:En.groups)==null?void 0:un.annoid;Er&&((je=Et.value.selected)==null?void 0:je.id)===Er?((gn=Et.value)==null||gn.deselect(),(In=bt.value)==null||In.viewport.goHome()):((Hn=bt.value)==null||Hn.viewport.goHome(),Et.value.select(Er))}}const xe=new Set(["youtube.com","youtube.co.uk","youtu.be"]),Ae=new Set(["vimeo.com"]);let Ve=null;const vn=ref(),Ge=ref(!0),Dn=ref(!1);let en=!1,Fn=!1,$n=!1,Kn=null,Wn=!0,mr={};function ir(){mr.value=Object.fromEntries(Array.from(W.value.parentElement.querySelectorAll("p[data-start]")).map(sn=>[uo(sn.dataset.start||"0"),sn]))}async function wr(sn){let un=`https://youtube.com/oembed?url=${encodeURI(`https://www.youtube.com/watch?v=${sn}`)}&format=json`,gn=await(await fetch(un)).json();return gn.aspect=gn.width/gn.height,gn}async function Lr(){let sn=await wr(vn.value);ir(),nextTick(()=>{ct(sn.aspect),nextTick(()=>{var gn;let En=(gn=Y.value)==null?void 0:gn.querySelector("#youtube-placeholder"),un=parseInt(window.getComputedStyle(En).width.slice(0,-2));En.style.height=`${un/sn.aspect}px`;let je={color:"white",rel:0,modestbranding:1,playsinline:1};Ve=YouTubePlayer(En,{videoId:vn.value,width:un,playerVars:je}),Ve.on("ready",In=>{xo(),z.autoplay&&io(`${z.start||""}`,`${z.end||""}`)})})})}async function Dr(){var En;ct();let sn=(En=Y.value)==null?void 0:En.querySelector("#ve-video-vimeo");Ve=new Player(sn,{id:vn.value,width:parseInt(window.getComputedStyle(sn).width.slice(0,-2))}),Ve.on("loaded",()=>{ct(sn.clientWidth/sn.clientHeight-5),xo()})}function Fo(){ir(),$n=!0,nextTick(()=>{var sn;Ve=(sn=Y.value)==null?void 0:sn.querySelector("#html5-player"),xo()}),ct()}async function xo(){let sn=W.value.parentElement.querySelector("ve-media"),En=!1;setInterval(async()=>{if(Ge.value=await Un(),Dn.value=await go(),Dn.value&&z.sticky&&Object.keys(mr.value).length>0&&!En){let un=sn.getBoundingClientRect().top+window.scrollY-top$1();window.scrollTo(0,un),En=!0}Dn.value&&Cr().then(un=>{if(un=Math.round(un),mr.value[un]){let gn=mr.value[un].getBoundingClientRect();window.scrollTo(0,gn.top+window.scrollY-sn.getBoundingClientRect().bottom)}})},1e3)}function tr(){en?Ve.pauseVideo():(Fn||$n)&&Ve.pause()}async function Cr(){if(en)return Ve.getCurrentTime();if(Fn)return await Ve.getCurrentTime();if($n)return Ve.currentTime}async function go(){return en?await Ve.getPlayerState()===1:Fn?!(await Ve.getEnded()||await Ve.getPaused()):$n?!(Ve.ended||Ve.paused):!1}async function Un(){return en?await Ve.isMuted():Fn?await Ve.getMuted():await z.muted}function zi(sn){en?sn?Ve.mute():Ve.unMute():Fn?Ve.setMuted(sn):$n&&(Ve.muted=sn)}function uo(sn){var En=sn.split(":").slice(0,3).map(gn=>parseInt(gn,10));let un=0,je=1;for(;En.length>0;){let gn=En.pop()||0;un+=je*gn,je*=60}return un}function io(sn,En=""){let un=uo(sn),je=En?uo(En)+1:-1;Kn&&(clearTimeout(Kn),Kn=null);let gn=Ge.value;if(en?(Ve.playVideo(),Ve.seekTo(un).then(In=>{je>=un&&(Kn=setTimeout(()=>{Ve.pauseVideo().then(Hn=>{Kn=null,!gn&&Wn&&zi(!1)})},je===un?200:(je-un)*1e3))})):Fn?(Ve.setCurrentTime(un),Ve.play().then(In=>{je>=un&&(Kn=setTimeout(()=>{Ve.pause().then(Hn=>{Kn=null,!gn&&Wn&&zi(!1)})},je===un?200:(je-un)*1e3))})):$n&&setTimeout(()=>{Ve.play(),Ve.currentTime=un,je>=un&&(Kn=setTimeout(()=>{Kn=null,Ve.pause(),!gn&&Wn&&zi(!1)},je===un?200:(je-un)*1e3))},200),mr.value[un]){let Hn=mr.value[un].getBoundingClientRect(),Er=W.value.parentElement.querySelector("ve-media");window.scrollTo(0,Hn.top+window.scrollY-Er.getBoundingClientRect().bottom)}}return(sn,En)=>{const un=resolveComponent("sl-image-comparer"),je=resolveComponent("sl-icon-button"),gn=resolveComponent("sl-badge"),In=resolveComponent("sl-button"),Hn=resolveComponent("sl-dialog");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({ref_key:"root",ref:F},sn.$attrs),null,16),createBaseVNode("div",{id:"outer",class:normalizeClass(Ft.value?"edit":"view"),draggable:we.value==="image",onDragstart:En[2]||(En[2]=Er=>O(Je.value,Er))},[createBaseVNode("div",{id:"inner",class:normalizeClass(we.value)},[createBaseVNode("div",_hoisted_2$6,[we.value==="image"?(openBlock(),createElementBlock("div",_hoisted_3$4,[_t(Oe.value[0])?(openBlock(),createElementBlock("ve-gif",{key:0,src:ze.value.id,alt:"Animated GIF","initially-paused":"","restart-on-play":""},null,8,_hoisted_4$4)):D.static?(openBlock(),createElementBlock("img",{key:1,src:unref(staticImage)(Je.value,qe.value,pe.value),style:{width:"100%"},onClick:En[0]||(En[0]=Er=>Qt(Je.value))},null,8,_hoisted_5$3)):(openBlock(),createElementBlock("div",_hoisted_6$3)),z.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:3,manifest:Oe.value[0].id},null,8,_hoisted_7$3))])):we.value==="image-grid"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`grid-wrapper${z.small?" small":""}`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,(Er,Or)=>(openBlock(),createElementBlock(Fragment,null,[z.cards?(openBlock(),createElementBlock("ve-media-card",{key:0,style:{width:"100%",height:"100%"},manifest:Er.src},null,8,_hoisted_8$3)):(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",{class:"media-item",draggable:we.value==="image",onDragstart:ci=>O(He.value[Er.id],ci)},[Er.iiif?(openBlock(),createElementBlock("img",{key:0,"data-id":Er.id,src:unref(thumbnail)(He.value[Er.id],400,Er.seq||1),onClick:ci=>Qt(Er)},null,8,_hoisted_11$2)):Er.youtube?(openBlock(),createElementBlock("img",{key:1,src:`https://img.youtube.com/vi/${Er.videoid}/0.jpg`,onClick:ci=>Qt(Er)},null,8,_hoisted_12$2)):createCommentVNode("",!0),Er.iiif?(openBlock(),createElementBlock("ve-manifest-popup",{key:2,manifest:Er.src},null,8,_hoisted_13$2)):createCommentVNode("",!0)],40,_hoisted_10$3)]))],64))),256))],2)):we.value==="image-compare"?(openBlock(),createElementBlock("div",_hoisted_14$1,[createVNode(un,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Le.value,(Er,Or)=>(openBlock(),createElementBlock("img",{key:`img-${Or}`,slot:Or===0?"before":"after",src:Er,alt:unref(label)(Oe.value[Or])},null,8,_hoisted_15$1))),128))]),_:1})])):we.value==="audio"?(openBlock(),createElementBlock("div",_hoisted_16,[createBaseVNode("audio",_hoisted_17,[createBaseVNode("source",{src:Ye.value,type:Kt.value},null,8,_hoisted_18)]),z.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:0,manifest:Oe.value[0].id},null,8,_hoisted_19))])):we.value==="video"?(openBlock(),createElementBlock("div",_hoisted_20,[unref(en)?(openBlock(),createElementBlock("div",_hoisted_21)):unref(Fn)?(openBlock(),createElementBlock("div",_hoisted_22)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("video",{id:"html5-player",controls:"",playsinline:"",muted:z.muted,autoplay:z.autoplay,poster:z.poster},[createBaseVNode("source",{src:Ye.value,type:Kt.value},null,8,_hoisted_24)],8,_hoisted_23),z.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:0,manifest:Oe.value[0].id},null,8,_hoisted_25))],64))])):createCommentVNode("",!0)]),we.value==="image"&&de.value>1?(openBlock(),createElementBlock("ve-pager",{key:0,total:de.value,current:Pt.value,onImageSelected:ye},null,40,_hoisted_26)):createCommentVNode("",!0),ce.value&&!z.noCaption?(openBlock(),createElementBlock("div",{key:1,id:"caption-bar",onClick:ht},[we.value==="image"?(openBlock(),createElementBlock("div",{key:0,id:"annotations-icon",class:"button-icon-with-badge",onClick:Lt},[Ft.value?(openBlock(),createElementBlock(Fragment,{key:0},[Ct.value?(openBlock(),createBlock(je,{key:0,name:"chat-square",label:"Hide annotations"})):(openBlock(),createBlock(je,{key:1,name:"pencil",label:"Edit annotations"})),!Ct.value&&At.value.length>0?(openBlock(),createBlock(gn,{key:2,variant:"danger",pill:""},{default:withCtx(()=>[createTextVNode(toDisplayString(At.value.length),1)]),_:1})):createCommentVNode("",!0)],64)):At.value.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[Ct.value?(openBlock(),createBlock(je,{key:0,name:"chat-square",label:"Hide annotations"})):(openBlock(),createBlock(je,{key:1,name:"chat-square-text",label:"Show annotations"})),Ct.value?createCommentVNode("",!0):(openBlock(),createBlock(gn,{key:2,variant:"danger",pill:""},{default:withCtx(()=>[createTextVNode(toDisplayString(At.value.length),1)]),_:1}))],64)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",{class:"label",innerHTML:ce.value},null,8,_hoisted_27)])):createCommentVNode("",!0),Yt.value?(openBlock(),createElementBlock("div",{key:2,id:"coords",innerHTML:Yt.value,onClick:En[1]||(En[1]=Er=>Qe(Yt.value||""))},null,8,_hoisted_28)):createCommentVNode("",!0)],2),createVNode(Hn,{id:"media-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},{default:withCtx(()=>[Dt.value?(openBlock(),createElementBlock("ve-media",{key:0,src:Dt.value,"zoom-on-scroll":""},null,8,_hoisted_29)):createCommentVNode("",!0),createVNode(In,{slot:"footer",class:"close",onClick:Qt,variant:"primary"},{default:withCtx(()=>[createTextVNode("Close")]),_:1})]),_:1})],42,_hoisted_1$7)],64)}}}),_style_0$6=`.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:2px;box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;border-radius:2px;box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}*{box-sizing:border-box}:host{display:block;padding-bottom:6px;background-color:inherit}.info-icon{position:absolute;top:12px;right:12px;width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center;visibility:hidden}.media-item:hover .info-icon{visibility:visible;transition:all .3s ease-in}.manifest-popover{background-color:#fff;border-radius:6px;width:300px;height:400px;overflow-y:scroll;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#outer{position:relative;width:100%;background-color:inherit;display:flex;justify-items:center;margin-bottom:12px}#inner{margin:auto;width:100%}#inner.image,.drop-shadow{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#content{width:100%}#osd,video{width:100%;height:100%}#caption-bar{display:flex;gap:6px;width:100%;align-items:center;height:32px;background-color:#555}#caption-bar .label{color:#fff;padding:0 9px;font-size:1.1rem;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.image-wrapper{position:relative;height:100%;width:100%}.grid-wrapper{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-auto-rows:1fr;grid-gap:18px;align-items:flex-start;justify-items:center}.grid-wrapper.small{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));grid-auto-rows:1fr;grid-gap:18px;align-items:flex-start;justify-items:center}.grid-wrapper>.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}.grid-wrapper img{border:1px solid #ccc;box-shadow:2px 2px 6px #0000004d;max-width:100%;cursor:pointer}#coords{position:absolute;display:flex;align-items:center;justify-content:flex-end;font-family:sans-serif;bottom:0;right:0;width:130px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#coords:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy}.info-icon span{position:absolute;top:20px;right:20px;font-size:24px;z-index:2;opacity:0;border-radius:50%;border:1px solid white;background-color:#0003}.media-item{position:relative}.media-item:hover .info-icon span{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:pointer;color:#fff}.info-icon:hover svg{fill:#000}.view .r6o-footer{display:none}.r6o-widget.comment .r6o-readonly-comment{display:inline;padding:0}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important;line-height:1.4;padding:0;border-bottom:none}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}.r6o-widget.comment{padding:6px 6px 4px;border-radius:4px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}ul.annotations{list-style:none;padding-left:0}.annotations li{display:flex;align-items:center;gap:6px;padding:6px 0}.annotations li:hover{background-color:#fff3;cursor:pointer}.compare{height:100%;width:100%;position:relative;overflow:hidden;border:5px solid #bfc0c1;box-shadow:-3px 5px 15px #000}.compare img{width:100%;height:100%;position:absolute}#compare-img-2{-webkit-clip-path:polygon(0 0,50% 0,50% 100%,0 100%);clip-path:polygon(0 0,50% 0,50% 100%,0 100%)}#slider{position:relative;-webkit-appearance:none;width:calc(100% + 40px);height:100%;margin-left:-20px;background-color:transparent;outline:none}#slider::-webkit-slider-thumb{-webkit-appearance:none;height:45px;width:45px;background:rgba(255,255,255,.3);border:4px solid white;border-radius:50%;background-size:contain;cursor:pointer}audio#html5-player{width:calc(100% - 60px);max-width:50vh}.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.popup-overview sl-popup{--arrow-color: var(--sl-color-primary-600)}.popup-overview span[slot=anchor]{display:inline-block;width:150px;height:150px;border:dashed 2px var(--sl-color-neutral-600);margin:50px}.popup-overview .box{width:100px;height:50px;background:var(--sl-color-primary-600);border-radius:var(--sl-border-radius-medium)}.popup-overview-options{display:flex;flex-wrap:wrap;align-items:end;gap:1rem}.popup-overview-options sl-select{width:160px}.popup-overview-options sl-input{width:100px}.popup-overview-options+.popup-overview-options{margin-top:1rem}sl-popup{--arrow-color: var(--sl-color-primary-600)}.media-item .box{width:300px;height:600px;background:white;border-radius:var(--sl-border-radius-medium)}#annotations-icon{position:relative;cursor:pointer}#annotations-icon sl-icon-button::part(base){color:#fff;font-size:1.2rem;padding:3px}.button-icon-with-badge{display:inline-block;position:relative;margin:0 6px}.button-icon-with-badge sl-badge{position:absolute;left:70%;top:0;cursor:pointer}.button-icon-with-badge sl-badge::part(base){font-size:.7rem;background-color:#ff0;color:#000;font-weight:700;padding:4px 5px 1px;border:unset}#youtube-placeholder,#ve-video-vimeo{width:100%}ve-manifest-popup{position:absolute;top:12px;right:12px;visibility:hidden;opacity:0;cursor:pointer}.media-item:hover ve-manifest-popup{visibility:visible;opacity:.8;transition:all .5s ease-in}
`,MediaViewer=_export_sfc(_sfc_main$9,[["styles",[_style_0$6]]]);/*
 * Util
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */const MenuSearchHistory={historyIndex:-1,addHistory(D){this.historyIndex=D},existsInHistory(D){return D>this.historyIndex},clearHistory(){this.historyIndex=-1}};/*
 * HSDropdown
 * @version: 1.3.0
 * @author: HtmlStream
 * @requires: @popperjs/core ^2.11.2
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */const isIOS=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),isIpadOS=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform);class HSDropdown extends Component{constructor(z){super(".hs-dropdown");F1(this,"root");this.root=z,this.positions={top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-top":"right-start","right-bottom":"right-end",left:"left","left-top":"left-start","left-bottom":"left-end"},this.absoluteStrategyModifiers=F=>[{name:"applyStyles",fn:Y=>{const W=(window.getComputedStyle(F).getPropertyValue("--strategy")||"absolute").replace(" ",""),q=(window.getComputedStyle(F).getPropertyValue("--adaptive")||"adaptive").replace(" ","");Y.state.elements.popper.style.position=W,Y.state.elements.popper.style.transform=q==="adaptive"?Y.state.styles.popper.transform:null,Y.state.elements.popper.style.top=null,Y.state.elements.popper.style.bottom=null,Y.state.elements.popper.style.left=null,Y.state.elements.popper.style.right=null,Y.state.elements.popper.style.margin=0}},{name:"computeStyles",options:{adaptive:!1}}],this._history=MenuSearchHistory}init(){this.root.addEventListener("click",z=>{const F=z.target,Y=F.closest(this.selector),W=F.closest(".hs-dropdown-menu");if((!Y||!Y.classList.contains("open"))&&this._closeOthers(Y),W){const q=(window.getComputedStyle(Y).getPropertyValue("--auto-close")||"").replace(" ","");if((q=="false"||q=="inside")&&!Y.parentElement.closest(this.selector))return}Y&&(Y.classList.contains("open")?this.close(Y):this.open(Y))}),this.root.addEventListener("mousemove",z=>{const F=z.target,Y=F.closest(this.selector);if(F.closest(".hs-dropdown-menu"),Y){const W=(window.getComputedStyle(Y).getPropertyValue("--trigger")||"click").replace(" ","");if(W!=="hover")return;(!Y||!Y.classList.contains("open"))&&this._closeOthers(Y),W==="hover"&&!Y.classList.contains("open")&&!isIOS()&&!isIpadOS()&&this._hover(F)}}),this.root.addEventListener("keydown",this._keyboardSupport.bind(this)),window.addEventListener("resize",()=>{this.root.querySelectorAll(".hs-dropdown.open").forEach(F=>{this.close(F,!0)})})}_closeOthers(z=null){this.root.querySelectorAll(`${this.selector}.open`).forEach(Y=>{if(z&&z.closest(".hs-dropdown.open")===Y)return;const W=(window.getComputedStyle(Y).getPropertyValue("--auto-close")||"").replace(" ","");W=="false"||W=="outside"||this.close(Y)})}_hover(z){const F=z.closest(this.selector);this.open(F);const Y=W=>{(!W.target.closest(this.selector)||W.target.closest(this.selector)===F.parentElement.closest(this.selector))&&(this.close(F),this.root.removeEventListener("mousemove",Y,!0))};this.root.addEventListener("mousemove",Y,!0)}close(z,F=!1){const Y=z.querySelector(".hs-dropdown-menu"),W=()=>{z.classList.contains("open")||(Y.classList.remove("block"),Y.classList.add("hidden"),Y.style.inset=null,Y.style.position=null,z._popper&&z._popper.destroy())};F||this.afterTransition(z.querySelector("[data-hs-dropdown-transition]")||Y,()=>{W()}),Y.style.margin=null,z.classList.remove("open"),F&&W(),this._fireEvent("close",z),this._dispatch("close.hs.dropdown",z,z),Y.querySelectorAll(".hs-dropdown.open").forEach(X=>{this.close(X,!0)})}open(z){const F=z.querySelector(".hs-dropdown-menu"),Y=(window.getComputedStyle(z).getPropertyValue("--placement")||"").replace(" ",""),W=(window.getComputedStyle(z).getPropertyValue("--strategy")||"fixed").replace(" ","");(window.getComputedStyle(z).getPropertyValue("--adaptive")||"adaptive").replace(" ","");const q=parseInt((window.getComputedStyle(z).getPropertyValue("--offset")||"10").replace(" ",""));if(W!=="static"){z._popper&&z._popper.destroy();const X=createPopper(z,F,{placement:this.positions[Y]||"bottom-start",strategy:W,modifiers:[...W!=="fixed"?this.absoluteStrategyModifiers(z):[],{name:"offset",options:{offset:[0,q]}}]});z._popper=X}F.style.margin=null,F.classList.add("block"),F.classList.remove("hidden"),setTimeout(()=>{z.classList.add("open")}),this._fireEvent("open",z),this._dispatch("open.hs.dropdown",z,z)}_keyboardSupport(z){const F=this.root.querySelector(".hs-dropdown.open");if(F){if(z.keyCode===27)return z.preventDefault(),this._esc(F);if(z.keyCode===40)return z.preventDefault(),this._down(F);if(z.keyCode===38)return z.preventDefault(),this._up(F);if(z.keyCode===36)return z.preventDefault(),this._start(F);if(z.keyCode===35)return z.preventDefault(),this._end(F);this._byChar(F,z.key)}}_esc(z){this.close(z)}_up(z){const F=z.querySelector(".hs-dropdown-menu"),Y=[...F.querySelectorAll("a")].reverse().filter(X=>!X.disabled),W=F.querySelector("a:focus");let q=Y.findIndex(X=>X===W);q+1<Y.length&&q++,Y[q].focus()}_down(z){const F=z.querySelector(".hs-dropdown-menu"),Y=[...F.querySelectorAll("a")].filter(X=>!X.disabled),W=F.querySelector("a:focus");let q=Y.findIndex(X=>X===W);q+1<Y.length&&q++,Y[q].focus()}_start(z){const Y=[...z.querySelector(".hs-dropdown-menu").querySelectorAll("a")].filter(W=>!W.disabled);Y.length&&Y[0].focus()}_end(z){const Y=[...z.querySelector(".hs-dropdown-menu").querySelectorAll("a")].reverse().filter(W=>!W.disabled);Y.length&&Y[0].focus()}_byChar(z,F){const W=[...z.querySelector(".hs-dropdown-menu").querySelectorAll("a")],q=()=>W.findIndex((tt,nt)=>tt.innerText.toLowerCase().charAt(0)===F.toLowerCase()&&this._history.existsInHistory(nt));let X=q();X===-1&&(this._history.clearHistory(),X=q()),X!==-1&&(W[X].focus(),this._history.addHistory(X))}toggle(z){z.classList.contains("open")?this.close(z):this.open(z)}}var netlifyIdentity$1={exports:{}};(function(D,O){(function(z,F){D.exports=F()})(commonjsGlobal$1,function(){return function(z){var F={};function Y(W){if(F[W])return F[W].exports;var q=F[W]={i:W,l:!1,exports:{}};return z[W].call(q.exports,q,q.exports,Y),q.l=!0,q.exports}return Y.m=z,Y.c=F,Y.d=function(W,q,X){Y.o(W,q)||Object.defineProperty(W,q,{enumerable:!0,get:X})},Y.r=function(W){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})},Y.t=function(W,q){if(1&q&&(W=Y(W)),8&q||4&q&&typeof W=="object"&&W&&W.__esModule)return W;var X=Object.create(null);if(Y.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:W}),2&q&&typeof W!="string")for(var tt in W)Y.d(X,tt,(function(nt){return W[nt]}).bind(null,tt));return X},Y.n=function(W){var q=W&&W.__esModule?function(){return W.default}:function(){return W};return Y.d(q,"a",q),q},Y.o=function(W,q){return Object.prototype.hasOwnProperty.call(W,q)},Y.p="/",Y(Y.s=8)}([function(z,F,Y){Y.r(F),Y.d(F,"h",function(){return nt}),Y.d(F,"createElement",function(){return nt}),Y.d(F,"cloneElement",function(){return ht}),Y.d(F,"createRef",function(){return qe}),Y.d(F,"Component",function(){return Oe}),Y.d(F,"render",function(){return Je}),Y.d(F,"rerender",function(){return _t}),Y.d(F,"options",function(){return q});var W=function(){},q={},X=[],tt=[];function nt(we,Me){var He,Le,Ye,Kt,kt=tt;for(Kt=arguments.length;Kt-- >2;)X.push(arguments[Kt]);for(Me&&Me.children!=null&&(X.length||X.push(Me.children),delete Me.children);X.length;)if((Le=X.pop())&&Le.pop!==void 0)for(Kt=Le.length;Kt--;)X.push(Le[Kt]);else typeof Le=="boolean"&&(Le=null),(Ye=typeof we!="function")&&(Le==null?Le="":typeof Le=="number"?Le=String(Le):typeof Le!="string"&&(Ye=!1)),Ye&&He?kt[kt.length-1]+=Le:kt===tt?kt=[Le]:kt.push(Le),He=Ye;var jt=new W;return jt.nodeName=we,jt.children=kt,jt.attributes=Me??void 0,jt.key=Me==null?void 0:Me.key,q.vnode!==void 0&&q.vnode(jt),jt}function st(we,Me){for(var He in Me)we[He]=Me[He];return we}function ct(we,Me){we&&(typeof we=="function"?we(Me):we.current=Me)}var lt=typeof Promise=="function"?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function ht(we,Me){return nt(we.nodeName,st(st({},we.attributes),Me),arguments.length>2?[].slice.call(arguments,2):we.children)}var bt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,wt=[];function mt(we){!we._dirty&&(we._dirty=!0)&&wt.push(we)==1&&(q.debounceRendering||lt)(_t)}function _t(){for(var we;we=wt.pop();)we._dirty&&Ce(we)}function Et(we,Me,He){return typeof Me=="string"||typeof Me=="number"?we.splitText!==void 0:typeof Me.nodeName=="string"?!we._componentConstructor&&At(we,Me.nodeName):He||we._componentConstructor===Me.nodeName}function At(we,Me){return we.normalizedNodeName===Me||we.nodeName.toLowerCase()===Me.toLowerCase()}function Ct(we){var Me=st({},we.attributes);Me.children=we.children;var He=we.nodeName.defaultProps;if(He!==void 0)for(var Le in He)Me[Le]===void 0&&(Me[Le]=He[Le]);return Me}function Ft(we){var Me=we.parentNode;Me&&Me.removeChild(we)}function Lt(we,Me,He,Le,Ye){if(Me==="className"&&(Me="class"),Me!=="key")if(Me==="ref")ct(He,null),ct(Le,we);else if(Me!=="class"||Ye)if(Me==="style"){if(Le&&typeof Le!="string"&&typeof He!="string"||(we.style.cssText=Le||""),Le&&typeof Le=="object"){if(typeof He!="string")for(var Kt in He)Kt in Le||(we.style[Kt]="");for(var Kt in Le)we.style[Kt]=typeof Le[Kt]=="number"&&bt.test(Kt)===!1?Le[Kt]+"px":Le[Kt]}}else if(Me==="dangerouslySetInnerHTML")Le&&(we.innerHTML=Le.__html||"");else if(Me[0]=="o"&&Me[1]=="n"){var kt=Me!==(Me=Me.replace(/Capture$/,""));Me=Me.toLowerCase().substring(2),Le?He||we.addEventListener(Me,Yt,kt):we.removeEventListener(Me,Yt,kt),(we._listeners||(we._listeners={}))[Me]=Le}else if(Me!=="list"&&Me!=="type"&&!Ye&&Me in we){try{we[Me]=Le??""}catch{}Le!=null&&Le!==!1||Me=="spellcheck"||we.removeAttribute(Me)}else{var jt=Ye&&Me!==(Me=Me.replace(/^xlink:?/,""));Le==null||Le===!1?jt?we.removeAttributeNS("http://www.w3.org/1999/xlink",Me.toLowerCase()):we.removeAttribute(Me):typeof Le!="function"&&(jt?we.setAttributeNS("http://www.w3.org/1999/xlink",Me.toLowerCase(),Le):we.setAttribute(Me,Le))}else we.className=Le||""}function Yt(we){return this._listeners[we.type](q.event&&q.event(we)||we)}var Ht=[],qt=0,te=!1,Xt=!1;function Dt(){for(var we;we=Ht.shift();)q.afterMount&&q.afterMount(we),we.componentDidMount&&we.componentDidMount()}function Qt(we,Me,He,Le,Ye,Kt){qt++||(te=Ye!=null&&Ye.ownerSVGElement!==void 0,Xt=we!=null&&!("__preactattr_"in we));var kt=Nt(we,Me,He,Le,Kt);return Ye&&kt.parentNode!==Ye&&Ye.appendChild(kt),--qt||(Xt=!1,Kt||Dt()),kt}function Nt(we,Me,He,Le,Ye){var Kt=we,kt=te;if(Me!=null&&typeof Me!="boolean"||(Me=""),typeof Me=="string"||typeof Me=="number")return we&&we.splitText!==void 0&&we.parentNode&&(!we._component||Ye)?we.nodeValue!=Me&&(we.nodeValue=Me):(Kt=document.createTextNode(Me),we&&(we.parentNode&&we.parentNode.replaceChild(Kt,we),ce(we,!0))),Kt.__preactattr_=!0,Kt;var jt,$t,oe=Me.nodeName;if(typeof oe=="function")return function($e,Fe,Qe,We){for(var rn=$e&&$e._component,zn=rn,Bn=$e,Pn=rn&&$e._componentConstructor===Fe.nodeName,jn=Pn,Jn=Ct(Fe);rn&&!jn&&(rn=rn._parentComponent);)jn=rn.constructor===Fe.nodeName;return rn&&jn&&(!We||rn._component)?(ve(rn,Jn,3,Qe,We),$e=rn.base):(zn&&!Pn&&(De(zn),$e=Bn=null),rn=ye(Fe.nodeName,Jn,Qe),$e&&!rn.nextBase&&(rn.nextBase=$e,Bn=null),ve(rn,Jn,1,Qe,We),$e=rn.base,Bn&&$e!==Bn&&(Bn._component=null,ce(Bn,!1))),$e}(we,Me,He,Le);if(te=oe==="svg"||oe!=="foreignObject"&&te,oe=String(oe),(!we||!At(we,oe))&&(jt=oe,($t=te?document.createElementNS("http://www.w3.org/2000/svg",jt):document.createElement(jt)).normalizedNodeName=jt,Kt=$t,we)){for(;we.firstChild;)Kt.appendChild(we.firstChild);we.parentNode&&we.parentNode.replaceChild(Kt,we),ce(we,!0)}var Vt=Kt.firstChild,Be=Kt.__preactattr_,ge=Me.children;if(Be==null){Be=Kt.__preactattr_={};for(var Pe=Kt.attributes,ke=Pe.length;ke--;)Be[Pe[ke].name]=Pe[ke].value}return!Xt&&ge&&ge.length===1&&typeof ge[0]=="string"&&Vt!=null&&Vt.splitText!==void 0&&Vt.nextSibling==null?Vt.nodeValue!=ge[0]&&(Vt.nodeValue=ge[0]):(ge&&ge.length||Vt!=null)&&function($e,Fe,Qe,We,rn){var zn,Bn,Pn,jn,Jn,rr=$e.childNodes,sr=[],on={},ie=0,ne=0,xe=rr.length,Ae=0,Ve=Fe?Fe.length:0;if(xe!==0)for(var vn=0;vn<xe;vn++){var Ge=rr[vn],Dn=Ge.__preactattr_;(en=Ve&&Dn?Ge._component?Ge._component.__key:Dn.key:null)!=null?(ie++,on[en]=Ge):(Dn||(Ge.splitText!==void 0?!rn||Ge.nodeValue.trim():rn))&&(sr[Ae++]=Ge)}if(Ve!==0)for(vn=0;vn<Ve;vn++){var en;if(jn=Fe[vn],Jn=null,(en=jn.key)!=null)ie&&on[en]!==void 0&&(Jn=on[en],on[en]=void 0,ie--);else if(ne<Ae){for(zn=ne;zn<Ae;zn++)if(sr[zn]!==void 0&&Et(Bn=sr[zn],jn,rn)){Jn=Bn,sr[zn]=void 0,zn===Ae-1&&Ae--,zn===ne&&ne++;break}}Jn=Nt(Jn,jn,Qe,We),Pn=rr[vn],Jn&&Jn!==$e&&Jn!==Pn&&(Pn==null?$e.appendChild(Jn):Jn===Pn.nextSibling?Ft(Pn):$e.insertBefore(Jn,Pn))}if(ie)for(var vn in on)on[vn]!==void 0&&ce(on[vn],!1);for(;ne<=Ae;)(Jn=sr[Ae--])!==void 0&&ce(Jn,!1)}(Kt,ge,He,Le,Xt||Be.dangerouslySetInnerHTML!=null),function($e,Fe,Qe){var We;for(We in Qe)Fe&&Fe[We]!=null||Qe[We]==null||Lt($e,We,Qe[We],Qe[We]=void 0,te);for(We in Fe)We==="children"||We==="innerHTML"||We in Qe&&Fe[We]===(We==="value"||We==="checked"?$e[We]:Qe[We])||Lt($e,We,Qe[We],Qe[We]=Fe[We],te)}(Kt,Me.attributes,Be),te=kt,Kt}function ce(we,Me){var He=we._component;He?De(He):(we.__preactattr_!=null&&ct(we.__preactattr_.ref,null),Me!==!1&&we.__preactattr_!=null||Ft(we),Pt(we))}function Pt(we){for(we=we.lastChild;we;){var Me=we.previousSibling;ce(we,!0),we=Me}}var de=[];function ye(we,Me,He){var Le,Ye=de.length;for(we.prototype&&we.prototype.render?(Le=new we(Me,He),Oe.call(Le,Me,He)):((Le=new Oe(Me,He)).constructor=we,Le.render=pe);Ye--;)if(de[Ye].constructor===we)return Le.nextBase=de[Ye].nextBase,de.splice(Ye,1),Le;return Le}function pe(we,Me,He){return this.constructor(we,He)}function ve(we,Me,He,Le,Ye){we._disable||(we._disable=!0,we.__ref=Me.ref,we.__key=Me.key,delete Me.ref,delete Me.key,we.constructor.getDerivedStateFromProps===void 0&&(!we.base||Ye?we.componentWillMount&&we.componentWillMount():we.componentWillReceiveProps&&we.componentWillReceiveProps(Me,Le)),Le&&Le!==we.context&&(we.prevContext||(we.prevContext=we.context),we.context=Le),we.prevProps||(we.prevProps=we.props),we.props=Me,we._disable=!1,He!==0&&(He!==1&&q.syncComponentUpdates===!1&&we.base?mt(we):Ce(we,1,Ye)),ct(we.__ref,we))}function Ce(we,Me,He,Le){if(!we._disable){var Ye,Kt,kt,jt=we.props,$t=we.state,oe=we.context,Vt=we.prevProps||jt,Be=we.prevState||$t,ge=we.prevContext||oe,Pe=we.base,ke=we.nextBase,$e=Pe||ke,Fe=we._component,Qe=!1,We=ge;if(we.constructor.getDerivedStateFromProps&&($t=st(st({},$t),we.constructor.getDerivedStateFromProps(jt,$t)),we.state=$t),Pe&&(we.props=Vt,we.state=Be,we.context=ge,Me!==2&&we.shouldComponentUpdate&&we.shouldComponentUpdate(jt,$t,oe)===!1?Qe=!0:we.componentWillUpdate&&we.componentWillUpdate(jt,$t,oe),we.props=jt,we.state=$t,we.context=oe),we.prevProps=we.prevState=we.prevContext=we.nextBase=null,we._dirty=!1,!Qe){Ye=we.render(jt,$t,oe),we.getChildContext&&(oe=st(st({},oe),we.getChildContext())),Pe&&we.getSnapshotBeforeUpdate&&(We=we.getSnapshotBeforeUpdate(Vt,Be));var rn,zn,Bn=Ye&&Ye.nodeName;if(typeof Bn=="function"){var Pn=Ct(Ye);(Kt=Fe)&&Kt.constructor===Bn&&Pn.key==Kt.__key?ve(Kt,Pn,1,oe,!1):(rn=Kt,we._component=Kt=ye(Bn,Pn,oe),Kt.nextBase=Kt.nextBase||ke,Kt._parentComponent=we,ve(Kt,Pn,0,oe,!1),Ce(Kt,1,He,!0)),zn=Kt.base}else kt=$e,(rn=Fe)&&(kt=we._component=null),($e||Me===1)&&(kt&&(kt._component=null),zn=Qt(kt,Ye,oe,He||!Pe,$e&&$e.parentNode,!0));if($e&&zn!==$e&&Kt!==Fe){var jn=$e.parentNode;jn&&zn!==jn&&(jn.replaceChild(zn,$e),rn||($e._component=null,ce($e,!1)))}if(rn&&De(rn),we.base=zn,zn&&!Le){for(var Jn=we,rr=we;rr=rr._parentComponent;)(Jn=rr).base=zn;zn._component=Jn,zn._componentConstructor=Jn.constructor}}for(!Pe||He?Ht.push(we):Qe||(we.componentDidUpdate&&we.componentDidUpdate(Vt,Be,We),q.afterUpdate&&q.afterUpdate(we));we._renderCallbacks.length;)we._renderCallbacks.pop().call(we);qt||Le||Dt()}}function De(we){q.beforeUnmount&&q.beforeUnmount(we);var Me=we.base;we._disable=!0,we.componentWillUnmount&&we.componentWillUnmount(),we.base=null;var He=we._component;He?De(He):Me&&(Me.__preactattr_!=null&&ct(Me.__preactattr_.ref,null),we.nextBase=Me,Ft(Me),de.push(we),Pt(Me)),ct(we.__ref,null)}function Oe(we,Me){this._dirty=!0,this.context=Me,this.props=we,this.state=this.state||{},this._renderCallbacks=[]}function Je(we,Me,He){return Qt(He,we,{},!1,Me,!1)}function qe(){return{}}st(Oe.prototype,{setState:function(we,Me){this.prevState||(this.prevState=this.state),this.state=st(st({},this.state),typeof we=="function"?we(this.state,this.props):we),Me&&this._renderCallbacks.push(Me),mt(this)},forceUpdate:function(we){we&&this._renderCallbacks.push(we),Ce(this,2)},render:function(){}});var ze={h:nt,createElement:nt,cloneElement:ht,createRef:qe,Component:Oe,render:Je,rerender:_t,options:q};F.default=ze},function(z,F,Y){Y.r(F),(function(W){Y.d(F,"$mobx",function(){return Ht}),Y.d(F,"FlowCancellationError",function(){return Yo}),Y.d(F,"IDerivationState",function(){return ge}),Y.d(F,"ObservableMap",function(){return Nc}),Y.d(F,"ObservableSet",function(){return Dc}),Y.d(F,"Reaction",function(){return Hn}),Y.d(F,"_allowStateChanges",function(){return Fn}),Y.d(F,"_allowStateChangesInsideComputed",function(){return Wn}),Y.d(F,"_allowStateReadsEnd",function(){return ie}),Y.d(F,"_allowStateReadsStart",function(){return on}),Y.d(F,"_endAction",function(){return en}),Y.d(F,"_getAdministration",function(){return Ks}),Y.d(F,"_getGlobalState",function(){return zi}),Y.d(F,"_interceptReads",function(){return gl}),Y.d(F,"_isComputingDerivation",function(){return zn}),Y.d(F,"_resetGlobalState",function(){return uo}),Y.d(F,"_startAction",function(){return Dn}),Y.d(F,"action",function(){return $r}),Y.d(F,"autorun",function(){return xs}),Y.d(F,"comparer",function(){return Dt}),Y.d(F,"computed",function(){return Fe}),Y.d(F,"configure",function(){return ur}),Y.d(F,"createAtom",function(){return Xt}),Y.d(F,"decorate",function(){return Yr}),Y.d(F,"entries",function(){return dh}),Y.d(F,"extendObservable",function(){return Qs}),Y.d(F,"flow",function(){return Os}),Y.d(F,"get",function(){return fh}),Y.d(F,"getAtom",function(){return ca}),Y.d(F,"getDebugName",function(){return vs}),Y.d(F,"getDependencyTree",function(){return Mo}),Y.d(F,"getObserverTree",function(){return Es}),Y.d(F,"has",function(){return jl}),Y.d(F,"intercept",function(){return zl}),Y.d(F,"isAction",function(){return Nr}),Y.d(F,"isArrayLike",function(){return _t}),Y.d(F,"isBoxedObservable",function(){return ir}),Y.d(F,"isComputed",function(){return nu}),Y.d(F,"isComputedProp",function(){return Cc}),Y.d(F,"isFlowCancellationError",function(){return wa}),Y.d(F,"isObservable",function(){return Kr}),Y.d(F,"isObservableArray",function(){return ko}),Y.d(F,"isObservableMap",function(){return Ms}),Y.d(F,"isObservableObject",function(){return Vo}),Y.d(F,"isObservableProp",function(){return ja}),Y.d(F,"isObservableSet",function(){return Jo}),Y.d(F,"keys",function(){return zr}),Y.d(F,"observable",function(){return Vt}),Y.d(F,"observe",function(){return xa}),Y.d(F,"onBecomeObserved",function(){return ei}),Y.d(F,"onBecomeUnobserved",function(){return Pr}),Y.d(F,"onReactionError",function(){return Er}),Y.d(F,"reaction",function(){return Ka}),Y.d(F,"remove",function(){return iu}),Y.d(F,"runInAction",function(){return er}),Y.d(F,"set",function(){return ru}),Y.d(F,"spy",function(){return Co}),Y.d(F,"toJS",function(){return ph}),Y.d(F,"trace",function(){return gh}),Y.d(F,"transaction",function(){return Ba}),Y.d(F,"untracked",function(){return Jn}),Y.d(F,"values",function(){return aa}),Y.d(F,"when",function(){return Ea});var q=[];Object.freeze(q);var X={};function tt(){return++Un.mobxGuid}function nt(Ot){throw st(!1,Ot),"X"}function st(Ot,Rt){if(!Ot)throw new Error("[mobx] "+(Rt||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(X);function ct(Ot){var Rt=!1;return function(){if(!Rt)return Rt=!0,Ot.apply(this,arguments)}}var lt=function(){};function ht(Ot){return Ot!==null&&typeof Ot=="object"}function bt(Ot){if(Ot===null||typeof Ot!="object")return!1;var Rt=Object.getPrototypeOf(Ot);return Rt===Object.prototype||Rt===null}function wt(Ot,Rt,ae){Object.defineProperty(Ot,Rt,{enumerable:!1,writable:!0,configurable:!0,value:ae})}function mt(Ot,Rt){var ae="isMobX"+Ot;return Rt.prototype[ae]=!0,function(Se){return ht(Se)&&Se[ae]===!0}}function _t(Ot){return Array.isArray(Ot)||ko(Ot)}function Et(Ot){return Ot instanceof Map}function At(Ot){return Ot instanceof Set}function Ct(Ot){var Rt=new Set;for(var ae in Ot)Rt.add(ae);return Object.getOwnPropertySymbols(Ot).forEach(function(Se){Object.getOwnPropertyDescriptor(Ot,Se).enumerable&&Rt.add(Se)}),Array.from(Rt)}function Ft(Ot){return Ot&&Ot.toString?Ot.toString():new String(Ot).toString()}function Lt(Ot){return Ot===null?null:typeof Ot=="object"?""+Ot:Ot}var Yt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(Ot){return Object.getOwnPropertyNames(Ot).concat(Object.getOwnPropertySymbols(Ot))}:Object.getOwnPropertyNames,Ht=Symbol("mobx administration"),qt=function(){function Ot(Rt){Rt===void 0&&(Rt="Atom@"+tt()),this.name=Rt,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ge.NOT_TRACKING}return Ot.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(Rt){return Rt()})},Ot.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(Rt){return Rt()})},Ot.prototype.reportObserved=function(){return gn(this)},Ot.prototype.reportChanged=function(){un(),function(Rt){Rt.lowestObserverState!==ge.STALE&&(Rt.lowestObserverState=ge.STALE,Rt.observers.forEach(function(ae){ae.dependenciesState===ge.UP_TO_DATE&&(ae.isTracing!==Pe.NONE&&In(ae,Rt),ae.onBecomeStale()),ae.dependenciesState=ge.STALE}))}(this),je()},Ot.prototype.toString=function(){return this.name},Ot}(),te=mt("Atom",qt);function Xt(Ot,Rt,ae){Rt===void 0&&(Rt=lt),ae===void 0&&(ae=lt);var Se=new qt(Ot);return Rt!==lt&&ei(Se,Rt),ae!==lt&&Pr(Se,ae),Se}var Dt={identity:function(Ot,Rt){return Ot===Rt},structural:function(Ot,Rt){return Po(Ot,Rt)},default:function(Ot,Rt){return Object.is(Ot,Rt)},shallow:function(Ot,Rt){return Po(Ot,Rt,1)}},Qt=function(Ot,Rt){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,Se){ae.__proto__=Se}||function(ae,Se){for(var Re in Se)Se.hasOwnProperty(Re)&&(ae[Re]=Se[Re])})(Ot,Rt)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Nt=function(){return(Nt=Object.assign||function(Ot){for(var Rt,ae=1,Se=arguments.length;ae<Se;ae++)for(var Re in Rt=arguments[ae])Object.prototype.hasOwnProperty.call(Rt,Re)&&(Ot[Re]=Rt[Re]);return Ot}).apply(this,arguments)};function ce(Ot){var Rt=typeof Symbol=="function"&&Ot[Symbol.iterator],ae=0;return Rt?Rt.call(Ot):{next:function(){return Ot&&ae>=Ot.length&&(Ot=void 0),{value:Ot&&Ot[ae++],done:!Ot}}}}function Pt(Ot,Rt){var ae=typeof Symbol=="function"&&Ot[Symbol.iterator];if(!ae)return Ot;var Se,Re,Ke=ae.call(Ot),hn=[];try{for(;(Rt===void 0||Rt-- >0)&&!(Se=Ke.next()).done;)hn.push(Se.value)}catch(Ln){Re={error:Ln}}finally{try{Se&&!Se.done&&(ae=Ke.return)&&ae.call(Ke)}finally{if(Re)throw Re.error}}return hn}function de(){for(var Ot=[],Rt=0;Rt<arguments.length;Rt++)Ot=Ot.concat(Pt(arguments[Rt]));return Ot}var ye=Symbol("mobx did run lazy initializers"),pe=Symbol("mobx pending decorators"),ve={},Ce={};function De(Ot,Rt){var ae=Rt?ve:Ce;return ae[Ot]||(ae[Ot]={configurable:!0,enumerable:Rt,get:function(){return Oe(this),this[Ot]},set:function(Se){Oe(this),this[Ot]=Se}})}function Oe(Ot){var Rt,ae;if(Ot[ye]!==!0){var Se=Ot[pe];if(Se){wt(Ot,ye,!0);var Re=de(Object.getOwnPropertySymbols(Se),Object.keys(Se));try{for(var Ke=ce(Re),hn=Ke.next();!hn.done;hn=Ke.next()){var Ln=Se[hn.value];Ln.propertyCreator(Ot,Ln.prop,Ln.descriptor,Ln.decoratorTarget,Ln.decoratorArguments)}}catch(lr){Rt={error:lr}}finally{try{hn&&!hn.done&&(ae=Ke.return)&&ae.call(Ke)}finally{if(Rt)throw Rt.error}}}}}function Je(Ot,Rt){return function(){var ae,Se=function(Re,Ke,hn,Ln){if(Ln===!0)return Rt(Re,Ke,hn,Re,ae),null;if(!Object.prototype.hasOwnProperty.call(Re,pe)){var lr=Re[pe];wt(Re,pe,Nt({},lr))}return Re[pe][Ke]={prop:Ke,propertyCreator:Rt,descriptor:hn,decoratorTarget:Re,decoratorArguments:ae},De(Ke,Ot)};return qe(arguments)?(ae=q,Se.apply(null,arguments)):(ae=Array.prototype.slice.call(arguments),Se)}}function qe(Ot){return(Ot.length===2||Ot.length===3)&&(typeof Ot[1]=="string"||typeof Ot[1]=="symbol")||Ot.length===4&&Ot[3]===!0}function ze(Ot,Rt,ae){return Kr(Ot)?Ot:Array.isArray(Ot)?Vt.array(Ot,{name:ae}):bt(Ot)?Vt.object(Ot,void 0,{name:ae}):Et(Ot)?Vt.map(Ot,{name:ae}):At(Ot)?Vt.set(Ot,{name:ae}):Ot}function we(Ot){return Ot}function Me(Ot){st(Ot);var Rt=Je(!0,function(Se,Re,Ke,hn,Ln){var lr=Ke?Ke.initializer?Ke.initializer.call(Se):Ke.value:void 0;Ts(Se).addObservableProp(Re,lr,Ot)}),ae=Rt;return ae.enhancer=Ot,ae}var He={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Le(Ot){return Ot==null?He:typeof Ot=="string"?{name:Ot,deep:!0,proxy:!0}:Ot}Object.freeze(He);var Ye=Me(ze),Kt=Me(function(Ot,Rt,ae){return Ot==null||Vo(Ot)||ko(Ot)||Ms(Ot)||Jo(Ot)?Ot:Array.isArray(Ot)?Vt.array(Ot,{name:ae,deep:!1}):bt(Ot)?Vt.object(Ot,void 0,{name:ae,deep:!1}):Et(Ot)?Vt.map(Ot,{name:ae,deep:!1}):At(Ot)?Vt.set(Ot,{name:ae,deep:!1}):nt(!1)}),kt=Me(we),jt=Me(function(Ot,Rt,ae){return Po(Ot,Rt)?Rt:Ot});function $t(Ot){return Ot.defaultDecorator?Ot.defaultDecorator.enhancer:Ot.deep===!1?we:ze}var oe={box:function(Ot,Rt){arguments.length>2&&Be("box");var ae=Le(Rt);return new mr(Ot,$t(ae),ae.name,!0,ae.equals)},array:function(Ot,Rt){arguments.length>2&&Be("array");var ae=Le(Rt);return Ru(Ot,$t(ae),ae.name)},map:function(Ot,Rt){arguments.length>2&&Be("map");var ae=Le(Rt);return new Nc(Ot,$t(ae),ae.name)},set:function(Ot,Rt){arguments.length>2&&Be("set");var ae=Le(Rt);return new Dc(Ot,$t(ae),ae.name)},object:function(Ot,Rt,ae){typeof arguments[1]=="string"&&Be("object");var Se=Le(ae);if(Se.proxy===!1)return Qs({},Ot,Rt,Se);var Re=tl(Se),Ke=Qs({},void 0,void 0,Se),hn=kc(Ke);return _a(hn,Ot,Rt,Re),hn},ref:kt,shallow:Kt,deep:Ye,struct:jt},Vt=function(Ot,Rt,ae){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ye.apply(null,arguments);if(Kr(Ot))return Ot;var Se=bt(Ot)?Vt.object(Ot,Rt,ae):Array.isArray(Ot)?Vt.array(Ot,Rt):Et(Ot)?Vt.map(Ot,Rt):At(Ot)?Vt.set(Ot,Rt):Ot;if(Se!==Ot)return Se;nt(!1)};function Be(Ot){nt("Expected one or two arguments to observable."+Ot+". Did you accidentally try to use observable."+Ot+" as decorator?")}Object.keys(oe).forEach(function(Ot){return Vt[Ot]=oe[Ot]});var ge,Pe,ke=Je(!1,function(Ot,Rt,ae,Se,Re){var Ke=ae.get,hn=ae.set,Ln=Re[0]||{};Ts(Ot).addComputedProp(Ot,Rt,Nt({get:Ke,set:hn,context:Ot},Ln))}),$e=ke({equals:Dt.structural}),Fe=function(Ot,Rt,ae){if(typeof Rt=="string"||Ot!==null&&typeof Ot=="object"&&arguments.length===1)return ke.apply(null,arguments);var Se=typeof Rt=="object"?Rt:{};return Se.get=Ot,Se.set=typeof Rt=="function"?Rt:Se.set,Se.name=Se.name||Ot.name||"",new wr(Se)};Fe.struct=$e,function(Ot){Ot[Ot.NOT_TRACKING=-1]="NOT_TRACKING",Ot[Ot.UP_TO_DATE=0]="UP_TO_DATE",Ot[Ot.POSSIBLY_STALE=1]="POSSIBLY_STALE",Ot[Ot.STALE=2]="STALE"}(ge||(ge={})),function(Ot){Ot[Ot.NONE=0]="NONE",Ot[Ot.LOG=1]="LOG",Ot[Ot.BREAK=2]="BREAK"}(Pe||(Pe={}));var Qe=function(Ot){this.cause=Ot};function We(Ot){return Ot instanceof Qe}function rn(Ot){switch(Ot.dependenciesState){case ge.UP_TO_DATE:return!1;case ge.NOT_TRACKING:case ge.STALE:return!0;case ge.POSSIBLY_STALE:for(var Rt=on(!0),ae=rr(),Se=Ot.observing,Re=Se.length,Ke=0;Ke<Re;Ke++){var hn=Se[Ke];if(Lr(hn)){if(Un.disableErrorBoundaries)hn.get();else try{hn.get()}catch{return sr(ae),ie(Rt),!0}if(Ot.dependenciesState===ge.STALE)return sr(ae),ie(Rt),!0}}return ne(Ot),sr(ae),ie(Rt),!1}}function zn(){return Un.trackingDerivation!==null}function Bn(Ot){var Rt=Ot.observers.size>0;Un.computationDepth>0&&Rt&&nt(!1),Un.allowStateChanges||!Rt&&Un.enforceActions!=="strict"||nt(!1)}function Pn(Ot,Rt,ae){var Se=on(!0);ne(Ot),Ot.newObserving=new Array(Ot.observing.length+100),Ot.unboundDepsCount=0,Ot.runId=++Un.runId;var Re,Ke=Un.trackingDerivation;if(Un.trackingDerivation=Ot,Un.disableErrorBoundaries===!0)Re=Rt.call(ae);else try{Re=Rt.call(ae)}catch(hn){Re=new Qe(hn)}return Un.trackingDerivation=Ke,function(hn){for(var Ln=hn.observing,lr=hn.observing=hn.newObserving,yi=ge.UP_TO_DATE,ii=0,oo=hn.unboundDepsCount,Ci=0;Ci<oo;Ci++)(Ri=lr[Ci]).diffValue===0&&(Ri.diffValue=1,ii!==Ci&&(lr[ii]=Ri),ii++),Ri.dependenciesState>yi&&(yi=Ri.dependenciesState);for(lr.length=ii,hn.newObserving=null,oo=Ln.length;oo--;)(Ri=Ln[oo]).diffValue===0&&sn(Ri,hn),Ri.diffValue=0;for(;ii--;){var Ri;(Ri=lr[ii]).diffValue===1&&(Ri.diffValue=0,io(Ri,hn))}yi!==ge.UP_TO_DATE&&(hn.dependenciesState=yi,hn.onBecomeStale())}(Ot),ie(Se),Re}function jn(Ot){var Rt=Ot.observing;Ot.observing=[];for(var ae=Rt.length;ae--;)sn(Rt[ae],Ot);Ot.dependenciesState=ge.NOT_TRACKING}function Jn(Ot){var Rt=rr();try{return Ot()}finally{sr(Rt)}}function rr(){var Ot=Un.trackingDerivation;return Un.trackingDerivation=null,Ot}function sr(Ot){Un.trackingDerivation=Ot}function on(Ot){var Rt=Un.allowStateReads;return Un.allowStateReads=Ot,Rt}function ie(Ot){Un.allowStateReads=Ot}function ne(Ot){if(Ot.dependenciesState!==ge.UP_TO_DATE){Ot.dependenciesState=ge.UP_TO_DATE;for(var Rt=Ot.observing,ae=Rt.length;ae--;)Rt[ae].lowestObserverState=ge.UP_TO_DATE}}var xe=0,Ae=1,Ve=Object.getOwnPropertyDescriptor(function(){},"name");Ve&&Ve.configurable;function vn(Ot,Rt,ae){var Se=function(){return Ge(Ot,Rt,ae||this,arguments)};return Se.isMobxAction=!0,Se}function Ge(Ot,Rt,ae,Se){var Re=Dn();try{return Rt.apply(ae,Se)}catch(Ke){throw Re.error=Ke,Ke}finally{en(Re)}}function Dn(Ot,Rt,ae){var Se=0,Re=rr();un();var Ke={prevDerivation:Re,prevAllowStateChanges:$n(!0),prevAllowStateReads:on(!0),notifySpy:!1,startTime:Se,actionId:Ae++,parentActionId:xe};return xe=Ke.actionId,Ke}function en(Ot){xe!==Ot.actionId&&nt("invalid action stack. did you forget to finish an action?"),xe=Ot.parentActionId,Ot.error!==void 0&&(Un.suppressReactionErrors=!0),Kn(Ot.prevAllowStateChanges),ie(Ot.prevAllowStateReads),je(),sr(Ot.prevDerivation),Ot.notifySpy,Un.suppressReactionErrors=!1}function Fn(Ot,Rt){var ae,Se=$n(Ot);try{ae=Rt()}finally{Kn(Se)}return ae}function $n(Ot){var Rt=Un.allowStateChanges;return Un.allowStateChanges=Ot,Rt}function Kn(Ot){Un.allowStateChanges=Ot}function Wn(Ot){var Rt,ae=Un.computationDepth;Un.computationDepth=0;try{Rt=Ot()}finally{Un.computationDepth=ae}return Rt}var mr=function(Ot){function Rt(ae,Se,Re,Ke,hn){Re===void 0&&(Re="ObservableValue@"+tt()),hn===void 0&&(hn=Dt.default);var Ln=Ot.call(this,Re)||this;return Ln.enhancer=Se,Ln.name=Re,Ln.equals=hn,Ln.hasUnreportedChange=!1,Ln.value=Se(ae,void 0,Re),Ln}return function(ae,Se){function Re(){this.constructor=ae}Qt(ae,Se),ae.prototype=Se===null?Object.create(Se):(Re.prototype=Se.prototype,new Re)}(Rt,Ot),Rt.prototype.dehanceValue=function(ae){return this.dehancer!==void 0?this.dehancer(ae):ae},Rt.prototype.set=function(ae){this.value,(ae=this.prepareNewValue(ae))!==Un.UNCHANGED&&this.setNewValue(ae)},Rt.prototype.prepareNewValue=function(ae){if(Bn(this),Zs(this)){var Se=Js(this,{object:this,type:"update",newValue:ae});if(!Se)return Un.UNCHANGED;ae=Se.newValue}return ae=this.enhancer(ae,this.value,this.name),this.equals(this.value,ae)?Un.UNCHANGED:ae},Rt.prototype.setNewValue=function(ae){var Se=this.value;this.value=ae,this.reportChanged(),$a(this)&&Ma(this,{type:"update",object:this,newValue:ae,oldValue:Se})},Rt.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},Rt.prototype.intercept=function(ae){return ml(this,ae)},Rt.prototype.observe=function(ae,Se){return Se&&ae({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ac(this,ae)},Rt.prototype.toJSON=function(){return this.get()},Rt.prototype.toString=function(){return this.name+"["+this.value+"]"},Rt.prototype.valueOf=function(){return Lt(this.get())},Rt.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},Rt}(qt),ir=mt("ObservableValue",mr),wr=function(){function Ot(Rt){this.dependenciesState=ge.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ge.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+tt(),this.value=new Qe(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pe.NONE,st(Rt.get,"missing option for computed: get"),this.derivation=Rt.get,this.name=Rt.name||"ComputedValue@"+tt(),Rt.set&&(this.setter=vn(this.name+"-setter",Rt.set)),this.equals=Rt.equals||(Rt.compareStructural||Rt.struct?Dt.structural:Dt.default),this.scope=Rt.context,this.requiresReaction=!!Rt.requiresReaction,this.keepAlive=!!Rt.keepAlive}return Ot.prototype.onBecomeStale=function(){(function(Rt){Rt.lowestObserverState===ge.UP_TO_DATE&&(Rt.lowestObserverState=ge.POSSIBLY_STALE,Rt.observers.forEach(function(ae){ae.dependenciesState===ge.UP_TO_DATE&&(ae.dependenciesState=ge.POSSIBLY_STALE,ae.isTracing!==Pe.NONE&&In(ae,Rt),ae.onBecomeStale())}))})(this)},Ot.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(Rt){return Rt()})},Ot.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(Rt){return Rt()})},Ot.prototype.get=function(){this.isComputing&&nt("Cycle detected in computation "+this.name+": "+this.derivation),Un.inBatch!==0||this.observers.size!==0||this.keepAlive?(gn(this),rn(this)&&this.trackAndCompute()&&function(ae){ae.lowestObserverState!==ge.STALE&&(ae.lowestObserverState=ge.STALE,ae.observers.forEach(function(Se){Se.dependenciesState===ge.POSSIBLY_STALE?Se.dependenciesState=ge.STALE:Se.dependenciesState===ge.UP_TO_DATE&&(ae.lowestObserverState=ge.UP_TO_DATE)}))}(this)):rn(this)&&(this.warnAboutUntrackedRead(),un(),this.value=this.computeValue(!1),je());var Rt=this.value;if(We(Rt))throw Rt.cause;return Rt},Ot.prototype.peek=function(){var Rt=this.computeValue(!1);if(We(Rt))throw Rt.cause;return Rt},Ot.prototype.set=function(Rt){if(this.setter){st(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,Rt)}finally{this.isRunningSetter=!1}}else st(!1,!1)},Ot.prototype.trackAndCompute=function(){var Rt=this.value,ae=this.dependenciesState===ge.NOT_TRACKING,Se=this.computeValue(!0),Re=ae||We(Rt)||We(Se)||!this.equals(Rt,Se);return Re&&(this.value=Se),Re},Ot.prototype.computeValue=function(Rt){var ae;if(this.isComputing=!0,Un.computationDepth++,Rt)ae=Pn(this,this.derivation,this.scope);else if(Un.disableErrorBoundaries===!0)ae=this.derivation.call(this.scope);else try{ae=this.derivation.call(this.scope)}catch(Se){ae=new Qe(Se)}return Un.computationDepth--,this.isComputing=!1,ae},Ot.prototype.suspend=function(){this.keepAlive||(jn(this),this.value=void 0)},Ot.prototype.observe=function(Rt,ae){var Se=this,Re=!0,Ke=void 0;return xs(function(){var hn=Se.get();if(!Re||ae){var Ln=rr();Rt({type:"update",object:Se,newValue:hn,oldValue:Ke}),sr(Ln)}Re=!1,Ke=hn})},Ot.prototype.warnAboutUntrackedRead=function(){},Ot.prototype.toJSON=function(){return this.get()},Ot.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},Ot.prototype.valueOf=function(){return Lt(this.get())},Ot.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},Ot}(),Lr=mt("ComputedValue",wr),Dr=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Fo=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},xo={};function tr(){return typeof window<"u"?window:W!==void 0?W:typeof self<"u"?self:xo}var Cr=!0,go=!1,Un=function(){var Ot=tr();return Ot.__mobxInstanceCount>0&&!Ot.__mobxGlobals&&(Cr=!1),Ot.__mobxGlobals&&Ot.__mobxGlobals.version!==new Fo().version&&(Cr=!1),Cr?Ot.__mobxGlobals?(Ot.__mobxInstanceCount+=1,Ot.__mobxGlobals.UNCHANGED||(Ot.__mobxGlobals.UNCHANGED={}),Ot.__mobxGlobals):(Ot.__mobxInstanceCount=1,Ot.__mobxGlobals=new Fo):(setTimeout(function(){go||nt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Fo)}();function zi(){return Un}function uo(){var Ot=new Fo;for(var Rt in Ot)Dr.indexOf(Rt)===-1&&(Un[Rt]=Ot[Rt]);Un.allowStateChanges=!Un.enforceActions}function io(Ot,Rt){Ot.observers.add(Rt),Ot.lowestObserverState>Rt.dependenciesState&&(Ot.lowestObserverState=Rt.dependenciesState)}function sn(Ot,Rt){Ot.observers.delete(Rt),Ot.observers.size===0&&En(Ot)}function En(Ot){Ot.isPendingUnobservation===!1&&(Ot.isPendingUnobservation=!0,Un.pendingUnobservations.push(Ot))}function un(){Un.inBatch++}function je(){if(--Un.inBatch==0){ci();for(var Ot=Un.pendingUnobservations,Rt=0;Rt<Ot.length;Rt++){var ae=Ot[Rt];ae.isPendingUnobservation=!1,ae.observers.size===0&&(ae.isBeingObserved&&(ae.isBeingObserved=!1,ae.onBecomeUnobserved()),ae instanceof wr&&ae.suspend())}Un.pendingUnobservations=[]}}function gn(Ot){var Rt=Un.trackingDerivation;return Rt!==null?(Rt.runId!==Ot.lastAccessedBy&&(Ot.lastAccessedBy=Rt.runId,Rt.newObserving[Rt.unboundDepsCount++]=Ot,Ot.isBeingObserved||(Ot.isBeingObserved=!0,Ot.onBecomeObserved())),!0):(Ot.observers.size===0&&Un.inBatch>0&&En(Ot),!1)}function In(Ot,Rt){if(console.log("[mobx.trace] '"+Ot.name+"' is invalidated due to a change in: '"+Rt.name+"'"),Ot.isTracing===Pe.BREAK){var ae=[];(function Se(Re,Ke,hn){if(Ke.length>=1e3)return void Ke.push("(and many more)");Ke.push(""+new Array(hn).join("	")+Re.name),Re.dependencies&&Re.dependencies.forEach(function(Ln){return Se(Ln,Ke,hn+1)})})(Mo(Ot),ae,1),new Function(`debugger;
/*
Tracing '`+Ot.name+`'

You are entering this break point because derivation '`+Ot.name+"' is being traced and '"+Rt.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(Ot instanceof wr?Ot.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+ae.join(`
`)+`
*/
    `)()}}var Hn=function(){function Ot(Rt,ae,Se,Re){Rt===void 0&&(Rt="Reaction@"+tt()),Re===void 0&&(Re=!1),this.name=Rt,this.onInvalidate=ae,this.errorHandler=Se,this.requiresObservable=Re,this.observing=[],this.newObserving=[],this.dependenciesState=ge.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+tt(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pe.NONE}return Ot.prototype.onBecomeStale=function(){this.schedule()},Ot.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Un.pendingReactions.push(this),ci())},Ot.prototype.isScheduled=function(){return this._isScheduled},Ot.prototype.runReaction=function(){if(!this.isDisposed){if(un(),this._isScheduled=!1,rn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(Rt){this.reportExceptionInDerivation(Rt)}}je()}},Ot.prototype.track=function(Rt){if(!this.isDisposed){un(),this._isRunning=!0;var ae=Pn(this,Rt,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&jn(this),We(ae)&&this.reportExceptionInDerivation(ae.cause),je()}},Ot.prototype.reportExceptionInDerivation=function(Rt){var ae=this;if(this.errorHandler)this.errorHandler(Rt,this);else{if(Un.disableErrorBoundaries)throw Rt;var Se="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Un.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(Se,Rt),Un.globalReactionErrorHandlers.forEach(function(Re){return Re(Rt,ae)})}},Ot.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(un(),jn(this),je()))},Ot.prototype.getDisposer=function(){var Rt=this.dispose.bind(this);return Rt[Ht]=this,Rt},Ot.prototype.toString=function(){return"Reaction["+this.name+"]"},Ot.prototype.trace=function(Rt){Rt===void 0&&(Rt=!1),gh(this,Rt)},Ot}();function Er(Ot){return Un.globalReactionErrorHandlers.push(Ot),function(){var Rt=Un.globalReactionErrorHandlers.indexOf(Ot);Rt>=0&&Un.globalReactionErrorHandlers.splice(Rt,1)}}var Or=function(Ot){return Ot()};function ci(){Un.inBatch>0||Un.isRunningReactions||Or(Si)}function Si(){Un.isRunningReactions=!0;for(var Ot=Un.pendingReactions,Rt=0;Ot.length>0;){++Rt==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+Ot[0]),Ot.splice(0));for(var ae=Ot.splice(0),Se=0,Re=ae.length;Se<Re;Se++)ae[Se].runReaction()}Un.isRunningReactions=!1}var si=mt("Reaction",Hn);function mo(Ot){var Rt=Or;Or=function(ae){return Ot(function(){return Rt(ae)})}}function Co(Ot){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Uo(){nt(!1)}function _r(Ot){return function(Rt,ae,Se){if(Se){if(Se.value)return{value:vn(Ot,Se.value),enumerable:!1,configurable:!0,writable:!0};var Re=Se.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return vn(Ot,Re.call(this))}}}return Ir(Ot).apply(this,arguments)}}function Ir(Ot){return function(Rt,ae,Se){Object.defineProperty(Rt,ae,{configurable:!0,enumerable:!1,get:function(){},set:function(Re){wt(this,ae,$r(Ot,Re))}})}}var $r=function(Ot,Rt,ae,Se){return arguments.length===1&&typeof Ot=="function"?vn(Ot.name||"<unnamed action>",Ot):arguments.length===2&&typeof Rt=="function"?vn(Ot,Rt):arguments.length===1&&typeof Ot=="string"?_r(Ot):Se!==!0?_r(Rt).apply(null,arguments):void wt(Ot,Rt,vn(Ot.name||Rt,ae.value,this))};function er(Ot,Rt){return Ge(typeof Ot=="string"?Ot:Ot.name||"<unnamed action>",typeof Ot=="function"?Ot:Rt,this,void 0)}function Nr(Ot){return typeof Ot=="function"&&Ot.isMobxAction===!0}function Xe(Ot,Rt,ae){wt(Ot,Rt,vn(Rt,ae.bind(Ot)))}function xs(Ot,Rt){Rt===void 0&&(Rt=X);var ae,Se=Rt&&Rt.name||Ot.name||"Autorun@"+tt();if(!Rt.scheduler&&!Rt.delay)ae=new Hn(Se,function(){this.track(hn)},Rt.onError,Rt.requiresObservable);else{var Re=Do(Rt),Ke=!1;ae=new Hn(Se,function(){Ke||(Ke=!0,Re(function(){Ke=!1,ae.isDisposed||ae.track(hn)}))},Rt.onError,Rt.requiresObservable)}function hn(){Ot(ae)}return ae.schedule(),ae.getDisposer()}$r.bound=function(Ot,Rt,ae,Se){return Se===!0?(Xe(Ot,Rt,ae.value),null):ae?{configurable:!0,enumerable:!1,get:function(){return Xe(this,Rt,ae.value||ae.initializer.call(this)),this[Rt]},set:Uo}:{enumerable:!1,configurable:!0,set:function(Re){Xe(this,Rt,Re)},get:function(){}}};var an=function(Ot){return Ot()};function Do(Ot){return Ot.scheduler?Ot.scheduler:Ot.delay?function(Rt){return setTimeout(Rt,Ot.delay)}:an}function Ka(Ot,Rt,ae){ae===void 0&&(ae=X);var Se,Re,Ke,hn=ae.name||"Reaction@"+tt(),Ln=$r(hn,ae.onError?(Se=ae.onError,Re=Rt,function(){try{return Re.apply(this,arguments)}catch(ao){Se.call(this,ao)}}):Rt),lr=!ae.scheduler&&!ae.delay,yi=Do(ae),ii=!0,oo=!1,Ci=ae.compareStructural?Dt.structural:ae.equals||Dt.default,Ri=new Hn(hn,function(){ii||lr?to():oo||(oo=!0,yi(to))},ae.onError,ae.requiresObservable);function to(){if(oo=!1,!Ri.isDisposed){var ao=!1;Ri.track(function(){var ho=Ot(Ri);ao=ii||!Ci(Ke,ho),Ke=ho}),ii&&ae.fireImmediately&&Ln(Ke,Ri),ii||ao!==!0||Ln(Ke,Ri),ii&&(ii=!1)}}return Ri.schedule(),Ri.getDisposer()}function ei(Ot,Rt,ae){return oc("onBecomeObserved",Ot,Rt,ae)}function Pr(Ot,Rt,ae){return oc("onBecomeUnobserved",Ot,Rt,ae)}function oc(Ot,Rt,ae,Se){var Re=typeof Se=="function"?ca(Rt,ae):ca(Rt),Ke=typeof Se=="function"?Se:ae,hn=Ot+"Listeners";return Re[hn]?Re[hn].add(Ke):Re[hn]=new Set([Ke]),typeof Re[Ot]!="function"?nt(!1):function(){var Ln=Re[hn];Ln&&(Ln.delete(Ke),Ln.size===0&&delete Re[hn])}}function ur(Ot){var Rt=Ot.enforceActions,ae=Ot.computedRequiresReaction,Se=Ot.computedConfigurable,Re=Ot.disableErrorBoundaries,Ke=Ot.reactionScheduler,hn=Ot.reactionRequiresObservable,Ln=Ot.observableRequiresReaction;if(Ot.isolateGlobalState===!0&&((Un.pendingReactions.length||Un.inBatch||Un.isRunningReactions)&&nt("isolateGlobalState should be called before MobX is running any reactions"),go=!0,Cr&&(--tr().__mobxInstanceCount==0&&(tr().__mobxGlobals=void 0),Un=new Fo)),Rt!==void 0){var lr=void 0;switch(Rt){case!0:case"observed":lr=!0;break;case!1:case"never":lr=!1;break;case"strict":case"always":lr="strict";break;default:nt("Invalid value for 'enforceActions': '"+Rt+"', expected 'never', 'always' or 'observed'")}Un.enforceActions=lr,Un.allowStateChanges=lr!==!0&&lr!=="strict"}ae!==void 0&&(Un.computedRequiresReaction=!!ae),hn!==void 0&&(Un.reactionRequiresObservable=!!hn),Ln!==void 0&&(Un.observableRequiresReaction=!!Ln,Un.allowStateReads=!Un.observableRequiresReaction),Se!==void 0&&(Un.computedConfigurable=!!Se),Re!==void 0&&(Re===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Un.disableErrorBoundaries=!!Re),Ke&&mo(Ke)}function Yr(Ot,Rt){var ae=typeof Ot=="function"?Ot.prototype:Ot,Se=function(Ke){var hn=Rt[Ke];Array.isArray(hn)||(hn=[hn]);var Ln=Object.getOwnPropertyDescriptor(ae,Ke),lr=hn.reduce(function(yi,ii){return ii(ae,Ke,yi)},Ln);lr&&Object.defineProperty(ae,Ke,lr)};for(var Re in Rt)Se(Re);return Ot}function Qs(Ot,Rt,ae,Se){var Re=tl(Se=Le(Se));return Oe(Ot),Ts(Ot,Se.name,Re.enhancer),Rt&&_a(Ot,Rt,ae,Re),Ot}function tl(Ot){return Ot.defaultDecorator||(Ot.deep===!1?kt:Ye)}function _a(Ot,Rt,ae,Se){var Re,Ke;un();try{var hn=Yt(Rt);try{for(var Ln=ce(hn),lr=Ln.next();!lr.done;lr=Ln.next()){var yi=lr.value,ii=Object.getOwnPropertyDescriptor(Rt,yi),oo=(ae&&yi in ae?ae[yi]:ii.get?ke:Se)(Ot,yi,ii,!0);oo&&Object.defineProperty(Ot,yi,oo)}}catch(Ci){Re={error:Ci}}finally{try{lr&&!lr.done&&(Ke=Ln.return)&&Ke.call(Ln)}finally{if(Re)throw Re.error}}}finally{je()}}function Mo(Ot,Rt){return ai(ca(Ot,Rt))}function ai(Ot){var Rt,ae,Se={name:Ot.name};return Ot.observing&&Ot.observing.length>0&&(Se.dependencies=(Rt=Ot.observing,ae=[],Rt.forEach(function(Re){ae.indexOf(Re)===-1&&ae.push(Re)}),ae).map(ai)),Se}function Es(Ot,Rt){return Io(ca(Ot,Rt))}function Io(Ot){var Rt={name:Ot.name};return function(ae){return ae.observers&&ae.observers.size>0}(Ot)&&(Rt.observers=Array.from(function(ae){return ae.observers}(Ot)).map(Io)),Rt}var el=0;function Yo(){this.message="FLOW_CANCELLED"}function wa(Ot){return Ot instanceof Yo}function Os(Ot){arguments.length!==1&&nt("Flow expects 1 argument and cannot be used as decorator");var Rt=Ot.name||"<unnamed flow>";return function(){var ae,Se=this,Re=arguments,Ke=++el,hn=$r(Rt+" - runid: "+Ke+" - init",Ot).apply(Se,Re),Ln=void 0,lr=new Promise(function(yi,ii){var oo=0;function Ci(ao){var ho;Ln=void 0;try{ho=$r(Rt+" - runid: "+Ke+" - yield "+oo++,hn.next).call(hn,ao)}catch(Sa){return ii(Sa)}to(ho)}function Ri(ao){var ho;Ln=void 0;try{ho=$r(Rt+" - runid: "+Ke+" - yield "+oo++,hn.throw).call(hn,ao)}catch(Sa){return ii(Sa)}to(ho)}function to(ao){if(!ao||typeof ao.then!="function")return ao.done?yi(ao.value):(Ln=Promise.resolve(ao.value)).then(Ci,Ri);ao.then(to,ii)}ae=ii,Ci(void 0)});return lr.cancel=$r(Rt+" - runid: "+Ke+" - cancel",function(){try{Ln&&Pl(Ln);var yi=hn.return(void 0),ii=Promise.resolve(yi.value);ii.then(lt,lt),Pl(ii),ae(new Yo)}catch(oo){ae(oo)}}),lr}}function Pl(Ot){typeof Ot.cancel=="function"&&Ot.cancel()}function gl(Ot,Rt,ae){var Se;if(Ms(Ot)||ko(Ot)||ir(Ot))Se=Ks(Ot);else{if(!Vo(Ot)||typeof Rt!="string")return nt(!1);Se=Ks(Ot,Rt)}return Se.dehancer!==void 0?nt(!1):(Se.dehancer=typeof Rt=="function"?Rt:ae,function(){Se.dehancer=void 0})}function zl(Ot,Rt,ae){return typeof ae=="function"?function(Se,Re,Ke){return Ks(Se,Re).intercept(Ke)}(Ot,Rt,ae):function(Se,Re){return Ks(Se).intercept(Re)}(Ot,Rt)}function Ps(Ot,Rt){if(Ot==null)return!1;if(Rt!==void 0){if(Vo(Ot)===!1||!Ot[Ht].values.has(Rt))return!1;var ae=ca(Ot,Rt);return Lr(ae)}return Lr(Ot)}function nu(Ot){return arguments.length>1?nt(!1):Ps(Ot)}function Cc(Ot,Rt){return typeof Rt!="string"?nt(!1):Ps(Ot,Rt)}function Rl(Ot,Rt){return Ot!=null&&(Rt!==void 0?!!Vo(Ot)&&Ot[Ht].values.has(Rt):Vo(Ot)||!!Ot[Ht]||te(Ot)||si(Ot)||Lr(Ot))}function Kr(Ot){return arguments.length!==1&&nt(!1),Rl(Ot)}function ja(Ot,Rt){return typeof Rt!="string"?nt(!1):Rl(Ot,Rt)}function zr(Ot){return Vo(Ot)?Ot[Ht].getKeys():Ms(Ot)||Jo(Ot)?Array.from(Ot.keys()):ko(Ot)?Ot.map(function(Rt,ae){return ae}):nt(!1)}function aa(Ot){return Vo(Ot)?zr(Ot).map(function(Rt){return Ot[Rt]}):Ms(Ot)?zr(Ot).map(function(Rt){return Ot.get(Rt)}):Jo(Ot)?Array.from(Ot.values()):ko(Ot)?Ot.slice():nt(!1)}function dh(Ot){return Vo(Ot)?zr(Ot).map(function(Rt){return[Rt,Ot[Rt]]}):Ms(Ot)?zr(Ot).map(function(Rt){return[Rt,Ot.get(Rt)]}):Jo(Ot)?Array.from(Ot.entries()):ko(Ot)?Ot.map(function(Rt,ae){return[ae,Rt]}):nt(!1)}function ru(Ot,Rt,ae){if(arguments.length!==2||Jo(Ot))if(Vo(Ot)){var Se=Ot[Ht],Re=Se.values.get(Rt);Re?Se.write(Rt,ae):Se.addObservableProp(Rt,ae,Se.defaultEnhancer)}else if(Ms(Ot))Ot.set(Rt,ae);else if(Jo(Ot))Ot.add(Rt);else{if(!ko(Ot))return nt(!1);typeof Rt!="number"&&(Rt=parseInt(Rt,10)),st(Rt>=0,"Not a valid index: '"+Rt+"'"),un(),Rt>=Ot.length&&(Ot.length=Rt+1),Ot[Rt]=ae,je()}else{un();var Ke=Rt;try{for(var hn in Ke)ru(Ot,hn,Ke[hn])}finally{je()}}}function iu(Ot,Rt){if(Vo(Ot))Ot[Ht].remove(Rt);else if(Ms(Ot))Ot.delete(Rt);else if(Jo(Ot))Ot.delete(Rt);else{if(!ko(Ot))return nt(!1);typeof Rt!="number"&&(Rt=parseInt(Rt,10)),st(Rt>=0,"Not a valid index: '"+Rt+"'"),Ot.splice(Rt,1)}}function jl(Ot,Rt){return Vo(Ot)?Ks(Ot).has(Rt):Ms(Ot)||Jo(Ot)?Ot.has(Rt):ko(Ot)?Rt>=0&&Rt<Ot.length:nt(!1)}function fh(Ot,Rt){if(jl(Ot,Rt))return Vo(Ot)?Ot[Rt]:Ms(Ot)?Ot.get(Rt):ko(Ot)?Ot[Rt]:nt(!1)}function xa(Ot,Rt,ae,Se){return typeof ae=="function"?function(Re,Ke,hn,Ln){return Ks(Re,Ke).observe(hn,Ln)}(Ot,Rt,ae,Se):function(Re,Ke,hn){return Ks(Re).observe(Ke,hn)}(Ot,Rt,ae)}Yo.prototype=Object.create(Error.prototype);var Ho={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function la(Ot,Rt,ae,Se){return Se.detectCycles&&Ot.set(Rt,ae),ae}function ph(Ot,Rt){var ae;return typeof Rt=="boolean"&&(Rt={detectCycles:Rt}),Rt||(Rt=Ho),Rt.detectCycles=Rt.detectCycles===void 0?Rt.recurseEverything===!0:Rt.detectCycles===!0,Rt.detectCycles&&(ae=new Map),function Se(Re,Ke,hn){if(!Ke.recurseEverything&&!Kr(Re)||typeof Re!="object")return Re;if(Re===null)return null;if(Re instanceof Date)return Re;if(ir(Re))return Se(Re.get(),Ke,hn);if(Kr(Re)&&zr(Re),Ke.detectCycles===!0&&Re!==null&&hn.has(Re))return hn.get(Re);if(ko(Re)||Array.isArray(Re)){var Ln=la(hn,Re,[],Ke),lr=Re.map(function(ho){return Se(ho,Ke,hn)});Ln.length=lr.length;for(var yi=0,ii=lr.length;yi<ii;yi++)Ln[yi]=lr[yi];return Ln}if(Jo(Re)||Object.getPrototypeOf(Re)===Set.prototype){if(Ke.exportMapsAsObjects===!1){var oo=la(hn,Re,new Set,Ke);return Re.forEach(function(ho){oo.add(Se(ho,Ke,hn))}),oo}var Ci=la(hn,Re,[],Ke);return Re.forEach(function(ho){Ci.push(Se(ho,Ke,hn))}),Ci}if(Ms(Re)||Object.getPrototypeOf(Re)===Map.prototype){if(Ke.exportMapsAsObjects===!1){var Ri=la(hn,Re,new Map,Ke);return Re.forEach(function(ho,Sa){Ri.set(Sa,Se(ho,Ke,hn))}),Ri}var to=la(hn,Re,{},Ke);return Re.forEach(function(ho,Sa){to[Sa]=Se(ho,Ke,hn)}),to}var ao=la(hn,Re,{},Ke);return Ct(Re).forEach(function(ho){ao[ho]=Se(Re[ho],Ke,hn)}),ao}(Ot,Rt,ae)}function gh(){for(var Ot=[],Rt=0;Rt<arguments.length;Rt++)Ot[Rt]=arguments[Rt];var ae=!1;typeof Ot[Ot.length-1]=="boolean"&&(ae=Ot.pop());var Se=tf(Ot);if(!Se)return nt(!1);Se.isTracing===Pe.NONE&&console.log("[mobx.trace] '"+Se.name+"' tracing enabled"),Se.isTracing=ae?Pe.BREAK:Pe.LOG}function tf(Ot){switch(Ot.length){case 0:return Un.trackingDerivation;case 1:return ca(Ot[0]);case 2:return ca(Ot[0],Ot[1])}}function Ba(Ot,Rt){Rt===void 0&&(Rt=void 0),un();try{return Ot.apply(Rt)}finally{je()}}function Ea(Ot,Rt,ae){return arguments.length===1||Rt&&typeof Rt=="object"?Pu(Ot,Rt):zs(Ot,Rt,ae||{})}function zs(Ot,Rt,ae){var Se;typeof ae.timeout=="number"&&(Se=setTimeout(function(){if(!Ke[Ht].isDisposed){Ke();var hn=new Error("WHEN_TIMEOUT");if(!ae.onError)throw hn;ae.onError(hn)}},ae.timeout)),ae.name=ae.name||"When@"+tt();var Re=vn(ae.name+"-effect",Rt),Ke=xs(function(hn){Ot()&&(hn.dispose(),Se&&clearTimeout(Se),Re())},ae);return Ke}function Pu(Ot,Rt){var ae,Se=new Promise(function(Re,Ke){var hn=zs(Ot,Re,Nt(Nt({},Rt),{onError:Ke}));ae=function(){hn(),Ke("WHEN_CANCELLED")}});return Se.cancel=ae,Se}function mi(Ot){return Ot[Ht]}function zu(Ot){return typeof Ot=="string"||typeof Ot=="number"||typeof Ot=="symbol"}var Xs={has:function(Ot,Rt){if(Rt===Ht||Rt==="constructor"||Rt===ye)return!0;var ae=mi(Ot);return zu(Rt)?ae.has(Rt):Rt in Ot},get:function(Ot,Rt){if(Rt===Ht||Rt==="constructor"||Rt===ye)return Ot[Rt];var ae=mi(Ot),Se=ae.values.get(Rt);if(Se instanceof qt){var Re=Se.get();return Re===void 0&&ae.has(Rt),Re}return zu(Rt)&&ae.has(Rt),Ot[Rt]},set:function(Ot,Rt,ae){return!!zu(Rt)&&(ru(Ot,Rt,ae),!0)},deleteProperty:function(Ot,Rt){return!!zu(Rt)&&(mi(Ot).remove(Rt),!0)},ownKeys:function(Ot){return mi(Ot).keysAtom.reportObserved(),Reflect.ownKeys(Ot)},preventExtensions:function(Ot){return nt("Dynamic observable objects cannot be frozen"),!1}};function kc(Ot){var Rt=new Proxy(Ot,Xs);return Ot[Ht].proxy=Rt,Rt}function Zs(Ot){return Ot.interceptors!==void 0&&Ot.interceptors.length>0}function ml(Ot,Rt){var ae=Ot.interceptors||(Ot.interceptors=[]);return ae.push(Rt),ct(function(){var Se=ae.indexOf(Rt);Se!==-1&&ae.splice(Se,1)})}function Js(Ot,Rt){var ae=rr();try{for(var Se=de(Ot.interceptors||[]),Re=0,Ke=Se.length;Re<Ke&&(st(!(Rt=Se[Re](Rt))||Rt.type,"Intercept handlers should return nothing or a change object"),Rt);Re++);return Rt}finally{sr(ae)}}function $a(Ot){return Ot.changeListeners!==void 0&&Ot.changeListeners.length>0}function Ac(Ot,Rt){var ae=Ot.changeListeners||(Ot.changeListeners=[]);return ae.push(Rt),ct(function(){var Se=ae.indexOf(Rt);Se!==-1&&ae.splice(Se,1)})}function Ma(Ot,Rt){var ae=rr(),Se=Ot.changeListeners;if(Se){for(var Re=0,Ke=(Se=Se.slice()).length;Re<Ke;Re++)Se[Re](Rt);sr(ae)}}var mh={get:function(Ot,Rt){return Rt===Ht?Ot[Ht]:Rt==="length"?Ot[Ht].getArrayLength():typeof Rt=="number"?vo.get.call(Ot,Rt):typeof Rt!="string"||isNaN(Rt)?vo.hasOwnProperty(Rt)?vo[Rt]:Ot[Rt]:vo.get.call(Ot,parseInt(Rt))},set:function(Ot,Rt,ae){return Rt==="length"&&Ot[Ht].setArrayLength(ae),typeof Rt=="number"&&vo.set.call(Ot,Rt,ae),typeof Rt=="symbol"||isNaN(Rt)?Ot[Rt]=ae:vo.set.call(Ot,parseInt(Rt),ae),!0},preventExtensions:function(Ot){return nt("Observable arrays cannot be frozen"),!1}};function Ru(Ot,Rt,ae,Se){ae===void 0&&(ae="ObservableArray@"+tt()),Se===void 0&&(Se=!1);var Re,Ke,hn,Ln=new yh(ae,Rt,Se);Re=Ln.values,Ke=Ht,hn=Ln,Object.defineProperty(Re,Ke,{enumerable:!1,writable:!1,configurable:!0,value:hn});var lr=new Proxy(Ln.values,mh);if(Ln.proxy=lr,Ot&&Ot.length){var yi=$n(!0);Ln.spliceWithArray(0,0,Ot),Kn(yi)}return lr}var yh=function(){function Ot(Rt,ae,Se){this.owned=Se,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new qt(Rt||"ObservableArray@"+tt()),this.enhancer=function(Re,Ke){return ae(Re,Ke,Rt+"[..]")}}return Ot.prototype.dehanceValue=function(Rt){return this.dehancer!==void 0?this.dehancer(Rt):Rt},Ot.prototype.dehanceValues=function(Rt){return this.dehancer!==void 0&&Rt.length>0?Rt.map(this.dehancer):Rt},Ot.prototype.intercept=function(Rt){return ml(this,Rt)},Ot.prototype.observe=function(Rt,ae){return ae===void 0&&(ae=!1),ae&&Rt({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ac(this,Rt)},Ot.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},Ot.prototype.setArrayLength=function(Rt){if(typeof Rt!="number"||Rt<0)throw new Error("[mobx.array] Out of range: "+Rt);var ae=this.values.length;if(Rt!==ae)if(Rt>ae){for(var Se=new Array(Rt-ae),Re=0;Re<Rt-ae;Re++)Se[Re]=void 0;this.spliceWithArray(ae,0,Se)}else this.spliceWithArray(Rt,ae-Rt)},Ot.prototype.updateArrayLength=function(Rt,ae){if(Rt!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=ae},Ot.prototype.spliceWithArray=function(Rt,ae,Se){var Re=this;Bn(this.atom);var Ke=this.values.length;if(Rt===void 0?Rt=0:Rt>Ke?Rt=Ke:Rt<0&&(Rt=Math.max(0,Ke+Rt)),ae=arguments.length===1?Ke-Rt:ae==null?0:Math.max(0,Math.min(ae,Ke-Rt)),Se===void 0&&(Se=q),Zs(this)){var hn=Js(this,{object:this.proxy,type:"splice",index:Rt,removedCount:ae,added:Se});if(!hn)return q;ae=hn.removedCount,Se=hn.added}Se=Se.length===0?Se:Se.map(function(lr){return Re.enhancer(lr,void 0)});var Ln=this.spliceItemsIntoValues(Rt,ae,Se);return ae===0&&Se.length===0||this.notifyArraySplice(Rt,Se,Ln),this.dehanceValues(Ln)},Ot.prototype.spliceItemsIntoValues=function(Rt,ae,Se){var Re;if(Se.length<1e4)return(Re=this.values).splice.apply(Re,de([Rt,ae],Se));var Ke=this.values.slice(Rt,Rt+ae);return this.values=this.values.slice(0,Rt).concat(Se,this.values.slice(Rt+ae)),Ke},Ot.prototype.notifyArrayChildUpdate=function(Rt,ae,Se){var Re=!this.owned&&!1,Ke=$a(this),hn=Ke||Re?{object:this.proxy,type:"update",index:Rt,newValue:ae,oldValue:Se}:null;this.atom.reportChanged(),Ke&&Ma(this,hn)},Ot.prototype.notifyArraySplice=function(Rt,ae,Se){var Re=!this.owned&&!1,Ke=$a(this),hn=Ke||Re?{object:this.proxy,type:"splice",index:Rt,removed:Se,added:ae,removedCount:Se.length,addedCount:ae.length}:null;this.atom.reportChanged(),Ke&&Ma(this,hn)},Ot}(),vo={intercept:function(Ot){return this[Ht].intercept(Ot)},observe:function(Ot,Rt){return Rt===void 0&&(Rt=!1),this[Ht].observe(Ot,Rt)},clear:function(){return this.splice(0)},replace:function(Ot){var Rt=this[Ht];return Rt.spliceWithArray(0,Rt.values.length,Ot)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(Ot,Rt){for(var ae=[],Se=2;Se<arguments.length;Se++)ae[Se-2]=arguments[Se];var Re=this[Ht];switch(arguments.length){case 0:return[];case 1:return Re.spliceWithArray(Ot);case 2:return Re.spliceWithArray(Ot,Rt)}return Re.spliceWithArray(Ot,Rt,ae)},spliceWithArray:function(Ot,Rt,ae){return this[Ht].spliceWithArray(Ot,Rt,ae)},push:function(){for(var Ot=[],Rt=0;Rt<arguments.length;Rt++)Ot[Rt]=arguments[Rt];var ae=this[Ht];return ae.spliceWithArray(ae.values.length,0,Ot),ae.values.length},pop:function(){return this.splice(Math.max(this[Ht].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var Ot=[],Rt=0;Rt<arguments.length;Rt++)Ot[Rt]=arguments[Rt];var ae=this[Ht];return ae.spliceWithArray(0,0,Ot),ae.values.length},reverse:function(){var Ot=this.slice();return Ot.reverse.apply(Ot,arguments)},sort:function(Ot){var Rt=this.slice();return Rt.sort.apply(Rt,arguments)},remove:function(Ot){var Rt=this[Ht],ae=Rt.dehanceValues(Rt.values).indexOf(Ot);return ae>-1&&(this.splice(ae,1),!0)},get:function(Ot){var Rt=this[Ht];if(Rt){if(Ot<Rt.values.length)return Rt.atom.reportObserved(),Rt.dehanceValue(Rt.values[Ot]);console.warn("[mobx.array] Attempt to read an array index ("+Ot+") that is out of bounds ("+Rt.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(Ot,Rt){var ae=this[Ht],Se=ae.values;if(Ot<Se.length){Bn(ae.atom);var Re=Se[Ot];if(Zs(ae)){var Ke=Js(ae,{type:"update",object:ae.proxy,index:Ot,newValue:Rt});if(!Ke)return;Rt=Ke.newValue}(Rt=ae.enhancer(Rt,Re))!==Re&&(Se[Ot]=Rt,ae.notifyArrayChildUpdate(Ot,Rt,Re))}else{if(Ot!==Se.length)throw new Error("[mobx.array] Index out of bounds, "+Ot+" is larger than "+Se.length);ae.spliceWithArray(Ot,0,[Rt])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(Ot){typeof Array.prototype[Ot]=="function"&&(vo[Ot]=function(){var Rt=this[Ht];Rt.atom.reportObserved();var ae=Rt.dehanceValues(Rt.values);return ae[Ot].apply(ae,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(Ot){typeof Array.prototype[Ot]=="function"&&(vo[Ot]=function(Rt,ae){var Se=this,Re=this[Ht];return Re.atom.reportObserved(),Re.dehanceValues(Re.values)[Ot](function(Ke,hn){return Rt.call(ae,Ke,hn,Se)},ae)})}),["reduce","reduceRight"].forEach(function(Ot){vo[Ot]=function(){var Rt=this,ae=this[Ht];ae.atom.reportObserved();var Se=arguments[0];return arguments[0]=function(Re,Ke,hn){return Ke=ae.dehanceValue(Ke),Se(Re,Ke,hn,Rt)},ae.values[Ot].apply(ae.values,arguments)}});var ju,nl=mt("ObservableArrayAdministration",yh);function ko(Ot){return ht(Ot)&&nl(Ot[Ht])}var Ta,ou={},Nc=function(){function Ot(Rt,ae,Se){if(ae===void 0&&(ae=ze),Se===void 0&&(Se="ObservableMap@"+tt()),this.enhancer=ae,this.name=Se,this[ju]=ou,this._keysAtom=Xt(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(Rt)}return Ot.prototype._has=function(Rt){return this._data.has(Rt)},Ot.prototype.has=function(Rt){var ae=this;if(!Un.trackingDerivation)return this._has(Rt);var Se=this._hasMap.get(Rt);if(!Se){var Re=Se=new mr(this._has(Rt),we,this.name+"."+Ft(Rt)+"?",!1);this._hasMap.set(Rt,Re),Pr(Re,function(){return ae._hasMap.delete(Rt)})}return Se.get()},Ot.prototype.set=function(Rt,ae){var Se=this._has(Rt);if(Zs(this)){var Re=Js(this,{type:Se?"update":"add",object:this,newValue:ae,name:Rt});if(!Re)return this;ae=Re.newValue}return Se?this._updateValue(Rt,ae):this._addValue(Rt,ae),this},Ot.prototype.delete=function(Rt){var ae=this;if(Bn(this._keysAtom),Zs(this)&&!(Re=Js(this,{type:"delete",object:this,name:Rt})))return!1;if(this._has(Rt)){var Se=$a(this),Re=Se?{type:"delete",object:this,oldValue:this._data.get(Rt).value,name:Rt}:null;return Ba(function(){ae._keysAtom.reportChanged(),ae._updateHasMapEntry(Rt,!1),ae._data.get(Rt).setNewValue(void 0),ae._data.delete(Rt)}),Se&&Ma(this,Re),!0}return!1},Ot.prototype._updateHasMapEntry=function(Rt,ae){var Se=this._hasMap.get(Rt);Se&&Se.setNewValue(ae)},Ot.prototype._updateValue=function(Rt,ae){var Se=this._data.get(Rt);if((ae=Se.prepareNewValue(ae))!==Un.UNCHANGED){var Re=$a(this),Ke=Re?{type:"update",object:this,oldValue:Se.value,name:Rt,newValue:ae}:null;Se.setNewValue(ae),Re&&Ma(this,Ke)}},Ot.prototype._addValue=function(Rt,ae){var Se=this;Bn(this._keysAtom),Ba(function(){var hn=new mr(ae,Se.enhancer,Se.name+"."+Ft(Rt),!1);Se._data.set(Rt,hn),ae=hn.value,Se._updateHasMapEntry(Rt,!0),Se._keysAtom.reportChanged()});var Re=$a(this),Ke=Re?{type:"add",object:this,name:Rt,newValue:ae}:null;Re&&Ma(this,Ke)},Ot.prototype.get=function(Rt){return this.has(Rt)?this.dehanceValue(this._data.get(Rt).get()):this.dehanceValue(void 0)},Ot.prototype.dehanceValue=function(Rt){return this.dehancer!==void 0?this.dehancer(Rt):Rt},Ot.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},Ot.prototype.values=function(){var Rt=this,ae=this.keys();return rl({next:function(){var Se=ae.next(),Re=Se.done,Ke=Se.value;return{done:Re,value:Re?void 0:Rt.get(Ke)}}})},Ot.prototype.entries=function(){var Rt=this,ae=this.keys();return rl({next:function(){var Se=ae.next(),Re=Se.done,Ke=Se.value;return{done:Re,value:Re?void 0:[Ke,Rt.get(Ke)]}}})},Ot.prototype[ju=Ht,Symbol.iterator]=function(){return this.entries()},Ot.prototype.forEach=function(Rt,ae){var Se,Re;try{for(var Ke=ce(this),hn=Ke.next();!hn.done;hn=Ke.next()){var Ln=Pt(hn.value,2),lr=Ln[0],yi=Ln[1];Rt.call(ae,yi,lr,this)}}catch(ii){Se={error:ii}}finally{try{hn&&!hn.done&&(Re=Ke.return)&&Re.call(Ke)}finally{if(Se)throw Se.error}}},Ot.prototype.merge=function(Rt){var ae=this;return Ms(Rt)&&(Rt=Rt.toJS()),Ba(function(){var Se=$n(!0);try{bt(Rt)?Ct(Rt).forEach(function(Re){return ae.set(Re,Rt[Re])}):Array.isArray(Rt)?Rt.forEach(function(Re){var Ke=Pt(Re,2),hn=Ke[0],Ln=Ke[1];return ae.set(hn,Ln)}):Et(Rt)?(Rt.constructor!==Map&&nt("Cannot initialize from classes that inherit from Map: "+Rt.constructor.name),Rt.forEach(function(Re,Ke){return ae.set(Ke,Re)})):Rt!=null&&nt("Cannot initialize map from "+Rt)}finally{Kn(Se)}}),this},Ot.prototype.clear=function(){var Rt=this;Ba(function(){Jn(function(){var ae,Se;try{for(var Re=ce(Rt.keys()),Ke=Re.next();!Ke.done;Ke=Re.next()){var hn=Ke.value;Rt.delete(hn)}}catch(Ln){ae={error:Ln}}finally{try{Ke&&!Ke.done&&(Se=Re.return)&&Se.call(Re)}finally{if(ae)throw ae.error}}})})},Ot.prototype.replace=function(Rt){var ae=this;return Ba(function(){var Se,Re,Ke,hn,Ln=function(ki){if(Et(ki)||Ms(ki))return ki;if(Array.isArray(ki))return new Map(ki);if(bt(ki)){var au=new Map;for(var Lc in ki)au.set(Lc,ki[Lc]);return au}return nt("Cannot convert to map from '"+ki+"'")}(Rt),lr=new Map,yi=!1;try{for(var ii=ce(ae._data.keys()),oo=ii.next();!oo.done;oo=ii.next()){var Ci=oo.value;if(!Ln.has(Ci))if(ae.delete(Ci))yi=!0;else{var Ri=ae._data.get(Ci);lr.set(Ci,Ri)}}}catch(ki){Se={error:ki}}finally{try{oo&&!oo.done&&(Re=ii.return)&&Re.call(ii)}finally{if(Se)throw Se.error}}try{for(var to=ce(Ln.entries()),ao=to.next();!ao.done;ao=to.next()){var ho=Pt(ao.value,2),Sa=(Ci=ho[0],Ri=ho[1],ae._data.has(Ci));if(ae.set(Ci,Ri),ae._data.has(Ci)){var ef=ae._data.get(Ci);lr.set(Ci,ef),Sa||(yi=!0)}}}catch(ki){Ke={error:ki}}finally{try{ao&&!ao.done&&(hn=to.return)&&hn.call(to)}finally{if(Ke)throw Ke.error}}if(!yi)if(ae._data.size!==lr.size)ae._keysAtom.reportChanged();else for(var il=ae._data.keys(),$u=lr.keys(),Bl=il.next(),nd=$u.next();!Bl.done;){if(Bl.value!==nd.value){ae._keysAtom.reportChanged();break}Bl=il.next(),nd=$u.next()}ae._data=lr}),this},Object.defineProperty(Ot.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),Ot.prototype.toPOJO=function(){var Rt,ae,Se={};try{for(var Re=ce(this),Ke=Re.next();!Ke.done;Ke=Re.next()){var hn=Pt(Ke.value,2),Ln=hn[0],lr=hn[1];Se[typeof Ln=="symbol"?Ln:Ft(Ln)]=lr}}catch(yi){Rt={error:yi}}finally{try{Ke&&!Ke.done&&(ae=Re.return)&&ae.call(Re)}finally{if(Rt)throw Rt.error}}return Se},Ot.prototype.toJS=function(){return new Map(this)},Ot.prototype.toJSON=function(){return this.toPOJO()},Ot.prototype.toString=function(){var Rt=this;return this.name+"[{ "+Array.from(this.keys()).map(function(ae){return Ft(ae)+": "+Rt.get(ae)}).join(", ")+" }]"},Ot.prototype.observe=function(Rt,ae){return Ac(this,Rt)},Ot.prototype.intercept=function(Rt){return ml(this,Rt)},Ot}(),Ms=mt("ObservableMap",Nc),su={},Dc=function(){function Ot(Rt,ae,Se){if(ae===void 0&&(ae=ze),Se===void 0&&(Se="ObservableSet@"+tt()),this.name=Se,this[Ta]=su,this._data=new Set,this._atom=Xt(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(Re,Ke){return ae(Re,Ke,Se)},Rt&&this.replace(Rt)}return Ot.prototype.dehanceValue=function(Rt){return this.dehancer!==void 0?this.dehancer(Rt):Rt},Ot.prototype.clear=function(){var Rt=this;Ba(function(){Jn(function(){var ae,Se;try{for(var Re=ce(Rt._data.values()),Ke=Re.next();!Ke.done;Ke=Re.next()){var hn=Ke.value;Rt.delete(hn)}}catch(Ln){ae={error:Ln}}finally{try{Ke&&!Ke.done&&(Se=Re.return)&&Se.call(Re)}finally{if(ae)throw ae.error}}})})},Ot.prototype.forEach=function(Rt,ae){var Se,Re;try{for(var Ke=ce(this),hn=Ke.next();!hn.done;hn=Ke.next()){var Ln=hn.value;Rt.call(ae,Ln,Ln,this)}}catch(lr){Se={error:lr}}finally{try{hn&&!hn.done&&(Re=Ke.return)&&Re.call(Ke)}finally{if(Se)throw Se.error}}},Object.defineProperty(Ot.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),Ot.prototype.add=function(Rt){var ae=this;if(Bn(this._atom),Zs(this)&&!(Re=Js(this,{type:"add",object:this,newValue:Rt})))return this;if(!this.has(Rt)){Ba(function(){ae._data.add(ae.enhancer(Rt,void 0)),ae._atom.reportChanged()});var Se=$a(this),Re=Se?{type:"add",object:this,newValue:Rt}:null;Se&&Ma(this,Re)}return this},Ot.prototype.delete=function(Rt){var ae=this;if(Zs(this)&&!(Re=Js(this,{type:"delete",object:this,oldValue:Rt})))return!1;if(this.has(Rt)){var Se=$a(this),Re=Se?{type:"delete",object:this,oldValue:Rt}:null;return Ba(function(){ae._atom.reportChanged(),ae._data.delete(Rt)}),Se&&Ma(this,Re),!0}return!1},Ot.prototype.has=function(Rt){return this._atom.reportObserved(),this._data.has(this.dehanceValue(Rt))},Ot.prototype.entries=function(){var Rt=0,ae=Array.from(this.keys()),Se=Array.from(this.values());return rl({next:function(){var Re=Rt;return Rt+=1,Re<Se.length?{value:[ae[Re],Se[Re]],done:!1}:{done:!0}}})},Ot.prototype.keys=function(){return this.values()},Ot.prototype.values=function(){this._atom.reportObserved();var Rt=this,ae=0,Se=Array.from(this._data.values());return rl({next:function(){return ae<Se.length?{value:Rt.dehanceValue(Se[ae++]),done:!1}:{done:!0}}})},Ot.prototype.replace=function(Rt){var ae=this;return Jo(Rt)&&(Rt=Rt.toJS()),Ba(function(){var Se=$n(!0);try{Array.isArray(Rt)||At(Rt)?(ae.clear(),Rt.forEach(function(Re){return ae.add(Re)})):Rt!=null&&nt("Cannot initialize set from "+Rt)}finally{Kn(Se)}}),this},Ot.prototype.observe=function(Rt,ae){return Ac(this,Rt)},Ot.prototype.intercept=function(Rt){return ml(this,Rt)},Ot.prototype.toJS=function(){return new Set(this)},Ot.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},Ot.prototype[Ta=Ht,Symbol.iterator]=function(){return this.values()},Ot}(),Jo=mt("ObservableSet",Dc),Us=function(){function Ot(Rt,ae,Se,Re){ae===void 0&&(ae=new Map),this.target=Rt,this.values=ae,this.name=Se,this.defaultEnhancer=Re,this.keysAtom=new qt(Se+".keys")}return Ot.prototype.read=function(Rt){return this.values.get(Rt).get()},Ot.prototype.write=function(Rt,ae){var Se=this.target,Re=this.values.get(Rt);if(Re instanceof wr)Re.set(ae);else{if(Zs(this)){if(!(hn=Js(this,{type:"update",object:this.proxy||Se,name:Rt,newValue:ae})))return;ae=hn.newValue}if((ae=Re.prepareNewValue(ae))!==Un.UNCHANGED){var Ke=$a(this),hn=Ke?{type:"update",object:this.proxy||Se,oldValue:Re.value,name:Rt,newValue:ae}:null;Re.setNewValue(ae),Ke&&Ma(this,hn)}}},Ot.prototype.has=function(Rt){var ae=this.pendingKeys||(this.pendingKeys=new Map),Se=ae.get(Rt);if(Se)return Se.get();var Re=!!this.values.get(Rt);return Se=new mr(Re,we,this.name+"."+Ft(Rt)+"?",!1),ae.set(Rt,Se),Se.get()},Ot.prototype.addObservableProp=function(Rt,ae,Se){Se===void 0&&(Se=this.defaultEnhancer);var Re=this.target;if(Zs(this)){var Ke=Js(this,{object:this.proxy||Re,name:Rt,type:"add",newValue:ae});if(!Ke)return;ae=Ke.newValue}var hn=new mr(ae,Se,this.name+"."+Ft(Rt),!1);this.values.set(Rt,hn),ae=hn.value,Object.defineProperty(Re,Rt,function(Ln){return sc[Ln]||(sc[Ln]={configurable:!0,enumerable:!0,get:function(){return this[Ht].read(Ln)},set:function(lr){this[Ht].write(Ln,lr)}})}(Rt)),this.notifyPropertyAddition(Rt,ae)},Ot.prototype.addComputedProp=function(Rt,ae,Se){var Re,Ke,hn,Ln=this.target;Se.name=Se.name||this.name+"."+Ft(ae),this.values.set(ae,new wr(Se)),(Rt===Ln||(Re=Rt,Ke=ae,!(hn=Object.getOwnPropertyDescriptor(Re,Ke))||hn.configurable!==!1&&hn.writable!==!1))&&Object.defineProperty(Rt,ae,function(lr){return vh[lr]||(vh[lr]={configurable:Un.computedConfigurable,enumerable:!1,get:function(){return bh(this).read(lr)},set:function(yi){bh(this).write(lr,yi)}})}(ae))},Ot.prototype.remove=function(Rt){if(this.values.has(Rt)){var ae=this.target;if(Zs(this)&&!(Ln=Js(this,{object:this.proxy||ae,name:Rt,type:"remove"})))return;try{un();var Se=$a(this),Re=this.values.get(Rt),Ke=Re&&Re.get();if(Re&&Re.set(void 0),this.keysAtom.reportChanged(),this.values.delete(Rt),this.pendingKeys){var hn=this.pendingKeys.get(Rt);hn&&hn.set(!1)}delete this.target[Rt];var Ln=Se?{type:"remove",object:this.proxy||ae,oldValue:Ke,name:Rt}:null;Se&&Ma(this,Ln)}finally{je()}}},Ot.prototype.illegalAccess=function(Rt,ae){console.warn("Property '"+ae+"' of '"+Rt+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},Ot.prototype.observe=function(Rt,ae){return Ac(this,Rt)},Ot.prototype.intercept=function(Rt){return ml(this,Rt)},Ot.prototype.notifyPropertyAddition=function(Rt,ae){var Se=$a(this),Re=Se?{type:"add",object:this.proxy||this.target,name:Rt,newValue:ae}:null;if(Se&&Ma(this,Re),this.pendingKeys){var Ke=this.pendingKeys.get(Rt);Ke&&Ke.set(!0)}this.keysAtom.reportChanged()},Ot.prototype.getKeys=function(){var Rt,ae;this.keysAtom.reportObserved();var Se=[];try{for(var Re=ce(this.values),Ke=Re.next();!Ke.done;Ke=Re.next()){var hn=Pt(Ke.value,2),Ln=hn[0];hn[1]instanceof mr&&Se.push(Ln)}}catch(lr){Rt={error:lr}}finally{try{Ke&&!Ke.done&&(ae=Re.return)&&ae.call(Re)}finally{if(Rt)throw Rt.error}}return Se},Ot}();function Ts(Ot,Rt,ae){if(Rt===void 0&&(Rt=""),ae===void 0&&(ae=ze),Object.prototype.hasOwnProperty.call(Ot,Ht))return Ot[Ht];bt(Ot)||(Rt=(Ot.constructor.name||"ObservableObject")+"@"+tt()),Rt||(Rt="ObservableObject@"+tt());var Se=new Us(Ot,new Map,Ft(Rt),ae);return wt(Ot,Ht,Se),Se}var sc=Object.create(null),vh=Object.create(null);function bh(Ot){var Rt=Ot[Ht];return Rt||(Oe(Ot),Ot[Ht])}var Bu=mt("ObservableObjectAdministration",Us);function Vo(Ot){return!!ht(Ot)&&(Oe(Ot),Bu(Ot[Ht]))}function ca(Ot,Rt){if(typeof Ot=="object"&&Ot!==null){if(ko(Ot))return Rt!==void 0&&nt(!1),Ot[Ht].atom;if(Jo(Ot))return Ot[Ht];if(Ms(Ot)){var ae=Ot;return Rt===void 0?ae._keysAtom:((Se=ae._data.get(Rt)||ae._hasMap.get(Rt))||nt(!1),Se)}var Se;if(Oe(Ot),Rt&&!Ot[Ht]&&Ot[Rt],Vo(Ot))return Rt?((Se=Ot[Ht].values.get(Rt))||nt(!1),Se):nt(!1);if(te(Ot)||Lr(Ot)||si(Ot))return Ot}else if(typeof Ot=="function"&&si(Ot[Ht]))return Ot[Ht];return nt(!1)}function Ks(Ot,Rt){return Ot||nt("Expecting some object"),Rt!==void 0?Ks(ca(Ot,Rt)):te(Ot)||Lr(Ot)||si(Ot)||Ms(Ot)||Jo(Ot)?Ot:(Oe(Ot),Ot[Ht]?Ot[Ht]:void nt(!1))}function vs(Ot,Rt){return(Rt!==void 0?ca(Ot,Rt):Vo(Ot)||Ms(Ot)||Jo(Ot)?Ks(Ot):ca(Ot)).name}var _h=Object.prototype.toString;function Po(Ot,Rt,ae){return ae===void 0&&(ae=-1),function Se(Re,Ke,hn,Ln,lr){if(Re===Ke)return Re!==0||1/Re==1/Ke;if(Re==null||Ke==null)return!1;if(Re!=Re)return Ke!=Ke;var yi=typeof Re;if(yi!=="function"&&yi!=="object"&&typeof Ke!="object")return!1;var ii=_h.call(Re);if(ii!==_h.call(Ke))return!1;switch(ii){case"[object RegExp]":case"[object String]":return""+Re==""+Ke;case"[object Number]":return+Re!=+Re?+Ke!=+Ke:+Re==0?1/+Re==1/Ke:+Re==+Ke;case"[object Date]":case"[object Boolean]":return+Re==+Ke;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(Re)===Symbol.valueOf.call(Ke);case"[object Map]":case"[object Set]":hn>=0&&hn++}Re=Fa(Re),Ke=Fa(Ke);var oo=ii==="[object Array]";if(!oo){if(typeof Re!="object"||typeof Ke!="object")return!1;var Ci=Re.constructor,Ri=Ke.constructor;if(Ci!==Ri&&!(typeof Ci=="function"&&Ci instanceof Ci&&typeof Ri=="function"&&Ri instanceof Ri)&&"constructor"in Re&&"constructor"in Ke)return!1}if(hn===0)return!1;hn<0&&(hn=-1),lr=lr||[];for(var to=(Ln=Ln||[]).length;to--;)if(Ln[to]===Re)return lr[to]===Ke;if(Ln.push(Re),lr.push(Ke),oo){if((to=Re.length)!==Ke.length)return!1;for(;to--;)if(!Se(Re[to],Ke[to],hn-1,Ln,lr))return!1}else{var ao=Object.keys(Re),ho=void 0;if(to=ao.length,Object.keys(Ke).length!==to)return!1;for(;to--;)if(ho=ao[to],!ac(Ke,ho)||!Se(Re[ho],Ke[ho],hn-1,Ln,lr))return!1}return Ln.pop(),lr.pop(),!0}(Ot,Rt,ae)}function Fa(Ot){return ko(Ot)?Ot.slice():Et(Ot)||Ms(Ot)||At(Ot)||Jo(Ot)?Array.from(Ot.entries()):Ot}function ac(Ot,Rt){return Object.prototype.hasOwnProperty.call(Ot,Rt)}function rl(Ot){return Ot[Symbol.iterator]=Ic,Ot}function Ic(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Co,extras:{getDebugName:vs},$mobx:Ht})}).call(this,Y(3))},function(z,F,Y){Y.r(F),(function(W){Y.d(F,"observer",function(){return Lt}),Y.d(F,"Observer",function(){return Ht}),Y.d(F,"useStaticRendering",function(){return _t}),Y.d(F,"connect",function(){return Nt}),Y.d(F,"inject",function(){return Qt}),Y.d(F,"Provider",function(){return de});var q=Y(0),X=Y(1);function tt(ye){return!(ye.prototype&&ye.prototype.render||q.Component.isPrototypeOf(ye))}function nt(ye){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=pe.prefix,Ce=ve===void 0?"":ve,De=pe.suffix,Oe=De===void 0?"":De,Je=ye.displayName||ye.name||ye.constructor&&ye.constructor.name||"<component>";return Ce+Je+Oe}var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},ct=function(ye,pe){if(!(ye instanceof pe))throw new TypeError("Cannot call a class as a function")},lt=function(){function ye(pe,ve){for(var Ce=0;Ce<ve.length;Ce++){var De=ve[Ce];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(pe,De.key,De)}}return function(pe,ve,Ce){return ve&&ye(pe.prototype,ve),Ce&&ye(pe,Ce),pe}}(),ht=function(ye,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);ye.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,pe):ye.__proto__=pe)},bt=function(ye,pe){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||typeof pe!="object"&&typeof pe!="function"?ye:pe},wt=!1,mt=console;function _t(ye){wt=ye}function Et(ye,pe,ve,Ce,De){var Oe=function(qe){var ze=Object(X._getGlobalState)().allowStateChanges;return Object(X._getGlobalState)().allowStateChanges=qe,ze}(ye),Je=void 0;try{Je=pe(ve,Ce,De)}finally{(function(qe){Object(X._getGlobalState)().allowStateChanges=qe})(Oe)}return Je}function At(ye,pe){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ce=ye[pe],De=Ft[pe],Oe=Ce?ve===!0?function(){De.apply(this,arguments),Ce.apply(this,arguments)}:function(){Ce.apply(this,arguments),De.apply(this,arguments)}:De;ye[pe]=Oe}function Ct(ye,pe){if(ye==null||pe==null||(ye===void 0?"undefined":st(ye))!=="object"||(pe===void 0?"undefined":st(pe))!=="object")return ye!==pe;var ve=Object.keys(ye);if(ve.length!==Object.keys(pe).length)return!0;for(var Ce=void 0,De=ve.length-1;Ce=ve[De];De--)if(pe[Ce]!==ye[Ce])return!0;return!1}var Ft={componentWillMount:function(){var ye=this;if(wt!==!0){var pe=nt(this),ve=!1,Ce=!1;ze.call(this,"props"),ze.call(this,"state");var De=this.render.bind(this),Oe=null,Je=!1,qe=function(we,Me,He){Je=!1;var Le=void 0,Ye=void 0;if(Oe.track(function(){try{Ye=Et(!1,De,we,Me,He)}catch(Kt){Le=Kt}}),Le)throw Le;return Ye};this.render=function(){return(Oe=new X.Reaction(pe+".render()",function(){if(!Je&&(Je=!0,typeof ye.componentWillReact=="function"&&ye.componentWillReact(),ye.__$mobxIsUnmounted!==!0)){var we=!0;try{Ce=!0,ve||q.Component.prototype.forceUpdate.call(ye),we=!1}finally{Ce=!1,we&&Oe.dispose()}}})).reactComponent=ye,qe.$mobx=Oe,ye.render=qe,qe(ye.props,ye.state,ye.context)}}function ze(we){var Me=this[we],He=Object(X.createAtom)("reactive "+we);Object.defineProperty(this,we,{configurable:!0,enumerable:!0,get:function(){return He.reportObserved(),Me},set:function(Le){!Ce&&Ct(Me,Le)?(Me=Le,ve=!0,He.reportChanged(),ve=!1):Me=Le}})}},componentWillUnmount:function(){wt!==!0&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0)},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(ye,pe){return wt&&mt.warn("[mobx-preact] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==pe||Ct(this.props,ye)}};function Lt(ye){var pe,ve;if(arguments.length>1&&mt.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),ye.isMobxInjector===!0&&mt.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),tt(ye))return Lt((ve=pe=function(De){function Oe(){return ct(this,Oe),bt(this,(Oe.__proto__||Object.getPrototypeOf(Oe)).apply(this,arguments))}return ht(Oe,De),lt(Oe,[{key:"render",value:function(){return ye.call(this,this.props,this.context)}}]),Oe}(q.Component),pe.displayName=nt(ye),ve));if(!ye)throw new Error("Please pass a valid component to 'observer'");var Ce=ye.prototype||ye;return Yt(Ce),ye.isMobXReactObserver=!0,ye}function Yt(ye){At(ye,"componentWillMount",!0),At(ye,"componentDidMount"),ye.shouldComponentUpdate||(ye.shouldComponentUpdate=Ft.shouldComponentUpdate)}var Ht=Lt(function(ye){return ye.children[0]()});Ht.displayName="Observer";var qt=function(ye,pe){return ye(pe={exports:{}},pe.exports),pe.exports}(function(ye,pe){var ve,Ce,De,Oe,Je,qe,ze,we;ye.exports=(ve={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ce={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},De=Object.defineProperty,Oe=Object.getOwnPropertyNames,Je=Object.getOwnPropertySymbols,qe=Object.getOwnPropertyDescriptor,ze=Object.getPrototypeOf,we=ze&&ze(Object),function Me(He,Le,Ye){if(typeof Le!="string"){if(we){var Kt=ze(Le);Kt&&Kt!==we&&Me(He,Kt,Ye)}var kt=Oe(Le);Je&&(kt=kt.concat(Je(Le)));for(var jt=0;jt<kt.length;++jt){var $t=kt[jt];if(!(ve[$t]||Ce[$t]||Ye&&Ye[$t])){var oe=qe(Le,$t);try{De(He,$t,oe)}catch{}}}return He}return He})}),te={isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Xt(ye,pe,ve){var Ce,De,Oe=nt(pe,{prefix:"inject-",suffix:ve?"-with-"+ve:""}),Je=(De=Ce=function(qe){function ze(){return ct(this,ze),bt(this,(ze.__proto__||Object.getPrototypeOf(ze)).apply(this,arguments))}return ht(ze,qe),lt(ze,[{key:"render",value:function(){var we={};for(var Me in this.props)this.props.hasOwnProperty(Me)&&(we[Me]=this.props[Me]);var He=ye(this.context.mobxStores||{},we,this.context)||{};for(var Le in He)we[Le]=He[Le];return Object(q.h)(pe,we)}}]),ze}(q.Component),Ce.displayName=Oe,De);return qt(Je,pe),Je.wrappedComponent=pe,Object.defineProperties(Je,te),Je}function Dt(ye){return function(pe,ve){return ye.forEach(function(Ce){if(!(Ce in ve)){if(!(Ce in pe))throw new Error("MobX injector: Store '"+Ce+"' is not available! Make sure it is provided by some Provider");ve[Ce]=pe[Ce]}}),ve}}function Qt(){var ye=void 0;if(typeof arguments[0]=="function")return ye=arguments[0],function(Ce){var De=Xt(ye,Ce);return De.isMobxInjector=!1,(De=Lt(De)).isMobxInjector=!0,De};for(var pe=[],ve=0;ve<arguments.length;ve++)pe[ve]=arguments[ve];return ye=Dt(pe),function(Ce){return Xt(ye,Ce,pe.join("-"))}}function Nt(ye,pe){if(typeof ye=="string")throw new Error("Store names should be provided as array");return Array.isArray(ye)?pe?Qt.apply(null,ye)(Nt(pe)):function(ve){return Nt(ye,ve)}:Lt(ye)}var ce={children:!0,key:!0,ref:!0},Pt=console,de=function(ye){function pe(){return ct(this,pe),bt(this,(pe.__proto__||Object.getPrototypeOf(pe)).apply(this,arguments))}return ht(pe,ye),lt(pe,[{key:"render",value:function(ve){var Ce=ve.children;return Ce.length>1?Object(q.h)("div",null," ",Ce," "):Ce[0]}},{key:"getChildContext",value:function(){var ve={},Ce=this.context.mobxStores;if(Ce)for(var De in Ce)ve[De]=Ce[De];for(var Oe in this.props)ce[Oe]||Oe==="suppressChangedStoreWarning"||(ve[Oe]=this.props[Oe]);return{mobxStores:ve}}},{key:"componentWillReceiveProps",value:function(ve){if(Object.keys(ve).length!==Object.keys(this.props).length&&Pt.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!ve.suppressChangedStoreWarning)for(var Ce in ve)ce[Ce]||this.props[Ce]===ve[Ce]||Pt.warn("MobX Provider: Provided store '"+Ce+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),pe}(q.Component);if(!q.Component)throw new Error("mobx-preact requires Preact to be available")}).call(this,Y(3))},function(z,F){var Y;Y=function(){return this}();try{Y=Y||new Function("return this")()}catch{typeof window=="object"&&(Y=window)}z.exports=Y},function(z,F,Y){Object.defineProperty(F,"__esModule",{value:!0}),F.JSONHTTPError=F.TextHTTPError=F.HTTPError=F.getPagination=void 0;var W=Object.assign||function(wt){for(var mt=1;mt<arguments.length;mt++){var _t=arguments[mt];for(var Et in _t)Object.prototype.hasOwnProperty.call(_t,Et)&&(wt[Et]=_t[Et])}return wt},q=function(){function wt(mt,_t){for(var Et=0;Et<_t.length;Et++){var At=_t[Et];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(mt,At.key,At)}}return function(mt,_t,Et){return _t&&wt(mt.prototype,_t),Et&&wt(mt,Et),mt}}(),X=Y(10);function tt(wt,mt){if(!(wt instanceof mt))throw new TypeError("Cannot call a class as a function")}function nt(wt,mt){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!mt||typeof mt!="object"&&typeof mt!="function"?wt:mt}function st(wt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);wt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(wt,mt):wt.__proto__=mt)}Object.defineProperty(F,"getPagination",{enumerable:!0,get:function(){return X.getPagination}});var ct=F.HTTPError=function(wt){function mt(_t){tt(this,mt);var Et=nt(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,_t.statusText));return Et.name=Et.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(Et,Et.constructor):Et.stack=new Error(_t.statusText).stack,Et.status=_t.status,Et}return st(mt,wt),mt}(function(wt){function mt(){var _t=Reflect.construct(wt,Array.from(arguments));return Object.setPrototypeOf(_t,Object.getPrototypeOf(this)),_t}return mt.prototype=Object.create(wt.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(mt,wt):mt.__proto__=wt,mt}(Error)),lt=F.TextHTTPError=function(wt){function mt(_t,Et){tt(this,mt);var At=nt(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,_t));return At.data=Et,At}return st(mt,wt),mt}(ct),ht=F.JSONHTTPError=function(wt){function mt(_t,Et){tt(this,mt);var At=nt(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,_t));return At.json=Et,At}return st(mt,wt),mt}(ct),bt=function(){function wt(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_t=arguments[1];tt(this,wt),this.apiURL=mt,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=_t&&_t.defaultHeaders||{}}return q(wt,[{key:"headers",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return W({},this.defaultHeaders,{"Content-Type":"application/json"},mt)}},{key:"parseJsonResponse",value:function(mt){return mt.json().then(function(_t){if(!mt.ok)return Promise.reject(new ht(mt,_t));var Et=(0,X.getPagination)(mt);return Et?{pagination:Et,items:_t}:_t})}},{key:"request",value:function(mt){var _t=this,Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At=this.headers(Et.headers||{});return this._sameOrigin&&(Et.credentials=Et.credentials||"same-origin"),fetch(this.apiURL+mt,W({},Et,{headers:At})).then(function(Ct){var Ft=Ct.headers.get("Content-Type");return Ft&&Ft.match(/json/)?_t.parseJsonResponse(Ct):Ct.ok?Ct.text().then(function(Lt){}):Ct.text().then(function(Lt){return Promise.reject(new lt(Ct,Lt))})})}}]),wt}();F.default=bt},function(z,F,Y){function W(bt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(bt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=Y(0);function X(bt,wt){if(!(bt instanceof wt))throw new TypeError("Cannot call a class as a function")}function tt(bt,wt){for(var mt=0;mt<wt.length;mt++){var _t=wt[mt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(bt,_t.key,_t)}}function nt(bt,wt){return(nt=Object.setPrototypeOf||function(mt,_t){return mt.__proto__=_t,mt})(bt,wt)}function st(bt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var mt,_t=lt(bt);if(wt){var Et=lt(this).constructor;mt=Reflect.construct(_t,arguments,Et)}else mt=_t.apply(this,arguments);return ct(this,mt)}}function ct(bt,wt){return!wt||W(wt)!=="object"&&typeof wt!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(bt):wt}function lt(bt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(bt)}var ht=function(bt){(function(At,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");At.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:At,writable:!0,configurable:!0}}),Ct&&nt(At,Ct)})(Et,bt);var wt,mt,_t=st(Et);function Et(){return X(this,Et),_t.apply(this,arguments)}return wt=Et,(mt=[{key:"render",value:function(){var At=this.props,Ct=At.saving,Ft=At.text,Lt=At.saving_text;return(0,q.h)("button",{type:"submit",className:"btn".concat(Ct?" saving":"")},Ct?Lt||"Saving":Ft||"Save")}}])&&tt(wt.prototype,mt),Et}(q.Component);F.default=ht},function(z,F,Y){function W(wt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt})(wt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=Y(0);function X(wt,mt){if(!(wt instanceof mt))throw new TypeError("Cannot call a class as a function")}function tt(wt,mt){for(var _t=0;_t<mt.length;_t++){var Et=mt[_t];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(wt,Et.key,Et)}}function nt(wt,mt){return(nt=Object.setPrototypeOf||function(_t,Et){return _t.__proto__=Et,_t})(wt,mt)}function st(wt){var mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _t,Et=lt(wt);if(mt){var At=lt(this).constructor;_t=Reflect.construct(Et,arguments,At)}else _t=Et.apply(this,arguments);return ct(this,_t)}}function ct(wt,mt){return!mt||W(mt)!=="object"&&typeof mt!="function"?function(_t){if(_t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t}(wt):mt}function lt(wt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(mt){return mt.__proto__||Object.getPrototypeOf(mt)})(wt)}var ht={confirm:{type:"success",text:"message_confirm"},password_mail:{type:"success",text:"message_password_mail"},email_changed:{type:"sucess",text:"message_email_changed"},verfication_error:{type:"error",text:"message_verfication_error"},signup_disabled:{type:"error",text:"message_signup_disabled"}},bt=function(wt){(function(Ct,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Ct.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Ct,writable:!0,configurable:!0}}),Ft&&nt(Ct,Ft)})(At,wt);var mt,_t,Et=st(At);function At(){return X(this,At),Et.apply(this,arguments)}return mt=At,(_t=[{key:"render",value:function(){var Ct=this.props,Ft=Ct.type,Lt=Ct.t,Yt=ht[Ft];return(0,q.h)("div",{className:"flashMessage ".concat(Yt.type)},(0,q.h)("span",null,Lt(Yt.text)))}}])&&tt(mt.prototype,_t),At}(q.Component);F.default=bt},function(z,F,Y){z.exports=function(W){var q=[];return q.toString=function(){return this.map(function(X){var tt=function(nt,st){var ct=nt[1]||"",lt=nt[3];if(!lt)return ct;if(st&&typeof btoa=="function"){var ht=(wt=lt,mt=btoa(unescape(encodeURIComponent(JSON.stringify(wt)))),_t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(mt),"/*# ".concat(_t," */")),bt=lt.sources.map(function(Et){return"/*# sourceURL=".concat(lt.sourceRoot||"").concat(Et," */")});return[ct].concat(bt).concat([ht]).join(`
`)}var wt,mt,_t;return[ct].join(`
`)}(X,W);return X[2]?"@media ".concat(X[2]," {").concat(tt,"}"):tt}).join("")},q.i=function(X,tt,nt){typeof X=="string"&&(X=[[null,X,""]]);var st={};if(nt)for(var ct=0;ct<this.length;ct++){var lt=this[ct][0];lt!=null&&(st[lt]=!0)}for(var ht=0;ht<X.length;ht++){var bt=[].concat(X[ht]);nt&&st[bt[0]]||(tt&&(bt[2]?bt[2]="".concat(tt," and ").concat(bt[2]):bt[2]=tt),q.push(bt))}},q}},function(z,F,Y){Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var W=Y(0),q=Y(1),X=Y(2),tt=ht(Y(9)),nt=ht(Y(13)),st=ht(Y(19)),ct=ht(Y(29)),lt=ht(Y(30));function ht(pe){return pe&&pe.__esModule?pe:{default:pe}}function bt(pe,ve){return function(Ce){if(Array.isArray(Ce))return Ce}(pe)||function(Ce,De){var Oe=Ce&&(typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"]);if(Oe!=null){var Je,qe,ze=[],we=!0,Me=!1;try{for(Oe=Oe.call(Ce);!(we=(Je=Oe.next()).done)&&(ze.push(Je.value),!De||ze.length!==De);we=!0);}catch(He){Me=!0,qe=He}finally{try{we||Oe.return==null||Oe.return()}finally{if(Me)throw qe}}return ze}}(pe,ve)||function(Ce,De){if(Ce){if(typeof Ce=="string")return wt(Ce,De);var Oe=Object.prototype.toString.call(Ce).slice(8,-1);if(Oe==="Object"&&Ce.constructor&&(Oe=Ce.constructor.name),Oe==="Map"||Oe==="Set")return Array.from(Ce);if(Oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oe))return wt(Ce,De)}}(pe,ve)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wt(pe,ve){(ve==null||ve>pe.length)&&(ve=pe.length);for(var Ce=0,De=new Array(ve);Ce<ve;Ce++)De[Ce]=pe[Ce];return De}function mt(pe,ve){var Ce=Object.keys(pe);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(pe);ve&&(De=De.filter(function(Oe){return Object.getOwnPropertyDescriptor(pe,Oe).enumerable})),Ce.push.apply(Ce,De)}return Ce}function _t(pe){for(var ve=1;ve<arguments.length;ve++){var Ce=arguments[ve]!=null?arguments[ve]:{};ve%2?mt(Object(Ce),!0).forEach(function(De){Et(pe,De,Ce[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(Ce)):mt(Object(Ce)).forEach(function(De){Object.defineProperty(pe,De,Object.getOwnPropertyDescriptor(Ce,De))})}return pe}function Et(pe,ve,Ce){return ve in pe?Object.defineProperty(pe,ve,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):pe[ve]=Ce,pe}var At={};function Ct(pe){var ve=arguments,Ce=At[pe]||new Set;Array.from(Ce.values()).forEach(function(De){De.apply(De,Array.prototype.slice.call(ve,1))})}var Ft={login:!0,signup:!0,error:!0},Lt={on:function(pe,ve){At[pe]=At[pe]||new Set,At[pe].add(ve)},off:function(pe,ve){At[pe]&&(ve?At[pe].delete(ve):At[pe].clear())},open:function(pe){if(!Ft[pe=pe||"login"])throw new Error("Invalid action for open: ".concat(pe));st.default.openModal(st.default.user?"user":pe)},close:function(){st.default.closeModal()},currentUser:function(){return st.default.gotrue&&st.default.gotrue.currentUser()},logout:function(){return st.default.logout()},get gotrue(){return st.default.gotrue||st.default.openModal("login"),st.default.gotrue},refresh:function(pe){return st.default.gotrue||st.default.openModal("login"),st.default.gotrue.currentUser().jwt(pe)},init:function(pe){(function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ce=ve.APIUrl,De=ve.logo,Oe=De===void 0||De,Je=ve.namePlaceholder,qe=ve.locale;qe&&(st.default.locale=qe);var ze=document.querySelectorAll("[data-netlify-identity-menu],[data-netlify-identity-button]");Array.prototype.slice.call(ze).forEach(function(Me){var He=Me.getAttribute("data-netlify-identity-menu")===null?"button":"menu";(0,W.render)((0,W.h)(X.Provider,{store:st.default},(0,W.h)(ct.default,{mode:He,text:Me.innerText.trim()})),Me,null)}),st.default.init(Dt(Ce)),st.default.modal.logo=Oe,st.default.setNamePlaceholder(Je),(te=document.createElement("iframe")).id="netlify-identity-widget",te.title="Netlify identity widget",te.onload=function(){var Me=te.contentDocument.createElement("style");Me.innerHTML=lt.default.toString(),te.contentDocument.head.appendChild(Me),qt=(0,W.render)((0,W.h)(X.Provider,{store:st.default},(0,W.h)(nt.default,null)),te.contentDocument.body,qt),de()},Ht(te,Qt),te.src="about:blank";var we=ve.container?document.querySelector(ve.container):document.body;we.appendChild(te),Yt&&(te.setAttribute("style",Yt),Yt=null)})(pe)},setLocale:function(pe){pe&&(st.default.locale=pe)},store:st.default},Yt=null;function Ht(pe,ve){var Ce="";for(var De in ve)Ce+="".concat(De,": ").concat(ve[De],"; ");pe?pe.setAttribute("style",Ce):Yt=Ce}var qt,te,Xt={localhost:!0,"127.0.0.1":!0,"0.0.0.0":!0};function Dt(pe){var ve=Xt[document.location.hostname];if(pe)return new tt.default({APIUrl:pe,setCookie:!ve});if(ve){st.default.setIsLocal(ve);var Ce=localStorage.getItem("netlifySiteURL");return Ce&&st.default.setSiteURL(Ce),null}return new tt.default({setCookie:!ve})}var Qt={position:"fixed",top:0,left:0,border:"none",width:"100%",height:"100%",overflow:"visible",background:"transparent",display:"none","z-index":99};(0,q.observe)(st.default.modal,"isOpen",function(){st.default.settings||st.default.loadSettings(),Ht(te,_t(_t({},Qt),{},{display:st.default.modal.isOpen?"block !important":"none"})),st.default.modal.isOpen?Ct("open",st.default.modal.page):Ct("close")}),(0,q.observe)(st.default,"siteURL",function(){var pe;if(st.default.siteURL===null||st.default.siteURL===void 0?localStorage.removeItem("netlifySiteURL"):localStorage.setItem("netlifySiteURL",st.default.siteURL),st.default.siteURL){var ve=st.default.siteURL.replace(/\/$/,"");pe="".concat(ve,"/.netlify/identity")}st.default.init(Dt(pe),!0)}),(0,q.observe)(st.default,"user",function(){st.default.user?Ct("login",st.default.user):Ct("logout")}),(0,q.observe)(st.default,"gotrue",function(){st.default.gotrue&&Ct("init",st.default.gotrue.currentUser())}),(0,q.observe)(st.default,"error",function(){Ct("error",st.default.error)});var Nt=/(confirmation|invite|recovery|email_change)_token=([^&]+)/,ce=/error=access_denied&error_description=403/,Pt=/access_token=/;function de(){var pe=(document.location.hash||"").replace(/^#\/?/,"");if(pe){var ve=pe.match(Nt);if(ve&&(st.default.verifyToken(ve[1],ve[2]),document.location.hash=""),pe.match(ce)&&(st.default.openModal("signup"),document.location.hash=""),pe.match(Pt)){var Ce={};if(pe.split("&").forEach(function(Oe){var Je=bt(Oe.split("="),2),qe=Je[0],ze=Je[1];Ce[qe]=ze}),document&&Ce.access_token&&(document.cookie="nf_jwt=".concat(Ce.access_token)),Ce.state)try{var De=decodeURIComponent(Ce.state);if(JSON.parse(De).auth_type==="implicit")return}catch{}document.location.hash="",st.default.openModal("login"),st.default.completeExternalLogin(Ce)}}}var ye=Lt;F.default=ye},function(z,F,Y){function W(bt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(bt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q,X=function(bt){if(bt&&bt.__esModule)return bt;if(bt===null||W(bt)!=="object"&&typeof bt!="function")return{default:bt};var wt=nt();if(wt&&wt.has(bt))return wt.get(bt);var mt={},_t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Et in bt)if(Object.prototype.hasOwnProperty.call(bt,Et)){var At=_t?Object.getOwnPropertyDescriptor(bt,Et):null;At&&(At.get||At.set)?Object.defineProperty(mt,Et,At):mt[Et]=bt[Et]}return mt.default=bt,wt&&wt.set(bt,mt),mt}(Y(4)),tt=(q=Y(11))&&q.__esModule?q:{default:q};function nt(){if(typeof WeakMap!="function")return null;var bt=new WeakMap;return nt=function(){return bt},bt}function st(bt,wt){if(!(bt instanceof wt))throw new TypeError("Cannot call a class as a function")}function ct(bt,wt){for(var mt=0;mt<wt.length;mt++){var _t=wt[mt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(bt,_t.key,_t)}}var lt=/^http:\/\//,ht=function(){function bt(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Et=_t.APIUrl,At=Et===void 0?"/.netlify/identity":Et,Ct=_t.audience,Ft=Ct===void 0?"":Ct,Lt=_t.setCookie,Yt=Lt!==void 0&&Lt;st(this,bt),At.match(lt)&&console.warn(`Warning:

DO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!
GoTrue REQUIRES HTTPS to work securely.`),Ft&&(this.audience=Ft),this.setCookie=Yt,this.api=new X.default(At)}var wt,mt;return wt=bt,(mt=[{key:"_request",value:function(_t){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Et.headers=Et.headers||{};var At=Et.audience||this.audience;return At&&(Et.headers["X-JWT-AUD"]=At),this.api.request(_t,Et).catch(function(Ct){return Ct instanceof X.JSONHTTPError&&Ct.json&&(Ct.json.msg?Ct.message=Ct.json.msg:Ct.json.error&&(Ct.message="".concat(Ct.json.error,": ").concat(Ct.json.error_description))),Promise.reject(Ct)})}},{key:"settings",value:function(){return this._request("/settings")}},{key:"signup",value:function(_t,Et,At){return this._request("/signup",{method:"POST",body:JSON.stringify({email:_t,password:Et,data:At})})}},{key:"login",value:function(_t,Et,At){var Ct=this;return this._setRememberHeaders(At),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(_t),"&password=").concat(encodeURIComponent(Et))}).then(function(Ft){return tt.default.removeSavedSession(),Ct.createUser(Ft,At)})}},{key:"loginExternalUrl",value:function(_t){return"".concat(this.api.apiURL,"/authorize?provider=").concat(_t)}},{key:"confirm",value:function(_t,Et){return this._setRememberHeaders(Et),this.verify("signup",_t,Et)}},{key:"requestPasswordRecovery",value:function(_t){return this._request("/recover",{method:"POST",body:JSON.stringify({email:_t})})}},{key:"recover",value:function(_t,Et){return this._setRememberHeaders(Et),this.verify("recovery",_t,Et)}},{key:"acceptInvite",value:function(_t,Et,At){var Ct=this;return this._setRememberHeaders(At),this._request("/verify",{method:"POST",body:JSON.stringify({token:_t,password:Et,type:"signup"})}).then(function(Ft){return Ct.createUser(Ft,At)})}},{key:"acceptInviteExternalUrl",value:function(_t,Et){return"".concat(this.api.apiURL,"/authorize?provider=").concat(_t,"&invite_token=").concat(Et)}},{key:"createUser",value:function(_t){var Et=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._setRememberHeaders(Et);var At=new tt.default(this.api,_t,this.audience);return At.getUserData().then(function(Ct){return Et&&Ct._saveSession(),Ct})}},{key:"currentUser",value:function(){var _t=tt.default.recoverSession(this.api);return _t&&this._setRememberHeaders(_t._fromStorage),_t}},{key:"verify",value:function(_t,Et,At){var Ct=this;return this._setRememberHeaders(At),this._request("/verify",{method:"POST",body:JSON.stringify({token:Et,type:_t})}).then(function(Ft){return Ct.createUser(Ft,At)})}},{key:"_setRememberHeaders",value:function(_t){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=_t?"1":"session")}}])&&ct(wt.prototype,mt),bt}();F.default=ht,typeof window<"u"&&(window.GoTrue=ht)},function(z,F,Y){Object.defineProperty(F,"__esModule",{value:!0});var W=function(q,X){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return function(tt,nt){var st=[],ct=!0,lt=!1,ht=void 0;try{for(var bt,wt=tt[Symbol.iterator]();!(ct=(bt=wt.next()).done)&&(st.push(bt.value),!nt||st.length!==nt);ct=!0);}catch(mt){lt=!0,ht=mt}finally{try{!ct&&wt.return&&wt.return()}finally{if(lt)throw ht}}return st}(q,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")};F.getPagination=function(q){var X=q.headers.get("Link"),tt={};if(X==null)return null;X=X.split(",");for(var nt=q.headers.get("X-Total-Count"),st=0,ct=X.length;st<ct;st++){var lt=X[st].replace(/(^\s*|\s*$)/,"").split(";"),ht=W(lt,2),bt=ht[0],wt=ht[1],mt=bt.match(/page=(\d+)/),_t=mt&&parseInt(mt[1],10);wt.match(/last/)?tt.last=_t:wt.match(/next/)?tt.next=_t:wt.match(/prev/)?tt.prev=_t:wt.match(/first/)&&(tt.first=_t)}return tt.last=Math.max(tt.last||0,tt.prev&&tt.prev+1||0),tt.current=tt.next?tt.next-1:tt.last||1,tt.total=nt?parseInt(nt,10):null,tt}},function(z,F,Y){function W(Ct){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ft){return typeof Ft}:function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft})(Ct)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q,X=function(Ct){if(Ct&&Ct.__esModule)return Ct;if(Ct===null||W(Ct)!=="object"&&typeof Ct!="function")return{default:Ct};var Ft=nt();if(Ft&&Ft.has(Ct))return Ft.get(Ct);var Lt={},Yt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ht in Ct)if(Object.prototype.hasOwnProperty.call(Ct,Ht)){var qt=Yt?Object.getOwnPropertyDescriptor(Ct,Ht):null;qt&&(qt.get||qt.set)?Object.defineProperty(Lt,Ht,qt):Lt[Ht]=Ct[Ht]}return Lt.default=Ct,Ft&&Ft.set(Ct,Lt),Lt}(Y(4)),tt=(q=Y(12))&&q.__esModule?q:{default:q};function nt(){if(typeof WeakMap!="function")return null;var Ct=new WeakMap;return nt=function(){return Ct},Ct}function st(Ct,Ft){var Lt=Object.keys(Ct);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(Ct);Ft&&(Yt=Yt.filter(function(Ht){return Object.getOwnPropertyDescriptor(Ct,Ht).enumerable})),Lt.push.apply(Lt,Yt)}return Lt}function ct(Ct){for(var Ft=1;Ft<arguments.length;Ft++){var Lt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?st(Object(Lt),!0).forEach(function(Yt){lt(Ct,Yt,Lt[Yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(Lt)):st(Object(Lt)).forEach(function(Yt){Object.defineProperty(Ct,Yt,Object.getOwnPropertyDescriptor(Lt,Yt))})}return Ct}function lt(Ct,Ft,Lt){return Ft in Ct?Object.defineProperty(Ct,Ft,{value:Lt,enumerable:!0,configurable:!0,writable:!0}):Ct[Ft]=Lt,Ct}function ht(Ct,Ft){for(var Lt=0;Lt<Ft.length;Lt++){var Yt=Ft[Lt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Ct,Yt.key,Yt)}}var bt={},wt=null,mt={api:1,token:1,audience:1,url:1},_t={api:1},Et=function(){return typeof window<"u"},At=function(){function Ct(Ht,qt,te){(function(Xt,Dt){if(!(Xt instanceof Dt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.api=Ht,this.url=Ht.apiURL,this.audience=te,this._processTokenResponse(qt),wt=this}var Ft,Lt,Yt;return Ft=Ct,Yt=[{key:"removeSavedSession",value:function(){Et()&&localStorage.removeItem("gotrue.user")}},{key:"recoverSession",value:function(Ht){if(wt)return wt;var qt=Et()&&localStorage.getItem("gotrue.user");if(qt)try{var te=JSON.parse(qt),Xt=te.url,Dt=te.token,Qt=te.audience;return Xt&&Dt?new Ct(Ht||new X.default(Xt,{}),Dt,Qt)._saveUserData(te,!0):null}catch(Nt){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(Nt))),null}return null}}],(Lt=[{key:"update",value:function(Ht){var qt=this;return this._request("/user",{method:"PUT",body:JSON.stringify(Ht)}).then(function(te){return qt._saveUserData(te)._refreshSavedSession()})}},{key:"jwt",value:function(Ht){var qt=this.tokenDetails();if(qt==null)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var te=qt.expires_at,Xt=qt.refresh_token,Dt=qt.access_token;return Ht||te-6e4<Date.now()?this._refreshToken(Xt):Promise.resolve(Dt)}},{key:"logout",value:function(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function(Ht){var qt=this;return bt[Ht]?bt[Ht]:bt[Ht]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(Ht)}).then(function(te){return delete bt[Ht],qt._processTokenResponse(te),qt._refreshSavedSession(),qt.token.access_token}).catch(function(te){return delete bt[Ht],qt.clearSession(),Promise.reject(te)})}},{key:"_request",value:function(Ht){var qt=this,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te.headers=te.headers||{};var Xt=te.audience||this.audience;return Xt&&(te.headers["X-JWT-AUD"]=Xt),this.jwt().then(function(Dt){return qt.api.request(Ht,ct({headers:Object.assign(te.headers,{Authorization:"Bearer ".concat(Dt)})},te)).catch(function(Qt){return Qt instanceof X.JSONHTTPError&&Qt.json&&(Qt.json.msg?Qt.message=Qt.json.msg:Qt.json.error&&(Qt.message="".concat(Qt.json.error,": ").concat(Qt.json.error_description))),Promise.reject(Qt)})})}},{key:"getUserData",value:function(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function(Ht,qt){for(var te in Ht)te in Ct.prototype||te in mt||(this[te]=Ht[te]);return qt&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function(Ht){this.token=Ht;try{var qt=JSON.parse(function(te){var Xt=te.replace(/-/g,"+").replace(/_/g,"/");switch(Xt.length%4){case 0:break;case 2:Xt+="==";break;case 3:Xt+="=";break;default:throw"Illegal base64url string!"}var Dt=window.atob(Xt);try{return decodeURIComponent(escape(Dt))}catch{return Dt}}(Ht.access_token.split(".")[1]));this.token.expires_at=1e3*qt.exp}catch(te){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(te)))}}},{key:"_refreshSavedSession",value:function(){return Et()&&localStorage.getItem("gotrue.user")&&this._saveSession(),this}},{key:"_saveSession",value:function(){return Et()&&localStorage.setItem("gotrue.user",JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function(){return this.token}},{key:"clearSession",value:function(){Ct.removeSavedSession(),this.token=null,wt=null}},{key:"admin",get:function(){return new tt.default(this)}},{key:"_details",get:function(){var Ht={};for(var qt in this)qt in Ct.prototype||qt in _t||(Ht[qt]=this[qt]);return Ht}}])&&ht(Ft.prototype,Lt),Yt&&ht(Ft,Yt),Ct}();F.default=At},function(z,F,Y){function W(X,tt){for(var nt=0;nt<tt.length;nt++){var st=tt[nt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(X,st.key,st)}}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=function(){function X(st){(function(ct,lt){if(!(ct instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,X),this.user=st}var tt,nt;return tt=X,(nt=[{key:"listUsers",value:function(st){return this.user._request("/admin/users",{method:"GET",audience:st})}},{key:"getUser",value:function(st){return this.user._request("/admin/users/".concat(st.id))}},{key:"updateUser",value:function(st){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.user._request("/admin/users/".concat(st.id),{method:"PUT",body:JSON.stringify(ct)})}},{key:"createUser",value:function(st,ct){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lt.email=st,lt.password=ct,this.user._request("/admin/users",{method:"POST",body:JSON.stringify(lt)})}},{key:"deleteUser",value:function(st){return this.user._request("/admin/users/".concat(st.id),{method:"DELETE"})}}])&&W(tt.prototype,nt),X}();F.default=q},function(z,F,Y){function W(qt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(qt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q,X=Y(0),tt=Y(2),nt=wt(Y(14)),st=wt(Y(15)),ct=wt(Y(16)),lt=wt(Y(17)),ht=wt(Y(18)),bt=wt(Y(6));function wt(qt){return qt&&qt.__esModule?qt:{default:qt}}function mt(qt,te){if(!(qt instanceof te))throw new TypeError("Cannot call a class as a function")}function _t(qt,te){for(var Xt=0;Xt<te.length;Xt++){var Dt=te[Xt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(qt,Dt.key,Dt)}}function Et(qt,te){return(Et=Object.setPrototypeOf||function(Xt,Dt){return Xt.__proto__=Dt,Xt})(qt,te)}function At(qt){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Xt,Dt=Ft(qt);if(te){var Qt=Ft(this).constructor;Xt=Reflect.construct(Dt,arguments,Qt)}else Xt=Dt.apply(this,arguments);return Ct(this,Xt)}}function Ct(qt,te){return!te||W(te)!=="object"&&typeof te!="function"?function(Xt){if(Xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xt}(qt):te}function Ft(qt){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)})(qt)}var Lt={login:!0,signup:!0},Yt={login:{login:!0,button:"log_in",button_saving:"logging_in",email:!0,password:"current-password",link:"amnesia",link_text:"forgot_password",providers:!0},signup:{signup:!0,button:"sign_up",button_saving:"signing_up",name:!0,email:!0,password:"new-password",providers:!0},amnesia:{title:"recover_password",button:"send_recovery_email",button_saving:"sending_recovery_email",email:!0,link:"login",link_text:"never_mind"},recovery:{title:"recover_password",button:"update_password",button_saving:"updating_password",password:"new-password",link:"login",link_text:"never_mind"},invite:{title:"complete_your_signup",button:"sign_up",button_saving:"signing_up",password:"new-password",providers:!0},user:{title:"logged_in"}},Ht=(0,tt.connect)(["store"])(q=function(qt){(function(Nt,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),ce&&Et(Nt,ce)})(Qt,qt);var te,Xt,Dt=At(Qt);function Qt(){var Nt;mt(this,Qt);for(var ce=arguments.length,Pt=new Array(ce),de=0;de<ce;de++)Pt[de]=arguments[de];return(Nt=Dt.call.apply(Dt,[this].concat(Pt))).handleClose=function(){return Nt.props.store.closeModal()},Nt.handlePage=function(ye){return Nt.props.store.openModal(ye)},Nt.handleLogout=function(){return Nt.props.store.logout()},Nt.handleSiteURL=function(ye){return Nt.props.store.setSiteURL(ye)},Nt.clearSiteURL=function(ye){return Nt.props.store.clearSiteURL()},Nt.clearStoreError=function(){return Nt.props.store.setError()},Nt.handleExternalLogin=function(ye){return Nt.props.store.externalLogin(ye)},Nt.handleUser=function(ye){var pe=ye.name,ve=ye.email,Ce=ye.password,De=Nt.props.store;switch(De.modal.page){case"login":De.login(ve,Ce);break;case"signup":De.signup(pe,ve,Ce);break;case"amnesia":De.requestPasswordRecovery(ve);break;case"invite":De.acceptInvite(Ce);break;case"recovery":De.updatePassword(Ce)}},Nt}return te=Qt,(Xt=[{key:"renderBody",value:function(){var Nt=this,ce=this.props.store,Pt=Yt[ce.modal.page]||{};return ce.isLocal&&ce.siteURL===null?(0,X.h)(st.default,{devMode:ce.siteURL!=null,onSiteURL:ce.siteURL?this.clearSiteURL:this.handleSiteURL,t:ce.translate}):ce.settings?ce.user?(0,X.h)(ct.default,{user:ce.user,saving:ce.saving,onLogout:this.handleLogout,t:ce.translate}):ce.modal.page==="signup"&&ce.settings.disable_signup?(0,X.h)(bt.default,{type:"signup_disabled",t:ce.translate}):(0,X.h)("div",null,(0,X.h)(lt.default,{page:Yt[ce.modal.page]||{},message:ce.message,saving:ce.saving,onSubmit:this.handleUser,namePlaceholder:ce.namePlaceholder,t:ce.translate}),!ce.user&&Pt.link&&ce.gotrue&&(0,X.h)("button",{onclick:function(){return Nt.handlePage(Pt.link)},className:"btnLink forgotPasswordLink"},ce.translate(Pt.link_text)),ce.isLocal?(0,X.h)(st.default,{devMode:ce.siteURL!=null,onSiteURL:ce.siteURL?this.clearSiteURL:this.handleSiteURL,t:ce.translate}):(0,X.h)("div",null)):void 0}},{key:"renderProviders",value:function(){var Nt=this.props.store;if(!Nt.gotrue||!Nt.settings||Nt.modal.page==="signup"&&Nt.settings.disable_signup||!(Yt[Nt.modal.page]||{}).providers)return null;var ce=["Google","GitHub","GitLab","BitBucket","SAML"].filter(function(Pt){return Nt.settings.external[Pt.toLowerCase()]});return ce.length?(0,X.h)(ht.default,{providers:ce,labels:Nt.settings.external_labels||{},onLogin:this.handleExternalLogin,t:Nt.translate}):null}},{key:"render",value:function(){var Nt=this.props.store,ce=Lt[Nt.modal.page],Pt=Nt.settings&&!Nt.settings.disable_signup,de=Yt[Nt.modal.page]||{};return(0,X.h)("div",null,(0,X.h)(nt.default,{page:de,error:Nt.error,showHeader:ce,showSignup:Pt,devSettings:!Nt.gotrue,loading:!Nt.error&&Nt.gotrue&&!Nt.settings,isOpen:Nt.modal.isOpen,onPage:this.handlePage,onClose:this.handleClose,logo:Nt.modal.logo,t:Nt.translate,isLocal:Nt.isLocal,clearSiteURL:this.clearSiteURL,clearStoreError:this.clearStoreError},this.renderBody(),this.renderProviders()))}}])&&_t(te.prototype,Xt),Qt}(X.Component))||q;F.default=Ht},function(z,F,Y){function W(bt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(bt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=Y(0);function X(bt,wt){if(!(bt instanceof wt))throw new TypeError("Cannot call a class as a function")}function tt(bt,wt){for(var mt=0;mt<wt.length;mt++){var _t=wt[mt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(bt,_t.key,_t)}}function nt(bt,wt){return(nt=Object.setPrototypeOf||function(mt,_t){return mt.__proto__=_t,mt})(bt,wt)}function st(bt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var mt,_t=lt(bt);if(wt){var Et=lt(this).constructor;mt=Reflect.construct(_t,arguments,Et)}else mt=_t.apply(this,arguments);return ct(this,mt)}}function ct(bt,wt){return!wt||W(wt)!=="object"&&typeof wt!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(bt):wt}function lt(bt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(bt)}var ht=function(bt){(function(At,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");At.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:At,writable:!0,configurable:!0}}),Ct&&nt(At,Ct)})(Et,bt);var wt,mt,_t=st(Et);function Et(){var At;X(this,Et);for(var Ct=arguments.length,Ft=new Array(Ct),Lt=0;Lt<Ct;Lt++)Ft[Lt]=arguments[Lt];return(At=_t.call.apply(_t,[this].concat(Ft))).handleClose=function(Yt){Yt.preventDefault(),At.props.onClose()},At.blockEvent=function(Yt){Yt.stopPropagation()},At.linkHandler=function(Yt){return function(Ht){Ht.preventDefault(),At.props.onPage(Yt)}},At}return wt=Et,(mt=[{key:"render",value:function(){var At=this.props,Ct=At.page,Ft=At.error,Lt=At.loading,Yt=At.showHeader,Ht=At.showSignup,qt=At.devSettings,te=At.isOpen,Xt=At.children,Dt=At.logo,Qt=At.t,Nt=At.isLocal,ce=At.clearSiteURL,Pt=At.clearStoreError,de=Lt||!te,ye=Ft?function(pe){return pe.json&&pe.json.error_description||pe.message||pe.toString()}(Ft):null;return(0,q.h)("div",{className:"modalContainer",role:"dialog","aria-hidden":"".concat(de),onClick:this.handleClose},(0,q.h)("div",{className:"modalDialog".concat(Lt?" visuallyHidden":""),onClick:this.blockEvent},(0,q.h)("div",{className:"modalContent"},(0,q.h)("button",{onclick:this.handleClose,className:"btn btnClose"},(0,q.h)("span",{className:"visuallyHidden"},"Close")),Yt&&(0,q.h)("div",{className:"header"},Ht&&(0,q.h)("button",{className:"btn btnHeader ".concat(Ct.signup?"active":""),onclick:this.linkHandler("signup")},Qt("sign_up")),!qt&&(0,q.h)("button",{className:"btn btnHeader ".concat(Ct.login?"active":""),onclick:this.linkHandler("login")},Qt("log_in"))),Ct.title&&(0,q.h)("div",{className:"header"},(0,q.h)("button",{className:"btn btnHeader active"},Qt(Ct.title))),qt&&(0,q.h)("div",{className:"header"},(0,q.h)("button",{className:"btn btnHeader active"},Qt("site_url_title"))),ye&&(0,q.h)("div",{className:"flashMessage error"},(0,q.h)("span",null,Qt(ye))),Nt&&ye&&ye.includes("Failed to load settings from")&&(0,q.h)("div",null,(0,q.h)("button",{onclick:function(pe){ce(pe),Pt()},className:"btnLink forgotPasswordLink"},Qt("site_url_link_text"))),Xt)),Dt&&(0,q.h)("a",{href:"https://www.netlify.com",className:"callOut".concat(Lt?" visuallyHidden":"")},(0,q.h)("span",{className:"netlifyLogo"}),Qt("coded_by")))}}])&&tt(wt.prototype,mt),Et}(q.Component);F.default=ht},function(z,F,Y){function W(ht){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt})(ht)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=Y(0);function X(ht,bt){for(var wt=0;wt<bt.length;wt++){var mt=bt[wt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ht,mt.key,mt)}}function tt(ht,bt){return(tt=Object.setPrototypeOf||function(wt,mt){return wt.__proto__=mt,wt})(ht,bt)}function nt(ht){var bt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var wt,mt=ct(ht);if(bt){var _t=ct(this).constructor;wt=Reflect.construct(mt,arguments,_t)}else wt=mt.apply(this,arguments);return st(this,wt)}}function st(ht,bt){return!bt||W(bt)!=="object"&&typeof bt!="function"?function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(ht):bt}function ct(ht){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(bt){return bt.__proto__||Object.getPrototypeOf(bt)})(ht)}var lt=function(ht){(function(Et,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");Et.prototype=Object.create(At&&At.prototype,{constructor:{value:Et,writable:!0,configurable:!0}}),At&&tt(Et,At)})(_t,ht);var bt,wt,mt=nt(_t);function _t(Et){var At;return function(Ct,Ft){if(!(Ct instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,_t),(At=mt.call(this,Et)).handleInput=function(Ct){var Ft,Lt,Yt;At.setState((Ft={},Lt=Ct.target.name,Yt=Ct.target.value,Lt in Ft?Object.defineProperty(Ft,Lt,{value:Yt,enumerable:!0,configurable:!0,writable:!0}):Ft[Lt]=Yt,Ft))},At.addSiteURL=function(Ct){Ct.preventDefault();var Ft,Lt,Yt=(Ft=At.state.url,Lt="/.netlify/identity",Ft.indexOf(Lt)===-1?Ft:Ft.substring(0,Ft.length-Lt.length));At.props.onSiteURL(Yt)},At.clearSiteURL=function(Ct){Ct.preventDefault,At.props.onSiteURL()},At.state={url:"",development:Et.devMode||!1},At}return bt=_t,(wt=[{key:"render",value:function(){var Et=this,At=this.state,Ct=At.url,Ft=At.development,Lt=this.props.t;return(0,q.h)("div",null,Ft?(0,q.h)("div",{class:"subheader"},(0,q.h)("h3",null,Lt("site_url_title")),(0,q.h)("button",{onclick:function(Yt){return Et.clearSiteURL(Yt)},className:"btnLink forgotPasswordLink"},Lt("site_url_link_text"))):(0,q.h)("form",{onsubmit:this.addSiteURL,className:"form"},(0,q.h)("div",{className:"flashMessage"},Lt("site_url_message")),(0,q.h)("div",{className:"formGroup"},(0,q.h)("label",null,(0,q.h)("span",{className:"visuallyHidden"},Lt("site_url_label")),(0,q.h)("input",{className:"formControl",type:"url",name:"url",value:Ct,placeholder:Lt("site_url_placeholder"),autocapitalize:"off",required:!0,oninput:this.handleInput}),(0,q.h)("div",{className:"inputFieldIcon inputFieldUrl"}))),(0,q.h)("button",{type:"submit",className:"btn"},Lt("site_url_submit"))))}}])&&X(bt.prototype,wt),_t}(q.Component);F.default=lt},function(z,F,Y){function W(mt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t})(mt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q,X=Y(0),tt=(q=Y(5))&&q.__esModule?q:{default:q};function nt(mt,_t){if(!(mt instanceof _t))throw new TypeError("Cannot call a class as a function")}function st(mt,_t){for(var Et=0;Et<_t.length;Et++){var At=_t[Et];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(mt,At.key,At)}}function ct(mt,_t){return(ct=Object.setPrototypeOf||function(Et,At){return Et.__proto__=At,Et})(mt,_t)}function lt(mt){var _t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Et,At=bt(mt);if(_t){var Ct=bt(this).constructor;Et=Reflect.construct(At,arguments,Ct)}else Et=At.apply(this,arguments);return ht(this,Et)}}function ht(mt,_t){return!_t||W(_t)!=="object"&&typeof _t!="function"?function(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}(mt):_t}function bt(mt){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(_t){return _t.__proto__||Object.getPrototypeOf(_t)})(mt)}var wt=function(mt){(function(Ft,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Super expression must either be null or a function");Ft.prototype=Object.create(Lt&&Lt.prototype,{constructor:{value:Ft,writable:!0,configurable:!0}}),Lt&&ct(Ft,Lt)})(Ct,mt);var _t,Et,At=lt(Ct);function Ct(){var Ft;nt(this,Ct);for(var Lt=arguments.length,Yt=new Array(Lt),Ht=0;Ht<Lt;Ht++)Yt[Ht]=arguments[Ht];return(Ft=At.call.apply(At,[this].concat(Yt))).handleLogout=function(qt){qt.preventDefault(),Ft.props.onLogout()},Ft}return _t=Ct,(Et=[{key:"render",value:function(){var Ft=this.props,Lt=Ft.user,Yt=Ft.saving,Ht=Ft.t;return(0,X.h)("form",{onSubmit:this.handleLogout,className:"form ".concat(Yt?"disabled":"")},(0,X.h)("p",{className:"infoText"},Ht("logged_in_as")," ",(0,X.h)("br",null),(0,X.h)("span",{className:"infoTextEmail"},Lt.user_metadata.full_name||Lt.user_metadata.name||Lt.email)),(0,X.h)(tt.default,{saving:Yt,text:Ht("log_out"),saving_text:Ht("logging_out")}))}}])&&st(_t.prototype,Et),Ct}(X.Component);F.default=wt},function(z,F,Y){function W(mt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t})(mt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=Y(0),X=nt(Y(6)),tt=nt(Y(5));function nt(mt){return mt&&mt.__esModule?mt:{default:mt}}function st(mt,_t){for(var Et=0;Et<_t.length;Et++){var At=_t[Et];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(mt,At.key,At)}}function ct(mt,_t){return(ct=Object.setPrototypeOf||function(Et,At){return Et.__proto__=At,Et})(mt,_t)}function lt(mt){var _t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Et,At=bt(mt);if(_t){var Ct=bt(this).constructor;Et=Reflect.construct(At,arguments,Ct)}else Et=At.apply(this,arguments);return ht(this,Et)}}function ht(mt,_t){return!_t||W(_t)!=="object"&&typeof _t!="function"?function(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}(mt):_t}function bt(mt){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(_t){return _t.__proto__||Object.getPrototypeOf(_t)})(mt)}var wt=function(mt){(function(Ft,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Super expression must either be null or a function");Ft.prototype=Object.create(Lt&&Lt.prototype,{constructor:{value:Ft,writable:!0,configurable:!0}}),Lt&&ct(Ft,Lt)})(Ct,mt);var _t,Et,At=lt(Ct);function Ct(Ft){var Lt;return function(Yt,Ht){if(!(Yt instanceof Ht))throw new TypeError("Cannot call a class as a function")}(this,Ct),(Lt=At.call(this,Ft)).handleInput=function(Yt){var Ht,qt,te;Lt.setState((Ht={},qt=Yt.target.name,te=Yt.target.value,qt in Ht?Object.defineProperty(Ht,qt,{value:te,enumerable:!0,configurable:!0,writable:!0}):Ht[qt]=te,Ht))},Lt.handleLogin=function(Yt){Yt.preventDefault(),Lt.props.onSubmit(Lt.state)},Lt.state={name:"",email:"",password:""},Lt}return _t=Ct,(Et=[{key:"render",value:function(){var Ft=this.props,Lt=Ft.page,Yt=Ft.message,Ht=Ft.saving,qt=Ft.namePlaceholder,te=Ft.t,Xt=this.state,Dt=Xt.name,Qt=Xt.email,Nt=Xt.password;return(0,q.h)("form",{onsubmit:this.handleLogin,className:"form ".concat(Ht?"disabled":"")},Yt&&(0,q.h)(X.default,{type:Yt,t:te}),Lt.name&&(0,q.h)("div",{className:"formGroup"},(0,q.h)("label",null,(0,q.h)("span",{className:"visuallyHidden"},te("form_name_placeholder")),(0,q.h)("input",{className:"formControl",type:"name",name:"name",value:Dt,placeholder:qt||te("form_name_label"),autocapitalize:"off",required:!0,oninput:this.handleInput}),(0,q.h)("div",{className:"inputFieldIcon inputFieldName"}))),Lt.email&&(0,q.h)("div",{className:"formGroup"},(0,q.h)("label",null,(0,q.h)("span",{className:"visuallyHidden"},te("form_name_label")),(0,q.h)("input",{className:"formControl",type:"email",name:"email",value:Qt,placeholder:te("form_email_placeholder"),autocapitalize:"off",required:!0,oninput:this.handleInput}),(0,q.h)("div",{className:"inputFieldIcon inputFieldEmail"}))),Lt.password&&(0,q.h)("div",{className:"formGroup"},(0,q.h)("label",null,(0,q.h)("span",{className:"visuallyHidden"},te("form_password_label")),(0,q.h)("input",{className:"formControl",type:"password",name:"password",value:Nt,placeholder:te("form_password_placeholder"),autocomplete:Lt.password,required:!0,oninput:this.handleInput}),(0,q.h)("div",{className:"inputFieldIcon inputFieldPassword"}))),(0,q.h)(tt.default,{saving:Ht,text:te(Lt.button),saving_text:te(Lt.button_saving)}))}}])&&st(_t.prototype,Et),Ct}(q.Component);F.default=wt},function(z,F,Y){function W(_t){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Et){return typeof Et}:function(Et){return Et&&typeof Symbol=="function"&&Et.constructor===Symbol&&Et!==Symbol.prototype?"symbol":typeof Et})(_t)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q=Y(0);function X(_t,Et){if(!(_t instanceof Et))throw new TypeError("Cannot call a class as a function")}function tt(_t,Et){for(var At=0;At<Et.length;At++){var Ct=Et[At];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(_t,Ct.key,Ct)}}function nt(_t,Et,At){return Et&&tt(_t.prototype,Et),At&&tt(_t,At),_t}function st(_t,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(Et&&Et.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),Et&&ct(_t,Et)}function ct(_t,Et){return(ct=Object.setPrototypeOf||function(At,Ct){return At.__proto__=Ct,At})(_t,Et)}function lt(_t){var Et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var At,Ct=bt(_t);if(Et){var Ft=bt(this).constructor;At=Reflect.construct(Ct,arguments,Ft)}else At=Ct.apply(this,arguments);return ht(this,At)}}function ht(_t,Et){return!Et||W(Et)!=="object"&&typeof Et!="function"?function(At){if(At===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At}(_t):Et}function bt(_t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(Et){return Et.__proto__||Object.getPrototypeOf(Et)})(_t)}var wt=function(_t){st(At,_t);var Et=lt(At);function At(){var Ct;X(this,At);for(var Ft=arguments.length,Lt=new Array(Ft),Yt=0;Yt<Ft;Yt++)Lt[Yt]=arguments[Yt];return(Ct=Et.call.apply(Et,[this].concat(Lt))).handleLogin=function(Ht){Ht.preventDefault(),Ct.props.onLogin(Ct.props.provider.toLowerCase())},Ct}return nt(At,[{key:"render",value:function(){var Ct=this.props,Ft=Ct.provider,Lt=Ct.label,Yt=Ct.t;return(0,q.h)("button",{onClick:this.handleLogin,className:"provider".concat(Ft," btn btnProvider")},"".concat(Yt("continue_with")," ").concat(Lt))}}]),At}(q.Component),mt=function(_t){st(At,_t);var Et=lt(At);function At(){return X(this,At),Et.apply(this,arguments)}return nt(At,[{key:"getLabel",value:function(Ct){var Ft=Ct.toLowerCase();return Ft in this.props.labels?this.props.labels[Ft]:Ct}},{key:"render",value:function(){var Ct=this,Ft=this.props,Lt=Ft.providers,Yt=Ft.onLogin,Ht=Ft.t;return(0,q.h)("div",{className:"providersGroup"},(0,q.h)("hr",{className:"hr"}),Lt.map(function(qt){return(0,q.h)(wt,{key:qt,provider:qt,label:Ct.getLabel(qt),onLogin:Yt,t:Ht})}))}}]),At}(q.Component);F.default=mt},function(z,F,Y){Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var W=Y(1),q=Y(20),X=(0,W.observable)({user:null,recovered_user:null,message:null,settings:null,gotrue:null,error:null,siteURL:null,remember:!0,saving:!1,invite_token:null,email_change_token:null,namePlaceholder:null,modal:{page:"login",isOpen:!1,logo:!0},locale:q.defaultLocale});X.setNamePlaceholder=(0,W.action)(function(nt){X.namePlaceholder=nt}),X.startAction=(0,W.action)(function(){X.saving=!0,X.error=null,X.message=null}),X.setError=(0,W.action)(function(nt){X.saving=!1,X.error=nt}),X.init=(0,W.action)(function(nt,st){nt&&(X.gotrue=nt,X.user=nt.currentUser(),X.user&&(X.modal.page="user")),st&&X.loadSettings()}),X.loadSettings=(0,W.action)(function(){X.settings||X.gotrue&&X.gotrue.settings().then((0,W.action)(function(nt){return X.settings=nt})).catch((0,W.action)(function(nt){X.error=new Error("Failed to load settings from ".concat(X.gotrue.api.apiURL))}))}),X.setIsLocal=(0,W.action)(function(nt){X.isLocal=nt}),X.setSiteURL=(0,W.action)(function(nt){X.siteURL=nt}),X.clearSiteURL=(0,W.action)(function(){X.gotrue=null,X.siteURL=null,X.settings=null}),X.login=(0,W.action)(function(nt,st){return X.startAction(),X.gotrue.login(nt,st,X.remember).then((0,W.action)(function(ct){X.user=ct,X.modal.page="user",X.invite_token=null,X.email_change_token&&X.doEmailChange(),X.saving=!1})).catch(X.setError)}),X.externalLogin=(0,W.action)(function(nt){X.error=null,X.message=null;var st=X.invite_token?X.gotrue.acceptInviteExternalUrl(nt,X.invite_token):X.gotrue.loginExternalUrl(nt);window.location.href=st}),X.completeExternalLogin=(0,W.action)(function(nt){X.startAction(),X.gotrue.createUser(nt,X.remember).then(function(st){X.user=st,X.modal.page="user",X.saving=!1}).catch(X.setError)}),X.signup=(0,W.action)(function(nt,st,ct){return X.startAction(),X.gotrue.signup(st,ct,{full_name:nt}).then((0,W.action)(function(){X.settings.autoconfirm?X.login(st,ct,X.remember):X.message="confirm",X.saving=!1})).catch(X.setError)}),X.logout=(0,W.action)(function(){if(X.user)return X.startAction(),X.user.logout().then((0,W.action)(function(){X.user=null,X.modal.page="login",X.saving=!1})).catch(X.setError);X.modal.page="login",X.saving=!1}),X.updatePassword=(0,W.action)(function(nt){X.startAction(),(X.recovered_user||X.user).update({password:nt}).then(function(st){X.user=st,X.recovered_user=null,X.modal.page="user",X.saving=!1}).catch(X.setError)}),X.acceptInvite=(0,W.action)(function(nt){X.startAction(),X.gotrue.acceptInvite(X.invite_token,nt,X.remember).then(function(st){X.saving=!1,X.invite_token=null,X.user=st,X.modal.page="user"}).catch(X.setError)}),X.doEmailChange=(0,W.action)(function(){return X.startAction(),X.user.update({email_change_token:X.email_change_token}).then((0,W.action)(function(nt){X.user=nt,X.email_change_token=null,X.message="email_changed",X.saving=!1})).catch(X.setError)}),X.verifyToken=(0,W.action)(function(nt,st){var ct=X.gotrue;switch(X.modal.isOpen=!0,nt){case"confirmation":X.startAction(),X.modal.page="signup",ct.confirm(st,X.remember).then((0,W.action)(function(lt){X.user=lt,X.saving=!1})).catch((0,W.action)(function(lt){console.error(lt),X.message="verfication_error",X.modal.page="signup",X.saving=!1}));break;case"email_change":X.email_change_token=st,X.modal.page="message",X.user?X.doEmailChange():X.modal.page="login";break;case"invite":X.modal.page=nt,X.invite_token=st;break;case"recovery":X.startAction(),X.modal.page=nt,X.gotrue.recover(st,X.remember).then(function(lt){X.saving=!1,X.recovered_user=lt}).catch(function(lt){X.saving=!1,X.error=lt,X.modal.page="login"});break;default:X.error="Unkown token type"}}),X.requestPasswordRecovery=(0,W.action)(function(nt){X.startAction(),X.gotrue.requestPasswordRecovery(nt).then((0,W.action)(function(){X.message="password_mail",X.saving=!1})).catch(X.setError)}),X.openModal=(0,W.action)(function(nt){X.modal.page=nt,X.modal.isOpen=!0}),X.closeModal=(0,W.action)(function(){X.modal.isOpen=!1,X.error=null,X.message=null,X.saving=!1}),X.translate=(0,W.action)(function(nt){return(0,q.getTranslation)(nt,X.locale)});var tt=X;F.default=tt},function(z,F,Y){function W(_t){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Et){return typeof Et}:function(Et){return Et&&typeof Symbol=="function"&&Et.constructor===Symbol&&Et!==Symbol.prototype?"symbol":typeof Et})(_t)}Object.defineProperty(F,"__esModule",{value:!0}),F.getTranslation=F.defaultLocale=void 0;var q=wt(Y(21)),X=wt(Y(22)),tt=wt(Y(23)),nt=wt(Y(24)),st=wt(Y(25)),ct=wt(Y(26)),lt=wt(Y(27)),ht=wt(Y(28));function bt(_t){if(typeof WeakMap!="function")return null;var Et=new WeakMap,At=new WeakMap;return(bt=function(Ct){return Ct?At:Et})(_t)}function wt(_t,Et){if(!Et&&_t&&_t.__esModule)return _t;if(_t===null||W(_t)!=="object"&&typeof _t!="function")return{default:_t};var At=bt(Et);if(At&&At.has(_t))return At.get(_t);var Ct={},Ft=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Lt in _t)if(Lt!=="default"&&Object.prototype.hasOwnProperty.call(_t,Lt)){var Yt=Ft?Object.getOwnPropertyDescriptor(_t,Lt):null;Yt&&(Yt.get||Yt.set)?Object.defineProperty(Ct,Lt,Yt):Ct[Lt]=_t[Lt]}return Ct.default=_t,At&&At.set(_t,Ct),Ct}F.defaultLocale="en";var mt={en:q,fr:X,es:tt,hu:nt,pt:st,pl:ct,cs:lt,sk:ht};F.getTranslation=function(_t){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",At=mt[Et]&&mt[Et][_t];return At||mt.en[_t]||_t}},function(z){z.exports=JSON.parse(`{"log_in":"Log in","log_out":"Log out","logged_in_as":"Logged in as","logged_in":"Logged in","logging_in":"Logging in","logging_out":"Logging out","sign_up":"Sign up","signing_up":"Signing up","forgot_password":"Forgot password?","recover_password":"Recover password","send_recovery_email":"Send recovery email","sending_recovery_email":"Sending recovery email","never_mind":"Never mind","update_password":"Update password","updating_password":"Updating password","complete_your_signup":"Complete your signup","site_url_title":"Development Settings","site_url_link_text":"Clear localhost URL","site_url_message":"Looks like you're running a local server. Please let us know the URL of your Netlify site.","site_url_label":"Enter your Netlify Site URL","site_url_placeholder":"URL of your Netlify site","site_url_submit":"Set site's URL","message_confirm":"A confirmation message was sent to your email, click the link there to continue.","message_password_mail":"We've sent a recovery email to your account, follow the link there to reset your password.","message_email_changed":"Your email address has been updated!","message_verfication_error":"There was an error verifying your account. Please try again or contact an administrator.","message_signup_disabled":"Public signups are disabled. Contact an administrator and ask for an invite.","form_name_placeholder":"Name","form_email_label":"Enter your email","form_name_label":"Enter your name","form_email_placeholder":"Email","form_password_label":"Enter your password","form_password_placeholder":"Password","coded_by":"Coded by Netlify","continue_with":"Continue with","No user found with this email":"No user found with this email","Invalid Password":"Invalid Password","Email not confirmed":"Email not confirmed","User not found":"User not found"}`)},function(z){z.exports=JSON.parse(`{"log_in":"Connexion","log_out":"Dconnexion","logged_in_as":"Connect en tant que","logged_in":"Connect","logging_in":"Connexion","logging_out":"Dconnexion","sign_up":"Inscription","signing_up":"Inscription","forgot_password":"Mot de passe oubli ?","recover_password":"Rcuprer le mot de passe","send_recovery_email":"Envoyer l'e-mail de rcupration","sending_recovery_email":"Envoi de l'e-mail de rcupration","never_mind":"Annuler","update_password":"Mettre  jour le mot de passe","updating_password":"Mise  jour du mot de passe","complete_your_signup":"Complter l'inscription","site_url_title":"Paramtres de dveloppement","site_url_link_text":"Effacer l'URL localhost","site_url_message":"On dirait que vous faites tourner un serveur local. Veuillez nous indiquer l'URL de votre site Netlify.","site_url_label":"Entrez l'URL de votre site Netlify","site_url_placeholder":"URL de votre site Netlify","site_url_submit":"Dfinir l'URL du site","message_confirm":"Un message de confirmation a t envoy  votre adresse lectronique, cliquez sur le lien pour continuer.","message_password_mail":"Nous avons envoy un e-mail de rcupration  votre compte, suivez le lien qui s'y trouve pour rinitialiser votre mot de passe.","message_email_changed":"Votre adresse e-mail a t mise  jour !","message_verfication_error":"Il y a eu une erreur lors de la vrification de votre compte. Veuillez ressayer ou contacter un administrateur.","message_signup_disabled":"Les inscriptions publiques sont dsactives. Contactez un administrateur et demandez une invitation.","form_name_placeholder":"Nom","form_email_label":"Entrez votre adresse e-mail","form_name_label":"Saisissez votre nom","form_email_placeholder":"E-mail","form_password_label":"Saisissez votre mot de passe","form_password_placeholder":"Mot de passe","coded_by":"Cod par Netlify","continue_with":"Continuer avec","No user found with this email":"Aucun utilisateur trouv avec cet e-mail","Invalid Password":"Mot de passe incorrect","Email not confirmed":"Adresse e-mail non confirme","User not found":"Aucun utilisateur trouv"}`)},function(z){z.exports=JSON.parse('{"log_in":"Iniciar sesin","log_out":"Cerrar sesin","logged_in_as":"Conectado como","logged_in":"Conectado","logging_in":"Iniciando sesin","logging_out":"Cerrando sesin","sign_up":"Registrate","signing_up":"Registrandose","forgot_password":"Olvidaste tu contrasea?","recover_password":"Recuperar contrasea","send_recovery_email":"Enviar correo electrnico de recuperacin","sending_recovery_email":"Enviando correo electrnico de recuperacin","never_mind":"Regresar","update_password":"Actualizar contrasea","updating_password":"Actualizando contrasea","complete_your_signup":"Completa tu registro","site_url_title":"Configuracin de desarrollo","site_url_link_text":"Borrar URL del localhost","site_url_message":"Parece que estas corriendo un servidor local. Por favor haznos saber la URL de tu sitio en Netlify.","site_url_label":"Ingresa la URL de tu sitio en Netlify","site_url_placeholder":"URL de tu sitio en Netlify","site_url_submit":"Establecer la URL del sitio","message_confirm":"Se envi un mensaje de confirmacin a tu correo electrnico, haz clic en el enlace all para continuar.","message_password_mail":"Hemos enviado un correo electrnico de recuperacin a tu correo electrnico, sigue el enlace all para restablecer tu contrasea.","message_email_changed":"Tu direccin de correo electrnico ha sido actualizada!","message_verfication_error":"Se produjo un error al verificar tu cuenta. Por favor intenta nuevamente o contacta a un administrador.","message_signup_disabled":"Los registros pblicos estn deshabilitados. Contacta a un administrador y solicita una invitacin.","form_name_placeholder":"Nombre","form_email_label":"Ingresa tu correo electrnico","form_name_label":"Ingresa tu nombre","form_email_placeholder":"Correo electrnico","form_password_label":"Ingresa tu contrasea","form_password_placeholder":"Contrasea","coded_by":"Codificado por Netlify","continue_with":"Contina con","No user found with this email":"No existe ningn usuario con este correo electrnico","Invalid Password":"La contrasea es invalida","Email not confirmed":"Correo electrnico no confirmado","User not found":"Usuario no encontrado"}')},function(z){z.exports=JSON.parse('{"log_in":"Bejelentkezs","log_out":"Kijelentkezs","logged_in_as":"Bejelentkezve mint","logged_in":"Bejelentkezve","logging_in":"Bejelentkezs","logging_out":"Kijelentkezs","sign_up":"Regisztrci","signing_up":"Regisztrls","forgot_password":"Elfelejtette a jelszavt?","recover_password":"Jelsz visszalltsa","send_recovery_email":"Jelszptl levl kldse","sending_recovery_email":"Jelszptl levl kldse","never_mind":"Mgsem","update_password":"j jelsz belltsa","updating_password":"j jelsz belltsa","complete_your_signup":"Regisztrci befejezse","site_url_title":"Fejleszti Belltsok","site_url_link_text":"Localhost URL trlse","site_url_message":"gy nz ki egy helyi szervert futtat. Krjk adja meg a Netlify oldala URL-jt.","site_url_label":"Adja meg a Netlify oldala URL-jt","site_url_placeholder":"a Netlify oldala URL-je","site_url_submit":"URL belltsa","message_confirm":"Elkldtnk egy megerst levelet e-mailben, krjk kattintson a linkre a levlben a folytatshoz.","message_password_mail":"Elkldtnk egy jelszptl levelet e-mailben, krjk kvesse a linket a levlben a jelszava visszalltshoz.","message_email_changed":"Az e-mail cmt frisstettk!","message_verfication_error":"Problma trtnt a fikja megerstse kzben. Krjk prblja jra, vagy vegye fel a kapcsolatot egy adminisztrtorral.","message_signup_disabled":"A nyilvnos regisztrci nincs engedlyezve. Vegye fel a kapcsolatot egy adminisztrtorral s krjen meghvt.","form_name_placeholder":"Nv","form_email_label":"Adja meg az e-mail cmt","form_name_label":"Adja meg a nevt","form_email_placeholder":"E-mail","form_password_label":"Adja meg a jelszavt","form_password_placeholder":"Jelsz","coded_by":"Fejlesztette a Netlify","continue_with":"Bejelentkezs ezzel:","No user found with this email":"Nem tallhat fik ezzel az e-mail cmmel","Invalid Password":"Helytelen Jelsz","Email not confirmed":"Az e-mail nem erslt meg","User not found":"Felhasznl nem tallhat"}')},function(z){z.exports=JSON.parse('{"log_in":"Entrar","log_out":"Sair","logged_in_as":"Logado como","logged_in":"Logado em","logging_in":"Logando em","logging_out":"Saindo","sign_up":"Registrar","signing_up":"Registrando","forgot_password":"Esqueceu a senha?","recover_password":"Recuperar senha","send_recovery_email":"Enviar email de recuperao de senha","sending_recovery_email":"Enviando email de recuperao de senha","never_mind":"Deixa pra l","update_password":"Atualizar senha","updating_password":"Atualizando senha","complete_your_signup":"Complete seu registro","site_url_title":"Configuraes de desenvolvimento","site_url_link_text":"Limpar URL do localhost","site_url_message":"Parece que voc est executando um servidor local. Informe-nos o URL do seu site Netlify.","site_url_label":"Insira o URL do seu site Netlify","site_url_placeholder":"URL do seu site Netlify","site_url_submit":"Configure a URL do seu site","message_confirm":"Uma mensagem de confirmao foi enviada para o seu email, clique no link para continuar.","message_password_mail":"Enviamos um e-mail de recuperao para sua conta, siga o link para redefinir sua senha.","message_email_changed":"Seu email foi atualizado!","message_verfication_error":"Ocorreu um erro ao verificar sua conta. Tente novamente ou entre em contato com um administrador.","message_signup_disabled":"Registros pblicos esto desabilitados. Contate um administrador e pea por um convite.","form_name_placeholder":"Nome","form_email_label":"Insira seu email","form_name_label":"Insira seu nome","form_email_placeholder":"Email","form_password_label":"Insira sua senha","form_password_placeholder":"Senha","coded_by":"Desenvolvido por Netlify","continue_with":"Continue com","No user found with this email":"Nenhum usurio encontrado com esse email","Invalid Password":"Senha invlida","Email not confirmed":"Email no confirmado","User not found":"Usurio no encontrado"}')},function(z){z.exports=JSON.parse('{"log_in":"Zaloguj si","log_out":"Wyloguj si","logged_in_as":"Zaloguj jako","logged_in":"Zalogowany","logging_in":"Logowanie","logging_out":"Wylogowywanie","sign_up":"Zarejestruj si","signing_up":"Rejestracja","forgot_password":"Nie pamitasz hasa?","recover_password":"Resetuj haso","send_recovery_email":"Wylij link do resetowania hasa","sending_recovery_email":"Wysyanie linku do resetowania hasa","never_mind":"Nieistotne","update_password":"Zaktualizuj haso","updating_password":"Aktualizowanie haso","complete_your_signup":"Dokocz rejestracj","site_url_title":"Ustawienia strony","site_url_link_text":"Usu adres localhost","site_url_message":"Wyglda na to e zosta uruchomiony lokalny serwer. Wprowad adres Twojej strony na Netlify.","site_url_label":"Wprowadz adres strony na Netlify","site_url_placeholder":"Adres Twojej strony na Netlify","site_url_submit":"Ustaw adres strony","message_confirm":"Potwierdzenie zostao wysane na Twj adres email. Kliknij w link w wiadomoci aby kontunuowa.","message_password_mail":"Wysalimy link resetujcy haso na Twj adres email. Klknij w link w wiadomoci aby zresetowa haso.","message_email_changed":"Twj adres email zosta zaktualizowany!","message_verfication_error":"Wystpi bd podczas weryfikcacji Twoje konta. Sprbuj ponownie lub skontaktuj si z administratorem,","message_signup_disabled":"Publiczna rejestracja jest wyczona. Skontaktuj si z administratorem by uzyska zaproszenie.","form_name_placeholder":"Imi","form_email_label":"Wprowad Twj adres email","form_name_label":"Wprowad Twoje imi","form_email_placeholder":"Email","form_password_label":"Wprowad twoje haso","form_password_placeholder":"Haso","coded_by":"Coded by Netlify","continue_with":"Kontynuuj z","No user found with this email":"Nie znaleziono uytkownika o tym adresie","Invalid Password":"Haso nieprawidowe","Email not confirmed":"Email nie zosta potwierdzony","User not found":"Nie znaleziono uytkownika"}')},function(z){z.exports=JSON.parse('{"log_in":"Pihlsit se","log_out":"Odhlsit se","logged_in_as":"Pihlen jako","logged_in":"Pihlen uivatel","logging_in":"Probh pihlen","logging_out":"Probh odhlen","sign_up":"Zaregistrovat se","signing_up":"Registrace","forgot_password":"Zapomnli jste heslo?","recover_password":"Obnovit heslo","send_recovery_email":"Odeslat e-mail pro obnoven","sending_recovery_email":"Odesln e-mailu pro obnoven","never_mind":"Zpt","update_password":"Aktualizovat heslo","updated_password":"Aktualizace hesla","complete_your_signup":"Dokonete registraci","site_url_title":"Nastaven vvoje","site_url_link_text":"Vymazat URL localhost","site_url_message":"Zd se, e pouvte lokln server. Sdlte nm prosm adresu URL svho Netlify serveru.","site_url_label":"Zadejte adresu URL svho serveru Netlify","site_url_placeholder":"URL vaeho Netlify serveru","site_url_submit":"Nastavit adresu URL","message_confirm":"Na v e-mail byl odesln odkaz k potvrzen registrace, pokraujte kliknutm na tento odkaz.","message_password_mail":"Zaslali jsme vm e-mail pro obnoven hesla, heslo obnovte kliknutm na odkaz v e-mailu.","message_email_changed":"Vae e-mailov adresa byla aktualizovna!","message_verfication_error":"Pi ovovn vaeho tu dolo k chyb. Zkuste to prosm znovu nebo kontaktujte sprvce.","message_signup_disabled":"Registrace pro veejnost jsou zakzny. Kontaktujte sprvce a podejte o pozvnku.","form_name_placeholder":"Jmno","form_email_label":"Zadejte svj e-mail","form_name_label":"Zadejte sv jmno","form_email_placeholder":"E-mail","form_password_label":"Zadejte sv heslo","form_password_placeholder":"Heslo","coded_by":"Vytvoeno Netlify","continue_with":"Pokraovat pes","No user found with this email":"Nebyl nalezen dn uivatel s tmto e-mailem","Invalid Password":"Neplatn heslo","Email not confirmed":"E-mail nebyl potvrzen","User not found":"Uivatel nebyl nalezen"}')},function(z){z.exports=JSON.parse('{"log_in":"Prihlsi sa","log_out":"Odhlsi sa","logged_in_as":"Prihlsen ako","logged_in":"Prihlsen uvate","logging_in":"Prebieha prihlsenie","logging_out":"Prebieha odhlsenie","sign_up":"Zaregistrova sa","signing_up":"Registrcia","forgot_password":"Zabudli ste heslo?","recover_password":"Obnovi heslo","send_recovery_email":"Odosla e-mail pre obnovenie","sending_recovery_email":"Odosielanie e-mailu pre obnovenie","never_mind":"Nasp","update_password":"Aktualizova heslo","updated_password":"Aktualizcia hesla","complete_your_signup":"Dokonite registrciu","site_url_title":"Nastavenie vvoja","site_url_link_text":"Vymaza URL localhost","site_url_message":"Zd sa, e pouvate loklny server. Prosm, nastavte URL adresu svojho Netlify servera.","site_url_label":"Zadajte URL svojho Netlify servera","site_url_placeholder":"URL vho Netlify servera","site_url_submit":"Nastavi URL adresu","message_confirm":"Potvrte registrciu kliknutm na odkaz v sprve, ktor sme Vm prve zaslali na v email.","message_password_mail":"Poslali sme vm e-mail pre obnovenie hesla, heslo obnovte kliknutm na odkaz v e-maile.","message_email_changed":"Vaa e-mailov adresa bola aktualizovan!","message_verfication_error":"Pri overovan vho tu dolo k chybe. Prosm, skste to znova alebo kontaktujte sprvcu.","message_signup_disabled":"Registrcia pre verejnos s zakzan. Kontaktujte sprvcu a poiadajte o pozvnku.","form_name_placeholder":"Meno","form_email_label":"Zadajte svoj e-mail","form_name_label":"Zadajte svoje meno","form_email_placeholder":"E-mail","form_password_label":"Zadajte svoje heslo","form_password_placeholder":"Heslo","coded_by":"Vytvoren Netlify","continue_with":"Pokraova cez","No user found with this email":"Nebol njden iadny uvate s tmto e-mailom","Invalid Password":"Neplatn heslo","Email not confirmed":"E-mail nebol potvrden","User not found":"Pouvate nebol njden"}')},function(z,F,Y){function W(wt){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt})(wt)}Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var q,X=Y(0);function tt(wt,mt){if(!(wt instanceof mt))throw new TypeError("Cannot call a class as a function")}function nt(wt,mt){for(var _t=0;_t<mt.length;_t++){var Et=mt[_t];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(wt,Et.key,Et)}}function st(wt,mt){return(st=Object.setPrototypeOf||function(_t,Et){return _t.__proto__=Et,_t})(wt,mt)}function ct(wt){var mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _t,Et=ht(wt);if(mt){var At=ht(this).constructor;_t=Reflect.construct(Et,arguments,At)}else _t=Et.apply(this,arguments);return lt(this,_t)}}function lt(wt,mt){return!mt||W(mt)!=="object"&&typeof mt!="function"?function(_t){if(_t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t}(wt):mt}function ht(wt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(mt){return mt.__proto__||Object.getPrototypeOf(mt)})(wt)}var bt=(0,Y(2).connect)(["store"])(q=function(wt){(function(Ct,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Ct.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Ct,writable:!0,configurable:!0}}),Ft&&st(Ct,Ft)})(At,wt);var mt,_t,Et=ct(At);function At(){var Ct;tt(this,At);for(var Ft=arguments.length,Lt=new Array(Ft),Yt=0;Yt<Ft;Yt++)Lt[Yt]=arguments[Yt];return(Ct=Et.call.apply(Et,[this].concat(Lt))).handleSignup=function(Ht){Ht.preventDefault(),Ct.props.store.openModal("signup")},Ct.handleLogin=function(Ht){Ht.preventDefault(),Ct.props.store.openModal("login")},Ct.handleLogout=function(Ht){Ht.preventDefault(),Ct.props.store.openModal("user")},Ct.handleButton=function(Ht){Ht.preventDefault(),Ct.props.store.openModal(Ct.props.store.user?"user":"login")},Ct}return mt=At,(_t=[{key:"render",value:function(){var Ct=this.props.store,Ft=Ct.user,Lt=Ct.translate;return this.props.mode==="button"?(0,X.h)("a",{className:"netlify-identity-button",href:"#",onClick:this.handleButton},this.props.text||Lt(Ft?"log_out":"log_in")):Ft?(0,X.h)("ul",{className:"netlify-identity-menu"},(0,X.h)("li",{className:"netlify-identity-item netlify-identity-user-details"},Lt("logged_in_as")," ",(0,X.h)("span",{className:"netlify-identity-user"},Ft.user_metadata.name||Ft.email)),(0,X.h)("li",{className:"netlify-identity-item"},(0,X.h)("a",{className:"netlify-identity-logout",href:"#",onClick:this.handleLogout},Lt("log_out")))):(0,X.h)("ul",{className:"netlify-identity-menu"},(0,X.h)("li",{className:"netlify-identity-item"},(0,X.h)("a",{className:"netlify-identity-signup",href:"#",onClick:this.handleSignup},Lt("sign_up"))),(0,X.h)("li",{className:"netlify-identity-item"},(0,X.h)("a",{className:"netlify-identity-login",href:"#",onClick:this.handleLogin},Lt("log_in"))))}}])&&nt(mt.prototype,_t),At}(X.Component))||q;F.default=bt},function(z,F,Y){Y.r(F);var W=Y(7),q=Y.n(W)()(!0);q.push([z.i,`::-webkit-input-placeholder {
  /* Chrome/Opera/Safari */
  color: #a3a9ac;
  font-weight: 500;
}

::-moz-placeholder {
  /* Firefox 19+ */
  color: #a3a9ac;
  font-weight: 500;
}

:-ms-input-placeholder {
  /* IE 10+ */
  color: #a3a9ac;
  font-weight: 500;
}

:-moz-placeholder {
  /* Firefox 18- */
  color: #a3a9ac;
  font-weight: 500;
}

.modalContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 14px;
  line-height: 1.5;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  z-index: 99999;
}

.modalContainer::before {
  content: "";
  display: block;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: #fff;
  z-index: -1;
}

.modalDialog {
  -webkit-box-flex: 1;
      -ms-flex-positive: 1;
          flex-grow: 1;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  width: 100%;
}

.modalContent {
  position: relative;
  padding: 32px;
  opacity: 0;
  -webkit-transform: translateY(10px) scale(1);
          transform: translateY(10px) scale(1);
  background: #fff;
}

[aria-hidden="false"] .modalContent {
    -webkit-animation: bouncyEntrance 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            animation: bouncyEntrance 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
    -webkit-animation-fill-mode: forwards;
            animation-fill-mode: forwards;
  }

@-webkit-keyframes bouncyEntrance {
  0% {
    opacity: 0;
    -webkit-transform: translateY(10px) scale(0.9);
            transform: translateY(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0) scale(1);
            transform: translateY(0) scale(1);
  }
}

@keyframes bouncyEntrance {
  0% {
    opacity: 0;
    -webkit-transform: translateY(10px) scale(0.9);
            transform: translateY(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0) scale(1);
            transform: translateY(0) scale(1);
  }
}

@media (min-width: 480px) {
  .modalContainer::before {
    background-color: rgb(14, 30, 37);
    -webkit-animation: fadeIn 0.1s ease-in;
            animation: fadeIn 0.1s ease-in;
    -webkit-animation-fill-mode: forwards;
            animation-fill-mode: forwards;
  }

  .modalDialog {
    max-width: 364px;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
  }

  .modalContent {
    background: #fff;
    -webkit-box-shadow: 0 4px 12px 0 rgba(0, 0, 0, .07),
      0 12px 32px 0 rgba(14, 30, 37, .1);
            box-shadow: 0 4px 12px 0 rgba(0, 0, 0, .07),
      0 12px 32px 0 rgba(14, 30, 37, .1);
    border-radius: 8px;
    margin-top: 32px;
  }
}

@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 0.67;
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 0.67;
  }
}

.flashMessage {
  text-align: center;
  color: rgb(14, 30, 37);
  font-weight: 500;
  font-size: 14px;
  background-color: #f2f3f3;
  padding: 6px;
  border-radius: 4px;
  opacity: 0.7;
  -webkit-transition: opacity 0.2s linear;
  transition: opacity 0.2s linear;
}

.flashMessage:hover,
.flashMessage:focus {
  opacity: 1;
}

.error {
  color: #fa3946;
  background-color: #fceef0;
  opacity: 1;
}

.error span::before {
  content: "";
  display: inline-block;
  position: relative;
  top: 3px;
  margin-right: 4px;
  width: 16px;
  height: 16px;
  background: no-repeat center center;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsPSIjRkEzOTQ2IiBkPSJNOCwxLjMzMzMzMzMzIEMxMS42NzYsMS4zMzMzMzMzMyAxNC42NjY2NjY3LDQuMzI0IDE0LjY2NjY2NjcsOCBDMTQuNjY2NjY2NywxMS42NzYgMTEuNjc2LDE0LjY2NjY2NjcgOCwxNC42NjY2NjY3IEM0LjMyNCwxNC42NjY2NjY3IDEuMzMzMzMzMzMsMTEuNjc2IDEuMzMzMzMzMzMsOCBDMS4zMzMzMzMzMyw0LjMyNCA0LjMyNCwxLjMzMzMzMzMzIDgsMS4zMzMzMzMzMyBaIE04LDAgQzMuNTgyLDAgMCwzLjU4MiAwLDggQzAsMTIuNDE4IDMuNTgyLDE2IDgsMTYgQzEyLjQxOCwxNiAxNiwxMi40MTggMTYsOCBDMTYsMy41ODIgMTIuNDE4LDAgOCwwIFogTTcuMTI2NjY2NjcsNS4wMTczMzMzMyBDNy4wNjA2NjY2Nyw0LjQ3OTMzMzMzIDcuNDc4NjY2NjcsNCA4LjAyNTMzMzMzLDQgQzguNTM5MzMzMzMsNCA4Ljk0MzMzMzMzLDQuNDUwNjY2NjcgOC44Nzg2NjY2Nyw0Ljk2NzMzMzMzIEw4LjM3NCw5LjAwMjY2NjY3IEM4LjM1MDY2NjY3LDkuMTkxMzMzMzMgOC4xOSw5LjMzMzMzMzMzIDgsOS4zMzMzMzMzMyBDNy44MSw5LjMzMzMzMzMzIDcuNjQ5MzMzMzMsOS4xOTEzMzMzMyA3LjYyNTMzMzMzLDkuMDAyNjY2NjcgTDcuMTI2NjY2NjcsNS4wMTczMzMzMyBMNy4xMjY2NjY2Nyw1LjAxNzMzMzMzIFogTTgsMTIuMTY2NjY2NyBDNy41NCwxMi4xNjY2NjY3IDcuMTY2NjY2NjcsMTEuNzkzMzMzMyA3LjE2NjY2NjY3LDExLjMzMzMzMzMgQzcuMTY2NjY2NjcsMTAuODczMzMzMyA3LjU0LDEwLjUgOCwxMC41IEM4LjQ2LDEwLjUgOC44MzMzMzMzMywxMC44NzMzMzMzIDguODMzMzMzMzMsMTEuMzMzMzMzMyBDOC44MzMzMzMzMywxMS43OTMzMzMzIDguNDYsMTIuMTY2NjY2NyA4LDEyLjE2NjY2NjcgWiIvPgo8L3N2Zz4K);
}

.success {
}

.disabled {
  opacity: 0.38;
  pointer-events: none;
}

.infoText {
  text-align: center;
  margin: 32px 0;
}

.infoTextEmail {
  font-size: 16px;
  font-weight: 500;
}

.saving {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABQCAMAAACeYYN3AAAAxlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////DTx3aAAAAQnRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEGgjKRfAAACk0lEQVR4AYXQDXP5WhAG8CUhiSQqSv4RRRMVL1Fa1VZf3PL9v9Tde9wc9M8+P8/M7s6czJiHgNIvVCJO6YiAMlAiWckASiQrm4bJMZTDrmbBIEC9qpgVjp6n4B+oyEwCzKrMQBVaQIlkpmXZln1dhQB+49gOh5dLexlV6MhsAqyazEQVugCqsOK5nsQmwPWZ53ucvyczSGb4l9T9OsdnLgFOXVZFFd4AqEKrIasR4AdBI2hw1GR6VzMwSWY2A60ZNDl6KnUC3KbMRhXeAqhCpyXzCAjarNVucdqXVEhWaRfCdsj5vQcE1EOZQ7Jy+EcUlklWi2Q3BLQ6nagTcTra2Y0qrHZirRN3OOezTUAjvq4bd7suqpDfSGJUoXcnCwiIerIqqlC96vf6HD1ZsUcE3PYH/QGnrx3uYnqoQn4l6aMK/XtZi4BuIrNIZqVJkiapkhx37Y6AcDgcpsNU44Nz3OuoQn4jSVGFNw+ykID+SGaTzM5G2YiTFVM73AMConE2zjhj7XAXs4EqHE/4d12GKgwmsoiAZCpzSObMptPZdHZVSkCc5/ksnym8cPRUmiQzpvNcmedzTl4o7qlBsuZc1iVg9ChDFdYWshEBveV/FssFZ/l7Z7eowsfl0/JJ4UXj43A/ogpbT7IeAZNnWQ1VuJJNCBi8HKxeVhw9tRaq8JkfrV/WHDULxb1CFbbX7HX9yllfck9A/ipzSea+yeYEJO+yEFX4tim8b94VXjj/zzdU4Z/NmY/NB+fkTglYfMg8knmfsiUBD1+yCFX4+X309f3FOds/UYVR8fH2e6vwovExIuB5K/NJ5v8jWxGQ/chiVOF2d+pn98M5zt3WJFm83+/2O4UXjprabkzAWn+o56k9qvBfX4hMaM+SxOMAAAAASUVORK5CYII=);
  background-repeat: repeat-x;
  background-size: contain;
  background-origin: border-box;
  background-position: 0% 0%;
  -webkit-animation: loading 20s linear infinite;
          animation: loading 20s linear infinite;
  pointer-events: none;
}

.saving::after {
  content: "";
}

@-webkit-keyframes loading {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 700% 0%;
  }
}

@keyframes loading {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 700% 0%;
  }
}

.btn {
  display: block;
  position: relative;
  width: 100%;
  height: auto;
  margin: 14px 0 0;
  padding: 6px;
  outline: 0;
  cursor: pointer;
  border: 2px solid rgb(14, 30, 37);
  border-radius: 4px;
  background-color: #2d3b41;
  color: #fff;
  -webkit-transition: background-color 0.2s ease;
  transition: background-color 0.2s ease;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
}

.btn:hover,
.btn:focus {
  background-color: rgb(14, 30, 37);
  text-decoration: none;
}

.btnClose {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  padding: 0;
  border: 0;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  margin: 6px;
  background: #fff;
  color: #a3a9ac;
}

.btnClose::before {
  content: "";
  font-size: 25px;
  line-height: 9px;
}

.btnClose:hover,
.btnClose:focus {
  background: #e9ebeb;
  color: rgb(14, 30, 37);
}

.header {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  margin-top: -8px;
  margin-bottom: 32px;
}

.btnHeader {
  font-size: 16px;
  line-height: 24px;
  background: #fff;
  color: #a3a9ac;
  border: 0;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 4px 4px 0 0;
  margin: 0;
}

.btnHeader:focus,
.btnHeader.active {
  background: #fff;
  color: rgb(14, 30, 37);
  border-color: rgb(14, 30, 37);
  font-weight: 700;
}

.btnHeader:not(:only-child):hover {
  background-color: #e9ebeb;
  color: rgb(14, 30, 37);
}

.btnHeader:only-child {
  cursor: auto;
}

.btnLink {
  display: block;
  position: relative;
  width: auto;
  height: auto;
  margin: 14px auto 0;
  padding: 6px;
  padding-bottom: 0;
  outline: 0;
  cursor: pointer;
  color: rgb(14, 30, 37);
  border: none;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 0;
  background-color: inherit;
  -webkit-transition: border-color 0.2s ease;
  transition: border-color 0.2s ease;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  white-space: nowrap;
}

.btnLink:hover,
.btnLink:focus {
  background-color: inherit;
  border-color: #a3a9ac;
}

.form {
}

.formGroup {
  position: relative;
  margin-top: 14px;
}

.formControl {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  display: block;
  width: 100%;
  height: 40px;
  margin: 0;
  padding: 6px 12px 6px 34px;
  border: 2px solid #e9ebeb;
  border-radius: 4px;
  background: #fff;
  color: rgb(14, 30, 37);
  -webkit-box-shadow: none;
          box-shadow: none;
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  -webkit-transition: -webkit-box-shadow ease-in-out 0.15s;
  transition: -webkit-box-shadow ease-in-out 0.15s;
  transition: box-shadow ease-in-out 0.15s;
  transition: box-shadow ease-in-out 0.15s, -webkit-box-shadow ease-in-out 0.15s;
  -webkit-appearance: none;
  -moz-appearance: none;
}

.inputFieldIcon {
  position: absolute;
  top: 12px;
  left: 12px;
  display: inline-block;
  width: 16px;
  height: 16px;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
}

.inputFieldName {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTgsNyBDNi4zNDMxNDU3NSw3IDUsNS42NTY4NTQyNSA1LDQgQzUsMi4zNDMxNDU3NSA2LjM0MzE0NTc1LDEgOCwxIEM5LjY1Njg1NDI1LDEgMTEsMi4zNDMxNDU3NSAxMSw0IEMxMSw1LjY1Njg1NDI1IDkuNjU2ODU0MjUsNyA4LDcgWiBNOCwxNSBMMS41LDE1IEMxLjUsMTEuMTM0MDA2OCA0LjQxMDE0OTEzLDggOCw4IEMxMS41ODk4NTA5LDggMTQuNSwxMS4xMzQwMDY4IDE0LjUsMTUgTDgsMTUgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTEpIi8+PC9zdmc+);
}

.inputFieldEmail {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSIgdmlld0JveD0iMCAwIDE2IDExIj4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xLjE3MDczMTcxLDMgQzAuNTIyMTQ2MzQxLDMgMy45MDI0NTk4N2UtMDgsMy41NDUxMTA4MSAzLjkwMjQ1OTg3ZS0wOCw0LjIyMjIyMTU0IEwzLjkwMjQ1OTg3ZS0wOCwxMi43Nzc3Nzg1IEMzLjkwMjQ1OTg3ZS0wOCwxMy40NTQ4ODkyIDAuNTIyMTQ2MzQxLDE0IDEuMTcwNzMxNzEsMTQgTDE0LjgyOTI2ODMsMTQgQzE1LjQ3Nzg1MzcsMTQgMTYsMTMuNDU0ODg5MiAxNiwxMi43Nzc3Nzg1IEwxNiw0LjIyMjIyMTU0IEMxNiwzLjU0NTExMDgxIDE1LjQ3Nzg1MzcsMyAxNC44MjkyNjgzLDMgTDEuMTcwNzMxNzEsMyBaIE0yLjMzNzQyMTE5LDUuMDAxODY1NjYgQzIuNDU3NTExNzUsNC45ODk1NTIxNCAyLjU2MDcxNDU3LDUuMDM5MzM5OCAyLjYzNjM1OTg1LDUuMTE3Mjg0MzcgTDcuNDgyNjA2MTcsMTAuMTEzMjU0NSBDNy43ODQ0ODgyMiwxMC40MjQ3NDU1IDguMjAzMjc4MjksMTAuNDI0NzY2IDguNTA1ODk2MTksMTAuMTEzMjU0NSBMMTMuMzYzNjQwMiw1LjExNzI4NDM3IEMxMy41MDUxMjU1LDQuOTcxMjA0OTkgMTMuNzUyOTc3OSw0Ljk4MTg5NzIzIDEzLjg4MzkyMjIsNS4xMzk3MzYwMiBDMTQuMDE0ODY2NSw1LjI5NzU3NDgxIDE0LjAwNTI4MjEsNS41NzQwNzQ4OCAxMy44NjM3OTY3LDUuNzIwMTU0MjYgTDExLjExNTg2MDYsOC41NDg0MTE1MiBMMTMuODU4MDU3MSwxMS4yNjc2NDY5IEMxNC4wMjE3ODM1LDExLjQwMzE5ODIgMTQuMDQ4OTM2MywxMS43MDE0OTMyIDEzLjkxMjk4ODIsMTEuODcwOTg4OCBDMTMuNzc3MDQwMSwxMi4wNDA1MDQ5IDEzLjUwODI4OTcsMTIuMDQzNDE5MSAxMy4zNjkzOTgyLDExLjg3Njk0MDQgTDEwLjU3NTQ3MTUsOS4xMDYzOTg2MiBMOS4wMDYwNTI3NSwxMC43MTYxMjQ0IEM4LjQzNDk0MTk1LDExLjMwNDAzMzQgNy41NTMzMDI4NiwxMS4zMDUxNjIxIDYuOTgyNDY4LDEwLjcxNjEyNDQgTDUuNDI0NTI4NSw5LjEwNjM5ODYyIEwyLjYzMDYwMTgzLDExLjg3Njk0MDQgQzIuNDkxNzEwMzMsMTIuMDQzNDM5NyAyLjIyMjk1OTg4LDEyLjA0MDUyNTUgMi4wODcwMTE3OCwxMS44NzA5ODg4IEMxLjk1MTA2MzY3LDExLjcwMTQ5MzIgMS45NzgyMTY1LDExLjQwMzE5ODIgMi4xNDE5NDI5LDExLjI2NzY0NjkgTDQuODg0MTM5MzksOC41NDg0MTE1MiBMMi4xMzYyMDMyOCw1LjcyMDE1NDI2IEMyLjAyODcxNDE0LDUuNjE2MjI4MTYgMS45ODM1NTE0MSw1LjQzODk1NDUzIDIuMDI1OTkxNSw1LjI4NzQ5ODI1IEMyLjA2ODQxMzE5LDUuMTM2MDYyNDkgMi4xOTYwMjc4MSw1LjAxOTAyMjQ5IDIuMzM3NDIxMTksNS4wMDE4NjU2NiBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0zKSIvPjwvc3ZnPg==);
}

.inputFieldPassword {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDEyIDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0yLjQ0NTkxMDQ1LDMuNjQzMDg0MjcgQzIuNDQ1OTEwMzgsMi42NzY2MjEzNyAyLjgxODk3NTQ2LDEuNzQ5NzYzOTMgMy40ODI5OTUxOCwxLjA2NjUxMDUyIEM0LjE0NzAxNDksMC4zODMyNTcxMTEgNS4wNDc1NjY0MywtMC4wMDAzOTMwNDg2MTggNS45ODY0NDEwNSwzLjAyMTc0MDY5ZS0wNyBMNi4xMTc1MTg0NywzLjAyMTc0MDY5ZS0wNyBDOC4wNjkyOTIwNSwwLjAwMjQ1Mjc4Mzg0IDkuNjUwNzAwMTMsMS42MzA5OTI4MyA5LjY1MjI4NzQyLDMuNjQwMTE4NzkgTDkuNjUyMjg3NDIsNC42NzgwMzQ0NSBDOS4xMzk1MDEwNSw0LjcwMzI0MDk4IDguNjM2Nzk3NTYsNC43NDYyNDAzNCA4LjEzMTIxMzI1LDQuODAxMTAxNiBMOC4xMzEyMTMyNSwzLjY0MzA4NDI3IEM4LjEzMTIxMzI1LDIuNDk2NjM0MjkgNy4yMjgzNjE2LDEuNTY3MjUyOTUgNi4xMTQ2Mzc2NCwxLjU2NzI1Mjk1IEw1Ljk4MzU2MDIzLDEuNTY3MjUyOTUgQzQuODY5ODM2MjgsMS41NjcyNTI5NSAzLjk2Njk4NDYyLDIuNDk2NjM0MjkgMy45NjY5ODQ2MiwzLjY0MzA4NDI3IEwzLjk2Njk4NDYyLDMuOTYwMzg5OTEgQzMuOTY3NTc5ODgsNC4zNTY0OTE4MiAzLjY3NzAzNTY1LDQuNjg4ODc1OTUgMy4yOTQzMTI2Miw0LjcyOTkzMDI0IEwzLjI3ODQ2ODEsNC43Mjk5MzAyNCBDMy4wNjYyNDA5Miw0Ljc1MzUwMjk2IDIuODU0MjgyODcsNC42ODMxMDg3IDIuNjk1NDU2MTMsNC41MzYzMDM3NiBDMi41MzY2Mjk0LDQuMzg5NDk4ODIgMi40NDU5MDUzMyw0LjE4MDEyMTMzIDIuNDQ1OTEwNDUsMy45NjAzODk5MSBMMi40NDU5MTA0NSwzLjY0MzA4NDI3IFogTTExLjQxNjY2Niw3LjExNTY1MzUyIEwxMS40MTY2NjYsMTIuNjkwNzQzMyBDMTEuNDE3MDQwOCwxMy4wODMxMTQzIDExLjE0NTkyMDMsMTMuNDIwMTM3MSAxMC43NzEzNjE4LDEzLjQ5MjkwMzkgTDEwLjI5MDI2NDQsMTMuNTg2MzE2MyBDOC44NzYwNzU2NCwxMy44NjE1OTU5IDcuNDM5OTcxMzMsMTQuMDAwMDkzNyA2LjAwMDcyMDA1LDEzLjk5OTk5OTggQzQuNTYwOTg3NTgsMTQuMDAwMTg2MiAzLjEyNDM5Njg0LDEzLjg2MTY4OCAxLjcwOTczNTI0LDEzLjU4NjMxNjMgTDEuMjI4NjM3OTIsMTMuNDkyOTAzOSBDMC44NTQwNzk0MDcsMTMuNDIwMTM3MSAwLjU4Mjk1ODg2NywxMy4wODMxMTQzIDAuNTgzMzMzNzIyLDEyLjY5MDc0MzMgTDAuNTgzMzMzNzIyLDcuMTE1NjUzNTIgQzAuNTgyOTU4ODY3LDYuNzIzMjgyNTYgMC44NTQwNzk0MDcsNi4zODYyNTk4MSAxLjIyODYzNzkyLDYuMzEzNDkyOTkgTDEuMjk5MjE4MDYsNi4zMDAxNDgzNiBDNC40MDU5OTg0Nyw1LjY5NTEyMTY3IDcuNTk1NDQxNjIsNS42OTUxMjE2NyAxMC43MDIyMjIsNi4zMDAxNDgzNiBMMTAuNzcyODAyMiw2LjMxMzQ5Mjk5IEMxMS4xNDY3ODgsNi4zODY4ODY0NSAxMS40MTcxNzE2LDYuNzIzNzQ1MTYgMTEuNDE2NjY2LDcuMTE1NjUzNTIgWiIvPjwvc3ZnPg==);
}

.inputFieldUrl {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xMCw1IEMxMCwzLjg5NTQzMDUgOS4xMDQ1Njk1LDMgOCwzIEM2Ljg5NTQzMDUsMyA2LDMuODk1NDMwNSA2LDUgTTQsMTAgTDQsMTEgTDYsMTEgTDYsMTAgQzYsOS40NDc3MTUyNSA1LjU1MjI4NDc1LDkgNSw5IEM0LjQ0NzcxNTI1LDkgNCw5LjQ0NzcxNTI1IDQsMTAgWiBNMTIsMTAgQzEyLDkuNDQ3NzE1MjUgMTEuNTUyMjg0Nyw5IDExLDkgQzEwLjQ0NzcxNTMsOSAxMCw5LjQ0NzcxNTI1IDEwLDEwIEwxMCwxMSBMMTIsMTEgTDEyLDEwIFogTTYsNiBMNiw1IEw0LDUgTDQsNiBDNCw2LjU1MjI4NDc1IDQuNDQ3NzE1MjUsNyA1LDcgQzUuNTUyMjg0NzUsNyA2LDYuNTUyMjg0NzUgNiw2IFogTTEwLDYgQzEwLDYuNTUyMjg0NzUgMTAuNDQ3NzE1Myw3IDExLDcgQzExLjU1MjI4NDcsNyAxMiw2LjU1MjI4NDc1IDEyLDYgTDEyLDUgTDEwLDUgTDEwLDYgWiBNNCw1IEM0LDIuNzkwODYxIDUuNzkwODYxLDEgOCwxIEMxMC4yMDkxMzksMSAxMiwyLjc5MDg2MSAxMiw1IEw0LDUgWiBNNCwxMSBMMTIsMTEgQzEyLDEzLjIwOTEzOSAxMC4yMDkxMzksMTUgOCwxNSBDNS43OTA4NjEsMTUgNCwxMy4yMDkxMzkgNCwxMSBaIE0xMCwxMSBMNiwxMSBDNiwxMi4xMDQ1Njk1IDYuODk1NDMwNSwxMyA4LDEzIEM5LjEwNDU2OTUsMTMgMTAsMTIuMTA0NTY5NSAxMCwxMSBaIE04LDExIEM3LjQ0NzcxNTI1LDExIDcsMTAuNTUyMjg0NyA3LDEwIEw3LDYgQzcsNS40NDc3MTUyNSA3LjQ0NzcxNTI1LDUgOCw1IEM4LjU1MjI4NDc1LDUgOSw1LjQ0NzcxNTI1IDksNiBMOSwxMCBDOSwxMC41NTIyODQ3IDguNTUyMjg0NzUsMTEgOCwxMSBaIiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA4LjcwNyA2LjI5MykiLz48L3N2Zz4=);
}

.formLabel {
}

.hr {
  border: 0;
  border-top: 2px solid #e9ebeb;
  margin: 32px 0 -1px;
  text-align: center;
  overflow: visible;
}

.hr::before {
  content: "or";
  position: relative;
  display: inline-block;
  font-size: 12px;
  font-weight: 800;
  line-height: 1;
  text-transform: uppercase;
  background-color: #fff;
  color: rgb(14, 30, 37);
  padding: 4px;
  top: -11px;
}

.btnProvider {
  padding-left: 40px;
  padding-right: 40px;
}

.btnProvider::before {
  content: "";
  position: absolute;
  display: inline-block;
  vertical-align: middle;
  width: 32px;
  height: 40px;
  background-repeat: no-repeat;
  background-position: left center;
  top: -2px;
  left: 14px;
}

.providerGoogle {
  background-color: #4285f4;
  border-color: #366dc7;
}

.providerGoogle:hover,
.providerGoogle:focus {
  background-color: #366dc7;
}

.providerGitHub {
  background-color: #333;
  border-color: #000;
}

.providerGitHub:hover,
.providerGitHub:focus {
  background-color: #000;
}

.providerGitLab {
  background-color: #e24329;
  border-color: #b03320;
}

.providerGitLab:hover,
.providerGitLab:focus {
  background-color: #b03320;
}

.providerBitbucket {
  background-color: #205081;
  border-color: #14314f;
}

.providerBitbucket:hover,
.providerBitbucket:focus {
  background-color: #14314f;
}

.providerGoogle:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEzIDEyIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuNDg4IC0yKSI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0wLjY1MjczNDM3NSwzLjI5NTI4MjQ0IEMwLjIzNzk4NDM3NSw0LjEwNTgzMjA2IDIuODQyMTcwOTRlLTE0LDUuMDE2MDQ1OCAyLjg0MjE3MDk0ZS0xNCw1Ljk3OTM4OTMxIEMyLjg0MjE3MDk0ZS0xNCw2Ljk0MjczMjgyIDAuMjM3OTg0Mzc1LDcuODUyOTAwNzYgMC42NTI3MzQzNzUsOC42NjM0NTAzOCBDMS42NTkwNDY4NywxMC42MTY3MDIzIDMuNzI2MDkzNzUsMTEuOTU4Nzc4NiA2LjExOTUzMTI1LDExLjk1ODc3ODYgQzcuNzcxNzgxMjUsMTEuOTU4Nzc4NiA5LjE1ODg1OTM3LDExLjQyNzI1MTkgMTAuMTcyMDE1NiwxMC41MTA0NDI3IEMxMS4zMjc5MDYyLDkuNDY3MzU4NzggMTEuOTk0MjgxMiw3LjkzMjY0MTIyIDExLjk5NDI4MTIsNi4xMTIyNTk1NCBDMTEuOTk0MjgxMiw1LjYyMDYyNTk1IDExLjk1MzQ1MzEsNS4yNjE4NjI2IDExLjg2NTA5MzcsNC44ODk4MTY3OSBMNi4xMTk1MzEyNSw0Ljg4OTgxNjc5IEw2LjExOTUzMTI1LDcuMTA4ODA5MTYgTDkuNDkyMDQ2ODcsNy4xMDg4MDkxNiBDOS40MjQwNzgxMiw3LjY2MDI1OTU0IDkuMDU2OTA2MjUsOC40OTA3MzI4MiA4LjI0MDk1MzEyLDkuMDQ4Nzc4NjMgQzcuNzI0MjAzMTIsOS40MDA5MDA3NiA3LjAzMDY0MDYyLDkuNjQ2NzE3NTYgNi4xMTk1MzEyNSw5LjY0NjcxNzU2IEM0LjUwMTI2NTYyLDkuNjQ2NzE3NTYgMy4xMjc3ODEyNSw4LjYwMzY3OTM5IDIuNjM4MTcxODcsNy4xNjE5ODQ3MyBMMi42Mjg3MTIwNSw3LjE2Mjc2OTU5IEMyLjUwNTM0MTU4LDYuNzk3Mjk0NjggMi40MzQyMTg3NSw2LjM4MTEyMjg1IDIuNDM0MjE4NzUsNS45NzkzODkzMSBDMi40MzQyMTg3NSw1LjU2NzQ1MDM4IDIuNTA4OTg0MzgsNS4xNjg4Mzk2OSAyLjYzMTM3NSw0Ljc5Njc5Mzg5IEMzLjEyNzc4MTI1LDMuMzU1MDk5MjQgNC41MDEyNjU2MiwyLjMxMjAxNTI3IDYuMTE5NTMxMjUsMi4zMTIwMTUyNyBDNy4yNjg2MjUsMi4zMTIwMTUyNyA4LjA0Mzc1LDIuNzk3MDA3NjMgOC40ODU3MzQzNywzLjIwMjMwNTM0IEwxMC4yMTI3OTY5LDEuNTU0NjQxMjIgQzkuMTUyMTA5MzcsMC41OTEyOTc3MSA3Ljc3MTc4MTI1LDguODgxNzg0MmUtMTYgNi4xMTk1MzEyNSw4Ljg4MTc4NDJlLTE2IEMzLjcyNjA5Mzc1LDguODgxNzg0MmUtMTYgMS42NTkwNDY4NywxLjM0MjAzMDUzIDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgTDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMiAyKSIvPiAgPC9nPjwvc3ZnPg==);
}

.providerGitHub:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjAwMDA2NjI1LDAgQzMuNTgyMzMwNzksMCAwLDMuNjcyMzE1ODUgMCw4LjIwMjUzNzczIEMwLDExLjgyNjYzMzggMi4yOTIyNjI0OCwxNC45MDEyOTUgNS40NzA5MzM1NiwxNS45ODU5MDIzIEM1Ljg3MDc1MTM5LDE2LjA2MTgzMTUgNi4wMTc1MzY3NSwxNS44MDc5NjQyIDYuMDE3NTM2NzUsMTUuNTkxMzE0NCBDNi4wMTc1MzY3NSwxNS4zOTU3MTgzIDYuMDEwMTE3OTksMTQuNzQ5NTcyMiA2LjAwNjY3MzU2LDE0LjA2NDE3MTEgQzMuNzgxMDQ3NDEsMTQuNTYwMzYwMiAzLjMxMTQxMzc5LDEzLjA5NjM3ODEgMy4zMTE0MTM3OSwxMy4wOTYzNzgxIEMyLjk0NzQ5NzQsMTIuMTQ4MjgwNiAyLjQyMzE1MDUsMTEuODk2MTc5IDIuNDIzMTUwNSwxMS44OTYxNzkgQzEuNjk3MzA0OTEsMTEuMzg3MDg2IDIuNDc3ODYzNzksMTEuMzk3NTQ0OSAyLjQ3Nzg2Mzc5LDExLjM5NzU0NDkgQzMuMjgxMjA4ODcsMTEuNDU1NDA4NyAzLjcwNDIxMDMxLDEyLjI0MjgxODcgMy43MDQyMTAzMSwxMi4yNDI4MTg3IEM0LjQxNzczNTQ3LDEzLjQ5NjgwNjcgNS41NzU3MjM0NiwxMy4xMzQyNzQ4IDYuMDMyMjQxNzgsMTIuOTI0Njg4MiBDNi4xMDQwNDQ3MiwxMi4zOTQ1NDE0IDYuMzExMzcyNDQsMTIuMDMyNjg4NyA2LjU0MDE2MTQ0LDExLjgyNzg1NjIgQzQuNzYzMjM3NDQsMTEuNjIwNDQyOCAyLjg5NTMwMTE5LDEwLjkxNzExMjEgMi44OTUzMDExOSw3Ljc3NDEyNzk5IEMyLjg5NTMwMTE5LDYuODc4NTk2ODggMy4yMDc4MTYxOCw2LjE0Njg3NzU3IDMuNzE5NTc3NzMsNS41NzI0NDk5OSBDMy42MzY1MTQxNyw1LjM2NTg1MTY2IDMuMzYyNjgyNjgsNC41MzE1ODAxNyAzLjc5NzA3NzIxLDMuNDAxNzQxMzMgQzMuNzk3MDc3MjEsMy40MDE3NDEzMyA0LjQ2ODg3MTg4LDMuMTgxMjg4MjcgNS45OTc2NjUwNyw0LjI0MjUzMjY3IEM2LjYzNTgxMDQ0LDQuMDYwNzkxMzQgNy4zMjAxOTA0NCwzLjk2OTY0OTAyIDguMDAwMDY2MjUsMy45NjY1MjQ5MiBDOC42Nzk5NDIwNiwzLjk2OTY0OTAyIDkuMzY0ODUyLDQuMDYwNzkxMzQgMTAuMDA0MTg5Niw0LjI0MjUzMjY3IEMxMS41MzExMjgxLDMuMTgxMjg4MjcgMTIuMjAxOTk1NCwzLjQwMTc0MTMzIDEyLjIwMTk5NTQsMy40MDE3NDEzMyBDMTIuNjM3NDQ5OCw0LjUzMTU4MDE3IDEyLjM2MzQ4NTgsNS4zNjU4NTE2NiAxMi4yODA0MjIzLDUuNTcyNDQ5OTkgQzEyLjc5MzM3NjEsNi4xNDY4Nzc1NyAxMy4xMDM3NzE0LDYuODc4NTk2ODggMTMuMTAzNzcxNCw3Ljc3NDEyNzk5IEMxMy4xMDM3NzE0LDEwLjkyNDU4MjggMTEuMjMyMjU4MywxMS42MTgyNjk2IDkuNDUwODMwMDYsMTEuODIxMzM2MyBDOS43Mzc3NzY4NywxMi4wNzU4ODI5IDkuOTkzNDU4ODcsMTIuNTc1MDYwMiA5Ljk5MzQ1ODg3LDEzLjM0MDMyOTggQzkuOTkzNDU4ODcsMTQuNDM3ODQxMSA5Ljk4NDE4NTUsMTUuMzIxMTQ3MyA5Ljk4NDE4NTUsMTUuNTkxMzE0NCBDOS45ODQxODU1LDE1LjgwOTU5NDIgMTAuMTI4MTg4NywxNi4wNjUzNjMxIDEwLjUzMzcwMzEsMTUuOTg0ODE1NiBDMTMuNzEwNjUyLDE0Ljg5ODk4NTggMTYsMTEuODI1NDExMyAxNiw4LjIwMjUzNzczIEMxNiwzLjY3MjMxNTg1IDEyLjQxODE5OTIsMCA4LjAwMDA2NjI1LDAgWiBNMi45OTYyODQ5NiwxMS42ODQ2ODgyIEMyLjk3ODY2NTQxLDExLjcyNTQzNzMgMi45MTYxMzU5MSwxMS43Mzc2NjIxIDIuODU5MTcwNDgsMTEuNzA5NjgxIEMyLjgwMTE0NTIyLDExLjY4MjkyMjMgMi43Njg1NTU3MSwxMS42MjczNjc2IDIuNzg3MzY3NTUsMTEuNTg2NDgyNyBDMi44MDQ1ODk2NSwxMS41NDQ1MTEgMi44NjcyNTE2MiwxMS41MzI4Mjk1IDIuOTI1MTQ0MzksMTEuNTYwOTQ2NSBDMi45ODMzMDIxNCwxMS41ODc3MDUxIDMuMDE2NDIxNTcsMTEuNjQzODAzMSAyLjk5NjI4NDk2LDExLjY4NDY4ODIgWiBNMy4zODk3OTkzMiwxMi4wNDQ3MDI0IEMzLjM1MTY0NTc0LDEyLjA4MDk2OTEgMy4yNzcwNjA3NywxMi4wNjQxMjYxIDMuMjI2NDU0MjYsMTIuMDA2ODA1NyBDMy4xNzQxMjU1NSwxMS45NDk2MjEgMy4xNjQzMjIyMSwxMS44NzMxNDg0IDMuMjAzMDA1NywxMS44MzYzMzgyIEMzLjI0MjM1MTU5LDExLjgwMDA3MTUgMy4zMTQ2ODQ0NSwxMS44MTcwNTAzIDMuMzY3MTQ1NjQsMTEuODc0MjM1IEMzLjQxOTQ3NDMyLDExLjkzMjA5ODggMy40Mjk2NzUxMiwxMi4wMDgwMjgxIDMuMzg5Nzk5MzIsMTIuMDQ0NzAyNCBaIE0zLjY1OTc2NTA4LDEyLjUwNTMyODMgQzMuNjEwNzQ4MzMsMTIuNTQwMjM2OCAzLjUzMDU5OTI5LDEyLjUwNzUwMTUgMy40ODEwNTI2MSwxMi40MzQ1NjA2IEMzLjQzMjAzNTgzLDEyLjM2MTYxOTUgMy40MzIwMzU4MywxMi4yNzQxNDQ2IDMuNDgyMTEyNDQsMTIuMjM5MTAwMyBDMy41MzE3OTE1NywxMi4yMDQwNTYgMy42MTA3NDgzMywxMi4yMzU1Njg4IDMuNjYwOTU3MzgsMTIuMzA3OTY2NSBDMy43MDk4NDE2OCwxMi4zODIxMjk5IDMuNzA5ODQxNjgsMTIuNDY5NjA0OCAzLjY1OTc2NTA4LDEyLjUwNTMyODMgWiBNNC4xMTYzMzQ5NSwxMy4wMzg3OTgxIEM0LjA3MjQ4NDgyLDEzLjA4ODM3NjQgMy45NzkwODgwMiwxMy4wNzUwNjUgMy45MTA3Mjk0OCwxMy4wMDc0MjE0IEMzLjg0MDc4MTI0LDEyLjk0MTI3MTggMy44MjEzMDcwMSwxMi44NDc0MTI5IDMuODY1Mjg5NjMsMTIuNzk3ODM0NyBDMy45MDk2Njk2NiwxMi43NDgxMjA3IDQuMDAzNTk2MzksMTIuNzYyMTExMyA0LjA3MjQ4NDgyLDEyLjgyOTIxMTYgQzQuMTQxOTAzMTYsMTIuODk1MjI1MyA0LjE2MzA5OTYsMTIuOTg5NzYzNCA0LjExNjMzNDk1LDEzLjAzODc5ODEgWiBNNC43MDY0MDcxOSwxMy4yMTg4OTE2IEM0LjY4NzA2NTQ2LDEzLjI4MzEzOTUgNC41OTcxMTMwNiwxMy4zMTIzNDMgNC41MDY0OTgyNywxMy4yODUwNDExIEM0LjQxNjAxNTk3LDEzLjI1NjkyNDIgNC4zNTY3OTg0MiwxMy4xODE2NzQxIDQuMzc1MDgwMzYsMTMuMTE2NzQ3IEM0LjM5Mzg5MjE5LDEzLjA1MjA5MTcgNC40ODQyNDIwMSwxMy4wMjE2NjU2IDQuNTc1NTE5MTgsMTMuMDUwODY5MiBDNC42NjU4NjkwMSwxMy4wNzg4NTAzIDQuNzI1MjE5MDUsMTMuMTUzNTU3MSA0LjcwNjQwNzE5LDEzLjIxODg5MTYgWiBNNS4zNzc5MzQxOSwxMy4yOTUyODI1IEM1LjM4MDE4NjI5LDEzLjM2MjkyNjEgNS4zMDMzNDkxOSwxMy40MTkwMjQxIDUuMjA4MjMwMTgsMTMuNDIwMjQ2NyBDNS4xMTI1ODEyNSwxMy40MjI0MiA1LjAzNTIxNDI1LDEzLjM2NzY4MDMgNS4wMzQxNTQ0MiwxMy4zMDExMjMyIEM1LjAzNDE1NDQyLDEzLjIzMjgwMDUgNS4xMDkyNjkzLDEzLjE3NzI0NTggNS4yMDQ5MTgyMywxMy4xNzU2MTU4IEM1LjMwMDAzNzI2LDEzLjE3MzcxNDIgNS4zNzc5MzQxOSwxMy4yMjgwNDY0IDUuMzc3OTM0MTksMTMuMjk1MjgyNSBaIE02LjAzNzYzNDE5LDEzLjI2OTM1NDggQzYuMDQ5MDI3MjksMTMuMzM1MzY4NSA1Ljk4MjkyMDg4LDEzLjQwMzE0NzkgNS44ODg0NjQyNSwxMy40MjEyMTM0IEM1Ljc5NTU5NzM2LDEzLjQzODU5OTcgNS43MDk2MTkyOSwxMy4zOTc4NTA1IDUuNjk3ODI4NzcsMTMuMzMyMzgwMiBDNS42ODYzMDMyMiwxMy4yNjQ3MzY1IDUuNzUzNjAxOTEsMTMuMTk2OTU3MSA1Ljg0NjMzNjMzLDEzLjE3OTQzNSBDNS45NDA5MjU0NCwxMy4xNjI1OTIgNi4wMjU1Nzg3MiwxMy4yMDIyNTQ1IDYuMDM3NjM0MTksMTMuMjY5MzU0OCBaIi8+ICA8L2c+PC9zdmc+);
}

.providerGitLab:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDE0IDEzIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTIpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBMNC40MjgwOTMzMyw0Ljk5NzI4MjU0IEw5LjU4MDA5MzM2LDQuOTk3MjgyNTQgTDcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBaIE03LjAwNDA5MzM2LDEyLjk0OTIzIEwwLjgxNzg5MzMzMyw0Ljk5NzI2OTE3IEw0LjQyODA5MzMzLDQuOTk3MjY5MTcgTDcuMDA0MDkzMzYsMTIuOTQ5MjMgWiBNMC44MTc4OTk5OTksNC45OTcyODkyMyBMNy4wMDQwOTk5OCwxMi45NDkyNSBMMC4yMjg4MzMzMzMsOC4wMTE4ODA4IEMwLjA0MTksNy44NzU2NzE1MiAtMC4wMzYzLDcuNjM0MjEyNyAwLjAzNTEsNy40MTM4MTcxMiBMMC44MTc4OTk5OTksNC45OTcyODkyMyBaIE0wLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIEwyLjM2OTM2NjY3LDAuMjA3OTA0NzE0IEMyLjQ0OTE2NjY3LC0wLjAzODUwMjM1ODggMi43OTY3NjY2NywtMC4wMzg1NjkyMjY1IDIuODc2NTY2NjcsMC4yMDc5MDQ3MTQgTDQuNDI4MSw0Ljk5NzI5NTkxIEwwLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIFogTTcuMDA0MDkzMzYsMTIuOTQ5MjMgTDkuNTgwMDkzMzYsNC45OTcyNjkxNyBMMTMuMTkwMjkzMyw0Ljk5NzI2OTE3IEw3LjAwNDA5MzM2LDEyLjk0OTIzIFogTTEzLjE5MDI5MzMsNC45OTcyODkyMyBMMTMuOTczMDkzMyw3LjQxMzgxNzEyIEMxNC4wNDQ0OTMzLDcuNjM0MjEyNyAxMy45NjYyOTM0LDcuODc1NjcxNTIgMTMuNzc5MzYsOC4wMTE4ODA4IEw3LjAwNDA5MzM2LDEyLjk0OTI1IEwxMy4xOTAyOTMzLDQuOTk3Mjg5MjMgWiBNMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIEw5LjU4MDA5MzM2LDQuOTk3Mjk1OTEgTDExLjEzMTYyNjcsMC4yMDc5MDQ3MTQgQzExLjIxMTQyNjcsLTAuMDM4NTY5MjI2NSAxMS41NTkwMjY3LC0wLjAzODUwMjM1ODggMTEuNjM4ODI2NywwLjIwNzkwNDcxNCBMMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMikiLz4gIDwvZz48L3N2Zz4=);
}

.providerBitbucket:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE0IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSkiPiAgICAgIDxwYXRoIGQ9Ik03LDIuNDk4OTQxODdlLTA3IEw3LDIuNDk4OTQxODdlLTA3IEMzLjE1NzIxMjI5LDIuNDk4OTQxODdlLTA3IDAuMDAwNjM2NTM1NDM1LDEuMDIwODQ0MjQgMC4wMDA2MzY1MzU0MzUsMi4zMTM5MTM1OSBDMC4wMDA2MzY1MzU0MzUsMi42NTQxOTUxMyAwLjgyNDA5MTAyMyw3LjQ4NjE5MiAxLjE2NzE5NzE3LDkuMzkxNzY3NTkgQzEuMzA0NDM5MzcsMTAuMjc2NDk5OSAzLjU2ODkzOTUzLDExLjUwMTUxMyA3LDExLjUwMTUxMyBMNywxMS41MDE1MTMgQzEwLjQzMTA2MDIsMTEuNTAxNTEzIDEyLjYyNjkzODYsMTAuMjc2NDk5OSAxMi44MzI4MDMyLDkuMzkxNzY3NTkgQzEzLjE3NTkwODYsNy40ODYxOTIgMTMuOTk5MzYzMiwyLjY1NDE5NTEzIDEzLjk5OTM2MzIsMi4zMTM5MTM1OSBDMTMuOTMwNzQyMSwxLjAyMDg0NDI0IDEwLjg0Mjc4NzQsMi40OTg5NDE4N2UtMDcgNywyLjQ5ODk0MTg3ZS0wNyBMNywyLjQ5ODk0MTg3ZS0wNyBaIE03LDkuOTM2MjE4MzEgQzUuNzY0ODE4MjgsOS45MzYyMTgzMSA0LjgwNDEyMTI2LDguOTgzNDI5ODYgNC44MDQxMjEyNiw3Ljc1ODQxNjcxIEM0LjgwNDEyMTI2LDYuNTMzNDAzNTUgNS43NjQ4MTgyOCw1LjU4MDYxNTk3IDcsNS41ODA2MTU5NyBDOC4yMzUxODExMiw1LjU4MDYxNTk3IDkuMTk1ODc4NCw2LjUzMzQwMzU1IDkuMTk1ODc4NCw3Ljc1ODQxNjcxIEM5LjE5NTg3ODQsOC45MTUzNzM3MiA4LjIzNTE4MTEyLDkuOTM2MjE4MzEgNyw5LjkzNjIxODMxIEw3LDkuOTM2MjE4MzEgWiBNNywyLjk5NDQ3NjY3IEM0LjUyOTYzNjIyLDIuOTk0NDc2NjcgMi41Mzk2MjExLDIuNTg2MTM4OTUgMi41Mzk2MjExLDIuMDQxNjg4ODYgQzIuNTM5NjIxMSwxLjQ5NzIzODE1IDQuNTI5NjM2MjIsMS4wODg5MDA0MyA3LDEuMDg4OTAwNDMgQzkuNDcwMzYyODQsMS4wODg5MDA0MyAxMS40NjAzNzg2LDEuNDk3MjM4MTUgMTEuNDYwMzc4NiwyLjA0MTY4ODg2IEMxMS40NjAzNzg2LDIuNTg2MTM4OTUgOS40NzAzNjI4NCwyLjk5NDQ3NjY3IDcsMi45OTQ0NzY2NyBMNywyLjk5NDQ3NjY3IFoiLz4gICAgICA8cGF0aCBkPSJNMTIuMDY0NTA5NiwxMS4yMjkyODc2IEMxMS45MjcyNjY3LDExLjIyOTI4NzYgMTEuODU4NjQ1NywxMS4yOTczNDM4IDExLjg1ODY0NTcsMTEuMjk3MzQzOCBDMTEuODU4NjQ1NywxMS4yOTczNDM4IDEwLjE0MzExNTYsMTIuNjU4NDcgNy4wNTUxNjA5MywxMi42NTg0NyBDMy45NjcyMDY4NywxMi42NTg0NyAyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4yNTE2NzYxNiwxMS4yOTczNDM4IEMyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4xMTQ0MzM5NSwxMS4yMjkyODc2IDIuMDQ1ODEyODUsMTEuMjI5Mjg3NiBDMS45MDg1NzAwMiwxMS4yMjkyODc2IDEuNzcxMzI3ODEsMTEuMjk3MzQzOCAxLjc3MTMyNzgxLDExLjUwMTUxMyBMMS43NzEzMjc4MSwxMS41Njk1NjkyIEMyLjA0NTgxMjg1LDEyLjk5ODc1MTYgMi4yNTE2NzYxNiwxNC4wMTk1OTU2IDIuMjUxNjc2MTYsMTQuMTU1NzA3OSBDMi40NTc1NDAwOSwxNS4xNzY1NTI1IDQuNTE2MTc2MzIsMTUuOTkzMjI4IDYuOTg2NTM5ODIsMTUuOTkzMjI4IEw2Ljk4NjUzOTgyLDE1Ljk5MzIyOCBDOS40NTY5MDMzMSwxNS45OTMyMjggMTEuNTE1NTM5NSwxNS4xNzY1NTI1IDExLjcyMTQwMzUsMTQuMTU1NzA3OSBDMTEuNzIxNDAzNSwxNC4wMTk1OTU2IDExLjkyNzI2NjcsMTIuOTk4NzUxNiAxMi4yMDE3NTE4LDExLjU2OTU2OTIgTDEyLjIwMTc1MTgsMTEuNTAxNTEzIEMxMi4yNzAzNzI5LDExLjM2NTQgMTIuMjAxNzUxOCwxMS4yMjkyODc2IDEyLjA2NDUwOTYsMTEuMjI5Mjg3NiBMMTIuMDY0NTA5NiwxMS4yMjkyODc2IFoiLz4gICAgICA8ZWxsaXBzZSBjeD0iNyIgY3k9IjcuNjkiIHJ4PSIxLjA5OCIgcnk9IjEuMDg5Ii8+ICAgIDwvZz4gIDwvZz48L3N2Zz4=);
}

.callOut {
  display: block;
  padding: 32px;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  color: #a3a9ac;
  text-align: center;
}

.callOut:after {
  content: " ";
  -webkit-transition: color 4s ease;
  transition: color 4s ease;
}

.callOut:hover:after {
  color: red;
}

.callOut .netlifyLogo {
  display: block;
  margin: auto;
  width: 32px;
  height: 32px;
  margin-bottom: 8px;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4gIDxkZWZzPiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN5PSIwJSIgcj0iMTAwJSIgZng9IjUwJSIgZnk9IjAlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAgMSAtMS4xNTE4NSAwIC41IC0uNSkiPiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMyMEM2QjciIG9mZnNldD0iMCUiLz4gICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEQ5QUJGIiBvZmZzZXQ9IjEwMCUiLz4gICAgPC9yYWRpYWxHcmFkaWVudD4gIDwvZGVmcz4gIDxwYXRoIGZpbGw9InVybCgjYSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIyLjk4MDYyMywxMS42MjYyMzc3IEMyMi44NzE3MTA3LDExLjUwNTEzMDYgMjIuNzM1NTcwNCwxMS4zOTc0Nzk4IDIyLjU3MjIwMjEsMTEuMzE2NzQxOCBDMjIuNTU4NTg4MSwxMS4zMTY3NDE4IDIyLjU0NDk3NCwxMS4yODk4MjkxIDIyLjUzMTM2LDExLjI3NjM3MjcgTDIzLjE3MTIxOTQsNy4zNjA1NzY2MSBDMjMuMTcxMjE5NCw3LjMzMzY2MzkyIDIzLjE4NDgzMzQsNy4zMjAyMDc1OCAyMy4xOTg0NDc1LDcuMzIwMjA3NTggTDIzLjIxMjA2MTUsNy4zMjAyMDc1OCBDMjMuMjEyMDYxNSw3LjMyMDIwNzU4IDIzLjIyNTY3NTUsNy4zMjAyMDc1OCAyMy4yMzkyODk2LDcuMzMzNjYzOTIgTDI2LjE2NjMwNiwxMC4yMjY3Nzc5IEMyNi4xNzk5MiwxMC4yNDAyMzQzIDI2LjE3OTkyLDEwLjI1MzY5MDYgMjYuMTc5OTIsMTAuMjY3MTQ2OSBDMjYuMTc5OTIsMTAuMjgwNjAzMyAyNi4xNjYzMDYsMTAuMjk0MDU5NiAyNi4xNTI2OTE5LDEwLjMwNzUxNiBMMjMuMDIxNDY1MSwxMS42Mzk2OTQgTDIzLjAwNzg1MSwxMS42Mzk2OTQgQzIyLjk5NDIzNywxMS42Mzk2OTQgMjIuOTk0MjM3LDExLjYzOTY5NCAyMi45ODA2MjMsMTEuNjI2MjM3NyBaIE0xNi4zNTA1NzM2LDkuNDU5NzM4MSBDMTYuMzIzMzQ1Myw5LjE5MDYxMjc0IDE2LjIyODA0NjMsOC45MjE0ODczOCAxNi4wNzgyOTA2LDguNjkyNzMwODMgQzE2LjA2NDY3NjUsOC42NzkyNzQ1NiAxNi4wNjQ2NzY1LDguNjUyMzYyMDIgMTYuMDc4MjkwNiw4LjYyNTQ0OTQ5IEwxOS4zNTkzMDEsMy41Mzg5ODAyMiBDMTkuMzU5MzAxLDMuNTI1NTIzOTUgMTkuMzcyOTE1MSwzLjUxMjA2NzY4IDE5LjM4NjUyOTMsMy41MTIwNjc2OCBDMTkuNDAwMTQzNCwzLjUxMjA2NzY4IDE5LjQwMDE0MzQsMy41MTIwNjc2OCAxOS40MTM3NTc2LDMuNTI1NTIzOTUgTDIyLjMyNzE4NTgsNi40MTg2MjE1NSBDMjIuMzQwOCw2LjQzMjA3NzgyIDIyLjM0MDgsNi40NDU1MzQwOSAyMi4zNDA4LDYuNDU4OTkwMzUgTDIxLjU3ODQwNzYsMTEuMTgyMTQwNCBDMjEuNTc4NDA3NiwxMS4yMDkwNTI5IDIxLjU2NDc5MzQsMTEuMjIyNTA5MiAyMS41NTExNzkzLDExLjIyMjUwOTIgQzIxLjM3NDE5NTMsMTEuMjc2MzM0MyAyMS4yMTA4MjU1LDExLjM1NzA3MTkgMjEuMDc0Njg0LDExLjQ2NDcyMiBDMjEuMDc0Njg0LDExLjQ3ODE3ODMgMjEuMDYxMDY5OCwxMS40NzgxNzgzIDIxLjAzMzg0MTUsMTEuNDc4MTc4MyBMMTYuMzc3ODAxOSw5LjUwMDEwNjkgQzE2LjM2NDE4NzgsOS40ODY2NTA2MyAxNi4zNTA1NzM2LDkuNDczMTk0MzcgMTYuMzUwNTczNiw5LjQ1OTczODEgWiBNMjYuOTgzMTkwNywxMS4wMjA3NjY5IEwzMS45Nzk1Nzg4LDE1Ljk3MjY2NCBDMzIuMDA2ODA3MSwxNS45ODYxMjAyIDMyLjAwNjgwNzEsMTYuMDI2NDg4OSAzMS45Nzk1Nzg4LDE2LjAyNjQ4ODkgTDMxLjk1MjM1MDUsMTYuMDUzNDAxNCBDMzEuOTUyMzUwNSwxNi4wNjY4NTc3IDMxLjkzODczNjQsMTYuMDY2ODU3NyAzMS45MTE1MDgxLDE2LjA2Njg1NzcgTDIzLjU1MjQyODMsMTIuNTI3ODY2IEMyMy41Mzg4MTQxLDEyLjUyNzg2NiAyMy41MjUyLDEyLjUwMDk1MzUgMjMuNTI1MiwxMi40ODc0OTczIEMyMy41MjUyLDEyLjQ3NDA0MSAyMy41Mzg4MTQxLDEyLjQ2MDU4NDggMjMuNTUyNDI4MywxMi40NDcxMjg2IEwyNi45NTU5NjI0LDExLjAwNzMxMDcgQzI2Ljk1NTk2MjQsMTEuMDA3MzEwNyAyNi45Njk1NzY1LDExLjAwNzMxMDcgMjYuOTgzMTkwNywxMS4wMjA3NjY5IFogTTIzLjEzMDQzNjMsMTMuMzg5MDg4MSBMMzEuMTQ5MTg1OCwxNi43ODAwNzYxIEMzMS4xNjI4LDE2Ljc5MzUzMjQgMzEuMTYyOCwxNi44MDY5ODg3IDMxLjE2MjgsMTYuODIwNDQ1IEMzMS4xNjI4LDE2LjgzMzkwMTMgMzEuMTYyOCwxNi44NDczNTc2IDMxLjE0OTE4NTgsMTYuODYwODEzOSBMMjYuNzEwOTY0NSwyMS4yNjEwMjQ1IEMyNi43MTA5NjQ1LDIxLjI3NDQ4MDggMjYuNjk3MzUwMywyMS4yNzQ0ODA4IDI2LjY3MDEyMiwyMS4yNzQ0ODA4IEwyMS44MjM0NzU0LDIwLjI2NTI1ODIgQzIxLjc5NjI0NywyMC4yNjUyNTgyIDIxLjc4MjYzMjksMjAuMjUxODAxOSAyMS43ODI2MzI5LDIwLjIyNDg4OTMgQzIxLjc0MTc5MDMsMTkuODQ4MTEyOCAyMS41NjQ4MDYsMTkuNTExNzA1MyAyMS4yNjUyOTQyLDE5LjI4Mjk0ODEgQzIxLjI1MTY4LDE5LjI2OTQ5MTggMjEuMjUxNjgsMTkuMjU2MDM1NSAyMS4yNTE2OCwxOS4yNDI1NzkyIEwyMi4xMDkzNzMxLDEzLjk4MTE2NTMgQzIyLjEwOTM3MzEsMTMuOTU0MjUyNyAyMi4xMzY2MDE0LDEzLjk0MDc5NjQgMjIuMTUwMjE1NiwxMy45NDA3OTY0IEMyMi41MzE0MTI1LDEzLjg4Njk3MTIgMjIuODU4MTUyNywxMy42OTg1ODMgMjMuMDc1OTc5NiwxMy40MDI1NDQ0IEMyMy4wODk1OTM3LDEzLjM4OTA4ODEgMjMuMTAzMjA3OSwxMy4zODkwODgxIDIzLjEzMDQzNjMsMTMuMzg5MDg4MSBaIE0xNi4xNDYzNzksMTAuNDI4Njg1OSBMMjAuNTMwMTMxNywxMi4yODU2NTMyIEMyMC41NDM3NDU5LDEyLjI5OTEwOTUgMjAuNTU3MzYsMTIuMzEyNTY1OCAyMC41NTczNiwxMi4zMzk0NzgzIEMyMC41NDM3NDU5LDEyLjQwNjc1OTggMjAuNTMwMTMxNywxMi40ODc0OTc1IDIwLjUzMDEzMTcsMTIuNTY4MjM1MiBMMjAuNTMwMTMxNywxMi42MzU1MTY2IEwyMC41MzAxMzE3LDEyLjY4OTM0MTcgQzIwLjUzMDEzMTcsMTIuNzAyNzk4IDIwLjUxNjUxNzYsMTIuNzE2MjU0MyAyMC41MDI5MDM0LDEyLjcyOTcxMDYgQzIwLjUwMjkwMzQsMTIuNzI5NzEwNiAxMC44Nzc3MDcyLDE2LjgzMzg3NzUgMTAuODY0MDkzLDE2LjgzMzg3NzUgQzEwLjg1MDQ3ODksMTYuODMzODc3NSAxMC44MzY4NjQ3LDE2LjgzMzg3NzUgMTAuODIzMjUwNiwxNi44MjA0MjEyIEMxMC44MDk2MzY1LDE2LjgwNjk2NDkgMTAuODA5NjM2NSwxNi43ODAwNTI0IDEwLjgyMzI1MDYsMTYuNzY2NTk2MSBMMTQuNDMwOTk3NCwxMS4xODIyMzc4IEMxNC40NDQ2MTE2LDExLjE2ODc4MTUgMTQuNDU4MjI1NywxMS4xNTUzMjUzIDE0LjQ4NTQ1NCwxMS4xNTUzMjUzIEMxNC41ODA3NTMsMTEuMTY4NzgxNSAxNC42NjI0Mzc4LDExLjE4MjIzNzggMTQuNzQ0MTIyNiwxMS4xODIyMzc4IEMxNS4yODg2ODgyLDExLjE4MjIzNzggMTUuNzkyNDExMywxMC45MTMxMTIxIDE2LjA5MTkyMjQsMTAuNDU1NTk4NCBDMTYuMTA1NTM2NSwxMC40NDIxNDIyIDE2LjExOTE1MDcsMTAuNDI4Njg1OSAxNi4xNDYzNzksMTAuNDI4Njg1OSBaIE0yMS41NTExNDI5LDIxLjE4MDI0MzMgTDI1LjgxMjM3MTcsMjIuMDU0OTA1MyBDMjUuODI1OTg1OSwyMi4wNTQ5MDUzIDI1LjgzOTYsMjIuMDY4MzYxNiAyNS44Mzk2LDIyLjEwODczMDcgQzI1LjgzOTYsMjIuMTIyMTg3IDI1LjgzOTYsMjIuMTM1NjQzMyAyNS44MjU5ODU5LDIyLjE0OTA5OTcgTDE5LjkxNzQ0NDksMjguMDAyNjA3MiBDMTkuOTE3NDQ0OSwyOC4wMTYwNjM2IDE5LjkwMzgzMDcsMjguMDE2MDYzNiAxOS44OTAyMTY2LDI4LjAxNjA2MzYgTDE5Ljg2Mjk4ODMsMjguMDE2MDYzNiBDMTkuODQ5Mzc0MSwyOC4wMDI2MDcyIDE5LjgzNTc2LDI3Ljk4OTE1MDkgMTkuODM1NzYsMjcuOTYyMjM4MiBMMjAuODU2ODIxMiwyMS42OTE1ODQxIEMyMC44NTY4MjEyLDIxLjY3ODEyNzggMjAuODcwNDM1NCwyMS42NTEyMTUxIDIwLjg4NDA0OTUsMjEuNjUxMjE1MSBDMjEuMTI5MTA0MiwyMS41NTcwMjA4IDIxLjMzMzMxNjUsMjEuMzk1NTQ0NyAyMS40OTY2ODYzLDIxLjE5MzY5OTYgQzIxLjUxMDMwMDQsMjEuMTkzNjk5NiAyMS41MjM5MTQ2LDIxLjE4MDI0MzMgMjEuNTUxMTQyOSwyMS4xODAyNDMzIFogTTE5LjA0NjE2NzksMjAuNjgyNDAzIEMxOS4xNTUwODE0LDIxLjA5OTU0ODcgMTkuNDU0NTkzMywyMS40NjI4NjkyIDE5Ljg2MzAxODcsMjEuNjI0MzQ0OSBDMTkuODkwMjQ3MSwyMS42Mzc4MDEyIDE5Ljg5MDI0NzEsMjEuNjY0NzEzOSAxOS44NjMwMTg3LDIxLjY2NDcxMzkgQzE5Ljg2MzAxODcsMjEuNjY0NzEzOSAxOC42MjQxMjgzLDI5LjIxMzcwNTQgMTguNjI0MTI4MywyOS4yMjcxNjE3IEwxOC4xODg0NzQ2LDI5LjY1Nzc2MzcgQzE4LjE4ODQ3NDYsMjkuNjcxMjIwMSAxOC4xNzQ4NjA0LDI5LjY3MTIyMDEgMTguMTYxMjQ2MiwyOS42NzEyMjAxIEMxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xMzQwMTc4LDI5LjY1Nzc2MzcgTDEwLjk0NTczMDYsMTkuMjY5NDkwMSBDMTAuOTMyMTE2NSwxOS4yNTYwMzM4IDEwLjkzMjExNjUsMTkuMjI5MTIxMiAxMC45NDU3MzA2LDE5LjIxNTY2NDkgQzEwLjk4NjU3MzIsMTkuMTYxODM5NiAxMS4wMTM4MDE1LDE5LjEwODAxNDQgMTEuMDU0NjQ0MSwxOS4wNDA3MzI4IEMxMS4wNjgyNTgzLDE5LjAyNzI3NjUgMTEuMDgxODcyNCwxOS4wMTM4MjAyIDExLjEwOTEwMDgsMTkuMDEzODIwMiBMMTkuMDA1MzI1NCwyMC42NDIwMzQxIEMxOS4wMzI1NTM3LDIwLjY1NTQ5MDQgMTkuMDQ2MTY3OSwyMC42Njg5NDY3IDE5LjA0NjE2NzksMjAuNjgyNDAzIFogTTExLjMxMzM2NDcsMTguMDk4NzI4NiBDMTEuMjg2MTM2NSwxOC4wOTg3Mjg2IDExLjI3MjUyMjQsMTguMDg1MjcyNCAxMS4yNzI1MjI0LDE4LjA1ODM1OTggQzExLjI3MjUyMjQsMTcuOTUwNzA5NiAxMS4yNDUyOTQxLDE3Ljg1NjUxNTcgMTEuMjMxNjgsMTcuNzQ4ODY1NCBDMTEuMjMxNjgsMTcuNzIxOTUyOSAxMS4yMzE2OCwxNy43MDg0OTY2IDExLjI1ODkwODIsMTcuNjk1MDQwMyBDMTEuMjU4OTA4MiwxNy42OTUwNDAzIDIwLjkzODU0NTksMTMuNTYzOTYzNSAyMC45NTIxNiwxMy41NjM5NjM1IEMyMC45NTIxNiwxMy41NjM5NjM1IDIwLjk2NTc3NDEsMTMuNTYzOTYzNSAyMC45NzkzODgyLDEzLjU3NzQxOTcgQzIxLjA0NzQ1ODgsMTMuNjQ0NzAxMSAyMS4xMDE5MTUzLDEzLjY4NTA2OTkgMjEuMTU2MzcxOCwxMy43MjU0Mzg4IEMyMS4xODM2LDEzLjcyNTQzODggMjEuMTgzNiwxMy43NTIzNTEzIDIxLjE4MzYsMTMuNzY1ODA3NiBMMjAuMzM5NTI0NywxOC45NDY0NzQxIEMyMC4zMzk1MjQ3LDE4Ljk3MzM4NjYgMjAuMzI1OTEwNiwxOC45ODY4NDI5IDIwLjI5ODY4MjQsMTguOTg2ODQyOSBDMTkuODM1ODAyNCwxOS4wMTM3NTU0IDE5LjQyNzM3ODgsMTkuMjgyODgxIDE5LjE5NTkzODgsMTkuNjg2NTY5MyBDMTkuMTgyMzI0NywxOS43MDAwMjU1IDE5LjE2ODcxMDYsMTkuNzEzNDgxOCAxOS4xNDE0ODI0LDE5LjcxMzQ4MTggTDExLjMxMzM2NDcsMTguMDk4NzI4NiBaIE03Ljg2ODk3NzU4LDE5LjE4ODcyOTEgQzcuOTA5ODIwMywxOS4yNTYwMTExIDcuOTUwNjYzMDMsMTkuMzA5ODM2NyA3Ljk5MTUwNTc2LDE5LjM2MzY2MjMgQzguMDA1MTIsMTkuMzc3MTE4NyA4LjAwNTEyLDE5LjM5MDU3NTEgOC4wMDUxMiwxOS4zOTA1NzUxIEw2LjEzOTk2ODc5LDIyLjI4MzcwMDcgQzYuMTI2MzU0NTUsMjIuMjk3MTU3MSA2LjExMjc0MDMsMjIuMzEwNjEzNSA2LjA5OTEyNjA2LDIyLjMxMDYxMzUgQzYuMDk5MTI2MDYsMjIuMzEwNjEzNSA2LjA4NTUxMTgyLDIyLjMxMDYxMzUgNi4wNzE4OTc1OCwyMi4yOTcxNTcxIEw0LjQyNDU3NDI0LDIwLjY2ODkzMjkgQzQuNDEwOTYsMjAuNjU1NDc2NSA0LjQxMDk2LDIwLjY0MjAyMDEgNC40MTA5NiwyMC42Mjg1NjM3IEM0LjQxMDk2LDIwLjYxNTEwNzMgNC40MjQ1NzQyNCwyMC42MDE2NTA5IDQuNDM4MTg4NDgsMjAuNjAxNjUwOSBMNy44MTQ1MjA2MSwxOS4xNjE4MTYzIEw3LjgyODEzNDg1LDE5LjE2MTgxNjMgQzcuODQxNzQ5MDksMTkuMTYxODE2MyA3Ljg1NTM2MzMzLDE5LjE3NTI3MjcgNy44Njg5Nzc1OCwxOS4xODg3MjkxIFogTTEwLjE4MzMxOTEsMTkuODYxNTU3OSBDMTAuMTk2OTMzMiwxOS44NjE1NTc5IDEwLjIxMDU0NzMsMTkuODc1MDE0MiAxMC4yMjQxNjE0LDE5Ljg4ODQ3MDYgTDE3LjQzOTYyOTQsMzAuMzU3NDg3OCBDMTcuNDUzMjQzNSwzMC4zNzA5NDQxIDE3LjQ1MzI0MzUsMzAuMzk3ODU2NyAxNy40Mzk2Mjk0LDMwLjQxMTMxMzEgTDE1Ljg2MDM5NDksMzEuOTg1NzAyNSBDMTUuODYwMzk0OSwzMS45OTkxNTg5IDE1Ljg0Njc4MDgsMzEuOTk5MTU4OSAxNS44MDU5Mzg2LDMxLjk4NTcwMjUgTDYuNzkzNDEwNTcsMjMuMDY0MTYyMiBDNi43Nzk3OTY0OCwyMy4wNTA3MDU4IDYuNzc5Nzk2NDgsMjMuMDIzNzkzMiA2LjgwNzAyNDY2LDIyLjk5Njg4MDYgTDguNzY3NDUzNzEsMTkuOTU1NzUyMiBDOC43ODEwNjc4LDE5Ljk0MjI5NTggOC43OTQ2ODE4OSwxOS45Mjg4Mzk1IDguODIxOTEwMDcsMTkuOTI4ODM5NSBDOS4wMjYxMjE0MywxOS45OTYxMjExIDkuMjE2NzE4NywyMC4wMjMwMzM4IDkuNDIwOTMwMDYsMjAuMDIzMDMzOCBDOS42Nzk1OTc3OCwyMC4wMjMwMzM4IDkuOTI0NjUxNDEsMTkuOTY5MjA4NSAxMC4xODMzMTkxLDE5Ljg2MTU1NzkgWiBNOC45OTg5MTg1NiwxNi40MDMyMzIyIEM4Ljk4NTMwNDM5LDE2LjQwMzIzMjIgOC45NzE2OTAyMiwxNi4zODk3NzU5IDguOTU4MDc2MDQsMTYuMzc2MzE5NiBMNS4wOTE2NTA2MywxMC43MzgxMzg4IEM1LjA3ODAzNjQ2LDEwLjcyNDY4MjUgNS4wNzgwMzY0NiwxMC42OTc3NyA1LjA5MTY1MDYzLDEwLjY4NDMxMzcgTDguNTYzMjY1LDcuMjM5NTA2MzMgQzguNTYzMjY1LDcuMjI2MDUwMDYgOC41NzY4NzkxNyw3LjIyNjA1MDA2IDguNjA0MTA3NTIsNy4yMjYwNTAwNiBDOC42MDQxMDc1Miw3LjIzOTUwNjMzIDEyLjcwMTk3MzksOC45NjE5MTAwMiAxMy4xNjQ4NTU4LDkuMTYzNzU0MiBDMTMuMTc4NDcsOS4xNzcyMTA0OCAxMy4xOTIwODQyLDkuMTkwNjY2NzYgMTMuMTkyMDg0Miw5LjIxNzU3OTMyIEMxMy4xNjQ4NTU4LDkuMzM4Njg1ODMgMTMuMTUxMjQxNiw5LjQ1OTc5MjM0IDEzLjE1MTI0MTYsOS41ODA4OTg4NCBDMTMuMTUxMjQxNiw5Ljk5ODA0MzQ5IDEzLjMxNDYxMTcsMTAuMzg4Mjc1NiAxMy42MDA1MDk0LDEwLjY4NDMxMzcgQzEzLjYxNDEyMzUsMTAuNjk3NzcgMTMuNjE0MTIzNSwxMC43MjQ2ODI1IDEzLjYwMDUwOTQsMTAuNzM4MTM4OCBMOS45NTE5MTA3NCwxNi4zODk3NzU5IEM5LjkzODI5NjU3LDE2LjQwMzIzMjIgOS45MjQ2ODIzOSwxNi40MTY2ODg1IDkuODk3NDU0MDUsMTYuNDE2Njg4NSBDOS43NDc2OTgxMywxNi4zNzYzMTk2IDkuNTg0MzI4MDQsMTYuMzQ5NDA3MSA5LjQzNDU3MjEzLDE2LjM0OTQwNzEgQzkuMjk4NDMwMzksMTYuMzQ5NDA3MSA5LjE0ODY3NDQ4LDE2LjM3NjMxOTYgOC45OTg5MTg1NiwxNi40MDMyMzIyIFogTTEzLjY2ODYwMTksOC4zNTY0MjAzNCBDMTMuNDkxNjE4Niw4LjI3NTY4MTk4IDkuMzUyOTMzMjQsNi41MjYzNTA4MyA5LjM1MjkzMzI0LDYuNTI2MzUwODMgQzkuMzM5MzE5MTQsNi41MTI4OTQ0NCA5LjMyNTcwNTA1LDYuNTEyODk0NDQgOS4zMzkzMTkxNCw2LjQ4NTk4MTY1IEM5LjMzOTMxOTE0LDYuNDcyNTI1MjYgOS4zMzkzMTkxNCw2LjQ1OTA2ODg2IDkuMzUyOTMzMjQsNi40NDU2MTI0NyBMMTUuODMzMjQzMiwwLjAxMzQ1NjM5MzUgQzE1LjgzMzI0MzIsMCAxNS44NDY4NTczLDAgMTUuODYwNDcxNCwwIEMxNS44NzQwODU1LDAgMTUuODc0MDg1NSwwIDE1Ljg4NzY5OTYsMC4wMTM0NTYzOTM1IEwxOC42Nzg1ODk0LDIuNzcyMDE3MDUgQzE4LjY5MjIwMzUsMi43ODU0NzM0NSAxOC42OTIyMDM1LDIuODEyMzg2MjMgMTguNjc4NTg5NCwyLjgyNTg0MjYzIEwxNS4zMTU5MDc2LDguMDMzNDY2OSBDMTUuMzAyMjkzNSw4LjA0NjkyMzI5IDE1LjI4ODY3OTQsOC4wNjAzNzk2OSAxNS4yNjE0NTEyLDguMDYwMzc5NjkgQzE1LjA4NDQ2NzksOC4wMDY1NTQxMSAxNC45MDc0ODQ3LDcuOTc5NjQxMzMgMTQuNzMwNTAxNCw3Ljk3OTY0MTMzIEMxNC4zNjI5MjA4LDcuOTc5NjQxMzMgMTMuOTk1MzQwMiw4LjExNDIwNTI2IDEzLjcwOTQ0NDIsOC4zNDI5NjM5NSBDMTMuNjk1ODMwMSw4LjM1NjQyMDM0IDEzLjY5NTgzMDEsOC4zNTY0MjAzNCAxMy42Njg2MDE5LDguMzU2NDIwMzQgWiBNNy43ODcyODk5NSwxNy4zMzE3NTExIEM3Ljc3MzY3NTgxLDE3LjM0NTIwNzQgNy43NjAwNjE2NywxNy4zNTg2NjM3IDcuNzQ2NDQ3NTIsMTcuMzU4NjYzNyBMMC4wNDA4NDI0Mjk4LDE1Ljc0MzkwOCBDMC4wMTM2MTQxNDMzLDE1Ljc0MzkwOCAwLDE1LjczMDQ1MTcgMCwxNS43MTY5OTU0IEMwLDE1LjcwMzUzOTEgMCwxNS42OTAwODI4IDAuMDEzNjE0MTQzMywxNS42NzY2MjY1IEw0LjMxNTY4MzQyLDExLjQyNDQzNjMgQzQuMzE1NjgzNDIsMTEuNDEwOTgwMSA0LjMyOTI5NzU2LDExLjQxMDk4MDEgNC4zNDI5MTE3MSwxMS40MTA5ODAxIEM0LjM3MDEzOTk5LDExLjQyNDQzNjMgNC4zNzAxMzk5OSwxMS40MjQ0MzYzIDQuMzgzNzU0MTMsMTEuNDM3ODkyNiBDNC4zODM3NTQxMywxMS40NTEzNDg5IDguMDczMTg2OTYsMTYuNzgwMDQyOSA4LjExNDAyOTM5LDE2LjgzMzg2ODEgQzguMTI3NjQzNTQsMTYuODQ3MzI0NCA4LjEyNzY0MzU0LDE2Ljg3NDIzNyA4LjExNDAyOTM5LDE2Ljg4NzY5MzMgQzcuOTkxNTAyMSwxNy4wMjIyNTYzIDcuODY4OTc0ODEsMTcuMTcwMjc1NSA3Ljc4NzI4OTk1LDE3LjMzMTc1MTEgWiBNNy4zNTE1NTc4MywxOC4yNDY3NDY0IEM3LjM3ODc4NTk0LDE4LjI0Njc0NjQgNy4zOTI0LDE4LjI2MDIwMjcgNy4zOTI0LDE4LjI4NzExNTEgQzcuMzkyNCwxOC4zMDA1NzEzIDcuMzc4Nzg1OTQsMTguMzE0MDI3NSA3LjM1MTU1NzgzLDE4LjM0MDkzOTkgTDMuNjM0OTIsMTkuOTE1MzE2NSBDMy42MzQ5MiwxOS45MTUzMTY1IDMuNjIxMzA1OTQsMTkuOTE1MzE2NSAzLjYwNzY5MTg4LDE5LjkwMTg2MDMgTDAuNjI2MjEzMTg1LDE2Ljk0MTQ5NDEgQzAuNjEyNTk5MTI3LDE2LjkyODAzNzggMC41OTg5ODUwNjksMTYuOTAxMTI1NCAwLjYxMjU5OTEyNywxNi44ODc2NjkyIEMwLjYyNjIxMzE4NSwxNi44NzQyMTMgMC42Mzk4MjcyNDMsMTYuODYwNzU2OCAwLjY2NzA1NTM1OSwxNi44NjA3NTY4IEw3LjM1MTU1NzgzLDE4LjI0Njc0NjQgWiIvPjwvc3ZnPg==);
}

.visuallyHidden {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
  white-space: nowrap;
}

.subheader {
  margin-top: 2em;
  border-top: 1px solid rgb(14, 30, 37);
}

.subheader h3 {
    padding-top: 1em;
    text-align: center;
  }
`,"",{version:3,sources:["webpack://components/modal.css"],names:[],mappings:"AAiBA;EACE,wBAAwB;EACxB,cAA0B;EAC1B,gBAAgB;AAClB;;AACA;EACE,gBAAgB;EAChB,cAA0B;EAC1B,gBAAgB;AAClB;;AACA;EACE,WAAW;EACX,cAA0B;EAC1B,gBAAgB;AAClB;;AACA;EACE,gBAAgB;EAChB,cAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,gBAAgB;EAChB,8BAAsB;UAAtB,sBAAsB;EACtB;+EAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,4BAAsB;EAAtB,6BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;EACtB,yBAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,cAAc;EACd,eAAe;EACf,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,mBAAY;MAAZ,oBAAY;UAAZ,YAAY;EACZ,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,4BAAsB;EAAtB,6BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,aAA2B;EAC3B,UAAU;EACV,4CAAoC;UAApC,oCAAoC;EACpC,gBAAgB;AAMlB;;AAJE;IACE,2EAAmE;YAAnE,mEAAmE;IACnE,qCAA6B;YAA7B,6BAA6B;EAC/B;;AAGF;EACE;IACE,UAAU;IACV,8CAAsC;YAAtC,sCAAsC;EACxC;;EAEA;IACE,UAAU;IACV,yCAAiC;YAAjC,iCAAiC;EACnC;AACF;;AAVA;EACE;IACE,UAAU;IACV,8CAAsC;YAAtC,sCAAsC;EACxC;;EAEA;IACE,UAAU;IACV,yCAAiC;YAAjC,iCAAiC;EACnC;AACF;;AAEA;EACE;IACE,iCAAkC;IAClC,sCAA8B;YAA9B,8BAA8B;IAC9B,qCAA6B;YAA7B,6BAA6B;EAC/B;;EAEA;IACE,gBAAgB;IAChB,wBAAuB;QAAvB,qBAAuB;YAAvB,uBAAuB;EACzB;;EAEA;IACE,gBAAgB;IAChB;wCACqC;YADrC;wCACqC;IACrC,kBAAkB;IAClB,gBAA8B;EAChC;AACF;;AAEA;EACE;IACE,UAAU;EACZ;;EAEA;IACE,aAAa;EACf;AACF;;AARA;EACE;IACE,UAAU;EACZ;;EAEA;IACE,aAAa;EACf;AACF;;AAEA;EACE,kBAAkB;EAClB,sBAAuB;EACvB,gBAAgB;EAChB,eAAe;EACf,yBAAyB;EACzB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ,uCAA+B;EAA/B,+BAA+B;AACjC;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,cAAwB;EACxB,yBAAyB;EACzB,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,qBAAqB;EACrB,kBAAkB;EAClB,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,YAAY;EACZ,mCAAmC;EACnC,yzCAAyzC;AAC3zC;;AAEA;AACA;;AAEA;EACE,aAAa;EACb,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,y2CAAy2C;EACz2C,2BAA2B;EAC3B,wBAAwB;EACxB,6BAA6B;EAC7B,0BAA0B;EAC1B,8CAAsC;UAAtC,sCAAsC;EACtC,oBAAoB;AACtB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE;IACE,0BAA0B;EAC5B;;EAEA;IACE,4BAA4B;EAC9B;AACF;;AARA;EACE;IACE,0BAA0B;EAC5B;;EAEA;IACE,4BAA4B;EAC9B;AACF;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,YAAY;EACZ,UAAU;EACV,eAAe;EACf,iCAAkC;EAClC,kBAAkB;EAClB,yBAAyB;EACzB,WAAW;EACX,8CAAsC;EAAtC,sCAAsC;EACtC;+EAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;;EAEE,iCAAkC;EAClC,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,UAAU;EACV,SAAS;EACT,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,gBAAgB;EAChB,cAA0B;AAC5B;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;AAClB;;AAEA;;EAEE,mBAAmB;EACnB,sBAAuB;AACzB;;AAEA;EACE,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,gBAAgB;EAChB,mBAAiC;AACnC;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,cAA0B;EAC1B,SAAS;EACT,gCAAgC;EAChC,0BAA0B;EAC1B,SAAS;AACX;;AAEA;;EAEE,gBAAgB;EAChB,sBAAuB;EACvB,6BAA8B;EAC9B,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,sBAAuB;AACzB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,YAAY;EACZ,iBAAiB;EACjB,UAAU;EACV,eAAe;EACf,sBAAuB;EACvB,YAAY;EACZ,gCAAgC;EAChC,gBAAgB;EAChB,yBAAyB;EACzB,0CAAkC;EAAlC,kCAAkC;EAClC;+EAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;;EAEE,yBAAyB;EACzB,qBAAiC;AACnC;;AAEA;AACA;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,8BAAsB;UAAtB,sBAAsB;EACtB,cAAc;EACd,WAAW;EACX,YAAY;EACZ,SAAS;EACT,0BAA0B;EAC1B,yBAAyB;EACzB,kBAAkB;EAClB,gBAAgB;EAChB,sBAAuB;EACvB,wBAAgB;UAAhB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,wDAAwC;EAAxC,gDAAwC;EAAxC,wCAAwC;EAAxC,8EAAwC;EACxC,wBAAwB;EACxB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,4BAA4B;EAC5B,2BAA2B;EAC3B,oBAAoB;AACtB;;AAEA;EACE,6jBAA6jB;AAC/jB;;AAEA;EACE,65DAA65D;AAC/5D;;AAEA;EACE,qkEAAqkE;AACvkE;;AAEA;EACE,yyCAAyyC;AAC3yC;;AAEA;AACA;;AAEA;EACE,SAAS;EACT,6BAA6B;EAC7B,mBAAiC;EACjC,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,cAAc;EACd,yBAAyB;EACzB,sBAAsB;EACtB,sBAAuB;EACvB,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,qBAAqB;EACrB,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,4BAA4B;EAC5B,gCAAgC;EAChC,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,yBAA4C;EAC5C,qBAA2C;AAC7C;;AAEA;;EAEE,yBAA+C;AACjD;;AAEA;EACE,sBAA4C;EAC5C,kBAA2C;AAC7C;;AAEA;;EAEE,sBAA+C;AACjD;;AAEA;EACE,yBAA4C;EAC5C,qBAA2C;AAC7C;;AAEA;;EAEE,yBAA+C;AACjD;;AAEA;EACE,yBAA+C;EAC/C,qBAA8C;AAChD;;AAEA;;EAEE,yBAAkD;AACpD;;AAEA;EACE,i9DAAi9D;AACn9D;;AAEA;EACE,ikKAAikK;AACnkK;;AAEA;EACE,imDAAimD;AACnmD;;AAEA;EACE,y2FAAy2F;AAC32F;;AAEA;EACE,cAAc;EACd,aAA2B;EAC3B,eAAe;EACf,gBAAgB;EAChB,qBAAqB;EACrB,cAA0B;EAC1B,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,iCAAyB;EAAzB,yBAAyB;AAC3B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,cAAc;EACd,YAAY;EACZ,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,qlYAAqlY;AACvlY;;AAEA;EACE,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,UAAU;EACV,kBAAkB;EAClB,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,qCAAqC;AAMvC;;AAJE;IACE,gBAAgB;IAChB,kBAAkB;EACpB",sourcesContent:[`:root {
  --baseColor: rgb(14, 30, 37);
  --subduedColor: #a3a9ac;
  --errorColor: #fa3946;
  --providerColorGoogle: #4285f4;
  --providerAltColorGoogle: #366dc7;
  --providerColorGitHub: #333;
  --providerAltColorGitHub: #000;
  --providerColorGitLab: #e24329;
  --providerAltColorGitLab: #b03320;
  --providerColorBitbucket: #205081;
  --providerAltColorBitbucket: #14314f;
  --fontFamily: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --basePadding: 32px;
}

::-webkit-input-placeholder {
  /* Chrome/Opera/Safari */
  color: var(--subduedColor);
  font-weight: 500;
}
::-moz-placeholder {
  /* Firefox 19+ */
  color: var(--subduedColor);
  font-weight: 500;
}
:-ms-input-placeholder {
  /* IE 10+ */
  color: var(--subduedColor);
  font-weight: 500;
}
:-moz-placeholder {
  /* Firefox 18- */
  color: var(--subduedColor);
  font-weight: 500;
}

.modalContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  font-family: var(--fontFamily);
  font-size: 14px;
  line-height: 1.5;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 99999;
}

.modalContainer::before {
  content: "";
  display: block;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: #fff;
  z-index: -1;
}

.modalDialog {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
}

.modalContent {
  position: relative;
  padding: var(--basePadding);
  opacity: 0;
  transform: translateY(10px) scale(1);
  background: #fff;

  [aria-hidden="false"] & {
    animation: bouncyEntrance 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
    animation-fill-mode: forwards;
  }
}

@keyframes bouncyEntrance {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (min-width: 480px) {
  .modalContainer::before {
    background-color: var(--baseColor);
    animation: fadeIn 0.1s ease-in;
    animation-fill-mode: forwards;
  }

  .modalDialog {
    max-width: 364px;
    justify-content: center;
  }

  .modalContent {
    background: #fff;
    box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.07),
      0 12px 32px 0 rgba(14, 30, 37, 0.1);
    border-radius: 8px;
    margin-top: var(--basePadding);
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 0.67;
  }
}

.flashMessage {
  text-align: center;
  color: var(--baseColor);
  font-weight: 500;
  font-size: 14px;
  background-color: #f2f3f3;
  padding: 6px;
  border-radius: 4px;
  opacity: 0.7;
  transition: opacity 0.2s linear;
}

.flashMessage:hover,
.flashMessage:focus {
  opacity: 1;
}

.error {
  color: var(--errorColor);
  background-color: #fceef0;
  opacity: 1;
}

.error span::before {
  content: "";
  display: inline-block;
  position: relative;
  top: 3px;
  margin-right: 4px;
  width: 16px;
  height: 16px;
  background: no-repeat center center;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsPSIjRkEzOTQ2IiBkPSJNOCwxLjMzMzMzMzMzIEMxMS42NzYsMS4zMzMzMzMzMyAxNC42NjY2NjY3LDQuMzI0IDE0LjY2NjY2NjcsOCBDMTQuNjY2NjY2NywxMS42NzYgMTEuNjc2LDE0LjY2NjY2NjcgOCwxNC42NjY2NjY3IEM0LjMyNCwxNC42NjY2NjY3IDEuMzMzMzMzMzMsMTEuNjc2IDEuMzMzMzMzMzMsOCBDMS4zMzMzMzMzMyw0LjMyNCA0LjMyNCwxLjMzMzMzMzMzIDgsMS4zMzMzMzMzMyBaIE04LDAgQzMuNTgyLDAgMCwzLjU4MiAwLDggQzAsMTIuNDE4IDMuNTgyLDE2IDgsMTYgQzEyLjQxOCwxNiAxNiwxMi40MTggMTYsOCBDMTYsMy41ODIgMTIuNDE4LDAgOCwwIFogTTcuMTI2NjY2NjcsNS4wMTczMzMzMyBDNy4wNjA2NjY2Nyw0LjQ3OTMzMzMzIDcuNDc4NjY2NjcsNCA4LjAyNTMzMzMzLDQgQzguNTM5MzMzMzMsNCA4Ljk0MzMzMzMzLDQuNDUwNjY2NjcgOC44Nzg2NjY2Nyw0Ljk2NzMzMzMzIEw4LjM3NCw5LjAwMjY2NjY3IEM4LjM1MDY2NjY3LDkuMTkxMzMzMzMgOC4xOSw5LjMzMzMzMzMzIDgsOS4zMzMzMzMzMyBDNy44MSw5LjMzMzMzMzMzIDcuNjQ5MzMzMzMsOS4xOTEzMzMzMyA3LjYyNTMzMzMzLDkuMDAyNjY2NjcgTDcuMTI2NjY2NjcsNS4wMTczMzMzMyBMNy4xMjY2NjY2Nyw1LjAxNzMzMzMzIFogTTgsMTIuMTY2NjY2NyBDNy41NCwxMi4xNjY2NjY3IDcuMTY2NjY2NjcsMTEuNzkzMzMzMyA3LjE2NjY2NjY3LDExLjMzMzMzMzMgQzcuMTY2NjY2NjcsMTAuODczMzMzMyA3LjU0LDEwLjUgOCwxMC41IEM4LjQ2LDEwLjUgOC44MzMzMzMzMywxMC44NzMzMzMzIDguODMzMzMzMzMsMTEuMzMzMzMzMyBDOC44MzMzMzMzMywxMS43OTMzMzMzIDguNDYsMTIuMTY2NjY2NyA4LDEyLjE2NjY2NjcgWiIvPgo8L3N2Zz4K);
}

.success {
}

.disabled {
  opacity: 0.38;
  pointer-events: none;
}

.infoText {
  text-align: center;
  margin: 32px 0;
}

.infoTextEmail {
  font-size: 16px;
  font-weight: 500;
}

.saving {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABQCAMAAACeYYN3AAAAxlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////DTx3aAAAAQnRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEGgjKRfAAACk0lEQVR4AYXQDXP5WhAG8CUhiSQqSv4RRRMVL1Fa1VZf3PL9v9Tde9wc9M8+P8/M7s6czJiHgNIvVCJO6YiAMlAiWckASiQrm4bJMZTDrmbBIEC9qpgVjp6n4B+oyEwCzKrMQBVaQIlkpmXZln1dhQB+49gOh5dLexlV6MhsAqyazEQVugCqsOK5nsQmwPWZ53ucvyczSGb4l9T9OsdnLgFOXVZFFd4AqEKrIasR4AdBI2hw1GR6VzMwSWY2A60ZNDl6KnUC3KbMRhXeAqhCpyXzCAjarNVucdqXVEhWaRfCdsj5vQcE1EOZQ7Jy+EcUlklWi2Q3BLQ6nagTcTra2Y0qrHZirRN3OOezTUAjvq4bd7suqpDfSGJUoXcnCwiIerIqqlC96vf6HD1ZsUcE3PYH/QGnrx3uYnqoQn4l6aMK/XtZi4BuIrNIZqVJkiapkhx37Y6AcDgcpsNU44Nz3OuoQn4jSVGFNw+ykID+SGaTzM5G2YiTFVM73AMConE2zjhj7XAXs4EqHE/4d12GKgwmsoiAZCpzSObMptPZdHZVSkCc5/ksnym8cPRUmiQzpvNcmedzTl4o7qlBsuZc1iVg9ChDFdYWshEBveV/FssFZ/l7Z7eowsfl0/JJ4UXj43A/ogpbT7IeAZNnWQ1VuJJNCBi8HKxeVhw9tRaq8JkfrV/WHDULxb1CFbbX7HX9yllfck9A/ipzSea+yeYEJO+yEFX4tim8b94VXjj/zzdU4Z/NmY/NB+fkTglYfMg8knmfsiUBD1+yCFX4+X309f3FOds/UYVR8fH2e6vwovExIuB5K/NJ5v8jWxGQ/chiVOF2d+pn98M5zt3WJFm83+/2O4UXjprabkzAWn+o56k9qvBfX4hMaM+SxOMAAAAASUVORK5CYII=);
  background-repeat: repeat-x;
  background-size: contain;
  background-origin: border-box;
  background-position: 0% 0%;
  animation: loading 20s linear infinite;
  pointer-events: none;
}

.saving::after {
  content: "";
}

@keyframes loading {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 700% 0%;
  }
}

.btn {
  display: block;
  position: relative;
  width: 100%;
  height: auto;
  margin: 14px 0 0;
  padding: 6px;
  outline: 0;
  cursor: pointer;
  border: 2px solid var(--baseColor);
  border-radius: 4px;
  background-color: #2d3b41;
  color: #fff;
  transition: background-color 0.2s ease;
  font-family: var(--fontFamily);
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
}

.btn:hover,
.btn:focus {
  background-color: var(--baseColor);
  text-decoration: none;
}

.btnClose {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  padding: 0;
  border: 0;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  margin: 6px;
  background: #fff;
  color: var(--subduedColor);
}

.btnClose::before {
  content: "";
  font-size: 25px;
  line-height: 9px;
}

.btnClose:hover,
.btnClose:focus {
  background: #e9ebeb;
  color: var(--baseColor);
}

.header {
  display: flex;
  margin-top: -8px;
  margin-bottom: var(--basePadding);
}

.btnHeader {
  font-size: 16px;
  line-height: 24px;
  background: #fff;
  color: var(--subduedColor);
  border: 0;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 4px 4px 0 0;
  margin: 0;
}

.btnHeader:focus,
.btnHeader.active {
  background: #fff;
  color: var(--baseColor);
  border-color: var(--baseColor);
  font-weight: 700;
}

.btnHeader:not(:only-child):hover {
  background-color: #e9ebeb;
  color: var(--baseColor);
}

.btnHeader:only-child {
  cursor: auto;
}

.btnLink {
  display: block;
  position: relative;
  width: auto;
  height: auto;
  margin: 14px auto 0;
  padding: 6px;
  padding-bottom: 0;
  outline: 0;
  cursor: pointer;
  color: var(--baseColor);
  border: none;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 0;
  background-color: inherit;
  transition: border-color 0.2s ease;
  font-family: var(--fontFamily);
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  white-space: nowrap;
}

.btnLink:hover,
.btnLink:focus {
  background-color: inherit;
  border-color: var(--subduedColor);
}

.form {
}

.formGroup {
  position: relative;
  margin-top: 14px;
}

.formControl {
  box-sizing: border-box;
  display: block;
  width: 100%;
  height: 40px;
  margin: 0;
  padding: 6px 12px 6px 34px;
  border: 2px solid #e9ebeb;
  border-radius: 4px;
  background: #fff;
  color: var(--baseColor);
  box-shadow: none;
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  transition: box-shadow ease-in-out 0.15s;
  -webkit-appearance: none;
  -moz-appearance: none;
}

.inputFieldIcon {
  position: absolute;
  top: 12px;
  left: 12px;
  display: inline-block;
  width: 16px;
  height: 16px;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
}

.inputFieldName {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTgsNyBDNi4zNDMxNDU3NSw3IDUsNS42NTY4NTQyNSA1LDQgQzUsMi4zNDMxNDU3NSA2LjM0MzE0NTc1LDEgOCwxIEM5LjY1Njg1NDI1LDEgMTEsMi4zNDMxNDU3NSAxMSw0IEMxMSw1LjY1Njg1NDI1IDkuNjU2ODU0MjUsNyA4LDcgWiBNOCwxNSBMMS41LDE1IEMxLjUsMTEuMTM0MDA2OCA0LjQxMDE0OTEzLDggOCw4IEMxMS41ODk4NTA5LDggMTQuNSwxMS4xMzQwMDY4IDE0LjUsMTUgTDgsMTUgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTEpIi8+PC9zdmc+);
}

.inputFieldEmail {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSIgdmlld0JveD0iMCAwIDE2IDExIj4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xLjE3MDczMTcxLDMgQzAuNTIyMTQ2MzQxLDMgMy45MDI0NTk4N2UtMDgsMy41NDUxMTA4MSAzLjkwMjQ1OTg3ZS0wOCw0LjIyMjIyMTU0IEwzLjkwMjQ1OTg3ZS0wOCwxMi43Nzc3Nzg1IEMzLjkwMjQ1OTg3ZS0wOCwxMy40NTQ4ODkyIDAuNTIyMTQ2MzQxLDE0IDEuMTcwNzMxNzEsMTQgTDE0LjgyOTI2ODMsMTQgQzE1LjQ3Nzg1MzcsMTQgMTYsMTMuNDU0ODg5MiAxNiwxMi43Nzc3Nzg1IEwxNiw0LjIyMjIyMTU0IEMxNiwzLjU0NTExMDgxIDE1LjQ3Nzg1MzcsMyAxNC44MjkyNjgzLDMgTDEuMTcwNzMxNzEsMyBaIE0yLjMzNzQyMTE5LDUuMDAxODY1NjYgQzIuNDU3NTExNzUsNC45ODk1NTIxNCAyLjU2MDcxNDU3LDUuMDM5MzM5OCAyLjYzNjM1OTg1LDUuMTE3Mjg0MzcgTDcuNDgyNjA2MTcsMTAuMTEzMjU0NSBDNy43ODQ0ODgyMiwxMC40MjQ3NDU1IDguMjAzMjc4MjksMTAuNDI0NzY2IDguNTA1ODk2MTksMTAuMTEzMjU0NSBMMTMuMzYzNjQwMiw1LjExNzI4NDM3IEMxMy41MDUxMjU1LDQuOTcxMjA0OTkgMTMuNzUyOTc3OSw0Ljk4MTg5NzIzIDEzLjg4MzkyMjIsNS4xMzk3MzYwMiBDMTQuMDE0ODY2NSw1LjI5NzU3NDgxIDE0LjAwNTI4MjEsNS41NzQwNzQ4OCAxMy44NjM3OTY3LDUuNzIwMTU0MjYgTDExLjExNTg2MDYsOC41NDg0MTE1MiBMMTMuODU4MDU3MSwxMS4yNjc2NDY5IEMxNC4wMjE3ODM1LDExLjQwMzE5ODIgMTQuMDQ4OTM2MywxMS43MDE0OTMyIDEzLjkxMjk4ODIsMTEuODcwOTg4OCBDMTMuNzc3MDQwMSwxMi4wNDA1MDQ5IDEzLjUwODI4OTcsMTIuMDQzNDE5MSAxMy4zNjkzOTgyLDExLjg3Njk0MDQgTDEwLjU3NTQ3MTUsOS4xMDYzOTg2MiBMOS4wMDYwNTI3NSwxMC43MTYxMjQ0IEM4LjQzNDk0MTk1LDExLjMwNDAzMzQgNy41NTMzMDI4NiwxMS4zMDUxNjIxIDYuOTgyNDY4LDEwLjcxNjEyNDQgTDUuNDI0NTI4NSw5LjEwNjM5ODYyIEwyLjYzMDYwMTgzLDExLjg3Njk0MDQgQzIuNDkxNzEwMzMsMTIuMDQzNDM5NyAyLjIyMjk1OTg4LDEyLjA0MDUyNTUgMi4wODcwMTE3OCwxMS44NzA5ODg4IEMxLjk1MTA2MzY3LDExLjcwMTQ5MzIgMS45NzgyMTY1LDExLjQwMzE5ODIgMi4xNDE5NDI5LDExLjI2NzY0NjkgTDQuODg0MTM5MzksOC41NDg0MTE1MiBMMi4xMzYyMDMyOCw1LjcyMDE1NDI2IEMyLjAyODcxNDE0LDUuNjE2MjI4MTYgMS45ODM1NTE0MSw1LjQzODk1NDUzIDIuMDI1OTkxNSw1LjI4NzQ5ODI1IEMyLjA2ODQxMzE5LDUuMTM2MDYyNDkgMi4xOTYwMjc4MSw1LjAxOTAyMjQ5IDIuMzM3NDIxMTksNS4wMDE4NjU2NiBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0zKSIvPjwvc3ZnPg==);
}

.inputFieldPassword {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDEyIDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0yLjQ0NTkxMDQ1LDMuNjQzMDg0MjcgQzIuNDQ1OTEwMzgsMi42NzY2MjEzNyAyLjgxODk3NTQ2LDEuNzQ5NzYzOTMgMy40ODI5OTUxOCwxLjA2NjUxMDUyIEM0LjE0NzAxNDksMC4zODMyNTcxMTEgNS4wNDc1NjY0MywtMC4wMDAzOTMwNDg2MTggNS45ODY0NDEwNSwzLjAyMTc0MDY5ZS0wNyBMNi4xMTc1MTg0NywzLjAyMTc0MDY5ZS0wNyBDOC4wNjkyOTIwNSwwLjAwMjQ1Mjc4Mzg0IDkuNjUwNzAwMTMsMS42MzA5OTI4MyA5LjY1MjI4NzQyLDMuNjQwMTE4NzkgTDkuNjUyMjg3NDIsNC42NzgwMzQ0NSBDOS4xMzk1MDEwNSw0LjcwMzI0MDk4IDguNjM2Nzk3NTYsNC43NDYyNDAzNCA4LjEzMTIxMzI1LDQuODAxMTAxNiBMOC4xMzEyMTMyNSwzLjY0MzA4NDI3IEM4LjEzMTIxMzI1LDIuNDk2NjM0MjkgNy4yMjgzNjE2LDEuNTY3MjUyOTUgNi4xMTQ2Mzc2NCwxLjU2NzI1Mjk1IEw1Ljk4MzU2MDIzLDEuNTY3MjUyOTUgQzQuODY5ODM2MjgsMS41NjcyNTI5NSAzLjk2Njk4NDYyLDIuNDk2NjM0MjkgMy45NjY5ODQ2MiwzLjY0MzA4NDI3IEwzLjk2Njk4NDYyLDMuOTYwMzg5OTEgQzMuOTY3NTc5ODgsNC4zNTY0OTE4MiAzLjY3NzAzNTY1LDQuNjg4ODc1OTUgMy4yOTQzMTI2Miw0LjcyOTkzMDI0IEwzLjI3ODQ2ODEsNC43Mjk5MzAyNCBDMy4wNjYyNDA5Miw0Ljc1MzUwMjk2IDIuODU0MjgyODcsNC42ODMxMDg3IDIuNjk1NDU2MTMsNC41MzYzMDM3NiBDMi41MzY2Mjk0LDQuMzg5NDk4ODIgMi40NDU5MDUzMyw0LjE4MDEyMTMzIDIuNDQ1OTEwNDUsMy45NjAzODk5MSBMMi40NDU5MTA0NSwzLjY0MzA4NDI3IFogTTExLjQxNjY2Niw3LjExNTY1MzUyIEwxMS40MTY2NjYsMTIuNjkwNzQzMyBDMTEuNDE3MDQwOCwxMy4wODMxMTQzIDExLjE0NTkyMDMsMTMuNDIwMTM3MSAxMC43NzEzNjE4LDEzLjQ5MjkwMzkgTDEwLjI5MDI2NDQsMTMuNTg2MzE2MyBDOC44NzYwNzU2NCwxMy44NjE1OTU5IDcuNDM5OTcxMzMsMTQuMDAwMDkzNyA2LjAwMDcyMDA1LDEzLjk5OTk5OTggQzQuNTYwOTg3NTgsMTQuMDAwMTg2MiAzLjEyNDM5Njg0LDEzLjg2MTY4OCAxLjcwOTczNTI0LDEzLjU4NjMxNjMgTDEuMjI4NjM3OTIsMTMuNDkyOTAzOSBDMC44NTQwNzk0MDcsMTMuNDIwMTM3MSAwLjU4Mjk1ODg2NywxMy4wODMxMTQzIDAuNTgzMzMzNzIyLDEyLjY5MDc0MzMgTDAuNTgzMzMzNzIyLDcuMTE1NjUzNTIgQzAuNTgyOTU4ODY3LDYuNzIzMjgyNTYgMC44NTQwNzk0MDcsNi4zODYyNTk4MSAxLjIyODYzNzkyLDYuMzEzNDkyOTkgTDEuMjk5MjE4MDYsNi4zMDAxNDgzNiBDNC40MDU5OTg0Nyw1LjY5NTEyMTY3IDcuNTk1NDQxNjIsNS42OTUxMjE2NyAxMC43MDIyMjIsNi4zMDAxNDgzNiBMMTAuNzcyODAyMiw2LjMxMzQ5Mjk5IEMxMS4xNDY3ODgsNi4zODY4ODY0NSAxMS40MTcxNzE2LDYuNzIzNzQ1MTYgMTEuNDE2NjY2LDcuMTE1NjUzNTIgWiIvPjwvc3ZnPg==);
}

.inputFieldUrl {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xMCw1IEMxMCwzLjg5NTQzMDUgOS4xMDQ1Njk1LDMgOCwzIEM2Ljg5NTQzMDUsMyA2LDMuODk1NDMwNSA2LDUgTTQsMTAgTDQsMTEgTDYsMTEgTDYsMTAgQzYsOS40NDc3MTUyNSA1LjU1MjI4NDc1LDkgNSw5IEM0LjQ0NzcxNTI1LDkgNCw5LjQ0NzcxNTI1IDQsMTAgWiBNMTIsMTAgQzEyLDkuNDQ3NzE1MjUgMTEuNTUyMjg0Nyw5IDExLDkgQzEwLjQ0NzcxNTMsOSAxMCw5LjQ0NzcxNTI1IDEwLDEwIEwxMCwxMSBMMTIsMTEgTDEyLDEwIFogTTYsNiBMNiw1IEw0LDUgTDQsNiBDNCw2LjU1MjI4NDc1IDQuNDQ3NzE1MjUsNyA1LDcgQzUuNTUyMjg0NzUsNyA2LDYuNTUyMjg0NzUgNiw2IFogTTEwLDYgQzEwLDYuNTUyMjg0NzUgMTAuNDQ3NzE1Myw3IDExLDcgQzExLjU1MjI4NDcsNyAxMiw2LjU1MjI4NDc1IDEyLDYgTDEyLDUgTDEwLDUgTDEwLDYgWiBNNCw1IEM0LDIuNzkwODYxIDUuNzkwODYxLDEgOCwxIEMxMC4yMDkxMzksMSAxMiwyLjc5MDg2MSAxMiw1IEw0LDUgWiBNNCwxMSBMMTIsMTEgQzEyLDEzLjIwOTEzOSAxMC4yMDkxMzksMTUgOCwxNSBDNS43OTA4NjEsMTUgNCwxMy4yMDkxMzkgNCwxMSBaIE0xMCwxMSBMNiwxMSBDNiwxMi4xMDQ1Njk1IDYuODk1NDMwNSwxMyA4LDEzIEM5LjEwNDU2OTUsMTMgMTAsMTIuMTA0NTY5NSAxMCwxMSBaIE04LDExIEM3LjQ0NzcxNTI1LDExIDcsMTAuNTUyMjg0NyA3LDEwIEw3LDYgQzcsNS40NDc3MTUyNSA3LjQ0NzcxNTI1LDUgOCw1IEM4LjU1MjI4NDc1LDUgOSw1LjQ0NzcxNTI1IDksNiBMOSwxMCBDOSwxMC41NTIyODQ3IDguNTUyMjg0NzUsMTEgOCwxMSBaIiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA4LjcwNyA2LjI5MykiLz48L3N2Zz4=);
}

.formLabel {
}

.hr {
  border: 0;
  border-top: 2px solid #e9ebeb;
  margin: var(--basePadding) 0 -1px;
  text-align: center;
  overflow: visible;
}

.hr::before {
  content: "or";
  position: relative;
  display: inline-block;
  font-size: 12px;
  font-weight: 800;
  line-height: 1;
  text-transform: uppercase;
  background-color: #fff;
  color: var(--baseColor);
  padding: 4px;
  top: -11px;
}

.btnProvider {
  padding-left: 40px;
  padding-right: 40px;
}

.btnProvider::before {
  content: "";
  position: absolute;
  display: inline-block;
  vertical-align: middle;
  width: 32px;
  height: 40px;
  background-repeat: no-repeat;
  background-position: left center;
  top: -2px;
  left: 14px;
}

.providerGoogle {
  background-color: var(--providerColorGoogle);
  border-color: var(--providerAltColorGoogle);
}

.providerGoogle:hover,
.providerGoogle:focus {
  background-color: var(--providerAltColorGoogle);
}

.providerGitHub {
  background-color: var(--providerColorGitHub);
  border-color: var(--providerAltColorGitHub);
}

.providerGitHub:hover,
.providerGitHub:focus {
  background-color: var(--providerAltColorGitHub);
}

.providerGitLab {
  background-color: var(--providerColorGitLab);
  border-color: var(--providerAltColorGitLab);
}

.providerGitLab:hover,
.providerGitLab:focus {
  background-color: var(--providerAltColorGitLab);
}

.providerBitbucket {
  background-color: var(--providerColorBitbucket);
  border-color: var(--providerAltColorBitbucket);
}

.providerBitbucket:hover,
.providerBitbucket:focus {
  background-color: var(--providerAltColorBitbucket);
}

.providerGoogle:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEzIDEyIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuNDg4IC0yKSI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0wLjY1MjczNDM3NSwzLjI5NTI4MjQ0IEMwLjIzNzk4NDM3NSw0LjEwNTgzMjA2IDIuODQyMTcwOTRlLTE0LDUuMDE2MDQ1OCAyLjg0MjE3MDk0ZS0xNCw1Ljk3OTM4OTMxIEMyLjg0MjE3MDk0ZS0xNCw2Ljk0MjczMjgyIDAuMjM3OTg0Mzc1LDcuODUyOTAwNzYgMC42NTI3MzQzNzUsOC42NjM0NTAzOCBDMS42NTkwNDY4NywxMC42MTY3MDIzIDMuNzI2MDkzNzUsMTEuOTU4Nzc4NiA2LjExOTUzMTI1LDExLjk1ODc3ODYgQzcuNzcxNzgxMjUsMTEuOTU4Nzc4NiA5LjE1ODg1OTM3LDExLjQyNzI1MTkgMTAuMTcyMDE1NiwxMC41MTA0NDI3IEMxMS4zMjc5MDYyLDkuNDY3MzU4NzggMTEuOTk0MjgxMiw3LjkzMjY0MTIyIDExLjk5NDI4MTIsNi4xMTIyNTk1NCBDMTEuOTk0MjgxMiw1LjYyMDYyNTk1IDExLjk1MzQ1MzEsNS4yNjE4NjI2IDExLjg2NTA5MzcsNC44ODk4MTY3OSBMNi4xMTk1MzEyNSw0Ljg4OTgxNjc5IEw2LjExOTUzMTI1LDcuMTA4ODA5MTYgTDkuNDkyMDQ2ODcsNy4xMDg4MDkxNiBDOS40MjQwNzgxMiw3LjY2MDI1OTU0IDkuMDU2OTA2MjUsOC40OTA3MzI4MiA4LjI0MDk1MzEyLDkuMDQ4Nzc4NjMgQzcuNzI0MjAzMTIsOS40MDA5MDA3NiA3LjAzMDY0MDYyLDkuNjQ2NzE3NTYgNi4xMTk1MzEyNSw5LjY0NjcxNzU2IEM0LjUwMTI2NTYyLDkuNjQ2NzE3NTYgMy4xMjc3ODEyNSw4LjYwMzY3OTM5IDIuNjM4MTcxODcsNy4xNjE5ODQ3MyBMMi42Mjg3MTIwNSw3LjE2Mjc2OTU5IEMyLjUwNTM0MTU4LDYuNzk3Mjk0NjggMi40MzQyMTg3NSw2LjM4MTEyMjg1IDIuNDM0MjE4NzUsNS45NzkzODkzMSBDMi40MzQyMTg3NSw1LjU2NzQ1MDM4IDIuNTA4OTg0MzgsNS4xNjg4Mzk2OSAyLjYzMTM3NSw0Ljc5Njc5Mzg5IEMzLjEyNzc4MTI1LDMuMzU1MDk5MjQgNC41MDEyNjU2MiwyLjMxMjAxNTI3IDYuMTE5NTMxMjUsMi4zMTIwMTUyNyBDNy4yNjg2MjUsMi4zMTIwMTUyNyA4LjA0Mzc1LDIuNzk3MDA3NjMgOC40ODU3MzQzNywzLjIwMjMwNTM0IEwxMC4yMTI3OTY5LDEuNTU0NjQxMjIgQzkuMTUyMTA5MzcsMC41OTEyOTc3MSA3Ljc3MTc4MTI1LDguODgxNzg0MmUtMTYgNi4xMTk1MzEyNSw4Ljg4MTc4NDJlLTE2IEMzLjcyNjA5Mzc1LDguODgxNzg0MmUtMTYgMS42NTkwNDY4NywxLjM0MjAzMDUzIDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgTDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMiAyKSIvPiAgPC9nPjwvc3ZnPg==);
}

.providerGitHub:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjAwMDA2NjI1LDAgQzMuNTgyMzMwNzksMCAwLDMuNjcyMzE1ODUgMCw4LjIwMjUzNzczIEMwLDExLjgyNjYzMzggMi4yOTIyNjI0OCwxNC45MDEyOTUgNS40NzA5MzM1NiwxNS45ODU5MDIzIEM1Ljg3MDc1MTM5LDE2LjA2MTgzMTUgNi4wMTc1MzY3NSwxNS44MDc5NjQyIDYuMDE3NTM2NzUsMTUuNTkxMzE0NCBDNi4wMTc1MzY3NSwxNS4zOTU3MTgzIDYuMDEwMTE3OTksMTQuNzQ5NTcyMiA2LjAwNjY3MzU2LDE0LjA2NDE3MTEgQzMuNzgxMDQ3NDEsMTQuNTYwMzYwMiAzLjMxMTQxMzc5LDEzLjA5NjM3ODEgMy4zMTE0MTM3OSwxMy4wOTYzNzgxIEMyLjk0NzQ5NzQsMTIuMTQ4MjgwNiAyLjQyMzE1MDUsMTEuODk2MTc5IDIuNDIzMTUwNSwxMS44OTYxNzkgQzEuNjk3MzA0OTEsMTEuMzg3MDg2IDIuNDc3ODYzNzksMTEuMzk3NTQ0OSAyLjQ3Nzg2Mzc5LDExLjM5NzU0NDkgQzMuMjgxMjA4ODcsMTEuNDU1NDA4NyAzLjcwNDIxMDMxLDEyLjI0MjgxODcgMy43MDQyMTAzMSwxMi4yNDI4MTg3IEM0LjQxNzczNTQ3LDEzLjQ5NjgwNjcgNS41NzU3MjM0NiwxMy4xMzQyNzQ4IDYuMDMyMjQxNzgsMTIuOTI0Njg4MiBDNi4xMDQwNDQ3MiwxMi4zOTQ1NDE0IDYuMzExMzcyNDQsMTIuMDMyNjg4NyA2LjU0MDE2MTQ0LDExLjgyNzg1NjIgQzQuNzYzMjM3NDQsMTEuNjIwNDQyOCAyLjg5NTMwMTE5LDEwLjkxNzExMjEgMi44OTUzMDExOSw3Ljc3NDEyNzk5IEMyLjg5NTMwMTE5LDYuODc4NTk2ODggMy4yMDc4MTYxOCw2LjE0Njg3NzU3IDMuNzE5NTc3NzMsNS41NzI0NDk5OSBDMy42MzY1MTQxNyw1LjM2NTg1MTY2IDMuMzYyNjgyNjgsNC41MzE1ODAxNyAzLjc5NzA3NzIxLDMuNDAxNzQxMzMgQzMuNzk3MDc3MjEsMy40MDE3NDEzMyA0LjQ2ODg3MTg4LDMuMTgxMjg4MjcgNS45OTc2NjUwNyw0LjI0MjUzMjY3IEM2LjYzNTgxMDQ0LDQuMDYwNzkxMzQgNy4zMjAxOTA0NCwzLjk2OTY0OTAyIDguMDAwMDY2MjUsMy45NjY1MjQ5MiBDOC42Nzk5NDIwNiwzLjk2OTY0OTAyIDkuMzY0ODUyLDQuMDYwNzkxMzQgMTAuMDA0MTg5Niw0LjI0MjUzMjY3IEMxMS41MzExMjgxLDMuMTgxMjg4MjcgMTIuMjAxOTk1NCwzLjQwMTc0MTMzIDEyLjIwMTk5NTQsMy40MDE3NDEzMyBDMTIuNjM3NDQ5OCw0LjUzMTU4MDE3IDEyLjM2MzQ4NTgsNS4zNjU4NTE2NiAxMi4yODA0MjIzLDUuNTcyNDQ5OTkgQzEyLjc5MzM3NjEsNi4xNDY4Nzc1NyAxMy4xMDM3NzE0LDYuODc4NTk2ODggMTMuMTAzNzcxNCw3Ljc3NDEyNzk5IEMxMy4xMDM3NzE0LDEwLjkyNDU4MjggMTEuMjMyMjU4MywxMS42MTgyNjk2IDkuNDUwODMwMDYsMTEuODIxMzM2MyBDOS43Mzc3NzY4NywxMi4wNzU4ODI5IDkuOTkzNDU4ODcsMTIuNTc1MDYwMiA5Ljk5MzQ1ODg3LDEzLjM0MDMyOTggQzkuOTkzNDU4ODcsMTQuNDM3ODQxMSA5Ljk4NDE4NTUsMTUuMzIxMTQ3MyA5Ljk4NDE4NTUsMTUuNTkxMzE0NCBDOS45ODQxODU1LDE1LjgwOTU5NDIgMTAuMTI4MTg4NywxNi4wNjUzNjMxIDEwLjUzMzcwMzEsMTUuOTg0ODE1NiBDMTMuNzEwNjUyLDE0Ljg5ODk4NTggMTYsMTEuODI1NDExMyAxNiw4LjIwMjUzNzczIEMxNiwzLjY3MjMxNTg1IDEyLjQxODE5OTIsMCA4LjAwMDA2NjI1LDAgWiBNMi45OTYyODQ5NiwxMS42ODQ2ODgyIEMyLjk3ODY2NTQxLDExLjcyNTQzNzMgMi45MTYxMzU5MSwxMS43Mzc2NjIxIDIuODU5MTcwNDgsMTEuNzA5NjgxIEMyLjgwMTE0NTIyLDExLjY4MjkyMjMgMi43Njg1NTU3MSwxMS42MjczNjc2IDIuNzg3MzY3NTUsMTEuNTg2NDgyNyBDMi44MDQ1ODk2NSwxMS41NDQ1MTEgMi44NjcyNTE2MiwxMS41MzI4Mjk1IDIuOTI1MTQ0MzksMTEuNTYwOTQ2NSBDMi45ODMzMDIxNCwxMS41ODc3MDUxIDMuMDE2NDIxNTcsMTEuNjQzODAzMSAyLjk5NjI4NDk2LDExLjY4NDY4ODIgWiBNMy4zODk3OTkzMiwxMi4wNDQ3MDI0IEMzLjM1MTY0NTc0LDEyLjA4MDk2OTEgMy4yNzcwNjA3NywxMi4wNjQxMjYxIDMuMjI2NDU0MjYsMTIuMDA2ODA1NyBDMy4xNzQxMjU1NSwxMS45NDk2MjEgMy4xNjQzMjIyMSwxMS44NzMxNDg0IDMuMjAzMDA1NywxMS44MzYzMzgyIEMzLjI0MjM1MTU5LDExLjgwMDA3MTUgMy4zMTQ2ODQ0NSwxMS44MTcwNTAzIDMuMzY3MTQ1NjQsMTEuODc0MjM1IEMzLjQxOTQ3NDMyLDExLjkzMjA5ODggMy40Mjk2NzUxMiwxMi4wMDgwMjgxIDMuMzg5Nzk5MzIsMTIuMDQ0NzAyNCBaIE0zLjY1OTc2NTA4LDEyLjUwNTMyODMgQzMuNjEwNzQ4MzMsMTIuNTQwMjM2OCAzLjUzMDU5OTI5LDEyLjUwNzUwMTUgMy40ODEwNTI2MSwxMi40MzQ1NjA2IEMzLjQzMjAzNTgzLDEyLjM2MTYxOTUgMy40MzIwMzU4MywxMi4yNzQxNDQ2IDMuNDgyMTEyNDQsMTIuMjM5MTAwMyBDMy41MzE3OTE1NywxMi4yMDQwNTYgMy42MTA3NDgzMywxMi4yMzU1Njg4IDMuNjYwOTU3MzgsMTIuMzA3OTY2NSBDMy43MDk4NDE2OCwxMi4zODIxMjk5IDMuNzA5ODQxNjgsMTIuNDY5NjA0OCAzLjY1OTc2NTA4LDEyLjUwNTMyODMgWiBNNC4xMTYzMzQ5NSwxMy4wMzg3OTgxIEM0LjA3MjQ4NDgyLDEzLjA4ODM3NjQgMy45NzkwODgwMiwxMy4wNzUwNjUgMy45MTA3Mjk0OCwxMy4wMDc0MjE0IEMzLjg0MDc4MTI0LDEyLjk0MTI3MTggMy44MjEzMDcwMSwxMi44NDc0MTI5IDMuODY1Mjg5NjMsMTIuNzk3ODM0NyBDMy45MDk2Njk2NiwxMi43NDgxMjA3IDQuMDAzNTk2MzksMTIuNzYyMTExMyA0LjA3MjQ4NDgyLDEyLjgyOTIxMTYgQzQuMTQxOTAzMTYsMTIuODk1MjI1MyA0LjE2MzA5OTYsMTIuOTg5NzYzNCA0LjExNjMzNDk1LDEzLjAzODc5ODEgWiBNNC43MDY0MDcxOSwxMy4yMTg4OTE2IEM0LjY4NzA2NTQ2LDEzLjI4MzEzOTUgNC41OTcxMTMwNiwxMy4zMTIzNDMgNC41MDY0OTgyNywxMy4yODUwNDExIEM0LjQxNjAxNTk3LDEzLjI1NjkyNDIgNC4zNTY3OTg0MiwxMy4xODE2NzQxIDQuMzc1MDgwMzYsMTMuMTE2NzQ3IEM0LjM5Mzg5MjE5LDEzLjA1MjA5MTcgNC40ODQyNDIwMSwxMy4wMjE2NjU2IDQuNTc1NTE5MTgsMTMuMDUwODY5MiBDNC42NjU4NjkwMSwxMy4wNzg4NTAzIDQuNzI1MjE5MDUsMTMuMTUzNTU3MSA0LjcwNjQwNzE5LDEzLjIxODg5MTYgWiBNNS4zNzc5MzQxOSwxMy4yOTUyODI1IEM1LjM4MDE4NjI5LDEzLjM2MjkyNjEgNS4zMDMzNDkxOSwxMy40MTkwMjQxIDUuMjA4MjMwMTgsMTMuNDIwMjQ2NyBDNS4xMTI1ODEyNSwxMy40MjI0MiA1LjAzNTIxNDI1LDEzLjM2NzY4MDMgNS4wMzQxNTQ0MiwxMy4zMDExMjMyIEM1LjAzNDE1NDQyLDEzLjIzMjgwMDUgNS4xMDkyNjkzLDEzLjE3NzI0NTggNS4yMDQ5MTgyMywxMy4xNzU2MTU4IEM1LjMwMDAzNzI2LDEzLjE3MzcxNDIgNS4zNzc5MzQxOSwxMy4yMjgwNDY0IDUuMzc3OTM0MTksMTMuMjk1MjgyNSBaIE02LjAzNzYzNDE5LDEzLjI2OTM1NDggQzYuMDQ5MDI3MjksMTMuMzM1MzY4NSA1Ljk4MjkyMDg4LDEzLjQwMzE0NzkgNS44ODg0NjQyNSwxMy40MjEyMTM0IEM1Ljc5NTU5NzM2LDEzLjQzODU5OTcgNS43MDk2MTkyOSwxMy4zOTc4NTA1IDUuNjk3ODI4NzcsMTMuMzMyMzgwMiBDNS42ODYzMDMyMiwxMy4yNjQ3MzY1IDUuNzUzNjAxOTEsMTMuMTk2OTU3MSA1Ljg0NjMzNjMzLDEzLjE3OTQzNSBDNS45NDA5MjU0NCwxMy4xNjI1OTIgNi4wMjU1Nzg3MiwxMy4yMDIyNTQ1IDYuMDM3NjM0MTksMTMuMjY5MzU0OCBaIi8+ICA8L2c+PC9zdmc+);
}

.providerGitLab:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDE0IDEzIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTIpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBMNC40MjgwOTMzMyw0Ljk5NzI4MjU0IEw5LjU4MDA5MzM2LDQuOTk3MjgyNTQgTDcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBaIE03LjAwNDA5MzM2LDEyLjk0OTIzIEwwLjgxNzg5MzMzMyw0Ljk5NzI2OTE3IEw0LjQyODA5MzMzLDQuOTk3MjY5MTcgTDcuMDA0MDkzMzYsMTIuOTQ5MjMgWiBNMC44MTc4OTk5OTksNC45OTcyODkyMyBMNy4wMDQwOTk5OCwxMi45NDkyNSBMMC4yMjg4MzMzMzMsOC4wMTE4ODA4IEMwLjA0MTksNy44NzU2NzE1MiAtMC4wMzYzLDcuNjM0MjEyNyAwLjAzNTEsNy40MTM4MTcxMiBMMC44MTc4OTk5OTksNC45OTcyODkyMyBaIE0wLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIEwyLjM2OTM2NjY3LDAuMjA3OTA0NzE0IEMyLjQ0OTE2NjY3LC0wLjAzODUwMjM1ODggMi43OTY3NjY2NywtMC4wMzg1NjkyMjY1IDIuODc2NTY2NjcsMC4yMDc5MDQ3MTQgTDQuNDI4MSw0Ljk5NzI5NTkxIEwwLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIFogTTcuMDA0MDkzMzYsMTIuOTQ5MjMgTDkuNTgwMDkzMzYsNC45OTcyNjkxNyBMMTMuMTkwMjkzMyw0Ljk5NzI2OTE3IEw3LjAwNDA5MzM2LDEyLjk0OTIzIFogTTEzLjE5MDI5MzMsNC45OTcyODkyMyBMMTMuOTczMDkzMyw3LjQxMzgxNzEyIEMxNC4wNDQ0OTMzLDcuNjM0MjEyNyAxMy45NjYyOTM0LDcuODc1NjcxNTIgMTMuNzc5MzYsOC4wMTE4ODA4IEw3LjAwNDA5MzM2LDEyLjk0OTI1IEwxMy4xOTAyOTMzLDQuOTk3Mjg5MjMgWiBNMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIEw5LjU4MDA5MzM2LDQuOTk3Mjk1OTEgTDExLjEzMTYyNjcsMC4yMDc5MDQ3MTQgQzExLjIxMTQyNjcsLTAuMDM4NTY5MjI2NSAxMS41NTkwMjY3LC0wLjAzODUwMjM1ODggMTEuNjM4ODI2NywwLjIwNzkwNDcxNCBMMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMikiLz4gIDwvZz48L3N2Zz4=);
}

.providerBitbucket:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE0IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSkiPiAgICAgIDxwYXRoIGQ9Ik03LDIuNDk4OTQxODdlLTA3IEw3LDIuNDk4OTQxODdlLTA3IEMzLjE1NzIxMjI5LDIuNDk4OTQxODdlLTA3IDAuMDAwNjM2NTM1NDM1LDEuMDIwODQ0MjQgMC4wMDA2MzY1MzU0MzUsMi4zMTM5MTM1OSBDMC4wMDA2MzY1MzU0MzUsMi42NTQxOTUxMyAwLjgyNDA5MTAyMyw3LjQ4NjE5MiAxLjE2NzE5NzE3LDkuMzkxNzY3NTkgQzEuMzA0NDM5MzcsMTAuMjc2NDk5OSAzLjU2ODkzOTUzLDExLjUwMTUxMyA3LDExLjUwMTUxMyBMNywxMS41MDE1MTMgQzEwLjQzMTA2MDIsMTEuNTAxNTEzIDEyLjYyNjkzODYsMTAuMjc2NDk5OSAxMi44MzI4MDMyLDkuMzkxNzY3NTkgQzEzLjE3NTkwODYsNy40ODYxOTIgMTMuOTk5MzYzMiwyLjY1NDE5NTEzIDEzLjk5OTM2MzIsMi4zMTM5MTM1OSBDMTMuOTMwNzQyMSwxLjAyMDg0NDI0IDEwLjg0Mjc4NzQsMi40OTg5NDE4N2UtMDcgNywyLjQ5ODk0MTg3ZS0wNyBMNywyLjQ5ODk0MTg3ZS0wNyBaIE03LDkuOTM2MjE4MzEgQzUuNzY0ODE4MjgsOS45MzYyMTgzMSA0LjgwNDEyMTI2LDguOTgzNDI5ODYgNC44MDQxMjEyNiw3Ljc1ODQxNjcxIEM0LjgwNDEyMTI2LDYuNTMzNDAzNTUgNS43NjQ4MTgyOCw1LjU4MDYxNTk3IDcsNS41ODA2MTU5NyBDOC4yMzUxODExMiw1LjU4MDYxNTk3IDkuMTk1ODc4NCw2LjUzMzQwMzU1IDkuMTk1ODc4NCw3Ljc1ODQxNjcxIEM5LjE5NTg3ODQsOC45MTUzNzM3MiA4LjIzNTE4MTEyLDkuOTM2MjE4MzEgNyw5LjkzNjIxODMxIEw3LDkuOTM2MjE4MzEgWiBNNywyLjk5NDQ3NjY3IEM0LjUyOTYzNjIyLDIuOTk0NDc2NjcgMi41Mzk2MjExLDIuNTg2MTM4OTUgMi41Mzk2MjExLDIuMDQxNjg4ODYgQzIuNTM5NjIxMSwxLjQ5NzIzODE1IDQuNTI5NjM2MjIsMS4wODg5MDA0MyA3LDEuMDg4OTAwNDMgQzkuNDcwMzYyODQsMS4wODg5MDA0MyAxMS40NjAzNzg2LDEuNDk3MjM4MTUgMTEuNDYwMzc4NiwyLjA0MTY4ODg2IEMxMS40NjAzNzg2LDIuNTg2MTM4OTUgOS40NzAzNjI4NCwyLjk5NDQ3NjY3IDcsMi45OTQ0NzY2NyBMNywyLjk5NDQ3NjY3IFoiLz4gICAgICA8cGF0aCBkPSJNMTIuMDY0NTA5NiwxMS4yMjkyODc2IEMxMS45MjcyNjY3LDExLjIyOTI4NzYgMTEuODU4NjQ1NywxMS4yOTczNDM4IDExLjg1ODY0NTcsMTEuMjk3MzQzOCBDMTEuODU4NjQ1NywxMS4yOTczNDM4IDEwLjE0MzExNTYsMTIuNjU4NDcgNy4wNTUxNjA5MywxMi42NTg0NyBDMy45NjcyMDY4NywxMi42NTg0NyAyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4yNTE2NzYxNiwxMS4yOTczNDM4IEMyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4xMTQ0MzM5NSwxMS4yMjkyODc2IDIuMDQ1ODEyODUsMTEuMjI5Mjg3NiBDMS45MDg1NzAwMiwxMS4yMjkyODc2IDEuNzcxMzI3ODEsMTEuMjk3MzQzOCAxLjc3MTMyNzgxLDExLjUwMTUxMyBMMS43NzEzMjc4MSwxMS41Njk1NjkyIEMyLjA0NTgxMjg1LDEyLjk5ODc1MTYgMi4yNTE2NzYxNiwxNC4wMTk1OTU2IDIuMjUxNjc2MTYsMTQuMTU1NzA3OSBDMi40NTc1NDAwOSwxNS4xNzY1NTI1IDQuNTE2MTc2MzIsMTUuOTkzMjI4IDYuOTg2NTM5ODIsMTUuOTkzMjI4IEw2Ljk4NjUzOTgyLDE1Ljk5MzIyOCBDOS40NTY5MDMzMSwxNS45OTMyMjggMTEuNTE1NTM5NSwxNS4xNzY1NTI1IDExLjcyMTQwMzUsMTQuMTU1NzA3OSBDMTEuNzIxNDAzNSwxNC4wMTk1OTU2IDExLjkyNzI2NjcsMTIuOTk4NzUxNiAxMi4yMDE3NTE4LDExLjU2OTU2OTIgTDEyLjIwMTc1MTgsMTEuNTAxNTEzIEMxMi4yNzAzNzI5LDExLjM2NTQgMTIuMjAxNzUxOCwxMS4yMjkyODc2IDEyLjA2NDUwOTYsMTEuMjI5Mjg3NiBMMTIuMDY0NTA5NiwxMS4yMjkyODc2IFoiLz4gICAgICA8ZWxsaXBzZSBjeD0iNyIgY3k9IjcuNjkiIHJ4PSIxLjA5OCIgcnk9IjEuMDg5Ii8+ICAgIDwvZz4gIDwvZz48L3N2Zz4=);
}

.callOut {
  display: block;
  padding: var(--basePadding);
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  color: var(--subduedColor);
  text-align: center;
}

.callOut:after {
  content: " ";
  transition: color 4s ease;
}

.callOut:hover:after {
  color: red;
}

.callOut .netlifyLogo {
  display: block;
  margin: auto;
  width: 32px;
  height: 32px;
  margin-bottom: 8px;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4gIDxkZWZzPiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN5PSIwJSIgcj0iMTAwJSIgZng9IjUwJSIgZnk9IjAlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAgMSAtMS4xNTE4NSAwIC41IC0uNSkiPiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMyMEM2QjciIG9mZnNldD0iMCUiLz4gICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEQ5QUJGIiBvZmZzZXQ9IjEwMCUiLz4gICAgPC9yYWRpYWxHcmFkaWVudD4gIDwvZGVmcz4gIDxwYXRoIGZpbGw9InVybCgjYSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIyLjk4MDYyMywxMS42MjYyMzc3IEMyMi44NzE3MTA3LDExLjUwNTEzMDYgMjIuNzM1NTcwNCwxMS4zOTc0Nzk4IDIyLjU3MjIwMjEsMTEuMzE2NzQxOCBDMjIuNTU4NTg4MSwxMS4zMTY3NDE4IDIyLjU0NDk3NCwxMS4yODk4MjkxIDIyLjUzMTM2LDExLjI3NjM3MjcgTDIzLjE3MTIxOTQsNy4zNjA1NzY2MSBDMjMuMTcxMjE5NCw3LjMzMzY2MzkyIDIzLjE4NDgzMzQsNy4zMjAyMDc1OCAyMy4xOTg0NDc1LDcuMzIwMjA3NTggTDIzLjIxMjA2MTUsNy4zMjAyMDc1OCBDMjMuMjEyMDYxNSw3LjMyMDIwNzU4IDIzLjIyNTY3NTUsNy4zMjAyMDc1OCAyMy4yMzkyODk2LDcuMzMzNjYzOTIgTDI2LjE2NjMwNiwxMC4yMjY3Nzc5IEMyNi4xNzk5MiwxMC4yNDAyMzQzIDI2LjE3OTkyLDEwLjI1MzY5MDYgMjYuMTc5OTIsMTAuMjY3MTQ2OSBDMjYuMTc5OTIsMTAuMjgwNjAzMyAyNi4xNjYzMDYsMTAuMjk0MDU5NiAyNi4xNTI2OTE5LDEwLjMwNzUxNiBMMjMuMDIxNDY1MSwxMS42Mzk2OTQgTDIzLjAwNzg1MSwxMS42Mzk2OTQgQzIyLjk5NDIzNywxMS42Mzk2OTQgMjIuOTk0MjM3LDExLjYzOTY5NCAyMi45ODA2MjMsMTEuNjI2MjM3NyBaIE0xNi4zNTA1NzM2LDkuNDU5NzM4MSBDMTYuMzIzMzQ1Myw5LjE5MDYxMjc0IDE2LjIyODA0NjMsOC45MjE0ODczOCAxNi4wNzgyOTA2LDguNjkyNzMwODMgQzE2LjA2NDY3NjUsOC42NzkyNzQ1NiAxNi4wNjQ2NzY1LDguNjUyMzYyMDIgMTYuMDc4MjkwNiw4LjYyNTQ0OTQ5IEwxOS4zNTkzMDEsMy41Mzg5ODAyMiBDMTkuMzU5MzAxLDMuNTI1NTIzOTUgMTkuMzcyOTE1MSwzLjUxMjA2NzY4IDE5LjM4NjUyOTMsMy41MTIwNjc2OCBDMTkuNDAwMTQzNCwzLjUxMjA2NzY4IDE5LjQwMDE0MzQsMy41MTIwNjc2OCAxOS40MTM3NTc2LDMuNTI1NTIzOTUgTDIyLjMyNzE4NTgsNi40MTg2MjE1NSBDMjIuMzQwOCw2LjQzMjA3NzgyIDIyLjM0MDgsNi40NDU1MzQwOSAyMi4zNDA4LDYuNDU4OTkwMzUgTDIxLjU3ODQwNzYsMTEuMTgyMTQwNCBDMjEuNTc4NDA3NiwxMS4yMDkwNTI5IDIxLjU2NDc5MzQsMTEuMjIyNTA5MiAyMS41NTExNzkzLDExLjIyMjUwOTIgQzIxLjM3NDE5NTMsMTEuMjc2MzM0MyAyMS4yMTA4MjU1LDExLjM1NzA3MTkgMjEuMDc0Njg0LDExLjQ2NDcyMiBDMjEuMDc0Njg0LDExLjQ3ODE3ODMgMjEuMDYxMDY5OCwxMS40NzgxNzgzIDIxLjAzMzg0MTUsMTEuNDc4MTc4MyBMMTYuMzc3ODAxOSw5LjUwMDEwNjkgQzE2LjM2NDE4NzgsOS40ODY2NTA2MyAxNi4zNTA1NzM2LDkuNDczMTk0MzcgMTYuMzUwNTczNiw5LjQ1OTczODEgWiBNMjYuOTgzMTkwNywxMS4wMjA3NjY5IEwzMS45Nzk1Nzg4LDE1Ljk3MjY2NCBDMzIuMDA2ODA3MSwxNS45ODYxMjAyIDMyLjAwNjgwNzEsMTYuMDI2NDg4OSAzMS45Nzk1Nzg4LDE2LjAyNjQ4ODkgTDMxLjk1MjM1MDUsMTYuMDUzNDAxNCBDMzEuOTUyMzUwNSwxNi4wNjY4NTc3IDMxLjkzODczNjQsMTYuMDY2ODU3NyAzMS45MTE1MDgxLDE2LjA2Njg1NzcgTDIzLjU1MjQyODMsMTIuNTI3ODY2IEMyMy41Mzg4MTQxLDEyLjUyNzg2NiAyMy41MjUyLDEyLjUwMDk1MzUgMjMuNTI1MiwxMi40ODc0OTczIEMyMy41MjUyLDEyLjQ3NDA0MSAyMy41Mzg4MTQxLDEyLjQ2MDU4NDggMjMuNTUyNDI4MywxMi40NDcxMjg2IEwyNi45NTU5NjI0LDExLjAwNzMxMDcgQzI2Ljk1NTk2MjQsMTEuMDA3MzEwNyAyNi45Njk1NzY1LDExLjAwNzMxMDcgMjYuOTgzMTkwNywxMS4wMjA3NjY5IFogTTIzLjEzMDQzNjMsMTMuMzg5MDg4MSBMMzEuMTQ5MTg1OCwxNi43ODAwNzYxIEMzMS4xNjI4LDE2Ljc5MzUzMjQgMzEuMTYyOCwxNi44MDY5ODg3IDMxLjE2MjgsMTYuODIwNDQ1IEMzMS4xNjI4LDE2LjgzMzkwMTMgMzEuMTYyOCwxNi44NDczNTc2IDMxLjE0OTE4NTgsMTYuODYwODEzOSBMMjYuNzEwOTY0NSwyMS4yNjEwMjQ1IEMyNi43MTA5NjQ1LDIxLjI3NDQ4MDggMjYuNjk3MzUwMywyMS4yNzQ0ODA4IDI2LjY3MDEyMiwyMS4yNzQ0ODA4IEwyMS44MjM0NzU0LDIwLjI2NTI1ODIgQzIxLjc5NjI0NywyMC4yNjUyNTgyIDIxLjc4MjYzMjksMjAuMjUxODAxOSAyMS43ODI2MzI5LDIwLjIyNDg4OTMgQzIxLjc0MTc5MDMsMTkuODQ4MTEyOCAyMS41NjQ4MDYsMTkuNTExNzA1MyAyMS4yNjUyOTQyLDE5LjI4Mjk0ODEgQzIxLjI1MTY4LDE5LjI2OTQ5MTggMjEuMjUxNjgsMTkuMjU2MDM1NSAyMS4yNTE2OCwxOS4yNDI1NzkyIEwyMi4xMDkzNzMxLDEzLjk4MTE2NTMgQzIyLjEwOTM3MzEsMTMuOTU0MjUyNyAyMi4xMzY2MDE0LDEzLjk0MDc5NjQgMjIuMTUwMjE1NiwxMy45NDA3OTY0IEMyMi41MzE0MTI1LDEzLjg4Njk3MTIgMjIuODU4MTUyNywxMy42OTg1ODMgMjMuMDc1OTc5NiwxMy40MDI1NDQ0IEMyMy4wODk1OTM3LDEzLjM4OTA4ODEgMjMuMTAzMjA3OSwxMy4zODkwODgxIDIzLjEzMDQzNjMsMTMuMzg5MDg4MSBaIE0xNi4xNDYzNzksMTAuNDI4Njg1OSBMMjAuNTMwMTMxNywxMi4yODU2NTMyIEMyMC41NDM3NDU5LDEyLjI5OTEwOTUgMjAuNTU3MzYsMTIuMzEyNTY1OCAyMC41NTczNiwxMi4zMzk0NzgzIEMyMC41NDM3NDU5LDEyLjQwNjc1OTggMjAuNTMwMTMxNywxMi40ODc0OTc1IDIwLjUzMDEzMTcsMTIuNTY4MjM1MiBMMjAuNTMwMTMxNywxMi42MzU1MTY2IEwyMC41MzAxMzE3LDEyLjY4OTM0MTcgQzIwLjUzMDEzMTcsMTIuNzAyNzk4IDIwLjUxNjUxNzYsMTIuNzE2MjU0MyAyMC41MDI5MDM0LDEyLjcyOTcxMDYgQzIwLjUwMjkwMzQsMTIuNzI5NzEwNiAxMC44Nzc3MDcyLDE2LjgzMzg3NzUgMTAuODY0MDkzLDE2LjgzMzg3NzUgQzEwLjg1MDQ3ODksMTYuODMzODc3NSAxMC44MzY4NjQ3LDE2LjgzMzg3NzUgMTAuODIzMjUwNiwxNi44MjA0MjEyIEMxMC44MDk2MzY1LDE2LjgwNjk2NDkgMTAuODA5NjM2NSwxNi43ODAwNTI0IDEwLjgyMzI1MDYsMTYuNzY2NTk2MSBMMTQuNDMwOTk3NCwxMS4xODIyMzc4IEMxNC40NDQ2MTE2LDExLjE2ODc4MTUgMTQuNDU4MjI1NywxMS4xNTUzMjUzIDE0LjQ4NTQ1NCwxMS4xNTUzMjUzIEMxNC41ODA3NTMsMTEuMTY4NzgxNSAxNC42NjI0Mzc4LDExLjE4MjIzNzggMTQuNzQ0MTIyNiwxMS4xODIyMzc4IEMxNS4yODg2ODgyLDExLjE4MjIzNzggMTUuNzkyNDExMywxMC45MTMxMTIxIDE2LjA5MTkyMjQsMTAuNDU1NTk4NCBDMTYuMTA1NTM2NSwxMC40NDIxNDIyIDE2LjExOTE1MDcsMTAuNDI4Njg1OSAxNi4xNDYzNzksMTAuNDI4Njg1OSBaIE0yMS41NTExNDI5LDIxLjE4MDI0MzMgTDI1LjgxMjM3MTcsMjIuMDU0OTA1MyBDMjUuODI1OTg1OSwyMi4wNTQ5MDUzIDI1LjgzOTYsMjIuMDY4MzYxNiAyNS44Mzk2LDIyLjEwODczMDcgQzI1LjgzOTYsMjIuMTIyMTg3IDI1LjgzOTYsMjIuMTM1NjQzMyAyNS44MjU5ODU5LDIyLjE0OTA5OTcgTDE5LjkxNzQ0NDksMjguMDAyNjA3MiBDMTkuOTE3NDQ0OSwyOC4wMTYwNjM2IDE5LjkwMzgzMDcsMjguMDE2MDYzNiAxOS44OTAyMTY2LDI4LjAxNjA2MzYgTDE5Ljg2Mjk4ODMsMjguMDE2MDYzNiBDMTkuODQ5Mzc0MSwyOC4wMDI2MDcyIDE5LjgzNTc2LDI3Ljk4OTE1MDkgMTkuODM1NzYsMjcuOTYyMjM4MiBMMjAuODU2ODIxMiwyMS42OTE1ODQxIEMyMC44NTY4MjEyLDIxLjY3ODEyNzggMjAuODcwNDM1NCwyMS42NTEyMTUxIDIwLjg4NDA0OTUsMjEuNjUxMjE1MSBDMjEuMTI5MTA0MiwyMS41NTcwMjA4IDIxLjMzMzMxNjUsMjEuMzk1NTQ0NyAyMS40OTY2ODYzLDIxLjE5MzY5OTYgQzIxLjUxMDMwMDQsMjEuMTkzNjk5NiAyMS41MjM5MTQ2LDIxLjE4MDI0MzMgMjEuNTUxMTQyOSwyMS4xODAyNDMzIFogTTE5LjA0NjE2NzksMjAuNjgyNDAzIEMxOS4xNTUwODE0LDIxLjA5OTU0ODcgMTkuNDU0NTkzMywyMS40NjI4NjkyIDE5Ljg2MzAxODcsMjEuNjI0MzQ0OSBDMTkuODkwMjQ3MSwyMS42Mzc4MDEyIDE5Ljg5MDI0NzEsMjEuNjY0NzEzOSAxOS44NjMwMTg3LDIxLjY2NDcxMzkgQzE5Ljg2MzAxODcsMjEuNjY0NzEzOSAxOC42MjQxMjgzLDI5LjIxMzcwNTQgMTguNjI0MTI4MywyOS4yMjcxNjE3IEwxOC4xODg0NzQ2LDI5LjY1Nzc2MzcgQzE4LjE4ODQ3NDYsMjkuNjcxMjIwMSAxOC4xNzQ4NjA0LDI5LjY3MTIyMDEgMTguMTYxMjQ2MiwyOS42NzEyMjAxIEMxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xMzQwMTc4LDI5LjY1Nzc2MzcgTDEwLjk0NTczMDYsMTkuMjY5NDkwMSBDMTAuOTMyMTE2NSwxOS4yNTYwMzM4IDEwLjkzMjExNjUsMTkuMjI5MTIxMiAxMC45NDU3MzA2LDE5LjIxNTY2NDkgQzEwLjk4NjU3MzIsMTkuMTYxODM5NiAxMS4wMTM4MDE1LDE5LjEwODAxNDQgMTEuMDU0NjQ0MSwxOS4wNDA3MzI4IEMxMS4wNjgyNTgzLDE5LjAyNzI3NjUgMTEuMDgxODcyNCwxOS4wMTM4MjAyIDExLjEwOTEwMDgsMTkuMDEzODIwMiBMMTkuMDA1MzI1NCwyMC42NDIwMzQxIEMxOS4wMzI1NTM3LDIwLjY1NTQ5MDQgMTkuMDQ2MTY3OSwyMC42Njg5NDY3IDE5LjA0NjE2NzksMjAuNjgyNDAzIFogTTExLjMxMzM2NDcsMTguMDk4NzI4NiBDMTEuMjg2MTM2NSwxOC4wOTg3Mjg2IDExLjI3MjUyMjQsMTguMDg1MjcyNCAxMS4yNzI1MjI0LDE4LjA1ODM1OTggQzExLjI3MjUyMjQsMTcuOTUwNzA5NiAxMS4yNDUyOTQxLDE3Ljg1NjUxNTcgMTEuMjMxNjgsMTcuNzQ4ODY1NCBDMTEuMjMxNjgsMTcuNzIxOTUyOSAxMS4yMzE2OCwxNy43MDg0OTY2IDExLjI1ODkwODIsMTcuNjk1MDQwMyBDMTEuMjU4OTA4MiwxNy42OTUwNDAzIDIwLjkzODU0NTksMTMuNTYzOTYzNSAyMC45NTIxNiwxMy41NjM5NjM1IEMyMC45NTIxNiwxMy41NjM5NjM1IDIwLjk2NTc3NDEsMTMuNTYzOTYzNSAyMC45NzkzODgyLDEzLjU3NzQxOTcgQzIxLjA0NzQ1ODgsMTMuNjQ0NzAxMSAyMS4xMDE5MTUzLDEzLjY4NTA2OTkgMjEuMTU2MzcxOCwxMy43MjU0Mzg4IEMyMS4xODM2LDEzLjcyNTQzODggMjEuMTgzNiwxMy43NTIzNTEzIDIxLjE4MzYsMTMuNzY1ODA3NiBMMjAuMzM5NTI0NywxOC45NDY0NzQxIEMyMC4zMzk1MjQ3LDE4Ljk3MzM4NjYgMjAuMzI1OTEwNiwxOC45ODY4NDI5IDIwLjI5ODY4MjQsMTguOTg2ODQyOSBDMTkuODM1ODAyNCwxOS4wMTM3NTU0IDE5LjQyNzM3ODgsMTkuMjgyODgxIDE5LjE5NTkzODgsMTkuNjg2NTY5MyBDMTkuMTgyMzI0NywxOS43MDAwMjU1IDE5LjE2ODcxMDYsMTkuNzEzNDgxOCAxOS4xNDE0ODI0LDE5LjcxMzQ4MTggTDExLjMxMzM2NDcsMTguMDk4NzI4NiBaIE03Ljg2ODk3NzU4LDE5LjE4ODcyOTEgQzcuOTA5ODIwMywxOS4yNTYwMTExIDcuOTUwNjYzMDMsMTkuMzA5ODM2NyA3Ljk5MTUwNTc2LDE5LjM2MzY2MjMgQzguMDA1MTIsMTkuMzc3MTE4NyA4LjAwNTEyLDE5LjM5MDU3NTEgOC4wMDUxMiwxOS4zOTA1NzUxIEw2LjEzOTk2ODc5LDIyLjI4MzcwMDcgQzYuMTI2MzU0NTUsMjIuMjk3MTU3MSA2LjExMjc0MDMsMjIuMzEwNjEzNSA2LjA5OTEyNjA2LDIyLjMxMDYxMzUgQzYuMDk5MTI2MDYsMjIuMzEwNjEzNSA2LjA4NTUxMTgyLDIyLjMxMDYxMzUgNi4wNzE4OTc1OCwyMi4yOTcxNTcxIEw0LjQyNDU3NDI0LDIwLjY2ODkzMjkgQzQuNDEwOTYsMjAuNjU1NDc2NSA0LjQxMDk2LDIwLjY0MjAyMDEgNC40MTA5NiwyMC42Mjg1NjM3IEM0LjQxMDk2LDIwLjYxNTEwNzMgNC40MjQ1NzQyNCwyMC42MDE2NTA5IDQuNDM4MTg4NDgsMjAuNjAxNjUwOSBMNy44MTQ1MjA2MSwxOS4xNjE4MTYzIEw3LjgyODEzNDg1LDE5LjE2MTgxNjMgQzcuODQxNzQ5MDksMTkuMTYxODE2MyA3Ljg1NTM2MzMzLDE5LjE3NTI3MjcgNy44Njg5Nzc1OCwxOS4xODg3MjkxIFogTTEwLjE4MzMxOTEsMTkuODYxNTU3OSBDMTAuMTk2OTMzMiwxOS44NjE1NTc5IDEwLjIxMDU0NzMsMTkuODc1MDE0MiAxMC4yMjQxNjE0LDE5Ljg4ODQ3MDYgTDE3LjQzOTYyOTQsMzAuMzU3NDg3OCBDMTcuNDUzMjQzNSwzMC4zNzA5NDQxIDE3LjQ1MzI0MzUsMzAuMzk3ODU2NyAxNy40Mzk2Mjk0LDMwLjQxMTMxMzEgTDE1Ljg2MDM5NDksMzEuOTg1NzAyNSBDMTUuODYwMzk0OSwzMS45OTkxNTg5IDE1Ljg0Njc4MDgsMzEuOTk5MTU4OSAxNS44MDU5Mzg2LDMxLjk4NTcwMjUgTDYuNzkzNDEwNTcsMjMuMDY0MTYyMiBDNi43Nzk3OTY0OCwyMy4wNTA3MDU4IDYuNzc5Nzk2NDgsMjMuMDIzNzkzMiA2LjgwNzAyNDY2LDIyLjk5Njg4MDYgTDguNzY3NDUzNzEsMTkuOTU1NzUyMiBDOC43ODEwNjc4LDE5Ljk0MjI5NTggOC43OTQ2ODE4OSwxOS45Mjg4Mzk1IDguODIxOTEwMDcsMTkuOTI4ODM5NSBDOS4wMjYxMjE0MywxOS45OTYxMjExIDkuMjE2NzE4NywyMC4wMjMwMzM4IDkuNDIwOTMwMDYsMjAuMDIzMDMzOCBDOS42Nzk1OTc3OCwyMC4wMjMwMzM4IDkuOTI0NjUxNDEsMTkuOTY5MjA4NSAxMC4xODMzMTkxLDE5Ljg2MTU1NzkgWiBNOC45OTg5MTg1NiwxNi40MDMyMzIyIEM4Ljk4NTMwNDM5LDE2LjQwMzIzMjIgOC45NzE2OTAyMiwxNi4zODk3NzU5IDguOTU4MDc2MDQsMTYuMzc2MzE5NiBMNS4wOTE2NTA2MywxMC43MzgxMzg4IEM1LjA3ODAzNjQ2LDEwLjcyNDY4MjUgNS4wNzgwMzY0NiwxMC42OTc3NyA1LjA5MTY1MDYzLDEwLjY4NDMxMzcgTDguNTYzMjY1LDcuMjM5NTA2MzMgQzguNTYzMjY1LDcuMjI2MDUwMDYgOC41NzY4NzkxNyw3LjIyNjA1MDA2IDguNjA0MTA3NTIsNy4yMjYwNTAwNiBDOC42MDQxMDc1Miw3LjIzOTUwNjMzIDEyLjcwMTk3MzksOC45NjE5MTAwMiAxMy4xNjQ4NTU4LDkuMTYzNzU0MiBDMTMuMTc4NDcsOS4xNzcyMTA0OCAxMy4xOTIwODQyLDkuMTkwNjY2NzYgMTMuMTkyMDg0Miw5LjIxNzU3OTMyIEMxMy4xNjQ4NTU4LDkuMzM4Njg1ODMgMTMuMTUxMjQxNiw5LjQ1OTc5MjM0IDEzLjE1MTI0MTYsOS41ODA4OTg4NCBDMTMuMTUxMjQxNiw5Ljk5ODA0MzQ5IDEzLjMxNDYxMTcsMTAuMzg4Mjc1NiAxMy42MDA1MDk0LDEwLjY4NDMxMzcgQzEzLjYxNDEyMzUsMTAuNjk3NzcgMTMuNjE0MTIzNSwxMC43MjQ2ODI1IDEzLjYwMDUwOTQsMTAuNzM4MTM4OCBMOS45NTE5MTA3NCwxNi4zODk3NzU5IEM5LjkzODI5NjU3LDE2LjQwMzIzMjIgOS45MjQ2ODIzOSwxNi40MTY2ODg1IDkuODk3NDU0MDUsMTYuNDE2Njg4NSBDOS43NDc2OTgxMywxNi4zNzYzMTk2IDkuNTg0MzI4MDQsMTYuMzQ5NDA3MSA5LjQzNDU3MjEzLDE2LjM0OTQwNzEgQzkuMjk4NDMwMzksMTYuMzQ5NDA3MSA5LjE0ODY3NDQ4LDE2LjM3NjMxOTYgOC45OTg5MTg1NiwxNi40MDMyMzIyIFogTTEzLjY2ODYwMTksOC4zNTY0MjAzNCBDMTMuNDkxNjE4Niw4LjI3NTY4MTk4IDkuMzUyOTMzMjQsNi41MjYzNTA4MyA5LjM1MjkzMzI0LDYuNTI2MzUwODMgQzkuMzM5MzE5MTQsNi41MTI4OTQ0NCA5LjMyNTcwNTA1LDYuNTEyODk0NDQgOS4zMzkzMTkxNCw2LjQ4NTk4MTY1IEM5LjMzOTMxOTE0LDYuNDcyNTI1MjYgOS4zMzkzMTkxNCw2LjQ1OTA2ODg2IDkuMzUyOTMzMjQsNi40NDU2MTI0NyBMMTUuODMzMjQzMiwwLjAxMzQ1NjM5MzUgQzE1LjgzMzI0MzIsMCAxNS44NDY4NTczLDAgMTUuODYwNDcxNCwwIEMxNS44NzQwODU1LDAgMTUuODc0MDg1NSwwIDE1Ljg4NzY5OTYsMC4wMTM0NTYzOTM1IEwxOC42Nzg1ODk0LDIuNzcyMDE3MDUgQzE4LjY5MjIwMzUsMi43ODU0NzM0NSAxOC42OTIyMDM1LDIuODEyMzg2MjMgMTguNjc4NTg5NCwyLjgyNTg0MjYzIEwxNS4zMTU5MDc2LDguMDMzNDY2OSBDMTUuMzAyMjkzNSw4LjA0NjkyMzI5IDE1LjI4ODY3OTQsOC4wNjAzNzk2OSAxNS4yNjE0NTEyLDguMDYwMzc5NjkgQzE1LjA4NDQ2NzksOC4wMDY1NTQxMSAxNC45MDc0ODQ3LDcuOTc5NjQxMzMgMTQuNzMwNTAxNCw3Ljk3OTY0MTMzIEMxNC4zNjI5MjA4LDcuOTc5NjQxMzMgMTMuOTk1MzQwMiw4LjExNDIwNTI2IDEzLjcwOTQ0NDIsOC4zNDI5NjM5NSBDMTMuNjk1ODMwMSw4LjM1NjQyMDM0IDEzLjY5NTgzMDEsOC4zNTY0MjAzNCAxMy42Njg2MDE5LDguMzU2NDIwMzQgWiBNNy43ODcyODk5NSwxNy4zMzE3NTExIEM3Ljc3MzY3NTgxLDE3LjM0NTIwNzQgNy43NjAwNjE2NywxNy4zNTg2NjM3IDcuNzQ2NDQ3NTIsMTcuMzU4NjYzNyBMMC4wNDA4NDI0Mjk4LDE1Ljc0MzkwOCBDMC4wMTM2MTQxNDMzLDE1Ljc0MzkwOCAwLDE1LjczMDQ1MTcgMCwxNS43MTY5OTU0IEMwLDE1LjcwMzUzOTEgMCwxNS42OTAwODI4IDAuMDEzNjE0MTQzMywxNS42NzY2MjY1IEw0LjMxNTY4MzQyLDExLjQyNDQzNjMgQzQuMzE1NjgzNDIsMTEuNDEwOTgwMSA0LjMyOTI5NzU2LDExLjQxMDk4MDEgNC4zNDI5MTE3MSwxMS40MTA5ODAxIEM0LjM3MDEzOTk5LDExLjQyNDQzNjMgNC4zNzAxMzk5OSwxMS40MjQ0MzYzIDQuMzgzNzU0MTMsMTEuNDM3ODkyNiBDNC4zODM3NTQxMywxMS40NTEzNDg5IDguMDczMTg2OTYsMTYuNzgwMDQyOSA4LjExNDAyOTM5LDE2LjgzMzg2ODEgQzguMTI3NjQzNTQsMTYuODQ3MzI0NCA4LjEyNzY0MzU0LDE2Ljg3NDIzNyA4LjExNDAyOTM5LDE2Ljg4NzY5MzMgQzcuOTkxNTAyMSwxNy4wMjIyNTYzIDcuODY4OTc0ODEsMTcuMTcwMjc1NSA3Ljc4NzI4OTk1LDE3LjMzMTc1MTEgWiBNNy4zNTE1NTc4MywxOC4yNDY3NDY0IEM3LjM3ODc4NTk0LDE4LjI0Njc0NjQgNy4zOTI0LDE4LjI2MDIwMjcgNy4zOTI0LDE4LjI4NzExNTEgQzcuMzkyNCwxOC4zMDA1NzEzIDcuMzc4Nzg1OTQsMTguMzE0MDI3NSA3LjM1MTU1NzgzLDE4LjM0MDkzOTkgTDMuNjM0OTIsMTkuOTE1MzE2NSBDMy42MzQ5MiwxOS45MTUzMTY1IDMuNjIxMzA1OTQsMTkuOTE1MzE2NSAzLjYwNzY5MTg4LDE5LjkwMTg2MDMgTDAuNjI2MjEzMTg1LDE2Ljk0MTQ5NDEgQzAuNjEyNTk5MTI3LDE2LjkyODAzNzggMC41OTg5ODUwNjksMTYuOTAxMTI1NCAwLjYxMjU5OTEyNywxNi44ODc2NjkyIEMwLjYyNjIxMzE4NSwxNi44NzQyMTMgMC42Mzk4MjcyNDMsMTYuODYwNzU2OCAwLjY2NzA1NTM1OSwxNi44NjA3NTY4IEw3LjM1MTU1NzgzLDE4LjI0Njc0NjQgWiIvPjwvc3ZnPg==);
}

.visuallyHidden {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
  white-space: nowrap;
}

.subheader {
  margin-top: 2em;
  border-top: 1px solid rgb(14, 30, 37);

  h3 {
    padding-top: 1em;
    text-align: center;
  }
}
`],sourceRoot:""}]),F.default=q}]).default})})(netlifyIdentity$1);var netlifyIdentityExports=netlifyIdentity$1.exports;const netlifyIdentity=getDefaultExportFromCjs(netlifyIdentityExports);function e(D){this.message=D}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(D){var O=String(D).replace(/=+$/,"");if(O.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var z,F,Y=0,W=0,q="";F=O.charAt(W++);~F&&(z=Y%4?64*z+F:F,Y++%4)?q+=String.fromCharCode(255&z>>(-2*Y&6)):0)F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(F);return q};function t(D){var O=D.replace(/-/g,"+").replace(/_/g,"/");switch(O.length%4){case 0:break;case 2:O+="==";break;case 3:O+="=";break;default:throw"Illegal base64url string!"}try{return function(z){return decodeURIComponent(r(z).replace(/(.)/g,function(F,Y){var W=Y.charCodeAt(0).toString(16).toUpperCase();return W.length<2&&(W="0"+W),"%"+W}))}(O)}catch{return r(O)}}function n(D){this.message=D}function o(D,O){if(typeof D!="string")throw new n("Invalid token specified");var z=(O=O||{}).header===!0?0:1;try{return JSON.parse(t(D.split(".")[z]))}catch(F){throw new n("Invalid token specified: "+F.message)}}n.prototype=new Error,n.prototype.name="InvalidTokenError";const _hoisted_1$6=createBaseVNode("button",{id:"hs-dropdown-custom-icon-trigger",type:"button","aria-label":"Site navigation menu",class:"hs-dropdown-toggle p-3 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-lg align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-lg dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800"},[createBaseVNode("svg",{class:"w-4 h-4",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),_hoisted_2$5={class:"hs-dropdown-menu font-sans text-base transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[15rem] bg-white shadow-md rounded-lg p-2 mt-2 dark:bg-gray-800 dark:border dark:border-gray-700","aria-labelledby":"hs-dropdown-custom-icon-trigger"},_hoisted_3$3=["href","onClick"],_hoisted_4$3=["innerHTML"],_hoisted_5$2={key:1,class:"w-4"},_hoisted_6$2=["innerHTML"],_hoisted_7$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})],-1),_hoisted_8$2={class:"font-medium"},_hoisted_9$2=createBaseVNode("span",{class:"font-medium"},"Logout",-1),_hoisted_10$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"})],-1),_hoisted_11$1={class:"font-medium"},_hoisted_12$1=["href"],_hoisted_13$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"})],-1),_hoisted_14=createBaseVNode("span",{class:"font-medium"},"Contact Us",-1),_hoisted_15=[_hoisted_13$1,_hoisted_14],_sfc_main$8=defineComponent({__name:"Menu.ce",props:{logo:{type:String},title:{type:String},auth:{type:String},contact:{type:String}},setup(D){const O=ref(null),z=computed(()=>{var Lt,Yt;return(Yt=(Lt=O.value)==null?void 0:Lt.getRootNode())==null?void 0:Yt.host}),F=computed(()=>{var Lt;return(Lt=O==null?void 0:O.value)==null?void 0:Lt.parentNode});watch$1(F,Lt=>new HSDropdown(Lt).init()),watch$1(z,()=>{nt()});const Y=ref([]),W=D,q=ref(null),X=computed(()=>{var Lt,Yt,Ht;return((Lt=q.value)==null?void 0:Lt.token)&&(((Yt=q.value)==null?void 0:Yt.provider)==="github"||tt((Ht=q.value)==null?void 0:Ht.tokenExpiration))||!1});function tt(Lt){return!(Lt<=Date.now())}function nt(){function Lt(){Y.value=Array.from(z.value.querySelectorAll("li")).map(Yt=>{const Ht=Yt.querySelector("a");let qt=Ht.innerText.trim(),te=Yt.querySelector("svg");return{label:qt,icon:te,href:Ht.href}})}Lt(),new MutationObserver(Yt=>{for(let Ht of Yt)Ht.type==="childList"&&Lt()}).observe(z.value,{childList:!0,subtree:!0})}onMounted(async()=>{W.auth==="netlify"?wt():W.auth==="github"&&Et()}),watch$1(q,()=>{q.value?localStorage.setItem("auth-user",JSON.stringify(q.value)):localStorage.getItem("auth-user")&&localStorage.removeItem("auth-user")});function st(Lt,Yt){Yt.preventDefault();let Ht=Lt.href.split("/").filter(qt=>qt).pop().toLowerCase();Ht=location.host===Ht?"home":Ht,Ht==="search"?window.open(Lt.href,"_blank"):location.href=Lt.href}function ct(Lt){return Lt[0].toUpperCase()+Lt.slice(1).toLowerCase()}function lt(Lt){Lt.preventDefault(),W.auth==="netlify"?netlifyIdentity.open("login"):W.auth==="github"&&At()}function ht(Lt){Lt.preventDefault(),q.value=null,W.auth==="netlify"?netlifyIdentity.logout():W.auth==="github"&&Ct()}let bt="https://juncture-search.netlify.app/.netlify/identity";function wt(){location.hostname==="search.plant-humanities.org"&&(bt="https://search.plant-humanities.org/.netlify/identity");let Lt=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(Lt==null?void 0:Lt.provider)==="netlify"?q.value=Lt:q.value=null,netlifyIdentity.on("init",Yt=>{Yt&&(q.value={provider:"netlify",name:Yt.user_metadata.full_name,email:Yt.email,token:Yt.token})}),netlifyIdentity.on("error",Yt=>console.error("Error",Yt)),netlifyIdentity.on("login",Yt=>{q.value={provider:"netlify",name:Yt.user_metadata.full_name,email:Yt.email,token:Yt.token},netlifyIdentity.close()}),netlifyIdentity.init({APIUrl:bt}),mt()}function mt(){let Lt=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");if(Lt&&!X.value){const Yt=new FormData;return Yt.append("grant_type","refresh_token"),Yt.append("refresh_token",Lt.token.refresh_token),fetch(`${bt}/token`,{method:"POST",body:Yt}).then(Ht=>Ht.json()).then(Ht=>{console.log("validateNetlifyUser: newToken",Ht),Lt.token.access_token=Ht.access_token,Lt.token.refresh_token=Ht.refresh_token,Lt.token.expires_at=o(Ht.access_token).exp*1e3,q.value={provider:"netlify",name:Lt.user_metadata.full_name,email:Lt.email,token:Lt.token}}),null}return null}const _t={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","dev.juncture-digital.org":"bb290b5a738cb6fe31c7","search.juncture-digital.org":"ce9f2d2fb0a3498569fd","lab.plant-humanities.org":"2883735f052415de88ce","beta.plant-humanities.org":"4304885bd2882ecd28cc","search.plant-humanities.org":"e75df39d883077c1013f"};async function Et(){let Lt=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(Lt==null?void 0:Lt.provider)==="github"?q.value=Lt:q.value=null;let Yt=new URL(window.location.href).searchParams.get("code");if(Yt){let Ht=`${location.pathname}${location.hash}`;window.history.replaceState({},"",Ht);let qt=`https://www.juncture-digital.org/gh-token?code=${Yt}&hostname=${window.location.hostname}`,te=await fetch(qt);if(te.ok){let Xt=await te.text(),Dt=await Ft(Xt);q.value=Dt}}}function At(){let Lt=new URL(window.location.href).hostname,Yt=Lt==="localhost"||Lt.indexOf("192.168.")===0,Ht=`${window.location.href}`,qt=Yt?`${window.location.pathname}?code=testing&redirect_uri=${location.pathname}${location.hash}`:_t[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${_t[location.hostname]}&scope=repo&state=juncture&redirect_uri=${Ht}`:null;qt&&(window.location.href=qt)}function Ct(){Object.keys(localStorage).forEach(Lt=>localStorage.removeItem(Lt)),q.value=null}async function Ft(Lt){let Yt=await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Lt}`}});if(Yt.ok){let Ht=await Yt.json();return{provider:"github",username:Ht.login,name:Ht.name,email:Ht.email,token:Lt}}}return(Lt,Yt)=>{var Ht,qt;return openBlock(),createElementBlock("nav",{class:"hs-dropdown relative inline-flex",ref_key:"root",ref:O},[_hoisted_1$6,createBaseVNode("div",_hoisted_2$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Y.value,te=>(openBlock(),createElementBlock("a",{key:te.href,class:"flex items-center gap-x-2 py-2 rounded-md font-sans text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:te.href,onClick:Xt=>st(te,Xt)},[te.icon?(openBlock(),createElementBlock("svg",{key:0,innerHTML:te.icon.outerHTML,class:"w-4 h-4 text-gray-500"},null,8,_hoisted_4$3)):(openBlock(),createElementBlock("span",_hoisted_5$2)),createBaseVNode("span",{innerHTML:te.label,class:"font-medium"},null,8,_hoisted_6$2)],8,_hoisted_3$3))),128)),W.auth&&X.value?(openBlock(),createElementBlock("a",{key:0,class:"flex items-center gap-x-2 py-2 rounded-md text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:"javascript;;",onClick:ht},[_hoisted_7$2,createBaseVNode("span",_hoisted_8$2,"("+toDisplayString(((Ht=q.value)==null?void 0:Ht.name)||((qt=q.value)==null?void 0:qt.email))+")",1),createTextVNode(),_hoisted_9$2])):createCommentVNode("",!0),W.auth&&!X.value?(openBlock(),createElementBlock("a",{key:1,class:"flex items-center gap-x-2 py-2 rounded-md text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:"javascript;;",onClick:lt},[_hoisted_10$2,createBaseVNode("span",_hoisted_11$1,"Login with "+toDisplayString(ct(W.auth)),1)])):createCommentVNode("",!0),W.contact?(openBlock(),createElementBlock("a",{key:2,class:"flex items-center gap-x-2 py-2 rounded-md font-sans text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:`mailto:${Lt.$props.contact}`},_hoisted_15,8,_hoisted_12$1)):createCommentVNode("",!0)])],512)}}}),_style_0$5=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Menu=_export_sfc(_sfc_main$8,[["styles",[_style_0$5]]]);function dedent(D){for(var O=[],z=1;z<arguments.length;z++)O[z-1]=arguments[z];var F=Array.from(typeof D=="string"?[D]:D);F[F.length-1]=F[F.length-1].replace(/\r?\n([\t ]*)$/,"");var Y=F.reduce(function(X,tt){var nt=tt.match(/\n([\t ]+|(?!\s).)/g);return nt?X.concat(nt.map(function(st){var ct,lt;return(lt=(ct=st.match(/[\t ]/g))===null||ct===void 0?void 0:ct.length)!==null&&lt!==void 0?lt:0})):X},[]);if(Y.length){var W=new RegExp(`
[	 ]{`+Math.min.apply(Math,Y)+"}","g");F=F.map(function(X){return X.replace(W,`
`)})}F[0]=F[0].replace(/^\r?\n/,"");var q=F[0];return O.forEach(function(X,tt){var nt=q.match(/(?:^|\n)( *)$/),st=nt?nt[1]:"",ct=X;typeof X=="string"&&X.includes(`
`)&&(ct=String(X).split(`
`).map(function(lt,ht){return ht===0?lt:""+st+lt}).join(`
`)),q+=ct+F[tt+1]}),q}var dayjs_min={exports:{}};(function(D,O){(function(z,F){D.exports=F()})(commonjsGlobal$1,function(){var z=1e3,F=6e4,Y=36e5,W="millisecond",q="second",X="minute",tt="hour",nt="day",st="week",ct="month",lt="quarter",ht="year",bt="date",wt="Invalid Date",mt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Et={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Nt){var ce=["th","st","nd","rd"],Pt=Nt%100;return"["+Nt+(ce[(Pt-20)%10]||ce[Pt]||ce[0])+"]"}},At=function(Nt,ce,Pt){var de=String(Nt);return!de||de.length>=ce?Nt:""+Array(ce+1-de.length).join(Pt)+Nt},Ct={s:At,z:function(Nt){var ce=-Nt.utcOffset(),Pt=Math.abs(ce),de=Math.floor(Pt/60),ye=Pt%60;return(ce<=0?"+":"-")+At(de,2,"0")+":"+At(ye,2,"0")},m:function Nt(ce,Pt){if(ce.date()<Pt.date())return-Nt(Pt,ce);var de=12*(Pt.year()-ce.year())+(Pt.month()-ce.month()),ye=ce.clone().add(de,ct),pe=Pt-ye<0,ve=ce.clone().add(de+(pe?-1:1),ct);return+(-(de+(Pt-ye)/(pe?ye-ve:ve-ye))||0)},a:function(Nt){return Nt<0?Math.ceil(Nt)||0:Math.floor(Nt)},p:function(Nt){return{M:ct,y:ht,w:st,d:nt,D:bt,h:tt,m:X,s:q,ms:W,Q:lt}[Nt]||String(Nt||"").toLowerCase().replace(/s$/,"")},u:function(Nt){return Nt===void 0}},Ft="en",Lt={};Lt[Ft]=Et;var Yt="$isDayjsObject",Ht=function(Nt){return Nt instanceof Dt||!(!Nt||!Nt[Yt])},qt=function Nt(ce,Pt,de){var ye;if(!ce)return Ft;if(typeof ce=="string"){var pe=ce.toLowerCase();Lt[pe]&&(ye=pe),Pt&&(Lt[pe]=Pt,ye=pe);var ve=ce.split("-");if(!ye&&ve.length>1)return Nt(ve[0])}else{var Ce=ce.name;Lt[Ce]=ce,ye=Ce}return!de&&ye&&(Ft=ye),ye||!de&&Ft},te=function(Nt,ce){if(Ht(Nt))return Nt.clone();var Pt=typeof ce=="object"?ce:{};return Pt.date=Nt,Pt.args=arguments,new Dt(Pt)},Xt=Ct;Xt.l=qt,Xt.i=Ht,Xt.w=function(Nt,ce){return te(Nt,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var Dt=function(){function Nt(Pt){this.$L=qt(Pt.locale,null,!0),this.parse(Pt),this.$x=this.$x||Pt.x||{},this[Yt]=!0}var ce=Nt.prototype;return ce.parse=function(Pt){this.$d=function(de){var ye=de.date,pe=de.utc;if(ye===null)return new Date(NaN);if(Xt.u(ye))return new Date;if(ye instanceof Date)return new Date(ye);if(typeof ye=="string"&&!/Z$/i.test(ye)){var ve=ye.match(mt);if(ve){var Ce=ve[2]-1||0,De=(ve[7]||"0").substring(0,3);return pe?new Date(Date.UTC(ve[1],Ce,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,De)):new Date(ve[1],Ce,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,De)}}return new Date(ye)}(Pt),this.init()},ce.init=function(){var Pt=this.$d;this.$y=Pt.getFullYear(),this.$M=Pt.getMonth(),this.$D=Pt.getDate(),this.$W=Pt.getDay(),this.$H=Pt.getHours(),this.$m=Pt.getMinutes(),this.$s=Pt.getSeconds(),this.$ms=Pt.getMilliseconds()},ce.$utils=function(){return Xt},ce.isValid=function(){return this.$d.toString()!==wt},ce.isSame=function(Pt,de){var ye=te(Pt);return this.startOf(de)<=ye&&ye<=this.endOf(de)},ce.isAfter=function(Pt,de){return te(Pt)<this.startOf(de)},ce.isBefore=function(Pt,de){return this.endOf(de)<te(Pt)},ce.$g=function(Pt,de,ye){return Xt.u(Pt)?this[de]:this.set(ye,Pt)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(Pt,de){var ye=this,pe=!!Xt.u(de)||de,ve=Xt.p(Pt),Ce=function(He,Le){var Ye=Xt.w(ye.$u?Date.UTC(ye.$y,Le,He):new Date(ye.$y,Le,He),ye);return pe?Ye:Ye.endOf(nt)},De=function(He,Le){return Xt.w(ye.toDate()[He].apply(ye.toDate("s"),(pe?[0,0,0,0]:[23,59,59,999]).slice(Le)),ye)},Oe=this.$W,Je=this.$M,qe=this.$D,ze="set"+(this.$u?"UTC":"");switch(ve){case ht:return pe?Ce(1,0):Ce(31,11);case ct:return pe?Ce(1,Je):Ce(0,Je+1);case st:var we=this.$locale().weekStart||0,Me=(Oe<we?Oe+7:Oe)-we;return Ce(pe?qe-Me:qe+(6-Me),Je);case nt:case bt:return De(ze+"Hours",0);case tt:return De(ze+"Minutes",1);case X:return De(ze+"Seconds",2);case q:return De(ze+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(Pt){return this.startOf(Pt,!1)},ce.$set=function(Pt,de){var ye,pe=Xt.p(Pt),ve="set"+(this.$u?"UTC":""),Ce=(ye={},ye[nt]=ve+"Date",ye[bt]=ve+"Date",ye[ct]=ve+"Month",ye[ht]=ve+"FullYear",ye[tt]=ve+"Hours",ye[X]=ve+"Minutes",ye[q]=ve+"Seconds",ye[W]=ve+"Milliseconds",ye)[pe],De=pe===nt?this.$D+(de-this.$W):de;if(pe===ct||pe===ht){var Oe=this.clone().set(bt,1);Oe.$d[Ce](De),Oe.init(),this.$d=Oe.set(bt,Math.min(this.$D,Oe.daysInMonth())).$d}else Ce&&this.$d[Ce](De);return this.init(),this},ce.set=function(Pt,de){return this.clone().$set(Pt,de)},ce.get=function(Pt){return this[Xt.p(Pt)]()},ce.add=function(Pt,de){var ye,pe=this;Pt=Number(Pt);var ve=Xt.p(de),Ce=function(Je){var qe=te(pe);return Xt.w(qe.date(qe.date()+Math.round(Je*Pt)),pe)};if(ve===ct)return this.set(ct,this.$M+Pt);if(ve===ht)return this.set(ht,this.$y+Pt);if(ve===nt)return Ce(1);if(ve===st)return Ce(7);var De=(ye={},ye[X]=F,ye[tt]=Y,ye[q]=z,ye)[ve]||1,Oe=this.$d.getTime()+Pt*De;return Xt.w(Oe,this)},ce.subtract=function(Pt,de){return this.add(-1*Pt,de)},ce.format=function(Pt){var de=this,ye=this.$locale();if(!this.isValid())return ye.invalidDate||wt;var pe=Pt||"YYYY-MM-DDTHH:mm:ssZ",ve=Xt.z(this),Ce=this.$H,De=this.$m,Oe=this.$M,Je=ye.weekdays,qe=ye.months,ze=ye.meridiem,we=function(Le,Ye,Kt,kt){return Le&&(Le[Ye]||Le(de,pe))||Kt[Ye].slice(0,kt)},Me=function(Le){return Xt.s(Ce%12||12,Le,"0")},He=ze||function(Le,Ye,Kt){var kt=Le<12?"AM":"PM";return Kt?kt.toLowerCase():kt};return pe.replace(_t,function(Le,Ye){return Ye||function(Kt){switch(Kt){case"YY":return String(de.$y).slice(-2);case"YYYY":return Xt.s(de.$y,4,"0");case"M":return Oe+1;case"MM":return Xt.s(Oe+1,2,"0");case"MMM":return we(ye.monthsShort,Oe,qe,3);case"MMMM":return we(qe,Oe);case"D":return de.$D;case"DD":return Xt.s(de.$D,2,"0");case"d":return String(de.$W);case"dd":return we(ye.weekdaysMin,de.$W,Je,2);case"ddd":return we(ye.weekdaysShort,de.$W,Je,3);case"dddd":return Je[de.$W];case"H":return String(Ce);case"HH":return Xt.s(Ce,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return He(Ce,De,!0);case"A":return He(Ce,De,!1);case"m":return String(De);case"mm":return Xt.s(De,2,"0");case"s":return String(de.$s);case"ss":return Xt.s(de.$s,2,"0");case"SSS":return Xt.s(de.$ms,3,"0");case"Z":return ve}return null}(Le)||ve.replace(":","")})},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(Pt,de,ye){var pe,ve=this,Ce=Xt.p(de),De=te(Pt),Oe=(De.utcOffset()-this.utcOffset())*F,Je=this-De,qe=function(){return Xt.m(ve,De)};switch(Ce){case ht:pe=qe()/12;break;case ct:pe=qe();break;case lt:pe=qe()/3;break;case st:pe=(Je-Oe)/6048e5;break;case nt:pe=(Je-Oe)/864e5;break;case tt:pe=Je/Y;break;case X:pe=Je/F;break;case q:pe=Je/z;break;default:pe=Je}return ye?pe:Xt.a(pe)},ce.daysInMonth=function(){return this.endOf(ct).$D},ce.$locale=function(){return Lt[this.$L]},ce.locale=function(Pt,de){if(!Pt)return this.$L;var ye=this.clone(),pe=qt(Pt,de,!0);return pe&&(ye.$L=pe),ye},ce.clone=function(){return Xt.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},Nt}(),Qt=Dt.prototype;return te.prototype=Qt,[["$ms",W],["$s",q],["$m",X],["$H",tt],["$W",nt],["$M",ct],["$y",ht],["$D",bt]].forEach(function(Nt){Qt[Nt[1]]=function(ce){return this.$g(ce,Nt[0],Nt[1])}}),te.extend=function(Nt,ce){return Nt.$i||(Nt(ce,Dt,te),Nt.$i=!0),te},te.locale=qt,te.isDayjs=Ht,te.unix=function(Nt){return te(1e3*Nt)},te.en=Lt[Ft],te.Ls=Lt,te.p={},te})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var dist={};(function(D){Object.defineProperty(D,"__esModule",{value:!0}),D.sanitizeUrl=D.BLANK_URL=void 0;var O=/^([^\w]*)(javascript|data|vbscript)/im,z=/&#(\w+)(^\w|;)?/g,F=/&(newline|tab);/gi,Y=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,W=/^.+(:|&colon;)/gim,q=[".","/"];D.BLANK_URL="about:blank";function X(st){return q.indexOf(st[0])>-1}function tt(st){var ct=st.replace(Y,"");return ct.replace(z,function(lt,ht){return String.fromCharCode(ht)})}function nt(st){if(!st)return D.BLANK_URL;var ct=tt(st).replace(F,"").replace(Y,"").trim();if(!ct)return D.BLANK_URL;if(X(ct))return ct;var lt=ct.match(W);if(!lt)return ct;var ht=lt[0];return O.test(ht)?D.BLANK_URL:ct}D.sanitizeUrl=nt})(dist);function ascending$1(D,O){return D==null||O==null?NaN:D<O?-1:D>O?1:D>=O?0:NaN}function descending$1(D,O){return D==null||O==null?NaN:O<D?-1:O>D?1:O>=D?0:NaN}function bisector(D){let O,z,F;D.length!==2?(O=ascending$1,z=(X,tt)=>ascending$1(D(X),tt),F=(X,tt)=>D(X)-tt):(O=D===ascending$1||D===descending$1?D:zero$1,z=D,F=D);function Y(X,tt,nt=0,st=X.length){if(nt<st){if(O(tt,tt)!==0)return st;do{const ct=nt+st>>>1;z(X[ct],tt)<0?nt=ct+1:st=ct}while(nt<st)}return nt}function W(X,tt,nt=0,st=X.length){if(nt<st){if(O(tt,tt)!==0)return st;do{const ct=nt+st>>>1;z(X[ct],tt)<=0?nt=ct+1:st=ct}while(nt<st)}return nt}function q(X,tt,nt=0,st=X.length){const ct=Y(X,tt,nt,st-1);return ct>nt&&F(X[ct-1],tt)>-F(X[ct],tt)?ct-1:ct}return{left:Y,center:q,right:W}}function zero$1(){return 0}function number$3(D){return D===null?NaN:+D}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$3).center;const bisect=bisectRight;class InternMap extends Map{constructor(O,z=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:z}}),O!=null)for(const[F,Y]of O)this.set(F,Y)}get(O){return super.get(intern_get(this,O))}has(O){return super.has(intern_get(this,O))}set(O,z){return super.set(intern_set(this,O),z)}delete(O){return super.delete(intern_delete(this,O))}}function intern_get({_intern:D,_key:O},z){const F=O(z);return D.has(F)?D.get(F):z}function intern_set({_intern:D,_key:O},z){const F=O(z);return D.has(F)?D.get(F):(D.set(F,z),z)}function intern_delete({_intern:D,_key:O},z){const F=O(z);return D.has(F)&&(z=D.get(F),D.delete(F)),z}function keyof(D){return D!==null&&typeof D=="object"?D.valueOf():D}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(D,O,z){const F=(O-D)/Math.max(0,z),Y=Math.floor(Math.log10(F)),W=F/Math.pow(10,Y),q=W>=e10?10:W>=e5?5:W>=e2?2:1;let X,tt,nt;return Y<0?(nt=Math.pow(10,-Y)/q,X=Math.round(D*nt),tt=Math.round(O*nt),X/nt<D&&++X,tt/nt>O&&--tt,nt=-nt):(nt=Math.pow(10,Y)*q,X=Math.round(D/nt),tt=Math.round(O/nt),X*nt<D&&++X,tt*nt>O&&--tt),tt<X&&.5<=z&&z<2?tickSpec(D,O,z*2):[X,tt,nt]}function ticks(D,O,z){if(O=+O,D=+D,z=+z,!(z>0))return[];if(D===O)return[D];const F=O<D,[Y,W,q]=F?tickSpec(O,D,z):tickSpec(D,O,z);if(!(W>=Y))return[];const X=W-Y+1,tt=new Array(X);if(F)if(q<0)for(let nt=0;nt<X;++nt)tt[nt]=(W-nt)/-q;else for(let nt=0;nt<X;++nt)tt[nt]=(W-nt)*q;else if(q<0)for(let nt=0;nt<X;++nt)tt[nt]=(Y+nt)/-q;else for(let nt=0;nt<X;++nt)tt[nt]=(Y+nt)*q;return tt}function tickIncrement(D,O,z){return O=+O,D=+D,z=+z,tickSpec(D,O,z)[2]}function tickStep(D,O,z){O=+O,D=+D,z=+z;const F=O<D,Y=F?tickIncrement(O,D,z):tickIncrement(D,O,z);return(F?-1:1)*(Y<0?1/-Y:Y)}function max$2(D,O){let z;if(O===void 0)for(const F of D)F!=null&&(z<F||z===void 0&&F>=F)&&(z=F);else{let F=-1;for(let Y of D)(Y=O(Y,++F,D))!=null&&(z<Y||z===void 0&&Y>=Y)&&(z=Y)}return z}function min$2(D,O){let z;if(O===void 0)for(const F of D)F!=null&&(z>F||z===void 0&&F>=F)&&(z=F);else{let F=-1;for(let Y of D)(Y=O(Y,++F,D))!=null&&(z>Y||z===void 0&&Y>=Y)&&(z=Y)}return z}function identity$5(D){return D}var top=1,right=2,bottom=3,left=4,epsilon$2=1e-6;function translateX(D){return"translate("+D+",0)"}function translateY(D){return"translate(0,"+D+")"}function number$2(D){return O=>+D(O)}function center(D,O){return O=Math.max(0,D.bandwidth()-O*2)/2,D.round()&&(O=Math.round(O)),z=>+D(z)+O}function entering(){return!this.__axis}function axis(D,O){var z=[],F=null,Y=null,W=6,q=6,X=3,tt=typeof window<"u"&&window.devicePixelRatio>1?0:.5,nt=D===top||D===left?-1:1,st=D===left||D===right?"x":"y",ct=D===top||D===bottom?translateX:translateY;function lt(ht){var bt=F??(O.ticks?O.ticks.apply(O,z):O.domain()),wt=Y??(O.tickFormat?O.tickFormat.apply(O,z):identity$5),mt=Math.max(W,0)+X,_t=O.range(),Et=+_t[0]+tt,At=+_t[_t.length-1]+tt,Ct=(O.bandwidth?center:number$2)(O.copy(),tt),Ft=ht.selection?ht.selection():ht,Lt=Ft.selectAll(".domain").data([null]),Yt=Ft.selectAll(".tick").data(bt,O).order(),Ht=Yt.exit(),qt=Yt.enter().append("g").attr("class","tick"),te=Yt.select("line"),Xt=Yt.select("text");Lt=Lt.merge(Lt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Yt=Yt.merge(qt),te=te.merge(qt.append("line").attr("stroke","currentColor").attr(st+"2",nt*W)),Xt=Xt.merge(qt.append("text").attr("fill","currentColor").attr(st,nt*mt).attr("dy",D===top?"0em":D===bottom?"0.71em":"0.32em")),ht!==Ft&&(Lt=Lt.transition(ht),Yt=Yt.transition(ht),te=te.transition(ht),Xt=Xt.transition(ht),Ht=Ht.transition(ht).attr("opacity",epsilon$2).attr("transform",function(Dt){return isFinite(Dt=Ct(Dt))?ct(Dt+tt):this.getAttribute("transform")}),qt.attr("opacity",epsilon$2).attr("transform",function(Dt){var Qt=this.parentNode.__axis;return ct((Qt&&isFinite(Qt=Qt(Dt))?Qt:Ct(Dt))+tt)})),Ht.remove(),Lt.attr("d",D===left||D===right?q?"M"+nt*q+","+Et+"H"+tt+"V"+At+"H"+nt*q:"M"+tt+","+Et+"V"+At:q?"M"+Et+","+nt*q+"V"+tt+"H"+At+"V"+nt*q:"M"+Et+","+tt+"H"+At),Yt.attr("opacity",1).attr("transform",function(Dt){return ct(Ct(Dt)+tt)}),te.attr(st+"2",nt*W),Xt.attr(st,nt*mt).text(wt),Ft.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",D===right?"start":D===left?"end":"middle"),Ft.each(function(){this.__axis=Ct})}return lt.scale=function(ht){return arguments.length?(O=ht,lt):O},lt.ticks=function(){return z=Array.from(arguments),lt},lt.tickArguments=function(ht){return arguments.length?(z=ht==null?[]:Array.from(ht),lt):z.slice()},lt.tickValues=function(ht){return arguments.length?(F=ht==null?null:Array.from(ht),lt):F&&F.slice()},lt.tickFormat=function(ht){return arguments.length?(Y=ht,lt):Y},lt.tickSize=function(ht){return arguments.length?(W=q=+ht,lt):W},lt.tickSizeInner=function(ht){return arguments.length?(W=+ht,lt):W},lt.tickSizeOuter=function(ht){return arguments.length?(q=+ht,lt):q},lt.tickPadding=function(ht){return arguments.length?(X=+ht,lt):X},lt.offset=function(ht){return arguments.length?(tt=+ht,lt):tt},lt}function axisTop(D){return axis(top,D)}function axisBottom(D){return axis(bottom,D)}var noop$2={value:()=>{}};function dispatch(){for(var D=0,O=arguments.length,z={},F;D<O;++D){if(!(F=arguments[D]+"")||F in z||/[\s.]/.test(F))throw new Error("illegal type: "+F);z[F]=[]}return new Dispatch(z)}function Dispatch(D){this._=D}function parseTypenames$1(D,O){return D.trim().split(/^|\s+/).map(function(z){var F="",Y=z.indexOf(".");if(Y>=0&&(F=z.slice(Y+1),z=z.slice(0,Y)),z&&!O.hasOwnProperty(z))throw new Error("unknown type: "+z);return{type:z,name:F}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(D,O){var z=this._,F=parseTypenames$1(D+"",z),Y,W=-1,q=F.length;if(arguments.length<2){for(;++W<q;)if((Y=(D=F[W]).type)&&(Y=get$3(z[Y],D.name)))return Y;return}if(O!=null&&typeof O!="function")throw new Error("invalid callback: "+O);for(;++W<q;)if(Y=(D=F[W]).type)z[Y]=set$2(z[Y],D.name,O);else if(O==null)for(Y in z)z[Y]=set$2(z[Y],D.name,null);return this},copy:function(){var D={},O=this._;for(var z in O)D[z]=O[z].slice();return new Dispatch(D)},call:function(D,O){if((Y=arguments.length-2)>0)for(var z=new Array(Y),F=0,Y,W;F<Y;++F)z[F]=arguments[F+2];if(!this._.hasOwnProperty(D))throw new Error("unknown type: "+D);for(W=this._[D],F=0,Y=W.length;F<Y;++F)W[F].value.apply(O,z)},apply:function(D,O,z){if(!this._.hasOwnProperty(D))throw new Error("unknown type: "+D);for(var F=this._[D],Y=0,W=F.length;Y<W;++Y)F[Y].value.apply(O,z)}};function get$3(D,O){for(var z=0,F=D.length,Y;z<F;++z)if((Y=D[z]).name===O)return Y.value}function set$2(D,O,z){for(var F=0,Y=D.length;F<Y;++F)if(D[F].name===O){D[F]=noop$2,D=D.slice(0,F).concat(D.slice(F+1));break}return z!=null&&D.push({name:O,value:z}),D}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(D){var O=D+="",z=O.indexOf(":");return z>=0&&(O=D.slice(0,z))!=="xmlns"&&(D=D.slice(z+1)),namespaces.hasOwnProperty(O)?{space:namespaces[O],local:D}:D}function creatorInherit(D){return function(){var O=this.ownerDocument,z=this.namespaceURI;return z===xhtml&&O.documentElement.namespaceURI===xhtml?O.createElement(D):O.createElementNS(z,D)}}function creatorFixed(D){return function(){return this.ownerDocument.createElementNS(D.space,D.local)}}function creator(D){var O=namespace(D);return(O.local?creatorFixed:creatorInherit)(O)}function none(){}function selector(D){return D==null?none:function(){return this.querySelector(D)}}function selection_select(D){typeof D!="function"&&(D=selector(D));for(var O=this._groups,z=O.length,F=new Array(z),Y=0;Y<z;++Y)for(var W=O[Y],q=W.length,X=F[Y]=new Array(q),tt,nt,st=0;st<q;++st)(tt=W[st])&&(nt=D.call(tt,tt.__data__,st,W))&&("__data__"in tt&&(nt.__data__=tt.__data__),X[st]=nt);return new Selection$1(F,this._parents)}function array$1(D){return D==null?[]:Array.isArray(D)?D:Array.from(D)}function empty(){return[]}function selectorAll(D){return D==null?empty:function(){return this.querySelectorAll(D)}}function arrayAll(D){return function(){return array$1(D.apply(this,arguments))}}function selection_selectAll(D){typeof D=="function"?D=arrayAll(D):D=selectorAll(D);for(var O=this._groups,z=O.length,F=[],Y=[],W=0;W<z;++W)for(var q=O[W],X=q.length,tt,nt=0;nt<X;++nt)(tt=q[nt])&&(F.push(D.call(tt,tt.__data__,nt,q)),Y.push(tt));return new Selection$1(F,Y)}function matcher(D){return function(){return this.matches(D)}}function childMatcher(D){return function(O){return O.matches(D)}}var find$2=Array.prototype.find;function childFind(D){return function(){return find$2.call(this.children,D)}}function childFirst(){return this.firstElementChild}function selection_selectChild(D){return this.select(D==null?childFirst:childFind(typeof D=="function"?D:childMatcher(D)))}var filter$1=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(D){return function(){return filter$1.call(this.children,D)}}function selection_selectChildren(D){return this.selectAll(D==null?children:childrenFilter(typeof D=="function"?D:childMatcher(D)))}function selection_filter(D){typeof D!="function"&&(D=matcher(D));for(var O=this._groups,z=O.length,F=new Array(z),Y=0;Y<z;++Y)for(var W=O[Y],q=W.length,X=F[Y]=[],tt,nt=0;nt<q;++nt)(tt=W[nt])&&D.call(tt,tt.__data__,nt,W)&&X.push(tt);return new Selection$1(F,this._parents)}function sparse(D){return new Array(D.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(D,O){this.ownerDocument=D.ownerDocument,this.namespaceURI=D.namespaceURI,this._next=null,this._parent=D,this.__data__=O}EnterNode.prototype={constructor:EnterNode,appendChild:function(D){return this._parent.insertBefore(D,this._next)},insertBefore:function(D,O){return this._parent.insertBefore(D,O)},querySelector:function(D){return this._parent.querySelector(D)},querySelectorAll:function(D){return this._parent.querySelectorAll(D)}};function constant$3(D){return function(){return D}}function bindIndex(D,O,z,F,Y,W){for(var q=0,X,tt=O.length,nt=W.length;q<nt;++q)(X=O[q])?(X.__data__=W[q],F[q]=X):z[q]=new EnterNode(D,W[q]);for(;q<tt;++q)(X=O[q])&&(Y[q]=X)}function bindKey(D,O,z,F,Y,W,q){var X,tt,nt=new Map,st=O.length,ct=W.length,lt=new Array(st),ht;for(X=0;X<st;++X)(tt=O[X])&&(lt[X]=ht=q.call(tt,tt.__data__,X,O)+"",nt.has(ht)?Y[X]=tt:nt.set(ht,tt));for(X=0;X<ct;++X)ht=q.call(D,W[X],X,W)+"",(tt=nt.get(ht))?(F[X]=tt,tt.__data__=W[X],nt.delete(ht)):z[X]=new EnterNode(D,W[X]);for(X=0;X<st;++X)(tt=O[X])&&nt.get(lt[X])===tt&&(Y[X]=tt)}function datum(D){return D.__data__}function selection_data(D,O){if(!arguments.length)return Array.from(this,datum);var z=O?bindKey:bindIndex,F=this._parents,Y=this._groups;typeof D!="function"&&(D=constant$3(D));for(var W=Y.length,q=new Array(W),X=new Array(W),tt=new Array(W),nt=0;nt<W;++nt){var st=F[nt],ct=Y[nt],lt=ct.length,ht=arraylike(D.call(st,st&&st.__data__,nt,F)),bt=ht.length,wt=X[nt]=new Array(bt),mt=q[nt]=new Array(bt),_t=tt[nt]=new Array(lt);z(st,ct,wt,mt,_t,ht,O);for(var Et=0,At=0,Ct,Ft;Et<bt;++Et)if(Ct=wt[Et]){for(Et>=At&&(At=Et+1);!(Ft=mt[At])&&++At<bt;);Ct._next=Ft||null}}return q=new Selection$1(q,F),q._enter=X,q._exit=tt,q}function arraylike(D){return typeof D=="object"&&"length"in D?D:Array.from(D)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(D,O,z){var F=this.enter(),Y=this,W=this.exit();return typeof D=="function"?(F=D(F),F&&(F=F.selection())):F=F.append(D+""),O!=null&&(Y=O(Y),Y&&(Y=Y.selection())),z==null?W.remove():z(W),F&&Y?F.merge(Y).order():Y}function selection_merge(D){for(var O=D.selection?D.selection():D,z=this._groups,F=O._groups,Y=z.length,W=F.length,q=Math.min(Y,W),X=new Array(Y),tt=0;tt<q;++tt)for(var nt=z[tt],st=F[tt],ct=nt.length,lt=X[tt]=new Array(ct),ht,bt=0;bt<ct;++bt)(ht=nt[bt]||st[bt])&&(lt[bt]=ht);for(;tt<Y;++tt)X[tt]=z[tt];return new Selection$1(X,this._parents)}function selection_order(){for(var D=this._groups,O=-1,z=D.length;++O<z;)for(var F=D[O],Y=F.length-1,W=F[Y],q;--Y>=0;)(q=F[Y])&&(W&&q.compareDocumentPosition(W)^4&&W.parentNode.insertBefore(q,W),W=q);return this}function selection_sort(D){D||(D=ascending);function O(ct,lt){return ct&&lt?D(ct.__data__,lt.__data__):!ct-!lt}for(var z=this._groups,F=z.length,Y=new Array(F),W=0;W<F;++W){for(var q=z[W],X=q.length,tt=Y[W]=new Array(X),nt,st=0;st<X;++st)(nt=q[st])&&(tt[st]=nt);tt.sort(O)}return new Selection$1(Y,this._parents).order()}function ascending(D,O){return D<O?-1:D>O?1:D>=O?0:NaN}function selection_call(){var D=arguments[0];return arguments[0]=this,D.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var D=this._groups,O=0,z=D.length;O<z;++O)for(var F=D[O],Y=0,W=F.length;Y<W;++Y){var q=F[Y];if(q)return q}return null}function selection_size(){let D=0;for(const O of this)++D;return D}function selection_empty(){return!this.node()}function selection_each(D){for(var O=this._groups,z=0,F=O.length;z<F;++z)for(var Y=O[z],W=0,q=Y.length,X;W<q;++W)(X=Y[W])&&D.call(X,X.__data__,W,Y);return this}function attrRemove$1(D){return function(){this.removeAttribute(D)}}function attrRemoveNS$1(D){return function(){this.removeAttributeNS(D.space,D.local)}}function attrConstant$1(D,O){return function(){this.setAttribute(D,O)}}function attrConstantNS$1(D,O){return function(){this.setAttributeNS(D.space,D.local,O)}}function attrFunction$1(D,O){return function(){var z=O.apply(this,arguments);z==null?this.removeAttribute(D):this.setAttribute(D,z)}}function attrFunctionNS$1(D,O){return function(){var z=O.apply(this,arguments);z==null?this.removeAttributeNS(D.space,D.local):this.setAttributeNS(D.space,D.local,z)}}function selection_attr(D,O){var z=namespace(D);if(arguments.length<2){var F=this.node();return z.local?F.getAttributeNS(z.space,z.local):F.getAttribute(z)}return this.each((O==null?z.local?attrRemoveNS$1:attrRemove$1:typeof O=="function"?z.local?attrFunctionNS$1:attrFunction$1:z.local?attrConstantNS$1:attrConstant$1)(z,O))}function defaultView(D){return D.ownerDocument&&D.ownerDocument.defaultView||D.document&&D||D.defaultView}function styleRemove$1(D){return function(){this.style.removeProperty(D)}}function styleConstant$1(D,O,z){return function(){this.style.setProperty(D,O,z)}}function styleFunction$1(D,O,z){return function(){var F=O.apply(this,arguments);F==null?this.style.removeProperty(D):this.style.setProperty(D,F,z)}}function selection_style(D,O,z){return arguments.length>1?this.each((O==null?styleRemove$1:typeof O=="function"?styleFunction$1:styleConstant$1)(D,O,z??"")):styleValue(this.node(),D)}function styleValue(D,O){return D.style.getPropertyValue(O)||defaultView(D).getComputedStyle(D,null).getPropertyValue(O)}function propertyRemove(D){return function(){delete this[D]}}function propertyConstant(D,O){return function(){this[D]=O}}function propertyFunction(D,O){return function(){var z=O.apply(this,arguments);z==null?delete this[D]:this[D]=z}}function selection_property(D,O){return arguments.length>1?this.each((O==null?propertyRemove:typeof O=="function"?propertyFunction:propertyConstant)(D,O)):this.node()[D]}function classArray(D){return D.trim().split(/^|\s+/)}function classList(D){return D.classList||new ClassList(D)}function ClassList(D){this._node=D,this._names=classArray(D.getAttribute("class")||"")}ClassList.prototype={add:function(D){var O=this._names.indexOf(D);O<0&&(this._names.push(D),this._node.setAttribute("class",this._names.join(" ")))},remove:function(D){var O=this._names.indexOf(D);O>=0&&(this._names.splice(O,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(D){return this._names.indexOf(D)>=0}};function classedAdd(D,O){for(var z=classList(D),F=-1,Y=O.length;++F<Y;)z.add(O[F])}function classedRemove(D,O){for(var z=classList(D),F=-1,Y=O.length;++F<Y;)z.remove(O[F])}function classedTrue(D){return function(){classedAdd(this,D)}}function classedFalse(D){return function(){classedRemove(this,D)}}function classedFunction(D,O){return function(){(O.apply(this,arguments)?classedAdd:classedRemove)(this,D)}}function selection_classed(D,O){var z=classArray(D+"");if(arguments.length<2){for(var F=classList(this.node()),Y=-1,W=z.length;++Y<W;)if(!F.contains(z[Y]))return!1;return!0}return this.each((typeof O=="function"?classedFunction:O?classedTrue:classedFalse)(z,O))}function textRemove(){this.textContent=""}function textConstant$1(D){return function(){this.textContent=D}}function textFunction$1(D){return function(){var O=D.apply(this,arguments);this.textContent=O??""}}function selection_text(D){return arguments.length?this.each(D==null?textRemove:(typeof D=="function"?textFunction$1:textConstant$1)(D)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(D){return function(){this.innerHTML=D}}function htmlFunction(D){return function(){var O=D.apply(this,arguments);this.innerHTML=O??""}}function selection_html(D){return arguments.length?this.each(D==null?htmlRemove:(typeof D=="function"?htmlFunction:htmlConstant)(D)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(D){var O=typeof D=="function"?D:creator(D);return this.select(function(){return this.appendChild(O.apply(this,arguments))})}function constantNull(){return null}function selection_insert(D,O){var z=typeof D=="function"?D:creator(D),F=O==null?constantNull:typeof O=="function"?O:selector(O);return this.select(function(){return this.insertBefore(z.apply(this,arguments),F.apply(this,arguments)||null)})}function remove(){var D=this.parentNode;D&&D.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var D=this.cloneNode(!1),O=this.parentNode;return O?O.insertBefore(D,this.nextSibling):D}function selection_cloneDeep(){var D=this.cloneNode(!0),O=this.parentNode;return O?O.insertBefore(D,this.nextSibling):D}function selection_clone(D){return this.select(D?selection_cloneDeep:selection_cloneShallow)}function selection_datum(D){return arguments.length?this.property("__data__",D):this.node().__data__}function contextListener(D){return function(O){D.call(this,O,this.__data__)}}function parseTypenames(D){return D.trim().split(/^|\s+/).map(function(O){var z="",F=O.indexOf(".");return F>=0&&(z=O.slice(F+1),O=O.slice(0,F)),{type:O,name:z}})}function onRemove(D){return function(){var O=this.__on;if(O){for(var z=0,F=-1,Y=O.length,W;z<Y;++z)W=O[z],(!D.type||W.type===D.type)&&W.name===D.name?this.removeEventListener(W.type,W.listener,W.options):O[++F]=W;++F?O.length=F:delete this.__on}}}function onAdd(D,O,z){return function(){var F=this.__on,Y,W=contextListener(O);if(F){for(var q=0,X=F.length;q<X;++q)if((Y=F[q]).type===D.type&&Y.name===D.name){this.removeEventListener(Y.type,Y.listener,Y.options),this.addEventListener(Y.type,Y.listener=W,Y.options=z),Y.value=O;return}}this.addEventListener(D.type,W,z),Y={type:D.type,name:D.name,value:O,listener:W,options:z},F?F.push(Y):this.__on=[Y]}}function selection_on(D,O,z){var F=parseTypenames(D+""),Y,W=F.length,q;if(arguments.length<2){var X=this.node().__on;if(X){for(var tt=0,nt=X.length,st;tt<nt;++tt)for(Y=0,st=X[tt];Y<W;++Y)if((q=F[Y]).type===st.type&&q.name===st.name)return st.value}return}for(X=O?onAdd:onRemove,Y=0;Y<W;++Y)this.each(X(F[Y],O,z));return this}function dispatchEvent(D,O,z){var F=defaultView(D),Y=F.CustomEvent;typeof Y=="function"?Y=new Y(O,z):(Y=F.document.createEvent("Event"),z?(Y.initEvent(O,z.bubbles,z.cancelable),Y.detail=z.detail):Y.initEvent(O,!1,!1)),D.dispatchEvent(Y)}function dispatchConstant(D,O){return function(){return dispatchEvent(this,D,O)}}function dispatchFunction(D,O){return function(){return dispatchEvent(this,D,O.apply(this,arguments))}}function selection_dispatch(D,O){return this.each((typeof O=="function"?dispatchFunction:dispatchConstant)(D,O))}function*selection_iterator(){for(var D=this._groups,O=0,z=D.length;O<z;++O)for(var F=D[O],Y=0,W=F.length,q;Y<W;++Y)(q=F[Y])&&(yield q)}var root$2=[null];function Selection$1(D,O){this._groups=D,this._parents=O}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(D){return typeof D=="string"?new Selection$1([[document.querySelector(D)]],[document.documentElement]):new Selection$1([[D]],root$2)}function selectAll(D){return typeof D=="string"?new Selection$1([document.querySelectorAll(D)],[document.documentElement]):new Selection$1([array$1(D)],root$2)}function define$1(D,O,z){D.prototype=O.prototype=z,z.constructor=D}function extend$1(D,O){var z=Object.create(D.prototype);for(var F in O)z[F]=O[F];return z}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$2,color,{copy(D){return Object.assign(new this.constructor,this,D)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(D){var O,z;return D=(D+"").trim().toLowerCase(),(O=reHex.exec(D))?(z=O[1].length,O=parseInt(O[1],16),z===6?rgbn(O):z===3?new Rgb(O>>8&15|O>>4&240,O>>4&15|O&240,(O&15)<<4|O&15,1):z===8?rgba$2(O>>24&255,O>>16&255,O>>8&255,(O&255)/255):z===4?rgba$2(O>>12&15|O>>8&240,O>>8&15|O>>4&240,O>>4&15|O&240,((O&15)<<4|O&15)/255):null):(O=reRgbInteger.exec(D))?new Rgb(O[1],O[2],O[3],1):(O=reRgbPercent.exec(D))?new Rgb(O[1]*255/100,O[2]*255/100,O[3]*255/100,1):(O=reRgbaInteger.exec(D))?rgba$2(O[1],O[2],O[3],O[4]):(O=reRgbaPercent.exec(D))?rgba$2(O[1]*255/100,O[2]*255/100,O[3]*255/100,O[4]):(O=reHslPercent.exec(D))?hsla(O[1],O[2]/100,O[3]/100,1):(O=reHslaPercent.exec(D))?hsla(O[1],O[2]/100,O[3]/100,O[4]):named.hasOwnProperty(D)?rgbn(named[D]):D==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(D){return new Rgb(D>>16&255,D>>8&255,D&255,1)}function rgba$2(D,O,z,F){return F<=0&&(D=O=z=NaN),new Rgb(D,O,z,F)}function rgbConvert(D){return D instanceof Color$2||(D=color(D)),D?(D=D.rgb(),new Rgb(D.r,D.g,D.b,D.opacity)):new Rgb}function rgb(D,O,z,F){return arguments.length===1?rgbConvert(D):new Rgb(D,O,z,F??1)}function Rgb(D,O,z,F){this.r=+D,this.g=+O,this.b=+z,this.opacity=+F}define$1(Rgb,rgb,extend$1(Color$2,{brighter(D){return D=D==null?brighter:Math.pow(brighter,D),new Rgb(this.r*D,this.g*D,this.b*D,this.opacity)},darker(D){return D=D==null?darker:Math.pow(darker,D),new Rgb(this.r*D,this.g*D,this.b*D,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const D=clampa(this.opacity);return`${D===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${D===1?")":`, ${D})`}`}function clampa(D){return isNaN(D)?1:Math.max(0,Math.min(1,D))}function clampi(D){return Math.max(0,Math.min(255,Math.round(D)||0))}function hex(D){return D=clampi(D),(D<16?"0":"")+D.toString(16)}function hsla(D,O,z,F){return F<=0?D=O=z=NaN:z<=0||z>=1?D=O=NaN:O<=0&&(D=NaN),new Hsl(D,O,z,F)}function hslConvert(D){if(D instanceof Hsl)return new Hsl(D.h,D.s,D.l,D.opacity);if(D instanceof Color$2||(D=color(D)),!D)return new Hsl;if(D instanceof Hsl)return D;D=D.rgb();var O=D.r/255,z=D.g/255,F=D.b/255,Y=Math.min(O,z,F),W=Math.max(O,z,F),q=NaN,X=W-Y,tt=(W+Y)/2;return X?(O===W?q=(z-F)/X+(z<F)*6:z===W?q=(F-O)/X+2:q=(O-z)/X+4,X/=tt<.5?W+Y:2-W-Y,q*=60):X=tt>0&&tt<1?0:q,new Hsl(q,X,tt,D.opacity)}function hsl(D,O,z,F){return arguments.length===1?hslConvert(D):new Hsl(D,O,z,F??1)}function Hsl(D,O,z,F){this.h=+D,this.s=+O,this.l=+z,this.opacity=+F}define$1(Hsl,hsl,extend$1(Color$2,{brighter(D){return D=D==null?brighter:Math.pow(brighter,D),new Hsl(this.h,this.s,this.l*D,this.opacity)},darker(D){return D=D==null?darker:Math.pow(darker,D),new Hsl(this.h,this.s,this.l*D,this.opacity)},rgb(){var D=this.h%360+(this.h<0)*360,O=isNaN(D)||isNaN(this.s)?0:this.s,z=this.l,F=z+(z<.5?z:1-z)*O,Y=2*z-F;return new Rgb(hsl2rgb(D>=240?D-240:D+120,Y,F),hsl2rgb(D,Y,F),hsl2rgb(D<120?D+240:D-120,Y,F),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const D=clampa(this.opacity);return`${D===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${D===1?")":`, ${D})`}`}}));function clamph(D){return D=(D||0)%360,D<0?D+360:D}function clampt(D){return Math.max(0,Math.min(1,D||0))}function hsl2rgb(D,O,z){return(D<60?O+(z-O)*D/60:D<180?z:D<240?O+(z-O)*(240-D)/60:O)*255}const radians=Math.PI/180,degrees$1=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(D){if(D instanceof Lab)return new Lab(D.l,D.a,D.b,D.opacity);if(D instanceof Hcl)return hcl2lab(D);D instanceof Rgb||(D=rgbConvert(D));var O=rgb2lrgb(D.r),z=rgb2lrgb(D.g),F=rgb2lrgb(D.b),Y=xyz2lab((.2225045*O+.7168786*z+.0606169*F)/Yn),W,q;return O===z&&z===F?W=q=Y:(W=xyz2lab((.4360747*O+.3850649*z+.1430804*F)/Xn),q=xyz2lab((.0139322*O+.0971045*z+.7141733*F)/Zn)),new Lab(116*Y-16,500*(W-Y),200*(Y-q),D.opacity)}function lab(D,O,z,F){return arguments.length===1?labConvert(D):new Lab(D,O,z,F??1)}function Lab(D,O,z,F){this.l=+D,this.a=+O,this.b=+z,this.opacity=+F}define$1(Lab,lab,extend$1(Color$2,{brighter(D){return new Lab(this.l+K*(D??1),this.a,this.b,this.opacity)},darker(D){return new Lab(this.l-K*(D??1),this.a,this.b,this.opacity)},rgb(){var D=(this.l+16)/116,O=isNaN(this.a)?D:D+this.a/500,z=isNaN(this.b)?D:D-this.b/200;return O=Xn*lab2xyz(O),D=Yn*lab2xyz(D),z=Zn*lab2xyz(z),new Rgb(lrgb2rgb(3.1338561*O-1.6168667*D-.4906146*z),lrgb2rgb(-.9787684*O+1.9161415*D+.033454*z),lrgb2rgb(.0719453*O-.2289914*D+1.4052427*z),this.opacity)}}));function xyz2lab(D){return D>t3?Math.pow(D,1/3):D/t2+t0$1}function lab2xyz(D){return D>t1$1?D*D*D:t2*(D-t0$1)}function lrgb2rgb(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,1/2.4)-.055)}function rgb2lrgb(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function hclConvert(D){if(D instanceof Hcl)return new Hcl(D.h,D.c,D.l,D.opacity);if(D instanceof Lab||(D=labConvert(D)),D.a===0&&D.b===0)return new Hcl(NaN,0<D.l&&D.l<100?0:NaN,D.l,D.opacity);var O=Math.atan2(D.b,D.a)*degrees$1;return new Hcl(O<0?O+360:O,Math.sqrt(D.a*D.a+D.b*D.b),D.l,D.opacity)}function hcl$1(D,O,z,F){return arguments.length===1?hclConvert(D):new Hcl(D,O,z,F??1)}function Hcl(D,O,z,F){this.h=+D,this.c=+O,this.l=+z,this.opacity=+F}function hcl2lab(D){if(isNaN(D.h))return new Lab(D.l,0,0,D.opacity);var O=D.h*radians;return new Lab(D.l,Math.cos(O)*D.c,Math.sin(O)*D.c,D.opacity)}define$1(Hcl,hcl$1,extend$1(Color$2,{brighter(D){return new Hcl(this.h,this.c,this.l+K*(D??1),this.opacity)},darker(D){return new Hcl(this.h,this.c,this.l-K*(D??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));const constant$2=D=>()=>D;function linear$1(D,O){return function(z){return D+z*O}}function exponential(D,O,z){return D=Math.pow(D,z),O=Math.pow(O,z)-D,z=1/z,function(F){return Math.pow(D+F*O,z)}}function hue(D,O){var z=O-D;return z?linear$1(D,z>180||z<-180?z-360*Math.round(z/360):z):constant$2(isNaN(D)?O:D)}function gamma(D){return(D=+D)==1?nogamma:function(O,z){return z-O?exponential(O,z,D):constant$2(isNaN(O)?z:O)}}function nogamma(D,O){var z=O-D;return z?linear$1(D,z):constant$2(isNaN(D)?O:D)}const interpolateRgb=function D(O){var z=gamma(O);function F(Y,W){var q=z((Y=rgb(Y)).r,(W=rgb(W)).r),X=z(Y.g,W.g),tt=z(Y.b,W.b),nt=nogamma(Y.opacity,W.opacity);return function(st){return Y.r=q(st),Y.g=X(st),Y.b=tt(st),Y.opacity=nt(st),Y+""}}return F.gamma=D,F}(1);function numberArray(D,O){O||(O=[]);var z=D?Math.min(O.length,D.length):0,F=O.slice(),Y;return function(W){for(Y=0;Y<z;++Y)F[Y]=D[Y]*(1-W)+O[Y]*W;return F}}function isNumberArray(D){return ArrayBuffer.isView(D)&&!(D instanceof DataView)}function genericArray(D,O){var z=O?O.length:0,F=D?Math.min(z,D.length):0,Y=new Array(F),W=new Array(z),q;for(q=0;q<F;++q)Y[q]=interpolate$1(D[q],O[q]);for(;q<z;++q)W[q]=O[q];return function(X){for(q=0;q<F;++q)W[q]=Y[q](X);return W}}function date$1(D,O){var z=new Date;return D=+D,O=+O,function(F){return z.setTime(D*(1-F)+O*F),z}}function interpolateNumber(D,O){return D=+D,O=+O,function(z){return D*(1-z)+O*z}}function object(D,O){var z={},F={},Y;(D===null||typeof D!="object")&&(D={}),(O===null||typeof O!="object")&&(O={});for(Y in O)Y in D?z[Y]=interpolate$1(D[Y],O[Y]):F[Y]=O[Y];return function(W){for(Y in z)F[Y]=z[Y](W);return F}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(D){return function(){return D}}function one(D){return function(O){return D(O)+""}}function interpolateString(D,O){var z=reA.lastIndex=reB.lastIndex=0,F,Y,W,q=-1,X=[],tt=[];for(D=D+"",O=O+"";(F=reA.exec(D))&&(Y=reB.exec(O));)(W=Y.index)>z&&(W=O.slice(z,W),X[q]?X[q]+=W:X[++q]=W),(F=F[0])===(Y=Y[0])?X[q]?X[q]+=Y:X[++q]=Y:(X[++q]=null,tt.push({i:q,x:interpolateNumber(F,Y)})),z=reB.lastIndex;return z<O.length&&(W=O.slice(z),X[q]?X[q]+=W:X[++q]=W),X.length<2?tt[0]?one(tt[0].x):zero(O):(O=tt.length,function(nt){for(var st=0,ct;st<O;++st)X[(ct=tt[st]).i]=ct.x(nt);return X.join("")})}function interpolate$1(D,O){var z=typeof O,F;return O==null||z==="boolean"?constant$2(O):(z==="number"?interpolateNumber:z==="string"?(F=color(O))?(O=F,interpolateRgb):interpolateString:O instanceof color?interpolateRgb:O instanceof Date?date$1:isNumberArray(O)?numberArray:Array.isArray(O)?genericArray:typeof O.valueOf!="function"&&typeof O.toString!="function"||isNaN(O)?object:interpolateNumber)(D,O)}function interpolateRound(D,O){return D=+D,O=+O,function(z){return Math.round(D*(1-z)+O*z)}}var degrees=180/Math.PI,identity$4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(D,O,z,F,Y,W){var q,X,tt;return(q=Math.sqrt(D*D+O*O))&&(D/=q,O/=q),(tt=D*z+O*F)&&(z-=D*tt,F-=O*tt),(X=Math.sqrt(z*z+F*F))&&(z/=X,F/=X,tt/=X),D*F<O*z&&(D=-D,O=-O,tt=-tt,q=-q),{translateX:Y,translateY:W,rotate:Math.atan2(O,D)*degrees,skewX:Math.atan(tt)*degrees,scaleX:q,scaleY:X}}var svgNode;function parseCss(D){const O=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(D+"");return O.isIdentity?identity$4:decompose(O.a,O.b,O.c,O.d,O.e,O.f)}function parseSvg(D){return D==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",D),!(D=svgNode.transform.baseVal.consolidate()))?identity$4:(D=D.matrix,decompose(D.a,D.b,D.c,D.d,D.e,D.f))}function interpolateTransform(D,O,z,F){function Y(nt){return nt.length?nt.pop()+" ":""}function W(nt,st,ct,lt,ht,bt){if(nt!==ct||st!==lt){var wt=ht.push("translate(",null,O,null,z);bt.push({i:wt-4,x:interpolateNumber(nt,ct)},{i:wt-2,x:interpolateNumber(st,lt)})}else(ct||lt)&&ht.push("translate("+ct+O+lt+z)}function q(nt,st,ct,lt){nt!==st?(nt-st>180?st+=360:st-nt>180&&(nt+=360),lt.push({i:ct.push(Y(ct)+"rotate(",null,F)-2,x:interpolateNumber(nt,st)})):st&&ct.push(Y(ct)+"rotate("+st+F)}function X(nt,st,ct,lt){nt!==st?lt.push({i:ct.push(Y(ct)+"skewX(",null,F)-2,x:interpolateNumber(nt,st)}):st&&ct.push(Y(ct)+"skewX("+st+F)}function tt(nt,st,ct,lt,ht,bt){if(nt!==ct||st!==lt){var wt=ht.push(Y(ht)+"scale(",null,",",null,")");bt.push({i:wt-4,x:interpolateNumber(nt,ct)},{i:wt-2,x:interpolateNumber(st,lt)})}else(ct!==1||lt!==1)&&ht.push(Y(ht)+"scale("+ct+","+lt+")")}return function(nt,st){var ct=[],lt=[];return nt=D(nt),st=D(st),W(nt.translateX,nt.translateY,st.translateX,st.translateY,ct,lt),q(nt.rotate,st.rotate,ct,lt),X(nt.skewX,st.skewX,ct,lt),tt(nt.scaleX,nt.scaleY,st.scaleX,st.scaleY,ct,lt),nt=st=null,function(ht){for(var bt=-1,wt=lt.length,mt;++bt<wt;)ct[(mt=lt[bt]).i]=mt.x(ht);return ct.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hcl(D){return function(O,z){var F=D((O=hcl$1(O)).h,(z=hcl$1(z)).h),Y=nogamma(O.c,z.c),W=nogamma(O.l,z.l),q=nogamma(O.opacity,z.opacity);return function(X){return O.h=F(X),O.c=Y(X),O.l=W(X),O.opacity=q(X),O+""}}}const interpolateHcl=hcl(hue);var frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(D){setTimeout(D,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(D,O,z){if(typeof D!="function")throw new TypeError("callback is not a function");z=(z==null?now$2():+z)+(O==null?0:+O),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=D,this._time=z,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(D,O,z){var F=new Timer;return F.restart(D,O,z),F}function timerFlush(){now$2(),++frame$1;for(var D=taskHead,O;D;)(O=clockNow-D._time)>=0&&D._call.call(void 0,O),D=D._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var D=clock.now(),O=D-clockLast;O>pokeDelay&&(clockSkew-=O,clockLast=D)}function nap(){for(var D,O=taskHead,z,F=1/0;O;)O._call?(F>O._time&&(F=O._time),D=O,O=O._next):(z=O._next,O._next=null,O=D?D._next=z:taskHead=z);taskTail=D,sleep(F)}function sleep(D){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var O=D-clockNow;O>24?(D<1/0&&(timeout$1=setTimeout(wake,D-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(D,O,z){var F=new Timer;return O=O==null?0:+O,F.restart(Y=>{F.stop(),D(Y+O)},O,z),F}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(D,O,z,F,Y,W){var q=D.__transition;if(!q)D.__transition={};else if(z in q)return;create$1(D,z,{name:O,index:F,group:Y,on:emptyOn,tween:emptyTween,time:W.time,delay:W.delay,duration:W.duration,ease:W.ease,timer:null,state:CREATED})}function init$1(D,O){var z=get$2(D,O);if(z.state>CREATED)throw new Error("too late; already scheduled");return z}function set(D,O){var z=get$2(D,O);if(z.state>STARTED)throw new Error("too late; already running");return z}function get$2(D,O){var z=D.__transition;if(!z||!(z=z[O]))throw new Error("transition not found");return z}function create$1(D,O,z){var F=D.__transition,Y;F[O]=z,z.timer=timer(W,0,z.time);function W(nt){z.state=SCHEDULED,z.timer.restart(q,z.delay,z.time),z.delay<=nt&&q(nt-z.delay)}function q(nt){var st,ct,lt,ht;if(z.state!==SCHEDULED)return tt();for(st in F)if(ht=F[st],ht.name===z.name){if(ht.state===STARTED)return timeout(q);ht.state===RUNNING?(ht.state=ENDED,ht.timer.stop(),ht.on.call("interrupt",D,D.__data__,ht.index,ht.group),delete F[st]):+st<O&&(ht.state=ENDED,ht.timer.stop(),ht.on.call("cancel",D,D.__data__,ht.index,ht.group),delete F[st])}if(timeout(function(){z.state===STARTED&&(z.state=RUNNING,z.timer.restart(X,z.delay,z.time),X(nt))}),z.state=STARTING,z.on.call("start",D,D.__data__,z.index,z.group),z.state===STARTING){for(z.state=STARTED,Y=new Array(lt=z.tween.length),st=0,ct=-1;st<lt;++st)(ht=z.tween[st].value.call(D,D.__data__,z.index,z.group))&&(Y[++ct]=ht);Y.length=ct+1}}function X(nt){for(var st=nt<z.duration?z.ease.call(null,nt/z.duration):(z.timer.restart(tt),z.state=ENDING,1),ct=-1,lt=Y.length;++ct<lt;)Y[ct].call(D,st);z.state===ENDING&&(z.on.call("end",D,D.__data__,z.index,z.group),tt())}function tt(){z.state=ENDED,z.timer.stop(),delete F[O];for(var nt in F)return;delete D.__transition}}function interrupt(D,O){var z=D.__transition,F,Y,W=!0,q;if(z){O=O==null?null:O+"";for(q in z){if((F=z[q]).name!==O){W=!1;continue}Y=F.state>STARTING&&F.state<ENDING,F.state=ENDED,F.timer.stop(),F.on.call(Y?"interrupt":"cancel",D,D.__data__,F.index,F.group),delete z[q]}W&&delete D.__transition}}function selection_interrupt(D){return this.each(function(){interrupt(this,D)})}function tweenRemove(D,O){var z,F;return function(){var Y=set(this,D),W=Y.tween;if(W!==z){F=z=W;for(var q=0,X=F.length;q<X;++q)if(F[q].name===O){F=F.slice(),F.splice(q,1);break}}Y.tween=F}}function tweenFunction(D,O,z){var F,Y;if(typeof z!="function")throw new Error;return function(){var W=set(this,D),q=W.tween;if(q!==F){Y=(F=q).slice();for(var X={name:O,value:z},tt=0,nt=Y.length;tt<nt;++tt)if(Y[tt].name===O){Y[tt]=X;break}tt===nt&&Y.push(X)}W.tween=Y}}function transition_tween(D,O){var z=this._id;if(D+="",arguments.length<2){for(var F=get$2(this.node(),z).tween,Y=0,W=F.length,q;Y<W;++Y)if((q=F[Y]).name===D)return q.value;return null}return this.each((O==null?tweenRemove:tweenFunction)(z,D,O))}function tweenValue(D,O,z){var F=D._id;return D.each(function(){var Y=set(this,F);(Y.value||(Y.value={}))[O]=z.apply(this,arguments)}),function(Y){return get$2(Y,F).value[O]}}function interpolate(D,O){var z;return(typeof O=="number"?interpolateNumber:O instanceof color?interpolateRgb:(z=color(O))?(O=z,interpolateRgb):interpolateString)(D,O)}function attrRemove(D){return function(){this.removeAttribute(D)}}function attrRemoveNS(D){return function(){this.removeAttributeNS(D.space,D.local)}}function attrConstant(D,O,z){var F,Y=z+"",W;return function(){var q=this.getAttribute(D);return q===Y?null:q===F?W:W=O(F=q,z)}}function attrConstantNS(D,O,z){var F,Y=z+"",W;return function(){var q=this.getAttributeNS(D.space,D.local);return q===Y?null:q===F?W:W=O(F=q,z)}}function attrFunction(D,O,z){var F,Y,W;return function(){var q,X=z(this),tt;return X==null?void this.removeAttribute(D):(q=this.getAttribute(D),tt=X+"",q===tt?null:q===F&&tt===Y?W:(Y=tt,W=O(F=q,X)))}}function attrFunctionNS(D,O,z){var F,Y,W;return function(){var q,X=z(this),tt;return X==null?void this.removeAttributeNS(D.space,D.local):(q=this.getAttributeNS(D.space,D.local),tt=X+"",q===tt?null:q===F&&tt===Y?W:(Y=tt,W=O(F=q,X)))}}function transition_attr(D,O){var z=namespace(D),F=z==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(D,typeof O=="function"?(z.local?attrFunctionNS:attrFunction)(z,F,tweenValue(this,"attr."+D,O)):O==null?(z.local?attrRemoveNS:attrRemove)(z):(z.local?attrConstantNS:attrConstant)(z,F,O))}function attrInterpolate(D,O){return function(z){this.setAttribute(D,O.call(this,z))}}function attrInterpolateNS(D,O){return function(z){this.setAttributeNS(D.space,D.local,O.call(this,z))}}function attrTweenNS(D,O){var z,F;function Y(){var W=O.apply(this,arguments);return W!==F&&(z=(F=W)&&attrInterpolateNS(D,W)),z}return Y._value=O,Y}function attrTween(D,O){var z,F;function Y(){var W=O.apply(this,arguments);return W!==F&&(z=(F=W)&&attrInterpolate(D,W)),z}return Y._value=O,Y}function transition_attrTween(D,O){var z="attr."+D;if(arguments.length<2)return(z=this.tween(z))&&z._value;if(O==null)return this.tween(z,null);if(typeof O!="function")throw new Error;var F=namespace(D);return this.tween(z,(F.local?attrTweenNS:attrTween)(F,O))}function delayFunction(D,O){return function(){init$1(this,D).delay=+O.apply(this,arguments)}}function delayConstant(D,O){return O=+O,function(){init$1(this,D).delay=O}}function transition_delay(D){var O=this._id;return arguments.length?this.each((typeof D=="function"?delayFunction:delayConstant)(O,D)):get$2(this.node(),O).delay}function durationFunction(D,O){return function(){set(this,D).duration=+O.apply(this,arguments)}}function durationConstant(D,O){return O=+O,function(){set(this,D).duration=O}}function transition_duration(D){var O=this._id;return arguments.length?this.each((typeof D=="function"?durationFunction:durationConstant)(O,D)):get$2(this.node(),O).duration}function easeConstant(D,O){if(typeof O!="function")throw new Error;return function(){set(this,D).ease=O}}function transition_ease(D){var O=this._id;return arguments.length?this.each(easeConstant(O,D)):get$2(this.node(),O).ease}function easeVarying(D,O){return function(){var z=O.apply(this,arguments);if(typeof z!="function")throw new Error;set(this,D).ease=z}}function transition_easeVarying(D){if(typeof D!="function")throw new Error;return this.each(easeVarying(this._id,D))}function transition_filter(D){typeof D!="function"&&(D=matcher(D));for(var O=this._groups,z=O.length,F=new Array(z),Y=0;Y<z;++Y)for(var W=O[Y],q=W.length,X=F[Y]=[],tt,nt=0;nt<q;++nt)(tt=W[nt])&&D.call(tt,tt.__data__,nt,W)&&X.push(tt);return new Transition(F,this._parents,this._name,this._id)}function transition_merge(D){if(D._id!==this._id)throw new Error;for(var O=this._groups,z=D._groups,F=O.length,Y=z.length,W=Math.min(F,Y),q=new Array(F),X=0;X<W;++X)for(var tt=O[X],nt=z[X],st=tt.length,ct=q[X]=new Array(st),lt,ht=0;ht<st;++ht)(lt=tt[ht]||nt[ht])&&(ct[ht]=lt);for(;X<F;++X)q[X]=O[X];return new Transition(q,this._parents,this._name,this._id)}function start$1(D){return(D+"").trim().split(/^|\s+/).every(function(O){var z=O.indexOf(".");return z>=0&&(O=O.slice(0,z)),!O||O==="start"})}function onFunction(D,O,z){var F,Y,W=start$1(O)?init$1:set;return function(){var q=W(this,D),X=q.on;X!==F&&(Y=(F=X).copy()).on(O,z),q.on=Y}}function transition_on(D,O){var z=this._id;return arguments.length<2?get$2(this.node(),z).on.on(D):this.each(onFunction(z,D,O))}function removeFunction(D){return function(){var O=this.parentNode;for(var z in this.__transition)if(+z!==D)return;O&&O.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(D){var O=this._name,z=this._id;typeof D!="function"&&(D=selector(D));for(var F=this._groups,Y=F.length,W=new Array(Y),q=0;q<Y;++q)for(var X=F[q],tt=X.length,nt=W[q]=new Array(tt),st,ct,lt=0;lt<tt;++lt)(st=X[lt])&&(ct=D.call(st,st.__data__,lt,X))&&("__data__"in st&&(ct.__data__=st.__data__),nt[lt]=ct,schedule(nt[lt],O,z,lt,nt,get$2(st,z)));return new Transition(W,this._parents,O,z)}function transition_selectAll(D){var O=this._name,z=this._id;typeof D!="function"&&(D=selectorAll(D));for(var F=this._groups,Y=F.length,W=[],q=[],X=0;X<Y;++X)for(var tt=F[X],nt=tt.length,st,ct=0;ct<nt;++ct)if(st=tt[ct]){for(var lt=D.call(st,st.__data__,ct,tt),ht,bt=get$2(st,z),wt=0,mt=lt.length;wt<mt;++wt)(ht=lt[wt])&&schedule(ht,O,z,wt,lt,bt);W.push(lt),q.push(st)}return new Transition(W,q,O,z)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(D,O){var z,F,Y;return function(){var W=styleValue(this,D),q=(this.style.removeProperty(D),styleValue(this,D));return W===q?null:W===z&&q===F?Y:Y=O(z=W,F=q)}}function styleRemove(D){return function(){this.style.removeProperty(D)}}function styleConstant(D,O,z){var F,Y=z+"",W;return function(){var q=styleValue(this,D);return q===Y?null:q===F?W:W=O(F=q,z)}}function styleFunction(D,O,z){var F,Y,W;return function(){var q=styleValue(this,D),X=z(this),tt=X+"";return X==null&&(tt=X=(this.style.removeProperty(D),styleValue(this,D))),q===tt?null:q===F&&tt===Y?W:(Y=tt,W=O(F=q,X))}}function styleMaybeRemove(D,O){var z,F,Y,W="style."+O,q="end."+W,X;return function(){var tt=set(this,D),nt=tt.on,st=tt.value[W]==null?X||(X=styleRemove(O)):void 0;(nt!==z||Y!==st)&&(F=(z=nt).copy()).on(q,Y=st),tt.on=F}}function transition_style(D,O,z){var F=(D+="")=="transform"?interpolateTransformCss:interpolate;return O==null?this.styleTween(D,styleNull(D,F)).on("end.style."+D,styleRemove(D)):typeof O=="function"?this.styleTween(D,styleFunction(D,F,tweenValue(this,"style."+D,O))).each(styleMaybeRemove(this._id,D)):this.styleTween(D,styleConstant(D,F,O),z).on("end.style."+D,null)}function styleInterpolate(D,O,z){return function(F){this.style.setProperty(D,O.call(this,F),z)}}function styleTween(D,O,z){var F,Y;function W(){var q=O.apply(this,arguments);return q!==Y&&(F=(Y=q)&&styleInterpolate(D,q,z)),F}return W._value=O,W}function transition_styleTween(D,O,z){var F="style."+(D+="");if(arguments.length<2)return(F=this.tween(F))&&F._value;if(O==null)return this.tween(F,null);if(typeof O!="function")throw new Error;return this.tween(F,styleTween(D,O,z??""))}function textConstant(D){return function(){this.textContent=D}}function textFunction(D){return function(){var O=D(this);this.textContent=O??""}}function transition_text(D){return this.tween("text",typeof D=="function"?textFunction(tweenValue(this,"text",D)):textConstant(D==null?"":D+""))}function textInterpolate(D){return function(O){this.textContent=D.call(this,O)}}function textTween(D){var O,z;function F(){var Y=D.apply(this,arguments);return Y!==z&&(O=(z=Y)&&textInterpolate(Y)),O}return F._value=D,F}function transition_textTween(D){var O="text";if(arguments.length<1)return(O=this.tween(O))&&O._value;if(D==null)return this.tween(O,null);if(typeof D!="function")throw new Error;return this.tween(O,textTween(D))}function transition_transition(){for(var D=this._name,O=this._id,z=newId(),F=this._groups,Y=F.length,W=0;W<Y;++W)for(var q=F[W],X=q.length,tt,nt=0;nt<X;++nt)if(tt=q[nt]){var st=get$2(tt,O);schedule(tt,D,z,nt,q,{time:st.time+st.delay+st.duration,delay:0,duration:st.duration,ease:st.ease})}return new Transition(F,this._parents,D,z)}function transition_end(){var D,O,z=this,F=z._id,Y=z.size();return new Promise(function(W,q){var X={value:q},tt={value:function(){--Y===0&&W()}};z.each(function(){var nt=set(this,F),st=nt.on;st!==D&&(O=(D=st).copy(),O._.cancel.push(X),O._.interrupt.push(X),O._.end.push(tt)),nt.on=O}),Y===0&&W()})}var id$3=0;function Transition(D,O,z,F){this._groups=D,this._parents=O,this._name=z,this._id=F}function newId(){return++id$3}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(D){return((D*=2)<=1?D*D*D:(D-=2)*D*D+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(D,O){for(var z;!(z=D.__transition)||!(z=z[O]);)if(!(D=D.parentNode))throw new Error(`transition ${O} not found`);return z}function selection_transition(D){var O,z;D instanceof Transition?(O=D._id,D=D._name):(O=newId(),(z=defaultTiming).time=now$2(),D=D==null?null:D+"");for(var F=this._groups,Y=F.length,W=0;W<Y;++W)for(var q=F[W],X=q.length,tt,nt=0;nt<X;++nt)(tt=q[nt])&&schedule(tt,D,O,nt,q,z||inherit(tt,O));return new Transition(F,this._parents,D,O)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$1(D){this._+=D[0];for(let O=1,z=D.length;O<z;++O)this._+=arguments[O]+D[O]}function appendRound(D){let O=Math.floor(D);if(!(O>=0))throw new Error(`invalid digits: ${D}`);if(O>15)return append$1;const z=10**O;return function(F){this._+=F[0];for(let Y=1,W=F.length;Y<W;++Y)this._+=Math.round(arguments[Y]*z)/z+F[Y]}}class Path{constructor(O){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=O==null?append$1:appendRound(O)}moveTo(O,z){this._append`M${this._x0=this._x1=+O},${this._y0=this._y1=+z}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(O,z){this._append`L${this._x1=+O},${this._y1=+z}`}quadraticCurveTo(O,z,F,Y){this._append`Q${+O},${+z},${this._x1=+F},${this._y1=+Y}`}bezierCurveTo(O,z,F,Y,W,q){this._append`C${+O},${+z},${+F},${+Y},${this._x1=+W},${this._y1=+q}`}arcTo(O,z,F,Y,W){if(O=+O,z=+z,F=+F,Y=+Y,W=+W,W<0)throw new Error(`negative radius: ${W}`);let q=this._x1,X=this._y1,tt=F-O,nt=Y-z,st=q-O,ct=X-z,lt=st*st+ct*ct;if(this._x1===null)this._append`M${this._x1=O},${this._y1=z}`;else if(lt>epsilon$1)if(!(Math.abs(ct*tt-nt*st)>epsilon$1)||!W)this._append`L${this._x1=O},${this._y1=z}`;else{let ht=F-q,bt=Y-X,wt=tt*tt+nt*nt,mt=ht*ht+bt*bt,_t=Math.sqrt(wt),Et=Math.sqrt(lt),At=W*Math.tan((pi$1-Math.acos((wt+lt-mt)/(2*_t*Et)))/2),Ct=At/Et,Ft=At/_t;Math.abs(Ct-1)>epsilon$1&&this._append`L${O+Ct*st},${z+Ct*ct}`,this._append`A${W},${W},0,0,${+(ct*ht>st*bt)},${this._x1=O+Ft*tt},${this._y1=z+Ft*nt}`}}arc(O,z,F,Y,W,q){if(O=+O,z=+z,F=+F,q=!!q,F<0)throw new Error(`negative radius: ${F}`);let X=F*Math.cos(Y),tt=F*Math.sin(Y),nt=O+X,st=z+tt,ct=1^q,lt=q?Y-W:W-Y;this._x1===null?this._append`M${nt},${st}`:(Math.abs(this._x1-nt)>epsilon$1||Math.abs(this._y1-st)>epsilon$1)&&this._append`L${nt},${st}`,F&&(lt<0&&(lt=lt%tau$1+tau$1),lt>tauEpsilon?this._append`A${F},${F},0,1,${ct},${O-X},${z-tt}A${F},${F},0,1,${ct},${this._x1=nt},${this._y1=st}`:lt>epsilon$1&&this._append`A${F},${F},0,${+(lt>=pi$1)},${ct},${this._x1=O+F*Math.cos(W)},${this._y1=z+F*Math.sin(W)}`)}rect(O,z,F,Y){this._append`M${this._x0=this._x1=+O},${this._y0=this._y1=+z}h${F=+F}v${+Y}h${-F}Z`}toString(){return this._}}function responseText(D){if(!D.ok)throw new Error(D.status+" "+D.statusText);return D.text()}function text$1(D,O){return fetch(D,O).then(responseText)}function parser$d(D){return(O,z)=>text$1(O,z).then(F=>new DOMParser().parseFromString(F,D))}var svg$2=parser$d("image/svg+xml");function formatDecimal(D){return Math.abs(D=Math.round(D))>=1e21?D.toLocaleString("en").replace(/,/g,""):D.toString(10)}function formatDecimalParts(D,O){if((z=(D=O?D.toExponential(O-1):D.toExponential()).indexOf("e"))<0)return null;var z,F=D.slice(0,z);return[F.length>1?F[0]+F.slice(2):F,+D.slice(z+1)]}function exponent(D){return D=formatDecimalParts(Math.abs(D)),D?D[1]:NaN}function formatGroup(D,O){return function(z,F){for(var Y=z.length,W=[],q=0,X=D[0],tt=0;Y>0&&X>0&&(tt+X+1>F&&(X=Math.max(1,F-tt)),W.push(z.substring(Y-=X,Y+X)),!((tt+=X+1)>F));)X=D[q=(q+1)%D.length];return W.reverse().join(O)}}function formatNumerals(D){return function(O){return O.replace(/[0-9]/g,function(z){return D[+z]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(D){if(!(O=re.exec(D)))throw new Error("invalid format: "+D);var O;return new FormatSpecifier({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(D){this.fill=D.fill===void 0?" ":D.fill+"",this.align=D.align===void 0?">":D.align+"",this.sign=D.sign===void 0?"-":D.sign+"",this.symbol=D.symbol===void 0?"":D.symbol+"",this.zero=!!D.zero,this.width=D.width===void 0?void 0:+D.width,this.comma=!!D.comma,this.precision=D.precision===void 0?void 0:+D.precision,this.trim=!!D.trim,this.type=D.type===void 0?"":D.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(D){t:for(var O=D.length,z=1,F=-1,Y;z<O;++z)switch(D[z]){case".":F=Y=z;break;case"0":F===0&&(F=z),Y=z;break;default:if(!+D[z])break t;F>0&&(F=0);break}return F>0?D.slice(0,F)+D.slice(Y+1):D}var prefixExponent;function formatPrefixAuto(D,O){var z=formatDecimalParts(D,O);if(!z)return D+"";var F=z[0],Y=z[1],W=Y-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(Y/3)))*3)+1,q=F.length;return W===q?F:W>q?F+new Array(W-q+1).join("0"):W>0?F.slice(0,W)+"."+F.slice(W):"0."+new Array(1-W).join("0")+formatDecimalParts(D,Math.max(0,O+W-1))[0]}function formatRounded(D,O){var z=formatDecimalParts(D,O);if(!z)return D+"";var F=z[0],Y=z[1];return Y<0?"0."+new Array(-Y).join("0")+F:F.length>Y+1?F.slice(0,Y+1)+"."+F.slice(Y+1):F+new Array(Y-F.length+2).join("0")}const formatTypes={"%":(D,O)=>(D*100).toFixed(O),b:D=>Math.round(D).toString(2),c:D=>D+"",d:formatDecimal,e:(D,O)=>D.toExponential(O),f:(D,O)=>D.toFixed(O),g:(D,O)=>D.toPrecision(O),o:D=>Math.round(D).toString(8),p:(D,O)=>formatRounded(D*100,O),r:formatRounded,s:formatPrefixAuto,X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)};function identity$3(D){return D}var map$2=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(D){var O=D.grouping===void 0||D.thousands===void 0?identity$3:formatGroup(map$2.call(D.grouping,Number),D.thousands+""),z=D.currency===void 0?"":D.currency[0]+"",F=D.currency===void 0?"":D.currency[1]+"",Y=D.decimal===void 0?".":D.decimal+"",W=D.numerals===void 0?identity$3:formatNumerals(map$2.call(D.numerals,String)),q=D.percent===void 0?"%":D.percent+"",X=D.minus===void 0?"":D.minus+"",tt=D.nan===void 0?"NaN":D.nan+"";function nt(ct){ct=formatSpecifier(ct);var lt=ct.fill,ht=ct.align,bt=ct.sign,wt=ct.symbol,mt=ct.zero,_t=ct.width,Et=ct.comma,At=ct.precision,Ct=ct.trim,Ft=ct.type;Ft==="n"?(Et=!0,Ft="g"):formatTypes[Ft]||(At===void 0&&(At=12),Ct=!0,Ft="g"),(mt||lt==="0"&&ht==="=")&&(mt=!0,lt="0",ht="=");var Lt=wt==="$"?z:wt==="#"&&/[boxX]/.test(Ft)?"0"+Ft.toLowerCase():"",Yt=wt==="$"?F:/[%p]/.test(Ft)?q:"",Ht=formatTypes[Ft],qt=/[defgprs%]/.test(Ft);At=At===void 0?6:/[gprs]/.test(Ft)?Math.max(1,Math.min(21,At)):Math.max(0,Math.min(20,At));function te(Xt){var Dt=Lt,Qt=Yt,Nt,ce,Pt;if(Ft==="c")Qt=Ht(Xt)+Qt,Xt="";else{Xt=+Xt;var de=Xt<0||1/Xt<0;if(Xt=isNaN(Xt)?tt:Ht(Math.abs(Xt),At),Ct&&(Xt=formatTrim(Xt)),de&&+Xt==0&&bt!=="+"&&(de=!1),Dt=(de?bt==="("?bt:X:bt==="-"||bt==="("?"":bt)+Dt,Qt=(Ft==="s"?prefixes[8+prefixExponent/3]:"")+Qt+(de&&bt==="("?")":""),qt){for(Nt=-1,ce=Xt.length;++Nt<ce;)if(Pt=Xt.charCodeAt(Nt),48>Pt||Pt>57){Qt=(Pt===46?Y+Xt.slice(Nt+1):Xt.slice(Nt))+Qt,Xt=Xt.slice(0,Nt);break}}}Et&&!mt&&(Xt=O(Xt,1/0));var ye=Dt.length+Xt.length+Qt.length,pe=ye<_t?new Array(_t-ye+1).join(lt):"";switch(Et&&mt&&(Xt=O(pe+Xt,pe.length?_t-Qt.length:1/0),pe=""),ht){case"<":Xt=Dt+Xt+Qt+pe;break;case"=":Xt=Dt+pe+Xt+Qt;break;case"^":Xt=pe.slice(0,ye=pe.length>>1)+Dt+Xt+Qt+pe.slice(ye);break;default:Xt=pe+Dt+Xt+Qt;break}return W(Xt)}return te.toString=function(){return ct+""},te}function st(ct,lt){var ht=nt((ct=formatSpecifier(ct),ct.type="f",ct)),bt=Math.max(-8,Math.min(8,Math.floor(exponent(lt)/3)))*3,wt=Math.pow(10,-bt),mt=prefixes[8+bt/3];return function(_t){return ht(wt*_t)+mt}}return{format:nt,formatPrefix:st}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(D){return locale$1=formatLocale$1(D),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(D){return Math.max(0,-exponent(Math.abs(D)))}function precisionPrefix(D,O){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(O)/3)))*3-exponent(Math.abs(D)))}function precisionRound(D,O){return D=Math.abs(D),O=Math.abs(O)-D,Math.max(0,exponent(O)-exponent(D))+1}function initRange(D,O){switch(arguments.length){case 0:break;case 1:this.range(D);break;default:this.range(O).domain(D);break}return this}const implicit=Symbol("implicit");function ordinal(){var D=new InternMap,O=[],z=[],F=implicit;function Y(W){let q=D.get(W);if(q===void 0){if(F!==implicit)return F;D.set(W,q=O.push(W)-1)}return z[q%z.length]}return Y.domain=function(W){if(!arguments.length)return O.slice();O=[],D=new InternMap;for(const q of W)D.has(q)||D.set(q,O.push(q)-1);return Y},Y.range=function(W){return arguments.length?(z=Array.from(W),Y):z.slice()},Y.unknown=function(W){return arguments.length?(F=W,Y):F},Y.copy=function(){return ordinal(O,z).unknown(F)},initRange.apply(Y,arguments),Y}function constants$1(D){return function(){return D}}function number$1(D){return+D}var unit$1=[0,1];function identity$2(D){return D}function normalize(D,O){return(O-=D=+D)?function(z){return(z-D)/O}:constants$1(isNaN(O)?NaN:.5)}function clamper(D,O){var z;return D>O&&(z=D,D=O,O=z),function(F){return Math.max(D,Math.min(O,F))}}function bimap(D,O,z){var F=D[0],Y=D[1],W=O[0],q=O[1];return Y<F?(F=normalize(Y,F),W=z(q,W)):(F=normalize(F,Y),W=z(W,q)),function(X){return W(F(X))}}function polymap(D,O,z){var F=Math.min(D.length,O.length)-1,Y=new Array(F),W=new Array(F),q=-1;for(D[F]<D[0]&&(D=D.slice().reverse(),O=O.slice().reverse());++q<F;)Y[q]=normalize(D[q],D[q+1]),W[q]=z(O[q],O[q+1]);return function(X){var tt=bisect(D,X,1,F)-1;return W[tt](Y[tt](X))}}function copy$1(D,O){return O.domain(D.domain()).range(D.range()).interpolate(D.interpolate()).clamp(D.clamp()).unknown(D.unknown())}function transformer(){var D=unit$1,O=unit$1,z=interpolate$1,F,Y,W,q=identity$2,X,tt,nt;function st(){var lt=Math.min(D.length,O.length);return q!==identity$2&&(q=clamper(D[0],D[lt-1])),X=lt>2?polymap:bimap,tt=nt=null,ct}function ct(lt){return lt==null||isNaN(lt=+lt)?W:(tt||(tt=X(D.map(F),O,z)))(F(q(lt)))}return ct.invert=function(lt){return q(Y((nt||(nt=X(O,D.map(F),interpolateNumber)))(lt)))},ct.domain=function(lt){return arguments.length?(D=Array.from(lt,number$1),st()):D.slice()},ct.range=function(lt){return arguments.length?(O=Array.from(lt),st()):O.slice()},ct.rangeRound=function(lt){return O=Array.from(lt),z=interpolateRound,st()},ct.clamp=function(lt){return arguments.length?(q=lt?!0:identity$2,st()):q!==identity$2},ct.interpolate=function(lt){return arguments.length?(z=lt,st()):z},ct.unknown=function(lt){return arguments.length?(W=lt,ct):W},function(lt,ht){return F=lt,Y=ht,st()}}function continuous(){return transformer()(identity$2,identity$2)}function tickFormat(D,O,z,F){var Y=tickStep(D,O,z),W;switch(F=formatSpecifier(F??",f"),F.type){case"s":{var q=Math.max(Math.abs(D),Math.abs(O));return F.precision==null&&!isNaN(W=precisionPrefix(Y,q))&&(F.precision=W),formatPrefix(F,q)}case"":case"e":case"g":case"p":case"r":{F.precision==null&&!isNaN(W=precisionRound(Y,Math.max(Math.abs(D),Math.abs(O))))&&(F.precision=W-(F.type==="e"));break}case"f":case"%":{F.precision==null&&!isNaN(W=precisionFixed(Y))&&(F.precision=W-(F.type==="%")*2);break}}return format$1(F)}function linearish(D){var O=D.domain;return D.ticks=function(z){var F=O();return ticks(F[0],F[F.length-1],z??10)},D.tickFormat=function(z,F){var Y=O();return tickFormat(Y[0],Y[Y.length-1],z??10,F)},D.nice=function(z){z==null&&(z=10);var F=O(),Y=0,W=F.length-1,q=F[Y],X=F[W],tt,nt,st=10;for(X<q&&(nt=q,q=X,X=nt,nt=Y,Y=W,W=nt);st-- >0;){if(nt=tickIncrement(q,X,z),nt===tt)return F[Y]=q,F[W]=X,O(F);if(nt>0)q=Math.floor(q/nt)*nt,X=Math.ceil(X/nt)*nt;else if(nt<0)q=Math.ceil(q*nt)/nt,X=Math.floor(X*nt)/nt;else break;tt=nt}return D},D}function linear(){var D=continuous();return D.copy=function(){return copy$1(D,linear())},initRange.apply(D,arguments),linearish(D)}function nice(D,O){D=D.slice();var z=0,F=D.length-1,Y=D[z],W=D[F],q;return W<Y&&(q=z,z=F,F=q,q=Y,Y=W,W=q),D[z]=O.floor(Y),D[F]=O.ceil(W),D}const t0=new Date,t1=new Date;function timeInterval(D,O,z,F){function Y(W){return D(W=arguments.length===0?new Date:new Date(+W)),W}return Y.floor=W=>(D(W=new Date(+W)),W),Y.ceil=W=>(D(W=new Date(W-1)),O(W,1),D(W),W),Y.round=W=>{const q=Y(W),X=Y.ceil(W);return W-q<X-W?q:X},Y.offset=(W,q)=>(O(W=new Date(+W),q==null?1:Math.floor(q)),W),Y.range=(W,q,X)=>{const tt=[];if(W=Y.ceil(W),X=X==null?1:Math.floor(X),!(W<q)||!(X>0))return tt;let nt;do tt.push(nt=new Date(+W)),O(W,X),D(W);while(nt<W&&W<q);return tt},Y.filter=W=>timeInterval(q=>{if(q>=q)for(;D(q),!W(q);)q.setTime(q-1)},(q,X)=>{if(q>=q)if(X<0)for(;++X<=0;)for(;O(q,-1),!W(q););else for(;--X>=0;)for(;O(q,1),!W(q););}),z&&(Y.count=(W,q)=>(t0.setTime(+W),t1.setTime(+q),D(t0),D(t1),Math.floor(z(t0,t1))),Y.every=W=>(W=Math.floor(W),!isFinite(W)||!(W>0)?null:W>1?Y.filter(F?q=>F(q)%W===0:q=>Y.count(0,q)%W===0):Y)),Y}const millisecond=timeInterval(()=>{},(D,O)=>{D.setTime(+D+O)},(D,O)=>O-D);millisecond.every=D=>(D=Math.floor(D),!isFinite(D)||!(D>0)?null:D>1?timeInterval(O=>{O.setTime(Math.floor(O/D)*D)},(O,z)=>{O.setTime(+O+z*D)},(O,z)=>(z-O)/D):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(D=>{D.setTime(D-D.getMilliseconds())},(D,O)=>{D.setTime(+D+O*durationSecond)},(D,O)=>(O-D)/durationSecond,D=>D.getUTCSeconds());second.range;const timeMinute=timeInterval(D=>{D.setTime(D-D.getMilliseconds()-D.getSeconds()*durationSecond)},(D,O)=>{D.setTime(+D+O*durationMinute)},(D,O)=>(O-D)/durationMinute,D=>D.getMinutes());timeMinute.range;const utcMinute=timeInterval(D=>{D.setUTCSeconds(0,0)},(D,O)=>{D.setTime(+D+O*durationMinute)},(D,O)=>(O-D)/durationMinute,D=>D.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(D=>{D.setTime(D-D.getMilliseconds()-D.getSeconds()*durationSecond-D.getMinutes()*durationMinute)},(D,O)=>{D.setTime(+D+O*durationHour)},(D,O)=>(O-D)/durationHour,D=>D.getHours());timeHour.range;const utcHour=timeInterval(D=>{D.setUTCMinutes(0,0,0)},(D,O)=>{D.setTime(+D+O*durationHour)},(D,O)=>(O-D)/durationHour,D=>D.getUTCHours());utcHour.range;const timeDay=timeInterval(D=>D.setHours(0,0,0,0),(D,O)=>D.setDate(D.getDate()+O),(D,O)=>(O-D-(O.getTimezoneOffset()-D.getTimezoneOffset())*durationMinute)/durationDay,D=>D.getDate()-1);timeDay.range;const utcDay=timeInterval(D=>{D.setUTCHours(0,0,0,0)},(D,O)=>{D.setUTCDate(D.getUTCDate()+O)},(D,O)=>(O-D)/durationDay,D=>D.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(D=>{D.setUTCHours(0,0,0,0)},(D,O)=>{D.setUTCDate(D.getUTCDate()+O)},(D,O)=>(O-D)/durationDay,D=>Math.floor(D/durationDay));unixDay.range;function timeWeekday(D){return timeInterval(O=>{O.setDate(O.getDate()-(O.getDay()+7-D)%7),O.setHours(0,0,0,0)},(O,z)=>{O.setDate(O.getDate()+z*7)},(O,z)=>(z-O-(z.getTimezoneOffset()-O.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(D){return timeInterval(O=>{O.setUTCDate(O.getUTCDate()-(O.getUTCDay()+7-D)%7),O.setUTCHours(0,0,0,0)},(O,z)=>{O.setUTCDate(O.getUTCDate()+z*7)},(O,z)=>(z-O)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(D=>{D.setDate(1),D.setHours(0,0,0,0)},(D,O)=>{D.setMonth(D.getMonth()+O)},(D,O)=>O.getMonth()-D.getMonth()+(O.getFullYear()-D.getFullYear())*12,D=>D.getMonth());timeMonth.range;const utcMonth=timeInterval(D=>{D.setUTCDate(1),D.setUTCHours(0,0,0,0)},(D,O)=>{D.setUTCMonth(D.getUTCMonth()+O)},(D,O)=>O.getUTCMonth()-D.getUTCMonth()+(O.getUTCFullYear()-D.getUTCFullYear())*12,D=>D.getUTCMonth());utcMonth.range;const timeYear=timeInterval(D=>{D.setMonth(0,1),D.setHours(0,0,0,0)},(D,O)=>{D.setFullYear(D.getFullYear()+O)},(D,O)=>O.getFullYear()-D.getFullYear(),D=>D.getFullYear());timeYear.every=D=>!isFinite(D=Math.floor(D))||!(D>0)?null:timeInterval(O=>{O.setFullYear(Math.floor(O.getFullYear()/D)*D),O.setMonth(0,1),O.setHours(0,0,0,0)},(O,z)=>{O.setFullYear(O.getFullYear()+z*D)});timeYear.range;const utcYear=timeInterval(D=>{D.setUTCMonth(0,1),D.setUTCHours(0,0,0,0)},(D,O)=>{D.setUTCFullYear(D.getUTCFullYear()+O)},(D,O)=>O.getUTCFullYear()-D.getUTCFullYear(),D=>D.getUTCFullYear());utcYear.every=D=>!isFinite(D=Math.floor(D))||!(D>0)?null:timeInterval(O=>{O.setUTCFullYear(Math.floor(O.getUTCFullYear()/D)*D),O.setUTCMonth(0,1),O.setUTCHours(0,0,0,0)},(O,z)=>{O.setUTCFullYear(O.getUTCFullYear()+z*D)});utcYear.range;function ticker(D,O,z,F,Y,W){const q=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[W,1,durationMinute],[W,5,5*durationMinute],[W,15,15*durationMinute],[W,30,30*durationMinute],[Y,1,durationHour],[Y,3,3*durationHour],[Y,6,6*durationHour],[Y,12,12*durationHour],[F,1,durationDay],[F,2,2*durationDay],[z,1,durationWeek],[O,1,durationMonth],[O,3,3*durationMonth],[D,1,durationYear]];function X(nt,st,ct){const lt=st<nt;lt&&([nt,st]=[st,nt]);const ht=ct&&typeof ct.range=="function"?ct:tt(nt,st,ct),bt=ht?ht.range(nt,+st+1):[];return lt?bt.reverse():bt}function tt(nt,st,ct){const lt=Math.abs(st-nt)/ct,ht=bisector(([,,mt])=>mt).right(q,lt);if(ht===q.length)return D.every(tickStep(nt/durationYear,st/durationYear,ct));if(ht===0)return millisecond.every(Math.max(tickStep(nt,st,ct),1));const[bt,wt]=q[lt/q[ht-1][2]<q[ht][2]/lt?ht-1:ht];return bt.every(wt)}return[X,tt]}const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(D){if(0<=D.y&&D.y<100){var O=new Date(-1,D.m,D.d,D.H,D.M,D.S,D.L);return O.setFullYear(D.y),O}return new Date(D.y,D.m,D.d,D.H,D.M,D.S,D.L)}function utcDate(D){if(0<=D.y&&D.y<100){var O=new Date(Date.UTC(-1,D.m,D.d,D.H,D.M,D.S,D.L));return O.setUTCFullYear(D.y),O}return new Date(Date.UTC(D.y,D.m,D.d,D.H,D.M,D.S,D.L))}function newDate(D,O,z){return{y:D,m:O,d:z,H:0,M:0,S:0,L:0}}function formatLocale(D){var O=D.dateTime,z=D.date,F=D.time,Y=D.periods,W=D.days,q=D.shortDays,X=D.months,tt=D.shortMonths,nt=formatRe(Y),st=formatLookup(Y),ct=formatRe(W),lt=formatLookup(W),ht=formatRe(q),bt=formatLookup(q),wt=formatRe(X),mt=formatLookup(X),_t=formatRe(tt),Et=formatLookup(tt),At={a:de,A:ye,b:pe,B:ve,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Ce,q:De,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ct={a:Oe,A:Je,b:qe,B:ze,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:we,q:Me,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Ft={a:te,A:Xt,b:Dt,B:Qt,c:Nt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:qt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:ce,X:Pt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};At.x=Lt(z,At),At.X=Lt(F,At),At.c=Lt(O,At),Ct.x=Lt(z,Ct),Ct.X=Lt(F,Ct),Ct.c=Lt(O,Ct);function Lt(He,Le){return function(Ye){var Kt=[],kt=-1,jt=0,$t=He.length,oe,Vt,Be;for(Ye instanceof Date||(Ye=new Date(+Ye));++kt<$t;)He.charCodeAt(kt)===37&&(Kt.push(He.slice(jt,kt)),(Vt=pads[oe=He.charAt(++kt)])!=null?oe=He.charAt(++kt):Vt=oe==="e"?" ":"0",(Be=Le[oe])&&(oe=Be(Ye,Vt)),Kt.push(oe),jt=kt+1);return Kt.push(He.slice(jt,kt)),Kt.join("")}}function Yt(He,Le){return function(Ye){var Kt=newDate(1900,void 0,1),kt=Ht(Kt,He,Ye+="",0),jt,$t;if(kt!=Ye.length)return null;if("Q"in Kt)return new Date(Kt.Q);if("s"in Kt)return new Date(Kt.s*1e3+("L"in Kt?Kt.L:0));if(Le&&!("Z"in Kt)&&(Kt.Z=0),"p"in Kt&&(Kt.H=Kt.H%12+Kt.p*12),Kt.m===void 0&&(Kt.m="q"in Kt?Kt.q:0),"V"in Kt){if(Kt.V<1||Kt.V>53)return null;"w"in Kt||(Kt.w=1),"Z"in Kt?(jt=utcDate(newDate(Kt.y,0,1)),$t=jt.getUTCDay(),jt=$t>4||$t===0?utcMonday.ceil(jt):utcMonday(jt),jt=utcDay.offset(jt,(Kt.V-1)*7),Kt.y=jt.getUTCFullYear(),Kt.m=jt.getUTCMonth(),Kt.d=jt.getUTCDate()+(Kt.w+6)%7):(jt=localDate(newDate(Kt.y,0,1)),$t=jt.getDay(),jt=$t>4||$t===0?timeMonday.ceil(jt):timeMonday(jt),jt=timeDay.offset(jt,(Kt.V-1)*7),Kt.y=jt.getFullYear(),Kt.m=jt.getMonth(),Kt.d=jt.getDate()+(Kt.w+6)%7)}else("W"in Kt||"U"in Kt)&&("w"in Kt||(Kt.w="u"in Kt?Kt.u%7:"W"in Kt?1:0),$t="Z"in Kt?utcDate(newDate(Kt.y,0,1)).getUTCDay():localDate(newDate(Kt.y,0,1)).getDay(),Kt.m=0,Kt.d="W"in Kt?(Kt.w+6)%7+Kt.W*7-($t+5)%7:Kt.w+Kt.U*7-($t+6)%7);return"Z"in Kt?(Kt.H+=Kt.Z/100|0,Kt.M+=Kt.Z%100,utcDate(Kt)):localDate(Kt)}}function Ht(He,Le,Ye,Kt){for(var kt=0,jt=Le.length,$t=Ye.length,oe,Vt;kt<jt;){if(Kt>=$t)return-1;if(oe=Le.charCodeAt(kt++),oe===37){if(oe=Le.charAt(kt++),Vt=Ft[oe in pads?Le.charAt(kt++):oe],!Vt||(Kt=Vt(He,Ye,Kt))<0)return-1}else if(oe!=Ye.charCodeAt(Kt++))return-1}return Kt}function qt(He,Le,Ye){var Kt=nt.exec(Le.slice(Ye));return Kt?(He.p=st.get(Kt[0].toLowerCase()),Ye+Kt[0].length):-1}function te(He,Le,Ye){var Kt=ht.exec(Le.slice(Ye));return Kt?(He.w=bt.get(Kt[0].toLowerCase()),Ye+Kt[0].length):-1}function Xt(He,Le,Ye){var Kt=ct.exec(Le.slice(Ye));return Kt?(He.w=lt.get(Kt[0].toLowerCase()),Ye+Kt[0].length):-1}function Dt(He,Le,Ye){var Kt=_t.exec(Le.slice(Ye));return Kt?(He.m=Et.get(Kt[0].toLowerCase()),Ye+Kt[0].length):-1}function Qt(He,Le,Ye){var Kt=wt.exec(Le.slice(Ye));return Kt?(He.m=mt.get(Kt[0].toLowerCase()),Ye+Kt[0].length):-1}function Nt(He,Le,Ye){return Ht(He,O,Le,Ye)}function ce(He,Le,Ye){return Ht(He,z,Le,Ye)}function Pt(He,Le,Ye){return Ht(He,F,Le,Ye)}function de(He){return q[He.getDay()]}function ye(He){return W[He.getDay()]}function pe(He){return tt[He.getMonth()]}function ve(He){return X[He.getMonth()]}function Ce(He){return Y[+(He.getHours()>=12)]}function De(He){return 1+~~(He.getMonth()/3)}function Oe(He){return q[He.getUTCDay()]}function Je(He){return W[He.getUTCDay()]}function qe(He){return tt[He.getUTCMonth()]}function ze(He){return X[He.getUTCMonth()]}function we(He){return Y[+(He.getUTCHours()>=12)]}function Me(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var Le=Lt(He+="",At);return Le.toString=function(){return He},Le},parse:function(He){var Le=Yt(He+="",!1);return Le.toString=function(){return He},Le},utcFormat:function(He){var Le=Lt(He+="",Ct);return Le.toString=function(){return He},Le},utcParse:function(He){var Le=Yt(He+="",!0);return Le.toString=function(){return He},Le}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(D,O,z){var F=D<0?"-":"",Y=(F?-D:D)+"",W=Y.length;return F+(W<z?new Array(z-W+1).join(O)+Y:Y)}function requote(D){return D.replace(requoteRe,"\\$&")}function formatRe(D){return new RegExp("^(?:"+D.map(requote).join("|")+")","i")}function formatLookup(D){return new Map(D.map((O,z)=>[O.toLowerCase(),z]))}function parseWeekdayNumberSunday(D,O,z){var F=numberRe.exec(O.slice(z,z+1));return F?(D.w=+F[0],z+F[0].length):-1}function parseWeekdayNumberMonday(D,O,z){var F=numberRe.exec(O.slice(z,z+1));return F?(D.u=+F[0],z+F[0].length):-1}function parseWeekNumberSunday(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.U=+F[0],z+F[0].length):-1}function parseWeekNumberISO(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.V=+F[0],z+F[0].length):-1}function parseWeekNumberMonday(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.W=+F[0],z+F[0].length):-1}function parseFullYear(D,O,z){var F=numberRe.exec(O.slice(z,z+4));return F?(D.y=+F[0],z+F[0].length):-1}function parseYear(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.y=+F[0]+(+F[0]>68?1900:2e3),z+F[0].length):-1}function parseZone(D,O,z){var F=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(O.slice(z,z+6));return F?(D.Z=F[1]?0:-(F[2]+(F[3]||"00")),z+F[0].length):-1}function parseQuarter(D,O,z){var F=numberRe.exec(O.slice(z,z+1));return F?(D.q=F[0]*3-3,z+F[0].length):-1}function parseMonthNumber(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.m=F[0]-1,z+F[0].length):-1}function parseDayOfMonth(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.d=+F[0],z+F[0].length):-1}function parseDayOfYear(D,O,z){var F=numberRe.exec(O.slice(z,z+3));return F?(D.m=0,D.d=+F[0],z+F[0].length):-1}function parseHour24(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.H=+F[0],z+F[0].length):-1}function parseMinutes(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.M=+F[0],z+F[0].length):-1}function parseSeconds(D,O,z){var F=numberRe.exec(O.slice(z,z+2));return F?(D.S=+F[0],z+F[0].length):-1}function parseMilliseconds(D,O,z){var F=numberRe.exec(O.slice(z,z+3));return F?(D.L=+F[0],z+F[0].length):-1}function parseMicroseconds(D,O,z){var F=numberRe.exec(O.slice(z,z+6));return F?(D.L=Math.floor(F[0]/1e3),z+F[0].length):-1}function parseLiteralPercent(D,O,z){var F=percentRe.exec(O.slice(z,z+1));return F?z+F[0].length:-1}function parseUnixTimestamp(D,O,z){var F=numberRe.exec(O.slice(z));return F?(D.Q=+F[0],z+F[0].length):-1}function parseUnixTimestampSeconds(D,O,z){var F=numberRe.exec(O.slice(z));return F?(D.s=+F[0],z+F[0].length):-1}function formatDayOfMonth(D,O){return pad(D.getDate(),O,2)}function formatHour24(D,O){return pad(D.getHours(),O,2)}function formatHour12(D,O){return pad(D.getHours()%12||12,O,2)}function formatDayOfYear(D,O){return pad(1+timeDay.count(timeYear(D),D),O,3)}function formatMilliseconds(D,O){return pad(D.getMilliseconds(),O,3)}function formatMicroseconds(D,O){return formatMilliseconds(D,O)+"000"}function formatMonthNumber(D,O){return pad(D.getMonth()+1,O,2)}function formatMinutes(D,O){return pad(D.getMinutes(),O,2)}function formatSeconds(D,O){return pad(D.getSeconds(),O,2)}function formatWeekdayNumberMonday(D){var O=D.getDay();return O===0?7:O}function formatWeekNumberSunday(D,O){return pad(timeSunday.count(timeYear(D)-1,D),O,2)}function dISO(D){var O=D.getDay();return O>=4||O===0?timeThursday(D):timeThursday.ceil(D)}function formatWeekNumberISO(D,O){return D=dISO(D),pad(timeThursday.count(timeYear(D),D)+(timeYear(D).getDay()===4),O,2)}function formatWeekdayNumberSunday(D){return D.getDay()}function formatWeekNumberMonday(D,O){return pad(timeMonday.count(timeYear(D)-1,D),O,2)}function formatYear(D,O){return pad(D.getFullYear()%100,O,2)}function formatYearISO(D,O){return D=dISO(D),pad(D.getFullYear()%100,O,2)}function formatFullYear(D,O){return pad(D.getFullYear()%1e4,O,4)}function formatFullYearISO(D,O){var z=D.getDay();return D=z>=4||z===0?timeThursday(D):timeThursday.ceil(D),pad(D.getFullYear()%1e4,O,4)}function formatZone(D){var O=D.getTimezoneOffset();return(O>0?"-":(O*=-1,"+"))+pad(O/60|0,"0",2)+pad(O%60,"0",2)}function formatUTCDayOfMonth(D,O){return pad(D.getUTCDate(),O,2)}function formatUTCHour24(D,O){return pad(D.getUTCHours(),O,2)}function formatUTCHour12(D,O){return pad(D.getUTCHours()%12||12,O,2)}function formatUTCDayOfYear(D,O){return pad(1+utcDay.count(utcYear(D),D),O,3)}function formatUTCMilliseconds(D,O){return pad(D.getUTCMilliseconds(),O,3)}function formatUTCMicroseconds(D,O){return formatUTCMilliseconds(D,O)+"000"}function formatUTCMonthNumber(D,O){return pad(D.getUTCMonth()+1,O,2)}function formatUTCMinutes(D,O){return pad(D.getUTCMinutes(),O,2)}function formatUTCSeconds(D,O){return pad(D.getUTCSeconds(),O,2)}function formatUTCWeekdayNumberMonday(D){var O=D.getUTCDay();return O===0?7:O}function formatUTCWeekNumberSunday(D,O){return pad(utcSunday.count(utcYear(D)-1,D),O,2)}function UTCdISO(D){var O=D.getUTCDay();return O>=4||O===0?utcThursday(D):utcThursday.ceil(D)}function formatUTCWeekNumberISO(D,O){return D=UTCdISO(D),pad(utcThursday.count(utcYear(D),D)+(utcYear(D).getUTCDay()===4),O,2)}function formatUTCWeekdayNumberSunday(D){return D.getUTCDay()}function formatUTCWeekNumberMonday(D,O){return pad(utcMonday.count(utcYear(D)-1,D),O,2)}function formatUTCYear(D,O){return pad(D.getUTCFullYear()%100,O,2)}function formatUTCYearISO(D,O){return D=UTCdISO(D),pad(D.getUTCFullYear()%100,O,2)}function formatUTCFullYear(D,O){return pad(D.getUTCFullYear()%1e4,O,4)}function formatUTCFullYearISO(D,O){var z=D.getUTCDay();return D=z>=4||z===0?utcThursday(D):utcThursday.ceil(D),pad(D.getUTCFullYear()%1e4,O,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(D){return+D}function formatUnixTimestampSeconds(D){return Math.floor(+D/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(D){return locale=formatLocale(D),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(D){return new Date(D)}function number(D){return D instanceof Date?+D:+new Date(+D)}function calendar(D,O,z,F,Y,W,q,X,tt,nt){var st=continuous(),ct=st.invert,lt=st.domain,ht=nt(".%L"),bt=nt(":%S"),wt=nt("%I:%M"),mt=nt("%I %p"),_t=nt("%a %d"),Et=nt("%b %d"),At=nt("%B"),Ct=nt("%Y");function Ft(Lt){return(tt(Lt)<Lt?ht:X(Lt)<Lt?bt:q(Lt)<Lt?wt:W(Lt)<Lt?mt:F(Lt)<Lt?Y(Lt)<Lt?_t:Et:z(Lt)<Lt?At:Ct)(Lt)}return st.invert=function(Lt){return new Date(ct(Lt))},st.domain=function(Lt){return arguments.length?lt(Array.from(Lt,number)):lt().map(date)},st.ticks=function(Lt){var Yt=lt();return D(Yt[0],Yt[Yt.length-1],Lt??10)},st.tickFormat=function(Lt,Yt){return Yt==null?Ft:nt(Yt)},st.nice=function(Lt){var Yt=lt();return(!Lt||typeof Lt.range!="function")&&(Lt=O(Yt[0],Yt[Yt.length-1],Lt??10)),Lt?lt(nice(Yt,Lt)):st},st.copy=function(){return copy$1(st,calendar(D,O,z,F,Y,W,q,X,tt,nt))},st}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function constant$1(D){return function(){return D}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max$1=Math.max,min$1=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(D){return D>1?0:D<-1?pi:Math.acos(D)}function asin(D){return D>=1?halfPi:D<=-1?-halfPi:Math.asin(D)}function withPath(D){let O=3;return D.digits=function(z){if(!arguments.length)return O;if(z==null)O=null;else{const F=Math.floor(z);if(!(F>=0))throw new RangeError(`invalid digits: ${z}`);O=F}return D},()=>new Path(O)}function arcInnerRadius(D){return D.innerRadius}function arcOuterRadius(D){return D.outerRadius}function arcStartAngle(D){return D.startAngle}function arcEndAngle(D){return D.endAngle}function arcPadAngle(D){return D&&D.padAngle}function intersect$1(D,O,z,F,Y,W,q,X){var tt=z-D,nt=F-O,st=q-Y,ct=X-W,lt=ct*tt-st*nt;if(!(lt*lt<epsilon))return lt=(st*(O-W)-ct*(D-Y))/lt,[D+lt*tt,O+lt*nt]}function cornerTangents(D,O,z,F,Y,W,q){var X=D-z,tt=O-F,nt=(q?W:-W)/sqrt(X*X+tt*tt),st=nt*tt,ct=-nt*X,lt=D+st,ht=O+ct,bt=z+st,wt=F+ct,mt=(lt+bt)/2,_t=(ht+wt)/2,Et=bt-lt,At=wt-ht,Ct=Et*Et+At*At,Ft=Y-W,Lt=lt*wt-bt*ht,Yt=(At<0?-1:1)*sqrt(max$1(0,Ft*Ft*Ct-Lt*Lt)),Ht=(Lt*At-Et*Yt)/Ct,qt=(-Lt*Et-At*Yt)/Ct,te=(Lt*At+Et*Yt)/Ct,Xt=(-Lt*Et+At*Yt)/Ct,Dt=Ht-mt,Qt=qt-_t,Nt=te-mt,ce=Xt-_t;return Dt*Dt+Qt*Qt>Nt*Nt+ce*ce&&(Ht=te,qt=Xt),{cx:Ht,cy:qt,x01:-st,y01:-ct,x11:Ht*(Y/Ft-1),y11:qt*(Y/Ft-1)}}function arc(){var D=arcInnerRadius,O=arcOuterRadius,z=constant$1(0),F=null,Y=arcStartAngle,W=arcEndAngle,q=arcPadAngle,X=null,tt=withPath(nt);function nt(){var st,ct,lt=+D.apply(this,arguments),ht=+O.apply(this,arguments),bt=Y.apply(this,arguments)-halfPi,wt=W.apply(this,arguments)-halfPi,mt=abs$1(wt-bt),_t=wt>bt;if(X||(X=st=tt()),ht<lt&&(ct=ht,ht=lt,lt=ct),!(ht>epsilon))X.moveTo(0,0);else if(mt>tau-epsilon)X.moveTo(ht*cos(bt),ht*sin(bt)),X.arc(0,0,ht,bt,wt,!_t),lt>epsilon&&(X.moveTo(lt*cos(wt),lt*sin(wt)),X.arc(0,0,lt,wt,bt,_t));else{var Et=bt,At=wt,Ct=bt,Ft=wt,Lt=mt,Yt=mt,Ht=q.apply(this,arguments)/2,qt=Ht>epsilon&&(F?+F.apply(this,arguments):sqrt(lt*lt+ht*ht)),te=min$1(abs$1(ht-lt)/2,+z.apply(this,arguments)),Xt=te,Dt=te,Qt,Nt;if(qt>epsilon){var ce=asin(qt/lt*sin(Ht)),Pt=asin(qt/ht*sin(Ht));(Lt-=ce*2)>epsilon?(ce*=_t?1:-1,Ct+=ce,Ft-=ce):(Lt=0,Ct=Ft=(bt+wt)/2),(Yt-=Pt*2)>epsilon?(Pt*=_t?1:-1,Et+=Pt,At-=Pt):(Yt=0,Et=At=(bt+wt)/2)}var de=ht*cos(Et),ye=ht*sin(Et),pe=lt*cos(Ft),ve=lt*sin(Ft);if(te>epsilon){var Ce=ht*cos(At),De=ht*sin(At),Oe=lt*cos(Ct),Je=lt*sin(Ct),qe;if(mt<pi)if(qe=intersect$1(de,ye,Oe,Je,Ce,De,pe,ve)){var ze=de-qe[0],we=ye-qe[1],Me=Ce-qe[0],He=De-qe[1],Le=1/sin(acos((ze*Me+we*He)/(sqrt(ze*ze+we*we)*sqrt(Me*Me+He*He)))/2),Ye=sqrt(qe[0]*qe[0]+qe[1]*qe[1]);Xt=min$1(te,(lt-Ye)/(Le-1)),Dt=min$1(te,(ht-Ye)/(Le+1))}else Xt=Dt=0}Yt>epsilon?Dt>epsilon?(Qt=cornerTangents(Oe,Je,de,ye,ht,Dt,_t),Nt=cornerTangents(Ce,De,pe,ve,ht,Dt,_t),X.moveTo(Qt.cx+Qt.x01,Qt.cy+Qt.y01),Dt<te?X.arc(Qt.cx,Qt.cy,Dt,atan2(Qt.y01,Qt.x01),atan2(Nt.y01,Nt.x01),!_t):(X.arc(Qt.cx,Qt.cy,Dt,atan2(Qt.y01,Qt.x01),atan2(Qt.y11,Qt.x11),!_t),X.arc(0,0,ht,atan2(Qt.cy+Qt.y11,Qt.cx+Qt.x11),atan2(Nt.cy+Nt.y11,Nt.cx+Nt.x11),!_t),X.arc(Nt.cx,Nt.cy,Dt,atan2(Nt.y11,Nt.x11),atan2(Nt.y01,Nt.x01),!_t))):(X.moveTo(de,ye),X.arc(0,0,ht,Et,At,!_t)):X.moveTo(de,ye),!(lt>epsilon)||!(Lt>epsilon)?X.lineTo(pe,ve):Xt>epsilon?(Qt=cornerTangents(pe,ve,Ce,De,lt,-Xt,_t),Nt=cornerTangents(de,ye,Oe,Je,lt,-Xt,_t),X.lineTo(Qt.cx+Qt.x01,Qt.cy+Qt.y01),Xt<te?X.arc(Qt.cx,Qt.cy,Xt,atan2(Qt.y01,Qt.x01),atan2(Nt.y01,Nt.x01),!_t):(X.arc(Qt.cx,Qt.cy,Xt,atan2(Qt.y01,Qt.x01),atan2(Qt.y11,Qt.x11),!_t),X.arc(0,0,lt,atan2(Qt.cy+Qt.y11,Qt.cx+Qt.x11),atan2(Nt.cy+Nt.y11,Nt.cx+Nt.x11),_t),X.arc(Nt.cx,Nt.cy,Xt,atan2(Nt.y11,Nt.x11),atan2(Nt.y01,Nt.x01),!_t))):X.arc(0,0,lt,Ft,Ct,_t)}if(X.closePath(),st)return X=null,st+""||null}return nt.centroid=function(){var st=(+D.apply(this,arguments)+ +O.apply(this,arguments))/2,ct=(+Y.apply(this,arguments)+ +W.apply(this,arguments))/2-pi/2;return[cos(ct)*st,sin(ct)*st]},nt.innerRadius=function(st){return arguments.length?(D=typeof st=="function"?st:constant$1(+st),nt):D},nt.outerRadius=function(st){return arguments.length?(O=typeof st=="function"?st:constant$1(+st),nt):O},nt.cornerRadius=function(st){return arguments.length?(z=typeof st=="function"?st:constant$1(+st),nt):z},nt.padRadius=function(st){return arguments.length?(F=st==null?null:typeof st=="function"?st:constant$1(+st),nt):F},nt.startAngle=function(st){return arguments.length?(Y=typeof st=="function"?st:constant$1(+st),nt):Y},nt.endAngle=function(st){return arguments.length?(W=typeof st=="function"?st:constant$1(+st),nt):W},nt.padAngle=function(st){return arguments.length?(q=typeof st=="function"?st:constant$1(+st),nt):q},nt.context=function(st){return arguments.length?(X=st??null,nt):X},nt}function array(D){return typeof D=="object"&&"length"in D?D:Array.from(D)}function Linear(D){this._context=D}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(D,O):this._context.moveTo(D,O);break;case 1:this._point=2;default:this._context.lineTo(D,O);break}}};function curveLinear(D){return new Linear(D)}function x(D){return D[0]}function y(D){return D[1]}function line$1(D,O){var z=constant$1(!0),F=null,Y=curveLinear,W=null,q=withPath(X);D=typeof D=="function"?D:D===void 0?x:constant$1(D),O=typeof O=="function"?O:O===void 0?y:constant$1(O);function X(tt){var nt,st=(tt=array(tt)).length,ct,lt=!1,ht;for(F==null&&(W=Y(ht=q())),nt=0;nt<=st;++nt)!(nt<st&&z(ct=tt[nt],nt,tt))===lt&&((lt=!lt)?W.lineStart():W.lineEnd()),lt&&W.point(+D(ct,nt,tt),+O(ct,nt,tt));if(ht)return W=null,ht+""||null}return X.x=function(tt){return arguments.length?(D=typeof tt=="function"?tt:constant$1(+tt),X):D},X.y=function(tt){return arguments.length?(O=typeof tt=="function"?tt:constant$1(+tt),X):O},X.defined=function(tt){return arguments.length?(z=typeof tt=="function"?tt:constant$1(!!tt),X):z},X.curve=function(tt){return arguments.length?(Y=tt,F!=null&&(W=Y(F)),X):Y},X.context=function(tt){return arguments.length?(tt==null?F=W=null:W=Y(F=tt),X):F},X}function descending(D,O){return O<D?-1:O>D?1:O>=D?0:NaN}function identity$1(D){return D}function pie(){var D=identity$1,O=descending,z=null,F=constant$1(0),Y=constant$1(tau),W=constant$1(0);function q(X){var tt,nt=(X=array(X)).length,st,ct,lt=0,ht=new Array(nt),bt=new Array(nt),wt=+F.apply(this,arguments),mt=Math.min(tau,Math.max(-tau,Y.apply(this,arguments)-wt)),_t,Et=Math.min(Math.abs(mt)/nt,W.apply(this,arguments)),At=Et*(mt<0?-1:1),Ct;for(tt=0;tt<nt;++tt)(Ct=bt[ht[tt]=tt]=+D(X[tt],tt,X))>0&&(lt+=Ct);for(O!=null?ht.sort(function(Ft,Lt){return O(bt[Ft],bt[Lt])}):z!=null&&ht.sort(function(Ft,Lt){return z(X[Ft],X[Lt])}),tt=0,ct=lt?(mt-nt*At)/lt:0;tt<nt;++tt,wt=_t)st=ht[tt],Ct=bt[st],_t=wt+(Ct>0?Ct*ct:0)+At,bt[st]={data:X[st],index:tt,value:Ct,startAngle:wt,endAngle:_t,padAngle:Et};return bt}return q.value=function(X){return arguments.length?(D=typeof X=="function"?X:constant$1(+X),q):D},q.sortValues=function(X){return arguments.length?(O=X,z=null,q):O},q.sort=function(X){return arguments.length?(z=X,O=null,q):z},q.startAngle=function(X){return arguments.length?(F=typeof X=="function"?X:constant$1(+X),q):F},q.endAngle=function(X){return arguments.length?(Y=typeof X=="function"?X:constant$1(+X),q):Y},q.padAngle=function(X){return arguments.length?(W=typeof X=="function"?X:constant$1(+X),q):W},q}class Bump{constructor(O,z){this._context=O,this._x=z}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(O,z){switch(O=+O,z=+z,this._point){case 0:{this._point=1,this._line?this._context.lineTo(O,z):this._context.moveTo(O,z);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+O)/2,this._y0,this._x0,z,O,z):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+z)/2,O,this._y0,O,z);break}}this._x0=O,this._y0=z}}function bumpX(D){return new Bump(D,!0)}function bumpY(D){return new Bump(D,!1)}function noop$1(){}function point$4(D,O,z){D._context.bezierCurveTo((2*D._x0+D._x1)/3,(2*D._y0+D._y1)/3,(D._x0+2*D._x1)/3,(D._y0+2*D._y1)/3,(D._x0+4*D._x1+O)/6,(D._y0+4*D._y1+z)/6)}function Basis(D){this._context=D}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(D,O):this._context.moveTo(D,O);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,D,O);break}this._x0=this._x1,this._x1=D,this._y0=this._y1,this._y1=O}};function curveBasis(D){return new Basis(D)}function BasisClosed(D){this._context=D}BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1,this._x2=D,this._y2=O;break;case 1:this._point=2,this._x3=D,this._y3=O;break;case 2:this._point=3,this._x4=D,this._y4=O,this._context.moveTo((this._x0+4*this._x1+D)/6,(this._y0+4*this._y1+O)/6);break;default:point$4(this,D,O);break}this._x0=this._x1,this._x1=D,this._y0=this._y1,this._y1=O}};function curveBasisClosed(D){return new BasisClosed(D)}function BasisOpen(D){this._context=D}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var z=(this._x0+4*this._x1+D)/6,F=(this._y0+4*this._y1+O)/6;this._line?this._context.lineTo(z,F):this._context.moveTo(z,F);break;case 3:this._point=4;default:point$4(this,D,O);break}this._x0=this._x1,this._x1=D,this._y0=this._y1,this._y1=O}};function curveBasisOpen(D){return new BasisOpen(D)}function Bundle(D,O){this._basis=new Basis(D),this._beta=O}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var D=this._x,O=this._y,z=D.length-1;if(z>0)for(var F=D[0],Y=O[0],W=D[z]-F,q=O[z]-Y,X=-1,tt;++X<=z;)tt=X/z,this._basis.point(this._beta*D[X]+(1-this._beta)*(F+tt*W),this._beta*O[X]+(1-this._beta)*(Y+tt*q));this._x=this._y=null,this._basis.lineEnd()},point:function(D,O){this._x.push(+D),this._y.push(+O)}};const curveBundle=function D(O){function z(F){return O===1?new Basis(F):new Bundle(F,O)}return z.beta=function(F){return D(+F)},z}(.85);function point$3(D,O,z){D._context.bezierCurveTo(D._x1+D._k*(D._x2-D._x0),D._y1+D._k*(D._y2-D._y0),D._x2+D._k*(D._x1-O),D._y2+D._k*(D._y1-z),D._x2,D._y2)}function Cardinal(D,O){this._context=D,this._k=(1-O)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(D,O):this._context.moveTo(D,O);break;case 1:this._point=2,this._x1=D,this._y1=O;break;case 2:this._point=3;default:point$3(this,D,O);break}this._x0=this._x1,this._x1=this._x2,this._x2=D,this._y0=this._y1,this._y1=this._y2,this._y2=O}};const curveCardinal=function D(O){function z(F){return new Cardinal(F,O)}return z.tension=function(F){return D(+F)},z}(0);function CardinalClosed(D,O){this._context=D,this._k=(1-O)/6}CardinalClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1,this._x3=D,this._y3=O;break;case 1:this._point=2,this._context.moveTo(this._x4=D,this._y4=O);break;case 2:this._point=3,this._x5=D,this._y5=O;break;default:point$3(this,D,O);break}this._x0=this._x1,this._x1=this._x2,this._x2=D,this._y0=this._y1,this._y1=this._y2,this._y2=O}};const curveCardinalClosed=function D(O){function z(F){return new CardinalClosed(F,O)}return z.tension=function(F){return D(+F)},z}(0);function CardinalOpen(D,O){this._context=D,this._k=(1-O)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,D,O);break}this._x0=this._x1,this._x1=this._x2,this._x2=D,this._y0=this._y1,this._y1=this._y2,this._y2=O}};const curveCardinalOpen=function D(O){function z(F){return new CardinalOpen(F,O)}return z.tension=function(F){return D(+F)},z}(0);function point$2(D,O,z){var F=D._x1,Y=D._y1,W=D._x2,q=D._y2;if(D._l01_a>epsilon){var X=2*D._l01_2a+3*D._l01_a*D._l12_a+D._l12_2a,tt=3*D._l01_a*(D._l01_a+D._l12_a);F=(F*X-D._x0*D._l12_2a+D._x2*D._l01_2a)/tt,Y=(Y*X-D._y0*D._l12_2a+D._y2*D._l01_2a)/tt}if(D._l23_a>epsilon){var nt=2*D._l23_2a+3*D._l23_a*D._l12_a+D._l12_2a,st=3*D._l23_a*(D._l23_a+D._l12_a);W=(W*nt+D._x1*D._l23_2a-O*D._l12_2a)/st,q=(q*nt+D._y1*D._l23_2a-z*D._l12_2a)/st}D._context.bezierCurveTo(F,Y,W,q,D._x2,D._y2)}function CatmullRom(D,O){this._context=D,this._alpha=O}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){if(D=+D,O=+O,this._point){var z=this._x2-D,F=this._y2-O;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+F*F,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(D,O):this._context.moveTo(D,O);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,D,O);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=D,this._y0=this._y1,this._y1=this._y2,this._y2=O}};const curveCatmullRom=function D(O){function z(F){return O?new CatmullRom(F,O):new Cardinal(F,0)}return z.alpha=function(F){return D(+F)},z}(.5);function CatmullRomClosed(D,O){this._context=D,this._alpha=O}CatmullRomClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(D,O){if(D=+D,O=+O,this._point){var z=this._x2-D,F=this._y2-O;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+F*F,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=D,this._y3=O;break;case 1:this._point=2,this._context.moveTo(this._x4=D,this._y4=O);break;case 2:this._point=3,this._x5=D,this._y5=O;break;default:point$2(this,D,O);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=D,this._y0=this._y1,this._y1=this._y2,this._y2=O}};const curveCatmullRomClosed=function D(O){function z(F){return O?new CatmullRomClosed(F,O):new CardinalClosed(F,0)}return z.alpha=function(F){return D(+F)},z}(.5);function CatmullRomOpen(D,O){this._context=D,this._alpha=O}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){if(D=+D,O=+O,this._point){var z=this._x2-D,F=this._y2-O;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+F*F,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,D,O);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=D,this._y0=this._y1,this._y1=this._y2,this._y2=O}};const curveCatmullRomOpen=function D(O){function z(F){return O?new CatmullRomOpen(F,O):new CardinalOpen(F,0)}return z.alpha=function(F){return D(+F)},z}(.5);function LinearClosed(D){this._context=D}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(D,O){D=+D,O=+O,this._point?this._context.lineTo(D,O):(this._point=1,this._context.moveTo(D,O))}};function curveLinearClosed(D){return new LinearClosed(D)}function sign(D){return D<0?-1:1}function slope3(D,O,z){var F=D._x1-D._x0,Y=O-D._x1,W=(D._y1-D._y0)/(F||Y<0&&-0),q=(z-D._y1)/(Y||F<0&&-0),X=(W*Y+q*F)/(F+Y);return(sign(W)+sign(q))*Math.min(Math.abs(W),Math.abs(q),.5*Math.abs(X))||0}function slope2(D,O){var z=D._x1-D._x0;return z?(3*(D._y1-D._y0)/z-O)/2:O}function point$1(D,O,z){var F=D._x0,Y=D._y0,W=D._x1,q=D._y1,X=(W-F)/3;D._context.bezierCurveTo(F+X,Y+X*O,W-X,q-X*z,W,q)}function MonotoneX(D){this._context=D}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(D,O){var z=NaN;if(D=+D,O=+O,!(D===this._x1&&O===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(D,O):this._context.moveTo(D,O);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,z=slope3(this,D,O)),z);break;default:point$1(this,this._t0,z=slope3(this,D,O));break}this._x0=this._x1,this._x1=D,this._y0=this._y1,this._y1=O,this._t0=z}}};function MonotoneY(D){this._context=new ReflectContext(D)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(D,O){MonotoneX.prototype.point.call(this,O,D)};function ReflectContext(D){this._context=D}ReflectContext.prototype={moveTo:function(D,O){this._context.moveTo(O,D)},closePath:function(){this._context.closePath()},lineTo:function(D,O){this._context.lineTo(O,D)},bezierCurveTo:function(D,O,z,F,Y,W){this._context.bezierCurveTo(O,D,F,z,W,Y)}};function monotoneX(D){return new MonotoneX(D)}function monotoneY(D){return new MonotoneY(D)}function Natural(D){this._context=D}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var D=this._x,O=this._y,z=D.length;if(z)if(this._line?this._context.lineTo(D[0],O[0]):this._context.moveTo(D[0],O[0]),z===2)this._context.lineTo(D[1],O[1]);else for(var F=controlPoints(D),Y=controlPoints(O),W=0,q=1;q<z;++W,++q)this._context.bezierCurveTo(F[0][W],Y[0][W],F[1][W],Y[1][W],D[q],O[q]);(this._line||this._line!==0&&z===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(D,O){this._x.push(+D),this._y.push(+O)}};function controlPoints(D){var O,z=D.length-1,F,Y=new Array(z),W=new Array(z),q=new Array(z);for(Y[0]=0,W[0]=2,q[0]=D[0]+2*D[1],O=1;O<z-1;++O)Y[O]=1,W[O]=4,q[O]=4*D[O]+2*D[O+1];for(Y[z-1]=2,W[z-1]=7,q[z-1]=8*D[z-1]+D[z],O=1;O<z;++O)F=Y[O]/W[O-1],W[O]-=F,q[O]-=F*q[O-1];for(Y[z-1]=q[z-1]/W[z-1],O=z-2;O>=0;--O)Y[O]=(q[O]-Y[O+1])/W[O];for(W[z-1]=(D[z]+Y[z-1])/2,O=0;O<z-1;++O)W[O]=2*D[O+1]-Y[O+1];return[Y,W]}function curveNatural(D){return new Natural(D)}function Step(D,O){this._context=D,this._t=O}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(D,O){switch(D=+D,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(D,O):this._context.moveTo(D,O);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,O),this._context.lineTo(D,O);else{var z=this._x*(1-this._t)+D*this._t;this._context.lineTo(z,this._y),this._context.lineTo(z,O)}break}}this._x=D,this._y=O}};function curveStep(D){return new Step(D,.5)}function stepBefore(D){return new Step(D,0)}function stepAfter(D){return new Step(D,1)}function Transform(D,O,z){this.k=D,this.x=O,this.y=z}Transform.prototype={constructor:Transform,scale:function(D){return D===1?this:new Transform(this.k*D,this.x,this.y)},translate:function(D,O){return D===0&O===0?this:new Transform(this.k,this.x+this.k*D,this.y+this.k*O)},apply:function(D){return[D[0]*this.k+this.x,D[1]*this.k+this.y]},applyX:function(D){return D*this.k+this.x},applyY:function(D){return D*this.k+this.y},invert:function(D){return[(D[0]-this.x)/this.k,(D[1]-this.y)/this.k]},invertX:function(D){return(D-this.x)/this.k},invertY:function(D){return(D-this.y)/this.k},rescaleX:function(D){return D.copy().domain(D.range().map(this.invertX,this).map(D.invert,D))},rescaleY:function(D){return D.copy().domain(D.range().map(this.invertY,this).map(D.invert,D))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */function _typeof(D){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},_typeof(D)}function _setPrototypeOf(D,O){return _setPrototypeOf=Object.setPrototypeOf||function(F,Y){return F.__proto__=Y,F},_setPrototypeOf(D,O)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(D,O,z){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(Y,W,q){var X=[null];X.push.apply(X,W);var tt=Function.bind.apply(Y,X),nt=new tt;return q&&_setPrototypeOf(nt,q.prototype),nt},_construct.apply(null,arguments)}function _toConsumableArray(D){return _arrayWithoutHoles(D)||_iterableToArray(D)||_unsupportedIterableToArray(D)||_nonIterableSpread()}function _arrayWithoutHoles(D){if(Array.isArray(D))return _arrayLikeToArray(D)}function _iterableToArray(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}function _unsupportedIterableToArray(D,O){if(D){if(typeof D=="string")return _arrayLikeToArray(D,O);var z=Object.prototype.toString.call(D).slice(8,-1);if(z==="Object"&&D.constructor&&(z=D.constructor.name),z==="Map"||z==="Set")return Array.from(D);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return _arrayLikeToArray(D,O)}}function _arrayLikeToArray(D,O){(O==null||O>D.length)&&(O=D.length);for(var z=0,F=new Array(O);z<O;z++)F[z]=D[z];return F}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hasOwnProperty$g=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create=Object.create,_ref=typeof Reflect<"u"&&Reflect,apply$2=_ref.apply,construct=_ref.construct;apply$2||(apply$2=function(O,z,F){return O.apply(z,F)});freeze||(freeze=function(O){return O});seal||(seal=function(O){return O});construct||(construct=function(O,z){return _construct(O,_toConsumableArray(z))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush$1=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(D){return function(O){for(var z=arguments.length,F=new Array(z>1?z-1:0),Y=1;Y<z;Y++)F[Y-1]=arguments[Y];return apply$2(D,O,F)}}function unconstruct(D){return function(){for(var O=arguments.length,z=new Array(O),F=0;F<O;F++)z[F]=arguments[F];return construct(D,z)}}function addToSet(D,O,z){z=z||stringToLowerCase,setPrototypeOf&&setPrototypeOf(D,null);for(var F=O.length;F--;){var Y=O[F];if(typeof Y=="string"){var W=z(Y);W!==Y&&(isFrozen(O)||(O[F]=W),Y=W)}D[Y]=!0}return D}function clone$2(D){var O=create(null),z;for(z in D)apply$2(hasOwnProperty$g,D,[z])===!0&&(O[z]=D[z]);return O}function lookupGetter(D,O){for(;D!==null;){var z=getOwnPropertyDescriptor(D,O);if(z){if(z.get)return unapply(z.get);if(typeof z.value=="function")return unapply(z.value)}D=getPrototypeOf(D)}function F(Y){return console.warn("fallback value for",Y),null}return F}var html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),getGlobal=function D(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function D(O,z){if(_typeof(O)!=="object"||typeof O.createPolicy!="function")return null;var F=null,Y="data-tt-policy-suffix";z.currentScript&&z.currentScript.hasAttribute(Y)&&(F=z.currentScript.getAttribute(Y));var W="dompurify"+(F?"#"+F:"");try{return O.createPolicy(W,{createHTML:function(X){return X},createScriptURL:function(X){return X}})}catch{return console.warn("TrustedTypes policy "+W+" could not be created."),null}};function createDOMPurify(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal(),O=function(je){return createDOMPurify(je)};if(O.version="2.4.3",O.removed=[],!D||!D.document||D.document.nodeType!==9)return O.isSupported=!1,O;var z=D.document,F=D.document,Y=D.DocumentFragment,W=D.HTMLTemplateElement,q=D.Node,X=D.Element,tt=D.NodeFilter,nt=D.NamedNodeMap,st=nt===void 0?D.NamedNodeMap||D.MozNamedAttrMap:nt,ct=D.HTMLFormElement,lt=D.DOMParser,ht=D.trustedTypes,bt=X.prototype,wt=lookupGetter(bt,"cloneNode"),mt=lookupGetter(bt,"nextSibling"),_t=lookupGetter(bt,"childNodes"),Et=lookupGetter(bt,"parentNode");if(typeof W=="function"){var At=F.createElement("template");At.content&&At.content.ownerDocument&&(F=At.content.ownerDocument)}var Ct=_createTrustedTypesPolicy(ht,z),Ft=Ct?Ct.createHTML(""):"",Lt=F,Yt=Lt.implementation,Ht=Lt.createNodeIterator,qt=Lt.createDocumentFragment,te=Lt.getElementsByTagName,Xt=z.importNode,Dt={};try{Dt=clone$2(F).documentMode?F.documentMode:{}}catch{}var Qt={};O.isSupported=typeof Et=="function"&&Yt&&typeof Yt.createHTMLDocument<"u"&&Dt!==9;var Nt=MUSTACHE_EXPR,ce=ERB_EXPR,Pt=TMPLIT_EXPR,de=DATA_ATTR,ye=ARIA_ATTR,pe=IS_SCRIPT_OR_DATA,ve=ATTR_WHITESPACE,Ce=IS_ALLOWED_URI,De=null,Oe=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(svgFilters),_toConsumableArray(mathMl$1),_toConsumableArray(text))),Je=null,qe=addToSet({},[].concat(_toConsumableArray(html),_toConsumableArray(svg),_toConsumableArray(mathMl),_toConsumableArray(xml))),ze=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,Me=null,He=!0,Le=!0,Ye=!1,Kt=!1,kt=!1,jt=!1,$t=!1,oe=!1,Vt=!1,Be=!1,ge=!0,Pe=!1,ke="user-content-",$e=!0,Fe=!1,Qe={},We=null,rn=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),zn=null,Bn=addToSet({},["audio","video","img","source","image","track"]),Pn=null,jn=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jn="http://www.w3.org/1998/Math/MathML",rr="http://www.w3.org/2000/svg",sr="http://www.w3.org/1999/xhtml",on=sr,ie=!1,ne=null,xe=addToSet({},[Jn,rr,sr],stringToString),Ae,Ve=["application/xhtml+xml","text/html"],vn="text/html",Ge,Dn=null,en=F.createElement("form"),Fn=function(je){return je instanceof RegExp||je instanceof Function},$n=function(je){Dn&&Dn===je||((!je||_typeof(je)!=="object")&&(je={}),je=clone$2(je),Ae=Ve.indexOf(je.PARSER_MEDIA_TYPE)===-1?Ae=vn:Ae=je.PARSER_MEDIA_TYPE,Ge=Ae==="application/xhtml+xml"?stringToString:stringToLowerCase,De="ALLOWED_TAGS"in je?addToSet({},je.ALLOWED_TAGS,Ge):Oe,Je="ALLOWED_ATTR"in je?addToSet({},je.ALLOWED_ATTR,Ge):qe,ne="ALLOWED_NAMESPACES"in je?addToSet({},je.ALLOWED_NAMESPACES,stringToString):xe,Pn="ADD_URI_SAFE_ATTR"in je?addToSet(clone$2(jn),je.ADD_URI_SAFE_ATTR,Ge):jn,zn="ADD_DATA_URI_TAGS"in je?addToSet(clone$2(Bn),je.ADD_DATA_URI_TAGS,Ge):Bn,We="FORBID_CONTENTS"in je?addToSet({},je.FORBID_CONTENTS,Ge):rn,we="FORBID_TAGS"in je?addToSet({},je.FORBID_TAGS,Ge):{},Me="FORBID_ATTR"in je?addToSet({},je.FORBID_ATTR,Ge):{},Qe="USE_PROFILES"in je?je.USE_PROFILES:!1,He=je.ALLOW_ARIA_ATTR!==!1,Le=je.ALLOW_DATA_ATTR!==!1,Ye=je.ALLOW_UNKNOWN_PROTOCOLS||!1,Kt=je.SAFE_FOR_TEMPLATES||!1,kt=je.WHOLE_DOCUMENT||!1,oe=je.RETURN_DOM||!1,Vt=je.RETURN_DOM_FRAGMENT||!1,Be=je.RETURN_TRUSTED_TYPE||!1,$t=je.FORCE_BODY||!1,ge=je.SANITIZE_DOM!==!1,Pe=je.SANITIZE_NAMED_PROPS||!1,$e=je.KEEP_CONTENT!==!1,Fe=je.IN_PLACE||!1,Ce=je.ALLOWED_URI_REGEXP||Ce,on=je.NAMESPACE||sr,je.CUSTOM_ELEMENT_HANDLING&&Fn(je.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ze.tagNameCheck=je.CUSTOM_ELEMENT_HANDLING.tagNameCheck),je.CUSTOM_ELEMENT_HANDLING&&Fn(je.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ze.attributeNameCheck=je.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),je.CUSTOM_ELEMENT_HANDLING&&typeof je.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ze.allowCustomizedBuiltInElements=je.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Kt&&(Le=!1),Vt&&(oe=!0),Qe&&(De=addToSet({},_toConsumableArray(text)),Je=[],Qe.html===!0&&(addToSet(De,html$1),addToSet(Je,html)),Qe.svg===!0&&(addToSet(De,svg$1),addToSet(Je,svg),addToSet(Je,xml)),Qe.svgFilters===!0&&(addToSet(De,svgFilters),addToSet(Je,svg),addToSet(Je,xml)),Qe.mathMl===!0&&(addToSet(De,mathMl$1),addToSet(Je,mathMl),addToSet(Je,xml))),je.ADD_TAGS&&(De===Oe&&(De=clone$2(De)),addToSet(De,je.ADD_TAGS,Ge)),je.ADD_ATTR&&(Je===qe&&(Je=clone$2(Je)),addToSet(Je,je.ADD_ATTR,Ge)),je.ADD_URI_SAFE_ATTR&&addToSet(Pn,je.ADD_URI_SAFE_ATTR,Ge),je.FORBID_CONTENTS&&(We===rn&&(We=clone$2(We)),addToSet(We,je.FORBID_CONTENTS,Ge)),$e&&(De["#text"]=!0),kt&&addToSet(De,["html","head","body"]),De.table&&(addToSet(De,["tbody"]),delete we.tbody),freeze&&freeze(je),Dn=je)},Kn=addToSet({},["mi","mo","mn","ms","mtext"]),Wn=addToSet({},["foreignobject","desc","title","annotation-xml"]),mr=addToSet({},["title","style","font","a","script"]),ir=addToSet({},svg$1);addToSet(ir,svgFilters),addToSet(ir,svgDisallowed);var wr=addToSet({},mathMl$1);addToSet(wr,mathMlDisallowed);var Lr=function(je){var gn=Et(je);(!gn||!gn.tagName)&&(gn={namespaceURI:on,tagName:"template"});var In=stringToLowerCase(je.tagName),Hn=stringToLowerCase(gn.tagName);return ne[je.namespaceURI]?je.namespaceURI===rr?gn.namespaceURI===sr?In==="svg":gn.namespaceURI===Jn?In==="svg"&&(Hn==="annotation-xml"||Kn[Hn]):!!ir[In]:je.namespaceURI===Jn?gn.namespaceURI===sr?In==="math":gn.namespaceURI===rr?In==="math"&&Wn[Hn]:!!wr[In]:je.namespaceURI===sr?gn.namespaceURI===rr&&!Wn[Hn]||gn.namespaceURI===Jn&&!Kn[Hn]?!1:!wr[In]&&(mr[In]||!ir[In]):!!(Ae==="application/xhtml+xml"&&ne[je.namespaceURI]):!1},Dr=function(je){arrayPush$1(O.removed,{element:je});try{je.parentNode.removeChild(je)}catch{try{je.outerHTML=Ft}catch{je.remove()}}},Fo=function(je,gn){try{arrayPush$1(O.removed,{attribute:gn.getAttributeNode(je),from:gn})}catch{arrayPush$1(O.removed,{attribute:null,from:gn})}if(gn.removeAttribute(je),je==="is"&&!Je[je])if(oe||Vt)try{Dr(gn)}catch{}else try{gn.setAttribute(je,"")}catch{}},xo=function(je){var gn,In;if($t)je="<remove></remove>"+je;else{var Hn=stringMatch(je,/^[\r\n\t ]+/);In=Hn&&Hn[0]}Ae==="application/xhtml+xml"&&on===sr&&(je='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+je+"</body></html>");var Er=Ct?Ct.createHTML(je):je;if(on===sr)try{gn=new lt().parseFromString(Er,Ae)}catch{}if(!gn||!gn.documentElement){gn=Yt.createDocument(on,"template",null);try{gn.documentElement.innerHTML=ie?Ft:Er}catch{}}var Or=gn.body||gn.documentElement;return je&&In&&Or.insertBefore(F.createTextNode(In),Or.childNodes[0]||null),on===sr?te.call(gn,kt?"html":"body")[0]:kt?gn.documentElement:Or},tr=function(je){return Ht.call(je.ownerDocument||je,je,tt.SHOW_ELEMENT|tt.SHOW_COMMENT|tt.SHOW_TEXT,null,!1)},Cr=function(je){return je instanceof ct&&(typeof je.nodeName!="string"||typeof je.textContent!="string"||typeof je.removeChild!="function"||!(je.attributes instanceof st)||typeof je.removeAttribute!="function"||typeof je.setAttribute!="function"||typeof je.namespaceURI!="string"||typeof je.insertBefore!="function"||typeof je.hasChildNodes!="function")},go=function(je){return _typeof(q)==="object"?je instanceof q:je&&_typeof(je)==="object"&&typeof je.nodeType=="number"&&typeof je.nodeName=="string"},Un=function(je,gn,In){Qt[je]&&arrayForEach(Qt[je],function(Hn){Hn.call(O,gn,In,Dn)})},zi=function(je){var gn;if(Un("beforeSanitizeElements",je,null),Cr(je)||regExpTest(/[\u0080-\uFFFF]/,je.nodeName))return Dr(je),!0;var In=Ge(je.nodeName);if(Un("uponSanitizeElement",je,{tagName:In,allowedTags:De}),je.hasChildNodes()&&!go(je.firstElementChild)&&(!go(je.content)||!go(je.content.firstElementChild))&&regExpTest(/<[/\w]/g,je.innerHTML)&&regExpTest(/<[/\w]/g,je.textContent)||In==="select"&&regExpTest(/<template/i,je.innerHTML))return Dr(je),!0;if(!De[In]||we[In]){if(!we[In]&&io(In)&&(ze.tagNameCheck instanceof RegExp&&regExpTest(ze.tagNameCheck,In)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(In)))return!1;if($e&&!We[In]){var Hn=Et(je)||je.parentNode,Er=_t(je)||je.childNodes;if(Er&&Hn)for(var Or=Er.length,ci=Or-1;ci>=0;--ci)Hn.insertBefore(wt(Er[ci],!0),mt(je))}return Dr(je),!0}return je instanceof X&&!Lr(je)||(In==="noscript"||In==="noembed")&&regExpTest(/<\/no(script|embed)/i,je.innerHTML)?(Dr(je),!0):(Kt&&je.nodeType===3&&(gn=je.textContent,gn=stringReplace(gn,Nt," "),gn=stringReplace(gn,ce," "),gn=stringReplace(gn,Pt," "),je.textContent!==gn&&(arrayPush$1(O.removed,{element:je.cloneNode()}),je.textContent=gn)),Un("afterSanitizeElements",je,null),!1)},uo=function(je,gn,In){if(ge&&(gn==="id"||gn==="name")&&(In in F||In in en))return!1;if(!(Le&&!Me[gn]&&regExpTest(de,gn))){if(!(He&&regExpTest(ye,gn))){if(!Je[gn]||Me[gn]){if(!(io(je)&&(ze.tagNameCheck instanceof RegExp&&regExpTest(ze.tagNameCheck,je)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(je))&&(ze.attributeNameCheck instanceof RegExp&&regExpTest(ze.attributeNameCheck,gn)||ze.attributeNameCheck instanceof Function&&ze.attributeNameCheck(gn))||gn==="is"&&ze.allowCustomizedBuiltInElements&&(ze.tagNameCheck instanceof RegExp&&regExpTest(ze.tagNameCheck,In)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(In))))return!1}else if(!Pn[gn]){if(!regExpTest(Ce,stringReplace(In,ve,""))){if(!((gn==="src"||gn==="xlink:href"||gn==="href")&&je!=="script"&&stringIndexOf(In,"data:")===0&&zn[je])){if(!(Ye&&!regExpTest(pe,stringReplace(In,ve,"")))){if(In)return!1}}}}}}return!0},io=function(je){return je.indexOf("-")>0},sn=function(je){var gn,In,Hn,Er;Un("beforeSanitizeAttributes",je,null);var Or=je.attributes;if(Or){var ci={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Je};for(Er=Or.length;Er--;){gn=Or[Er];var Si=gn,si=Si.name,mo=Si.namespaceURI;if(In=si==="value"?gn.value:stringTrim(gn.value),Hn=Ge(si),ci.attrName=Hn,ci.attrValue=In,ci.keepAttr=!0,ci.forceKeepAttr=void 0,Un("uponSanitizeAttribute",je,ci),In=ci.attrValue,!ci.forceKeepAttr&&(Fo(si,je),!!ci.keepAttr)){if(regExpTest(/\/>/i,In)){Fo(si,je);continue}Kt&&(In=stringReplace(In,Nt," "),In=stringReplace(In,ce," "),In=stringReplace(In,Pt," "));var Co=Ge(je.nodeName);if(uo(Co,Hn,In)){if(Pe&&(Hn==="id"||Hn==="name")&&(Fo(si,je),In=ke+In),Ct&&_typeof(ht)==="object"&&typeof ht.getAttributeType=="function"&&!mo)switch(ht.getAttributeType(Co,Hn)){case"TrustedHTML":In=Ct.createHTML(In);break;case"TrustedScriptURL":In=Ct.createScriptURL(In);break}try{mo?je.setAttributeNS(mo,si,In):je.setAttribute(si,In),arrayPop(O.removed)}catch{}}}}Un("afterSanitizeAttributes",je,null)}},En=function un(je){var gn,In=tr(je);for(Un("beforeSanitizeShadowDOM",je,null);gn=In.nextNode();)Un("uponSanitizeShadowNode",gn,null),!zi(gn)&&(gn.content instanceof Y&&un(gn.content),sn(gn));Un("afterSanitizeShadowDOM",je,null)};return O.sanitize=function(un){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gn,In,Hn,Er,Or;if(ie=!un,ie&&(un="<!-->"),typeof un!="string"&&!go(un)){if(typeof un.toString!="function")throw typeErrorCreate("toString is not a function");if(un=un.toString(),typeof un!="string")throw typeErrorCreate("dirty is not a string, aborting")}if(!O.isSupported){if(_typeof(D.toStaticHTML)==="object"||typeof D.toStaticHTML=="function"){if(typeof un=="string")return D.toStaticHTML(un);if(go(un))return D.toStaticHTML(un.outerHTML)}return un}if(jt||$n(je),O.removed=[],typeof un=="string"&&(Fe=!1),Fe){if(un.nodeName){var ci=Ge(un.nodeName);if(!De[ci]||we[ci])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(un instanceof q)gn=xo("<!---->"),In=gn.ownerDocument.importNode(un,!0),In.nodeType===1&&In.nodeName==="BODY"||In.nodeName==="HTML"?gn=In:gn.appendChild(In);else{if(!oe&&!Kt&&!kt&&un.indexOf("<")===-1)return Ct&&Be?Ct.createHTML(un):un;if(gn=xo(un),!gn)return oe?null:Be?Ft:""}gn&&$t&&Dr(gn.firstChild);for(var Si=tr(Fe?un:gn);Hn=Si.nextNode();)Hn.nodeType===3&&Hn===Er||zi(Hn)||(Hn.content instanceof Y&&En(Hn.content),sn(Hn),Er=Hn);if(Er=null,Fe)return un;if(oe){if(Vt)for(Or=qt.call(gn.ownerDocument);gn.firstChild;)Or.appendChild(gn.firstChild);else Or=gn;return Je.shadowroot&&(Or=Xt.call(z,Or,!0)),Or}var si=kt?gn.outerHTML:gn.innerHTML;return kt&&De["!doctype"]&&gn.ownerDocument&&gn.ownerDocument.doctype&&gn.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,gn.ownerDocument.doctype.name)&&(si="<!DOCTYPE "+gn.ownerDocument.doctype.name+`>
`+si),Kt&&(si=stringReplace(si,Nt," "),si=stringReplace(si,ce," "),si=stringReplace(si,Pt," ")),Ct&&Be?Ct.createHTML(si):si},O.setConfig=function(un){$n(un),jt=!0},O.clearConfig=function(){Dn=null,jt=!1},O.isValidAttribute=function(un,je,gn){Dn||$n({});var In=Ge(un),Hn=Ge(je);return uo(In,Hn,gn)},O.addHook=function(un,je){typeof je=="function"&&(Qt[un]=Qt[un]||[],arrayPush$1(Qt[un],je))},O.removeHook=function(un){if(Qt[un])return arrayPop(Qt[un])},O.removeHooks=function(un){Qt[un]&&(Qt[un]=[])},O.removeAllHooks=function(){Qt={}},O}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:D=>D>=255?255:D<0?0:D,g:D=>D>=255?255:D<0?0:D,b:D=>D>=255?255:D<0?0:D,h:D=>D%360,s:D=>D>=100?100:D<0?0:D,l:D=>D>=100?100:D<0?0:D,a:D=>D>=1?1:D<0?0:D},toLinear:D=>{const O=D/255;return D>.03928?Math.pow((O+.055)/1.055,2.4):O/12.92},hue2rgb:(D,O,z)=>(z<0&&(z+=1),z>1&&(z-=1),z<1/6?D+(O-D)*6*z:z<1/2?O:z<2/3?D+(O-D)*(2/3-z)*6:D),hsl2rgb:({h:D,s:O,l:z},F)=>{if(!O)return z*2.55;D/=360,O/=100,z/=100;const Y=z<.5?z*(1+O):z+O-z*O,W=2*z-Y;switch(F){case"r":return Channel.hue2rgb(W,Y,D+1/3)*255;case"g":return Channel.hue2rgb(W,Y,D)*255;case"b":return Channel.hue2rgb(W,Y,D-1/3)*255}},rgb2hsl:({r:D,g:O,b:z},F)=>{D/=255,O/=255,z/=255;const Y=Math.max(D,O,z),W=Math.min(D,O,z),q=(Y+W)/2;if(F==="l")return q*100;if(Y===W)return 0;const X=Y-W,tt=q>.5?X/(2-Y-W):X/(Y+W);if(F==="s")return tt*100;switch(Y){case D:return((O-z)/X+(O<z?6:0))*60;case O:return((z-D)/X+2)*60;case z:return((D-O)/X+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(D,O,z)=>O>z?Math.min(O,Math.max(z,D)):Math.min(z,Math.max(O,D)),round:D=>Math.round(D*1e10)/1e10},lang=Lang,Unit={dec2hex:D=>{const O=Math.round(D).toString(16);return O.length>1?O:`0${O}`}},unit=Unit,Utils={channel,lang,unit},_=Utils,DEC2HEX={};for(let D=0;D<=255;D++)DEC2HEX[D]=_.unit.dec2hex(D);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(O){if(this.type&&this.type!==O)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=O}reset(){this.type=TYPE.ALL}is(O){return this.type===O}}const Type$2=Type;class Channels{constructor(O,z){this.color=z,this.changed=!1,this.data=O,this.type=new Type$2}set(O,z){return this.color=z,this.changed=!1,this.data=O,this.type.type=TYPE.ALL,this}_ensureHSL(){const O=this.data,{h:z,s:F,l:Y}=O;z===void 0&&(O.h=_.channel.rgb2hsl(O,"h")),F===void 0&&(O.s=_.channel.rgb2hsl(O,"s")),Y===void 0&&(O.l=_.channel.rgb2hsl(O,"l"))}_ensureRGB(){const O=this.data,{r:z,g:F,b:Y}=O;z===void 0&&(O.r=_.channel.hsl2rgb(O,"r")),F===void 0&&(O.g=_.channel.hsl2rgb(O,"g")),Y===void 0&&(O.b=_.channel.hsl2rgb(O,"b"))}get r(){const O=this.data,z=O.r;return!this.type.is(TYPE.HSL)&&z!==void 0?z:(this._ensureHSL(),_.channel.hsl2rgb(O,"r"))}get g(){const O=this.data,z=O.g;return!this.type.is(TYPE.HSL)&&z!==void 0?z:(this._ensureHSL(),_.channel.hsl2rgb(O,"g"))}get b(){const O=this.data,z=O.b;return!this.type.is(TYPE.HSL)&&z!==void 0?z:(this._ensureHSL(),_.channel.hsl2rgb(O,"b"))}get h(){const O=this.data,z=O.h;return!this.type.is(TYPE.RGB)&&z!==void 0?z:(this._ensureRGB(),_.channel.rgb2hsl(O,"h"))}get s(){const O=this.data,z=O.s;return!this.type.is(TYPE.RGB)&&z!==void 0?z:(this._ensureRGB(),_.channel.rgb2hsl(O,"s"))}get l(){const O=this.data,z=O.l;return!this.type.is(TYPE.RGB)&&z!==void 0?z:(this._ensureRGB(),_.channel.rgb2hsl(O,"l"))}get a(){return this.data.a}set r(O){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=O}set g(O){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=O}set b(O){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=O}set h(O){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=O}set s(O){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=O}set l(O){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=O}set a(O){this.changed=!0,this.data.a=O}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:D=>{if(D.charCodeAt(0)!==35)return;const O=D.match(Hex.re);if(!O)return;const z=O[1],F=parseInt(z,16),Y=z.length,W=Y%4===0,q=Y>4,X=q?1:17,tt=q?8:4,nt=W?0:-1,st=q?255:15;return ChannelsReusable.set({r:(F>>tt*(nt+3)&st)*X,g:(F>>tt*(nt+2)&st)*X,b:(F>>tt*(nt+1)&st)*X,a:W?(F&st)*X/255:1},D)},stringify:D=>{const{r:O,g:z,b:F,a:Y}=D;return Y<1?`#${DEC2HEX[Math.round(O)]}${DEC2HEX[Math.round(z)]}${DEC2HEX[Math.round(F)]}${DEC2HEX[Math.round(Y*255)]}`:`#${DEC2HEX[Math.round(O)]}${DEC2HEX[Math.round(z)]}${DEC2HEX[Math.round(F)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:D=>{const O=D.match(HSL.hueRe);if(O){const[,z,F]=O;switch(F){case"grad":return _.channel.clamp.h(parseFloat(z)*.9);case"rad":return _.channel.clamp.h(parseFloat(z)*180/Math.PI);case"turn":return _.channel.clamp.h(parseFloat(z)*360)}}return _.channel.clamp.h(parseFloat(D))},parse:D=>{const O=D.charCodeAt(0);if(O!==104&&O!==72)return;const z=D.match(HSL.re);if(!z)return;const[,F,Y,W,q,X]=z;return ChannelsReusable.set({h:HSL._hue2deg(F),s:_.channel.clamp.s(parseFloat(Y)),l:_.channel.clamp.l(parseFloat(W)),a:q?_.channel.clamp.a(X?parseFloat(q)/100:parseFloat(q)):1},D)},stringify:D=>{const{h:O,s:z,l:F,a:Y}=D;return Y<1?`hsla(${_.lang.round(O)}, ${_.lang.round(z)}%, ${_.lang.round(F)}%, ${Y})`:`hsl(${_.lang.round(O)}, ${_.lang.round(z)}%, ${_.lang.round(F)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:D=>{D=D.toLowerCase();const O=Keyword.colors[D];if(O)return Hex$1.parse(O)},stringify:D=>{const O=Hex$1.stringify(D);for(const z in Keyword.colors)if(Keyword.colors[z]===O)return z}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:D=>{const O=D.charCodeAt(0);if(O!==114&&O!==82)return;const z=D.match(RGB.re);if(!z)return;const[,F,Y,W,q,X,tt,nt,st]=z;return ChannelsReusable.set({r:_.channel.clamp.r(Y?parseFloat(F)*2.55:parseFloat(F)),g:_.channel.clamp.g(q?parseFloat(W)*2.55:parseFloat(W)),b:_.channel.clamp.b(tt?parseFloat(X)*2.55:parseFloat(X)),a:nt?_.channel.clamp.a(st?parseFloat(nt)/100:parseFloat(nt)):1},D)},stringify:D=>{const{r:O,g:z,b:F,a:Y}=D;return Y<1?`rgba(${_.lang.round(O)}, ${_.lang.round(z)}, ${_.lang.round(F)}, ${_.lang.round(Y)})`:`rgb(${_.lang.round(O)}, ${_.lang.round(z)}, ${_.lang.round(F)})`}},RGB$1=RGB,Color={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:D=>{if(typeof D!="string")return D;const O=Hex$1.parse(D)||RGB$1.parse(D)||HSL$1.parse(D)||Keyword$1.parse(D);if(O)return O;throw new Error(`Unsupported color format: "${D}"`)},stringify:D=>!D.changed&&D.color?D.color:D.type.is(TYPE.HSL)||D.data.r===void 0?HSL$1.stringify(D):D.a<1||!Number.isInteger(D.r)||!Number.isInteger(D.g)||!Number.isInteger(D.b)?RGB$1.stringify(D):Hex$1.stringify(D)},Color$1=Color,change=(D,O)=>{const z=Color$1.parse(D);for(const F in O)z[F]=_.channel.clamp[F](O[F]);return Color$1.stringify(z)},change$1=change,rgba=(D,O,z=0,F=1)=>{if(typeof D!="number")return change$1(D,{a:O});const Y=ChannelsReusable.set({r:_.channel.clamp.r(D),g:_.channel.clamp.g(O),b:_.channel.clamp.b(z),a:_.channel.clamp.a(F)});return Color$1.stringify(Y)},rgba$1=rgba,adjustChannel=(D,O,z)=>{const F=Color$1.parse(D),Y=F[O],W=_.channel.clamp[O](Y+z);return Y!==W&&(F[O]=W),Color$1.stringify(F)},adjustChannel$1=adjustChannel,lighten=(D,O)=>adjustChannel$1(D,"l",O),lighten$1=lighten,darken=(D,O)=>adjustChannel$1(D,"l",-O),darken$1=darken,adjust$1=(D,O)=>{const z=Color$1.parse(D),F={};for(const Y in O)O[Y]&&(F[Y]=z[Y]+O[Y]);return change$1(D,F)},adjust$2=adjust$1,mix=(D,O,z=50)=>{const{r:F,g:Y,b:W,a:q}=Color$1.parse(D),{r:X,g:tt,b:nt,a:st}=Color$1.parse(O),ct=z/100,lt=ct*2-1,ht=q-st,wt=((lt*ht===-1?lt:(lt+ht)/(1+lt*ht))+1)/2,mt=1-wt,_t=F*wt+X*mt,Et=Y*wt+tt*mt,At=W*wt+nt*mt,Ct=q*ct+st*(1-ct);return rgba$1(_t,Et,At,Ct)},mix$1=mix,invert=(D,O=100)=>{const z=Color$1.parse(D);return z.r=255-z.r,z.g=255-z.g,z.b=255-z.b,mix$1(z,D,O)},invert$1=invert;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty,nativeObjectToString$1=objectProto$i.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(D){var O=hasOwnProperty$f.call(D,symToStringTag$1),z=D[symToStringTag$1];try{D[symToStringTag$1]=void 0;var F=!0}catch{}var Y=nativeObjectToString$1.call(D);return F&&(O?D[symToStringTag$1]=z:delete D[symToStringTag$1]),Y}var objectProto$h=Object.prototype,nativeObjectToString=objectProto$h.toString;function objectToString(D){return nativeObjectToString.call(D)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(D){return D==null?D===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(D)?getRawTag(D):objectToString(D)}function isObject$1(D){var O=typeof D;return D!=null&&(O=="object"||O=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(D){if(!isObject$1(D))return!1;var O=baseGetTag(D);return O==funcTag$2||O==genTag$1||O==asyncTag||O==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var D=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}();function isMasked(D){return!!maskSrcKey&&maskSrcKey in D}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(D){if(D!=null){try{return funcToString$2.call(D)}catch{}try{return D+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$g=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$e=objectProto$g.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$e).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(D){if(!isObject$1(D)||isMasked(D))return!1;var O=isFunction(D)?reIsNative:reIsHostCtor;return O.test(toSource(D))}function getValue(D,O){return D==null?void 0:D[O]}function getNative(D,O){var z=getValue(D,O);return baseIsNative(z)?z:void 0}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(D){var O=this.has(D)&&delete this.__data__[D];return this.size-=O?1:0,O}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty;function hashGet(D){var O=this.__data__;if(nativeCreate$1){var z=O[D];return z===HASH_UNDEFINED$2?void 0:z}return hasOwnProperty$d.call(O,D)?O[D]:void 0}var objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty;function hashHas(D){var O=this.__data__;return nativeCreate$1?O[D]!==void 0:hasOwnProperty$c.call(O,D)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(D,O){var z=this.__data__;return this.size+=this.has(D)?0:1,z[D]=nativeCreate$1&&O===void 0?HASH_UNDEFINED$1:O,this}function Hash(D){var O=-1,z=D==null?0:D.length;for(this.clear();++O<z;){var F=D[O];this.set(F[0],F[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(D,O){return D===O||D!==D&&O!==O}function assocIndexOf(D,O){for(var z=D.length;z--;)if(eq(D[z][0],O))return z;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(D){var O=this.__data__,z=assocIndexOf(O,D);if(z<0)return!1;var F=O.length-1;return z==F?O.pop():splice.call(O,z,1),--this.size,!0}function listCacheGet(D){var O=this.__data__,z=assocIndexOf(O,D);return z<0?void 0:O[z][1]}function listCacheHas(D){return assocIndexOf(this.__data__,D)>-1}function listCacheSet(D,O){var z=this.__data__,F=assocIndexOf(z,D);return F<0?(++this.size,z.push([D,O])):z[F][1]=O,this}function ListCache(D){var O=-1,z=D==null?0:D.length;for(this.clear();++O<z;){var F=D[O];this.set(F[0],F[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(D){var O=typeof D;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?D!=="__proto__":D===null}function getMapData(D,O){var z=D.__data__;return isKeyable(O)?z[typeof O=="string"?"string":"hash"]:z.map}function mapCacheDelete(D){var O=getMapData(this,D).delete(D);return this.size-=O?1:0,O}function mapCacheGet(D){return getMapData(this,D).get(D)}function mapCacheHas(D){return getMapData(this,D).has(D)}function mapCacheSet(D,O){var z=getMapData(this,D),F=z.size;return z.set(D,O),this.size+=z.size==F?0:1,this}function MapCache(D){var O=-1,z=D==null?0:D.length;for(this.clear();++O<z;){var F=D[O];this.set(F[0],F[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(D,O){if(typeof D!="function"||O!=null&&typeof O!="function")throw new TypeError(FUNC_ERROR_TEXT);var z=function(){var F=arguments,Y=O?O.apply(this,F):F[0],W=z.cache;if(W.has(Y))return W.get(Y);var q=D.apply(this,F);return z.cache=W.set(Y,q)||W,q};return z.cache=new(memoize.Cache||MapCache),z}memoize.Cache=MapCache;var COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim$1(D){return D.trim()}function replace(D,O,z){return D.replace(O,z)}function indexof(D,O){return D.indexOf(O)}function charat(D,O){return D.charCodeAt(O)|0}function substr(D,O,z){return D.slice(O,z)}function strlen(D){return D.length}function sizeof(D){return D.length}function append(D,O){return O.push(D),D}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(D,O,z,F,Y,W,q,X){return{value:D,root:O,parent:z,type:F,props:Y,children:W,line,column,length:q,return:"",siblings:X}}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(D,O){return substr(characters,D,O)}function token(D){switch(D){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(D){return line=column=1,length=strlen(characters=D),position$1=0,[]}function dealloc(D){return characters="",D}function delimit(D){return trim$1(slice(position$1-1,delimiter(D===91?D+2:D===40?D+1:D)))}function whitespace(D){for(;(character=peek())&&character<33;)next();return token(D)>2||token(character)>3?"":" "}function escaping(D,O){for(;--O&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(D,caret()+(O<6&&peek()==32&&next()==32))}function delimiter(D){for(;next();)switch(character){case D:return position$1;case 34:case 39:D!==34&&D!==39&&delimiter(character);break;case 40:D===41&&delimiter(D);break;case 92:next();break}return position$1}function commenter(D,O){for(;next()&&D+character!==47+10;)if(D+character===42+42&&peek()===47)break;return"/*"+slice(O,position$1-1)+"*"+from(D===47?D:next())}function identifier(D){for(;!token(peek());)next();return slice(D,position$1)}function compile(D){return dealloc(parse$3("",null,null,null,[""],D=alloc(D),0,[0],D))}function parse$3(D,O,z,F,Y,W,q,X,tt){for(var nt=0,st=0,ct=q,lt=0,ht=0,bt=0,wt=1,mt=1,_t=1,Et=0,At="",Ct=Y,Ft=W,Lt=F,Yt=At;mt;)switch(bt=Et,Et=next()){case 40:if(bt!=108&&charat(Yt,ct-1)==58){indexof(Yt+=replace(delimit(Et),"&","&\f"),"&\f")!=-1&&(_t=-1);break}case 34:case 39:case 91:Yt+=delimit(Et);break;case 9:case 10:case 13:case 32:Yt+=whitespace(bt);break;case 92:Yt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),O,z,tt),tt);break;default:Yt+="/"}break;case 123*wt:X[nt++]=strlen(Yt)*_t;case 125*wt:case 59:case 0:switch(Et){case 0:case 125:mt=0;case 59+st:_t==-1&&(Yt=replace(Yt,/\f/g,"")),ht>0&&strlen(Yt)-ct&&append(ht>32?declaration(Yt+";",F,z,ct-1,tt):declaration(replace(Yt," ","")+";",F,z,ct-2,tt),tt);break;case 59:Yt+=";";default:if(append(Lt=ruleset(Yt,O,z,nt,st,Y,X,At,Ct=[],Ft=[],ct,W),W),Et===123)if(st===0)parse$3(Yt,O,Lt,Lt,Ct,W,ct,X,Ft);else switch(lt===99&&charat(Yt,3)===110?100:lt){case 100:case 108:case 109:case 115:parse$3(D,Lt,Lt,F&&append(ruleset(D,Lt,Lt,0,0,Y,X,At,Y,Ct=[],ct,Ft),Ft),Y,Ft,ct,X,F?Ct:Ft);break;default:parse$3(Yt,Lt,Lt,Lt,[""],Ft,0,X,Ft)}}nt=st=ht=0,wt=_t=1,At=Yt="",ct=q;break;case 58:ct=1+strlen(Yt),ht=bt;default:if(wt<1){if(Et==123)--wt;else if(Et==125&&wt++==0&&prev()==125)continue}switch(Yt+=from(Et),Et*wt){case 38:_t=st>0?1:(Yt+="\f",-1);break;case 44:X[nt++]=(strlen(Yt)-1)*_t,_t=1;break;case 64:peek()===45&&(Yt+=delimit(next())),lt=peek(),st=ct=strlen(At=Yt+=identifier(caret())),Et++;break;case 45:bt===45&&strlen(Yt)==2&&(wt=0)}}return W}function ruleset(D,O,z,F,Y,W,q,X,tt,nt,st,ct){for(var lt=Y-1,ht=Y===0?W:[""],bt=sizeof(ht),wt=0,mt=0,_t=0;wt<F;++wt)for(var Et=0,At=substr(D,lt+1,lt=abs(mt=q[wt])),Ct=D;Et<bt;++Et)(Ct=trim$1(mt>0?ht[Et]+" "+At:replace(At,/&\f/g,ht[Et])))&&(tt[_t++]=Ct);return node(D,O,z,Y===0?RULESET:X,tt,nt,st,ct)}function comment(D,O,z,F){return node(D,O,z,COMMENT,from(char()),substr(D,2,-2),0,F)}function declaration(D,O,z,F,Y){return node(D,O,z,DECLARATION,substr(D,0,F),substr(D,F+1,-1),F,Y)}function serialize(D,O){for(var z="",F=0;F<D.length;F++)z+=O(D[F],F,D,O)||"";return z}function stringify(D,O,z,F){switch(D.type){case LAYER:if(D.children.length)break;case IMPORT:case DECLARATION:return D.return=D.return||D.value;case COMMENT:return"";case KEYFRAMES:return D.return=D.value+"{"+serialize(D.children,F)+"}";case RULESET:if(!strlen(D.value=D.props.join(",")))return""}return strlen(z=serialize(D.children,F))?D.return=D.value+"{"+z+"}":""}function isObjectLike(D){return D!=null&&typeof D=="object"}var symbolTag$3="[object Symbol]";function isSymbol(D){return typeof D=="symbol"||isObjectLike(D)&&baseGetTag(D)==symbolTag$3}function arrayMap(D,O){for(var z=-1,F=D==null?0:D.length,Y=Array(F);++z<F;)Y[z]=O(D[z],z,D);return Y}var isArray=Array.isArray;const isArray$1=isArray;var INFINITY$3=1/0,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(D){if(typeof D=="string")return D;if(isArray$1(D))return arrayMap(D,baseToString)+"";if(isSymbol(D))return symbolToString?symbolToString.call(D):"";var O=D+"";return O=="0"&&1/D==-INFINITY$3?"-0":O}var reWhitespace=/\s/;function trimmedEndIndex(D){for(var O=D.length;O--&&reWhitespace.test(D.charAt(O)););return O}var reTrimStart=/^\s+/;function baseTrim(D){return D&&D.slice(0,trimmedEndIndex(D)+1).replace(reTrimStart,"")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(D){if(typeof D=="number")return D;if(isSymbol(D))return NAN;if(isObject$1(D)){var O=typeof D.valueOf=="function"?D.valueOf():D;D=isObject$1(O)?O+"":O}if(typeof D!="string")return D===0?D:+D;D=baseTrim(D);var z=reIsBinary.test(D);return z||reIsOctal.test(D)?freeParseInt(D.slice(2),z?2:8):reIsBadHex.test(D)?NAN:+D}var INFINITY$2=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(D){if(!D)return D===0?D:0;if(D=toNumber(D),D===INFINITY$2||D===-INFINITY$2){var O=D<0?-1:1;return O*MAX_INTEGER}return D===D?D:0}function toInteger(D){var O=toFinite(D),z=O%1;return O===O?z?O-z:O:0}function identity(D){return D}var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var objectCreate=Object.create,baseCreate=function(){function D(){}return function(O){if(!isObject$1(O))return{};if(objectCreate)return objectCreate(O);D.prototype=O;var z=new D;return D.prototype=void 0,z}}();const baseCreate$1=baseCreate;function apply$1(D,O,z){switch(z.length){case 0:return D.call(O);case 1:return D.call(O,z[0]);case 2:return D.call(O,z[0],z[1]);case 3:return D.call(O,z[0],z[1],z[2])}return D.apply(O,z)}function noop(){}function copyArray(D,O){var z=-1,F=D.length;for(O||(O=Array(F));++z<F;)O[z]=D[z];return O}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(D){var O=0,z=0;return function(){var F=nativeNow(),Y=HOT_SPAN-(F-z);if(z=F,Y>0){if(++O>=HOT_COUNT)return arguments[0]}else O=0;return D.apply(void 0,arguments)}}function constant(D){return function(){return D}}var defineProperty=function(){try{var D=getNative(Object,"defineProperty");return D({},"",{}),D}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(D,O){return defineProperty$1(D,"toString",{configurable:!0,enumerable:!1,value:constant(O),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(D,O){for(var z=-1,F=D==null?0:D.length;++z<F&&O(D[z],z,D)!==!1;);return D}function baseFindIndex(D,O,z,F){for(var Y=D.length,W=z+(F?1:-1);F?W--:++W<Y;)if(O(D[W],W,D))return W;return-1}function baseIsNaN(D){return D!==D}function strictIndexOf(D,O,z){for(var F=z-1,Y=D.length;++F<Y;)if(D[F]===O)return F;return-1}function baseIndexOf(D,O,z){return O===O?strictIndexOf(D,O,z):baseFindIndex(D,baseIsNaN,z)}function arrayIncludes(D,O){var z=D==null?0:D.length;return!!z&&baseIndexOf(D,O,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(D,O){var z=typeof D;return O=O??MAX_SAFE_INTEGER$1,!!O&&(z=="number"||z!="symbol"&&reIsUint.test(D))&&D>-1&&D%1==0&&D<O}function baseAssignValue(D,O,z){O=="__proto__"&&defineProperty$1?defineProperty$1(D,O,{configurable:!0,enumerable:!0,value:z,writable:!0}):D[O]=z}var objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function assignValue(D,O,z){var F=D[O];(!(hasOwnProperty$b.call(D,O)&&eq(F,z))||z===void 0&&!(O in D))&&baseAssignValue(D,O,z)}function copyObject(D,O,z,F){var Y=!z;z||(z={});for(var W=-1,q=O.length;++W<q;){var X=O[W],tt=F?F(z[X],D[X],X,z,D):void 0;tt===void 0&&(tt=D[X]),Y?baseAssignValue(z,X,tt):assignValue(z,X,tt)}return z}var nativeMax$2=Math.max;function overRest(D,O,z){return O=nativeMax$2(O===void 0?D.length-1:O,0),function(){for(var F=arguments,Y=-1,W=nativeMax$2(F.length-O,0),q=Array(W);++Y<W;)q[Y]=F[O+Y];Y=-1;for(var X=Array(O+1);++Y<O;)X[Y]=F[Y];return X[O]=z(q),apply$1(D,this,X)}}function baseRest(D,O){return setToString$1(overRest(D,O,identity),D+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=MAX_SAFE_INTEGER}function isArrayLike(D){return D!=null&&isLength(D.length)&&!isFunction(D)}function isIterateeCall(D,O,z){if(!isObject$1(z))return!1;var F=typeof O;return(F=="number"?isArrayLike(z)&&isIndex(O,z.length):F=="string"&&O in z)?eq(z[O],D):!1}function createAssigner(D){return baseRest(function(O,z){var F=-1,Y=z.length,W=Y>1?z[Y-1]:void 0,q=Y>2?z[2]:void 0;for(W=D.length>3&&typeof W=="function"?(Y--,W):void 0,q&&isIterateeCall(z[0],z[1],q)&&(W=Y<3?void 0:W,Y=1),O=Object(O);++F<Y;){var X=z[F];X&&D(O,X,F,W)}return O})}var objectProto$c=Object.prototype;function isPrototype(D){var O=D&&D.constructor,z=typeof O=="function"&&O.prototype||objectProto$c;return D===z}function baseTimes(D,O){for(var z=-1,F=Array(D);++z<D;)F[z]=O(z);return F}var argsTag$3="[object Arguments]";function baseIsArguments(D){return isObjectLike(D)&&baseGetTag(D)==argsTag$3}var objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(D){return isObjectLike(D)&&hasOwnProperty$a.call(D,"callee")&&!propertyIsEnumerable$1.call(D,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$6]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$6]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(D){return isObjectLike(D)&&isLength(D.length)&&!!typedArrayTags[baseGetTag(D)]}function baseUnary(D){return function(O){return D(O)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var D=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return D||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function arrayLikeKeys(D,O){var z=isArray$1(D),F=!z&&isArguments$1(D),Y=!z&&!F&&isBuffer$1(D),W=!z&&!F&&!Y&&isTypedArray$1(D),q=z||F||Y||W,X=q?baseTimes(D.length,String):[],tt=X.length;for(var nt in D)(O||hasOwnProperty$9.call(D,nt))&&!(q&&(nt=="length"||Y&&(nt=="offset"||nt=="parent")||W&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||isIndex(nt,tt)))&&X.push(nt);return X}function overArg(D,O){return function(z){return D(O(z))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function baseKeys(D){if(!isPrototype(D))return nativeKeys$1(D);var O=[];for(var z in Object(D))hasOwnProperty$8.call(D,z)&&z!="constructor"&&O.push(z);return O}function keys(D){return isArrayLike(D)?arrayLikeKeys(D):baseKeys(D)}function nativeKeysIn(D){var O=[];if(D!=null)for(var z in Object(D))O.push(z);return O}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeysIn(D){if(!isObject$1(D))return nativeKeysIn(D);var O=isPrototype(D),z=[];for(var F in D)F=="constructor"&&(O||!hasOwnProperty$7.call(D,F))||z.push(F);return z}function keysIn(D){return isArrayLike(D)?arrayLikeKeys(D,!0):baseKeysIn(D)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(D,O){if(isArray$1(D))return!1;var z=typeof D;return z=="number"||z=="symbol"||z=="boolean"||D==null||isSymbol(D)?!0:reIsPlainProp.test(D)||!reIsDeepProp.test(D)||O!=null&&D in Object(O)}var MAX_MEMOIZE_SIZE=500;function memoizeCapped(D){var O=memoize(D,function(F){return z.size===MAX_MEMOIZE_SIZE&&z.clear(),F}),z=O.cache;return O}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(D){var O=[];return D.charCodeAt(0)===46&&O.push(""),D.replace(rePropName,function(z,F,Y,W){O.push(Y?W.replace(reEscapeChar,"$1"):F||z)}),O});const stringToPath$1=stringToPath;function toString(D){return D==null?"":baseToString(D)}function castPath(D,O){return isArray$1(D)?D:isKey(D,O)?[D]:stringToPath$1(toString(D))}var INFINITY$1=1/0;function toKey(D){if(typeof D=="string"||isSymbol(D))return D;var O=D+"";return O=="0"&&1/D==-INFINITY$1?"-0":O}function baseGet(D,O){O=castPath(O,D);for(var z=0,F=O.length;D!=null&&z<F;)D=D[toKey(O[z++])];return z&&z==F?D:void 0}function get$1(D,O,z){var F=D==null?void 0:baseGet(D,O);return F===void 0?z:F}function arrayPush(D,O){for(var z=-1,F=O.length,Y=D.length;++z<F;)D[Y+z]=O[z];return D}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(D){return isArray$1(D)||isArguments$1(D)||!!(spreadableSymbol&&D&&D[spreadableSymbol])}function baseFlatten(D,O,z,F,Y){var W=-1,q=D.length;for(z||(z=isFlattenable),Y||(Y=[]);++W<q;){var X=D[W];O>0&&z(X)?O>1?baseFlatten(X,O-1,z,F,Y):arrayPush(Y,X):F||(Y[Y.length]=X)}return Y}function flatten$1(D){var O=D==null?0:D.length;return O?baseFlatten(D,1):[]}function flatRest(D){return setToString$1(overRest(D,void 0,flatten$1),D+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(D){if(!isObjectLike(D)||baseGetTag(D)!=objectTag$3)return!1;var O=getPrototype$1(D);if(O===null)return!0;var z=hasOwnProperty$6.call(O,"constructor")&&O.constructor;return typeof z=="function"&&z instanceof z&&funcToString.call(z)==objectCtorString}function arrayReduce(D,O,z,F){var Y=-1,W=D==null?0:D.length;for(F&&W&&(z=D[++Y]);++Y<W;)z=O(z,D[Y],Y,D);return z}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(D){var O=this.__data__,z=O.delete(D);return this.size=O.size,z}function stackGet(D){return this.__data__.get(D)}function stackHas(D){return this.__data__.has(D)}var LARGE_ARRAY_SIZE$1=200;function stackSet(D,O){var z=this.__data__;if(z instanceof ListCache){var F=z.__data__;if(!Map$2||F.length<LARGE_ARRAY_SIZE$1-1)return F.push([D,O]),this.size=++z.size,this;z=this.__data__=new MapCache(F)}return z.set(D,O),this.size=z.size,this}function Stack(D){var O=this.__data__=new ListCache(D);this.size=O.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(D,O){return D&&copyObject(O,keys(O),D)}function baseAssignIn(D,O){return D&&copyObject(O,keysIn(O),D)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;function cloneBuffer(D,O){if(O)return D.slice();var z=D.length,F=allocUnsafe?allocUnsafe(z):new D.constructor(z);return D.copy(F),F}function arrayFilter(D,O){for(var z=-1,F=D==null?0:D.length,Y=0,W=[];++z<F;){var q=D[z];O(q,z,D)&&(W[Y++]=q)}return W}function stubArray(){return[]}var objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(D){return D==null?[]:(D=Object(D),arrayFilter(nativeGetSymbols$1(D),function(O){return propertyIsEnumerable.call(D,O)}))}:stubArray;const getSymbols$1=getSymbols;function copySymbols(D,O){return copyObject(D,getSymbols$1(D),O)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(D){for(var O=[];D;)arrayPush(O,getSymbols$1(D)),D=getPrototype$1(D);return O}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(D,O){return copyObject(D,getSymbolsIn$1(D),O)}function baseGetAllKeys(D,O,z){var F=O(D);return isArray$1(D)?F:arrayPush(F,z(D))}function getAllKeys(D){return baseGetAllKeys(D,keys,getSymbols$1)}function getAllKeysIn(D){return baseGetAllKeys(D,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$5="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$5="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$5||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$5||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(D){var O=baseGetTag(D),z=O==objectTag$2?D.constructor:void 0,F=z?toSource(z):"";if(F)switch(F){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$5;case promiseCtorString:return promiseTag;case setCtorString:return setTag$5;case weakMapCtorString:return weakMapTag$1}return O});const getTag$1=getTag;var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function initCloneArray(D){var O=D.length,z=new D.constructor(O);return O&&typeof D[0]=="string"&&hasOwnProperty$5.call(D,"index")&&(z.index=D.index,z.input=D.input),z}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(D){var O=new D.constructor(D.byteLength);return new Uint8Array$2(O).set(new Uint8Array$2(D)),O}function cloneDataView(D,O){var z=O?cloneArrayBuffer(D.buffer):D.buffer;return new D.constructor(z,D.byteOffset,D.byteLength)}var reFlags=/\w*$/;function cloneRegExp(D){var O=new D.constructor(D.source,reFlags.exec(D));return O.lastIndex=D.lastIndex,O}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(D){return symbolValueOf$1?Object(symbolValueOf$1.call(D)):{}}function cloneTypedArray(D,O){var z=O?cloneArrayBuffer(D.buffer):D.buffer;return new D.constructor(z,D.byteOffset,D.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(D,O,z){var F=D.constructor;switch(O){case arrayBufferTag$2:return cloneArrayBuffer(D);case boolTag$2:case dateTag$2:return new F(+D);case dataViewTag$2:return cloneDataView(D,z);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(D,z);case mapTag$4:return new F;case numberTag$2:case stringTag$2:return new F(D);case regexpTag$2:return cloneRegExp(D);case setTag$4:return new F;case symbolTag$2:return cloneSymbol(D)}}function initCloneObject(D){return typeof D.constructor=="function"&&!isPrototype(D)?baseCreate$1(getPrototype$1(D)):{}}var mapTag$3="[object Map]";function baseIsMap(D){return isObjectLike(D)&&getTag$1(D)==mapTag$3}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$3="[object Set]";function baseIsSet(D){return isObjectLike(D)&&getTag$1(D)==setTag$3}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$2]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$2]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(D,O,z,F,Y,W){var q,X=O&CLONE_DEEP_FLAG$1,tt=O&CLONE_FLAT_FLAG,nt=O&CLONE_SYMBOLS_FLAG$2;if(z&&(q=Y?z(D,F,Y,W):z(D)),q!==void 0)return q;if(!isObject$1(D))return D;var st=isArray$1(D);if(st){if(q=initCloneArray(D),!X)return copyArray(D,q)}else{var ct=getTag$1(D),lt=ct==funcTag||ct==genTag;if(isBuffer$1(D))return cloneBuffer(D,X);if(ct==objectTag$1||ct==argsTag$1||lt&&!Y){if(q=tt||lt?{}:initCloneObject(D),!X)return tt?copySymbolsIn(D,baseAssignIn(q,D)):copySymbols(D,baseAssign(q,D))}else{if(!cloneableTags[ct])return Y?D:{};q=initCloneByTag(D,ct,X)}}W||(W=new Stack);var ht=W.get(D);if(ht)return ht;W.set(D,q),isSet$1(D)?D.forEach(function(mt){q.add(baseClone(mt,O,z,mt,D,W))}):isMap$1(D)&&D.forEach(function(mt,_t){q.set(_t,baseClone(mt,O,z,_t,D,W))});var bt=nt?tt?getAllKeysIn:getAllKeys:tt?keysIn:keys,wt=st?void 0:bt(D);return arrayEach(wt||D,function(mt,_t){wt&&(_t=mt,mt=D[_t]),assignValue(q,_t,baseClone(mt,O,z,_t,D,W))}),q}var CLONE_SYMBOLS_FLAG$1=4;function clone$1(D){return baseClone(D,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(D){return baseClone(D,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(D){return this.__data__.set(D,HASH_UNDEFINED),this}function setCacheHas(D){return this.__data__.has(D)}function SetCache(D){var O=-1,z=D==null?0:D.length;for(this.__data__=new MapCache;++O<z;)this.add(D[O])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(D,O){for(var z=-1,F=D==null?0:D.length;++z<F;)if(O(D[z],z,D))return!0;return!1}function cacheHas(D,O){return D.has(O)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(D,O,z,F,Y,W){var q=z&COMPARE_PARTIAL_FLAG$5,X=D.length,tt=O.length;if(X!=tt&&!(q&&tt>X))return!1;var nt=W.get(D),st=W.get(O);if(nt&&st)return nt==O&&st==D;var ct=-1,lt=!0,ht=z&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(W.set(D,O),W.set(O,D);++ct<X;){var bt=D[ct],wt=O[ct];if(F)var mt=q?F(wt,bt,ct,O,D,W):F(bt,wt,ct,D,O,W);if(mt!==void 0){if(mt)continue;lt=!1;break}if(ht){if(!arraySome(O,function(_t,Et){if(!cacheHas(ht,Et)&&(bt===_t||Y(bt,_t,z,F,W)))return ht.push(Et)})){lt=!1;break}}else if(!(bt===wt||Y(bt,wt,z,F,W))){lt=!1;break}}return W.delete(D),W.delete(O),lt}function mapToArray(D){var O=-1,z=Array(D.size);return D.forEach(function(F,Y){z[++O]=[Y,F]}),z}function setToArray(D){var O=-1,z=Array(D.size);return D.forEach(function(F){z[++O]=F}),z}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(D,O,z,F,Y,W,q){switch(z){case dataViewTag:if(D.byteLength!=O.byteLength||D.byteOffset!=O.byteOffset)return!1;D=D.buffer,O=O.buffer;case arrayBufferTag:return!(D.byteLength!=O.byteLength||!W(new Uint8Array$2(D),new Uint8Array$2(O)));case boolTag:case dateTag:case numberTag:return eq(+D,+O);case errorTag:return D.name==O.name&&D.message==O.message;case regexpTag:case stringTag:return D==O+"";case mapTag$1:var X=mapToArray;case setTag$1:var tt=F&COMPARE_PARTIAL_FLAG$4;if(X||(X=setToArray),D.size!=O.size&&!tt)return!1;var nt=q.get(D);if(nt)return nt==O;F|=COMPARE_UNORDERED_FLAG$2,q.set(D,O);var st=equalArrays(X(D),X(O),F,Y,W,q);return q.delete(D),st;case symbolTag:if(symbolValueOf)return symbolValueOf.call(D)==symbolValueOf.call(O)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function equalObjects(D,O,z,F,Y,W){var q=z&COMPARE_PARTIAL_FLAG$3,X=getAllKeys(D),tt=X.length,nt=getAllKeys(O),st=nt.length;if(tt!=st&&!q)return!1;for(var ct=tt;ct--;){var lt=X[ct];if(!(q?lt in O:hasOwnProperty$4.call(O,lt)))return!1}var ht=W.get(D),bt=W.get(O);if(ht&&bt)return ht==O&&bt==D;var wt=!0;W.set(D,O),W.set(O,D);for(var mt=q;++ct<tt;){lt=X[ct];var _t=D[lt],Et=O[lt];if(F)var At=q?F(Et,_t,lt,O,D,W):F(_t,Et,lt,D,O,W);if(!(At===void 0?_t===Et||Y(_t,Et,z,F,W):At)){wt=!1;break}mt||(mt=lt=="constructor")}if(wt&&!mt){var Ct=D.constructor,Ft=O.constructor;Ct!=Ft&&"constructor"in D&&"constructor"in O&&!(typeof Ct=="function"&&Ct instanceof Ct&&typeof Ft=="function"&&Ft instanceof Ft)&&(wt=!1)}return W.delete(D),W.delete(O),wt}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseIsEqualDeep(D,O,z,F,Y,W){var q=isArray$1(D),X=isArray$1(O),tt=q?arrayTag:getTag$1(D),nt=X?arrayTag:getTag$1(O);tt=tt==argsTag?objectTag:tt,nt=nt==argsTag?objectTag:nt;var st=tt==objectTag,ct=nt==objectTag,lt=tt==nt;if(lt&&isBuffer$1(D)){if(!isBuffer$1(O))return!1;q=!0,st=!1}if(lt&&!st)return W||(W=new Stack),q||isTypedArray$1(D)?equalArrays(D,O,z,F,Y,W):equalByTag(D,O,tt,z,F,Y,W);if(!(z&COMPARE_PARTIAL_FLAG$2)){var ht=st&&hasOwnProperty$3.call(D,"__wrapped__"),bt=ct&&hasOwnProperty$3.call(O,"__wrapped__");if(ht||bt){var wt=ht?D.value():D,mt=bt?O.value():O;return W||(W=new Stack),Y(wt,mt,z,F,W)}}return lt?(W||(W=new Stack),equalObjects(D,O,z,F,Y,W)):!1}function baseIsEqual(D,O,z,F,Y){return D===O?!0:D==null||O==null||!isObjectLike(D)&&!isObjectLike(O)?D!==D&&O!==O:baseIsEqualDeep(D,O,z,F,baseIsEqual,Y)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(D,O,z,F){var Y=z.length,W=Y,q=!F;if(D==null)return!W;for(D=Object(D);Y--;){var X=z[Y];if(q&&X[2]?X[1]!==D[X[0]]:!(X[0]in D))return!1}for(;++Y<W;){X=z[Y];var tt=X[0],nt=D[tt],st=X[1];if(q&&X[2]){if(nt===void 0&&!(tt in D))return!1}else{var ct=new Stack;if(F)var lt=F(nt,st,tt,D,O,ct);if(!(lt===void 0?baseIsEqual(st,nt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,F,ct):lt))return!1}}return!0}function isStrictComparable(D){return D===D&&!isObject$1(D)}function getMatchData(D){for(var O=keys(D),z=O.length;z--;){var F=O[z],Y=D[F];O[z]=[F,Y,isStrictComparable(Y)]}return O}function matchesStrictComparable(D,O){return function(z){return z==null?!1:z[D]===O&&(O!==void 0||D in Object(z))}}function baseMatches(D){var O=getMatchData(D);return O.length==1&&O[0][2]?matchesStrictComparable(O[0][0],O[0][1]):function(z){return z===D||baseIsMatch(z,D,O)}}function baseHasIn(D,O){return D!=null&&O in Object(D)}function hasPath(D,O,z){O=castPath(O,D);for(var F=-1,Y=O.length,W=!1;++F<Y;){var q=toKey(O[F]);if(!(W=D!=null&&z(D,q)))break;D=D[q]}return W||++F!=Y?W:(Y=D==null?0:D.length,!!Y&&isLength(Y)&&isIndex(q,Y)&&(isArray$1(D)||isArguments$1(D)))}function hasIn(D,O){return D!=null&&hasPath(D,O,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(D,O){return isKey(D)&&isStrictComparable(O)?matchesStrictComparable(toKey(D),O):function(z){var F=get$1(z,D);return F===void 0&&F===O?hasIn(z,D):baseIsEqual(O,F,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(D){return function(O){return O==null?void 0:O[D]}}function basePropertyDeep(D){return function(O){return baseGet(O,D)}}function property(D){return isKey(D)?baseProperty(toKey(D)):basePropertyDeep(D)}function baseIteratee(D){return typeof D=="function"?D:D==null?identity:typeof D=="object"?isArray$1(D)?baseMatchesProperty(D[0],D[1]):baseMatches(D):property(D)}function createBaseFor(D){return function(O,z,F){for(var Y=-1,W=Object(O),q=F(O),X=q.length;X--;){var tt=q[D?X:++Y];if(z(W[tt],tt,W)===!1)break}return O}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(D,O){return D&&baseFor$1(D,O,keys)}function createBaseEach(D,O){return function(z,F){if(z==null)return z;if(!isArrayLike(z))return D(z,F);for(var Y=z.length,W=O?Y:-1,q=Object(z);(O?W--:++W<Y)&&F(q[W],W,q)!==!1;);return z}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;var now=function(){return root$1.Date.now()};const now$1=now;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,defaults=baseRest(function(D,O){D=Object(D);var z=-1,F=O.length,Y=F>2?O[2]:void 0;for(Y&&isIterateeCall(O[0],O[1],Y)&&(F=1);++z<F;)for(var W=O[z],q=keysIn(W),X=-1,tt=q.length;++X<tt;){var nt=q[X],st=D[nt];(st===void 0||eq(st,objectProto$2[nt])&&!hasOwnProperty$2.call(D,nt))&&(D[nt]=W[nt])}return D});const defaults$1=defaults;function assignMergeValue(D,O,z){(z!==void 0&&!eq(D[O],z)||z===void 0&&!(O in D))&&baseAssignValue(D,O,z)}function isArrayLikeObject(D){return isObjectLike(D)&&isArrayLike(D)}function safeGet(D,O){if(!(O==="constructor"&&typeof D[O]=="function")&&O!="__proto__")return D[O]}function toPlainObject(D){return copyObject(D,keysIn(D))}function baseMergeDeep(D,O,z,F,Y,W,q){var X=safeGet(D,z),tt=safeGet(O,z),nt=q.get(tt);if(nt){assignMergeValue(D,z,nt);return}var st=W?W(X,tt,z+"",D,O,q):void 0,ct=st===void 0;if(ct){var lt=isArray$1(tt),ht=!lt&&isBuffer$1(tt),bt=!lt&&!ht&&isTypedArray$1(tt);st=tt,lt||ht||bt?isArray$1(X)?st=X:isArrayLikeObject(X)?st=copyArray(X):ht?(ct=!1,st=cloneBuffer(tt,!0)):bt?(ct=!1,st=cloneTypedArray(tt,!0)):st=[]:isPlainObject(tt)||isArguments$1(tt)?(st=X,isArguments$1(X)?st=toPlainObject(X):(!isObject$1(X)||isFunction(X))&&(st=initCloneObject(tt))):ct=!1}ct&&(q.set(tt,st),Y(st,tt,F,W,q),q.delete(tt)),assignMergeValue(D,z,st)}function baseMerge(D,O,z,F,Y){D!==O&&baseFor$1(O,function(W,q){if(Y||(Y=new Stack),isObject$1(W))baseMergeDeep(D,O,q,z,baseMerge,F,Y);else{var X=F?F(safeGet(D,q),W,q+"",D,O,Y):void 0;X===void 0&&(X=W),assignMergeValue(D,q,X)}},keysIn)}function arrayIncludesWith(D,O,z){for(var F=-1,Y=D==null?0:D.length;++F<Y;)if(z(O,D[F]))return!0;return!1}function last(D){var O=D==null?0:D.length;return O?D[O-1]:void 0}function castFunction(D){return typeof D=="function"?D:identity}function forEach(D,O){var z=isArray$1(D)?arrayEach:baseEach$1;return z(D,castFunction(O))}function baseFilter(D,O){var z=[];return baseEach$1(D,function(F,Y,W){O(F,Y,W)&&z.push(F)}),z}function filter(D,O){var z=isArray$1(D)?arrayFilter:baseFilter;return z(D,baseIteratee(O))}function createFind(D){return function(O,z,F){var Y=Object(O);if(!isArrayLike(O)){var W=baseIteratee(z);O=keys(O),z=function(X){return W(Y[X],X,Y)}}var q=D(O,z,F);return q>-1?Y[W?O[q]:q]:void 0}}var nativeMax$1=Math.max;function findIndex(D,O,z){var F=D==null?0:D.length;if(!F)return-1;var Y=z==null?0:toInteger(z);return Y<0&&(Y=nativeMax$1(F+Y,0)),baseFindIndex(D,baseIteratee(O),Y)}var find=createFind(findIndex);const find$1=find;function baseMap(D,O){var z=-1,F=isArrayLike(D)?Array(D.length):[];return baseEach$1(D,function(Y,W,q){F[++z]=O(Y,W,q)}),F}function map$1(D,O){var z=isArray$1(D)?arrayMap:baseMap;return z(D,baseIteratee(O))}function forIn(D,O){return D==null?D:baseFor$1(D,castFunction(O),keysIn)}function baseGt(D,O){return D>O}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseHas(D,O){return D!=null&&hasOwnProperty$1.call(D,O)}function has(D,O){return D!=null&&hasPath(D,O,baseHas)}function baseValues(D,O){return arrayMap(O,function(z){return D[z]})}function values(D){return D==null?[]:baseValues(D,keys(D))}var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(D){if(D==null)return!0;if(isArrayLike(D)&&(isArray$1(D)||typeof D=="string"||typeof D.splice=="function"||isBuffer$1(D)||isTypedArray$1(D)||isArguments$1(D)))return!D.length;var O=getTag$1(D);if(O==mapTag||O==setTag)return!D.size;if(isPrototype(D))return!baseKeys(D).length;for(var z in D)if(hasOwnProperty.call(D,z))return!1;return!0}function isUndefined(D){return D===void 0}function baseLt(D,O){return D<O}function mapValues(D,O){var z={};return O=baseIteratee(O),baseForOwn(D,function(F,Y,W){baseAssignValue(z,Y,O(F,Y,W))}),z}function baseExtremum(D,O,z){for(var F=-1,Y=D.length;++F<Y;){var W=D[F],q=O(W);if(q!=null&&(X===void 0?q===q&&!isSymbol(q):z(q,X)))var X=q,tt=W}return tt}function max(D){return D&&D.length?baseExtremum(D,identity,baseGt):void 0}var merge$2=createAssigner(function(D,O,z){baseMerge(D,O,z)});const merge$3=merge$2;function min(D){return D&&D.length?baseExtremum(D,identity,baseLt):void 0}function minBy(D,O){return D&&D.length?baseExtremum(D,baseIteratee(O),baseLt):void 0}function baseSet(D,O,z,F){if(!isObject$1(D))return D;O=castPath(O,D);for(var Y=-1,W=O.length,q=W-1,X=D;X!=null&&++Y<W;){var tt=toKey(O[Y]),nt=z;if(tt==="__proto__"||tt==="constructor"||tt==="prototype")return D;if(Y!=q){var st=X[tt];nt=F?F(st,tt,X):void 0,nt===void 0&&(nt=isObject$1(st)?st:isIndex(O[Y+1])?[]:{})}assignValue(X,tt,nt),X=X[tt]}return D}function basePickBy(D,O,z){for(var F=-1,Y=O.length,W={};++F<Y;){var q=O[F],X=baseGet(D,q);z(X,q)&&baseSet(W,castPath(q,D),X)}return W}function baseSortBy(D,O){var z=D.length;for(D.sort(O);z--;)D[z]=D[z].value;return D}function compareAscending(D,O){if(D!==O){var z=D!==void 0,F=D===null,Y=D===D,W=isSymbol(D),q=O!==void 0,X=O===null,tt=O===O,nt=isSymbol(O);if(!X&&!nt&&!W&&D>O||W&&q&&tt&&!X&&!nt||F&&q&&tt||!z&&tt||!Y)return 1;if(!F&&!W&&!nt&&D<O||nt&&z&&Y&&!F&&!W||X&&z&&Y||!q&&Y||!tt)return-1}return 0}function compareMultiple(D,O,z){for(var F=-1,Y=D.criteria,W=O.criteria,q=Y.length,X=z.length;++F<q;){var tt=compareAscending(Y[F],W[F]);if(tt){if(F>=X)return tt;var nt=z[F];return tt*(nt=="desc"?-1:1)}}return D.index-O.index}function baseOrderBy(D,O,z){O.length?O=arrayMap(O,function(W){return isArray$1(W)?function(q){return baseGet(q,W.length===1?W[0]:W)}:W}):O=[identity];var F=-1;O=arrayMap(O,baseUnary(baseIteratee));var Y=baseMap(D,function(W,q,X){var tt=arrayMap(O,function(nt){return nt(W)});return{criteria:tt,index:++F,value:W}});return baseSortBy(Y,function(W,q){return compareMultiple(W,q,z)})}function basePick(D,O){return basePickBy(D,O,function(z,F){return hasIn(D,F)})}var pick=flatRest(function(D,O){return D==null?{}:basePick(D,O)});const pick$1=pick;var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(D,O,z,F){for(var Y=-1,W=nativeMax(nativeCeil((O-D)/(z||1)),0),q=Array(W);W--;)q[F?W:++Y]=D,D+=z;return q}function createRange(D){return function(O,z,F){return F&&typeof F!="number"&&isIterateeCall(O,z,F)&&(z=F=void 0),O=toFinite(O),z===void 0?(z=O,O=0):z=toFinite(z),F=F===void 0?O<z?1:-1:toFinite(F),baseRange(O,z,F,D)}}var range=createRange();const range$1=range;function baseReduce(D,O,z,F,Y){return Y(D,function(W,q,X){z=F?(F=!1,W):O(z,W,q,X)}),z}function reduce(D,O,z){var F=isArray$1(D)?arrayReduce:baseReduce,Y=arguments.length<3;return F(D,baseIteratee(O),z,Y,baseEach$1)}var sortBy=baseRest(function(D,O){if(D==null)return[];var z=O.length;return z>1&&isIterateeCall(D,O[0],O[1])?O=[]:z>2&&isIterateeCall(O[0],O[1],O[2])&&(O=[O[0]]),baseOrderBy(D,baseFlatten(O,1),[])});const sortBy$1=sortBy;var INFINITY=1/0,createSet=Set$2&&1/setToArray(new Set$2([,-0]))[1]==INFINITY?function(D){return new Set$2(D)}:noop;const createSet$1=createSet;var LARGE_ARRAY_SIZE=200;function baseUniq(D,O,z){var F=-1,Y=arrayIncludes,W=D.length,q=!0,X=[],tt=X;if(z)q=!1,Y=arrayIncludesWith;else if(W>=LARGE_ARRAY_SIZE){var nt=O?null:createSet$1(D);if(nt)return setToArray(nt);q=!1,Y=cacheHas,tt=new SetCache}else tt=O?[]:X;t:for(;++F<W;){var st=D[F],ct=O?O(st):st;if(st=z||st!==0?st:0,q&&ct===ct){for(var lt=tt.length;lt--;)if(tt[lt]===ct)continue t;O&&tt.push(ct),X.push(st)}else Y(tt,ct,z)||(tt!==X&&tt.push(ct),X.push(st))}return X}var union=baseRest(function(D){return baseUniq(baseFlatten(D,1,isArrayLikeObject,!0))});const union$1=union;var idCounter=0;function uniqueId(D){var O=++idCounter;return toString(D)+O}function baseZipObject(D,O,z){for(var F=-1,Y=D.length,W=O.length,q={};++F<Y;){var X=F<W?O[F]:void 0;z(q,D[F],X)}return q}function zipObject(D,O){return baseZipObject(D||[],O||[],assignValue)}var DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";class Graph{constructor(O={}){this._isDirected=has(O,"directed")?O.directed:!0,this._isMultigraph=has(O,"multigraph")?O.multigraph:!1,this._isCompound=has(O,"compound")?O.compound:!1,this._label=void 0,this._defaultNodeLabelFn=constant(void 0),this._defaultEdgeLabelFn=constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(O){return this._label=O,this}graph(){return this._label}setDefaultNodeLabel(O){return isFunction(O)||(O=constant(O)),this._defaultNodeLabelFn=O,this}nodeCount(){return this._nodeCount}nodes(){return keys(this._nodes)}sources(){var O=this;return filter(this.nodes(),function(z){return isEmpty(O._in[z])})}sinks(){var O=this;return filter(this.nodes(),function(z){return isEmpty(O._out[z])})}setNodes(O,z){var F=arguments,Y=this;return forEach(O,function(W){F.length>1?Y.setNode(W,z):Y.setNode(W)}),this}setNode(O,z){return has(this._nodes,O)?(arguments.length>1&&(this._nodes[O]=z),this):(this._nodes[O]=arguments.length>1?z:this._defaultNodeLabelFn(O),this._isCompound&&(this._parent[O]=GRAPH_NODE,this._children[O]={},this._children[GRAPH_NODE][O]=!0),this._in[O]={},this._preds[O]={},this._out[O]={},this._sucs[O]={},++this._nodeCount,this)}node(O){return this._nodes[O]}hasNode(O){return has(this._nodes,O)}removeNode(O){var z=this;if(has(this._nodes,O)){var F=function(Y){z.removeEdge(z._edgeObjs[Y])};delete this._nodes[O],this._isCompound&&(this._removeFromParentsChildList(O),delete this._parent[O],forEach(this.children(O),function(Y){z.setParent(Y)}),delete this._children[O]),forEach(keys(this._in[O]),F),delete this._in[O],delete this._preds[O],forEach(keys(this._out[O]),F),delete this._out[O],delete this._sucs[O],--this._nodeCount}return this}setParent(O,z){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(isUndefined(z))z=GRAPH_NODE;else{z+="";for(var F=z;!isUndefined(F);F=this.parent(F))if(F===O)throw new Error("Setting "+z+" as parent of "+O+" would create a cycle");this.setNode(z)}return this.setNode(O),this._removeFromParentsChildList(O),this._parent[O]=z,this._children[z][O]=!0,this}_removeFromParentsChildList(O){delete this._children[this._parent[O]][O]}parent(O){if(this._isCompound){var z=this._parent[O];if(z!==GRAPH_NODE)return z}}children(O){if(isUndefined(O)&&(O=GRAPH_NODE),this._isCompound){var z=this._children[O];if(z)return keys(z)}else{if(O===GRAPH_NODE)return this.nodes();if(this.hasNode(O))return[]}}predecessors(O){var z=this._preds[O];if(z)return keys(z)}successors(O){var z=this._sucs[O];if(z)return keys(z)}neighbors(O){var z=this.predecessors(O);if(z)return union$1(z,this.successors(O))}isLeaf(O){var z;return this.isDirected()?z=this.successors(O):z=this.neighbors(O),z.length===0}filterNodes(O){var z=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});z.setGraph(this.graph());var F=this;forEach(this._nodes,function(q,X){O(X)&&z.setNode(X,q)}),forEach(this._edgeObjs,function(q){z.hasNode(q.v)&&z.hasNode(q.w)&&z.setEdge(q,F.edge(q))});var Y={};function W(q){var X=F.parent(q);return X===void 0||z.hasNode(X)?(Y[q]=X,X):X in Y?Y[X]:W(X)}return this._isCompound&&forEach(z.nodes(),function(q){z.setParent(q,W(q))}),z}setDefaultEdgeLabel(O){return isFunction(O)||(O=constant(O)),this._defaultEdgeLabelFn=O,this}edgeCount(){return this._edgeCount}edges(){return values(this._edgeObjs)}setPath(O,z){var F=this,Y=arguments;return reduce(O,function(W,q){return Y.length>1?F.setEdge(W,q,z):F.setEdge(W,q),q}),this}setEdge(){var O,z,F,Y,W=!1,q=arguments[0];typeof q=="object"&&q!==null&&"v"in q?(O=q.v,z=q.w,F=q.name,arguments.length===2&&(Y=arguments[1],W=!0)):(O=q,z=arguments[1],F=arguments[3],arguments.length>2&&(Y=arguments[2],W=!0)),O=""+O,z=""+z,isUndefined(F)||(F=""+F);var X=edgeArgsToId(this._isDirected,O,z,F);if(has(this._edgeLabels,X))return W&&(this._edgeLabels[X]=Y),this;if(!isUndefined(F)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(O),this.setNode(z),this._edgeLabels[X]=W?Y:this._defaultEdgeLabelFn(O,z,F);var tt=edgeArgsToObj(this._isDirected,O,z,F);return O=tt.v,z=tt.w,Object.freeze(tt),this._edgeObjs[X]=tt,incrementOrInitEntry(this._preds[z],O),incrementOrInitEntry(this._sucs[O],z),this._in[z][X]=tt,this._out[O][X]=tt,this._edgeCount++,this}edge(O,z,F){var Y=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,O,z,F);return this._edgeLabels[Y]}hasEdge(O,z,F){var Y=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,O,z,F);return has(this._edgeLabels,Y)}removeEdge(O,z,F){var Y=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,O,z,F),W=this._edgeObjs[Y];return W&&(O=W.v,z=W.w,delete this._edgeLabels[Y],delete this._edgeObjs[Y],decrementOrRemoveEntry(this._preds[z],O),decrementOrRemoveEntry(this._sucs[O],z),delete this._in[z][Y],delete this._out[O][Y],this._edgeCount--),this}inEdges(O,z){var F=this._in[O];if(F){var Y=values(F);return z?filter(Y,function(W){return W.v===z}):Y}}outEdges(O,z){var F=this._out[O];if(F){var Y=values(F);return z?filter(Y,function(W){return W.w===z}):Y}}nodeEdges(O,z){var F=this.inEdges(O,z);if(F)return F.concat(this.outEdges(O,z))}}Graph.prototype._nodeCount=0;Graph.prototype._edgeCount=0;function incrementOrInitEntry(D,O){D[O]?D[O]++:D[O]=1}function decrementOrRemoveEntry(D,O){--D[O]||delete D[O]}function edgeArgsToId(D,O,z,F){var Y=""+O,W=""+z;if(!D&&Y>W){var q=Y;Y=W,W=q}return Y+EDGE_KEY_DELIM+W+EDGE_KEY_DELIM+(isUndefined(F)?DEFAULT_EDGE_NAME:F)}function edgeArgsToObj(D,O,z,F){var Y=""+O,W=""+z;if(!D&&Y>W){var q=Y;Y=W,W=q}var X={v:Y,w:W};return F&&(X.name=F),X}function edgeObjToId(D,O){return edgeArgsToId(D,O.v,O.w,O.name)}class List{constructor(){var O={};O._next=O._prev=O,this._sentinel=O}dequeue(){var O=this._sentinel,z=O._prev;if(z!==O)return unlink(z),z}enqueue(O){var z=this._sentinel;O._prev&&O._next&&unlink(O),O._next=z._next,z._next._prev=O,z._next=O,O._prev=z}toString(){for(var O=[],z=this._sentinel,F=z._prev;F!==z;)O.push(JSON.stringify(F,filterOutLinks)),F=F._prev;return"["+O.join(", ")+"]"}}function unlink(D){D._prev._next=D._next,D._next._prev=D._prev,delete D._next,delete D._prev}function filterOutLinks(D,O){if(D!=="_next"&&D!=="_prev")return O}var DEFAULT_WEIGHT_FN=constant(1);function greedyFAS(D,O){if(D.nodeCount()<=1)return[];var z=buildState(D,O||DEFAULT_WEIGHT_FN),F=doGreedyFAS(z.graph,z.buckets,z.zeroIdx);return flatten$1(map$1(F,function(Y){return D.outEdges(Y.v,Y.w)}))}function doGreedyFAS(D,O,z){for(var F=[],Y=O[O.length-1],W=O[0],q;D.nodeCount();){for(;q=W.dequeue();)removeNode(D,O,z,q);for(;q=Y.dequeue();)removeNode(D,O,z,q);if(D.nodeCount()){for(var X=O.length-2;X>0;--X)if(q=O[X].dequeue(),q){F=F.concat(removeNode(D,O,z,q,!0));break}}}return F}function removeNode(D,O,z,F,Y){var W=Y?[]:void 0;return forEach(D.inEdges(F.v),function(q){var X=D.edge(q),tt=D.node(q.v);Y&&W.push({v:q.v,w:q.w}),tt.out-=X,assignBucket(O,z,tt)}),forEach(D.outEdges(F.v),function(q){var X=D.edge(q),tt=q.w,nt=D.node(tt);nt.in-=X,assignBucket(O,z,nt)}),D.removeNode(F.v),W}function buildState(D,O){var z=new Graph,F=0,Y=0;forEach(D.nodes(),function(X){z.setNode(X,{v:X,in:0,out:0})}),forEach(D.edges(),function(X){var tt=z.edge(X.v,X.w)||0,nt=O(X),st=tt+nt;z.setEdge(X.v,X.w,st),Y=Math.max(Y,z.node(X.v).out+=nt),F=Math.max(F,z.node(X.w).in+=nt)});var W=range$1(Y+F+3).map(function(){return new List}),q=F+1;return forEach(z.nodes(),function(X){assignBucket(W,q,z.node(X))}),{graph:z,buckets:W,zeroIdx:q}}function assignBucket(D,O,z){z.out?z.in?D[z.out-z.in+O].enqueue(z):D[D.length-1].enqueue(z):D[0].enqueue(z)}function run$2(D){var O=D.graph().acyclicer==="greedy"?greedyFAS(D,z(D)):dfsFAS(D);forEach(O,function(F){var Y=D.edge(F);D.removeEdge(F),Y.forwardName=F.name,Y.reversed=!0,D.setEdge(F.w,F.v,Y,uniqueId("rev"))});function z(F){return function(Y){return F.edge(Y).weight}}}function dfsFAS(D){var O=[],z={},F={};function Y(W){has(F,W)||(F[W]=!0,z[W]=!0,forEach(D.outEdges(W),function(q){has(z,q.w)?O.push(q):Y(q.w)}),delete z[W])}return forEach(D.nodes(),Y),O}function undo$2(D){forEach(D.edges(),function(O){var z=D.edge(O);if(z.reversed){D.removeEdge(O);var F=z.forwardName;delete z.reversed,delete z.forwardName,D.setEdge(O.w,O.v,z,F)}})}function addDummyNode(D,O,z,F){var Y;do Y=uniqueId(F);while(D.hasNode(Y));return z.dummy=O,D.setNode(Y,z),Y}function simplify(D){var O=new Graph().setGraph(D.graph());return forEach(D.nodes(),function(z){O.setNode(z,D.node(z))}),forEach(D.edges(),function(z){var F=O.edge(z.v,z.w)||{weight:0,minlen:1},Y=D.edge(z);O.setEdge(z.v,z.w,{weight:F.weight+Y.weight,minlen:Math.max(F.minlen,Y.minlen)})}),O}function asNonCompoundGraph(D){var O=new Graph({multigraph:D.isMultigraph()}).setGraph(D.graph());return forEach(D.nodes(),function(z){D.children(z).length||O.setNode(z,D.node(z))}),forEach(D.edges(),function(z){O.setEdge(z,D.edge(z))}),O}function intersectRect$3(D,O){var z=D.x,F=D.y,Y=O.x-z,W=O.y-F,q=D.width/2,X=D.height/2;if(!Y&&!W)throw new Error("Not possible to find intersection inside of the rectangle");var tt,nt;return Math.abs(W)*q>Math.abs(Y)*X?(W<0&&(X=-X),tt=X*Y/W,nt=X):(Y<0&&(q=-q),tt=q,nt=q*W/Y),{x:z+tt,y:F+nt}}function buildLayerMatrix(D){var O=map$1(range$1(maxRank(D)+1),function(){return[]});return forEach(D.nodes(),function(z){var F=D.node(z),Y=F.rank;isUndefined(Y)||(O[Y][F.order]=z)}),O}function normalizeRanks(D){var O=min(map$1(D.nodes(),function(z){return D.node(z).rank}));forEach(D.nodes(),function(z){var F=D.node(z);has(F,"rank")&&(F.rank-=O)})}function removeEmptyRanks(D){var O=min(map$1(D.nodes(),function(W){return D.node(W).rank})),z=[];forEach(D.nodes(),function(W){var q=D.node(W).rank-O;z[q]||(z[q]=[]),z[q].push(W)});var F=0,Y=D.graph().nodeRankFactor;forEach(z,function(W,q){isUndefined(W)&&q%Y!==0?--F:F&&forEach(W,function(X){D.node(X).rank+=F})})}function addBorderNode$1(D,O,z,F){var Y={width:0,height:0};return arguments.length>=4&&(Y.rank=z,Y.order=F),addDummyNode(D,"border",Y,O)}function maxRank(D){return max(map$1(D.nodes(),function(O){var z=D.node(O).rank;if(!isUndefined(z))return z}))}function partition(D,O){var z={lhs:[],rhs:[]};return forEach(D,function(F){O(F)?z.lhs.push(F):z.rhs.push(F)}),z}function time(D,O){var z=now$1();try{return O()}finally{console.log(D+" time: "+(now$1()-z)+"ms")}}function notime(D,O){return O()}function addBorderSegments(D){function O(z){var F=D.children(z),Y=D.node(z);if(F.length&&forEach(F,O),has(Y,"minRank")){Y.borderLeft=[],Y.borderRight=[];for(var W=Y.minRank,q=Y.maxRank+1;W<q;++W)addBorderNode(D,"borderLeft","_bl",z,Y,W),addBorderNode(D,"borderRight","_br",z,Y,W)}}forEach(D.children(),O)}function addBorderNode(D,O,z,F,Y,W){var q={width:0,height:0,rank:W,borderType:O},X=Y[O][W-1],tt=addDummyNode(D,"border",q,z);Y[O][W]=tt,D.setParent(tt,F),X&&D.setEdge(X,tt,{weight:1})}function adjust(D){var O=D.graph().rankdir.toLowerCase();(O==="lr"||O==="rl")&&swapWidthHeight(D)}function undo$1(D){var O=D.graph().rankdir.toLowerCase();(O==="bt"||O==="rl")&&reverseY(D),(O==="lr"||O==="rl")&&(swapXY(D),swapWidthHeight(D))}function swapWidthHeight(D){forEach(D.nodes(),function(O){swapWidthHeightOne(D.node(O))}),forEach(D.edges(),function(O){swapWidthHeightOne(D.edge(O))})}function swapWidthHeightOne(D){var O=D.width;D.width=D.height,D.height=O}function reverseY(D){forEach(D.nodes(),function(O){reverseYOne(D.node(O))}),forEach(D.edges(),function(O){var z=D.edge(O);forEach(z.points,reverseYOne),has(z,"y")&&reverseYOne(z)})}function reverseYOne(D){D.y=-D.y}function swapXY(D){forEach(D.nodes(),function(O){swapXYOne(D.node(O))}),forEach(D.edges(),function(O){var z=D.edge(O);forEach(z.points,swapXYOne),has(z,"x")&&swapXYOne(z)})}function swapXYOne(D){var O=D.x;D.x=D.y,D.y=O}function run$1(D){D.graph().dummyChains=[],forEach(D.edges(),function(O){normalizeEdge(D,O)})}function normalizeEdge(D,O){var z=O.v,F=D.node(z).rank,Y=O.w,W=D.node(Y).rank,q=O.name,X=D.edge(O),tt=X.labelRank;if(W!==F+1){D.removeEdge(O);var nt,st,ct;for(ct=0,++F;F<W;++ct,++F)X.points=[],st={width:0,height:0,edgeLabel:X,edgeObj:O,rank:F},nt=addDummyNode(D,"edge",st,"_d"),F===tt&&(st.width=X.width,st.height=X.height,st.dummy="edge-label",st.labelpos=X.labelpos),D.setEdge(z,nt,{weight:X.weight},q),ct===0&&D.graph().dummyChains.push(nt),z=nt;D.setEdge(z,Y,{weight:X.weight},q)}}function undo(D){forEach(D.graph().dummyChains,function(O){var z=D.node(O),F=z.edgeLabel,Y;for(D.setEdge(z.edgeObj,F);z.dummy;)Y=D.successors(O)[0],D.removeNode(O),F.points.push({x:z.x,y:z.y}),z.dummy==="edge-label"&&(F.x=z.x,F.y=z.y,F.width=z.width,F.height=z.height),O=Y,z=D.node(O)})}function longestPath(D){var O={};function z(F){var Y=D.node(F);if(has(O,F))return Y.rank;O[F]=!0;var W=min(map$1(D.outEdges(F),function(q){return z(q.w)-D.edge(q).minlen}));return(W===Number.POSITIVE_INFINITY||W===void 0||W===null)&&(W=0),Y.rank=W}forEach(D.sources(),z)}function slack(D,O){return D.node(O.w).rank-D.node(O.v).rank-D.edge(O).minlen}function feasibleTree(D){var O=new Graph({directed:!1}),z=D.nodes()[0],F=D.nodeCount();O.setNode(z,{});for(var Y,W;tightTree(O,D)<F;)Y=findMinSlackEdge(O,D),W=O.hasNode(Y.v)?slack(D,Y):-slack(D,Y),shiftRanks(O,D,W);return O}function tightTree(D,O){function z(F){forEach(O.nodeEdges(F),function(Y){var W=Y.v,q=F===W?Y.w:W;!D.hasNode(q)&&!slack(O,Y)&&(D.setNode(q,{}),D.setEdge(F,q,{}),z(q))})}return forEach(D.nodes(),z),D.nodeCount()}function findMinSlackEdge(D,O){return minBy(O.edges(),function(z){if(D.hasNode(z.v)!==D.hasNode(z.w))return slack(O,z)})}function shiftRanks(D,O,z){forEach(D.nodes(),function(F){O.node(F).rank+=z})}function CycleException(){}CycleException.prototype=new Error;function dfs$1(D,O,z){isArray$1(O)||(O=[O]);var F=(D.isDirected()?D.successors:D.neighbors).bind(D),Y=[],W={};return forEach(O,function(q){if(!D.hasNode(q))throw new Error("Graph does not have node: "+q);doDfs(D,q,z==="post",W,F,Y)}),Y}function doDfs(D,O,z,F,Y,W){has(F,O)||(F[O]=!0,z||W.push(O),forEach(Y(O),function(q){doDfs(D,q,z,F,Y,W)}),z&&W.push(O))}function postorder$1(D,O){return dfs$1(D,O,"post")}function preorder(D,O){return dfs$1(D,O,"pre")}networkSimplex.initLowLimValues=initLowLimValues;networkSimplex.initCutValues=initCutValues;networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(D){D=simplify(D),longestPath(D);var O=feasibleTree(D);initLowLimValues(O),initCutValues(O,D);for(var z,F;z=leaveEdge(O);)F=enterEdge(O,D,z),exchangeEdges(O,D,z,F)}function initCutValues(D,O){var z=postorder$1(D,D.nodes());z=z.slice(0,z.length-1),forEach(z,function(F){assignCutValue(D,O,F)})}function assignCutValue(D,O,z){var F=D.node(z),Y=F.parent;D.edge(z,Y).cutvalue=calcCutValue(D,O,z)}function calcCutValue(D,O,z){var F=D.node(z),Y=F.parent,W=!0,q=O.edge(z,Y),X=0;return q||(W=!1,q=O.edge(Y,z)),X=q.weight,forEach(O.nodeEdges(z),function(tt){var nt=tt.v===z,st=nt?tt.w:tt.v;if(st!==Y){var ct=nt===W,lt=O.edge(tt).weight;if(X+=ct?lt:-lt,isTreeEdge(D,z,st)){var ht=D.edge(z,st).cutvalue;X+=ct?-ht:ht}}}),X}function initLowLimValues(D,O){arguments.length<2&&(O=D.nodes()[0]),dfsAssignLowLim(D,{},1,O)}function dfsAssignLowLim(D,O,z,F,Y){var W=z,q=D.node(F);return O[F]=!0,forEach(D.neighbors(F),function(X){has(O,X)||(z=dfsAssignLowLim(D,O,z,X,F))}),q.low=W,q.lim=z++,Y?q.parent=Y:delete q.parent,z}function leaveEdge(D){return find$1(D.edges(),function(O){return D.edge(O).cutvalue<0})}function enterEdge(D,O,z){var F=z.v,Y=z.w;O.hasEdge(F,Y)||(F=z.w,Y=z.v);var W=D.node(F),q=D.node(Y),X=W,tt=!1;W.lim>q.lim&&(X=q,tt=!0);var nt=filter(O.edges(),function(st){return tt===isDescendant$1(D,D.node(st.v),X)&&tt!==isDescendant$1(D,D.node(st.w),X)});return minBy(nt,function(st){return slack(O,st)})}function exchangeEdges(D,O,z,F){var Y=z.v,W=z.w;D.removeEdge(Y,W),D.setEdge(F.v,F.w,{}),initLowLimValues(D),initCutValues(D,O),updateRanks(D,O)}function updateRanks(D,O){var z=find$1(D.nodes(),function(Y){return!O.node(Y).parent}),F=preorder(D,z);F=F.slice(1),forEach(F,function(Y){var W=D.node(Y).parent,q=O.edge(Y,W),X=!1;q||(q=O.edge(W,Y),X=!0),O.node(Y).rank=O.node(W).rank+(X?q.minlen:-q.minlen)})}function isTreeEdge(D,O,z){return D.hasEdge(O,z)}function isDescendant$1(D,O,z){return z.low<=O.lim&&O.lim<=z.lim}function rank(D){switch(D.graph().ranker){case"network-simplex":networkSimplexRanker(D);break;case"tight-tree":tightTreeRanker(D);break;case"longest-path":longestPathRanker(D);break;default:networkSimplexRanker(D)}}var longestPathRanker=longestPath;function tightTreeRanker(D){longestPath(D),feasibleTree(D)}function networkSimplexRanker(D){networkSimplex(D)}function run(D){var O=addDummyNode(D,"root",{},"_root"),z=treeDepths(D),F=max(values(z))-1,Y=2*F+1;D.graph().nestingRoot=O,forEach(D.edges(),function(q){D.edge(q).minlen*=Y});var W=sumWeights(D)+1;forEach(D.children(),function(q){dfs(D,O,Y,W,F,z,q)}),D.graph().nodeRankFactor=Y}function dfs(D,O,z,F,Y,W,q){var X=D.children(q);if(!X.length){q!==O&&D.setEdge(O,q,{weight:0,minlen:z});return}var tt=addBorderNode$1(D,"_bt"),nt=addBorderNode$1(D,"_bb"),st=D.node(q);D.setParent(tt,q),st.borderTop=tt,D.setParent(nt,q),st.borderBottom=nt,forEach(X,function(ct){dfs(D,O,z,F,Y,W,ct);var lt=D.node(ct),ht=lt.borderTop?lt.borderTop:ct,bt=lt.borderBottom?lt.borderBottom:ct,wt=lt.borderTop?F:2*F,mt=ht!==bt?1:Y-W[q]+1;D.setEdge(tt,ht,{weight:wt,minlen:mt,nestingEdge:!0}),D.setEdge(bt,nt,{weight:wt,minlen:mt,nestingEdge:!0})}),D.parent(q)||D.setEdge(O,tt,{weight:0,minlen:Y+W[q]})}function treeDepths(D){var O={};function z(F,Y){var W=D.children(F);W&&W.length&&forEach(W,function(q){z(q,Y+1)}),O[F]=Y}return forEach(D.children(),function(F){z(F,1)}),O}function sumWeights(D){return reduce(D.edges(),function(O,z){return O+D.edge(z).weight},0)}function cleanup(D){var O=D.graph();D.removeNode(O.nestingRoot),delete O.nestingRoot,forEach(D.edges(),function(z){var F=D.edge(z);F.nestingEdge&&D.removeEdge(z)})}function addSubgraphConstraints(D,O,z){var F={},Y;forEach(z,function(W){for(var q=D.parent(W),X,tt;q;){if(X=D.parent(q),X?(tt=F[X],F[X]=q):(tt=Y,Y=q),tt&&tt!==q){O.setEdge(tt,q);return}q=X}})}function buildLayerGraph(D,O,z){var F=createRootNode(D),Y=new Graph({compound:!0}).setGraph({root:F}).setDefaultNodeLabel(function(W){return D.node(W)});return forEach(D.nodes(),function(W){var q=D.node(W),X=D.parent(W);(q.rank===O||q.minRank<=O&&O<=q.maxRank)&&(Y.setNode(W),Y.setParent(W,X||F),forEach(D[z](W),function(tt){var nt=tt.v===W?tt.w:tt.v,st=Y.edge(nt,W),ct=isUndefined(st)?0:st.weight;Y.setEdge(nt,W,{weight:D.edge(tt).weight+ct})}),has(q,"minRank")&&Y.setNode(W,{borderLeft:q.borderLeft[O],borderRight:q.borderRight[O]}))}),Y}function createRootNode(D){for(var O;D.hasNode(O=uniqueId("_root")););return O}function crossCount(D,O){for(var z=0,F=1;F<O.length;++F)z+=twoLayerCrossCount(D,O[F-1],O[F]);return z}function twoLayerCrossCount(D,O,z){for(var F=zipObject(z,map$1(z,function(nt,st){return st})),Y=flatten$1(map$1(O,function(nt){return sortBy$1(map$1(D.outEdges(nt),function(st){return{pos:F[st.w],weight:D.edge(st).weight}}),"pos")})),W=1;W<z.length;)W<<=1;var q=2*W-1;W-=1;var X=map$1(new Array(q),function(){return 0}),tt=0;return forEach(Y.forEach(function(nt){var st=nt.pos+W;X[st]+=nt.weight;for(var ct=0;st>0;)st%2&&(ct+=X[st+1]),st=st-1>>1,X[st]+=nt.weight;tt+=nt.weight*ct})),tt}function initOrder(D){var O={},z=filter(D.nodes(),function(X){return!D.children(X).length}),F=max(map$1(z,function(X){return D.node(X).rank})),Y=map$1(range$1(F+1),function(){return[]});function W(X){if(!has(O,X)){O[X]=!0;var tt=D.node(X);Y[tt.rank].push(X),forEach(D.successors(X),W)}}var q=sortBy$1(z,function(X){return D.node(X).rank});return forEach(q,W),Y}function barycenter(D,O){return map$1(O,function(z){var F=D.inEdges(z);if(F.length){var Y=reduce(F,function(W,q){var X=D.edge(q),tt=D.node(q.v);return{sum:W.sum+X.weight*tt.order,weight:W.weight+X.weight}},{sum:0,weight:0});return{v:z,barycenter:Y.sum/Y.weight,weight:Y.weight}}else return{v:z}})}function resolveConflicts(D,O){var z={};forEach(D,function(Y,W){var q=z[Y.v]={indegree:0,in:[],out:[],vs:[Y.v],i:W};isUndefined(Y.barycenter)||(q.barycenter=Y.barycenter,q.weight=Y.weight)}),forEach(O.edges(),function(Y){var W=z[Y.v],q=z[Y.w];!isUndefined(W)&&!isUndefined(q)&&(q.indegree++,W.out.push(z[Y.w]))});var F=filter(z,function(Y){return!Y.indegree});return doResolveConflicts(F)}function doResolveConflicts(D){var O=[];function z(W){return function(q){q.merged||(isUndefined(q.barycenter)||isUndefined(W.barycenter)||q.barycenter>=W.barycenter)&&mergeEntries(W,q)}}function F(W){return function(q){q.in.push(W),--q.indegree===0&&D.push(q)}}for(;D.length;){var Y=D.pop();O.push(Y),forEach(Y.in.reverse(),z(Y)),forEach(Y.out,F(Y))}return map$1(filter(O,function(W){return!W.merged}),function(W){return pick$1(W,["vs","i","barycenter","weight"])})}function mergeEntries(D,O){var z=0,F=0;D.weight&&(z+=D.barycenter*D.weight,F+=D.weight),O.weight&&(z+=O.barycenter*O.weight,F+=O.weight),D.vs=O.vs.concat(D.vs),D.barycenter=z/F,D.weight=F,D.i=Math.min(O.i,D.i),O.merged=!0}function sort(D,O){var z=partition(D,function(st){return has(st,"barycenter")}),F=z.lhs,Y=sortBy$1(z.rhs,function(st){return-st.i}),W=[],q=0,X=0,tt=0;F.sort(compareWithBias(!!O)),tt=consumeUnsortable(W,Y,tt),forEach(F,function(st){tt+=st.vs.length,W.push(st.vs),q+=st.barycenter*st.weight,X+=st.weight,tt=consumeUnsortable(W,Y,tt)});var nt={vs:flatten$1(W)};return X&&(nt.barycenter=q/X,nt.weight=X),nt}function consumeUnsortable(D,O,z){for(var F;O.length&&(F=last(O)).i<=z;)O.pop(),D.push(F.vs),z++;return z}function compareWithBias(D){return function(O,z){return O.barycenter<z.barycenter?-1:O.barycenter>z.barycenter?1:D?z.i-O.i:O.i-z.i}}function sortSubgraph(D,O,z,F){var Y=D.children(O),W=D.node(O),q=W?W.borderLeft:void 0,X=W?W.borderRight:void 0,tt={};q&&(Y=filter(Y,function(bt){return bt!==q&&bt!==X}));var nt=barycenter(D,Y);forEach(nt,function(bt){if(D.children(bt.v).length){var wt=sortSubgraph(D,bt.v,z,F);tt[bt.v]=wt,has(wt,"barycenter")&&mergeBarycenters(bt,wt)}});var st=resolveConflicts(nt,z);expandSubgraphs(st,tt);var ct=sort(st,F);if(q&&(ct.vs=flatten$1([q,ct.vs,X]),D.predecessors(q).length)){var lt=D.node(D.predecessors(q)[0]),ht=D.node(D.predecessors(X)[0]);has(ct,"barycenter")||(ct.barycenter=0,ct.weight=0),ct.barycenter=(ct.barycenter*ct.weight+lt.order+ht.order)/(ct.weight+2),ct.weight+=2}return ct}function expandSubgraphs(D,O){forEach(D,function(z){z.vs=flatten$1(z.vs.map(function(F){return O[F]?O[F].vs:F}))})}function mergeBarycenters(D,O){isUndefined(D.barycenter)?(D.barycenter=O.barycenter,D.weight=O.weight):(D.barycenter=(D.barycenter*D.weight+O.barycenter*O.weight)/(D.weight+O.weight),D.weight+=O.weight)}function order(D){var O=maxRank(D),z=buildLayerGraphs(D,range$1(1,O+1),"inEdges"),F=buildLayerGraphs(D,range$1(O-1,-1,-1),"outEdges"),Y=initOrder(D);assignOrder(D,Y);for(var W=Number.POSITIVE_INFINITY,q,X=0,tt=0;tt<4;++X,++tt){sweepLayerGraphs(X%2?z:F,X%4>=2),Y=buildLayerMatrix(D);var nt=crossCount(D,Y);nt<W&&(tt=0,q=cloneDeep(Y),W=nt)}assignOrder(D,q)}function buildLayerGraphs(D,O,z){return map$1(O,function(F){return buildLayerGraph(D,F,z)})}function sweepLayerGraphs(D,O){var z=new Graph;forEach(D,function(F){var Y=F.graph().root,W=sortSubgraph(F,Y,z,O);forEach(W.vs,function(q,X){F.node(q).order=X}),addSubgraphConstraints(F,z,W.vs)})}function assignOrder(D,O){forEach(O,function(z){forEach(z,function(F,Y){D.node(F).order=Y})})}function parentDummyChains(D){var O=postorder(D);forEach(D.graph().dummyChains,function(z){for(var F=D.node(z),Y=F.edgeObj,W=findPath(D,O,Y.v,Y.w),q=W.path,X=W.lca,tt=0,nt=q[tt],st=!0;z!==Y.w;){if(F=D.node(z),st){for(;(nt=q[tt])!==X&&D.node(nt).maxRank<F.rank;)tt++;nt===X&&(st=!1)}if(!st){for(;tt<q.length-1&&D.node(nt=q[tt+1]).minRank<=F.rank;)tt++;nt=q[tt]}D.setParent(z,nt),z=D.successors(z)[0]}})}function findPath(D,O,z,F){var Y=[],W=[],q=Math.min(O[z].low,O[F].low),X=Math.max(O[z].lim,O[F].lim),tt,nt;tt=z;do tt=D.parent(tt),Y.push(tt);while(tt&&(O[tt].low>q||X>O[tt].lim));for(nt=tt,tt=F;(tt=D.parent(tt))!==nt;)W.push(tt);return{path:Y.concat(W.reverse()),lca:nt}}function postorder(D){var O={},z=0;function F(Y){var W=z;forEach(D.children(Y),F),O[Y]={low:W,lim:z++}}return forEach(D.children(),F),O}function findType1Conflicts(D,O){var z={};function F(Y,W){var q=0,X=0,tt=Y.length,nt=last(W);return forEach(W,function(st,ct){var lt=findOtherInnerSegmentNode(D,st),ht=lt?D.node(lt).order:tt;(lt||st===nt)&&(forEach(W.slice(X,ct+1),function(bt){forEach(D.predecessors(bt),function(wt){var mt=D.node(wt),_t=mt.order;(_t<q||ht<_t)&&!(mt.dummy&&D.node(bt).dummy)&&addConflict(z,wt,bt)})}),X=ct+1,q=ht)}),W}return reduce(O,F),z}function findType2Conflicts(D,O){var z={};function F(W,q,X,tt,nt){var st;forEach(range$1(q,X),function(ct){st=W[ct],D.node(st).dummy&&forEach(D.predecessors(st),function(lt){var ht=D.node(lt);ht.dummy&&(ht.order<tt||ht.order>nt)&&addConflict(z,lt,st)})})}function Y(W,q){var X=-1,tt,nt=0;return forEach(q,function(st,ct){if(D.node(st).dummy==="border"){var lt=D.predecessors(st);lt.length&&(tt=D.node(lt[0]).order,F(q,nt,ct,X,tt),nt=ct,X=tt)}F(q,nt,q.length,tt,W.length)}),q}return reduce(O,Y),z}function findOtherInnerSegmentNode(D,O){if(D.node(O).dummy)return find$1(D.predecessors(O),function(z){return D.node(z).dummy})}function addConflict(D,O,z){if(O>z){var F=O;O=z,z=F}var Y=D[O];Y||(D[O]=Y={}),Y[z]=!0}function hasConflict(D,O,z){if(O>z){var F=O;O=z,z=F}return has(D[O],z)}function verticalAlignment(D,O,z,F){var Y={},W={},q={};return forEach(O,function(X){forEach(X,function(tt,nt){Y[tt]=tt,W[tt]=tt,q[tt]=nt})}),forEach(O,function(X){var tt=-1;forEach(X,function(nt){var st=F(nt);if(st.length){st=sortBy$1(st,function(wt){return q[wt]});for(var ct=(st.length-1)/2,lt=Math.floor(ct),ht=Math.ceil(ct);lt<=ht;++lt){var bt=st[lt];W[nt]===nt&&tt<q[bt]&&!hasConflict(z,nt,bt)&&(W[bt]=nt,W[nt]=Y[nt]=Y[bt],tt=q[bt])}}})}),{root:Y,align:W}}function horizontalCompaction(D,O,z,F,Y){var W={},q=buildBlockGraph(D,O,z,Y),X=Y?"borderLeft":"borderRight";function tt(ct,lt){for(var ht=q.nodes(),bt=ht.pop(),wt={};bt;)wt[bt]?ct(bt):(wt[bt]=!0,ht.push(bt),ht=ht.concat(lt(bt))),bt=ht.pop()}function nt(ct){W[ct]=q.inEdges(ct).reduce(function(lt,ht){return Math.max(lt,W[ht.v]+q.edge(ht))},0)}function st(ct){var lt=q.outEdges(ct).reduce(function(bt,wt){return Math.min(bt,W[wt.w]-q.edge(wt))},Number.POSITIVE_INFINITY),ht=D.node(ct);lt!==Number.POSITIVE_INFINITY&&ht.borderType!==X&&(W[ct]=Math.max(W[ct],lt))}return tt(nt,q.predecessors.bind(q)),tt(st,q.successors.bind(q)),forEach(F,function(ct){W[ct]=W[z[ct]]}),W}function buildBlockGraph(D,O,z,F){var Y=new Graph,W=D.graph(),q=sep(W.nodesep,W.edgesep,F);return forEach(O,function(X){var tt;forEach(X,function(nt){var st=z[nt];if(Y.setNode(st),tt){var ct=z[tt],lt=Y.edge(ct,st);Y.setEdge(ct,st,Math.max(q(D,nt,tt),lt||0))}tt=nt})}),Y}function findSmallestWidthAlignment(D,O){return minBy(values(O),function(z){var F=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY;return forIn(z,function(W,q){var X=width$1(D,q)/2;F=Math.max(W+X,F),Y=Math.min(W-X,Y)}),F-Y})}function alignCoordinates(D,O){var z=values(O),F=min(z),Y=max(z);forEach(["u","d"],function(W){forEach(["l","r"],function(q){var X=W+q,tt=D[X],nt;if(tt!==O){var st=values(tt);nt=q==="l"?F-min(st):Y-max(st),nt&&(D[X]=mapValues(tt,function(ct){return ct+nt}))}})})}function balance(D,O){return mapValues(D.ul,function(z,F){if(O)return D[O.toLowerCase()][F];var Y=sortBy$1(map$1(D,F));return(Y[1]+Y[2])/2})}function positionX(D){var O=buildLayerMatrix(D),z=merge$3(findType1Conflicts(D,O),findType2Conflicts(D,O)),F={},Y;forEach(["u","d"],function(q){Y=q==="u"?O:values(O).reverse(),forEach(["l","r"],function(X){X==="r"&&(Y=map$1(Y,function(ct){return values(ct).reverse()}));var tt=(q==="u"?D.predecessors:D.successors).bind(D),nt=verticalAlignment(D,Y,z,tt),st=horizontalCompaction(D,Y,nt.root,nt.align,X==="r");X==="r"&&(st=mapValues(st,function(ct){return-ct})),F[q+X]=st})});var W=findSmallestWidthAlignment(D,F);return alignCoordinates(F,W),balance(F,D.graph().align)}function sep(D,O,z){return function(F,Y,W){var q=F.node(Y),X=F.node(W),tt=0,nt;if(tt+=q.width/2,has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":nt=-q.width/2;break;case"r":nt=q.width/2;break}if(nt&&(tt+=z?nt:-nt),nt=0,tt+=(q.dummy?O:D)/2,tt+=(X.dummy?O:D)/2,tt+=X.width/2,has(X,"labelpos"))switch(X.labelpos.toLowerCase()){case"l":nt=X.width/2;break;case"r":nt=-X.width/2;break}return nt&&(tt+=z?nt:-nt),nt=0,tt}}function width$1(D,O){return D.node(O).width}function position(D){D=asNonCompoundGraph(D),positionY(D),forEach(positionX(D),function(O,z){D.node(z).x=O})}function positionY(D){var O=buildLayerMatrix(D),z=D.graph().ranksep,F=0;forEach(O,function(Y){var W=max(map$1(Y,function(q){return D.node(q).height}));forEach(Y,function(q){D.node(q).y=F+W/2}),F+=W+z})}function layout(D,O){var z=O&&O.debugTiming?time:notime;z("layout",function(){var F=z("  buildLayoutGraph",function(){return buildLayoutGraph(D)});z("  runLayout",function(){runLayout(F,z)}),z("  updateInputGraph",function(){updateInputGraph(D,F)})})}function runLayout(D,O){O("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(D)}),O("    removeSelfEdges",function(){removeSelfEdges(D)}),O("    acyclic",function(){run$2(D)}),O("    nestingGraph.run",function(){run(D)}),O("    rank",function(){rank(asNonCompoundGraph(D))}),O("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(D)}),O("    removeEmptyRanks",function(){removeEmptyRanks(D)}),O("    nestingGraph.cleanup",function(){cleanup(D)}),O("    normalizeRanks",function(){normalizeRanks(D)}),O("    assignRankMinMax",function(){assignRankMinMax(D)}),O("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(D)}),O("    normalize.run",function(){run$1(D)}),O("    parentDummyChains",function(){parentDummyChains(D)}),O("    addBorderSegments",function(){addBorderSegments(D)}),O("    order",function(){order(D)}),O("    insertSelfEdges",function(){insertSelfEdges(D)}),O("    adjustCoordinateSystem",function(){adjust(D)}),O("    position",function(){position(D)}),O("    positionSelfEdges",function(){positionSelfEdges(D)}),O("    removeBorderNodes",function(){removeBorderNodes(D)}),O("    normalize.undo",function(){undo(D)}),O("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(D)}),O("    undoCoordinateSystem",function(){undo$1(D)}),O("    translateGraph",function(){translateGraph(D)}),O("    assignNodeIntersects",function(){assignNodeIntersects(D)}),O("    reversePoints",function(){reversePointsForReversedEdges(D)}),O("    acyclic.undo",function(){undo$2(D)})}function updateInputGraph(D,O){forEach(D.nodes(),function(z){var F=D.node(z),Y=O.node(z);F&&(F.x=Y.x,F.y=Y.y,O.children(z).length&&(F.width=Y.width,F.height=Y.height))}),forEach(D.edges(),function(z){var F=D.edge(z),Y=O.edge(z);F.points=Y.points,has(Y,"x")&&(F.x=Y.x,F.y=Y.y)}),D.graph().width=O.graph().width,D.graph().height=O.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(D){var O=new Graph({multigraph:!0,compound:!0}),z=canonicalize$1(D.graph());return O.setGraph(merge$3({},graphDefaults,selectNumberAttrs(z,graphNumAttrs),pick$1(z,graphAttrs))),forEach(D.nodes(),function(F){var Y=canonicalize$1(D.node(F));O.setNode(F,defaults$1(selectNumberAttrs(Y,nodeNumAttrs),nodeDefaults)),O.setParent(F,D.parent(F))}),forEach(D.edges(),function(F){var Y=canonicalize$1(D.edge(F));O.setEdge(F,merge$3({},edgeDefaults,selectNumberAttrs(Y,edgeNumAttrs),pick$1(Y,edgeAttrs)))}),O}function makeSpaceForEdgeLabels(D){var O=D.graph();O.ranksep/=2,forEach(D.edges(),function(z){var F=D.edge(z);F.minlen*=2,F.labelpos.toLowerCase()!=="c"&&(O.rankdir==="TB"||O.rankdir==="BT"?F.width+=F.labeloffset:F.height+=F.labeloffset)})}function injectEdgeLabelProxies(D){forEach(D.edges(),function(O){var z=D.edge(O);if(z.width&&z.height){var F=D.node(O.v),Y=D.node(O.w),W={rank:(Y.rank-F.rank)/2+F.rank,e:O};addDummyNode(D,"edge-proxy",W,"_ep")}})}function assignRankMinMax(D){var O=0;forEach(D.nodes(),function(z){var F=D.node(z);F.borderTop&&(F.minRank=D.node(F.borderTop).rank,F.maxRank=D.node(F.borderBottom).rank,O=max(O,F.maxRank))}),D.graph().maxRank=O}function removeEdgeLabelProxies(D){forEach(D.nodes(),function(O){var z=D.node(O);z.dummy==="edge-proxy"&&(D.edge(z.e).labelRank=z.rank,D.removeNode(O))})}function translateGraph(D){var O=Number.POSITIVE_INFINITY,z=0,F=Number.POSITIVE_INFINITY,Y=0,W=D.graph(),q=W.marginx||0,X=W.marginy||0;function tt(nt){var st=nt.x,ct=nt.y,lt=nt.width,ht=nt.height;O=Math.min(O,st-lt/2),z=Math.max(z,st+lt/2),F=Math.min(F,ct-ht/2),Y=Math.max(Y,ct+ht/2)}forEach(D.nodes(),function(nt){tt(D.node(nt))}),forEach(D.edges(),function(nt){var st=D.edge(nt);has(st,"x")&&tt(st)}),O-=q,F-=X,forEach(D.nodes(),function(nt){var st=D.node(nt);st.x-=O,st.y-=F}),forEach(D.edges(),function(nt){var st=D.edge(nt);forEach(st.points,function(ct){ct.x-=O,ct.y-=F}),has(st,"x")&&(st.x-=O),has(st,"y")&&(st.y-=F)}),W.width=z-O+q,W.height=Y-F+X}function assignNodeIntersects(D){forEach(D.edges(),function(O){var z=D.edge(O),F=D.node(O.v),Y=D.node(O.w),W,q;z.points?(W=z.points[0],q=z.points[z.points.length-1]):(z.points=[],W=Y,q=F),z.points.unshift(intersectRect$3(F,W)),z.points.push(intersectRect$3(Y,q))})}function fixupEdgeLabelCoords(D){forEach(D.edges(),function(O){var z=D.edge(O);if(has(z,"x"))switch((z.labelpos==="l"||z.labelpos==="r")&&(z.width-=z.labeloffset),z.labelpos){case"l":z.x-=z.width/2+z.labeloffset;break;case"r":z.x+=z.width/2+z.labeloffset;break}})}function reversePointsForReversedEdges(D){forEach(D.edges(),function(O){var z=D.edge(O);z.reversed&&z.points.reverse()})}function removeBorderNodes(D){forEach(D.nodes(),function(O){if(D.children(O).length){var z=D.node(O),F=D.node(z.borderTop),Y=D.node(z.borderBottom),W=D.node(last(z.borderLeft)),q=D.node(last(z.borderRight));z.width=Math.abs(q.x-W.x),z.height=Math.abs(Y.y-F.y),z.x=W.x+z.width/2,z.y=F.y+z.height/2}}),forEach(D.nodes(),function(O){D.node(O).dummy==="border"&&D.removeNode(O)})}function removeSelfEdges(D){forEach(D.edges(),function(O){if(O.v===O.w){var z=D.node(O.v);z.selfEdges||(z.selfEdges=[]),z.selfEdges.push({e:O,label:D.edge(O)}),D.removeEdge(O)}})}function insertSelfEdges(D){var O=buildLayerMatrix(D);forEach(O,function(z){var F=0;forEach(z,function(Y,W){var q=D.node(Y);q.order=W+F,forEach(q.selfEdges,function(X){addDummyNode(D,"selfedge",{width:X.label.width,height:X.label.height,rank:q.rank,order:W+ ++F,e:X.e,label:X.label},"_se")}),delete q.selfEdges})})}function positionSelfEdges(D){forEach(D.nodes(),function(O){var z=D.node(O);if(z.dummy==="selfedge"){var F=D.node(z.e.v),Y=F.x+F.width/2,W=F.y,q=z.x-Y,X=F.height/2;D.setEdge(z.e,z.label),D.removeNode(O),z.label.points=[{x:Y+2*q/3,y:W-X},{x:Y+5*q/6,y:W-X},{x:Y+q,y:W},{x:Y+5*q/6,y:W+X},{x:Y+2*q/3,y:W+X}],z.label.x=z.x,z.label.y=z.y}})}function selectNumberAttrs(D,O){return mapValues(pick$1(D,O),Number)}function canonicalize$1(D){var O={};return forEach(D,function(z,F){O[F.toLowerCase()]=z}),O}function write(D){var O={options:{directed:D.isDirected(),multigraph:D.isMultigraph(),compound:D.isCompound()},nodes:writeNodes(D),edges:writeEdges(D)};return isUndefined(D.graph())||(O.value=clone$1(D.graph())),O}function writeNodes(D){return map$1(D.nodes(),function(O){var z=D.node(O),F=D.parent(O),Y={v:O};return isUndefined(z)||(Y.value=z),isUndefined(F)||(Y.parent=F),Y})}function writeEdges(D){return map$1(D.edges(),function(O){var z=D.edge(O),F={v:O.v,w:O.w};return isUndefined(O.name)||(F.name=O.name),isUndefined(z)||(F.value=z),F})}const REGEX$1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(D){return typeof D=="string"&&REGEX$1.test(D)}const byteToHex=[];for(let D=0;D<256;++D)byteToHex.push((D+256).toString(16).slice(1));function unsafeStringify(D,O=0){return byteToHex[D[O+0]]+byteToHex[D[O+1]]+byteToHex[D[O+2]]+byteToHex[D[O+3]]+"-"+byteToHex[D[O+4]]+byteToHex[D[O+5]]+"-"+byteToHex[D[O+6]]+byteToHex[D[O+7]]+"-"+byteToHex[D[O+8]]+byteToHex[D[O+9]]+"-"+byteToHex[D[O+10]]+byteToHex[D[O+11]]+byteToHex[D[O+12]]+byteToHex[D[O+13]]+byteToHex[D[O+14]]+byteToHex[D[O+15]]}function parse$2(D){if(!validate(D))throw TypeError("Invalid UUID");let O;const z=new Uint8Array(16);return z[0]=(O=parseInt(D.slice(0,8),16))>>>24,z[1]=O>>>16&255,z[2]=O>>>8&255,z[3]=O&255,z[4]=(O=parseInt(D.slice(9,13),16))>>>8,z[5]=O&255,z[6]=(O=parseInt(D.slice(14,18),16))>>>8,z[7]=O&255,z[8]=(O=parseInt(D.slice(19,23),16))>>>8,z[9]=O&255,z[10]=(O=parseInt(D.slice(24,36),16))/1099511627776&255,z[11]=O/4294967296&255,z[12]=O>>>24&255,z[13]=O>>>16&255,z[14]=O>>>8&255,z[15]=O&255,z}function stringToBytes(D){D=unescape(encodeURIComponent(D));const O=[];for(let z=0;z<D.length;++z)O.push(D.charCodeAt(z));return O}const DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(D,O,z){function F(Y,W,q,X){var tt;if(typeof Y=="string"&&(Y=stringToBytes(Y)),typeof W=="string"&&(W=parse$2(W)),((tt=W)===null||tt===void 0?void 0:tt.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let nt=new Uint8Array(16+Y.length);if(nt.set(W),nt.set(Y,W.length),nt=z(nt),nt[6]=nt[6]&15|O,nt[8]=nt[8]&63|128,q){X=X||0;for(let st=0;st<16;++st)q[X+st]=nt[st];return q}return unsafeStringify(nt)}try{F.name=D}catch{}return F.DNS=DNS,F.URL=URL$1,F}function f(D,O,z,F){switch(D){case 0:return O&z^~O&F;case 1:return O^z^F;case 2:return O&z^O&F^z&F;case 3:return O^z^F}}function ROTL(D,O){return D<<O|D>>>32-O}function sha1(D){const O=[1518500249,1859775393,2400959708,3395469782],z=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof D=="string"){const q=unescape(encodeURIComponent(D));D=[];for(let X=0;X<q.length;++X)D.push(q.charCodeAt(X))}else Array.isArray(D)||(D=Array.prototype.slice.call(D));D.push(128);const F=D.length/4+2,Y=Math.ceil(F/16),W=new Array(Y);for(let q=0;q<Y;++q){const X=new Uint32Array(16);for(let tt=0;tt<16;++tt)X[tt]=D[q*64+tt*4]<<24|D[q*64+tt*4+1]<<16|D[q*64+tt*4+2]<<8|D[q*64+tt*4+3];W[q]=X}W[Y-1][14]=(D.length-1)*8/Math.pow(2,32),W[Y-1][14]=Math.floor(W[Y-1][14]),W[Y-1][15]=(D.length-1)*8&4294967295;for(let q=0;q<Y;++q){const X=new Uint32Array(80);for(let ht=0;ht<16;++ht)X[ht]=W[q][ht];for(let ht=16;ht<80;++ht)X[ht]=ROTL(X[ht-3]^X[ht-8]^X[ht-14]^X[ht-16],1);let tt=z[0],nt=z[1],st=z[2],ct=z[3],lt=z[4];for(let ht=0;ht<80;++ht){const bt=Math.floor(ht/20),wt=ROTL(tt,5)+f(bt,nt,st,ct)+lt+O[bt]+X[ht]>>>0;lt=ct,ct=st,st=ROTL(nt,30)>>>0,nt=tt,tt=wt}z[0]=z[0]+tt>>>0,z[1]=z[1]+nt>>>0,z[2]=z[2]+st>>>0,z[3]=z[3]+ct>>>0,z[4]=z[4]+lt>>>0}return[z[0]>>24&255,z[0]>>16&255,z[0]>>8&255,z[0]&255,z[1]>>24&255,z[1]>>16&255,z[1]>>8&255,z[1]&255,z[2]>>24&255,z[2]>>16&255,z[2]>>8&255,z[2]&255,z[3]>>24&255,z[3]>>16&255,z[3]>>8&255,z[3]&255,z[4]>>24&255,z[4]>>16&255,z[4]>>8&255,z[4]&255]}const v5=v35("v5",80,sha1),v5$1=v5;function isSubgraph(D,O){return!!D.children(O).length}function edgeToId(D){return escapeId(D.v)+":"+escapeId(D.w)+":"+escapeId(D.name)}var ID_DELIM=/:/g;function escapeId(D){return D?String(D).replace(ID_DELIM,"\\:"):""}function applyStyle$1(D,O){O&&D.attr("style",O)}function applyClass(D,O,z){O&&D.attr("class",O).attr("class",z+" "+D.attr("class"))}function applyTransition(D,O){var z=O.graph();if(isPlainObject(z)){var F=z.transition;if(isFunction(F))return F(D)}return D}var arrows={normal,vee,undirected};function setArrows(D){arrows=D}function normal(D,O,z,F){var Y=D.append("marker").attr("id",O).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),W=Y.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(W,z[F+"Style"]),z[F+"Class"]&&W.attr("class",z[F+"Class"])}function vee(D,O,z,F){var Y=D.append("marker").attr("id",O).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),W=Y.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(W,z[F+"Style"]),z[F+"Class"]&&W.attr("class",z[F+"Class"])}function undirected(D,O,z,F){var Y=D.append("marker").attr("id",O).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),W=Y.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(W,z[F+"Style"]),z[F+"Class"]&&W.attr("class",z[F+"Class"])}function addHtmlLabel$1(D,O){var z=D.append("foreignObject").attr("width","100000"),F=z.append("xhtml:div");F.attr("xmlns","http://www.w3.org/1999/xhtml");var Y=O.label;switch(typeof Y){case"function":F.insert(Y);break;case"object":F.insert(function(){return Y});break;default:F.html(Y)}applyStyle$1(F,O.labelStyle),F.style("display","inline-block"),F.style("white-space","nowrap");var W=F.node().getBoundingClientRect();return z.attr("width",W.width).attr("height",W.height),z}function addSVGLabel(D,O){var z=D;return z.node().appendChild(O.label),applyStyle$1(z,O.labelStyle),z}function addTextLabel(D,O){for(var z=D.append("text"),F=processEscapeSequences(O.label).split(`
`),Y=0;Y<F.length;Y++)z.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(F[Y]);return applyStyle$1(z,O.labelStyle),z}function processEscapeSequences(D){for(var O="",z=!1,F,Y=0;Y<D.length;++Y)if(F=D[Y],z){switch(F){case"n":O+=`
`;break;default:O+=F}z=!1}else F==="\\"?z=!0:O+=F;return O}function addLabel(D,O,z){var F=O.label,Y=D.append("g");O.labelType==="svg"?addSVGLabel(Y,O):typeof F!="string"||O.labelType==="html"?addHtmlLabel$1(Y,O):addTextLabel(Y,O);var W=Y.node().getBBox(),q;switch(z){case"top":q=-O.height/2;break;case"bottom":q=O.height/2-W.height;break;default:q=-W.height/2}return Y.attr("transform","translate("+-W.width/2+","+q+")"),Y}var createClusters=function(D,O){var z=O.nodes().filter(function(W){return isSubgraph(O,W)}),F=D.selectAll("g.cluster").data(z,function(W){return W});applyTransition(F.exit(),O).style("opacity",0).remove();var Y=F.enter().append("g").attr("class","cluster").attr("id",function(W){var q=O.node(W);return q.id}).style("opacity",0).each(function(W){var q=O.node(W),X=select(this);select(this).append("rect");var tt=X.append("g").attr("class","label");addLabel(tt,q,q.clusterLabelPos)});return F=F.merge(Y),F=applyTransition(F,O).style("opacity",1),F.selectAll("rect").each(function(W){var q=O.node(W),X=select(this);applyStyle$1(X,q.style)}),F};function setCreateClusters(D){createClusters=D}let createEdgeLabels=function(D,O){var z=D.selectAll("g.edgeLabel").data(O.edges(),function(Y){return edgeToId(Y)}).classed("update",!0);z.exit().remove(),z.enter().append("g").classed("edgeLabel",!0).style("opacity",0),z=D.selectAll("g.edgeLabel"),z.each(function(Y){var W=select(this);W.select(".label").remove();var q=O.edge(Y),X=addLabel(W,O.edge(Y),0).classed("label",!0),tt=X.node().getBBox();q.labelId&&X.attr("id",q.labelId),has(q,"width")||(q.width=tt.width),has(q,"height")||(q.height=tt.height)});var F;return z.exit?F=z.exit():F=z.selectAll(null),applyTransition(F,O).style("opacity",0).remove(),z};function setCreateEdgeLabels(D){createEdgeLabels=D}function intersectNode$1(D,O){return D.intersect(O)}var createEdgePaths=function(D,O,z){var F=D.selectAll("g.edgePath").data(O.edges(),function(q){return edgeToId(q)}).classed("update",!0),Y=enter(F,O);exit(F,O);var W=F.merge!==void 0?F.merge(Y):F;return applyTransition(W,O).style("opacity",1),W.each(function(q){var X=select(this),tt=O.edge(q);tt.elem=this,tt.id&&X.attr("id",tt.id),applyClass(X,tt.class,(X.classed("update")?"update ":"")+"edgePath")}),W.selectAll("path.path").each(function(q){var X=O.edge(q);X.arrowheadId=uniqueId("arrowhead");var tt=select(this).attr("marker-end",function(){return"url("+makeFragmentRef(location.href,X.arrowheadId)+")"}).style("fill","none");applyTransition(tt,O).attr("d",function(nt){return calcPoints(O,nt)}),applyStyle$1(tt,X.style)}),W.selectAll("defs *").remove(),W.selectAll("defs").each(function(q){var X=O.edge(q),tt=z[X.arrowhead];tt(select(this),X.arrowheadId,X,"arrowhead")}),W};function setCreateEdgePaths(D){createEdgePaths=D}function makeFragmentRef(D,O){var z=D.split("#")[0];return z+"#"+O}function calcPoints(D,O){var z=D.edge(O),F=D.node(O.v),Y=D.node(O.w),W=z.points.slice(1,z.points.length-1);return W.unshift(intersectNode$1(F,W[0])),W.push(intersectNode$1(Y,W[W.length-1])),createLine(z,W)}function createLine(D,O){var z=(line$1||svg$2.line)().x(function(F){return F.x}).y(function(F){return F.y});return(z.curve||z.interpolate)(D.curve),z(O)}function getCoords(D){var O=D.getBBox(),z=D.ownerSVGElement.getScreenCTM().inverse().multiply(D.getScreenCTM()).translate(O.width/2,O.height/2);return{x:z.e,y:z.f}}function enter(D,O){var z=D.enter().append("g").attr("class","edgePath").style("opacity",0);return z.append("path").attr("class","path").attr("d",function(F){var Y=O.edge(F),W=O.node(F.v).elem,q=range$1(Y.points.length).map(function(){return getCoords(W)});return createLine(Y,q)}),z.append("defs"),z}function exit(D,O){var z=D.exit();applyTransition(z,O).style("opacity",0).remove()}var createNodes=function(D,O,z){var F=O.nodes().filter(function(q){return!isSubgraph(O,q)}),Y=D.selectAll("g.node").data(F,function(q){return q}).classed("update",!0);Y.exit().remove(),Y.enter().append("g").attr("class","node").style("opacity",0),Y=D.selectAll("g.node"),Y.each(function(q){var X=O.node(q),tt=select(this);applyClass(tt,X.class,(tt.classed("update")?"update ":"")+"node"),tt.select("g.label").remove();var nt=tt.append("g").attr("class","label"),st=addLabel(nt,X),ct=z[X.shape],lt=pick$1(st.node().getBBox(),"width","height");X.elem=this,X.id&&tt.attr("id",X.id),X.labelId&&nt.attr("id",X.labelId),has(X,"width")&&(lt.width=X.width),has(X,"height")&&(lt.height=X.height),lt.width+=X.paddingLeft+X.paddingRight,lt.height+=X.paddingTop+X.paddingBottom,nt.attr("transform","translate("+(X.paddingLeft-X.paddingRight)/2+","+(X.paddingTop-X.paddingBottom)/2+")");var ht=select(this);ht.select(".label-container").remove();var bt=ct(ht,lt,X).classed("label-container",!0);applyStyle$1(bt,X.style);var wt=bt.node().getBBox();X.width=wt.width,X.height=wt.height});var W;return Y.exit?W=Y.exit():W=Y.selectAll(null),applyTransition(W,O).style("opacity",0).remove(),Y};function setCreateNodes(D){createNodes=D}function positionClusters(D,O){var z=D.filter(function(){return!select(this).classed("update")});function F(Y){var W=O.node(Y);return"translate("+W.x+","+W.y+")"}z.attr("transform",F),applyTransition(D,O).style("opacity",1).attr("transform",F),applyTransition(z.selectAll("rect"),O).attr("width",function(Y){return O.node(Y).width}).attr("height",function(Y){return O.node(Y).height}).attr("x",function(Y){var W=O.node(Y);return-W.width/2}).attr("y",function(Y){var W=O.node(Y);return-W.height/2})}function positionEdgeLabels(D,O){var z=D.filter(function(){return!select(this).classed("update")});function F(Y){var W=O.edge(Y);return has(W,"x")?"translate("+W.x+","+W.y+")":""}z.attr("transform",F),applyTransition(D,O).style("opacity",1).attr("transform",F)}function positionNodes(D,O){var z=D.filter(function(){return!select(this).classed("update")});function F(Y){var W=O.node(Y);return"translate("+W.x+","+W.y+")"}z.attr("transform",F),applyTransition(D,O).style("opacity",1).attr("transform",F)}function intersectEllipse$1(D,O,z,F){var Y=D.x,W=D.y,q=Y-F.x,X=W-F.y,tt=Math.sqrt(O*O*X*X+z*z*q*q),nt=Math.abs(O*z*q/tt);F.x<Y&&(nt=-nt);var st=Math.abs(O*z*X/tt);return F.y<W&&(st=-st),{x:Y+nt,y:W+st}}function intersectCircle$1(D,O,z){return intersectEllipse$1(D,O,O,z)}function intersectLine$1(D,O,z,F){var Y,W,q,X,tt,nt,st,ct,lt,ht,bt,wt,mt,_t,Et;if(Y=O.y-D.y,q=D.x-O.x,tt=O.x*D.y-D.x*O.y,lt=Y*z.x+q*z.y+tt,ht=Y*F.x+q*F.y+tt,!(lt!==0&&ht!==0&&sameSign$1(lt,ht))&&(W=F.y-z.y,X=z.x-F.x,nt=F.x*z.y-z.x*F.y,st=W*D.x+X*D.y+nt,ct=W*O.x+X*O.y+nt,!(st!==0&&ct!==0&&sameSign$1(st,ct))&&(bt=Y*X-W*q,bt!==0)))return wt=Math.abs(bt/2),mt=q*nt-X*tt,_t=mt<0?(mt-wt)/bt:(mt+wt)/bt,mt=W*tt-Y*nt,Et=mt<0?(mt-wt)/bt:(mt+wt)/bt,{x:_t,y:Et}}function sameSign$1(D,O){return D*O>0}function intersectPolygon$1(D,O,z){var F=D.x,Y=D.y,W=[],q=Number.POSITIVE_INFINITY,X=Number.POSITIVE_INFINITY;O.forEach(function(bt){q=Math.min(q,bt.x),X=Math.min(X,bt.y)});for(var tt=F-D.width/2-q,nt=Y-D.height/2-X,st=0;st<O.length;st++){var ct=O[st],lt=O[st<O.length-1?st+1:0],ht=intersectLine$1(D,z,{x:tt+ct.x,y:nt+ct.y},{x:tt+lt.x,y:nt+lt.y});ht&&W.push(ht)}return W.length?(W.length>1&&W.sort(function(bt,wt){var mt=bt.x-z.x,_t=bt.y-z.y,Et=Math.sqrt(mt*mt+_t*_t),At=wt.x-z.x,Ct=wt.y-z.y,Ft=Math.sqrt(At*At+Ct*Ct);return Et<Ft?-1:Et===Ft?0:1}),W[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",D),D)}function intersectRect$2(D,O){var z=D.x,F=D.y,Y=O.x-z,W=O.y-F,q=D.width/2,X=D.height/2,tt,nt;return Math.abs(W)*q>Math.abs(Y)*X?(W<0&&(X=-X),tt=W===0?0:X*Y/W,nt=X):(Y<0&&(q=-q),tt=q,nt=Y===0?0:q*W/Y),{x:z+tt,y:F+nt}}var shapes$2={rect:rect$2,ellipse,circle:circle$2,diamond};function setShapes(D){shapes$2=D}function rect$2(D,O,z){var F=D.insert("rect",":first-child").attr("rx",z.rx).attr("ry",z.ry).attr("x",-O.width/2).attr("y",-O.height/2).attr("width",O.width).attr("height",O.height);return z.intersect=function(Y){return intersectRect$2(z,Y)},F}function ellipse(D,O,z){var F=O.width/2,Y=O.height/2,W=D.insert("ellipse",":first-child").attr("x",-O.width/2).attr("y",-O.height/2).attr("rx",F).attr("ry",Y);return z.intersect=function(q){return intersectEllipse$1(z,F,Y,q)},W}function circle$2(D,O,z){var F=Math.max(O.width,O.height)/2,Y=D.insert("circle",":first-child").attr("x",-O.width/2).attr("y",-O.height/2).attr("r",F);return z.intersect=function(W){return intersectCircle$1(z,F,W)},Y}function diamond(D,O,z){var F=O.width*Math.SQRT2/2,Y=O.height*Math.SQRT2/2,W=[{x:0,y:-Y},{x:-F,y:0},{x:0,y:Y},{x:F,y:0}],q=D.insert("polygon",":first-child").attr("points",W.map(function(X){return X.x+","+X.y}).join(" "));return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function render$2(){var D=function(O,z){preProcessGraph(z);var F=createOrSelectGroup(O,"output"),Y=createOrSelectGroup(F,"clusters"),W=createOrSelectGroup(F,"edgePaths"),q=createEdgeLabels(createOrSelectGroup(F,"edgeLabels"),z),X=createNodes(createOrSelectGroup(F,"nodes"),z,shapes$2);layout(z),positionNodes(X,z),positionEdgeLabels(q,z),createEdgePaths(W,z,arrows);var tt=createClusters(Y,z);positionClusters(tt,z),postProcessGraph(z)};return D.createNodes=function(O){return arguments.length?(setCreateNodes(O),D):createNodes},D.createClusters=function(O){return arguments.length?(setCreateClusters(O),D):createClusters},D.createEdgeLabels=function(O){return arguments.length?(setCreateEdgeLabels(O),D):createEdgeLabels},D.createEdgePaths=function(O){return arguments.length?(setCreateEdgePaths(O),D):createEdgePaths},D.shapes=function(O){return arguments.length?(setShapes(O),D):shapes$2},D.arrows=function(O){return arguments.length?(setArrows(O),D):arrows},D}var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:curveLinear};function preProcessGraph(D){D.nodes().forEach(function(O){var z=D.node(O);!has(z,"label")&&!D.children(O).length&&(z.label=O),has(z,"paddingX")&&defaults$1(z,{paddingLeft:z.paddingX,paddingRight:z.paddingX}),has(z,"paddingY")&&defaults$1(z,{paddingTop:z.paddingY,paddingBottom:z.paddingY}),has(z,"padding")&&defaults$1(z,{paddingLeft:z.padding,paddingRight:z.padding,paddingTop:z.padding,paddingBottom:z.padding}),defaults$1(z,NODE_DEFAULT_ATTRS),forEach(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(F){z[F]=Number(z[F])}),has(z,"width")&&(z._prevWidth=z.width),has(z,"height")&&(z._prevHeight=z.height)}),D.edges().forEach(function(O){var z=D.edge(O);has(z,"label")||(z.label=""),defaults$1(z,EDGE_DEFAULT_ATTRS)})}function postProcessGraph(D){forEach(D.nodes(),function(O){var z=D.node(O);has(z,"_prevWidth")?z.width=z._prevWidth:delete z.width,has(z,"_prevHeight")?z.height=z._prevHeight:delete z.height,delete z._prevWidth,delete z._prevHeight})}function createOrSelectGroup(D,O){var z=D.select("g."+O);return z.empty()&&(z=D.append("g").attr("class",O)),z}var isoWeek={exports:{}};(function(D,O){(function(z,F){D.exports=F()})(commonjsGlobal$1,function(){var z="day";return function(F,Y,W){var q=function(nt){return nt.add(4-nt.isoWeekday(),z)},X=Y.prototype;X.isoWeekYear=function(){return q(this).year()},X.isoWeek=function(nt){if(!this.$utils().u(nt))return this.add(7*(nt-this.isoWeek()),z);var st,ct,lt,ht,bt=q(this),wt=(st=this.isoWeekYear(),ct=this.$u,lt=(ct?W.utc:W)().year(st).startOf("year"),ht=4-lt.isoWeekday(),lt.isoWeekday()>4&&(ht+=7),lt.add(ht,z));return bt.diff(wt,"week")+1},X.isoWeekday=function(nt){return this.$utils().u(nt)?this.day()||7:this.day(this.day()%7?nt:nt-7)};var tt=X.startOf;X.startOf=function(nt,st){var ct=this.$utils(),lt=!!ct.u(st)||st;return ct.p(nt)==="isoweek"?lt?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):tt.bind(this)(nt,st)}}})})(isoWeek);var isoWeekExports=isoWeek.exports;const dayjsIsoWeek=getDefaultExportFromCjs(isoWeekExports);var customParseFormat={exports:{}};(function(D,O){(function(z,F){D.exports=F()})(commonjsGlobal$1,function(){var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},F=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Y=/\d\d/,W=/\d\d?/,q=/\d*[^-_:/,()\s\d]+/,X={},tt=function(wt){return(wt=+wt)+(wt>68?1900:2e3)},nt=function(wt){return function(mt){this[wt]=+mt}},st=[/[+-]\d\d:?(\d\d)?|Z/,function(wt){(this.zone||(this.zone={})).offset=function(mt){if(!mt||mt==="Z")return 0;var _t=mt.match(/([+-]|\d\d)/g),Et=60*_t[1]+(+_t[2]||0);return Et===0?0:_t[0]==="+"?-Et:Et}(wt)}],ct=function(wt){var mt=X[wt];return mt&&(mt.indexOf?mt:mt.s.concat(mt.f))},lt=function(wt,mt){var _t,Et=X.meridiem;if(Et){for(var At=1;At<=24;At+=1)if(wt.indexOf(Et(At,0,mt))>-1){_t=At>12;break}}else _t=wt===(mt?"pm":"PM");return _t},ht={A:[q,function(wt){this.afternoon=lt(wt,!1)}],a:[q,function(wt){this.afternoon=lt(wt,!0)}],S:[/\d/,function(wt){this.milliseconds=100*+wt}],SS:[Y,function(wt){this.milliseconds=10*+wt}],SSS:[/\d{3}/,function(wt){this.milliseconds=+wt}],s:[W,nt("seconds")],ss:[W,nt("seconds")],m:[W,nt("minutes")],mm:[W,nt("minutes")],H:[W,nt("hours")],h:[W,nt("hours")],HH:[W,nt("hours")],hh:[W,nt("hours")],D:[W,nt("day")],DD:[Y,nt("day")],Do:[q,function(wt){var mt=X.ordinal,_t=wt.match(/\d+/);if(this.day=_t[0],mt)for(var Et=1;Et<=31;Et+=1)mt(Et).replace(/\[|\]/g,"")===wt&&(this.day=Et)}],M:[W,nt("month")],MM:[Y,nt("month")],MMM:[q,function(wt){var mt=ct("months"),_t=(ct("monthsShort")||mt.map(function(Et){return Et.slice(0,3)})).indexOf(wt)+1;if(_t<1)throw new Error;this.month=_t%12||_t}],MMMM:[q,function(wt){var mt=ct("months").indexOf(wt)+1;if(mt<1)throw new Error;this.month=mt%12||mt}],Y:[/[+-]?\d+/,nt("year")],YY:[Y,function(wt){this.year=tt(wt)}],YYYY:[/\d{4}/,nt("year")],Z:st,ZZ:st};function bt(wt){var mt,_t;mt=wt,_t=X&&X.formats;for(var Et=(wt=mt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(qt,te,Xt){var Dt=Xt&&Xt.toUpperCase();return te||_t[Xt]||z[Xt]||_t[Dt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Qt,Nt,ce){return Nt||ce.slice(1)})})).match(F),At=Et.length,Ct=0;Ct<At;Ct+=1){var Ft=Et[Ct],Lt=ht[Ft],Yt=Lt&&Lt[0],Ht=Lt&&Lt[1];Et[Ct]=Ht?{regex:Yt,parser:Ht}:Ft.replace(/^\[|\]$/g,"")}return function(qt){for(var te={},Xt=0,Dt=0;Xt<At;Xt+=1){var Qt=Et[Xt];if(typeof Qt=="string")Dt+=Qt.length;else{var Nt=Qt.regex,ce=Qt.parser,Pt=qt.slice(Dt),de=Nt.exec(Pt)[0];ce.call(te,de),qt=qt.replace(de,"")}}return function(ye){var pe=ye.afternoon;if(pe!==void 0){var ve=ye.hours;pe?ve<12&&(ye.hours+=12):ve===12&&(ye.hours=0),delete ye.afternoon}}(te),te}}return function(wt,mt,_t){_t.p.customParseFormat=!0,wt&&wt.parseTwoDigitYear&&(tt=wt.parseTwoDigitYear);var Et=mt.prototype,At=Et.parse;Et.parse=function(Ct){var Ft=Ct.date,Lt=Ct.utc,Yt=Ct.args;this.$u=Lt;var Ht=Yt[1];if(typeof Ht=="string"){var qt=Yt[2]===!0,te=Yt[3]===!0,Xt=qt||te,Dt=Yt[2];te&&(Dt=Yt[2]),X=this.$locale(),!qt&&Dt&&(X=_t.Ls[Dt]),this.$d=function(Pt,de,ye){try{if(["x","X"].indexOf(de)>-1)return new Date((de==="X"?1e3:1)*Pt);var pe=bt(de)(Pt),ve=pe.year,Ce=pe.month,De=pe.day,Oe=pe.hours,Je=pe.minutes,qe=pe.seconds,ze=pe.milliseconds,we=pe.zone,Me=new Date,He=De||(ve||Ce?1:Me.getDate()),Le=ve||Me.getFullYear(),Ye=0;ve&&!Ce||(Ye=Ce>0?Ce-1:Me.getMonth());var Kt=Oe||0,kt=Je||0,jt=qe||0,$t=ze||0;return we?new Date(Date.UTC(Le,Ye,He,Kt,kt,jt,$t+60*we.offset*1e3)):ye?new Date(Date.UTC(Le,Ye,He,Kt,kt,jt,$t)):new Date(Le,Ye,He,Kt,kt,jt,$t)}catch{return new Date("")}}(Ft,Ht,Lt),this.init(),Dt&&Dt!==!0&&(this.$L=this.locale(Dt).$L),Xt&&Ft!=this.format(Ht)&&(this.$d=new Date("")),X={}}else if(Ht instanceof Array)for(var Qt=Ht.length,Nt=1;Nt<=Qt;Nt+=1){Yt[1]=Ht[Nt-1];var ce=_t.apply(this,Yt);if(ce.isValid()){this.$d=ce.$d,this.$L=ce.$L,this.init();break}Nt===Qt&&(this.$d=new Date(""))}else At.call(this,Ct)}}})})(customParseFormat);var customParseFormatExports=customParseFormat.exports;const dayjsCustomParseFormat=getDefaultExportFromCjs(customParseFormatExports);var advancedFormat={exports:{}};(function(D,O){(function(z,F){D.exports=F()})(commonjsGlobal$1,function(){return function(z,F){var Y=F.prototype,W=Y.format;Y.format=function(q){var X=this,tt=this.$locale();if(!this.isValid())return W.bind(this)(q);var nt=this.$utils(),st=(q||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(ct){switch(ct){case"Q":return Math.ceil((X.$M+1)/3);case"Do":return tt.ordinal(X.$D);case"gggg":return X.weekYear();case"GGGG":return X.isoWeekYear();case"wo":return tt.ordinal(X.week(),"W");case"w":case"ww":return nt.s(X.week(),ct==="w"?1:2,"0");case"W":case"WW":return nt.s(X.isoWeek(),ct==="W"?1:2,"0");case"k":case"kk":return nt.s(String(X.$H===0?24:X.$H),ct==="k"?1:2,"0");case"X":return Math.floor(X.$d.getTime()/1e3);case"x":return X.$d.getTime();case"z":return"["+X.offsetName()+"]";case"zzz":return"["+X.offsetName("long")+"]";default:return ct}});return W.bind(this)(st)}}})})(advancedFormat);var advancedFormatExports=advancedFormat.exports;const dayjsAdvancedFormat=getDefaultExportFromCjs(advancedFormatExports),LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...D)=>{},debug:(...D)=>{},info:(...D)=>{},warn:(...D)=>{},error:(...D)=>{},fatal:(...D)=>{}},setLogLevel$1=function(D="fatal"){let O=LEVELS.fatal;typeof D=="string"?(D=D.toLowerCase(),D in LEVELS&&(O=LEVELS[D])):typeof D=="number"&&(O=D),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},O<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),O<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),O<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),O<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),O<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),O<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=D=>`%c${dayjs().format("ss.SSS")} : ${D} : `,getRows=D=>D?breakToPlaceholder(D).replace(/\\n/g,"#br#").split("#br#"):[""],removeScript=D=>purify.sanitize(D),sanitizeMore=(D,O)=>{var z;if(((z=O.flowchart)==null?void 0:z.htmlLabels)!==!1){const F=O.securityLevel;F==="antiscript"||F==="strict"?D=removeScript(D):F!=="loose"&&(D=breakToPlaceholder(D),D=D.replace(/</g,"&lt;").replace(/>/g,"&gt;"),D=D.replace(/=/g,"&equals;"),D=placeholderToBreak(D))}return D},sanitizeText$5=(D,O)=>D&&(O.dompurifyConfig?D=purify.sanitize(sanitizeMore(D,O),O.dompurifyConfig).toString():D=purify.sanitize(sanitizeMore(D,O),{FORBID_TAGS:["style"]}).toString(),D),sanitizeTextOrArray=(D,O)=>typeof D=="string"?sanitizeText$5(D,O):D.flat().map(z=>sanitizeText$5(z,O)),lineBreakRegex=/<br\s*\/?>/gi,hasBreaks=D=>lineBreakRegex.test(D),splitBreaks=D=>D.split(lineBreakRegex),placeholderToBreak=D=>D.replace(/#br#/g,"<br/>"),breakToPlaceholder=D=>D.replace(lineBreakRegex,"#br#"),getUrl=D=>{let O="";return D&&(O=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,O=O.replaceAll(/\(/g,"\\("),O=O.replaceAll(/\)/g,"\\)")),O},evaluate=D=>!(D===!1||["false","null","0"].includes(String(D).trim().toLowerCase())),parseGenericTypes=function(D){let O=D;if(D.split("~").length-1>=2){let z=O;do O=z,z=O.replace(/~([^\s,:;]+)~/,"<$1>");while(z!=O);return parseGenericTypes(z)}else return O},common$1={getRows,sanitizeText:sanitizeText$5,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate},mkBorder=(D,O)=>O?adjust$2(D,{s:-40,l:10}):adjust$2(D,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$2(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$2(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this.darkMode)for(let z=0;z<this.THEME_COLOR_LIMIT;z++)this["cScale"+z]=darken$1(this["cScale"+z],75);else for(let z=0;z<this.THEME_COLOR_LIMIT;z++)this["cScale"+z]=darken$1(this["cScale"+z],25);for(let z=0;z<this.THEME_COLOR_LIMIT;z++)this["cScaleInv"+z]=this["cScaleInv"+z]||invert$1(this["cScale"+z]);for(let z=0;z<this.THEME_COLOR_LIMIT;z++)this.darkMode?this["cScalePeer"+z]=this["cScalePeer"+z]||lighten$1(this["cScale"+z],10):this["cScalePeer"+z]=this["cScalePeer"+z]||darken$1(this["cScale"+z],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let z=0;z<this.THEME_COLOR_LIMIT;z++)this["cScaleLabel"+z]=this["cScaleLabel"+z]||this.scaleLabelColor;const O=this.darkMode?-4:-1;for(let z=0;z<5;z++)this["surface"+z]=this["surface"+z]||adjust$2(this.mainBkg,{h:180,s:-15,l:O*(5+z*3)}),this["surfacePeer"+z]=this["surfacePeer"+z]||adjust$2(this.mainBkg,{h:180,s:-15,l:O*(8+z*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$2(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$2(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$2(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$2(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$2(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(O){if(typeof O!="object"){this.updateColors();return}const z=Object.keys(O);z.forEach(F=>{this[F]=O[F]}),this.updateColors(),z.forEach(F=>{this[F]=O[F]})}};const getThemeVariables$4=D=>{const O=new Theme$4;return O.calculate(D),O};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330});for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||invert$1(this["cScale"+O]);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScalePeer"+O]=this["cScalePeer"+O]||lighten$1(this["cScale"+O],10);for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||adjust$2(this.mainBkg,{h:30,s:-30,l:-(-10+O*4)}),this["surfacePeer"+O]=this["surfacePeer"+O]||adjust$2(this.mainBkg,{h:30,s:-30,l:-(-7+O*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.scaleLabelColor;for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["pie"+O]=this["cScale"+O];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$2(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$2(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$2(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$2(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$2(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(O){if(typeof O!="object"){this.updateColors();return}const z=Object.keys(O);z.forEach(F=>{this[F]=O[F]}),this.updateColors(),z.forEach(F=>{this[F]=O[F]})}};const getThemeVariables$3=D=>{const O=new Theme$3;return O.calculate(D),O};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$2(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||darken$1(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||darken$1(this.tertiaryColor,40);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScale"+O]=darken$1(this["cScale"+O],10),this["cScalePeer"+O]=this["cScalePeer"+O]||darken$1(this["cScale"+O],25);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||adjust$2(this["cScale"+O],{h:180});for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||adjust$2(this.mainBkg,{h:30,l:-(5+O*5)}),this["surfacePeer"+O]=this["surfacePeer"+O]||adjust$2(this.mainBkg,{h:30,l:-(7+O*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$2(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(O){if(typeof O!="object"){this.updateColors();return}const z=Object.keys(O);z.forEach(F=>{this[F]=O[F]}),this.updateColors(),z.forEach(F=>{this[F]=O[F]})}};const getThemeVariables$2=D=>{const O=new Theme$2;return O.calculate(D),O};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||darken$1(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||darken$1(this.tertiaryColor,40);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScale"+O]=darken$1(this["cScale"+O],10),this["cScalePeer"+O]=this["cScalePeer"+O]||darken$1(this["cScale"+O],25);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||adjust$2(this["cScale"+O],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.scaleLabelColor;for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||adjust$2(this.mainBkg,{h:30,s:-30,l:-(5+O*5)}),this["surfacePeer"+O]=this["surfacePeer"+O]||adjust$2(this.mainBkg,{h:30,s:-30,l:-(8+O*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(O){if(typeof O!="object"){this.updateColors();return}const z=Object.keys(O);z.forEach(F=>{this[F]=O[F]}),this.updateColors(),z.forEach(F=>{this[F]=O[F]})}};const getThemeVariables$1=D=>{const O=new Theme$1;return O.calculate(D),O};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleInv"+O]=this["cScaleInv"+O]||invert$1(this["cScale"+O]);for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this.darkMode?this["cScalePeer"+O]=this["cScalePeer"+O]||lighten$1(this["cScale"+O],10):this["cScalePeer"+O]=this["cScalePeer"+O]||darken$1(this["cScale"+O],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["cScaleLabel"+O]=this["cScaleLabel"+O]||this.scaleLabelColor;for(let O=0;O<5;O++)this["surface"+O]=this["surface"+O]||adjust$2(this.mainBkg,{l:-(5+O*5)}),this["surfacePeer"+O]=this["surfacePeer"+O]||adjust$2(this.mainBkg,{l:-(8+O*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128});for(let O=0;O<this.THEME_COLOR_LIMIT;O++)this["pie"+O]=this["cScale"+O];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$2(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$2(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$2(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$2(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$2(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(O){if(typeof O!="object"){this.updateColors();return}const z=Object.keys(O);z.forEach(F=>{this[F]=O[F]}),this.updateColors(),z.forEach(F=>{this[F]=O[F]})}}const getThemeVariables=D=>{const O=new Theme5;return O.calculate(D),O},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},config$1={theme:"default",themeVariables:theme.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};config$1.class&&(config$1.class.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);config$1.gitGraph&&(config$1.gitGraph.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);const keyify=(D,O="")=>Object.keys(D).reduce((z,F)=>Array.isArray(D[F])?z:typeof D[F]=="object"&&D[F]!==null?[...z,O+F,...keyify(D[F],"")]:[...z,O+F],[]),configKeys=keyify(config$1,""),config$2=config$1;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(D){return typeof D>"u"||D===null}function isObject(D){return typeof D=="object"&&D!==null}function toArray(D){return Array.isArray(D)?D:isNothing(D)?[]:[D]}function extend(D,O){var z,F,Y,W;if(O)for(W=Object.keys(O),z=0,F=W.length;z<F;z+=1)Y=W[z],D[Y]=O[Y];return D}function repeat(D,O){var z="",F;for(F=0;F<O;F+=1)z+=D;return z}function isNegativeZero(D){return D===0&&Number.NEGATIVE_INFINITY===1/D}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(D,O){var z="",F=D.reason||"(unknown reason)";return D.mark?(D.mark.name&&(z+='in "'+D.mark.name+'" '),z+="("+(D.mark.line+1)+":"+(D.mark.column+1)+")",!O&&D.mark.snippet&&(z+=`

`+D.mark.snippet),F+" "+z):F}function YAMLException$1(D,O){Error.call(this),this.name="YAMLException",this.reason=D,this.mark=O,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function D(O){return this.name+": "+formatError(this,O)};var exception=YAMLException$1;function getLine(D,O,z,F,Y){var W="",q="",X=Math.floor(Y/2)-1;return F-O>X&&(W=" ... ",O=F-X+W.length),z-F>X&&(q=" ...",z=F+X-q.length),{str:W+D.slice(O,z).replace(/\t/g,"")+q,pos:F-O+W.length}}function padStart(D,O){return common.repeat(" ",O-D.length)+D}function makeSnippet(D,O){if(O=Object.create(O||null),!D.buffer)return null;O.maxLength||(O.maxLength=79),typeof O.indent!="number"&&(O.indent=1),typeof O.linesBefore!="number"&&(O.linesBefore=3),typeof O.linesAfter!="number"&&(O.linesAfter=2);for(var z=/\r?\n|\r|\0/g,F=[0],Y=[],W,q=-1;W=z.exec(D.buffer);)Y.push(W.index),F.push(W.index+W[0].length),D.position<=W.index&&q<0&&(q=F.length-2);q<0&&(q=F.length-1);var X="",tt,nt,st=Math.min(D.line+O.linesAfter,Y.length).toString().length,ct=O.maxLength-(O.indent+st+3);for(tt=1;tt<=O.linesBefore&&!(q-tt<0);tt++)nt=getLine(D.buffer,F[q-tt],Y[q-tt],D.position-(F[q]-F[q-tt]),ct),X=common.repeat(" ",O.indent)+padStart((D.line-tt+1).toString(),st)+" | "+nt.str+`
`+X;for(nt=getLine(D.buffer,F[q],Y[q],D.position,ct),X+=common.repeat(" ",O.indent)+padStart((D.line+1).toString(),st)+" | "+nt.str+`
`,X+=common.repeat("-",O.indent+st+3+nt.pos)+`^
`,tt=1;tt<=O.linesAfter&&!(q+tt>=Y.length);tt++)nt=getLine(D.buffer,F[q+tt],Y[q+tt],D.position-(F[q]-F[q+tt]),ct),X+=common.repeat(" ",O.indent)+padStart((D.line+tt+1).toString(),st)+" | "+nt.str+`
`;return X.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(D){var O={};return D!==null&&Object.keys(D).forEach(function(z){D[z].forEach(function(F){O[String(F)]=z})}),O}function Type$1(D,O){if(O=O||{},Object.keys(O).forEach(function(z){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(z)===-1)throw new exception('Unknown option "'+z+'" is met in definition of "'+D+'" YAML type.')}),this.options=O,this.tag=D,this.kind=O.kind||null,this.resolve=O.resolve||function(){return!0},this.construct=O.construct||function(z){return z},this.instanceOf=O.instanceOf||null,this.predicate=O.predicate||null,this.represent=O.represent||null,this.representName=O.representName||null,this.defaultStyle=O.defaultStyle||null,this.multi=O.multi||!1,this.styleAliases=compileStyleAliases(O.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+D+'" YAML type.')}var type=Type$1;function compileList(D,O){var z=[];return D[O].forEach(function(F){var Y=z.length;z.forEach(function(W,q){W.tag===F.tag&&W.kind===F.kind&&W.multi===F.multi&&(Y=q)}),z[Y]=F}),z}function compileMap(){var D={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},O,z;function F(Y){Y.multi?(D.multi[Y.kind].push(Y),D.multi.fallback.push(Y)):D[Y.kind][Y.tag]=D.fallback[Y.tag]=Y}for(O=0,z=arguments.length;O<z;O+=1)arguments[O].forEach(F);return D}function Schema$1(D){return this.extend(D)}Schema$1.prototype.extend=function D(O){var z=[],F=[];if(O instanceof type)F.push(O);else if(Array.isArray(O))F=F.concat(O);else if(O&&(Array.isArray(O.implicit)||Array.isArray(O.explicit)))O.implicit&&(z=z.concat(O.implicit)),O.explicit&&(F=F.concat(O.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");z.forEach(function(W){if(!(W instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(W.loadKind&&W.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(W.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),F.forEach(function(W){if(!(W instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var Y=Object.create(Schema$1.prototype);return Y.implicit=(this.implicit||[]).concat(z),Y.explicit=(this.explicit||[]).concat(F),Y.compiledImplicit=compileList(Y,"implicit"),Y.compiledExplicit=compileList(Y,"explicit"),Y.compiledTypeMap=compileMap(Y.compiledImplicit,Y.compiledExplicit),Y};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(D){return D!==null?D:""}}),seq$1=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(D){return D!==null?D:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(D){return D!==null?D:{}}}),failsafe=new schema({explicit:[str,seq$1,map]});function resolveYamlNull(D){if(D===null)return!0;var O=D.length;return O===1&&D==="~"||O===4&&(D==="null"||D==="Null"||D==="NULL")}function constructYamlNull(){return null}function isNull(D){return D===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(D){if(D===null)return!1;var O=D.length;return O===4&&(D==="true"||D==="True"||D==="TRUE")||O===5&&(D==="false"||D==="False"||D==="FALSE")}function constructYamlBoolean(D){return D==="true"||D==="True"||D==="TRUE"}function isBoolean(D){return Object.prototype.toString.call(D)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(D){return D?"true":"false"},uppercase:function(D){return D?"TRUE":"FALSE"},camelcase:function(D){return D?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(D){return 48<=D&&D<=57||65<=D&&D<=70||97<=D&&D<=102}function isOctCode(D){return 48<=D&&D<=55}function isDecCode(D){return 48<=D&&D<=57}function resolveYamlInteger(D){if(D===null)return!1;var O=D.length,z=0,F=!1,Y;if(!O)return!1;if(Y=D[z],(Y==="-"||Y==="+")&&(Y=D[++z]),Y==="0"){if(z+1===O)return!0;if(Y=D[++z],Y==="b"){for(z++;z<O;z++)if(Y=D[z],Y!=="_"){if(Y!=="0"&&Y!=="1")return!1;F=!0}return F&&Y!=="_"}if(Y==="x"){for(z++;z<O;z++)if(Y=D[z],Y!=="_"){if(!isHexCode(D.charCodeAt(z)))return!1;F=!0}return F&&Y!=="_"}if(Y==="o"){for(z++;z<O;z++)if(Y=D[z],Y!=="_"){if(!isOctCode(D.charCodeAt(z)))return!1;F=!0}return F&&Y!=="_"}}if(Y==="_")return!1;for(;z<O;z++)if(Y=D[z],Y!=="_"){if(!isDecCode(D.charCodeAt(z)))return!1;F=!0}return!(!F||Y==="_")}function constructYamlInteger(D){var O=D,z=1,F;if(O.indexOf("_")!==-1&&(O=O.replace(/_/g,"")),F=O[0],(F==="-"||F==="+")&&(F==="-"&&(z=-1),O=O.slice(1),F=O[0]),O==="0")return 0;if(F==="0"){if(O[1]==="b")return z*parseInt(O.slice(2),2);if(O[1]==="x")return z*parseInt(O.slice(2),16);if(O[1]==="o")return z*parseInt(O.slice(2),8)}return z*parseInt(O,10)}function isInteger(D){return Object.prototype.toString.call(D)==="[object Number]"&&D%1===0&&!common.isNegativeZero(D)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(D){return D>=0?"0b"+D.toString(2):"-0b"+D.toString(2).slice(1)},octal:function(D){return D>=0?"0o"+D.toString(8):"-0o"+D.toString(8).slice(1)},decimal:function(D){return D.toString(10)},hexadecimal:function(D){return D>=0?"0x"+D.toString(16).toUpperCase():"-0x"+D.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(D){return!(D===null||!YAML_FLOAT_PATTERN.test(D)||D[D.length-1]==="_")}function constructYamlFloat(D){var O,z;return O=D.replace(/_/g,"").toLowerCase(),z=O[0]==="-"?-1:1,"+-".indexOf(O[0])>=0&&(O=O.slice(1)),O===".inf"?z===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:O===".nan"?NaN:z*parseFloat(O,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(D,O){var z;if(isNaN(D))switch(O){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===D)switch(O){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===D)switch(O){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(D))return"-0.0";return z=D.toString(10),SCIENTIFIC_WITHOUT_DOT.test(z)?z.replace("e",".e"):z}function isFloat(D){return Object.prototype.toString.call(D)==="[object Number]"&&(D%1!==0||common.isNegativeZero(D))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(D){return D===null?!1:YAML_DATE_REGEXP.exec(D)!==null||YAML_TIMESTAMP_REGEXP.exec(D)!==null}function constructYamlTimestamp(D){var O,z,F,Y,W,q,X,tt=0,nt=null,st,ct,lt;if(O=YAML_DATE_REGEXP.exec(D),O===null&&(O=YAML_TIMESTAMP_REGEXP.exec(D)),O===null)throw new Error("Date resolve error");if(z=+O[1],F=+O[2]-1,Y=+O[3],!O[4])return new Date(Date.UTC(z,F,Y));if(W=+O[4],q=+O[5],X=+O[6],O[7]){for(tt=O[7].slice(0,3);tt.length<3;)tt+="0";tt=+tt}return O[9]&&(st=+O[10],ct=+(O[11]||0),nt=(st*60+ct)*6e4,O[9]==="-"&&(nt=-nt)),lt=new Date(Date.UTC(z,F,Y,W,q,X,tt)),nt&&lt.setTime(lt.getTime()-nt),lt}function representYamlTimestamp(D){return D.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(D){return D==="<<"||D===null}var merge$1=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(D){if(D===null)return!1;var O,z,F=0,Y=D.length,W=BASE64_MAP;for(z=0;z<Y;z++)if(O=W.indexOf(D.charAt(z)),!(O>64)){if(O<0)return!1;F+=6}return F%8===0}function constructYamlBinary(D){var O,z,F=D.replace(/[\r\n=]/g,""),Y=F.length,W=BASE64_MAP,q=0,X=[];for(O=0;O<Y;O++)O%4===0&&O&&(X.push(q>>16&255),X.push(q>>8&255),X.push(q&255)),q=q<<6|W.indexOf(F.charAt(O));return z=Y%4*6,z===0?(X.push(q>>16&255),X.push(q>>8&255),X.push(q&255)):z===18?(X.push(q>>10&255),X.push(q>>2&255)):z===12&&X.push(q>>4&255),new Uint8Array(X)}function representYamlBinary(D){var O="",z=0,F,Y,W=D.length,q=BASE64_MAP;for(F=0;F<W;F++)F%3===0&&F&&(O+=q[z>>18&63],O+=q[z>>12&63],O+=q[z>>6&63],O+=q[z&63]),z=(z<<8)+D[F];return Y=W%3,Y===0?(O+=q[z>>18&63],O+=q[z>>12&63],O+=q[z>>6&63],O+=q[z&63]):Y===2?(O+=q[z>>10&63],O+=q[z>>4&63],O+=q[z<<2&63],O+=q[64]):Y===1&&(O+=q[z>>2&63],O+=q[z<<4&63],O+=q[64],O+=q[64]),O}function isBinary(D){return Object.prototype.toString.call(D)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(D){if(D===null)return!0;var O=[],z,F,Y,W,q,X=D;for(z=0,F=X.length;z<F;z+=1){if(Y=X[z],q=!1,_toString$2.call(Y)!=="[object Object]")return!1;for(W in Y)if(_hasOwnProperty$3.call(Y,W))if(!q)q=!0;else return!1;if(!q)return!1;if(O.indexOf(W)===-1)O.push(W);else return!1}return!0}function constructYamlOmap(D){return D!==null?D:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(D){if(D===null)return!0;var O,z,F,Y,W,q=D;for(W=new Array(q.length),O=0,z=q.length;O<z;O+=1){if(F=q[O],_toString$1.call(F)!=="[object Object]"||(Y=Object.keys(F),Y.length!==1))return!1;W[O]=[Y[0],F[Y[0]]]}return!0}function constructYamlPairs(D){if(D===null)return[];var O,z,F,Y,W,q=D;for(W=new Array(q.length),O=0,z=q.length;O<z;O+=1)F=q[O],Y=Object.keys(F),W[O]=[Y[0],F[Y[0]]];return W}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(D){if(D===null)return!0;var O,z=D;for(O in z)if(_hasOwnProperty$2.call(z,O)&&z[O]!==null)return!1;return!0}function constructYamlSet(D){return D!==null?D:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(D){return Object.prototype.toString.call(D)}function is_EOL(D){return D===10||D===13}function is_WHITE_SPACE(D){return D===9||D===32}function is_WS_OR_EOL(D){return D===9||D===32||D===10||D===13}function is_FLOW_INDICATOR(D){return D===44||D===91||D===93||D===123||D===125}function fromHexCode(D){var O;return 48<=D&&D<=57?D-48:(O=D|32,97<=O&&O<=102?O-97+10:-1)}function escapedHexLen(D){return D===120?2:D===117?4:D===85?8:0}function fromDecimalCode(D){return 48<=D&&D<=57?D-48:-1}function simpleEscapeSequence(D){return D===48?"\0":D===97?"\x07":D===98?"\b":D===116||D===9?"	":D===110?`
`:D===118?"\v":D===102?"\f":D===114?"\r":D===101?"\x1B":D===32?" ":D===34?'"':D===47?"/":D===92?"\\":D===78?"":D===95?"":D===76?"\u2028":D===80?"\u2029":""}function charFromCodepoint(D){return D<=65535?String.fromCharCode(D):String.fromCharCode((D-65536>>10)+55296,(D-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(D,O){this.input=D,this.filename=O.filename||null,this.schema=O.schema||_default,this.onWarning=O.onWarning||null,this.legacy=O.legacy||!1,this.json=O.json||!1,this.listener=O.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=D.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(D,O){var z={name:D.filename,buffer:D.input.slice(0,-1),position:D.position,line:D.line,column:D.position-D.lineStart};return z.snippet=snippet(z),new exception(O,z)}function throwError(D,O){throw generateError(D,O)}function throwWarning(D,O){D.onWarning&&D.onWarning.call(null,generateError(D,O))}var directiveHandlers={YAML:function D(O,z,F){var Y,W,q;O.version!==null&&throwError(O,"duplication of %YAML directive"),F.length!==1&&throwError(O,"YAML directive accepts exactly one argument"),Y=/^([0-9]+)\.([0-9]+)$/.exec(F[0]),Y===null&&throwError(O,"ill-formed argument of the YAML directive"),W=parseInt(Y[1],10),q=parseInt(Y[2],10),W!==1&&throwError(O,"unacceptable YAML version of the document"),O.version=F[0],O.checkLineBreaks=q<2,q!==1&&q!==2&&throwWarning(O,"unsupported YAML version of the document")},TAG:function D(O,z,F){var Y,W;F.length!==2&&throwError(O,"TAG directive accepts exactly two arguments"),Y=F[0],W=F[1],PATTERN_TAG_HANDLE.test(Y)||throwError(O,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(O.tagMap,Y)&&throwError(O,'there is a previously declared suffix for "'+Y+'" tag handle'),PATTERN_TAG_URI.test(W)||throwError(O,"ill-formed tag prefix (second argument) of the TAG directive");try{W=decodeURIComponent(W)}catch{throwError(O,"tag prefix is malformed: "+W)}O.tagMap[Y]=W}};function captureSegment(D,O,z,F){var Y,W,q,X;if(O<z){if(X=D.input.slice(O,z),F)for(Y=0,W=X.length;Y<W;Y+=1)q=X.charCodeAt(Y),q===9||32<=q&&q<=1114111||throwError(D,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(X)&&throwError(D,"the stream contains non-printable characters");D.result+=X}}function mergeMappings(D,O,z,F){var Y,W,q,X;for(common.isObject(z)||throwError(D,"cannot merge mappings; the provided source object is unacceptable"),Y=Object.keys(z),q=0,X=Y.length;q<X;q+=1)W=Y[q],_hasOwnProperty$1.call(O,W)||(O[W]=z[W],F[W]=!0)}function storeMappingPair(D,O,z,F,Y,W,q,X,tt){var nt,st;if(Array.isArray(Y))for(Y=Array.prototype.slice.call(Y),nt=0,st=Y.length;nt<st;nt+=1)Array.isArray(Y[nt])&&throwError(D,"nested arrays are not supported inside keys"),typeof Y=="object"&&_class(Y[nt])==="[object Object]"&&(Y[nt]="[object Object]");if(typeof Y=="object"&&_class(Y)==="[object Object]"&&(Y="[object Object]"),Y=String(Y),O===null&&(O={}),F==="tag:yaml.org,2002:merge")if(Array.isArray(W))for(nt=0,st=W.length;nt<st;nt+=1)mergeMappings(D,O,W[nt],z);else mergeMappings(D,O,W,z);else!D.json&&!_hasOwnProperty$1.call(z,Y)&&_hasOwnProperty$1.call(O,Y)&&(D.line=q||D.line,D.lineStart=X||D.lineStart,D.position=tt||D.position,throwError(D,"duplicated mapping key")),Y==="__proto__"?Object.defineProperty(O,Y,{configurable:!0,enumerable:!0,writable:!0,value:W}):O[Y]=W,delete z[Y];return O}function readLineBreak(D){var O;O=D.input.charCodeAt(D.position),O===10?D.position++:O===13?(D.position++,D.input.charCodeAt(D.position)===10&&D.position++):throwError(D,"a line break is expected"),D.line+=1,D.lineStart=D.position,D.firstTabInLine=-1}function skipSeparationSpace(D,O,z){for(var F=0,Y=D.input.charCodeAt(D.position);Y!==0;){for(;is_WHITE_SPACE(Y);)Y===9&&D.firstTabInLine===-1&&(D.firstTabInLine=D.position),Y=D.input.charCodeAt(++D.position);if(O&&Y===35)do Y=D.input.charCodeAt(++D.position);while(Y!==10&&Y!==13&&Y!==0);if(is_EOL(Y))for(readLineBreak(D),Y=D.input.charCodeAt(D.position),F++,D.lineIndent=0;Y===32;)D.lineIndent++,Y=D.input.charCodeAt(++D.position);else break}return z!==-1&&F!==0&&D.lineIndent<z&&throwWarning(D,"deficient indentation"),F}function testDocumentSeparator(D){var O=D.position,z;return z=D.input.charCodeAt(O),!!((z===45||z===46)&&z===D.input.charCodeAt(O+1)&&z===D.input.charCodeAt(O+2)&&(O+=3,z=D.input.charCodeAt(O),z===0||is_WS_OR_EOL(z)))}function writeFoldedLines(D,O){O===1?D.result+=" ":O>1&&(D.result+=common.repeat(`
`,O-1))}function readPlainScalar(D,O,z){var F,Y,W,q,X,tt,nt,st,ct=D.kind,lt=D.result,ht;if(ht=D.input.charCodeAt(D.position),is_WS_OR_EOL(ht)||is_FLOW_INDICATOR(ht)||ht===35||ht===38||ht===42||ht===33||ht===124||ht===62||ht===39||ht===34||ht===37||ht===64||ht===96||(ht===63||ht===45)&&(Y=D.input.charCodeAt(D.position+1),is_WS_OR_EOL(Y)||z&&is_FLOW_INDICATOR(Y)))return!1;for(D.kind="scalar",D.result="",W=q=D.position,X=!1;ht!==0;){if(ht===58){if(Y=D.input.charCodeAt(D.position+1),is_WS_OR_EOL(Y)||z&&is_FLOW_INDICATOR(Y))break}else if(ht===35){if(F=D.input.charCodeAt(D.position-1),is_WS_OR_EOL(F))break}else{if(D.position===D.lineStart&&testDocumentSeparator(D)||z&&is_FLOW_INDICATOR(ht))break;if(is_EOL(ht))if(tt=D.line,nt=D.lineStart,st=D.lineIndent,skipSeparationSpace(D,!1,-1),D.lineIndent>=O){X=!0,ht=D.input.charCodeAt(D.position);continue}else{D.position=q,D.line=tt,D.lineStart=nt,D.lineIndent=st;break}}X&&(captureSegment(D,W,q,!1),writeFoldedLines(D,D.line-tt),W=q=D.position,X=!1),is_WHITE_SPACE(ht)||(q=D.position+1),ht=D.input.charCodeAt(++D.position)}return captureSegment(D,W,q,!1),D.result?!0:(D.kind=ct,D.result=lt,!1)}function readSingleQuotedScalar(D,O){var z,F,Y;if(z=D.input.charCodeAt(D.position),z!==39)return!1;for(D.kind="scalar",D.result="",D.position++,F=Y=D.position;(z=D.input.charCodeAt(D.position))!==0;)if(z===39)if(captureSegment(D,F,D.position,!0),z=D.input.charCodeAt(++D.position),z===39)F=D.position,D.position++,Y=D.position;else return!0;else is_EOL(z)?(captureSegment(D,F,Y,!0),writeFoldedLines(D,skipSeparationSpace(D,!1,O)),F=Y=D.position):D.position===D.lineStart&&testDocumentSeparator(D)?throwError(D,"unexpected end of the document within a single quoted scalar"):(D.position++,Y=D.position);throwError(D,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(D,O){var z,F,Y,W,q,X;if(X=D.input.charCodeAt(D.position),X!==34)return!1;for(D.kind="scalar",D.result="",D.position++,z=F=D.position;(X=D.input.charCodeAt(D.position))!==0;){if(X===34)return captureSegment(D,z,D.position,!0),D.position++,!0;if(X===92){if(captureSegment(D,z,D.position,!0),X=D.input.charCodeAt(++D.position),is_EOL(X))skipSeparationSpace(D,!1,O);else if(X<256&&simpleEscapeCheck[X])D.result+=simpleEscapeMap[X],D.position++;else if((q=escapedHexLen(X))>0){for(Y=q,W=0;Y>0;Y--)X=D.input.charCodeAt(++D.position),(q=fromHexCode(X))>=0?W=(W<<4)+q:throwError(D,"expected hexadecimal character");D.result+=charFromCodepoint(W),D.position++}else throwError(D,"unknown escape sequence");z=F=D.position}else is_EOL(X)?(captureSegment(D,z,F,!0),writeFoldedLines(D,skipSeparationSpace(D,!1,O)),z=F=D.position):D.position===D.lineStart&&testDocumentSeparator(D)?throwError(D,"unexpected end of the document within a double quoted scalar"):(D.position++,F=D.position)}throwError(D,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(D,O){var z=!0,F,Y,W,q=D.tag,X,tt=D.anchor,nt,st,ct,lt,ht,bt=Object.create(null),wt,mt,_t,Et;if(Et=D.input.charCodeAt(D.position),Et===91)st=93,ht=!1,X=[];else if(Et===123)st=125,ht=!0,X={};else return!1;for(D.anchor!==null&&(D.anchorMap[D.anchor]=X),Et=D.input.charCodeAt(++D.position);Et!==0;){if(skipSeparationSpace(D,!0,O),Et=D.input.charCodeAt(D.position),Et===st)return D.position++,D.tag=q,D.anchor=tt,D.kind=ht?"mapping":"sequence",D.result=X,!0;z?Et===44&&throwError(D,"expected the node content, but found ','"):throwError(D,"missed comma between flow collection entries"),mt=wt=_t=null,ct=lt=!1,Et===63&&(nt=D.input.charCodeAt(D.position+1),is_WS_OR_EOL(nt)&&(ct=lt=!0,D.position++,skipSeparationSpace(D,!0,O))),F=D.line,Y=D.lineStart,W=D.position,composeNode(D,O,CONTEXT_FLOW_IN,!1,!0),mt=D.tag,wt=D.result,skipSeparationSpace(D,!0,O),Et=D.input.charCodeAt(D.position),(lt||D.line===F)&&Et===58&&(ct=!0,Et=D.input.charCodeAt(++D.position),skipSeparationSpace(D,!0,O),composeNode(D,O,CONTEXT_FLOW_IN,!1,!0),_t=D.result),ht?storeMappingPair(D,X,bt,mt,wt,_t,F,Y,W):ct?X.push(storeMappingPair(D,null,bt,mt,wt,_t,F,Y,W)):X.push(wt),skipSeparationSpace(D,!0,O),Et=D.input.charCodeAt(D.position),Et===44?(z=!0,Et=D.input.charCodeAt(++D.position)):z=!1}throwError(D,"unexpected end of the stream within a flow collection")}function readBlockScalar(D,O){var z,F,Y=CHOMPING_CLIP,W=!1,q=!1,X=O,tt=0,nt=!1,st,ct;if(ct=D.input.charCodeAt(D.position),ct===124)F=!1;else if(ct===62)F=!0;else return!1;for(D.kind="scalar",D.result="";ct!==0;)if(ct=D.input.charCodeAt(++D.position),ct===43||ct===45)CHOMPING_CLIP===Y?Y=ct===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(D,"repeat of a chomping mode identifier");else if((st=fromDecimalCode(ct))>=0)st===0?throwError(D,"bad explicit indentation width of a block scalar; it cannot be less than one"):q?throwError(D,"repeat of an indentation width identifier"):(X=O+st-1,q=!0);else break;if(is_WHITE_SPACE(ct)){do ct=D.input.charCodeAt(++D.position);while(is_WHITE_SPACE(ct));if(ct===35)do ct=D.input.charCodeAt(++D.position);while(!is_EOL(ct)&&ct!==0)}for(;ct!==0;){for(readLineBreak(D),D.lineIndent=0,ct=D.input.charCodeAt(D.position);(!q||D.lineIndent<X)&&ct===32;)D.lineIndent++,ct=D.input.charCodeAt(++D.position);if(!q&&D.lineIndent>X&&(X=D.lineIndent),is_EOL(ct)){tt++;continue}if(D.lineIndent<X){Y===CHOMPING_KEEP?D.result+=common.repeat(`
`,W?1+tt:tt):Y===CHOMPING_CLIP&&W&&(D.result+=`
`);break}for(F?is_WHITE_SPACE(ct)?(nt=!0,D.result+=common.repeat(`
`,W?1+tt:tt)):nt?(nt=!1,D.result+=common.repeat(`
`,tt+1)):tt===0?W&&(D.result+=" "):D.result+=common.repeat(`
`,tt):D.result+=common.repeat(`
`,W?1+tt:tt),W=!0,q=!0,tt=0,z=D.position;!is_EOL(ct)&&ct!==0;)ct=D.input.charCodeAt(++D.position);captureSegment(D,z,D.position,!1)}return!0}function readBlockSequence(D,O){var z,F=D.tag,Y=D.anchor,W=[],q,X=!1,tt;if(D.firstTabInLine!==-1)return!1;for(D.anchor!==null&&(D.anchorMap[D.anchor]=W),tt=D.input.charCodeAt(D.position);tt!==0&&(D.firstTabInLine!==-1&&(D.position=D.firstTabInLine,throwError(D,"tab characters must not be used in indentation")),!(tt!==45||(q=D.input.charCodeAt(D.position+1),!is_WS_OR_EOL(q))));){if(X=!0,D.position++,skipSeparationSpace(D,!0,-1)&&D.lineIndent<=O){W.push(null),tt=D.input.charCodeAt(D.position);continue}if(z=D.line,composeNode(D,O,CONTEXT_BLOCK_IN,!1,!0),W.push(D.result),skipSeparationSpace(D,!0,-1),tt=D.input.charCodeAt(D.position),(D.line===z||D.lineIndent>O)&&tt!==0)throwError(D,"bad indentation of a sequence entry");else if(D.lineIndent<O)break}return X?(D.tag=F,D.anchor=Y,D.kind="sequence",D.result=W,!0):!1}function readBlockMapping(D,O,z){var F,Y,W,q,X,tt,nt=D.tag,st=D.anchor,ct={},lt=Object.create(null),ht=null,bt=null,wt=null,mt=!1,_t=!1,Et;if(D.firstTabInLine!==-1)return!1;for(D.anchor!==null&&(D.anchorMap[D.anchor]=ct),Et=D.input.charCodeAt(D.position);Et!==0;){if(!mt&&D.firstTabInLine!==-1&&(D.position=D.firstTabInLine,throwError(D,"tab characters must not be used in indentation")),F=D.input.charCodeAt(D.position+1),W=D.line,(Et===63||Et===58)&&is_WS_OR_EOL(F))Et===63?(mt&&(storeMappingPair(D,ct,lt,ht,bt,null,q,X,tt),ht=bt=wt=null),_t=!0,mt=!0,Y=!0):mt?(mt=!1,Y=!0):throwError(D,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),D.position+=1,Et=F;else{if(q=D.line,X=D.lineStart,tt=D.position,!composeNode(D,z,CONTEXT_FLOW_OUT,!1,!0))break;if(D.line===W){for(Et=D.input.charCodeAt(D.position);is_WHITE_SPACE(Et);)Et=D.input.charCodeAt(++D.position);if(Et===58)Et=D.input.charCodeAt(++D.position),is_WS_OR_EOL(Et)||throwError(D,"a whitespace character is expected after the key-value separator within a block mapping"),mt&&(storeMappingPair(D,ct,lt,ht,bt,null,q,X,tt),ht=bt=wt=null),_t=!0,mt=!1,Y=!1,ht=D.tag,bt=D.result;else if(_t)throwError(D,"can not read an implicit mapping pair; a colon is missed");else return D.tag=nt,D.anchor=st,!0}else if(_t)throwError(D,"can not read a block mapping entry; a multiline key may not be an implicit key");else return D.tag=nt,D.anchor=st,!0}if((D.line===W||D.lineIndent>O)&&(mt&&(q=D.line,X=D.lineStart,tt=D.position),composeNode(D,O,CONTEXT_BLOCK_OUT,!0,Y)&&(mt?bt=D.result:wt=D.result),mt||(storeMappingPair(D,ct,lt,ht,bt,wt,q,X,tt),ht=bt=wt=null),skipSeparationSpace(D,!0,-1),Et=D.input.charCodeAt(D.position)),(D.line===W||D.lineIndent>O)&&Et!==0)throwError(D,"bad indentation of a mapping entry");else if(D.lineIndent<O)break}return mt&&storeMappingPair(D,ct,lt,ht,bt,null,q,X,tt),_t&&(D.tag=nt,D.anchor=st,D.kind="mapping",D.result=ct),_t}function readTagProperty(D){var O,z=!1,F=!1,Y,W,q;if(q=D.input.charCodeAt(D.position),q!==33)return!1;if(D.tag!==null&&throwError(D,"duplication of a tag property"),q=D.input.charCodeAt(++D.position),q===60?(z=!0,q=D.input.charCodeAt(++D.position)):q===33?(F=!0,Y="!!",q=D.input.charCodeAt(++D.position)):Y="!",O=D.position,z){do q=D.input.charCodeAt(++D.position);while(q!==0&&q!==62);D.position<D.length?(W=D.input.slice(O,D.position),q=D.input.charCodeAt(++D.position)):throwError(D,"unexpected end of the stream within a verbatim tag")}else{for(;q!==0&&!is_WS_OR_EOL(q);)q===33&&(F?throwError(D,"tag suffix cannot contain exclamation marks"):(Y=D.input.slice(O-1,D.position+1),PATTERN_TAG_HANDLE.test(Y)||throwError(D,"named tag handle cannot contain such characters"),F=!0,O=D.position+1)),q=D.input.charCodeAt(++D.position);W=D.input.slice(O,D.position),PATTERN_FLOW_INDICATORS.test(W)&&throwError(D,"tag suffix cannot contain flow indicator characters")}W&&!PATTERN_TAG_URI.test(W)&&throwError(D,"tag name cannot contain such characters: "+W);try{W=decodeURIComponent(W)}catch{throwError(D,"tag name is malformed: "+W)}return z?D.tag=W:_hasOwnProperty$1.call(D.tagMap,Y)?D.tag=D.tagMap[Y]+W:Y==="!"?D.tag="!"+W:Y==="!!"?D.tag="tag:yaml.org,2002:"+W:throwError(D,'undeclared tag handle "'+Y+'"'),!0}function readAnchorProperty(D){var O,z;if(z=D.input.charCodeAt(D.position),z!==38)return!1;for(D.anchor!==null&&throwError(D,"duplication of an anchor property"),z=D.input.charCodeAt(++D.position),O=D.position;z!==0&&!is_WS_OR_EOL(z)&&!is_FLOW_INDICATOR(z);)z=D.input.charCodeAt(++D.position);return D.position===O&&throwError(D,"name of an anchor node must contain at least one character"),D.anchor=D.input.slice(O,D.position),!0}function readAlias(D){var O,z,F;if(F=D.input.charCodeAt(D.position),F!==42)return!1;for(F=D.input.charCodeAt(++D.position),O=D.position;F!==0&&!is_WS_OR_EOL(F)&&!is_FLOW_INDICATOR(F);)F=D.input.charCodeAt(++D.position);return D.position===O&&throwError(D,"name of an alias node must contain at least one character"),z=D.input.slice(O,D.position),_hasOwnProperty$1.call(D.anchorMap,z)||throwError(D,'unidentified alias "'+z+'"'),D.result=D.anchorMap[z],skipSeparationSpace(D,!0,-1),!0}function composeNode(D,O,z,F,Y){var W,q,X,tt=1,nt=!1,st=!1,ct,lt,ht,bt,wt,mt;if(D.listener!==null&&D.listener("open",D),D.tag=null,D.anchor=null,D.kind=null,D.result=null,W=q=X=CONTEXT_BLOCK_OUT===z||CONTEXT_BLOCK_IN===z,F&&skipSeparationSpace(D,!0,-1)&&(nt=!0,D.lineIndent>O?tt=1:D.lineIndent===O?tt=0:D.lineIndent<O&&(tt=-1)),tt===1)for(;readTagProperty(D)||readAnchorProperty(D);)skipSeparationSpace(D,!0,-1)?(nt=!0,X=W,D.lineIndent>O?tt=1:D.lineIndent===O?tt=0:D.lineIndent<O&&(tt=-1)):X=!1;if(X&&(X=nt||Y),(tt===1||CONTEXT_BLOCK_OUT===z)&&(CONTEXT_FLOW_IN===z||CONTEXT_FLOW_OUT===z?wt=O:wt=O+1,mt=D.position-D.lineStart,tt===1?X&&(readBlockSequence(D,mt)||readBlockMapping(D,mt,wt))||readFlowCollection(D,wt)?st=!0:(q&&readBlockScalar(D,wt)||readSingleQuotedScalar(D,wt)||readDoubleQuotedScalar(D,wt)?st=!0:readAlias(D)?(st=!0,(D.tag!==null||D.anchor!==null)&&throwError(D,"alias node should not have any properties")):readPlainScalar(D,wt,CONTEXT_FLOW_IN===z)&&(st=!0,D.tag===null&&(D.tag="?")),D.anchor!==null&&(D.anchorMap[D.anchor]=D.result)):tt===0&&(st=X&&readBlockSequence(D,mt))),D.tag===null)D.anchor!==null&&(D.anchorMap[D.anchor]=D.result);else if(D.tag==="?"){for(D.result!==null&&D.kind!=="scalar"&&throwError(D,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+D.kind+'"'),ct=0,lt=D.implicitTypes.length;ct<lt;ct+=1)if(bt=D.implicitTypes[ct],bt.resolve(D.result)){D.result=bt.construct(D.result),D.tag=bt.tag,D.anchor!==null&&(D.anchorMap[D.anchor]=D.result);break}}else if(D.tag!=="!"){if(_hasOwnProperty$1.call(D.typeMap[D.kind||"fallback"],D.tag))bt=D.typeMap[D.kind||"fallback"][D.tag];else for(bt=null,ht=D.typeMap.multi[D.kind||"fallback"],ct=0,lt=ht.length;ct<lt;ct+=1)if(D.tag.slice(0,ht[ct].tag.length)===ht[ct].tag){bt=ht[ct];break}bt||throwError(D,"unknown tag !<"+D.tag+">"),D.result!==null&&bt.kind!==D.kind&&throwError(D,"unacceptable node kind for !<"+D.tag+'> tag; it should be "'+bt.kind+'", not "'+D.kind+'"'),bt.resolve(D.result,D.tag)?(D.result=bt.construct(D.result,D.tag),D.anchor!==null&&(D.anchorMap[D.anchor]=D.result)):throwError(D,"cannot resolve a node with !<"+D.tag+"> explicit tag")}return D.listener!==null&&D.listener("close",D),D.tag!==null||D.anchor!==null||st}function readDocument(D){var O=D.position,z,F,Y,W=!1,q;for(D.version=null,D.checkLineBreaks=D.legacy,D.tagMap=Object.create(null),D.anchorMap=Object.create(null);(q=D.input.charCodeAt(D.position))!==0&&(skipSeparationSpace(D,!0,-1),q=D.input.charCodeAt(D.position),!(D.lineIndent>0||q!==37));){for(W=!0,q=D.input.charCodeAt(++D.position),z=D.position;q!==0&&!is_WS_OR_EOL(q);)q=D.input.charCodeAt(++D.position);for(F=D.input.slice(z,D.position),Y=[],F.length<1&&throwError(D,"directive name must not be less than one character in length");q!==0;){for(;is_WHITE_SPACE(q);)q=D.input.charCodeAt(++D.position);if(q===35){do q=D.input.charCodeAt(++D.position);while(q!==0&&!is_EOL(q));break}if(is_EOL(q))break;for(z=D.position;q!==0&&!is_WS_OR_EOL(q);)q=D.input.charCodeAt(++D.position);Y.push(D.input.slice(z,D.position))}q!==0&&readLineBreak(D),_hasOwnProperty$1.call(directiveHandlers,F)?directiveHandlers[F](D,F,Y):throwWarning(D,'unknown document directive "'+F+'"')}if(skipSeparationSpace(D,!0,-1),D.lineIndent===0&&D.input.charCodeAt(D.position)===45&&D.input.charCodeAt(D.position+1)===45&&D.input.charCodeAt(D.position+2)===45?(D.position+=3,skipSeparationSpace(D,!0,-1)):W&&throwError(D,"directives end mark is expected"),composeNode(D,D.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(D,!0,-1),D.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(D.input.slice(O,D.position))&&throwWarning(D,"non-ASCII line breaks are interpreted as content"),D.documents.push(D.result),D.position===D.lineStart&&testDocumentSeparator(D)){D.input.charCodeAt(D.position)===46&&(D.position+=3,skipSeparationSpace(D,!0,-1));return}if(D.position<D.length-1)throwError(D,"end of the stream or a document separator is expected");else return}function loadDocuments(D,O){D=String(D),O=O||{},D.length!==0&&(D.charCodeAt(D.length-1)!==10&&D.charCodeAt(D.length-1)!==13&&(D+=`
`),D.charCodeAt(0)===65279&&(D=D.slice(1)));var z=new State$1(D,O),F=D.indexOf("\0");for(F!==-1&&(z.position=F,throwError(z,"null byte is not allowed in input")),z.input+="\0";z.input.charCodeAt(z.position)===32;)z.lineIndent+=1,z.position+=1;for(;z.position<z.length-1;)readDocument(z);return z.documents}function loadAll$1(D,O,z){O!==null&&typeof O=="object"&&typeof z>"u"&&(z=O,O=null);var F=loadDocuments(D,z);if(typeof O!="function")return F;for(var Y=0,W=F.length;Y<W;Y+=1)O(F[Y])}function load$1(D,O){var z=loadDocuments(D,O);if(z.length!==0){if(z.length===1)return z[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader$3={loadAll:loadAll_1,load:load_1},FAILSAFE_SCHEMA=failsafe,load=loader$3.load;const frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function extractFrontMatter(D,O){var z;const F=D.match(frontMatterRegex);if(F){const Y=load(F[1],{schema:FAILSAFE_SCHEMA});return Y!=null&&Y.title&&((z=O.setDiagramTitle)==null||z.call(O,Y.title)),D.slice(F[0].length)}else return D}const directive$1=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyComment=/\s*%%.*\n/gm,detectors={},detectType=function(D,O){D=D.replace(frontMatterRegex,"").replace(directive$1,"").replace(anyComment,`
`);for(const[z,{detector:F}]of Object.entries(detectors))if(F(D,O))return z;throw new Error(`No diagram type detected for text: ${D}`)},registerLazyLoadedDiagrams=(...D)=>{for(const{id:O,detector:z,loader:F}of D)addDetector(O,z,F)},addDetector=(D,O,z)=>{detectors[D]?log$1.error(`Detector with key ${D} already exists`):detectors[D]={detector:O,loader:z},log$1.debug(`Detector with key ${D} added${z?" with loader":""}`)},getDiagramLoader=D=>detectors[D].loader,assignWithDepth=function(D,O,z){const{depth:F,clobber:Y}=Object.assign({depth:2,clobber:!1},z);return Array.isArray(O)&&!Array.isArray(D)?(O.forEach(W=>assignWithDepth(D,W,z)),D):Array.isArray(O)&&Array.isArray(D)?(O.forEach(W=>{D.includes(W)||D.push(W)}),D):D===void 0||F<=0?D!=null&&typeof D=="object"&&typeof O=="object"?Object.assign(D,O):O:(O!==void 0&&typeof D=="object"&&typeof O=="object"&&Object.keys(O).forEach(W=>{typeof O[W]=="object"&&(D[W]===void 0||typeof D[W]=="object")?(D[W]===void 0&&(D[W]=Array.isArray(O[W])?[]:{}),D[W]=assignWithDepth(D[W],O[W],{depth:F-1,clobber:Y})):(Y||typeof D[W]!="object"&&typeof O[W]!="object")&&(D[W]=O[W])}),D)},assignWithDepth$1=assignWithDepth,d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directive=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(D,O){const z=detectDirective(D,/(?:init\b)|(?:initialize\b)/);let F={};if(Array.isArray(z)){const Y=z.map(W=>W.args);directiveSanitizer(Y),F=assignWithDepth$1(F,[...Y])}else F=z.args;if(F){let Y=detectType(D,O);["config"].forEach(W=>{F[W]!==void 0&&(Y==="flowchart-v2"&&(Y="flowchart"),F[Y]=F[W],delete F[W])})}return F},detectDirective=function(D,O=null){try{const z=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");D=D.trim().replace(z,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${O!==null?" type:"+O:""} based on the text:${D}`);let F;const Y=[];for(;(F=directive.exec(D))!==null;)if(F.index===directive.lastIndex&&directive.lastIndex++,F&&!O||O&&F[1]&&F[1].match(O)||O&&F[2]&&F[2].match(O)){const W=F[1]?F[1]:F[2],q=F[3]?F[3].trim():F[4]?JSON.parse(F[4].trim()):null;Y.push({type:W,args:q})}return Y.length===0&&Y.push({type:D,args:null}),Y.length===1?Y[0]:Y}catch(z){return log$1.error(`ERROR: ${z.message} - Unable to parse directive
      ${O!==null?" type:"+O:""} based on the text:${D}`),{type:null,args:null}}},isSubstringInArray=function(D,O){for(const[z,F]of O.entries())if(F.match(D))return z;return-1};function interpolateToCurve(D,O){if(!D)return O;const z=`curve${D.charAt(0).toUpperCase()+D.slice(1)}`;return d3CurveTypes[z]||O}function formatUrl(D,O){const z=D.trim();if(z)return O.securityLevel!=="loose"?dist.sanitizeUrl(z):z}const runFunc=(D,...O)=>{const z=D.split("."),F=z.length-1,Y=z[F];let W=window;for(let q=0;q<F;q++)if(W=W[z[q]],!W)return;W[Y](...O)};function distance(D,O){return D&&O?Math.sqrt(Math.pow(O.x-D.x,2)+Math.pow(O.y-D.y,2)):0}function traverseEdge(D){let O,z=0;D.forEach(W=>{z+=distance(W,O),O=W});let F=z/2,Y;return O=void 0,D.forEach(W=>{if(O&&!Y){const q=distance(W,O);if(q<F)F-=q;else{const X=F/q;X<=0&&(Y=O),X>=1&&(Y={x:W.x,y:W.y}),X>0&&X<1&&(Y={x:(1-X)*O.x+X*W.x,y:(1-X)*O.y+X*W.y})}}O=W}),Y}function calcLabelPosition(D){return D.length===1?D[0]:traverseEdge(D)}const calcCardinalityPosition=(D,O,z)=>{let F;log$1.info(`our points ${JSON.stringify(O)}`),O[0]!==z&&(O=O.reverse());let W=25,q;F=void 0,O.forEach(st=>{if(F&&!q){const ct=distance(st,F);if(ct<W)W-=ct;else{const lt=W/ct;lt<=0&&(q=F),lt>=1&&(q={x:st.x,y:st.y}),lt>0&&lt<1&&(q={x:(1-lt)*F.x+lt*st.x,y:(1-lt)*F.y+lt*st.y})}}F=st});const X=D?10:5,tt=Math.atan2(O[0].y-q.y,O[0].x-q.x),nt={x:0,y:0};return nt.x=Math.sin(tt)*X+(O[0].x+q.x)/2,nt.y=-Math.cos(tt)*X+(O[0].y+q.y)/2,nt};function calcTerminalLabelPosition(D,O,z){let F=JSON.parse(JSON.stringify(z)),Y;log$1.info("our points",F),O!=="start_left"&&O!=="start_right"&&(F=F.reverse()),F.forEach(ct=>{Y=ct});let q=25+D,X;Y=void 0,F.forEach(ct=>{if(Y&&!X){const lt=distance(ct,Y);if(lt<q)q-=lt;else{const ht=q/lt;ht<=0&&(X=Y),ht>=1&&(X={x:ct.x,y:ct.y}),ht>0&&ht<1&&(X={x:(1-ht)*Y.x+ht*ct.x,y:(1-ht)*Y.y+ht*ct.y})}}Y=ct});const tt=10+D*.5,nt=Math.atan2(F[0].y-X.y,F[0].x-X.x),st={x:0,y:0};return st.x=Math.sin(nt)*tt+(F[0].x+X.x)/2,st.y=-Math.cos(nt)*tt+(F[0].y+X.y)/2,O==="start_left"&&(st.x=Math.sin(nt+Math.PI)*tt+(F[0].x+X.x)/2,st.y=-Math.cos(nt+Math.PI)*tt+(F[0].y+X.y)/2),O==="end_right"&&(st.x=Math.sin(nt-Math.PI)*tt+(F[0].x+X.x)/2-5,st.y=-Math.cos(nt-Math.PI)*tt+(F[0].y+X.y)/2-5),O==="end_left"&&(st.x=Math.sin(nt)*tt+(F[0].x+X.x)/2-5,st.y=-Math.cos(nt)*tt+(F[0].y+X.y)/2-5),st}function getStylesFromArray(D){let O="",z="";for(const F of D)F!==void 0&&(F.startsWith("color:")||F.startsWith("text-align:")?z=z+F+";":O=O+F+";");return{style:O,labelStyle:z}}let cnt=0;const generateId$1=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeid(D){let O="";const z="0123456789abcdef",F=z.length;for(let Y=0;Y<D;Y++)O+=z.charAt(Math.floor(Math.random()*F));return O}const random=D=>makeid(D.length),getTextObj$2=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},drawSimpleText=function(D,O){const z=O.text.replace(common$1.lineBreakRegex," "),[,F]=parseFontSize(O.fontSize),Y=D.append("text");Y.attr("x",O.x),Y.attr("y",O.y),Y.style("text-anchor",O.anchor),Y.style("font-family",O.fontFamily),Y.style("font-size",F),Y.style("font-weight",O.fontWeight),Y.attr("fill",O.fill),O.class!==void 0&&Y.attr("class",O.class);const W=Y.append("tspan");return W.attr("x",O.x+O.textMargin*2),W.attr("fill",O.fill),W.text(z),Y},wrapLabel=memoize((D,O,z)=>{if(!D||(z=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},z),common$1.lineBreakRegex.test(D)))return D;const F=D.split(" "),Y=[];let W="";return F.forEach((q,X)=>{const tt=calculateTextWidth(`${q} `,z),nt=calculateTextWidth(W,z);if(tt>O){const{hyphenatedStrings:lt,remainingWord:ht}=breakString(q,O,"-",z);Y.push(W,...lt),W=ht}else nt+tt>=O?(Y.push(W),W=q):W=[W,q].filter(Boolean).join(" ");X+1===F.length&&Y.push(W)}),Y.filter(q=>q!=="").join(z.joinWith)},(D,O,z)=>`${D}${O}${z.fontSize}${z.fontWeight}${z.fontFamily}${z.joinWith}`),breakString=memoize((D,O,z="-",F)=>{F=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},F);const Y=[...D],W=[];let q="";return Y.forEach((X,tt)=>{const nt=`${q}${X}`;if(calculateTextWidth(nt,F)>=O){const ct=tt+1,lt=Y.length===ct,ht=`${nt}${z}`;W.push(lt?nt:ht),q=""}else q=nt}),{hyphenatedStrings:W,remainingWord:q}},(D,O,z="-",F)=>`${D}${O}${z}${F.fontSize}${F.fontWeight}${F.fontFamily}`);function calculateTextHeight(D,O){return O=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},O),calculateTextDimensions(D,O).height}function calculateTextWidth(D,O){return O=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},O),calculateTextDimensions(D,O).width}const calculateTextDimensions=memoize((D,O)=>{O=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},O);const{fontSize:z,fontFamily:F,fontWeight:Y}=O;if(!D)return{width:0,height:0};const[,W]=parseFontSize(z),q=["sans-serif",F],X=D.split(common$1.lineBreakRegex),tt=[],nt=select("body");if(!nt.remove)return{width:0,height:0,lineHeight:0};const st=nt.append("svg");for(const lt of q){let ht=0;const bt={width:0,height:0,lineHeight:0};for(const wt of X){const mt=getTextObj$2();mt.text=wt;const _t=drawSimpleText(st,mt).style("font-size",W).style("font-weight",Y).style("font-family",lt),Et=(_t._groups||_t)[0][0].getBBox();bt.width=Math.round(Math.max(bt.width,Et.width)),ht=Math.round(Et.height),bt.height+=ht,bt.lineHeight=Math.round(Math.max(bt.lineHeight,ht))}tt.push(bt)}st.remove();const ct=isNaN(tt[1].height)||isNaN(tt[1].width)||isNaN(tt[1].lineHeight)||tt[0].height>tt[1].height&&tt[0].width>tt[1].width&&tt[0].lineHeight>tt[1].lineHeight?0:1;return tt[ct]},(D,O)=>`${D}${O.fontSize}${O.fontWeight}${O.fontFamily}`),initIdGenerator=class{constructor(O,z){this.deterministic=O,this.seed=z,this.count=z?z.length:0}next(){return this.deterministic?this.count++:Date.now()}};let decoder;const entityDecode=function(D){return decoder=decoder||document.createElement("div"),D=escape(D).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=D,unescape(decoder.textContent)},directiveSanitizer=D=>{if(log$1.debug("directiveSanitizer called with",D),typeof D=="object"&&(D.length?D.forEach(O=>directiveSanitizer(O)):Object.keys(D).forEach(O=>{log$1.debug("Checking key",O),O.startsWith("__")&&(log$1.debug("sanitize deleting __ option",O),delete D[O]),O.includes("proto")&&(log$1.debug("sanitize deleting proto option",O),delete D[O]),O.includes("constr")&&(log$1.debug("sanitize deleting constr option",O),delete D[O]),O.includes("themeCSS")&&(log$1.debug("sanitizing themeCss option"),D[O]=sanitizeCss(D[O])),O.includes("fontFamily")&&(log$1.debug("sanitizing fontFamily option"),D[O]=sanitizeCss(D[O])),O.includes("altFontFamily")&&(log$1.debug("sanitizing altFontFamily option"),D[O]=sanitizeCss(D[O])),configKeys.includes(O)?typeof D[O]=="object"&&(log$1.debug("sanitize deleting object",O),directiveSanitizer(D[O])):(log$1.debug("sanitize deleting option",O),delete D[O])})),D.themeVariables){const O=Object.keys(D.themeVariables);for(const z of O){const F=D.themeVariables[z];F&&F.match&&!F.match(/^[\d "#%(),.;A-Za-z]+$/)&&(D.themeVariables[z]="")}}log$1.debug("After sanitization",D)},sanitizeCss=D=>{let O=0,z=0;for(const F of D){if(O<z)return"{ /* ERROR: Unbalanced CSS */ }";F==="{"?O++:F==="}"&&z++}return O!==z?"{ /* ERROR: Unbalanced CSS */ }":D};function isDetailedError(D){return"str"in D}function getErrorMessage(D){return D instanceof Error?D.message:String(D)}const insertTitle=(D,O,z,F)=>{if(!F)return;const Y=D.node().getBBox();D.append("text").text(F).attr("x",Y.x+Y.width/2).attr("y",-z).attr("class",O)},parseFontSize=D=>{if(typeof D=="number")return[D,D+"px"];const O=parseInt(D,10);return Number.isNaN(O)?[void 0,void 0]:D===String(O)?[O,D+"px"]:[O,D]},utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId:generateId$1,random,runFunc,entityDecode,initIdGenerator,directiveSanitizer,sanitizeCss,insertTitle,parseFontSize},version$1="9.4.3",defaultConfig=Object.freeze(config$2);let siteConfig=assignWithDepth$1({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig);const updateCurrentConfig=(D,O)=>{let z=assignWithDepth$1({},D),F={};for(const Y of O)sanitize(Y),F=assignWithDepth$1(F,Y);if(z=assignWithDepth$1(z,F),F.theme&&F.theme in theme){const Y=assignWithDepth$1({},configFromInitialize),W=assignWithDepth$1(Y.themeVariables||{},F.themeVariables);z.theme&&z.theme in theme&&(z.themeVariables=theme[z.theme].getThemeVariables(W))}return currentConfig=z,checkConfig(currentConfig),currentConfig},setSiteConfig=D=>(siteConfig=assignWithDepth$1({},defaultConfig),siteConfig=assignWithDepth$1(siteConfig,D),D.theme&&theme[D.theme]&&(siteConfig.themeVariables=theme[D.theme].getThemeVariables(D.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=D=>{configFromInitialize=assignWithDepth$1({},D)},updateSiteConfig=D=>(siteConfig=assignWithDepth$1(siteConfig,D),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig=D=>(checkConfig(D),assignWithDepth$1(currentConfig,D),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=D=>{["secure",...siteConfig.secure??[]].forEach(O=>{D[O]!==void 0&&(log$1.debug(`Denied attempt to modify a secure key ${O}`,D[O]),delete D[O])}),Object.keys(D).forEach(O=>{O.indexOf("__")===0&&delete D[O]}),Object.keys(D).forEach(O=>{typeof D[O]=="string"&&(D[O].includes("<")||D[O].includes(">")||D[O].includes("url(data:"))&&delete D[O],typeof D[O]=="object"&&sanitize(D[O])})},addDirective=D=>{D.fontFamily&&(D.themeVariables?D.themeVariables.fontFamily||(D.themeVariables={fontFamily:D.fontFamily}):D.themeVariables={fontFamily:D.fontFamily}),directives.push(D),updateCurrentConfig(siteConfig,directives)},reset=(D=siteConfig)=>{directives=[],updateCurrentConfig(D,directives)};var ConfigWarning=(D=>(D.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",D))(ConfigWarning||{});const issuedWarnings={},issueWarning=D=>{issuedWarnings[D]||(log$1.warn(ConfigWarning[D]),issuedWarnings[D]=!0)},checkConfig=D=>{D&&(D.lazyLoadedDiagrams||D.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},d3Attrs=function(D,O){for(let z of O)D.attr(z[0],z[1])},calculateSvgSizeAttrs=function(D,O,z){let F=new Map;return z?(F.set("width","100%"),F.set("style",`max-width: ${O}px;`)):(F.set("height",D),F.set("width",O)),F},configureSvgSize=function(D,O,z,F){const Y=calculateSvgSizeAttrs(O,z,F);d3Attrs(D,Y)},setupGraphViewbox$1=function(D,O,z,F){const Y=O.node().getBBox(),W=Y.width,q=Y.height;log$1.info(`SVG bounds: ${W}x${q}`,Y);let X=0,tt=0;log$1.info(`Graph bounds: ${X}x${tt}`,D),X=W+z*2,tt=q+z*2,log$1.info(`Calculated bounds: ${X}x${tt}`),configureSvgSize(O,tt,X,F);const nt=`${Y.x-z} ${Y.y-z} ${Y.width+2*z} ${Y.height+2*z}`;O.attr("viewBox",nt)},getStyles$e=D=>`g.classGroup text {
  fill: ${D.nodeBorder};
  fill: ${D.classText};
  stroke: none;
  font-family: ${D.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${D.classText};
}
.edgeLabel .label rect {
  fill: ${D.mainBkg};
}
.label text {
  fill: ${D.classText};
}
.edgeLabel .label span {
  background: ${D.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${D.mainBkg};
    stroke: ${D.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${D.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${D.mainBkg};
  stroke: ${D.nodeBorder};
}

g.classGroup line {
  stroke: ${D.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${D.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${D.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${D.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${D.lineColor} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${D.lineColor} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${D.lineColor} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${D.lineColor} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${D.mainBkg} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${D.mainBkg} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${D.mainBkg} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${D.mainBkg} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${D.mainBkg} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${D.mainBkg} !important;
  stroke: ${D.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${D.textColor};
}
`,classStyles=getStyles$e,getStyles$d=D=>`
  .entityBox {
    fill: ${D.mainBkg};
    stroke: ${D.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${D.attributeBackgroundColorOdd};
    stroke: ${D.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${D.attributeBackgroundColorEven};
    stroke: ${D.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${D.tertiaryColor};
    opacity: 0.7;
    background-color: ${D.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${D.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${D.textColor};
  }    
`,erStyles=getStyles$d,getStyles$c=()=>"",errorStyles=getStyles$c,getStyles$b=D=>`.label {
    font-family: ${D.fontFamily};
    color: ${D.nodeTextColor||D.textColor};
  }
  .cluster-label text {
    fill: ${D.titleColor};
  }
  .cluster-label span {
    color: ${D.titleColor};
  }

  .label text,span {
    fill: ${D.nodeTextColor||D.textColor};
    color: ${D.nodeTextColor||D.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${D.mainBkg};
    stroke: ${D.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${D.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${D.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${D.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${D.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${D.edgeLabelBackground};
      fill: ${D.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${D.clusterBkg};
    stroke: ${D.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${D.titleColor};
  }

  .cluster span {
    color: ${D.titleColor};
  }
  /* .cluster div {
    color: ${D.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${D.fontFamily};
    font-size: 12px;
    background: ${D.tertiaryColor};
    border: 1px solid ${D.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${D.textColor};
  }
`,flowStyles=getStyles$b,getStyles$a=D=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${D.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${D.sectionBkgColor};
  }

  .section2 {
    fill: ${D.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${D.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${D.titleColor};
  }

  .sectionTitle1 {
    fill: ${D.titleColor};
  }

  .sectionTitle2 {
    fill: ${D.titleColor};
  }

  .sectionTitle3 {
    fill: ${D.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${D.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${D.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${D.fontFamily};
      fill: ${D.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${D.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${D.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${D.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${D.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${D.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${D.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${D.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${D.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${D.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${D.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${D.taskBkgColor};
    stroke: ${D.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${D.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${D.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${D.activeTaskBkgColor};
    stroke: ${D.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${D.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${D.doneTaskBorderColor};
    fill: ${D.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${D.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${D.critBorderColor};
    fill: ${D.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${D.critBorderColor};
    fill: ${D.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${D.critBorderColor};
    fill: ${D.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${D.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${D.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${D.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,ganttStyles=getStyles$a,getStyles$9=()=>"",infoStyles=getStyles$9,getStyles$8=D=>`
  .pieCircle{
    stroke: ${D.pieStrokeColor};
    stroke-width : ${D.pieStrokeWidth};
    opacity : ${D.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${D.pieTitleTextSize};
    fill: ${D.pieTitleTextColor};
    font-family: ${D.fontFamily};
  }
  .slice {
    font-family: ${D.fontFamily};
    fill: ${D.pieSectionTextColor};
    font-size:${D.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${D.pieLegendTextColor};
    font-family: ${D.fontFamily};
    font-size: ${D.pieLegendTextSize};
  }
`,pieStyles=getStyles$8,getStyles$7=D=>`

  marker {
    fill: ${D.relationColor};
    stroke: ${D.relationColor};
  }

  marker.cross {
    stroke: ${D.lineColor};
  }

  svg {
    font-family: ${D.fontFamily};
    font-size: ${D.fontSize};
  }

  .reqBox {
    fill: ${D.requirementBackground};
    fill-opacity: 100%;
    stroke: ${D.requirementBorderColor};
    stroke-width: ${D.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${D.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${D.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${D.requirementBorderColor};
    stroke-width: ${D.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${D.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${D.relationLabelColor};
  }

`,requirementStyles=getStyles$7,getStyles$6=D=>`.actor {
    stroke: ${D.actorBorder};
    fill: ${D.actorBkg};
  }

  text.actor > tspan {
    fill: ${D.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${D.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${D.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${D.signalColor};
  }

  #arrowhead path {
    fill: ${D.signalColor};
    stroke: ${D.signalColor};
  }

  .sequenceNumber {
    fill: ${D.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${D.signalColor};
  }

  #crosshead path {
    fill: ${D.signalColor};
    stroke: ${D.signalColor};
  }

  .messageText {
    fill: ${D.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${D.labelBoxBorderColor};
    fill: ${D.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${D.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${D.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${D.labelBoxBorderColor};
    fill: ${D.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${D.noteBorderColor};
    fill: ${D.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${D.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${D.activationBkgColor};
    stroke: ${D.activationBorderColor};
  }

  .activation1 {
    fill: ${D.activationBkgColor};
    stroke: ${D.activationBorderColor};
  }

  .activation2 {
    fill: ${D.activationBkgColor};
    stroke: ${D.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${D.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${D.actorBorder};
    fill: ${D.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${D.actorBorder};
    fill: ${D.actorBkg};
    stroke-width: 2px;
  }
`,sequenceStyles=getStyles$6,getStyles$5=D=>`
defs #statediagram-barbEnd {
    fill: ${D.transitionColor};
    stroke: ${D.transitionColor};
  }
g.stateGroup text {
  fill: ${D.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${D.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${D.stateLabelColor};
}

g.stateGroup rect {
  fill: ${D.mainBkg};
  stroke: ${D.nodeBorder};
}

g.stateGroup line {
  stroke: ${D.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${D.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${D.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${D.noteBorderColor};
  fill: ${D.noteBkgColor};

  text {
    fill: ${D.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${D.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${D.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${D.transitionLabelColor||D.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${D.transitionLabelColor||D.tertiaryTextColor};
}

.stateLabel text {
  fill: ${D.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${D.specialStateColor};
  stroke: ${D.specialStateColor};
}

.node .fork-join {
  fill: ${D.specialStateColor};
  stroke: ${D.specialStateColor};
}

.node circle.state-end {
  fill: ${D.innerEndBackground};
  stroke: ${D.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${D.compositeBackground||D.background};
  // stroke: ${D.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${D.stateBkg||D.mainBkg};
  stroke: ${D.stateBorder||D.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${D.mainBkg};
  stroke: ${D.stateBorder||D.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${D.lineColor};
}

.statediagram-cluster rect {
  fill: ${D.compositeTitleBackground};
  stroke: ${D.stateBorder||D.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${D.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${D.stateBorder||D.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${D.compositeBackground||D.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${D.altBackground?D.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${D.altBackground?D.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${D.noteBkgColor};
  stroke: ${D.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${D.noteBkgColor};
  stroke: ${D.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${D.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${D.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${D.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${D.lineColor};
  stroke: ${D.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${D.textColor};
}
`,stateStyles=getStyles$5,getStyles$4=D=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${D.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${D.textColor}
  }

  .legend {
    fill: ${D.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${D.textColor}
  }

  .face {
    ${D.faceColor?`fill: ${D.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${D.mainBkg};
    stroke: ${D.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${D.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${D.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${D.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${D.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${D.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${D.tertiaryColor};
    border: 1px solid ${D.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${D.fillType0?`fill: ${D.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${D.fillType0?`fill: ${D.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${D.fillType0?`fill: ${D.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${D.fillType0?`fill: ${D.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${D.fillType0?`fill: ${D.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${D.fillType0?`fill: ${D.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${D.fillType0?`fill: ${D.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${D.fillType0?`fill: ${D.fillType7}`:""};
  }

  .actor-0 {
    ${D.actor0?`fill: ${D.actor0}`:""};
  }
  .actor-1 {
    ${D.actor1?`fill: ${D.actor1}`:""};
  }
  .actor-2 {
    ${D.actor2?`fill: ${D.actor2}`:""};
  }
  .actor-3 {
    ${D.actor3?`fill: ${D.actor3}`:""};
  }
  .actor-4 {
    ${D.actor4?`fill: ${D.actor4}`:""};
  }
  .actor-5 {
    ${D.actor5?`fill: ${D.actor5}`:""};
  }
`,journeyStyles=getStyles$4,getStyles$3=D=>`.person {
    stroke: ${D.personBorder};
    fill: ${D.personBkg};
  }
`,c4Styles=getStyles$3,themes={flowchart:flowStyles,"flowchart-v2":flowStyles,sequence:sequenceStyles,gantt:ganttStyles,classDiagram:classStyles,"classDiagram-v2":classStyles,class:classStyles,stateDiagram:stateStyles,state:stateStyles,info:infoStyles,pie:pieStyles,er:erStyles,error:errorStyles,journey:journeyStyles,requirement:requirementStyles,c4:c4Styles},getStyles$1=(D,O,z)=>{let F="";return D in themes&&themes[D]?F=themes[D](z):log$1.warn(`No theme found for ${D}`),` & {
    font-family: ${z.fontFamily};
    font-size: ${z.fontSize};
    fill: ${z.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${z.errorBkgColor};
  }
  & .error-text {
    fill: ${z.errorTextColor};
    stroke: ${z.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${z.lineColor};
    stroke: ${z.lineColor};
  }
  & .marker.cross {
    stroke: ${z.lineColor};
  }

  & svg {
    font-family: ${z.fontFamily};
    font-size: ${z.fontSize};
  }

  ${F}

  ${O}
`},addStylesForDiagram=(D,O)=>{themes[D]=O},getStyles$2=getStyles$1;let title$1="",diagramTitle="",description="";const sanitizeText$4=D=>sanitizeText$5(D,getConfig$1()),clear$g=function(){title$1="",description="",diagramTitle=""},setAccTitle=function(D){title$1=sanitizeText$4(D).replace(/^\s+/g,"")},getAccTitle=function(){return title$1||diagramTitle},setAccDescription=function(D){description=sanitizeText$4(D).replace(/\n\s+/g,`
`)},getAccDescription=function(){return description},setDiagramTitle=function(D){diagramTitle=sanitizeText$4(D)},getDiagramTitle=function(){return diagramTitle},commonDb={setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,getAccDescription,setAccDescription,clear:clear$g},commonDb$1=Object.freeze(Object.defineProperty({__proto__:null,clear:clear$g,default:commonDb,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"}));let currentDirective={};const parseDirective$c=function(D,O,z,F){log$1.debug("parseDirective is being called",O,z,F);try{if(O!==void 0)switch(O=O.trim(),z){case"open_directive":currentDirective={};break;case"type_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.type=O.toLowerCase();break;case"arg_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.args=JSON.parse(O);break;case"close_directive":handleDirective(D,currentDirective,F),currentDirective=void 0;break}}catch(Y){log$1.error(`Error while rendering sequenceDiagram directive: ${O} jison context: ${z}`),log$1.error(Y.message)}},handleDirective=function(D,O,z){switch(log$1.info(`Directive type=${O.type} with args:`,O.args),O.type){case"init":case"initialize":{["config"].forEach(F=>{O.args[F]!==void 0&&(z==="flowchart-v2"&&(z="flowchart"),O.args[z]=O.args[F],delete O.args[F])}),log$1.info("sanitize in handleDirective",O.args),directiveSanitizer(O.args),log$1.info("sanitize in handleDirective (done)",O.args),addDirective(O.args);break}case"wrap":case"nowrap":D&&D.setWrap&&D.setWrap(O.type==="wrap");break;case"themeCss":log$1.warn("themeCss encountered");break;default:log$1.warn(`Unhandled directive: source: '%%{${O.type}: ${JSON.stringify(O.args?O.args:{})}}%%`,O);break}},log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,sanitizeText$3=D=>sanitizeText$5(D,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb$1,parseDirective$b=(D,O,z,F)=>parseDirective$c(D,O,z,F),diagrams={},registerDiagram=(D,O,z)=>{if(diagrams[D])throw new Error(`Diagram ${D} already registered.`);diagrams[D]=O,z&&addDetector(D,z),addStylesForDiagram(D,O.styles),O.injectUtils&&O.injectUtils(log,setLogLevel,getConfig,sanitizeText$3,setupGraphViewbox,getCommonDb(),parseDirective$b)},getDiagram=D=>{if(D in diagrams)return diagrams[D];throw new Error(`Diagram ${D} not found.`)};var parser$c=function(){var D=function(Ht,qt,te,Xt){for(te=te||{},Xt=Ht.length;Xt--;te[Ht[Xt]]=qt);return te},O=[1,4],z=[1,7],F=[1,5],Y=[1,9],W=[1,6],q=[2,6],X=[1,16],tt=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],nt=[8,14,20,22,24,25,27,29,32,37,40],st=[8,13,14,20,22,24,25,27,29,32,37,40],ct=[1,26],lt=[6,8,14,50,55],ht=[8,14,55],bt=[1,53],wt=[1,52],mt=[8,14,30,33,35,38,55],_t=[1,67],Et=[1,68],At=[1,69],Ct=[8,14,33,35,42,55],Ft={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(qt,te,Xt,Dt,Qt,Nt,ce){var Pt=Nt.length-1;switch(Qt){case 3:return Nt[Pt];case 4:return Nt[Pt-1];case 5:return Dt.setDirection(Nt[Pt-3]),Nt[Pt-1];case 7:Dt.setOptions(Nt[Pt-1]),this.$=Nt[Pt];break;case 8:Nt[Pt-1]+=Nt[Pt],this.$=Nt[Pt-1];break;case 10:this.$=[];break;case 11:Nt[Pt-1].push(Nt[Pt]),this.$=Nt[Pt-1];break;case 12:this.$=Nt[Pt-1];break;case 17:this.$=Nt[Pt].trim(),Dt.setAccTitle(this.$);break;case 18:case 19:this.$=Nt[Pt].trim(),Dt.setAccDescription(this.$);break;case 20:Dt.addSection(Nt[Pt].substr(8)),this.$=Nt[Pt].substr(8);break;case 22:Dt.checkout(Nt[Pt]);break;case 23:Dt.branch(Nt[Pt]);break;case 24:Dt.branch(Nt[Pt-2],Nt[Pt]);break;case 25:Dt.cherryPick(Nt[Pt],"",void 0);break;case 26:Dt.cherryPick(Nt[Pt-2],"",Nt[Pt]);break;case 27:case 29:Dt.cherryPick(Nt[Pt-2],"","");break;case 28:Dt.cherryPick(Nt[Pt],"",Nt[Pt-2]);break;case 30:Dt.merge(Nt[Pt],"","","");break;case 31:Dt.merge(Nt[Pt-2],Nt[Pt],"","");break;case 32:Dt.merge(Nt[Pt-2],"",Nt[Pt],"");break;case 33:Dt.merge(Nt[Pt-2],"","",Nt[Pt]);break;case 34:Dt.merge(Nt[Pt-4],Nt[Pt],"",Nt[Pt-2]);break;case 35:Dt.merge(Nt[Pt-4],"",Nt[Pt],Nt[Pt-2]);break;case 36:Dt.merge(Nt[Pt-4],"",Nt[Pt-2],Nt[Pt]);break;case 37:Dt.merge(Nt[Pt-4],Nt[Pt-2],Nt[Pt],"");break;case 38:Dt.merge(Nt[Pt-4],Nt[Pt-2],"",Nt[Pt]);break;case 39:Dt.merge(Nt[Pt-4],Nt[Pt],Nt[Pt-2],"");break;case 40:Dt.merge(Nt[Pt-6],Nt[Pt-4],Nt[Pt-2],Nt[Pt]);break;case 41:Dt.merge(Nt[Pt-6],Nt[Pt],Nt[Pt-4],Nt[Pt-2]);break;case 42:Dt.merge(Nt[Pt-6],Nt[Pt-4],Nt[Pt],Nt[Pt-2]);break;case 43:Dt.merge(Nt[Pt-6],Nt[Pt-2],Nt[Pt-4],Nt[Pt]);break;case 44:Dt.merge(Nt[Pt-6],Nt[Pt],Nt[Pt-2],Nt[Pt-4]);break;case 45:Dt.merge(Nt[Pt-6],Nt[Pt-2],Nt[Pt],Nt[Pt-4]);break;case 46:Dt.commit(Nt[Pt]);break;case 47:Dt.commit("","",Dt.commitType.NORMAL,Nt[Pt]);break;case 48:Dt.commit("","",Nt[Pt],"");break;case 49:Dt.commit("","",Nt[Pt],Nt[Pt-2]);break;case 50:Dt.commit("","",Nt[Pt-2],Nt[Pt]);break;case 51:Dt.commit("",Nt[Pt],Dt.commitType.NORMAL,"");break;case 52:Dt.commit("",Nt[Pt-2],Dt.commitType.NORMAL,Nt[Pt]);break;case 53:Dt.commit("",Nt[Pt],Dt.commitType.NORMAL,Nt[Pt-2]);break;case 54:Dt.commit("",Nt[Pt-2],Nt[Pt],"");break;case 55:Dt.commit("",Nt[Pt],Nt[Pt-2],"");break;case 56:Dt.commit("",Nt[Pt-4],Nt[Pt-2],Nt[Pt]);break;case 57:Dt.commit("",Nt[Pt-4],Nt[Pt],Nt[Pt-2]);break;case 58:Dt.commit("",Nt[Pt-2],Nt[Pt-4],Nt[Pt]);break;case 59:Dt.commit("",Nt[Pt],Nt[Pt-4],Nt[Pt-2]);break;case 60:Dt.commit("",Nt[Pt],Nt[Pt-2],Nt[Pt-4]);break;case 61:Dt.commit("",Nt[Pt-2],Nt[Pt],Nt[Pt-4]);break;case 62:Dt.commit(Nt[Pt],"",Dt.commitType.NORMAL,"");break;case 63:Dt.commit(Nt[Pt],"",Dt.commitType.NORMAL,Nt[Pt-2]);break;case 64:Dt.commit(Nt[Pt-2],"",Dt.commitType.NORMAL,Nt[Pt]);break;case 65:Dt.commit(Nt[Pt-2],"",Nt[Pt],"");break;case 66:Dt.commit(Nt[Pt],"",Nt[Pt-2],"");break;case 67:Dt.commit(Nt[Pt],Nt[Pt-2],Dt.commitType.NORMAL,"");break;case 68:Dt.commit(Nt[Pt-2],Nt[Pt],Dt.commitType.NORMAL,"");break;case 69:Dt.commit(Nt[Pt-4],"",Nt[Pt-2],Nt[Pt]);break;case 70:Dt.commit(Nt[Pt-4],"",Nt[Pt],Nt[Pt-2]);break;case 71:Dt.commit(Nt[Pt-2],"",Nt[Pt-4],Nt[Pt]);break;case 72:Dt.commit(Nt[Pt],"",Nt[Pt-4],Nt[Pt-2]);break;case 73:Dt.commit(Nt[Pt],"",Nt[Pt-2],Nt[Pt-4]);break;case 74:Dt.commit(Nt[Pt-2],"",Nt[Pt],Nt[Pt-4]);break;case 75:Dt.commit(Nt[Pt-4],Nt[Pt],Nt[Pt-2],"");break;case 76:Dt.commit(Nt[Pt-4],Nt[Pt-2],Nt[Pt],"");break;case 77:Dt.commit(Nt[Pt-2],Nt[Pt],Nt[Pt-4],"");break;case 78:Dt.commit(Nt[Pt],Nt[Pt-2],Nt[Pt-4],"");break;case 79:Dt.commit(Nt[Pt],Nt[Pt-4],Nt[Pt-2],"");break;case 80:Dt.commit(Nt[Pt-2],Nt[Pt-4],Nt[Pt],"");break;case 81:Dt.commit(Nt[Pt-4],Nt[Pt],Dt.commitType.NORMAL,Nt[Pt-2]);break;case 82:Dt.commit(Nt[Pt-4],Nt[Pt-2],Dt.commitType.NORMAL,Nt[Pt]);break;case 83:Dt.commit(Nt[Pt-2],Nt[Pt],Dt.commitType.NORMAL,Nt[Pt-4]);break;case 84:Dt.commit(Nt[Pt],Nt[Pt-2],Dt.commitType.NORMAL,Nt[Pt-4]);break;case 85:Dt.commit(Nt[Pt],Nt[Pt-4],Dt.commitType.NORMAL,Nt[Pt-2]);break;case 86:Dt.commit(Nt[Pt-2],Nt[Pt-4],Dt.commitType.NORMAL,Nt[Pt]);break;case 87:Dt.commit(Nt[Pt-6],Nt[Pt-4],Nt[Pt-2],Nt[Pt]);break;case 88:Dt.commit(Nt[Pt-6],Nt[Pt-4],Nt[Pt],Nt[Pt-2]);break;case 89:Dt.commit(Nt[Pt-6],Nt[Pt-2],Nt[Pt-4],Nt[Pt]);break;case 90:Dt.commit(Nt[Pt-6],Nt[Pt],Nt[Pt-4],Nt[Pt-2]);break;case 91:Dt.commit(Nt[Pt-6],Nt[Pt-2],Nt[Pt],Nt[Pt-4]);break;case 92:Dt.commit(Nt[Pt-6],Nt[Pt],Nt[Pt-2],Nt[Pt-4]);break;case 93:Dt.commit(Nt[Pt-4],Nt[Pt-6],Nt[Pt-2],Nt[Pt]);break;case 94:Dt.commit(Nt[Pt-4],Nt[Pt-6],Nt[Pt],Nt[Pt-2]);break;case 95:Dt.commit(Nt[Pt-2],Nt[Pt-6],Nt[Pt-4],Nt[Pt]);break;case 96:Dt.commit(Nt[Pt],Nt[Pt-6],Nt[Pt-4],Nt[Pt-2]);break;case 97:Dt.commit(Nt[Pt-2],Nt[Pt-6],Nt[Pt],Nt[Pt-4]);break;case 98:Dt.commit(Nt[Pt],Nt[Pt-6],Nt[Pt-2],Nt[Pt-4]);break;case 99:Dt.commit(Nt[Pt],Nt[Pt-4],Nt[Pt-2],Nt[Pt-6]);break;case 100:Dt.commit(Nt[Pt-2],Nt[Pt-4],Nt[Pt],Nt[Pt-6]);break;case 101:Dt.commit(Nt[Pt],Nt[Pt-2],Nt[Pt-4],Nt[Pt-6]);break;case 102:Dt.commit(Nt[Pt-2],Nt[Pt],Nt[Pt-4],Nt[Pt-6]);break;case 103:Dt.commit(Nt[Pt-4],Nt[Pt-2],Nt[Pt],Nt[Pt-6]);break;case 104:Dt.commit(Nt[Pt-4],Nt[Pt],Nt[Pt-2],Nt[Pt-6]);break;case 105:Dt.commit(Nt[Pt-2],Nt[Pt-4],Nt[Pt-6],Nt[Pt]);break;case 106:Dt.commit(Nt[Pt],Nt[Pt-4],Nt[Pt-6],Nt[Pt-2]);break;case 107:Dt.commit(Nt[Pt-2],Nt[Pt],Nt[Pt-6],Nt[Pt-4]);break;case 108:Dt.commit(Nt[Pt],Nt[Pt-2],Nt[Pt-6],Nt[Pt-4]);break;case 109:Dt.commit(Nt[Pt-4],Nt[Pt-2],Nt[Pt-6],Nt[Pt]);break;case 110:Dt.commit(Nt[Pt-4],Nt[Pt],Nt[Pt-6],Nt[Pt-2]);break;case 111:this.$="";break;case 112:this.$=Nt[Pt];break;case 113:this.$=Dt.commitType.NORMAL;break;case 114:this.$=Dt.commitType.REVERSE;break;case 115:this.$=Dt.commitType.HIGHLIGHT;break;case 118:Dt.parseDirective("%%{","open_directive");break;case 119:Dt.parseDirective(Nt[Pt],"type_directive");break;case 120:Nt[Pt]=Nt[Pt].trim().replace(/'/g,'"'),Dt.parseDirective(Nt[Pt],"arg_directive");break;case 121:Dt.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:O,8:z,14:F,46:8,50:Y,55:W},{1:[3]},{3:10,4:2,5:3,6:O,8:z,14:F,46:8,50:Y,55:W},{3:11,4:2,5:3,6:O,8:z,14:F,46:8,50:Y,55:W},{7:12,8:q,9:[1,13],10:[1,14],11:15,14:X},D(tt,[2,124]),D(tt,[2,125]),D(tt,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:q,11:15,14:X},{9:[1,21]},D(nt,[2,10],{12:22,13:[1,23]}),D(st,[2,9]),{9:[1,25],48:24,53:ct},D([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:q,11:15,14:X},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},D(st,[2,8]),D(lt,[2,116]),{49:45,52:[1,46]},D(lt,[2,121]),{1:[2,4]},{8:[1,47]},D(nt,[2,11]),{4:48,8:z,14:F,55:W},D(nt,[2,13]),D(ht,[2,14]),D(ht,[2,15]),D(ht,[2,16]),{21:[1,49]},{23:[1,50]},D(ht,[2,19]),D(ht,[2,20]),D(ht,[2,21]),{28:51,34:bt,54:wt},D(ht,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:bt,54:wt},{33:[1,61],35:[1,62]},{28:63,34:bt,54:wt},{48:64,53:ct},{53:[2,120]},{1:[2,5]},D(nt,[2,12]),D(ht,[2,17]),D(ht,[2,18]),D(ht,[2,22]),D(mt,[2,122]),D(mt,[2,123]),D(ht,[2,46]),{34:[1,65]},{39:66,43:_t,44:Et,45:At},{34:[1,70]},{34:[1,71]},D(ht,[2,112]),D(ht,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},D(ht,[2,23],{30:[1,78]}),D(lt,[2,117]),D(ht,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),D(ht,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),D(Ct,[2,113]),D(Ct,[2,114]),D(Ct,[2,115]),D(ht,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),D(ht,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:_t,44:Et,45:At},{34:[1,93]},D(ht,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:_t,44:Et,45:At},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:_t,44:Et,45:At},{34:[1,106]},{34:[1,107]},{39:108,43:_t,44:Et,45:At},{34:[1,109]},D(ht,[2,31],{35:[1,111],38:[1,110]}),D(ht,[2,32],{33:[1,113],35:[1,112]}),D(ht,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},D(ht,[2,24]),D(ht,[2,49],{33:[1,120],42:[1,121]}),D(ht,[2,53],{38:[1,122],42:[1,123]}),D(ht,[2,63],{33:[1,125],38:[1,124]}),D(ht,[2,50],{33:[1,126],42:[1,127]}),D(ht,[2,55],{35:[1,128],42:[1,129]}),D(ht,[2,66],{33:[1,131],35:[1,130]}),D(ht,[2,52],{38:[1,132],42:[1,133]}),D(ht,[2,54],{35:[1,134],42:[1,135]}),D(ht,[2,67],{35:[1,137],38:[1,136]}),D(ht,[2,64],{33:[1,139],38:[1,138]}),D(ht,[2,65],{33:[1,141],35:[1,140]}),D(ht,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:_t,44:Et,45:At},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:_t,44:Et,45:At},D(ht,[2,26]),D(ht,[2,27]),D(ht,[2,28]),D(ht,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:_t,44:Et,45:At},{34:[1,153]},{39:154,43:_t,44:Et,45:At},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:_t,44:Et,45:At},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:_t,44:Et,45:At},{34:[1,167]},{39:168,43:_t,44:Et,45:At},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:_t,44:Et,45:At},{34:[1,173]},D(ht,[2,37],{35:[1,174]}),D(ht,[2,38],{38:[1,175]}),D(ht,[2,36],{33:[1,176]}),D(ht,[2,39],{35:[1,177]}),D(ht,[2,34],{38:[1,178]}),D(ht,[2,35],{33:[1,179]}),D(ht,[2,60],{42:[1,180]}),D(ht,[2,73],{33:[1,181]}),D(ht,[2,61],{42:[1,182]}),D(ht,[2,84],{38:[1,183]}),D(ht,[2,74],{33:[1,184]}),D(ht,[2,83],{38:[1,185]}),D(ht,[2,59],{42:[1,186]}),D(ht,[2,72],{33:[1,187]}),D(ht,[2,58],{42:[1,188]}),D(ht,[2,78],{35:[1,189]}),D(ht,[2,71],{33:[1,190]}),D(ht,[2,77],{35:[1,191]}),D(ht,[2,57],{42:[1,192]}),D(ht,[2,85],{38:[1,193]}),D(ht,[2,56],{42:[1,194]}),D(ht,[2,79],{35:[1,195]}),D(ht,[2,80],{35:[1,196]}),D(ht,[2,86],{38:[1,197]}),D(ht,[2,70],{33:[1,198]}),D(ht,[2,81],{38:[1,199]}),D(ht,[2,69],{33:[1,200]}),D(ht,[2,75],{35:[1,201]}),D(ht,[2,76],{35:[1,202]}),D(ht,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:_t,44:Et,45:At},{34:[1,206]},{34:[1,207]},{39:208,43:_t,44:Et,45:At},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:_t,44:Et,45:At},{34:[1,214]},{39:215,43:_t,44:Et,45:At},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:_t,44:Et,45:At},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:_t,44:Et,45:At},{34:[1,228]},{39:229,43:_t,44:Et,45:At},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:_t,44:Et,45:At},D(ht,[2,40]),D(ht,[2,42]),D(ht,[2,41]),D(ht,[2,43]),D(ht,[2,45]),D(ht,[2,44]),D(ht,[2,101]),D(ht,[2,102]),D(ht,[2,99]),D(ht,[2,100]),D(ht,[2,104]),D(ht,[2,103]),D(ht,[2,108]),D(ht,[2,107]),D(ht,[2,106]),D(ht,[2,105]),D(ht,[2,110]),D(ht,[2,109]),D(ht,[2,98]),D(ht,[2,97]),D(ht,[2,96]),D(ht,[2,95]),D(ht,[2,93]),D(ht,[2,94]),D(ht,[2,92]),D(ht,[2,91]),D(ht,[2,90]),D(ht,[2,89]),D(ht,[2,87]),D(ht,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(qt,te){if(te.recoverable)this.trace(qt);else{var Xt=new Error(qt);throw Xt.hash=te,Xt}},parse:function(qt){var te=this,Xt=[0],Dt=[],Qt=[null],Nt=[],ce=this.table,Pt="",de=0,ye=0,pe=2,ve=1,Ce=Nt.slice.call(arguments,1),De=Object.create(this.lexer),Oe={yy:{}};for(var Je in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Je)&&(Oe.yy[Je]=this.yy[Je]);De.setInput(qt,Oe.yy),Oe.yy.lexer=De,Oe.yy.parser=this,typeof De.yylloc>"u"&&(De.yylloc={});var qe=De.yylloc;Nt.push(qe);var ze=De.options&&De.options.ranges;typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function we(){var Be;return Be=Dt.pop()||De.lex()||ve,typeof Be!="number"&&(Be instanceof Array&&(Dt=Be,Be=Dt.pop()),Be=te.symbols_[Be]||Be),Be}for(var Me,He,Le,Ye,Kt={},kt,jt,$t,oe;;){if(He=Xt[Xt.length-1],this.defaultActions[He]?Le=this.defaultActions[He]:((Me===null||typeof Me>"u")&&(Me=we()),Le=ce[He]&&ce[He][Me]),typeof Le>"u"||!Le.length||!Le[0]){var Vt="";oe=[];for(kt in ce[He])this.terminals_[kt]&&kt>pe&&oe.push("'"+this.terminals_[kt]+"'");De.showPosition?Vt="Parse error on line "+(de+1)+`:
`+De.showPosition()+`
Expecting `+oe.join(", ")+", got '"+(this.terminals_[Me]||Me)+"'":Vt="Parse error on line "+(de+1)+": Unexpected "+(Me==ve?"end of input":"'"+(this.terminals_[Me]||Me)+"'"),this.parseError(Vt,{text:De.match,token:this.terminals_[Me]||Me,line:De.yylineno,loc:qe,expected:oe})}if(Le[0]instanceof Array&&Le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+Me);switch(Le[0]){case 1:Xt.push(Me),Qt.push(De.yytext),Nt.push(De.yylloc),Xt.push(Le[1]),Me=null,ye=De.yyleng,Pt=De.yytext,de=De.yylineno,qe=De.yylloc;break;case 2:if(jt=this.productions_[Le[1]][1],Kt.$=Qt[Qt.length-jt],Kt._$={first_line:Nt[Nt.length-(jt||1)].first_line,last_line:Nt[Nt.length-1].last_line,first_column:Nt[Nt.length-(jt||1)].first_column,last_column:Nt[Nt.length-1].last_column},ze&&(Kt._$.range=[Nt[Nt.length-(jt||1)].range[0],Nt[Nt.length-1].range[1]]),Ye=this.performAction.apply(Kt,[Pt,ye,de,Oe.yy,Le[1],Qt,Nt].concat(Ce)),typeof Ye<"u")return Ye;jt&&(Xt=Xt.slice(0,-1*jt*2),Qt=Qt.slice(0,-1*jt),Nt=Nt.slice(0,-1*jt)),Xt.push(this.productions_[Le[1]][0]),Qt.push(Kt.$),Nt.push(Kt._$),$t=ce[Xt[Xt.length-2]][Xt[Xt.length-1]],Xt.push($t);break;case 3:return!0}}return!0}},Lt=function(){var Ht={EOF:1,parseError:function(te,Xt){if(this.yy.parser)this.yy.parser.parseError(te,Xt);else throw new Error(te)},setInput:function(qt,te){return this.yy=te||this.yy||{},this._input=qt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qt=this._input[0];this.yytext+=qt,this.yyleng++,this.offset++,this.match+=qt,this.matched+=qt;var te=qt.match(/(?:\r\n?|\n).*/g);return te?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qt},unput:function(qt){var te=qt.length,Xt=qt.split(/(?:\r\n?|\n)/g);this._input=qt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-te),this.offset-=te;var Dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Xt.length-1&&(this.yylineno-=Xt.length-1);var Qt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Xt?(Xt.length===Dt.length?this.yylloc.first_column:0)+Dt[Dt.length-Xt.length].length-Xt[0].length:this.yylloc.first_column-te},this.options.ranges&&(this.yylloc.range=[Qt[0],Qt[0]+this.yyleng-te]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(qt){this.unput(this.match.slice(qt))},pastInput:function(){var qt=this.matched.substr(0,this.matched.length-this.match.length);return(qt.length>20?"...":"")+qt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qt=this.match;return qt.length<20&&(qt+=this._input.substr(0,20-qt.length)),(qt.substr(0,20)+(qt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qt=this.pastInput(),te=new Array(qt.length+1).join("-");return qt+this.upcomingInput()+`
`+te+"^"},test_match:function(qt,te){var Xt,Dt,Qt;if(this.options.backtrack_lexer&&(Qt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qt.yylloc.range=this.yylloc.range.slice(0))),Dt=qt[0].match(/(?:\r\n?|\n).*/g),Dt&&(this.yylineno+=Dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Dt?Dt[Dt.length-1].length-Dt[Dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qt[0].length},this.yytext+=qt[0],this.match+=qt[0],this.matches=qt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qt[0].length),this.matched+=qt[0],Xt=this.performAction.call(this,this.yy,this,te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Xt)return Xt;if(this._backtrack){for(var Nt in Qt)this[Nt]=Qt[Nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var qt,te,Xt,Dt;this._more||(this.yytext="",this.match="");for(var Qt=this._currentRules(),Nt=0;Nt<Qt.length;Nt++)if(Xt=this._input.match(this.rules[Qt[Nt]]),Xt&&(!te||Xt[0].length>te[0].length)){if(te=Xt,Dt=Nt,this.options.backtrack_lexer){if(qt=this.test_match(Xt,Qt[Nt]),qt!==!1)return qt;if(this._backtrack){te=!1;continue}else return!1}else if(!this.options.flex)break}return te?(qt=this.test_match(te,Qt[Dt]),qt!==!1?qt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var te=this.next();return te||this.lex()},begin:function(te){this.conditionStack.push(te)},popState:function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},pushState:function(te){this.begin(te)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(te,Xt,Dt,Qt){switch(Dt){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return Ht}();Ft.lexer=Lt;function Yt(){this.yy={}}return Yt.prototype=Ft,Ft.Parser=Yt,new Yt}();parser$c.parser=parser$c;const gitGraphParser=parser$c,gitGraphDetector=D=>D.match(/^\s*gitGraph/)!==null;let mainBranchName=getConfig$1().gitGraph.mainBranchName,mainBranchOrder=getConfig$1().gitGraph.mainBranchOrder,commits={},head=null,branchesConfig={};branchesConfig[mainBranchName]={name:mainBranchName,order:mainBranchOrder};let branches={};branches[mainBranchName]=head;let curBranch=mainBranchName,direction$3="LR",seq=0;function getId(){return random({length:7})}const parseDirective$a=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)};function uniqBy(D,O){const z=Object.create(null);return D.reduce((F,Y)=>{const W=O(Y);return z[W]||(z[W]=!0,F.push(Y)),F},[])}const setDirection$3=function(D){direction$3=D};let options={};const setOptions=function(D){log$1.debug("options str",D),D=D&&D.trim(),D=D||"{}";try{options=JSON.parse(D)}catch(O){log$1.error("error while parsing gitGraph options",O.message)}},getOptions=function(){return options},commit=function(D,O,z,F){log$1.debug("Entering commit:",D,O,z,F),O=common$1.sanitizeText(O,getConfig$1()),D=common$1.sanitizeText(D,getConfig$1()),F=common$1.sanitizeText(F,getConfig$1());const Y={id:O||seq+"-"+getId(),message:D,seq:seq++,type:z||commitType$1.NORMAL,tag:F||"",parents:head==null?[]:[head.id],branch:curBranch};head=Y,commits[Y.id]=Y,branches[curBranch]=Y.id,log$1.debug("in pushCommit "+Y.id)},branch=function(D,O){if(D=common$1.sanitizeText(D,getConfig$1()),branches[D]===void 0)branches[D]=head!=null?head.id:null,branchesConfig[D]={name:D,order:O?parseInt(O,10):null},checkout(D),log$1.debug("in createBranch");else{let z=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+D+'")');throw z.hash={text:"branch "+D,token:"branch "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+D+'"']},z}},merge=function(D,O,z,F){D=common$1.sanitizeText(D,getConfig$1()),O=common$1.sanitizeText(O,getConfig$1());const Y=commits[branches[curBranch]],W=commits[branches[D]];if(curBranch===D){let X=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw X.hash={text:"merge "+D,token:"merge "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},X}else if(Y===void 0||!Y){let X=new Error('Incorrect usage of "merge". Current branch ('+curBranch+")has no commits");throw X.hash={text:"merge "+D,token:"merge "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},X}else if(branches[D]===void 0){let X=new Error('Incorrect usage of "merge". Branch to be merged ('+D+") does not exist");throw X.hash={text:"merge "+D,token:"merge "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+D]},X}else if(W===void 0||!W){let X=new Error('Incorrect usage of "merge". Branch to be merged ('+D+") has no commits");throw X.hash={text:"merge "+D,token:"merge "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},X}else if(Y===W){let X=new Error('Incorrect usage of "merge". Both branches have same head');throw X.hash={text:"merge "+D,token:"merge "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},X}else if(O&&commits[O]!==void 0){let X=new Error('Incorrect usage of "merge". Commit with id:'+O+" already exists, use different custom Id");throw X.hash={text:"merge "+D+O+z+F,token:"merge "+D+O+z+F,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+D+" "+O+"_UNIQUE "+z+" "+F]},X}const q={id:O||seq+"-"+getId(),message:"merged branch "+D+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,branches[D]],branch:curBranch,type:commitType$1.MERGE,customType:z,customId:!!O,tag:F||""};head=q,commits[q.id]=q,branches[curBranch]=q.id,log$1.debug(branches),log$1.debug("in mergeBranch")},cherryPick=function(D,O,z){if(log$1.debug("Entering cherryPick:",D,O,z),D=common$1.sanitizeText(D,getConfig$1()),O=common$1.sanitizeText(O,getConfig$1()),z=common$1.sanitizeText(z,getConfig$1()),!D||commits[D]===void 0){let W=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw W.hash={text:"cherryPick "+D+" "+O,token:"cherryPick "+D+" "+O,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},W}let F=commits[D],Y=F.branch;if(F.type===commitType$1.MERGE){let W=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw W.hash={text:"cherryPick "+D+" "+O,token:"cherryPick "+D+" "+O,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},W}if(!O||commits[O]===void 0){if(Y===curBranch){let X=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw X.hash={text:"cherryPick "+D+" "+O,token:"cherryPick "+D+" "+O,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},X}const W=commits[branches[curBranch]];if(W===void 0||!W){let X=new Error('Incorrect usage of "cherry-pick". Current branch ('+curBranch+")has no commits");throw X.hash={text:"cherryPick "+D+" "+O,token:"cherryPick "+D+" "+O,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},X}const q={id:seq+"-"+getId(),message:"cherry-picked "+F+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,F.id],branch:curBranch,type:commitType$1.CHERRY_PICK,tag:z??"cherry-pick:"+F.id};head=q,commits[q.id]=q,branches[curBranch]=q.id,log$1.debug(branches),log$1.debug("in cherryPick")}},checkout=function(D){if(D=common$1.sanitizeText(D,getConfig$1()),branches[D]===void 0){let O=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+D+'")');throw O.hash={text:"checkout "+D,token:"checkout "+D,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+D+'"']},O}else{curBranch=D;const O=branches[curBranch];head=commits[O]}};function upsert(D,O,z){const F=D.indexOf(O);F===-1?D.push(z):D.splice(F,1,z)}function prettyPrintCommitHistory(D){const O=D.reduce((Y,W)=>Y.seq>W.seq?Y:W,D[0]);let z="";D.forEach(function(Y){Y===O?z+="	*":z+="	|"});const F=[z,O.id,O.seq];for(let Y in branches)branches[Y]===O.id&&F.push(Y);if(log$1.debug(F.join(" ")),O.parents&&O.parents.length==2){const Y=commits[O.parents[0]];upsert(D,O,Y),D.push(commits[O.parents[1]])}else{if(O.parents.length==0)return;{const Y=commits[O.parents];upsert(D,O,Y)}}D=uniqBy(D,Y=>Y.id),prettyPrintCommitHistory(D)}const prettyPrint=function(){log$1.debug(commits);const D=getCommitsArray()[0];prettyPrintCommitHistory([D])},clear$f=function(){commits={},head=null;let D=getConfig$1().gitGraph.mainBranchName,O=getConfig$1().gitGraph.mainBranchOrder;branches={},branches[D]=null,branchesConfig={},branchesConfig[D]={name:D,order:O},curBranch=D,seq=0,clear$g()},getBranchesAsObjArray=function(){return Object.values(branchesConfig).map((O,z)=>O.order!==null?O:{...O,order:parseFloat(`0.${z}`,10)}).sort((O,z)=>O.order-z.order).map(({name:O})=>({name:O}))},getBranches=function(){return branches},getCommits=function(){return commits},getCommitsArray=function(){const D=Object.keys(commits).map(function(O){return commits[O]});return D.forEach(function(O){log$1.debug(O.id)}),D.sort((O,z)=>O.seq-z.seq),D},getCurrentBranch=function(){return curBranch},getDirection$3=function(){return direction$3},getHead=function(){return head},commitType$1={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},gitGraphDb={parseDirective:parseDirective$a,getConfig:()=>getConfig$1().gitGraph,setDirection:setDirection$3,setOptions,getOptions,commit,branch,merge,cherryPick,checkout,prettyPrint,clear:clear$f,getBranchesAsObjArray,getBranches,getCommits,getCommitsArray,getCurrentBranch,getDirection:getDirection$3,getHead,setAccTitle,getAccTitle,getAccDescription,setAccDescription,setDiagramTitle,getDiagramTitle,commitType:commitType$1};let allCommitsDict={};const commitType={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},THEME_COLOR_LIMIT=8;let branchPos={},commitPos={},lanes=[],maxPos=0;const clear$e=()=>{branchPos={},commitPos={},allCommitsDict={},maxPos=0,lanes=[]},drawText$2=D=>{const O=document.createElementNS("http://www.w3.org/2000/svg","text");let z=[];typeof D=="string"?z=D.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(D)?z=D:z=[];for(const F of z){const Y=document.createElementNS("http://www.w3.org/2000/svg","tspan");Y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Y.setAttribute("dy","1em"),Y.setAttribute("x","0"),Y.setAttribute("class","row"),Y.textContent=F.trim(),O.appendChild(Y)}return O},drawCommits=(D,O,z)=>{const F=getConfig().gitGraph,Y=D.append("g").attr("class","commit-bullets"),W=D.append("g").attr("class","commit-labels");let q=0;Object.keys(O).sort((nt,st)=>O[nt].seq-O[st].seq).forEach(nt=>{const st=O[nt],ct=branchPos[st.branch].pos,lt=q+10;if(z){let ht,bt=st.customType!==void 0&&st.customType!==""?st.customType:st.type;switch(bt){case commitType.NORMAL:ht="commit-normal";break;case commitType.REVERSE:ht="commit-reverse";break;case commitType.HIGHLIGHT:ht="commit-highlight";break;case commitType.MERGE:ht="commit-merge";break;case commitType.CHERRY_PICK:ht="commit-cherry-pick";break;default:ht="commit-normal"}if(bt===commitType.HIGHLIGHT){const wt=Y.append("rect");wt.attr("x",lt-10),wt.attr("y",ct-10),wt.attr("height",20),wt.attr("width",20),wt.attr("class",`commit ${st.id} commit-highlight${branchPos[st.branch].index%THEME_COLOR_LIMIT} ${ht}-outer`),Y.append("rect").attr("x",lt-6).attr("y",ct-6).attr("height",12).attr("width",12).attr("class",`commit ${st.id} commit${branchPos[st.branch].index%THEME_COLOR_LIMIT} ${ht}-inner`)}else if(bt===commitType.CHERRY_PICK)Y.append("circle").attr("cx",lt).attr("cy",ct).attr("r",10).attr("class",`commit ${st.id} ${ht}`),Y.append("circle").attr("cx",lt-3).attr("cy",ct+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${st.id} ${ht}`),Y.append("circle").attr("cx",lt+3).attr("cy",ct+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${st.id} ${ht}`),Y.append("line").attr("x1",lt+3).attr("y1",ct+1).attr("x2",lt).attr("y2",ct-5).attr("stroke","#fff").attr("class",`commit ${st.id} ${ht}`),Y.append("line").attr("x1",lt-3).attr("y1",ct+1).attr("x2",lt).attr("y2",ct-5).attr("stroke","#fff").attr("class",`commit ${st.id} ${ht}`);else{const wt=Y.append("circle");if(wt.attr("cx",lt),wt.attr("cy",ct),wt.attr("r",st.type===commitType.MERGE?9:10),wt.attr("class",`commit ${st.id} commit${branchPos[st.branch].index%THEME_COLOR_LIMIT}`),bt===commitType.MERGE){const mt=Y.append("circle");mt.attr("cx",lt),mt.attr("cy",ct),mt.attr("r",6),mt.attr("class",`commit ${ht} ${st.id} commit${branchPos[st.branch].index%THEME_COLOR_LIMIT}`)}bt===commitType.REVERSE&&Y.append("path").attr("d",`M ${lt-5},${ct-5}L${lt+5},${ct+5}M${lt-5},${ct+5}L${lt+5},${ct-5}`).attr("class",`commit ${ht} ${st.id} commit${branchPos[st.branch].index%THEME_COLOR_LIMIT}`)}}if(commitPos[st.id]={x:q+10,y:ct},z){if(st.type!==commitType.CHERRY_PICK&&(st.customId&&st.type===commitType.MERGE||st.type!==commitType.MERGE)&&F.showCommitLabel){const wt=W.append("g"),mt=wt.insert("rect").attr("class","commit-label-bkg"),_t=wt.append("text").attr("x",q).attr("y",ct+25).attr("class","commit-label").text(st.id);let Et=_t.node().getBBox();if(mt.attr("x",q+10-Et.width/2-2).attr("y",ct+13.5).attr("width",Et.width+2*2).attr("height",Et.height+2*2),_t.attr("x",q+10-Et.width/2),F.rotateCommitLabel){let At=-7.5-(Et.width+10)/25*9.5,Ct=10+Et.width/25*8.5;wt.attr("transform","translate("+At+", "+Ct+") rotate(-45, "+q+", "+ct+")")}}if(st.tag){const wt=W.insert("polygon"),mt=W.append("circle"),_t=W.append("text").attr("y",ct-16).attr("class","tag-label").text(st.tag);let Et=_t.node().getBBox();_t.attr("x",q+10-Et.width/2);const At=Et.height/2,Ct=ct-19.2;wt.attr("class","tag-label-bkg").attr("points",`
          ${q-Et.width/2-4/2},${Ct+2}
          ${q-Et.width/2-4/2},${Ct-2}
          ${q+10-Et.width/2-4},${Ct-At-2}
          ${q+10+Et.width/2+4},${Ct-At-2}
          ${q+10+Et.width/2+4},${Ct+At+2}
          ${q+10-Et.width/2-4},${Ct+At+2}`),mt.attr("cx",q-Et.width/2+4/2).attr("cy",Ct).attr("r",1.5).attr("class","tag-hole")}}q+=50,q>maxPos&&(maxPos=q)})},hasOverlappingCommits=(D,O,z)=>Object.keys(z).filter(W=>z[W].branch===O.branch&&z[W].seq>D.seq&&z[W].seq<O.seq).length>0,findLane=(D,O,z=0)=>{const F=D+Math.abs(D-O)/2;if(z>5)return F;if(lanes.every(q=>Math.abs(q-F)>=10))return lanes.push(F),F;const W=Math.abs(D-O);return findLane(D,O-W/5,z+1)},drawArrow=(D,O,z,F)=>{const Y=commitPos[O.id],W=commitPos[z.id],q=hasOverlappingCommits(O,z,F);let X="",tt="",nt=0,st=0,ct=branchPos[z.branch].index,lt;if(q){X="A 10 10, 0, 0, 0,",tt="A 10 10, 0, 0, 1,",nt=10,st=10,ct=branchPos[z.branch].index;const ht=Y.y<W.y?findLane(Y.y,W.y):findLane(W.y,Y.y);Y.y<W.y?lt=`M ${Y.x} ${Y.y} L ${Y.x} ${ht-nt} ${X} ${Y.x+st} ${ht} L ${W.x-nt} ${ht} ${tt} ${W.x} ${ht+st} L ${W.x} ${W.y}`:lt=`M ${Y.x} ${Y.y} L ${Y.x} ${ht+nt} ${tt} ${Y.x+st} ${ht} L ${W.x-nt} ${ht} ${X} ${W.x} ${ht-st} L ${W.x} ${W.y}`}else Y.y<W.y&&(X="A 20 20, 0, 0, 0,",nt=20,st=20,ct=branchPos[z.branch].index,lt=`M ${Y.x} ${Y.y} L ${Y.x} ${W.y-nt} ${X} ${Y.x+st} ${W.y} L ${W.x} ${W.y}`),Y.y>W.y&&(X="A 20 20, 0, 0, 0,",nt=20,st=20,ct=branchPos[O.branch].index,lt=`M ${Y.x} ${Y.y} L ${W.x-nt} ${Y.y} ${X} ${W.x} ${Y.y-st} L ${W.x} ${W.y}`),Y.y===W.y&&(ct=branchPos[O.branch].index,lt=`M ${Y.x} ${Y.y} L ${Y.x} ${W.y-nt} ${X} ${Y.x+st} ${W.y} L ${W.x} ${W.y}`);D.append("path").attr("d",lt).attr("class","arrow arrow"+ct%THEME_COLOR_LIMIT)},drawArrows=(D,O)=>{const z=D.append("g").attr("class","commit-arrows");Object.keys(O).forEach(F=>{const Y=O[F];Y.parents&&Y.parents.length>0&&Y.parents.forEach(W=>{drawArrow(z,O[W],Y,O)})})},drawBranches=(D,O)=>{const z=getConfig().gitGraph,F=D.append("g");O.forEach((Y,W)=>{const q=W%THEME_COLOR_LIMIT,X=branchPos[Y.name].pos,tt=F.append("line");tt.attr("x1",0),tt.attr("y1",X),tt.attr("x2",maxPos),tt.attr("y2",X),tt.attr("class","branch branch"+q),lanes.push(X);let nt=Y.name;const st=drawText$2(nt),ct=F.insert("rect"),ht=F.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+q);ht.node().appendChild(st);let bt=st.getBBox();ct.attr("class","branchLabelBkg label"+q).attr("rx",4).attr("ry",4).attr("x",-bt.width-4-(z.rotateCommitLabel===!0?30:0)).attr("y",-bt.height/2+8).attr("width",bt.width+18).attr("height",bt.height+4),ht.attr("transform","translate("+(-bt.width-14-(z.rotateCommitLabel===!0?30:0))+", "+(X-bt.height/2-1)+")"),ct.attr("transform","translate(-19, "+(X-bt.height/2)+")")})},draw$f=function(D,O,z,F){clear$e();const Y=getConfig(),W=Y.gitGraph;log$1.debug("in gitgraph renderer",D+`
`,"id:",O,z),allCommitsDict=F.db.getCommits();const q=F.db.getBranchesAsObjArray();let X=0;q.forEach((nt,st)=>{branchPos[nt.name]={pos:X,index:st},X+=50+(W.rotateCommitLabel?40:0)});const tt=select(`[id="${O}"]`);drawCommits(tt,allCommitsDict,!1),W.showBranches&&drawBranches(tt,q),drawArrows(tt,allCommitsDict),drawCommits(tt,allCommitsDict,!0),utils.insertTitle(tt,"gitTitleText",W.titleTopMargin,F.db.getDiagramTitle()),setupGraphViewbox(void 0,tt,W.diagramPadding,W.useMaxWidth??Y.useMaxWidth)},gitGraphRenderer={draw:draw$f},getStyles=D=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(O=>`
        .branch-label${O} { fill: ${D["gitBranchLabel"+O]}; }
        .commit${O} { stroke: ${D["git"+O]}; fill: ${D["git"+O]}; }
        .commit-highlight${O} { stroke: ${D["gitInv"+O]}; fill: ${D["gitInv"+O]}; }
        .label${O}  { fill: ${D["git"+O]}; }
        .arrow${O} { stroke: ${D["git"+O]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${D.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${D.commitLabelFontSize}; fill: ${D.commitLabelColor};}
  .commit-label-bkg { font-size: ${D.commitLabelFontSize}; fill: ${D.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${D.tagLabelFontSize}; fill: ${D.tagLabelColor};}
  .tag-label-bkg { fill: ${D.tagLabelBackground}; stroke: ${D.tagLabelBorder}; }
  .tag-hole { fill: ${D.textColor}; }

  .commit-merge {
    stroke: ${D.primaryColor};
    fill: ${D.primaryColor};
  }
  .commit-reverse {
    stroke: ${D.primaryColor};
    fill: ${D.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${D.primaryColor};
    fill: ${D.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${D.textColor};
  }
  }
`,gitGraphStyles=getStyles;var parser$b=function(){var D=function(ie,ne,xe,Ae){for(xe=xe||{},Ae=ie.length;Ae--;xe[ie[Ae]]=ne);return xe},O=[1,6],z=[1,7],F=[1,8],Y=[1,9],W=[1,16],q=[1,11],X=[1,12],tt=[1,13],nt=[1,14],st=[1,15],ct=[1,27],lt=[1,33],ht=[1,34],bt=[1,35],wt=[1,36],mt=[1,37],_t=[1,72],Et=[1,73],At=[1,74],Ct=[1,75],Ft=[1,76],Lt=[1,77],Yt=[1,78],Ht=[1,38],qt=[1,39],te=[1,40],Xt=[1,41],Dt=[1,42],Qt=[1,43],Nt=[1,44],ce=[1,45],Pt=[1,46],de=[1,47],ye=[1,48],pe=[1,49],ve=[1,50],Ce=[1,51],De=[1,52],Oe=[1,53],Je=[1,54],qe=[1,55],ze=[1,56],we=[1,57],Me=[1,59],He=[1,60],Le=[1,61],Ye=[1,62],Kt=[1,63],kt=[1,64],jt=[1,65],$t=[1,66],oe=[1,67],Vt=[1,68],Be=[1,69],ge=[24,52],Pe=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ke=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],$e=[1,94],Fe=[1,95],Qe=[1,96],We=[1,97],rn=[15,24,52],zn=[7,8,9,10,18,22,25,26,27,28],Bn=[15,24,43,52],Pn=[15,24,43,52,86,87,89,90],jn=[15,43],Jn=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],rr={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(ne,xe,Ae,Ve,vn,Ge,Dn){var en=Ge.length-1;switch(vn){case 4:Ve.setDirection("TB");break;case 5:Ve.setDirection("BT");break;case 6:Ve.setDirection("RL");break;case 7:Ve.setDirection("LR");break;case 11:Ve.parseDirective("%%{","open_directive");break;case 12:break;case 13:Ge[en]=Ge[en].trim().replace(/'/g,'"'),Ve.parseDirective(Ge[en],"arg_directive");break;case 14:Ve.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Ve.setC4Type(Ge[en-3]);break;case 26:Ve.setTitle(Ge[en].substring(6)),this.$=Ge[en].substring(6);break;case 27:Ve.setAccDescription(Ge[en].substring(15)),this.$=Ge[en].substring(15);break;case 28:this.$=Ge[en].trim(),Ve.setTitle(this.$);break;case 29:case 30:this.$=Ge[en].trim(),Ve.setAccDescription(this.$);break;case 35:case 36:Ge[en].splice(2,0,"ENTERPRISE"),Ve.addPersonOrSystemBoundary(...Ge[en]),this.$=Ge[en];break;case 37:Ve.addPersonOrSystemBoundary(...Ge[en]),this.$=Ge[en];break;case 38:Ge[en].splice(2,0,"CONTAINER"),Ve.addContainerBoundary(...Ge[en]),this.$=Ge[en];break;case 39:Ve.addDeploymentNode("node",...Ge[en]),this.$=Ge[en];break;case 40:Ve.addDeploymentNode("nodeL",...Ge[en]),this.$=Ge[en];break;case 41:Ve.addDeploymentNode("nodeR",...Ge[en]),this.$=Ge[en];break;case 42:Ve.popBoundaryParseStack();break;case 46:Ve.addPersonOrSystem("person",...Ge[en]),this.$=Ge[en];break;case 47:Ve.addPersonOrSystem("external_person",...Ge[en]),this.$=Ge[en];break;case 48:Ve.addPersonOrSystem("system",...Ge[en]),this.$=Ge[en];break;case 49:Ve.addPersonOrSystem("system_db",...Ge[en]),this.$=Ge[en];break;case 50:Ve.addPersonOrSystem("system_queue",...Ge[en]),this.$=Ge[en];break;case 51:Ve.addPersonOrSystem("external_system",...Ge[en]),this.$=Ge[en];break;case 52:Ve.addPersonOrSystem("external_system_db",...Ge[en]),this.$=Ge[en];break;case 53:Ve.addPersonOrSystem("external_system_queue",...Ge[en]),this.$=Ge[en];break;case 54:Ve.addContainer("container",...Ge[en]),this.$=Ge[en];break;case 55:Ve.addContainer("container_db",...Ge[en]),this.$=Ge[en];break;case 56:Ve.addContainer("container_queue",...Ge[en]),this.$=Ge[en];break;case 57:Ve.addContainer("external_container",...Ge[en]),this.$=Ge[en];break;case 58:Ve.addContainer("external_container_db",...Ge[en]),this.$=Ge[en];break;case 59:Ve.addContainer("external_container_queue",...Ge[en]),this.$=Ge[en];break;case 60:Ve.addComponent("component",...Ge[en]),this.$=Ge[en];break;case 61:Ve.addComponent("component_db",...Ge[en]),this.$=Ge[en];break;case 62:Ve.addComponent("component_queue",...Ge[en]),this.$=Ge[en];break;case 63:Ve.addComponent("external_component",...Ge[en]),this.$=Ge[en];break;case 64:Ve.addComponent("external_component_db",...Ge[en]),this.$=Ge[en];break;case 65:Ve.addComponent("external_component_queue",...Ge[en]),this.$=Ge[en];break;case 67:Ve.addRel("rel",...Ge[en]),this.$=Ge[en];break;case 68:Ve.addRel("birel",...Ge[en]),this.$=Ge[en];break;case 69:Ve.addRel("rel_u",...Ge[en]),this.$=Ge[en];break;case 70:Ve.addRel("rel_d",...Ge[en]),this.$=Ge[en];break;case 71:Ve.addRel("rel_l",...Ge[en]),this.$=Ge[en];break;case 72:Ve.addRel("rel_r",...Ge[en]),this.$=Ge[en];break;case 73:Ve.addRel("rel_b",...Ge[en]),this.$=Ge[en];break;case 74:Ge[en].splice(0,1),Ve.addRel("rel",...Ge[en]),this.$=Ge[en];break;case 75:Ve.updateElStyle("update_el_style",...Ge[en]),this.$=Ge[en];break;case 76:Ve.updateRelStyle("update_rel_style",...Ge[en]),this.$=Ge[en];break;case 77:Ve.updateLayoutConfig("update_layout_config",...Ge[en]),this.$=Ge[en];break;case 78:this.$=[Ge[en]];break;case 79:Ge[en].unshift(Ge[en-1]),this.$=Ge[en];break;case 80:case 82:this.$=Ge[en].trim();break;case 81:let Fn={};Fn[Ge[en-1].trim()]=Ge[en].trim(),this.$=Fn;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:O,8:z,9:F,10:Y,11:5,12:10,18:W,22:q,25:X,26:tt,27:nt,28:st},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:O,8:z,9:F,10:Y,11:5,12:10,18:W,22:q,25:X,26:tt,27:nt,28:st},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:ct},D([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:lt,33:ht,34:bt,36:wt,38:mt,39:58,40:70,42:71,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,53:32,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be},{23:79,29:29,30:30,31:31,32:lt,33:ht,34:bt,36:wt,38:mt,39:58,40:70,42:71,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,53:32,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be},{23:80,29:29,30:30,31:31,32:lt,33:ht,34:bt,36:wt,38:mt,39:58,40:70,42:71,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,53:32,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be},{23:81,29:29,30:30,31:31,32:lt,33:ht,34:bt,36:wt,38:mt,39:58,40:70,42:71,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,53:32,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be},{23:82,29:29,30:30,31:31,32:lt,33:ht,34:bt,36:wt,38:mt,39:58,40:70,42:71,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,53:32,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},D(ge,[2,20],{53:32,39:58,40:70,42:71,30:87,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be}),D(ge,[2,21]),D(Pe,[2,23],{15:[1,88]}),D(ge,[2,43],{15:[1,89]}),D(ke,[2,26]),D(ke,[2,27]),{35:[1,90]},{37:[1,91]},D(ke,[2,30]),{45:92,85:93,86:$e,87:Fe,89:Qe,90:We},{45:98,85:93,86:$e,87:Fe,89:Qe,90:We},{45:99,85:93,86:$e,87:Fe,89:Qe,90:We},{45:100,85:93,86:$e,87:Fe,89:Qe,90:We},{45:101,85:93,86:$e,87:Fe,89:Qe,90:We},{45:102,85:93,86:$e,87:Fe,89:Qe,90:We},{45:103,85:93,86:$e,87:Fe,89:Qe,90:We},{45:104,85:93,86:$e,87:Fe,89:Qe,90:We},{45:105,85:93,86:$e,87:Fe,89:Qe,90:We},{45:106,85:93,86:$e,87:Fe,89:Qe,90:We},{45:107,85:93,86:$e,87:Fe,89:Qe,90:We},{45:108,85:93,86:$e,87:Fe,89:Qe,90:We},{45:109,85:93,86:$e,87:Fe,89:Qe,90:We},{45:110,85:93,86:$e,87:Fe,89:Qe,90:We},{45:111,85:93,86:$e,87:Fe,89:Qe,90:We},{45:112,85:93,86:$e,87:Fe,89:Qe,90:We},{45:113,85:93,86:$e,87:Fe,89:Qe,90:We},{45:114,85:93,86:$e,87:Fe,89:Qe,90:We},{45:115,85:93,86:$e,87:Fe,89:Qe,90:We},{45:116,85:93,86:$e,87:Fe,89:Qe,90:We},D(rn,[2,66]),{45:117,85:93,86:$e,87:Fe,89:Qe,90:We},{45:118,85:93,86:$e,87:Fe,89:Qe,90:We},{45:119,85:93,86:$e,87:Fe,89:Qe,90:We},{45:120,85:93,86:$e,87:Fe,89:Qe,90:We},{45:121,85:93,86:$e,87:Fe,89:Qe,90:We},{45:122,85:93,86:$e,87:Fe,89:Qe,90:We},{45:123,85:93,86:$e,87:Fe,89:Qe,90:We},{45:124,85:93,86:$e,87:Fe,89:Qe,90:We},{45:125,85:93,86:$e,87:Fe,89:Qe,90:We},{45:126,85:93,86:$e,87:Fe,89:Qe,90:We},{45:127,85:93,86:$e,87:Fe,89:Qe,90:We},{30:128,39:58,40:70,42:71,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,53:32,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be},{15:[1,130],43:[1,129]},{45:131,85:93,86:$e,87:Fe,89:Qe,90:We},{45:132,85:93,86:$e,87:Fe,89:Qe,90:We},{45:133,85:93,86:$e,87:Fe,89:Qe,90:We},{45:134,85:93,86:$e,87:Fe,89:Qe,90:We},{45:135,85:93,86:$e,87:Fe,89:Qe,90:We},{45:136,85:93,86:$e,87:Fe,89:Qe,90:We},{45:137,85:93,86:$e,87:Fe,89:Qe,90:We},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},D(zn,[2,9]),{14:142,21:ct},{21:[2,13]},{1:[2,15]},D(ge,[2,22]),D(Pe,[2,24],{31:31,29:143,32:lt,33:ht,34:bt,36:wt,38:mt}),D(ge,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:lt,33:ht,34:bt,36:wt,38:mt,44:_t,46:Et,47:At,48:Ct,49:Ft,50:Lt,51:Yt,54:Ht,55:qt,56:te,57:Xt,58:Dt,59:Qt,60:Nt,61:ce,62:Pt,63:de,64:ye,65:pe,66:ve,67:Ce,68:De,69:Oe,70:Je,71:qe,72:ze,73:we,74:Me,75:He,76:Le,77:Ye,78:Kt,79:kt,80:jt,81:$t,82:oe,83:Vt,84:Be}),D(ke,[2,28]),D(ke,[2,29]),D(rn,[2,46]),D(Bn,[2,78],{85:93,45:145,86:$e,87:Fe,89:Qe,90:We}),D(Pn,[2,80]),{88:[1,146]},D(Pn,[2,82]),D(Pn,[2,83]),D(rn,[2,47]),D(rn,[2,48]),D(rn,[2,49]),D(rn,[2,50]),D(rn,[2,51]),D(rn,[2,52]),D(rn,[2,53]),D(rn,[2,54]),D(rn,[2,55]),D(rn,[2,56]),D(rn,[2,57]),D(rn,[2,58]),D(rn,[2,59]),D(rn,[2,60]),D(rn,[2,61]),D(rn,[2,62]),D(rn,[2,63]),D(rn,[2,64]),D(rn,[2,65]),D(rn,[2,67]),D(rn,[2,68]),D(rn,[2,69]),D(rn,[2,70]),D(rn,[2,71]),D(rn,[2,72]),D(rn,[2,73]),D(rn,[2,74]),D(rn,[2,75]),D(rn,[2,76]),D(rn,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},D(jn,[2,35]),D(jn,[2,36]),D(jn,[2,37]),D(jn,[2,38]),D(jn,[2,39]),D(jn,[2,40]),D(jn,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},D(Pe,[2,25]),D(ge,[2,45]),D(Bn,[2,79]),D(Pn,[2,81]),D(rn,[2,31]),D(rn,[2,42]),D(Jn,[2,32]),D(Jn,[2,33],{15:[1,152]}),D(zn,[2,10]),D(Jn,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(ne,xe){if(xe.recoverable)this.trace(ne);else{var Ae=new Error(ne);throw Ae.hash=xe,Ae}},parse:function(ne){var xe=this,Ae=[0],Ve=[],vn=[null],Ge=[],Dn=this.table,en="",Fn=0,$n=0,Kn=2,Wn=1,mr=Ge.slice.call(arguments,1),ir=Object.create(this.lexer),wr={yy:{}};for(var Lr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Lr)&&(wr.yy[Lr]=this.yy[Lr]);ir.setInput(ne,wr.yy),wr.yy.lexer=ir,wr.yy.parser=this,typeof ir.yylloc>"u"&&(ir.yylloc={});var Dr=ir.yylloc;Ge.push(Dr);var Fo=ir.options&&ir.options.ranges;typeof wr.yy.parseError=="function"?this.parseError=wr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function xo(){var je;return je=Ve.pop()||ir.lex()||Wn,typeof je!="number"&&(je instanceof Array&&(Ve=je,je=Ve.pop()),je=xe.symbols_[je]||je),je}for(var tr,Cr,go,Un,zi={},uo,io,sn,En;;){if(Cr=Ae[Ae.length-1],this.defaultActions[Cr]?go=this.defaultActions[Cr]:((tr===null||typeof tr>"u")&&(tr=xo()),go=Dn[Cr]&&Dn[Cr][tr]),typeof go>"u"||!go.length||!go[0]){var un="";En=[];for(uo in Dn[Cr])this.terminals_[uo]&&uo>Kn&&En.push("'"+this.terminals_[uo]+"'");ir.showPosition?un="Parse error on line "+(Fn+1)+`:
`+ir.showPosition()+`
Expecting `+En.join(", ")+", got '"+(this.terminals_[tr]||tr)+"'":un="Parse error on line "+(Fn+1)+": Unexpected "+(tr==Wn?"end of input":"'"+(this.terminals_[tr]||tr)+"'"),this.parseError(un,{text:ir.match,token:this.terminals_[tr]||tr,line:ir.yylineno,loc:Dr,expected:En})}if(go[0]instanceof Array&&go.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Cr+", token: "+tr);switch(go[0]){case 1:Ae.push(tr),vn.push(ir.yytext),Ge.push(ir.yylloc),Ae.push(go[1]),tr=null,$n=ir.yyleng,en=ir.yytext,Fn=ir.yylineno,Dr=ir.yylloc;break;case 2:if(io=this.productions_[go[1]][1],zi.$=vn[vn.length-io],zi._$={first_line:Ge[Ge.length-(io||1)].first_line,last_line:Ge[Ge.length-1].last_line,first_column:Ge[Ge.length-(io||1)].first_column,last_column:Ge[Ge.length-1].last_column},Fo&&(zi._$.range=[Ge[Ge.length-(io||1)].range[0],Ge[Ge.length-1].range[1]]),Un=this.performAction.apply(zi,[en,$n,Fn,wr.yy,go[1],vn,Ge].concat(mr)),typeof Un<"u")return Un;io&&(Ae=Ae.slice(0,-1*io*2),vn=vn.slice(0,-1*io),Ge=Ge.slice(0,-1*io)),Ae.push(this.productions_[go[1]][0]),vn.push(zi.$),Ge.push(zi._$),sn=Dn[Ae[Ae.length-2]][Ae[Ae.length-1]],Ae.push(sn);break;case 3:return!0}}return!0}},sr=function(){var ie={EOF:1,parseError:function(xe,Ae){if(this.yy.parser)this.yy.parser.parseError(xe,Ae);else throw new Error(xe)},setInput:function(ne,xe){return this.yy=xe||this.yy||{},this._input=ne,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ne=this._input[0];this.yytext+=ne,this.yyleng++,this.offset++,this.match+=ne,this.matched+=ne;var xe=ne.match(/(?:\r\n?|\n).*/g);return xe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ne},unput:function(ne){var xe=ne.length,Ae=ne.split(/(?:\r\n?|\n)/g);this._input=ne+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-xe),this.offset-=xe;var Ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ae.length-1&&(this.yylineno-=Ae.length-1);var vn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ae?(Ae.length===Ve.length?this.yylloc.first_column:0)+Ve[Ve.length-Ae.length].length-Ae[0].length:this.yylloc.first_column-xe},this.options.ranges&&(this.yylloc.range=[vn[0],vn[0]+this.yyleng-xe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ne){this.unput(this.match.slice(ne))},pastInput:function(){var ne=this.matched.substr(0,this.matched.length-this.match.length);return(ne.length>20?"...":"")+ne.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ne=this.match;return ne.length<20&&(ne+=this._input.substr(0,20-ne.length)),(ne.substr(0,20)+(ne.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ne=this.pastInput(),xe=new Array(ne.length+1).join("-");return ne+this.upcomingInput()+`
`+xe+"^"},test_match:function(ne,xe){var Ae,Ve,vn;if(this.options.backtrack_lexer&&(vn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(vn.yylloc.range=this.yylloc.range.slice(0))),Ve=ne[0].match(/(?:\r\n?|\n).*/g),Ve&&(this.yylineno+=Ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ve?Ve[Ve.length-1].length-Ve[Ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ne[0].length},this.yytext+=ne[0],this.match+=ne[0],this.matches=ne,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ne[0].length),this.matched+=ne[0],Ae=this.performAction.call(this,this.yy,this,xe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ae)return Ae;if(this._backtrack){for(var Ge in vn)this[Ge]=vn[Ge];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ne,xe,Ae,Ve;this._more||(this.yytext="",this.match="");for(var vn=this._currentRules(),Ge=0;Ge<vn.length;Ge++)if(Ae=this._input.match(this.rules[vn[Ge]]),Ae&&(!xe||Ae[0].length>xe[0].length)){if(xe=Ae,Ve=Ge,this.options.backtrack_lexer){if(ne=this.test_match(Ae,vn[Ge]),ne!==!1)return ne;if(this._backtrack){xe=!1;continue}else return!1}else if(!this.options.flex)break}return xe?(ne=this.test_match(xe,vn[Ve]),ne!==!1?ne:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var xe=this.next();return xe||this.lex()},begin:function(xe){this.conditionStack.push(xe)},popState:function(){var xe=this.conditionStack.length-1;return xe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(xe){return xe=this.conditionStack.length-1-Math.abs(xe||0),xe>=0?this.conditionStack[xe]:"INITIAL"},pushState:function(xe){this.begin(xe)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(xe,Ae,Ve,vn){switch(Ve){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return ie}();rr.lexer=sr;function on(){this.yy={}}return on.prototype=rr,rr.Parser=on,new on}();parser$b.parser=parser$b;const c4Parser=parser$b,c4Detector=D=>D.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let c4ShapeArray=[],boundaryParseStack=[""],currentBoundaryParse="global",parentBoundaryParse="",boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],rels=[],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2;var c4Type;const getC4Type=function(){return c4Type},setC4Type=function(D){c4Type=sanitizeText$5(D,getConfig$1())},parseDirective$9=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},addRel=function(D,O,z,F,Y,W,q,X,tt){if(D==null||O===void 0||O===null||z===void 0||z===null||F===void 0||F===null)return;let nt={};const st=rels.find(ct=>ct.from===O&&ct.to===z);if(st?nt=st:rels.push(nt),nt.type=D,nt.from=O,nt.to=z,nt.label={text:F},Y==null)nt.techn={text:""};else if(typeof Y=="object"){let[ct,lt]=Object.entries(Y)[0];nt[ct]={text:lt}}else nt.techn={text:Y};if(W==null)nt.descr={text:""};else if(typeof W=="object"){let[ct,lt]=Object.entries(W)[0];nt[ct]={text:lt}}else nt.descr={text:W};if(typeof q=="object"){let[ct,lt]=Object.entries(q)[0];nt[ct]=lt}else nt.sprite=q;if(typeof X=="object"){let[ct,lt]=Object.entries(X)[0];nt[ct]=lt}else nt.tags=X;if(typeof tt=="object"){let[ct,lt]=Object.entries(tt)[0];nt[ct]=lt}else nt.link=tt;nt.wrap=autoWrap$1()},addPersonOrSystem=function(D,O,z,F,Y,W,q){if(O===null||z===null)return;let X={};const tt=c4ShapeArray.find(nt=>nt.alias===O);if(tt&&O===tt.alias?X=tt:(X.alias=O,c4ShapeArray.push(X)),z==null?X.label={text:""}:X.label={text:z},F==null)X.descr={text:""};else if(typeof F=="object"){let[nt,st]=Object.entries(F)[0];X[nt]={text:st}}else X.descr={text:F};if(typeof Y=="object"){let[nt,st]=Object.entries(Y)[0];X[nt]=st}else X.sprite=Y;if(typeof W=="object"){let[nt,st]=Object.entries(W)[0];X[nt]=st}else X.tags=W;if(typeof q=="object"){let[nt,st]=Object.entries(q)[0];X[nt]=st}else X.link=q;X.typeC4Shape={text:D},X.parentBoundary=currentBoundaryParse,X.wrap=autoWrap$1()},addContainer=function(D,O,z,F,Y,W,q,X){if(O===null||z===null)return;let tt={};const nt=c4ShapeArray.find(st=>st.alias===O);if(nt&&O===nt.alias?tt=nt:(tt.alias=O,c4ShapeArray.push(tt)),z==null?tt.label={text:""}:tt.label={text:z},F==null)tt.techn={text:""};else if(typeof F=="object"){let[st,ct]=Object.entries(F)[0];tt[st]={text:ct}}else tt.techn={text:F};if(Y==null)tt.descr={text:""};else if(typeof Y=="object"){let[st,ct]=Object.entries(Y)[0];tt[st]={text:ct}}else tt.descr={text:Y};if(typeof W=="object"){let[st,ct]=Object.entries(W)[0];tt[st]=ct}else tt.sprite=W;if(typeof q=="object"){let[st,ct]=Object.entries(q)[0];tt[st]=ct}else tt.tags=q;if(typeof X=="object"){let[st,ct]=Object.entries(X)[0];tt[st]=ct}else tt.link=X;tt.wrap=autoWrap$1(),tt.typeC4Shape={text:D},tt.parentBoundary=currentBoundaryParse},addComponent=function(D,O,z,F,Y,W,q,X){if(O===null||z===null)return;let tt={};const nt=c4ShapeArray.find(st=>st.alias===O);if(nt&&O===nt.alias?tt=nt:(tt.alias=O,c4ShapeArray.push(tt)),z==null?tt.label={text:""}:tt.label={text:z},F==null)tt.techn={text:""};else if(typeof F=="object"){let[st,ct]=Object.entries(F)[0];tt[st]={text:ct}}else tt.techn={text:F};if(Y==null)tt.descr={text:""};else if(typeof Y=="object"){let[st,ct]=Object.entries(Y)[0];tt[st]={text:ct}}else tt.descr={text:Y};if(typeof W=="object"){let[st,ct]=Object.entries(W)[0];tt[st]=ct}else tt.sprite=W;if(typeof q=="object"){let[st,ct]=Object.entries(q)[0];tt[st]=ct}else tt.tags=q;if(typeof X=="object"){let[st,ct]=Object.entries(X)[0];tt[st]=ct}else tt.link=X;tt.wrap=autoWrap$1(),tt.typeC4Shape={text:D},tt.parentBoundary=currentBoundaryParse},addPersonOrSystemBoundary=function(D,O,z,F,Y){if(D===null||O===null)return;let W={};const q=boundarys.find(X=>X.alias===D);if(q&&D===q.alias?W=q:(W.alias=D,boundarys.push(W)),O==null?W.label={text:""}:W.label={text:O},z==null)W.type={text:"system"};else if(typeof z=="object"){let[X,tt]=Object.entries(z)[0];W[X]={text:tt}}else W.type={text:z};if(typeof F=="object"){let[X,tt]=Object.entries(F)[0];W[X]=tt}else W.tags=F;if(typeof Y=="object"){let[X,tt]=Object.entries(Y)[0];W[X]=tt}else W.link=Y;W.parentBoundary=currentBoundaryParse,W.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=D,boundaryParseStack.push(parentBoundaryParse)},addContainerBoundary=function(D,O,z,F,Y){if(D===null||O===null)return;let W={};const q=boundarys.find(X=>X.alias===D);if(q&&D===q.alias?W=q:(W.alias=D,boundarys.push(W)),O==null?W.label={text:""}:W.label={text:O},z==null)W.type={text:"container"};else if(typeof z=="object"){let[X,tt]=Object.entries(z)[0];W[X]={text:tt}}else W.type={text:z};if(typeof F=="object"){let[X,tt]=Object.entries(F)[0];W[X]=tt}else W.tags=F;if(typeof Y=="object"){let[X,tt]=Object.entries(Y)[0];W[X]=tt}else W.link=Y;W.parentBoundary=currentBoundaryParse,W.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=D,boundaryParseStack.push(parentBoundaryParse)},addDeploymentNode=function(D,O,z,F,Y,W,q,X){if(O===null||z===null)return;let tt={};const nt=boundarys.find(st=>st.alias===O);if(nt&&O===nt.alias?tt=nt:(tt.alias=O,boundarys.push(tt)),z==null?tt.label={text:""}:tt.label={text:z},F==null)tt.type={text:"node"};else if(typeof F=="object"){let[st,ct]=Object.entries(F)[0];tt[st]={text:ct}}else tt.type={text:F};if(Y==null)tt.descr={text:""};else if(typeof Y=="object"){let[st,ct]=Object.entries(Y)[0];tt[st]={text:ct}}else tt.descr={text:Y};if(typeof q=="object"){let[st,ct]=Object.entries(q)[0];tt[st]=ct}else tt.tags=q;if(typeof X=="object"){let[st,ct]=Object.entries(X)[0];tt[st]=ct}else tt.link=X;tt.nodeType=D,tt.parentBoundary=currentBoundaryParse,tt.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=O,boundaryParseStack.push(parentBoundaryParse)},popBoundaryParseStack=function(){currentBoundaryParse=parentBoundaryParse,boundaryParseStack.pop(),parentBoundaryParse=boundaryParseStack.pop(),boundaryParseStack.push(parentBoundaryParse)},updateElStyle=function(D,O,z,F,Y,W,q,X,tt,nt,st){let ct=c4ShapeArray.find(lt=>lt.alias===O);if(!(ct===void 0&&(ct=boundarys.find(lt=>lt.alias===O),ct===void 0))){if(z!=null)if(typeof z=="object"){let[lt,ht]=Object.entries(z)[0];ct[lt]=ht}else ct.bgColor=z;if(F!=null)if(typeof F=="object"){let[lt,ht]=Object.entries(F)[0];ct[lt]=ht}else ct.fontColor=F;if(Y!=null)if(typeof Y=="object"){let[lt,ht]=Object.entries(Y)[0];ct[lt]=ht}else ct.borderColor=Y;if(W!=null)if(typeof W=="object"){let[lt,ht]=Object.entries(W)[0];ct[lt]=ht}else ct.shadowing=W;if(q!=null)if(typeof q=="object"){let[lt,ht]=Object.entries(q)[0];ct[lt]=ht}else ct.shape=q;if(X!=null)if(typeof X=="object"){let[lt,ht]=Object.entries(X)[0];ct[lt]=ht}else ct.sprite=X;if(tt!=null)if(typeof tt=="object"){let[lt,ht]=Object.entries(tt)[0];ct[lt]=ht}else ct.techn=tt;if(nt!=null)if(typeof nt=="object"){let[lt,ht]=Object.entries(nt)[0];ct[lt]=ht}else ct.legendText=nt;if(st!=null)if(typeof st=="object"){let[lt,ht]=Object.entries(st)[0];ct[lt]=ht}else ct.legendSprite=st}},updateRelStyle=function(D,O,z,F,Y,W,q){const X=rels.find(tt=>tt.from===O&&tt.to===z);if(X!==void 0){if(F!=null)if(typeof F=="object"){let[tt,nt]=Object.entries(F)[0];X[tt]=nt}else X.textColor=F;if(Y!=null)if(typeof Y=="object"){let[tt,nt]=Object.entries(Y)[0];X[tt]=nt}else X.lineColor=Y;if(W!=null)if(typeof W=="object"){let[tt,nt]=Object.entries(W)[0];X[tt]=parseInt(nt)}else X.offsetX=parseInt(W);if(q!=null)if(typeof q=="object"){let[tt,nt]=Object.entries(q)[0];X[tt]=parseInt(nt)}else X.offsetY=parseInt(q)}},updateLayoutConfig=function(D,O,z){let F=c4ShapeInRow$1,Y=c4BoundaryInRow$1;if(typeof O=="object"){const W=Object.values(O)[0];F=parseInt(W)}else F=parseInt(O);if(typeof z=="object"){const W=Object.values(z)[0];Y=parseInt(W)}else Y=parseInt(z);F>=1&&(c4ShapeInRow$1=F),Y>=1&&(c4BoundaryInRow$1=Y)},getC4ShapeInRow=function(){return c4ShapeInRow$1},getC4BoundaryInRow=function(){return c4BoundaryInRow$1},getCurrentBoundaryParse=function(){return currentBoundaryParse},getParentBoundaryParse=function(){return parentBoundaryParse},getC4ShapeArray=function(D){return D==null?c4ShapeArray:c4ShapeArray.filter(O=>O.parentBoundary===D)},getC4Shape=function(D){return c4ShapeArray.find(O=>O.alias===D)},getC4ShapeKeys=function(D){return Object.keys(getC4ShapeArray(D))},getBoundarys=function(D){return D==null?boundarys:boundarys.filter(O=>O.parentBoundary===D)},getRels=function(){return rels},getTitle=function(){return title},setWrap$1=function(D){wrapEnabled$1=D},autoWrap$1=function(){return wrapEnabled$1},clear$d=function(){c4ShapeArray=[],boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],parentBoundaryParse="",currentBoundaryParse="global",boundaryParseStack=[""],rels=[],boundaryParseStack=[""],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2},LINETYPE$1={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE$1={FILLED:0,OPEN:1},PLACEMENT$1={LEFTOF:0,RIGHTOF:1,OVER:2},setTitle=function(D){title=sanitizeText$5(D,getConfig$1())},c4Db={addPersonOrSystem,addPersonOrSystemBoundary,addContainer,addContainerBoundary,addComponent,addDeploymentNode,popBoundaryParseStack,addRel,updateElStyle,updateRelStyle,updateLayoutConfig,autoWrap:autoWrap$1,setWrap:setWrap$1,getC4ShapeArray,getC4Shape,getC4ShapeKeys,getBoundarys,getCurrentBoundaryParse,getParentBoundaryParse,getRels,getTitle,getC4Type,getC4ShapeInRow,getC4BoundaryInRow,setAccTitle,getAccTitle,getAccDescription,setAccDescription,parseDirective:parseDirective$9,getConfig:()=>getConfig$1().c4,clear:clear$d,LINETYPE:LINETYPE$1,ARROWTYPE:ARROWTYPE$1,PLACEMENT:PLACEMENT$1,setTitle,setC4Type},drawRect$2=function(D,O){const z=D.append("rect");if(z.attr("x",O.x),z.attr("y",O.y),z.attr("fill",O.fill),z.attr("stroke",O.stroke),z.attr("width",O.width),z.attr("height",O.height),z.attr("rx",O.rx),z.attr("ry",O.ry),O.attrs!=="undefined"&&O.attrs!==null)for(let F in O.attrs)z.attr(F,O.attrs[F]);return O.class!=="undefined"&&z.attr("class",O.class),z},drawImage$1=function(D,O,z,F,Y,W){const q=D.append("image");q.attr("width",O),q.attr("height",z),q.attr("x",F),q.attr("y",Y);let X=W.startsWith("data:image/png;base64")?W:dist.sanitizeUrl(W);q.attr("xlink:href",X)},drawRels$1=(D,O,z)=>{const F=D.append("g");let Y=0;for(let W of O){let q=W.textColor?W.textColor:"#444444",X=W.lineColor?W.lineColor:"#444444",tt=W.offsetX?parseInt(W.offsetX):0,nt=W.offsetY?parseInt(W.offsetY):0,st="";if(Y===0){let lt=F.append("line");lt.attr("x1",W.startPoint.x),lt.attr("y1",W.startPoint.y),lt.attr("x2",W.endPoint.x),lt.attr("y2",W.endPoint.y),lt.attr("stroke-width","1"),lt.attr("stroke",X),lt.style("fill","none"),W.type!=="rel_b"&&lt.attr("marker-end","url("+st+"#arrowhead)"),(W.type==="birel"||W.type==="rel_b")&&lt.attr("marker-start","url("+st+"#arrowend)"),Y=-1}else{let lt=F.append("path");lt.attr("fill","none").attr("stroke-width","1").attr("stroke",X).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",W.startPoint.x).replaceAll("starty",W.startPoint.y).replaceAll("controlx",W.startPoint.x+(W.endPoint.x-W.startPoint.x)/2-(W.endPoint.x-W.startPoint.x)/4).replaceAll("controly",W.startPoint.y+(W.endPoint.y-W.startPoint.y)/2).replaceAll("stopx",W.endPoint.x).replaceAll("stopy",W.endPoint.y)),W.type!=="rel_b"&&lt.attr("marker-end","url("+st+"#arrowhead)"),(W.type==="birel"||W.type==="rel_b")&&lt.attr("marker-start","url("+st+"#arrowend)")}let ct=z.messageFont();_drawTextCandidateFunc$2(z)(W.label.text,F,Math.min(W.startPoint.x,W.endPoint.x)+Math.abs(W.endPoint.x-W.startPoint.x)/2+tt,Math.min(W.startPoint.y,W.endPoint.y)+Math.abs(W.endPoint.y-W.startPoint.y)/2+nt,W.label.width,W.label.height,{fill:q},ct),W.techn&&W.techn.text!==""&&(ct=z.messageFont(),_drawTextCandidateFunc$2(z)("["+W.techn.text+"]",F,Math.min(W.startPoint.x,W.endPoint.x)+Math.abs(W.endPoint.x-W.startPoint.x)/2+tt,Math.min(W.startPoint.y,W.endPoint.y)+Math.abs(W.endPoint.y-W.startPoint.y)/2+z.messageFontSize+5+nt,Math.max(W.label.width,W.techn.width),W.techn.height,{fill:q,"font-style":"italic"},ct))}},drawBoundary$1=function(D,O,z){const F=D.append("g");let Y=O.bgColor?O.bgColor:"none",W=O.borderColor?O.borderColor:"#444444",q=O.fontColor?O.fontColor:"black",X={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};O.nodeType&&(X={"stroke-width":1});let tt={x:O.x,y:O.y,fill:Y,stroke:W,width:O.width,height:O.height,rx:2.5,ry:2.5,attrs:X};drawRect$2(F,tt);let nt=z.boundaryFont();nt.fontWeight="bold",nt.fontSize=nt.fontSize+2,nt.fontColor=q,_drawTextCandidateFunc$2(z)(O.label.text,F,O.x,O.y+O.label.Y,O.width,O.height,{fill:"#444444"},nt),O.type&&O.type.text!==""&&(nt=z.boundaryFont(),nt.fontColor=q,_drawTextCandidateFunc$2(z)(O.type.text,F,O.x,O.y+O.type.Y,O.width,O.height,{fill:"#444444"},nt)),O.descr&&O.descr.text!==""&&(nt=z.boundaryFont(),nt.fontSize=nt.fontSize-2,nt.fontColor=q,_drawTextCandidateFunc$2(z)(O.descr.text,F,O.x,O.y+O.descr.Y,O.width,O.height,{fill:"#444444"},nt))},drawC4Shape=function(D,O,z){var F;let Y=O.bgColor?O.bgColor:z[O.typeC4Shape.text+"_bg_color"],W=O.borderColor?O.borderColor:z[O.typeC4Shape.text+"_border_color"],q=O.fontColor?O.fontColor:"#FFFFFF",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(O.typeC4Shape.text){case"person":X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const tt=D.append("g");tt.attr("class","person-man");const nt=getNoteRect$2();switch(O.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":nt.x=O.x,nt.y=O.y,nt.fill=Y,nt.width=O.width,nt.height=O.height,nt.stroke=W,nt.rx=2.5,nt.ry=2.5,nt.attrs={"stroke-width":.5},drawRect$2(tt,nt);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":tt.append("path").attr("fill",Y).attr("stroke-width","0.5").attr("stroke",W).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",O.x).replaceAll("starty",O.y).replaceAll("half",O.width/2).replaceAll("height",O.height)),tt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",W).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",O.x).replaceAll("starty",O.y).replaceAll("half",O.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":tt.append("path").attr("fill",Y).attr("stroke-width","0.5").attr("stroke",W).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",O.x).replaceAll("starty",O.y).replaceAll("width",O.width).replaceAll("half",O.height/2)),tt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",W).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",O.x+O.width).replaceAll("starty",O.y).replaceAll("half",O.height/2));break}let st=getC4ShapeFont(z,O.typeC4Shape.text);switch(tt.append("text").attr("fill",q).attr("font-family",st.fontFamily).attr("font-size",st.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",O.typeC4Shape.width).attr("x",O.x+O.width/2-O.typeC4Shape.width/2).attr("y",O.y+O.typeC4Shape.Y).text("<<"+O.typeC4Shape.text+">>"),O.typeC4Shape.text){case"person":case"external_person":drawImage$1(tt,48,48,O.x+O.width/2-24,O.y+O.image.Y,X);break}let ct=z[O.typeC4Shape.text+"Font"]();return ct.fontWeight="bold",ct.fontSize=ct.fontSize+2,ct.fontColor=q,_drawTextCandidateFunc$2(z)(O.label.text,tt,O.x,O.y+O.label.Y,O.width,O.height,{fill:q},ct),ct=z[O.typeC4Shape.text+"Font"](),ct.fontColor=q,O.techn&&((F=O.techn)==null?void 0:F.text)!==""?_drawTextCandidateFunc$2(z)(O.techn.text,tt,O.x,O.y+O.techn.Y,O.width,O.height,{fill:q,"font-style":"italic"},ct):O.type&&O.type.text!==""&&_drawTextCandidateFunc$2(z)(O.type.text,tt,O.x,O.y+O.type.Y,O.width,O.height,{fill:q,"font-style":"italic"},ct),O.descr&&O.descr.text!==""&&(ct=z.personFont(),ct.fontColor=q,_drawTextCandidateFunc$2(z)(O.descr.text,tt,O.x,O.y+O.descr.Y,O.width,O.height,{fill:q},ct)),O.height},insertDatabaseIcon$1=function(D){D.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon$1=function(D){D.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon$1=function(D){D.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead$1=function(D){D.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowEnd=function(D){D.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},insertArrowFilledHead$1=function(D){D.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertDynamicNumber=function(D){D.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead$1=function(D){const z=D.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);z.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),z.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},getNoteRect$2=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},getC4ShapeFont=(D,O)=>({fontFamily:D[O+"FontFamily"],fontSize:D[O+"FontSize"],fontWeight:D[O+"FontWeight"]}),_drawTextCandidateFunc$2=function(){function D(Y,W,q,X,tt,nt,st){const ct=W.append("text").attr("x",q+tt/2).attr("y",X+nt/2+5).style("text-anchor","middle").text(Y);F(ct,st)}function O(Y,W,q,X,tt,nt,st,ct){const{fontSize:lt,fontFamily:ht,fontWeight:bt}=ct,wt=Y.split(common$1.lineBreakRegex);for(let mt=0;mt<wt.length;mt++){const _t=mt*lt-lt*(wt.length-1)/2,Et=W.append("text").attr("x",q+tt/2).attr("y",X).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",lt).style("font-weight",bt).style("font-family",ht);Et.append("tspan").attr("dy",_t).text(wt[mt]).attr("alignment-baseline","mathematical"),F(Et,st)}}function z(Y,W,q,X,tt,nt,st,ct){const lt=W.append("switch"),bt=lt.append("foreignObject").attr("x",q).attr("y",X).attr("width",tt).attr("height",nt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");bt.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(Y),O(Y,lt,q,X,tt,nt,st,ct),F(bt,st)}function F(Y,W){for(const q in W)W.hasOwnProperty(q)&&Y.attr(q,W[q])}return function(Y){return Y.textPlacement==="fo"?z:Y.textPlacement==="old"?D:O}}(),svgDraw$3={drawRect:drawRect$2,drawBoundary:drawBoundary$1,drawC4Shape,drawRels:drawRels$1,drawImage:drawImage$1,insertArrowHead:insertArrowHead$1,insertArrowEnd,insertArrowFilledHead:insertArrowFilledHead$1,insertDynamicNumber,insertArrowCrossHead:insertArrowCrossHead$1,insertDatabaseIcon:insertDatabaseIcon$1,insertComputerIcon:insertComputerIcon$1,insertClockIcon:insertClockIcon$1,getNoteRect:getNoteRect$2,sanitizeUrl:dist.sanitizeUrl};let globalBoundaryMaxX=0,globalBoundaryMaxY=0,c4ShapeInRow=4,c4BoundaryInRow=2;parser$b.yy=c4Db;let conf$a={};class Bounds{constructor(O){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,setConf$a(O.db.getConfig())}setData(O,z,F,Y){this.nextData.startx=this.data.startx=O,this.nextData.stopx=this.data.stopx=z,this.nextData.starty=this.data.starty=F,this.nextData.stopy=this.data.stopy=Y}updateVal(O,z,F,Y){O[z]===void 0?O[z]=F:O[z]=Y(F,O[z])}insert(O){this.nextData.cnt=this.nextData.cnt+1;let z=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+O.margin:this.nextData.stopx+O.margin*2,F=z+O.width,Y=this.nextData.starty+O.margin*2,W=Y+O.height;(z>=this.data.widthLimit||F>=this.data.widthLimit||this.nextData.cnt>c4ShapeInRow)&&(z=this.nextData.startx+O.margin+conf$a.nextLinePaddingX,Y=this.nextData.stopy+O.margin*2,this.nextData.stopx=F=z+O.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=W=Y+O.height,this.nextData.cnt=1),O.x=z,O.y=Y,this.updateVal(this.data,"startx",z,Math.min),this.updateVal(this.data,"starty",Y,Math.min),this.updateVal(this.data,"stopx",F,Math.max),this.updateVal(this.data,"stopy",W,Math.max),this.updateVal(this.nextData,"startx",z,Math.min),this.updateVal(this.nextData,"starty",Y,Math.min),this.updateVal(this.nextData,"stopx",F,Math.max),this.updateVal(this.nextData,"stopy",W,Math.max)}init(O){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},setConf$a(O.db.getConfig())}bumpLastMargin(O){this.data.stopx+=O,this.data.stopy+=O}}const setConf$a=function(D){assignWithDepth$1(conf$a,D),D.fontFamily&&(conf$a.personFontFamily=conf$a.systemFontFamily=conf$a.messageFontFamily=D.fontFamily),D.fontSize&&(conf$a.personFontSize=conf$a.systemFontSize=conf$a.messageFontSize=D.fontSize),D.fontWeight&&(conf$a.personFontWeight=conf$a.systemFontWeight=conf$a.messageFontWeight=D.fontWeight)},c4ShapeFont=(D,O)=>({fontFamily:D[O+"FontFamily"],fontSize:D[O+"FontSize"],fontWeight:D[O+"FontWeight"]}),boundaryFont=D=>({fontFamily:D.boundaryFontFamily,fontSize:D.boundaryFontSize,fontWeight:D.boundaryFontWeight}),messageFont$1=D=>({fontFamily:D.messageFontFamily,fontSize:D.messageFontSize,fontWeight:D.messageFontWeight});function calcC4ShapeTextWH(D,O,z,F,Y){if(!O[D].width)if(z)O[D].text=wrapLabel(O[D].text,Y,F),O[D].textLines=O[D].text.split(common$1.lineBreakRegex).length,O[D].width=Y,O[D].height=calculateTextHeight(O[D].text,F);else{let W=O[D].text.split(common$1.lineBreakRegex);O[D].textLines=W.length;let q=0;O[D].height=0,O[D].width=0;for(const X of W)O[D].width=Math.max(calculateTextWidth(X,F),O[D].width),q=calculateTextHeight(X,F),O[D].height=O[D].height+q}}const drawBoundary=function(D,O,z){O.x=z.data.startx,O.y=z.data.starty,O.width=z.data.stopx-z.data.startx,O.height=z.data.stopy-z.data.starty,O.label.y=conf$a.c4ShapeMargin-35;let F=O.wrap&&conf$a.wrap,Y=boundaryFont(conf$a);Y.fontSize=Y.fontSize+2,Y.fontWeight="bold";let W=calculateTextWidth(O.label.text,Y);calcC4ShapeTextWH("label",O,F,Y,W),svgDraw$3.drawBoundary(D,O,conf$a)},drawC4ShapeArray=function(D,O,z,F){let Y=0;for(const W of F){Y=0;const q=z[W];let X=c4ShapeFont(conf$a,q.typeC4Shape.text);switch(X.fontSize=X.fontSize-2,q.typeC4Shape.width=calculateTextWidth("<<"+q.typeC4Shape.text+">>",X),q.typeC4Shape.height=X.fontSize+2,q.typeC4Shape.Y=conf$a.c4ShapePadding,Y=q.typeC4Shape.Y+q.typeC4Shape.height-4,q.image={width:0,height:0,Y:0},q.typeC4Shape.text){case"person":case"external_person":q.image.width=48,q.image.height=48,q.image.Y=Y,Y=q.image.Y+q.image.height;break}q.sprite&&(q.image.width=48,q.image.height=48,q.image.Y=Y,Y=q.image.Y+q.image.height);let tt=q.wrap&&conf$a.wrap,nt=conf$a.width-conf$a.c4ShapePadding*2,st=c4ShapeFont(conf$a,q.typeC4Shape.text);if(st.fontSize=st.fontSize+2,st.fontWeight="bold",calcC4ShapeTextWH("label",q,tt,st,nt),q.label.Y=Y+8,Y=q.label.Y+q.label.height,q.type&&q.type.text!==""){q.type.text="["+q.type.text+"]";let ht=c4ShapeFont(conf$a,q.typeC4Shape.text);calcC4ShapeTextWH("type",q,tt,ht,nt),q.type.Y=Y+5,Y=q.type.Y+q.type.height}else if(q.techn&&q.techn.text!==""){q.techn.text="["+q.techn.text+"]";let ht=c4ShapeFont(conf$a,q.techn.text);calcC4ShapeTextWH("techn",q,tt,ht,nt),q.techn.Y=Y+5,Y=q.techn.Y+q.techn.height}let ct=Y,lt=q.label.width;if(q.descr&&q.descr.text!==""){let ht=c4ShapeFont(conf$a,q.typeC4Shape.text);calcC4ShapeTextWH("descr",q,tt,ht,nt),q.descr.Y=Y+20,Y=q.descr.Y+q.descr.height,lt=Math.max(q.label.width,q.descr.width),ct=Y-q.descr.textLines*5}lt=lt+conf$a.c4ShapePadding,q.width=Math.max(q.width||conf$a.width,lt,conf$a.width),q.height=Math.max(q.height||conf$a.height,ct,conf$a.height),q.margin=q.margin||conf$a.c4ShapeMargin,D.insert(q),svgDraw$3.drawC4Shape(O,q,conf$a)}D.bumpLastMargin(conf$a.c4ShapeMargin)};class Point{constructor(O,z){this.x=O,this.y=z}}let getIntersectPoint=function(D,O){let z=D.x,F=D.y,Y=O.x,W=O.y,q=z+D.width/2,X=F+D.height/2,tt=Math.abs(z-Y),nt=Math.abs(F-W),st=nt/tt,ct=D.height/D.width,lt=null;return F==W&&z<Y?lt=new Point(z+D.width,X):F==W&&z>Y?lt=new Point(z,X):z==Y&&F<W?lt=new Point(q,F+D.height):z==Y&&F>W&&(lt=new Point(q,F)),z>Y&&F<W?ct>=st?lt=new Point(z,X+st*D.width/2):lt=new Point(q-tt/nt*D.height/2,F+D.height):z<Y&&F<W?ct>=st?lt=new Point(z+D.width,X+st*D.width/2):lt=new Point(q+tt/nt*D.height/2,F+D.height):z<Y&&F>W?ct>=st?lt=new Point(z+D.width,X-st*D.width/2):lt=new Point(q+D.height/2*tt/nt,F):z>Y&&F>W&&(ct>=st?lt=new Point(z,X-D.width/2*st):lt=new Point(q-D.height/2*tt/nt,F)),lt},getIntersectPoints=function(D,O){let z={x:0,y:0};z.x=O.x+O.width/2,z.y=O.y+O.height/2;let F=getIntersectPoint(D,z);z.x=D.x+D.width/2,z.y=D.y+D.height/2;let Y=getIntersectPoint(O,z);return{startPoint:F,endPoint:Y}};const drawRels=function(D,O,z,F){let Y=0;for(let W of O){Y=Y+1;let q=W.wrap&&conf$a.wrap,X=messageFont$1(conf$a);F.db.getC4Type()==="C4Dynamic"&&(W.label.text=Y+": "+W.label.text);let nt=calculateTextWidth(W.label.text,X);calcC4ShapeTextWH("label",W,q,X,nt),W.techn&&W.techn.text!==""&&(nt=calculateTextWidth(W.techn.text,X),calcC4ShapeTextWH("techn",W,q,X,nt)),W.descr&&W.descr.text!==""&&(nt=calculateTextWidth(W.descr.text,X),calcC4ShapeTextWH("descr",W,q,X,nt));let st=z(W.from),ct=z(W.to),lt=getIntersectPoints(st,ct);W.startPoint=lt.startPoint,W.endPoint=lt.endPoint}svgDraw$3.drawRels(D,O,conf$a)};function drawInsideBoundary(D,O,z,F,Y){let W=new Bounds(Y);W.data.widthLimit=z.data.widthLimit/Math.min(c4BoundaryInRow,F.length);for(let[q,X]of F.entries()){let tt=0;X.image={width:0,height:0,Y:0},X.sprite&&(X.image.width=48,X.image.height=48,X.image.Y=tt,tt=X.image.Y+X.image.height);let nt=X.wrap&&conf$a.wrap,st=boundaryFont(conf$a);if(st.fontSize=st.fontSize+2,st.fontWeight="bold",calcC4ShapeTextWH("label",X,nt,st,W.data.widthLimit),X.label.Y=tt+8,tt=X.label.Y+X.label.height,X.type&&X.type.text!==""){X.type.text="["+X.type.text+"]";let bt=boundaryFont(conf$a);calcC4ShapeTextWH("type",X,nt,bt,W.data.widthLimit),X.type.Y=tt+5,tt=X.type.Y+X.type.height}if(X.descr&&X.descr.text!==""){let bt=boundaryFont(conf$a);bt.fontSize=bt.fontSize-2,calcC4ShapeTextWH("descr",X,nt,bt,W.data.widthLimit),X.descr.Y=tt+20,tt=X.descr.Y+X.descr.height}if(q==0||q%c4BoundaryInRow===0){let bt=z.data.startx+conf$a.diagramMarginX,wt=z.data.stopy+conf$a.diagramMarginY+tt;W.setData(bt,bt,wt,wt)}else{let bt=W.data.stopx!==W.data.startx?W.data.stopx+conf$a.diagramMarginX:W.data.startx,wt=W.data.starty;W.setData(bt,bt,wt,wt)}W.name=X.alias;let ct=Y.db.getC4ShapeArray(X.alias),lt=Y.db.getC4ShapeKeys(X.alias);lt.length>0&&drawC4ShapeArray(W,D,ct,lt),O=X.alias;let ht=Y.db.getBoundarys(O);ht.length>0&&drawInsideBoundary(D,O,W,ht,Y),X.alias!=="global"&&drawBoundary(D,X,W),z.data.stopy=Math.max(W.data.stopy+conf$a.c4ShapeMargin,z.data.stopy),z.data.stopx=Math.max(W.data.stopx+conf$a.c4ShapeMargin,z.data.stopx),globalBoundaryMaxX=Math.max(globalBoundaryMaxX,z.data.stopx),globalBoundaryMaxY=Math.max(globalBoundaryMaxY,z.data.stopy)}}const draw$e=function(D,O,z,F){conf$a=getConfig$1().c4;const Y=getConfig$1().securityLevel;let W;Y==="sandbox"&&(W=select("#i"+O));const q=select(Y==="sandbox"?W.nodes()[0].contentDocument.body:"body");let X=F.db;F.db.setWrap(conf$a.wrap),c4ShapeInRow=X.getC4ShapeInRow(),c4BoundaryInRow=X.getC4BoundaryInRow(),log$1.debug(`C:${JSON.stringify(conf$a,null,2)}`);const tt=Y==="sandbox"?q.select(`[id="${O}"]`):select(`[id="${O}"]`);svgDraw$3.insertComputerIcon(tt),svgDraw$3.insertDatabaseIcon(tt),svgDraw$3.insertClockIcon(tt);let nt=new Bounds(F);nt.setData(conf$a.diagramMarginX,conf$a.diagramMarginX,conf$a.diagramMarginY,conf$a.diagramMarginY),nt.data.widthLimit=screen.availWidth,globalBoundaryMaxX=conf$a.diagramMarginX,globalBoundaryMaxY=conf$a.diagramMarginY;const st=F.db.getTitle();let ct=F.db.getBoundarys("");drawInsideBoundary(tt,"",nt,ct,F),svgDraw$3.insertArrowHead(tt),svgDraw$3.insertArrowEnd(tt),svgDraw$3.insertArrowCrossHead(tt),svgDraw$3.insertArrowFilledHead(tt),drawRels(tt,F.db.getRels(),F.db.getC4Shape,F),nt.data.stopx=globalBoundaryMaxX,nt.data.stopy=globalBoundaryMaxY;const lt=nt.data;let bt=lt.stopy-lt.starty+2*conf$a.diagramMarginY;const mt=lt.stopx-lt.startx+2*conf$a.diagramMarginX;st&&tt.append("text").text(st).attr("x",(lt.stopx-lt.startx)/2-4*conf$a.diagramMarginX).attr("y",lt.starty+conf$a.diagramMarginY),configureSvgSize(tt,bt,mt,conf$a.useMaxWidth);const _t=st?60:0;tt.attr("viewBox",lt.startx-conf$a.diagramMarginX+" -"+(conf$a.diagramMarginY+_t)+" "+mt+" "+(bt+_t)),log$1.debug("models:",lt)},c4Renderer={drawPersonOrSystemArray:drawC4ShapeArray,drawBoundary,setConf:setConf$a,draw:draw$e};var parser$a=function(){var D=function(Ye,Kt,kt,jt){for(kt=kt||{},jt=Ye.length;jt--;kt[Ye[jt]]=Kt);return kt},O=[1,3],z=[1,7],F=[1,8],Y=[1,9],W=[1,10],q=[1,13],X=[1,12],tt=[1,16,25],nt=[1,20],st=[1,32],ct=[1,33],lt=[1,34],ht=[1,36],bt=[1,39],wt=[1,37],mt=[1,38],_t=[1,44],Et=[1,45],At=[1,40],Ct=[1,41],Ft=[1,42],Lt=[1,43],Yt=[1,48],Ht=[1,49],qt=[1,50],te=[1,51],Xt=[16,25],Dt=[1,65],Qt=[1,66],Nt=[1,67],ce=[1,68],Pt=[1,69],de=[1,70],ye=[1,71],pe=[1,80],ve=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],Ce=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],De=[5,8,9,10,11,16,19,23,25],Oe=[54,88,89,90,91],Je=[54,65,66,88,89,90,91],qe=[54,60,61,62,63,64,88,89,90,91],ze=[16,25,32],we=[1,107],Me={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(Kt,kt,jt,$t,oe,Vt,Be){var ge=Vt.length-1;switch(oe){case 5:$t.setDirection("TB");break;case 6:$t.setDirection("BT");break;case 7:$t.setDirection("RL");break;case 8:$t.setDirection("LR");break;case 12:$t.parseDirective("%%{","open_directive");break;case 13:$t.parseDirective(Vt[ge],"type_directive");break;case 14:Vt[ge]=Vt[ge].trim().replace(/'/g,'"'),$t.parseDirective(Vt[ge],"arg_directive");break;case 15:$t.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=Vt[ge];break;case 22:this.$=Vt[ge-1]+Vt[ge];break;case 23:case 24:this.$=Vt[ge-1]+"~"+Vt[ge];break;case 25:$t.addRelation(Vt[ge]);break;case 26:Vt[ge-1].title=$t.cleanupLabel(Vt[ge]),$t.addRelation(Vt[ge-1]);break;case 35:this.$=Vt[ge].trim(),$t.setAccTitle(this.$);break;case 36:case 37:this.$=Vt[ge].trim(),$t.setAccDescription(this.$);break;case 38:$t.addClass(Vt[ge]);break;case 39:$t.addClass(Vt[ge-2]),$t.setCssClass(Vt[ge-2],Vt[ge]);break;case 40:$t.addClass(Vt[ge-3]),$t.addMembers(Vt[ge-3],Vt[ge-1]);break;case 41:$t.addClass(Vt[ge-5]),$t.setCssClass(Vt[ge-5],Vt[ge-3]),$t.addMembers(Vt[ge-5],Vt[ge-1]);break;case 42:$t.addAnnotation(Vt[ge],Vt[ge-2]);break;case 43:this.$=[Vt[ge]];break;case 44:Vt[ge].push(Vt[ge-1]),this.$=Vt[ge];break;case 45:break;case 46:$t.addMember(Vt[ge-1],$t.cleanupLabel(Vt[ge]));break;case 47:break;case 48:break;case 49:this.$={id1:Vt[ge-2],id2:Vt[ge],relation:Vt[ge-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:Vt[ge-3],id2:Vt[ge],relation:Vt[ge-1],relationTitle1:Vt[ge-2],relationTitle2:"none"};break;case 51:this.$={id1:Vt[ge-3],id2:Vt[ge],relation:Vt[ge-2],relationTitle1:"none",relationTitle2:Vt[ge-1]};break;case 52:this.$={id1:Vt[ge-4],id2:Vt[ge],relation:Vt[ge-2],relationTitle1:Vt[ge-3],relationTitle2:Vt[ge-1]};break;case 53:$t.addNote(Vt[ge],Vt[ge-1]);break;case 54:$t.addNote(Vt[ge]);break;case 55:this.$={type1:Vt[ge-2],type2:Vt[ge],lineType:Vt[ge-1]};break;case 56:this.$={type1:"none",type2:Vt[ge],lineType:Vt[ge-1]};break;case 57:this.$={type1:Vt[ge-1],type2:"none",lineType:Vt[ge]};break;case 58:this.$={type1:"none",type2:"none",lineType:Vt[ge]};break;case 59:this.$=$t.relationType.AGGREGATION;break;case 60:this.$=$t.relationType.EXTENSION;break;case 61:this.$=$t.relationType.COMPOSITION;break;case 62:this.$=$t.relationType.DEPENDENCY;break;case 63:this.$=$t.relationType.LOLLIPOP;break;case 64:this.$=$t.lineType.LINE;break;case 65:this.$=$t.lineType.DOTTED_LINE;break;case 66:case 72:this.$=Vt[ge-2],$t.setClickEvent(Vt[ge-1],Vt[ge]);break;case 67:case 73:this.$=Vt[ge-3],$t.setClickEvent(Vt[ge-2],Vt[ge-1]),$t.setTooltip(Vt[ge-2],Vt[ge]);break;case 68:case 76:this.$=Vt[ge-2],$t.setLink(Vt[ge-1],Vt[ge]);break;case 69:this.$=Vt[ge-3],$t.setLink(Vt[ge-2],Vt[ge-1],Vt[ge]);break;case 70:case 78:this.$=Vt[ge-3],$t.setLink(Vt[ge-2],Vt[ge-1]),$t.setTooltip(Vt[ge-2],Vt[ge]);break;case 71:case 79:this.$=Vt[ge-4],$t.setLink(Vt[ge-3],Vt[ge-2],Vt[ge]),$t.setTooltip(Vt[ge-3],Vt[ge-1]);break;case 74:this.$=Vt[ge-3],$t.setClickEvent(Vt[ge-2],Vt[ge-1],Vt[ge]);break;case 75:this.$=Vt[ge-4],$t.setClickEvent(Vt[ge-3],Vt[ge-2],Vt[ge-1]),$t.setTooltip(Vt[ge-3],Vt[ge]);break;case 77:this.$=Vt[ge-3],$t.setLink(Vt[ge-2],Vt[ge-1],Vt[ge]);break;case 80:$t.setCssClass(Vt[ge-1],Vt[ge]);break}},table:[{3:1,4:2,5:O,6:4,7:5,8:z,9:F,10:Y,11:W,12:6,13:11,19:q,23:X},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:O,6:4,7:5,8:z,9:F,10:Y,11:W,12:6,13:11,19:q,23:X},{1:[2,9]},D(tt,[2,5]),D(tt,[2,6]),D(tt,[2,7]),D(tt,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:nt},D([17,22],[2,13]),{6:31,7:30,8:z,9:F,10:Y,11:W,13:11,19:q,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:st,41:ct,43:lt,44:ht,49:bt,51:wt,52:mt,55:_t,57:Et,67:At,68:Ct,70:Ft,74:Lt,88:Yt,89:Ht,90:qt,91:te},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},D(Xt,[2,25],{32:[1,57]}),D(Xt,[2,27]),D(Xt,[2,28]),D(Xt,[2,29]),D(Xt,[2,30]),D(Xt,[2,31]),D(Xt,[2,32]),D(Xt,[2,33]),D(Xt,[2,34]),{40:[1,58]},{42:[1,59]},D(Xt,[2,37]),D(Xt,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:Dt,61:Qt,62:Nt,63:ce,64:Pt,65:de,66:ye}),{27:72,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},D(Xt,[2,47]),D(Xt,[2,48]),{28:73,88:Yt,89:Ht,90:qt},{27:74,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},{27:75,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},{27:76,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},{54:[1,77]},{27:78,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},{54:pe,56:79},D(ve,[2,20],{28:46,29:47,27:81,30:[1,82],88:Yt,89:Ht,90:qt,91:te}),D(ve,[2,21],{30:[1,83]}),D(Ce,[2,94]),D(Ce,[2,95]),D(Ce,[2,96]),D([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),D(De,[2,10]),{15:84,22:nt},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:z,9:F,10:Y,11:W,13:11,19:q,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:st,41:ct,43:lt,44:ht,49:bt,51:wt,52:mt,55:_t,57:Et,67:At,68:Ct,70:Ft,74:Lt,88:Yt,89:Ht,90:qt,91:te},D(Xt,[2,26]),D(Xt,[2,35]),D(Xt,[2,36]),{27:86,28:46,29:47,54:[1,87],88:Yt,89:Ht,90:qt,91:te},{53:88,58:63,59:64,60:Dt,61:Qt,62:Nt,63:ce,64:Pt,65:de,66:ye},D(Xt,[2,46]),{59:89,65:de,66:ye},D(Oe,[2,58],{58:90,60:Dt,61:Qt,62:Nt,63:ce,64:Pt}),D(Je,[2,59]),D(Je,[2,60]),D(Je,[2,61]),D(Je,[2,62]),D(Je,[2,63]),D(qe,[2,64]),D(qe,[2,65]),D(Xt,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:Yt,89:Ht,90:qt},{54:pe,56:99},D(Xt,[2,54]),D(Xt,[2,98]),D(ve,[2,22]),D(ve,[2,23]),D(ve,[2,24]),{16:[1,100]},{25:[2,19]},D(ze,[2,49]),{27:101,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},{27:102,28:46,29:47,54:[1,103],88:Yt,89:Ht,90:qt,91:te},D(Oe,[2,57],{58:104,60:Dt,61:Qt,62:Nt,63:ce,64:Pt}),D(Oe,[2,56]),{28:105,88:Yt,89:Ht,90:qt},{47:106,51:we},{27:108,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},D(Xt,[2,66],{54:[1,109]}),D(Xt,[2,68],{54:[1,111],69:[1,110]}),D(Xt,[2,72],{54:[1,112],72:[1,113]}),D(Xt,[2,76],{54:[1,115],69:[1,114]}),D(Xt,[2,80]),D(Xt,[2,53]),D(De,[2,11]),D(ze,[2,51]),D(ze,[2,50]),{27:116,28:46,29:47,88:Yt,89:Ht,90:qt,91:te},D(Oe,[2,55]),D(Xt,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:we},D(Xt,[2,42]),D(Xt,[2,67]),D(Xt,[2,69]),D(Xt,[2,70],{69:[1,120]}),D(Xt,[2,73]),D(Xt,[2,74],{54:[1,121]}),D(Xt,[2,77]),D(Xt,[2,78],{69:[1,122]}),D(ze,[2,52]),{47:123,51:we},D(Xt,[2,40]),{48:[2,44]},D(Xt,[2,71]),D(Xt,[2,75]),D(Xt,[2,79]),{48:[1,124]},D(Xt,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(Kt,kt){if(kt.recoverable)this.trace(Kt);else{var jt=new Error(Kt);throw jt.hash=kt,jt}},parse:function(Kt){var kt=this,jt=[0],$t=[],oe=[null],Vt=[],Be=this.table,ge="",Pe=0,ke=0,$e=2,Fe=1,Qe=Vt.slice.call(arguments,1),We=Object.create(this.lexer),rn={yy:{}};for(var zn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,zn)&&(rn.yy[zn]=this.yy[zn]);We.setInput(Kt,rn.yy),rn.yy.lexer=We,rn.yy.parser=this,typeof We.yylloc>"u"&&(We.yylloc={});var Bn=We.yylloc;Vt.push(Bn);var Pn=We.options&&We.options.ranges;typeof rn.yy.parseError=="function"?this.parseError=rn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function jn(){var Ge;return Ge=$t.pop()||We.lex()||Fe,typeof Ge!="number"&&(Ge instanceof Array&&($t=Ge,Ge=$t.pop()),Ge=kt.symbols_[Ge]||Ge),Ge}for(var Jn,rr,sr,on,ie={},ne,xe,Ae,Ve;;){if(rr=jt[jt.length-1],this.defaultActions[rr]?sr=this.defaultActions[rr]:((Jn===null||typeof Jn>"u")&&(Jn=jn()),sr=Be[rr]&&Be[rr][Jn]),typeof sr>"u"||!sr.length||!sr[0]){var vn="";Ve=[];for(ne in Be[rr])this.terminals_[ne]&&ne>$e&&Ve.push("'"+this.terminals_[ne]+"'");We.showPosition?vn="Parse error on line "+(Pe+1)+`:
`+We.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[Jn]||Jn)+"'":vn="Parse error on line "+(Pe+1)+": Unexpected "+(Jn==Fe?"end of input":"'"+(this.terminals_[Jn]||Jn)+"'"),this.parseError(vn,{text:We.match,token:this.terminals_[Jn]||Jn,line:We.yylineno,loc:Bn,expected:Ve})}if(sr[0]instanceof Array&&sr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+rr+", token: "+Jn);switch(sr[0]){case 1:jt.push(Jn),oe.push(We.yytext),Vt.push(We.yylloc),jt.push(sr[1]),Jn=null,ke=We.yyleng,ge=We.yytext,Pe=We.yylineno,Bn=We.yylloc;break;case 2:if(xe=this.productions_[sr[1]][1],ie.$=oe[oe.length-xe],ie._$={first_line:Vt[Vt.length-(xe||1)].first_line,last_line:Vt[Vt.length-1].last_line,first_column:Vt[Vt.length-(xe||1)].first_column,last_column:Vt[Vt.length-1].last_column},Pn&&(ie._$.range=[Vt[Vt.length-(xe||1)].range[0],Vt[Vt.length-1].range[1]]),on=this.performAction.apply(ie,[ge,ke,Pe,rn.yy,sr[1],oe,Vt].concat(Qe)),typeof on<"u")return on;xe&&(jt=jt.slice(0,-1*xe*2),oe=oe.slice(0,-1*xe),Vt=Vt.slice(0,-1*xe)),jt.push(this.productions_[sr[1]][0]),oe.push(ie.$),Vt.push(ie._$),Ae=Be[jt[jt.length-2]][jt[jt.length-1]],jt.push(Ae);break;case 3:return!0}}return!0}},He=function(){var Ye={EOF:1,parseError:function(kt,jt){if(this.yy.parser)this.yy.parser.parseError(kt,jt);else throw new Error(kt)},setInput:function(Kt,kt){return this.yy=kt||this.yy||{},this._input=Kt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Kt=this._input[0];this.yytext+=Kt,this.yyleng++,this.offset++,this.match+=Kt,this.matched+=Kt;var kt=Kt.match(/(?:\r\n?|\n).*/g);return kt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Kt},unput:function(Kt){var kt=Kt.length,jt=Kt.split(/(?:\r\n?|\n)/g);this._input=Kt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-kt),this.offset-=kt;var $t=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),jt.length-1&&(this.yylineno-=jt.length-1);var oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:jt?(jt.length===$t.length?this.yylloc.first_column:0)+$t[$t.length-jt.length].length-jt[0].length:this.yylloc.first_column-kt},this.options.ranges&&(this.yylloc.range=[oe[0],oe[0]+this.yyleng-kt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Kt){this.unput(this.match.slice(Kt))},pastInput:function(){var Kt=this.matched.substr(0,this.matched.length-this.match.length);return(Kt.length>20?"...":"")+Kt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Kt=this.match;return Kt.length<20&&(Kt+=this._input.substr(0,20-Kt.length)),(Kt.substr(0,20)+(Kt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Kt=this.pastInput(),kt=new Array(Kt.length+1).join("-");return Kt+this.upcomingInput()+`
`+kt+"^"},test_match:function(Kt,kt){var jt,$t,oe;if(this.options.backtrack_lexer&&(oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(oe.yylloc.range=this.yylloc.range.slice(0))),$t=Kt[0].match(/(?:\r\n?|\n).*/g),$t&&(this.yylineno+=$t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$t?$t[$t.length-1].length-$t[$t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Kt[0].length},this.yytext+=Kt[0],this.match+=Kt[0],this.matches=Kt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Kt[0].length),this.matched+=Kt[0],jt=this.performAction.call(this,this.yy,this,kt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),jt)return jt;if(this._backtrack){for(var Vt in oe)this[Vt]=oe[Vt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Kt,kt,jt,$t;this._more||(this.yytext="",this.match="");for(var oe=this._currentRules(),Vt=0;Vt<oe.length;Vt++)if(jt=this._input.match(this.rules[oe[Vt]]),jt&&(!kt||jt[0].length>kt[0].length)){if(kt=jt,$t=Vt,this.options.backtrack_lexer){if(Kt=this.test_match(jt,oe[Vt]),Kt!==!1)return Kt;if(this._backtrack){kt=!1;continue}else return!1}else if(!this.options.flex)break}return kt?(Kt=this.test_match(kt,oe[$t]),Kt!==!1?Kt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var kt=this.next();return kt||this.lex()},begin:function(kt){this.conditionStack.push(kt)},popState:function(){var kt=this.conditionStack.length-1;return kt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(kt){return kt=this.conditionStack.length-1-Math.abs(kt||0),kt>=0?this.conditionStack[kt]:"INITIAL"},pushState:function(kt){this.begin(kt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(kt,jt,$t,oe){switch($t){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return Ye}();Me.lexer=He;function Le(){this.yy={}}return Le.prototype=Me,Me.Parser=Le,new Le}();parser$a.parser=parser$a;const classParser=parser$a,classDetector=(D,O)=>{var z;return((z=O==null?void 0:O.class)==null?void 0:z.defaultRenderer)==="dagre-wrapper"?!1:D.match(/^\s*classDiagram/)!==null},classDetectorV2=(D,O)=>{var z;return D.match(/^\s*classDiagram/)!==null&&((z=O==null?void 0:O.class)==null?void 0:z.defaultRenderer)==="dagre-wrapper"?!0:D.match(/^\s*classDiagram-v2/)!==null},MERMAID_DOM_ID_PREFIX$1="classid-";let relations$1=[],classes$2={},notes=[],classCounter=0,funs$2=[];const sanitizeText$2=D=>common$1.sanitizeText(D,getConfig$1()),parseDirective$8=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},splitClassNameAndType=function(D){let O="",z=D;if(D.indexOf("~")>0){let F=D.split("~");z=F[0],O=common$1.sanitizeText(F[1],getConfig$1())}return{className:z,type:O}},addClass$1=function(D){let O=splitClassNameAndType(D);classes$2[O.className]===void 0&&(classes$2[O.className]={id:O.className,type:O.type,cssClasses:[],methods:[],members:[],annotations:[],domId:MERMAID_DOM_ID_PREFIX$1+O.className+"-"+classCounter},classCounter++)},lookUpDomId$1=function(D){const O=Object.keys(classes$2);for(const z of O)if(classes$2[z].id===D)return classes$2[z].domId},clear$c=function(){relations$1=[],classes$2={},notes=[],funs$2=[],funs$2.push(setupToolTips$1),clear$g()},getClass=function(D){return classes$2[D]},getClasses$5=function(){return classes$2},getRelations$1=function(){return relations$1},getNotes=function(){return notes},addRelation$1=function(D){log$1.debug("Adding relation: "+JSON.stringify(D)),addClass$1(D.id1),addClass$1(D.id2),D.id1=splitClassNameAndType(D.id1).className,D.id2=splitClassNameAndType(D.id2).className,D.relationTitle1=common$1.sanitizeText(D.relationTitle1.trim(),getConfig$1()),D.relationTitle2=common$1.sanitizeText(D.relationTitle2.trim(),getConfig$1()),relations$1.push(D)},addAnnotation=function(D,O){const z=splitClassNameAndType(D).className;classes$2[z].annotations.push(O)},addMember=function(D,O){const z=splitClassNameAndType(D).className,F=classes$2[z];if(typeof O=="string"){const Y=O.trim();Y.startsWith("<<")&&Y.endsWith(">>")?F.annotations.push(sanitizeText$2(Y.substring(2,Y.length-2))):Y.indexOf(")")>0?F.methods.push(sanitizeText$2(Y)):Y&&F.members.push(sanitizeText$2(Y))}},addMembers=function(D,O){Array.isArray(O)&&(O.reverse(),O.forEach(z=>addMember(D,z)))},addNote$1=function(D,O){const z={id:`note${notes.length}`,class:O,text:D};notes.push(z)},cleanupLabel$1=function(D){return D.substring(0,1)===":"?common$1.sanitizeText(D.substr(1).trim(),getConfig$1()):sanitizeText$2(D.trim())},setCssClass$1=function(D,O){D.split(",").forEach(function(z){let F=z;z[0].match(/\d/)&&(F=MERMAID_DOM_ID_PREFIX$1+F),classes$2[F]!==void 0&&classes$2[F].cssClasses.push(O)})},setTooltip$1=function(D,O){const z=getConfig$1();D.split(",").forEach(function(F){O!==void 0&&(classes$2[F].tooltip=common$1.sanitizeText(O,z))})},getTooltip$1=function(D){return classes$2[D].tooltip},setLink$2=function(D,O,z){const F=getConfig$1();D.split(",").forEach(function(Y){let W=Y;Y[0].match(/\d/)&&(W=MERMAID_DOM_ID_PREFIX$1+W),classes$2[W]!==void 0&&(classes$2[W].link=utils.formatUrl(O,F),F.securityLevel==="sandbox"?classes$2[W].linkTarget="_top":typeof z=="string"?classes$2[W].linkTarget=sanitizeText$2(z):classes$2[W].linkTarget="_blank")}),setCssClass$1(D,"clickable")},setClickEvent$2=function(D,O,z){D.split(",").forEach(function(F){setClickFunc(F,O,z),classes$2[F].haveCallback=!0}),setCssClass$1(D,"clickable")},setClickFunc=function(D,O,z){const F=getConfig$1();let Y=D,W=lookUpDomId$1(Y);if(F.securityLevel==="loose"&&O!==void 0&&classes$2[Y]!==void 0){let q=[];if(typeof z=="string"){q=z.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let X=0;X<q.length;X++){let tt=q[X].trim();tt.charAt(0)==='"'&&tt.charAt(tt.length-1)==='"'&&(tt=tt.substr(1,tt.length-2)),q[X]=tt}}q.length===0&&q.push(W),funs$2.push(function(){const X=document.querySelector(`[id="${W}"]`);X!==null&&X.addEventListener("click",function(){utils.runFunc(O,...q)},!1)})}},bindFunctions$2=function(D){funs$2.forEach(function(O){O(D)})},lineType$1={LINE:0,DOTTED_LINE:1},relationType$1={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setupToolTips$1=function(D){let O=select(".mermaidTooltip");(O._groups||O)[0][0]===null&&(O=select("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select(D).select("svg").selectAll("g.node").on("mouseover",function(){const Y=select(this);if(Y.attr("title")===null)return;const q=this.getBoundingClientRect();O.transition().duration(200).style("opacity",".9"),O.text(Y.attr("title")).style("left",window.scrollX+q.left+(q.right-q.left)/2+"px").style("top",window.scrollY+q.top-14+document.body.scrollTop+"px"),O.html(O.html().replace(/&lt;br\/&gt;/g,"<br/>")),Y.classed("hover",!0)}).on("mouseout",function(){O.transition().duration(500).style("opacity",0),select(this).classed("hover",!1)})};funs$2.push(setupToolTips$1);let direction$2="TB";const getDirection$2=()=>direction$2,setDirection$2=D=>{direction$2=D},classDb={parseDirective:parseDirective$8,setAccTitle,getAccTitle,getAccDescription,setAccDescription,getConfig:()=>getConfig$1().class,addClass:addClass$1,bindFunctions:bindFunctions$2,clear:clear$c,getClass,getClasses:getClasses$5,getNotes,addAnnotation,addNote:addNote$1,getRelations:getRelations$1,addRelation:addRelation$1,getDirection:getDirection$2,setDirection:setDirection$2,addMember,addMembers,cleanupLabel:cleanupLabel$1,lineType:lineType$1,relationType:relationType$1,setClickEvent:setClickEvent$2,setCssClass:setCssClass$1,setLink:setLink$2,getTooltip:getTooltip$1,setTooltip:setTooltip$1,lookUpDomId:lookUpDomId$1,setDiagramTitle,getDiagramTitle};let edgeCount$1=0;const drawEdge$1=function(D,O,z,F,Y){const W=function(Et){switch(Et){case Y.db.relationType.AGGREGATION:return"aggregation";case Y.db.relationType.EXTENSION:return"extension";case Y.db.relationType.COMPOSITION:return"composition";case Y.db.relationType.DEPENDENCY:return"dependency";case Y.db.relationType.LOLLIPOP:return"lollipop"}};O.points=O.points.filter(Et=>!Number.isNaN(Et.y));const q=O.points,X=line$1().x(function(Et){return Et.x}).y(function(Et){return Et.y}).curve(curveBasis),tt=D.append("path").attr("d",X(q)).attr("id","edge"+edgeCount$1).attr("class","relation");let nt="";F.arrowMarkerAbsolute&&(nt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,nt=nt.replace(/\(/g,"\\("),nt=nt.replace(/\)/g,"\\)")),z.relation.lineType==1&&tt.attr("class","relation dashed-line"),z.relation.lineType==10&&tt.attr("class","relation dotted-line"),z.relation.type1!=="none"&&tt.attr("marker-start","url("+nt+"#"+W(z.relation.type1)+"Start)"),z.relation.type2!=="none"&&tt.attr("marker-end","url("+nt+"#"+W(z.relation.type2)+"End)");let st,ct;const lt=O.points.length;let ht=utils.calcLabelPosition(O.points);st=ht.x,ct=ht.y;let bt,wt,mt,_t;if(lt%2!==0&&lt>1){let Et=utils.calcCardinalityPosition(z.relation.type1!=="none",O.points,O.points[0]),At=utils.calcCardinalityPosition(z.relation.type2!=="none",O.points,O.points[lt-1]);log$1.debug("cardinality_1_point "+JSON.stringify(Et)),log$1.debug("cardinality_2_point "+JSON.stringify(At)),bt=Et.x,wt=Et.y,mt=At.x,_t=At.y}if(z.title!==void 0){const Et=D.append("g").attr("class","classLabel"),At=Et.append("text").attr("class","label").attr("x",st).attr("y",ct).attr("fill","red").attr("text-anchor","middle").text(z.title);window.label=At;const Ct=At.node().getBBox();Et.insert("rect",":first-child").attr("class","box").attr("x",Ct.x-F.padding/2).attr("y",Ct.y-F.padding/2).attr("width",Ct.width+F.padding).attr("height",Ct.height+F.padding)}log$1.info("Rendering relation "+JSON.stringify(z)),z.relationTitle1!==void 0&&z.relationTitle1!=="none"&&D.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",bt).attr("y",wt).attr("fill","black").attr("font-size","6").text(z.relationTitle1),z.relationTitle2!==void 0&&z.relationTitle2!=="none"&&D.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",mt).attr("y",_t).attr("fill","black").attr("font-size","6").text(z.relationTitle2),edgeCount$1++},drawClass=function(D,O,z,F){log$1.debug("Rendering class ",O,z);const Y=O.id,W={id:Y,label:O.id,width:0,height:0},q=D.append("g").attr("id",F.db.lookUpDomId(Y)).attr("class","classGroup");let X;O.link?X=q.append("svg:a").attr("xlink:href",O.link).attr("target",O.linkTarget).append("text").attr("y",z.textHeight+z.padding).attr("x",0):X=q.append("text").attr("y",z.textHeight+z.padding).attr("x",0);let tt=!0;O.annotations.forEach(function(Ft){const Lt=X.append("tspan").text(""+Ft+"");tt||Lt.attr("dy",z.textHeight),tt=!1});let nt=O.id;O.type!==void 0&&O.type!==""&&(nt+="<"+O.type+">");const st=X.append("tspan").text(nt).attr("class","title");tt||st.attr("dy",z.textHeight);const ct=X.node().getBBox().height,lt=q.append("line").attr("x1",0).attr("y1",z.padding+ct+z.dividerMargin/2).attr("y2",z.padding+ct+z.dividerMargin/2),ht=q.append("text").attr("x",z.padding).attr("y",ct+z.dividerMargin+z.textHeight).attr("fill","white").attr("class","classText");tt=!0,O.members.forEach(function(Ft){addTspan(ht,Ft,tt,z),tt=!1});const bt=ht.node().getBBox(),wt=q.append("line").attr("x1",0).attr("y1",z.padding+ct+z.dividerMargin+bt.height).attr("y2",z.padding+ct+z.dividerMargin+bt.height),mt=q.append("text").attr("x",z.padding).attr("y",ct+2*z.dividerMargin+bt.height+z.textHeight).attr("fill","white").attr("class","classText");tt=!0,O.methods.forEach(function(Ft){addTspan(mt,Ft,tt,z),tt=!1});const _t=q.node().getBBox();var Et=" ";O.cssClasses.length>0&&(Et=Et+O.cssClasses.join(" "));const Ct=q.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",_t.width+2*z.padding).attr("height",_t.height+z.padding+.5*z.dividerMargin).attr("class",Et).node().getBBox().width;return X.node().childNodes.forEach(function(Ft){Ft.setAttribute("x",(Ct-Ft.getBBox().width)/2)}),O.tooltip&&X.insert("title").text(O.tooltip),lt.attr("x2",Ct),wt.attr("x2",Ct),W.width=Ct,W.height=_t.height+z.padding+.5*z.dividerMargin,W},drawNote$2=function(D,O,z,F){log$1.debug("Rendering note ",O,z);const Y=O.id,W={id:Y,text:O.text,width:0,height:0},q=D.append("g").attr("id",Y).attr("class","classGroup");let X=q.append("text").attr("y",z.textHeight+z.padding).attr("x",0);const tt=JSON.parse(`"${O.text}"`).split(`
`);tt.forEach(function(lt){log$1.debug(`Adding line: ${lt}`),X.append("tspan").text(lt).attr("class","title").attr("dy",z.textHeight)});const nt=q.node().getBBox(),ct=q.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",nt.width+2*z.padding).attr("height",nt.height+tt.length*z.textHeight+z.padding+.5*z.dividerMargin).node().getBBox().width;return X.node().childNodes.forEach(function(lt){lt.setAttribute("x",(ct-lt.getBBox().width)/2)}),W.width=ct,W.height=nt.height+tt.length*z.textHeight+z.padding+.5*z.dividerMargin,W},parseMember=function(D){const O=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,z=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let F=D.match(O),Y=D.match(z);return F&&!Y?buildFieldDisplay(F):Y?buildMethodDisplay(Y):buildLegacyDisplay(D)},buildFieldDisplay=function(D){let O="",z="";try{let F=D[1]?D[1].trim():"",Y=D[2]?D[2].trim():"",W=D[3]?parseGenericTypes(D[3].trim()):"",q=D[4]?D[4].trim():"",X=D[5]?D[5].trim():"";z=F+Y+W+" "+q,O=parseClassifier(X)}catch{z=D}return{displayText:z,cssStyle:O}},buildMethodDisplay=function(D){let O="",z="";try{let F=D[1]?D[1].trim():"",Y=D[2]?D[2].trim():"",W=D[3]?parseGenericTypes(D[3].trim()):"",q=D[4]?D[4].trim():"",X=D[5]?" : "+parseGenericTypes(D[5]).trim():"";z=F+Y+"("+W+")"+X,O=parseClassifier(q)}catch{z=D}return{displayText:z,cssStyle:O}},buildLegacyDisplay=function(D){let O="",z="",F="",Y=D.indexOf("("),W=D.indexOf(")");if(Y>1&&W>Y&&W<=D.length){let q="",X="",tt=D.substring(0,1);tt.match(/\w/)?X=D.substring(0,Y).trim():(tt.match(/[#+~-]/)&&(q=tt),X=D.substring(1,Y).trim());const nt=D.substring(Y+1,W);D.substring(W+1,1),z=parseClassifier(D.substring(W+1,W+2)),O=q+X+"("+parseGenericTypes(nt.trim())+")",W<D.length&&(F=D.substring(W+2).trim(),F!==""&&(F=" : "+parseGenericTypes(F),O+=F))}else O=parseGenericTypes(D);return{displayText:O,cssStyle:z}},addTspan=function(D,O,z,F){let Y=parseMember(O);const W=D.append("tspan").attr("x",F.padding).text(Y.displayText);Y.cssStyle!==""&&W.attr("style",Y.cssStyle),z||W.attr("dy",F.textHeight)},parseClassifier=function(D){switch(D){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},svgDraw$2={drawClass,drawEdge:drawEdge$1,drawNote:drawNote$2,parseMember};let idCache$2={};const padding=20,getGraphId=function(D){const O=Object.entries(idCache$2).find(z=>z[1].label===D);if(O)return O[0]},insertMarkers$4=function(D){D.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),D.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),D.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},draw$d=function(D,O,z,F){const Y=getConfig$1().class;idCache$2={},log$1.info("Rendering diagram "+D);const W=getConfig$1().securityLevel;let q;W==="sandbox"&&(q=select("#i"+O));const X=select(W==="sandbox"?q.nodes()[0].contentDocument.body:"body"),tt=X.select(`[id='${O}']`);insertMarkers$4(tt);const nt=new Graph({multigraph:!0});nt.setGraph({isMultiGraph:!0}),nt.setDefaultEdgeLabel(function(){return{}});const st=F.db.getClasses(),ct=Object.keys(st);for(const Et of ct){const At=st[Et],Ct=svgDraw$2.drawClass(tt,At,Y,F);idCache$2[Ct.id]=Ct,nt.setNode(Ct.id,Ct),log$1.info("Org height: "+Ct.height)}F.db.getRelations().forEach(function(Et){log$1.info("tjoho"+getGraphId(Et.id1)+getGraphId(Et.id2)+JSON.stringify(Et)),nt.setEdge(getGraphId(Et.id1),getGraphId(Et.id2),{relation:Et},Et.title||"DEFAULT")}),F.db.getNotes().forEach(function(Et){log$1.debug(`Adding note: ${JSON.stringify(Et)}`);const At=svgDraw$2.drawNote(tt,Et,Y,F);idCache$2[At.id]=At,nt.setNode(At.id,At),Et.class&&Et.class in st&&nt.setEdge(Et.id,getGraphId(Et.class),{relation:{id1:Et.id,id2:Et.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),layout(nt),nt.nodes().forEach(function(Et){Et!==void 0&&nt.node(Et)!==void 0&&(log$1.debug("Node "+Et+": "+JSON.stringify(nt.node(Et))),X.select("#"+(F.db.lookUpDomId(Et)||Et)).attr("transform","translate("+(nt.node(Et).x-nt.node(Et).width/2)+","+(nt.node(Et).y-nt.node(Et).height/2)+" )"))}),nt.edges().forEach(function(Et){Et!==void 0&&nt.edge(Et)!==void 0&&(log$1.debug("Edge "+Et.v+" -> "+Et.w+": "+JSON.stringify(nt.edge(Et))),svgDraw$2.drawEdge(tt,nt.edge(Et),nt.edge(Et).relation,Y,F))});const bt=tt.node().getBBox(),wt=bt.width+padding*2,mt=bt.height+padding*2;configureSvgSize(tt,mt,wt,Y.useMaxWidth);const _t=`${bt.x-padding} ${bt.y-padding} ${wt} ${mt}`;log$1.debug(`viewBox ${_t}`),tt.attr("viewBox",_t)},classRenderer={draw:draw$d},insertMarkers$2=(D,O,z,F)=>{O.forEach(Y=>{markers$1[Y](D,z,F)})},extension=(D,O,z)=>{log$1.trace("Making markers for ",z),D.append("defs").append("marker").attr("id",O+"-extensionStart").attr("class","marker extension "+O).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),D.append("defs").append("marker").attr("id",O+"-extensionEnd").attr("class","marker extension "+O).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition=(D,O)=>{D.append("defs").append("marker").attr("id",O+"-compositionStart").attr("class","marker composition "+O).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id",O+"-compositionEnd").attr("class","marker composition "+O).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation=(D,O)=>{D.append("defs").append("marker").attr("id",O+"-aggregationStart").attr("class","marker aggregation "+O).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id",O+"-aggregationEnd").attr("class","marker aggregation "+O).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency=(D,O)=>{D.append("defs").append("marker").attr("id",O+"-dependencyStart").attr("class","marker dependency "+O).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),D.append("defs").append("marker").attr("id",O+"-dependencyEnd").attr("class","marker dependency "+O).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop=(D,O)=>{D.append("defs").append("marker").attr("id",O+"-lollipopStart").attr("class","marker lollipop "+O).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point=(D,O)=>{D.append("marker").attr("id",O+"-pointEnd").attr("class","marker "+O).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),D.append("marker").attr("id",O+"-pointStart").attr("class","marker "+O).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle$1=(D,O)=>{D.append("marker").attr("id",O+"-circleEnd").attr("class","marker "+O).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),D.append("marker").attr("id",O+"-circleStart").attr("class","marker "+O).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross=(D,O)=>{D.append("marker").attr("id",O+"-crossEnd").attr("class","marker cross "+O).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),D.append("marker").attr("id",O+"-crossStart").attr("class","marker cross "+O).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb=(D,O)=>{D.append("defs").append("marker").attr("id",O+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},markers$1={extension,composition,aggregation,dependency,lollipop,point,circle:circle$1,cross,barb},insertMarkers$3=insertMarkers$2;function applyStyle(D,O){O&&D.attr("style",O)}function addHtmlLabel(D){const O=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),z=O.append("xhtml:div"),F=D.label,Y=D.isNode?"nodeLabel":"edgeLabel";return z.html('<span class="'+Y+'" '+(D.labelStyle?'style="'+D.labelStyle+'"':"")+">"+F+"</span>"),applyStyle(z,D.labelStyle),z.style("display","inline-block"),z.style("white-space","nowrap"),z.attr("xmlns","http://www.w3.org/1999/xhtml"),O.node()}const createLabel=(D,O,z,F)=>{let Y=D||"";if(typeof Y=="object"&&(Y=Y[0]),evaluate(getConfig$1().flowchart.htmlLabels)){Y=Y.replace(/\\n|\n/g,"<br />"),log$1.info("vertexText"+Y);const W={isNode:F,label:decodeEntities(Y).replace(/fa[blrs]?:fa-[\w-]+/g,X=>`<i class='${X.replace(":"," ")}'></i>`),labelStyle:O.replace("fill:","color:")};return addHtmlLabel(W)}else{const W=document.createElementNS("http://www.w3.org/2000/svg","text");W.setAttribute("style",O.replace("color:","fill:"));let q=[];typeof Y=="string"?q=Y.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(Y)?q=Y:q=[];for(const X of q){const tt=document.createElementNS("http://www.w3.org/2000/svg","tspan");tt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),tt.setAttribute("dy","1em"),tt.setAttribute("x","0"),z?tt.setAttribute("class","title-row"):tt.setAttribute("class","row"),tt.textContent=X.trim(),W.appendChild(tt)}return W}},createLabel$1=createLabel,labelHelper=(D,O,z,F)=>{let Y;z?Y=z:Y="node default";const W=D.insert("g").attr("class",Y).attr("id",O.domId||O.id),q=W.insert("g").attr("class","label").attr("style",O.labelStyle);let X;O.labelText===void 0?X="":X=typeof O.labelText=="string"?O.labelText:O.labelText[0];const tt=q.node().appendChild(createLabel$1(sanitizeText$5(decodeEntities(X),getConfig$1()),O.labelStyle,!1,F));let nt=tt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const ct=tt.children[0],lt=select(tt);nt=ct.getBoundingClientRect(),lt.attr("width",nt.width),lt.attr("height",nt.height)}const st=O.padding/2;return q.attr("transform","translate("+-nt.width/2+", "+-nt.height/2+")"),{shapeSvg:W,bbox:nt,halfPadding:st,label:q}},updateNodeBounds=(D,O)=>{const z=O.node().getBBox();D.width=z.width,D.height=z.height};function insertPolygonShape$1(D,O,z,F){return D.insert("polygon",":first-child").attr("points",F.map(function(Y){return Y.x+","+Y.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-O/2+","+z/2+")")}let clusterDb={},descendants={},parents={};const clear$b=()=>{descendants={},parents={},clusterDb={}},isDescendant=(D,O)=>(log$1.trace("In isDecendant",O," ",D," = ",descendants[O].includes(D)),!!descendants[O].includes(D)),edgeInCluster=(D,O)=>(log$1.info("Decendants of ",O," is ",descendants[O]),log$1.info("Edge is ",D),D.v===O||D.w===O?!1:descendants[O]?descendants[O].includes(D.v)||isDescendant(D.v,O)||isDescendant(D.w,O)||descendants[O].includes(D.w):(log$1.debug("Tilt, ",O,",not in decendants"),!1)),copy=(D,O,z,F)=>{log$1.warn("Copying children of ",D,"root",F,"data",O.node(D),F);const Y=O.children(D)||[];D!==F&&Y.push(D),log$1.warn("Copying (nodes) clusterId",D,"nodes",Y),Y.forEach(W=>{if(O.children(W).length>0)copy(W,O,z,F);else{const q=O.node(W);log$1.info("cp ",W," to ",F," with parent ",D),z.setNode(W,q),F!==O.parent(W)&&(log$1.warn("Setting parent",W,O.parent(W)),z.setParent(W,O.parent(W))),D!==F&&W!==D?(log$1.debug("Setting parent",W,D),z.setParent(W,D)):(log$1.info("In copy ",D,"root",F,"data",O.node(D),F),log$1.debug("Not Setting parent for node=",W,"cluster!==rootId",D!==F,"node!==clusterId",W!==D));const X=O.edges(W);log$1.debug("Copying Edges",X),X.forEach(tt=>{log$1.info("Edge",tt);const nt=O.edge(tt.v,tt.w,tt.name);log$1.info("Edge data",nt,F);try{edgeInCluster(tt,F)?(log$1.info("Copying as ",tt.v,tt.w,nt,tt.name),z.setEdge(tt.v,tt.w,nt,tt.name),log$1.info("newGraph edges ",z.edges(),z.edge(z.edges()[0]))):log$1.info("Skipping copy of edge ",tt.v,"-->",tt.w," rootId: ",F," clusterId:",D)}catch(st){log$1.error(st)}})}log$1.debug("Removing node",W),O.removeNode(W)})},extractDescendants=(D,O)=>{const z=O.children(D);let F=[...z];for(const Y of z)parents[Y]=D,F=[...F,...extractDescendants(Y,O)];return F},findNonClusterChild=(D,O)=>{log$1.trace("Searching",D);const z=O.children(D);if(log$1.trace("Searching children of id ",D,z),z.length<1)return log$1.trace("This is a valid node",D),D;for(const F of z){const Y=findNonClusterChild(F,O);if(Y)return log$1.trace("Found replacement for",D," => ",Y),Y}},getAnchorId=D=>!clusterDb[D]||!clusterDb[D].externalConnections?D:clusterDb[D]?clusterDb[D].id:D,adjustClustersAndEdges=(D,O)=>{if(!D||O>10){log$1.debug("Opting out, no graph ");return}else log$1.debug("Opting in, graph ");D.nodes().forEach(function(z){D.children(z).length>0&&(log$1.warn("Cluster identified",z," Replacement id in edges: ",findNonClusterChild(z,D)),descendants[z]=extractDescendants(z,D),clusterDb[z]={id:findNonClusterChild(z,D),clusterData:D.node(z)})}),D.nodes().forEach(function(z){const F=D.children(z),Y=D.edges();F.length>0?(log$1.debug("Cluster identified",z,descendants),Y.forEach(W=>{if(W.v!==z&&W.w!==z){const q=isDescendant(W.v,z),X=isDescendant(W.w,z);q^X&&(log$1.warn("Edge: ",W," leaves cluster ",z),log$1.warn("Decendants of XXX ",z,": ",descendants[z]),clusterDb[z].externalConnections=!0)}})):log$1.debug("Not a cluster ",z,descendants)}),D.edges().forEach(function(z){const F=D.edge(z);log$1.warn("Edge "+z.v+" -> "+z.w+": "+JSON.stringify(z)),log$1.warn("Edge "+z.v+" -> "+z.w+": "+JSON.stringify(D.edge(z)));let Y=z.v,W=z.w;if(log$1.warn("Fix XXX",clusterDb,"ids:",z.v,z.w,"Translating: ",clusterDb[z.v]," --- ",clusterDb[z.w]),clusterDb[z.v]&&clusterDb[z.w]&&clusterDb[z.v]===clusterDb[z.w]){log$1.warn("Fixing and trixing link to self - removing XXX",z.v,z.w,z.name),log$1.warn("Fixing and trixing - removing XXX",z.v,z.w,z.name),Y=getAnchorId(z.v),W=getAnchorId(z.w),D.removeEdge(z.v,z.w,z.name);const q=z.w+"---"+z.v;D.setNode(q,{domId:q,id:q,labelStyle:"",labelText:F.label,padding:0,shape:"labelRect",style:""});const X=JSON.parse(JSON.stringify(F)),tt=JSON.parse(JSON.stringify(F));X.label="",X.arrowTypeEnd="none",tt.label="",X.fromCluster=z.v,tt.toCluster=z.v,D.setEdge(Y,q,X,z.name+"-cyclic-special"),D.setEdge(q,W,tt,z.name+"-cyclic-special")}else(clusterDb[z.v]||clusterDb[z.w])&&(log$1.warn("Fixing and trixing - removing XXX",z.v,z.w,z.name),Y=getAnchorId(z.v),W=getAnchorId(z.w),D.removeEdge(z.v,z.w,z.name),Y!==z.v&&(F.fromCluster=z.v),W!==z.w&&(F.toCluster=z.w),log$1.warn("Fix Replacing with XXX",Y,W,z.name),D.setEdge(Y,W,F,z.name))}),log$1.warn("Adjusted Graph",write(D)),extractor(D,0),log$1.trace(clusterDb)},extractor=(D,O)=>{if(log$1.warn("extractor - ",O,write(D),D.children("D")),O>10){log$1.error("Bailing out");return}let z=D.nodes(),F=!1;for(const Y of z){const W=D.children(Y);F=F||W.length>0}if(!F){log$1.debug("Done, no node has children",D.nodes());return}log$1.debug("Nodes = ",z,O);for(const Y of z)if(log$1.debug("Extracting node",Y,clusterDb,clusterDb[Y]&&!clusterDb[Y].externalConnections,!D.parent(Y),D.node(Y),D.children("D")," Depth ",O),!clusterDb[Y])log$1.debug("Not a cluster",Y,O);else if(!clusterDb[Y].externalConnections&&D.children(Y)&&D.children(Y).length>0){log$1.warn("Cluster without external connections, without a parent and with children",Y,O);let q=D.graph().rankdir==="TB"?"LR":"TB";clusterDb[Y]&&clusterDb[Y].clusterData&&clusterDb[Y].clusterData.dir&&(q=clusterDb[Y].clusterData.dir,log$1.warn("Fixing dir",clusterDb[Y].clusterData.dir,q));const X=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:q,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});log$1.warn("Old graph before copy",write(D)),copy(Y,D,X,Y),D.setNode(Y,{clusterNode:!0,id:Y,clusterData:clusterDb[Y].clusterData,labelText:clusterDb[Y].labelText,graph:X}),log$1.warn("New graph after copy node: (",Y,")",write(X)),log$1.debug("Old graph after copy",write(D))}else log$1.warn("Cluster ** ",Y," **not meeting the criteria !externalConnections:",!clusterDb[Y].externalConnections," no parent: ",!D.parent(Y)," children ",D.children(Y)&&D.children(Y).length>0,D.children("D"),O),log$1.debug(clusterDb);z=D.nodes(),log$1.warn("New list of nodes",z);for(const Y of z){const W=D.node(Y);log$1.warn(" Now next level",Y,W),W.clusterNode&&extractor(W.graph,O+1)}},sorter=(D,O)=>{if(O.length===0)return[];let z=Object.assign(O);return O.forEach(F=>{const Y=D.children(F),W=sorter(D,Y);z=[...z,...W]}),z},sortNodesByHierarchy=D=>sorter(D,D.children());function intersectNode(D,O){return D.intersect(O)}function intersectEllipse(D,O,z,F){var Y=D.x,W=D.y,q=Y-F.x,X=W-F.y,tt=Math.sqrt(O*O*X*X+z*z*q*q),nt=Math.abs(O*z*q/tt);F.x<Y&&(nt=-nt);var st=Math.abs(O*z*X/tt);return F.y<W&&(st=-st),{x:Y+nt,y:W+st}}function intersectCircle(D,O,z){return intersectEllipse(D,O,O,z)}function intersectLine(D,O,z,F){var Y,W,q,X,tt,nt,st,ct,lt,ht,bt,wt,mt,_t,Et;if(Y=O.y-D.y,q=D.x-O.x,tt=O.x*D.y-D.x*O.y,lt=Y*z.x+q*z.y+tt,ht=Y*F.x+q*F.y+tt,!(lt!==0&&ht!==0&&sameSign(lt,ht))&&(W=F.y-z.y,X=z.x-F.x,nt=F.x*z.y-z.x*F.y,st=W*D.x+X*D.y+nt,ct=W*O.x+X*O.y+nt,!(st!==0&&ct!==0&&sameSign(st,ct))&&(bt=Y*X-W*q,bt!==0)))return wt=Math.abs(bt/2),mt=q*nt-X*tt,_t=mt<0?(mt-wt)/bt:(mt+wt)/bt,mt=W*tt-Y*nt,Et=mt<0?(mt-wt)/bt:(mt+wt)/bt,{x:_t,y:Et}}function sameSign(D,O){return D*O>0}function intersectPolygon(D,O,z){var F=D.x,Y=D.y,W=[],q=Number.POSITIVE_INFINITY,X=Number.POSITIVE_INFINITY;typeof O.forEach=="function"?O.forEach(function(bt){q=Math.min(q,bt.x),X=Math.min(X,bt.y)}):(q=Math.min(q,O.x),X=Math.min(X,O.y));for(var tt=F-D.width/2-q,nt=Y-D.height/2-X,st=0;st<O.length;st++){var ct=O[st],lt=O[st<O.length-1?st+1:0],ht=intersectLine(D,z,{x:tt+ct.x,y:nt+ct.y},{x:tt+lt.x,y:nt+lt.y});ht&&W.push(ht)}return W.length?(W.length>1&&W.sort(function(bt,wt){var mt=bt.x-z.x,_t=bt.y-z.y,Et=Math.sqrt(mt*mt+_t*_t),At=wt.x-z.x,Ct=wt.y-z.y,Ft=Math.sqrt(At*At+Ct*Ct);return Et<Ft?-1:Et===Ft?0:1}),W[0]):D}const intersectRect=(D,O)=>{var z=D.x,F=D.y,Y=O.x-z,W=O.y-F,q=D.width/2,X=D.height/2,tt,nt;return Math.abs(W)*q>Math.abs(Y)*X?(W<0&&(X=-X),tt=W===0?0:X*Y/W,nt=X):(Y<0&&(q=-q),tt=q,nt=Y===0?0:q*W/Y),{x:z+tt,y:F+nt}},intersectRect$1=intersectRect,intersect={node:intersectNode,circle:intersectCircle,ellipse:intersectEllipse,polygon:intersectPolygon,rect:intersectRect$1},note=(D,O)=>{const{shapeSvg:z,bbox:F,halfPadding:Y}=labelHelper(D,O,"node "+O.classes,!0);log$1.info("Classes = ",O.classes);const W=z.insert("rect",":first-child");return W.attr("rx",O.rx).attr("ry",O.ry).attr("x",-F.width/2-Y).attr("y",-F.height/2-Y).attr("width",F.width+O.padding).attr("height",F.height+O.padding),updateNodeBounds(O,W),O.intersect=function(q){return intersect.rect(O,q)},z},note$1=note,question$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=Y+W,X=[{x:q/2,y:0},{x:q,y:-q/2},{x:q/2,y:-q},{x:0,y:-q/2}];log$1.info("Question main (Circle)");const tt=insertPolygonShape$1(z,q,q,X);return tt.attr("style",O.style),updateNodeBounds(O,tt),O.intersect=function(nt){return log$1.warn("Intersect called"),intersect.polygon(O,X,nt)},z},choice=(D,O)=>{const z=D.insert("g").attr("class","node default").attr("id",O.domId||O.id),F=28,Y=[{x:0,y:F/2},{x:F/2,y:0},{x:0,y:-F/2},{x:-F/2,y:0}];return z.insert("polygon",":first-child").attr("points",Y.map(function(q){return q.x+","+q.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),O.width=28,O.height=28,O.intersect=function(q){return intersect.circle(O,14,q)},z},hexagon$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=4,W=F.height+O.padding,q=W/Y,X=F.width+2*q+O.padding,tt=[{x:q,y:0},{x:X-q,y:0},{x:X,y:-W/2},{x:X-q,y:-W},{x:q,y:-W},{x:0,y:-W/2}],nt=insertPolygonShape$1(z,X,W,tt);return nt.attr("style",O.style),updateNodeBounds(O,nt),O.intersect=function(st){return intersect.polygon(O,tt,st)},z},rect_left_inv_arrow$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:-W/2,y:0},{x:Y,y:0},{x:Y,y:-W},{x:-W/2,y:-W},{x:0,y:-W/2}];return insertPolygonShape$1(z,Y,W,q).attr("style",O.style),O.width=Y+W,O.height=W,O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},lean_right$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:-2*W/6,y:0},{x:Y-W/6,y:0},{x:Y+2*W/6,y:-W},{x:W/6,y:-W}],X=insertPolygonShape$1(z,Y,W,q);return X.attr("style",O.style),updateNodeBounds(O,X),O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},lean_left$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:2*W/6,y:0},{x:Y+W/6,y:0},{x:Y-2*W/6,y:-W},{x:-W/6,y:-W}],X=insertPolygonShape$1(z,Y,W,q);return X.attr("style",O.style),updateNodeBounds(O,X),O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},trapezoid$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:-2*W/6,y:0},{x:Y+2*W/6,y:0},{x:Y-W/6,y:-W},{x:W/6,y:-W}],X=insertPolygonShape$1(z,Y,W,q);return X.attr("style",O.style),updateNodeBounds(O,X),O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},inv_trapezoid$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:W/6,y:0},{x:Y-W/6,y:0},{x:Y+2*W/6,y:-W},{x:-2*W/6,y:-W}],X=insertPolygonShape$1(z,Y,W,q);return X.attr("style",O.style),updateNodeBounds(O,X),O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},rect_right_inv_arrow$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:0,y:0},{x:Y+W/2,y:0},{x:Y,y:-W/2},{x:Y+W/2,y:-W},{x:0,y:-W}],X=insertPolygonShape$1(z,Y,W,q);return X.attr("style",O.style),updateNodeBounds(O,X),O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},cylinder$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=Y/2,q=W/(2.5+Y/50),X=F.height+q+O.padding,tt="M 0,"+q+" a "+W+","+q+" 0,0,0 "+Y+" 0 a "+W+","+q+" 0,0,0 "+-Y+" 0 l 0,"+X+" a "+W+","+q+" 0,0,0 "+Y+" 0 l 0,"+-X,nt=z.attr("label-offset-y",q).insert("path",":first-child").attr("style",O.style).attr("d",tt).attr("transform","translate("+-Y/2+","+-(X/2+q)+")");return updateNodeBounds(O,nt),O.intersect=function(st){const ct=intersect.rect(O,st),lt=ct.x-O.x;if(W!=0&&(Math.abs(lt)<O.width/2||Math.abs(lt)==O.width/2&&Math.abs(ct.y-O.y)>O.height/2-q)){let ht=q*q*(1-lt*lt/(W*W));ht!=0&&(ht=Math.sqrt(ht)),ht=q-ht,st.y-O.y>0&&(ht=-ht),ct.y+=ht}return ct},z},rect$1=(D,O)=>{const{shapeSvg:z,bbox:F,halfPadding:Y}=labelHelper(D,O,"node "+O.classes,!0);log$1.trace("Classes = ",O.classes);const W=z.insert("rect",":first-child"),q=F.width+O.padding,X=F.height+O.padding;if(W.attr("class","basic label-container").attr("style",O.style).attr("rx",O.rx).attr("ry",O.ry).attr("x",-F.width/2-Y).attr("y",-F.height/2-Y).attr("width",q).attr("height",X),O.props){const tt=new Set(Object.keys(O.props));O.props.borders&&(applyNodePropertyBorders(W,O.props.borders,q,X),tt.delete("borders")),tt.forEach(nt=>{log$1.warn(`Unknown node property ${nt}`)})}return updateNodeBounds(O,W),O.intersect=function(tt){return intersect.rect(O,tt)},z},labelRect=(D,O)=>{const{shapeSvg:z}=labelHelper(D,O,"label",!0);log$1.trace("Classes = ",O.classes);const F=z.insert("rect",":first-child"),Y=0,W=0;if(F.attr("width",Y).attr("height",W),z.attr("class","label edgeLabel"),O.props){const q=new Set(Object.keys(O.props));O.props.borders&&(applyNodePropertyBorders(F,O.props.borders,Y,W),q.delete("borders")),q.forEach(X=>{log$1.warn(`Unknown node property ${X}`)})}return updateNodeBounds(O,F),O.intersect=function(q){return intersect.rect(O,q)},z};function applyNodePropertyBorders(D,O,z,F){const Y=[],W=X=>{Y.push(X,0)},q=X=>{Y.push(0,X)};O.includes("t")?(log$1.debug("add top border"),W(z)):q(z),O.includes("r")?(log$1.debug("add right border"),W(F)):q(F),O.includes("b")?(log$1.debug("add bottom border"),W(z)):q(z),O.includes("l")?(log$1.debug("add left border"),W(F)):q(F),D.attr("stroke-dasharray",Y.join(" "))}const rectWithTitle=(D,O)=>{let z;O.classes?z="node "+O.classes:z="node default";const F=D.insert("g").attr("class",z).attr("id",O.domId||O.id),Y=F.insert("rect",":first-child"),W=F.insert("line"),q=F.insert("g").attr("class","label"),X=O.labelText.flat?O.labelText.flat():O.labelText;let tt="";typeof X=="object"?tt=X[0]:tt=X,log$1.info("Label text abc79",tt,X,typeof X=="object");const nt=q.node().appendChild(createLabel$1(tt,O.labelStyle,!0,!0));let st={width:0,height:0};if(evaluate(getConfig$1().flowchart.htmlLabels)){const wt=nt.children[0],mt=select(nt);st=wt.getBoundingClientRect(),mt.attr("width",st.width),mt.attr("height",st.height)}log$1.info("Text 2",X);const ct=X.slice(1,X.length);let lt=nt.getBBox();const ht=q.node().appendChild(createLabel$1(ct.join?ct.join("<br/>"):ct,O.labelStyle,!0,!0));if(evaluate(getConfig$1().flowchart.htmlLabels)){const wt=ht.children[0],mt=select(ht);st=wt.getBoundingClientRect(),mt.attr("width",st.width),mt.attr("height",st.height)}const bt=O.padding/2;return select(ht).attr("transform","translate( "+(st.width>lt.width?0:(lt.width-st.width)/2)+", "+(lt.height+bt+5)+")"),select(nt).attr("transform","translate( "+(st.width<lt.width?0:-(lt.width-st.width)/2)+", 0)"),st=q.node().getBBox(),q.attr("transform","translate("+-st.width/2+", "+(-st.height/2-bt+3)+")"),Y.attr("class","outer title-state").attr("x",-st.width/2-bt).attr("y",-st.height/2-bt).attr("width",st.width+O.padding).attr("height",st.height+O.padding),W.attr("class","divider").attr("x1",-st.width/2-bt).attr("x2",st.width/2+bt).attr("y1",-st.height/2-bt+lt.height+bt).attr("y2",-st.height/2-bt+lt.height+bt),updateNodeBounds(O,Y),O.intersect=function(wt){return intersect.rect(O,wt)},F},stadium$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.height+O.padding,W=F.width+Y/4+O.padding,q=z.insert("rect",":first-child").attr("style",O.style).attr("rx",Y/2).attr("ry",Y/2).attr("x",-W/2).attr("y",-Y/2).attr("width",W).attr("height",Y);return updateNodeBounds(O,q),O.intersect=function(X){return intersect.rect(O,X)},z},circle=(D,O)=>{const{shapeSvg:z,bbox:F,halfPadding:Y}=labelHelper(D,O,void 0,!0),W=z.insert("circle",":first-child");return W.attr("style",O.style).attr("rx",O.rx).attr("ry",O.ry).attr("r",F.width/2+Y).attr("width",F.width+O.padding).attr("height",F.height+O.padding),log$1.info("Circle main"),updateNodeBounds(O,W),O.intersect=function(q){return log$1.info("Circle intersect",O,F.width/2+Y,q),intersect.circle(O,F.width/2+Y,q)},z},doublecircle=(D,O)=>{const{shapeSvg:z,bbox:F,halfPadding:Y}=labelHelper(D,O,void 0,!0),W=5,q=z.insert("g",":first-child"),X=q.insert("circle"),tt=q.insert("circle");return X.attr("style",O.style).attr("rx",O.rx).attr("ry",O.ry).attr("r",F.width/2+Y+W).attr("width",F.width+O.padding+W*2).attr("height",F.height+O.padding+W*2),tt.attr("style",O.style).attr("rx",O.rx).attr("ry",O.ry).attr("r",F.width/2+Y).attr("width",F.width+O.padding).attr("height",F.height+O.padding),log$1.info("DoubleCircle main"),updateNodeBounds(O,X),O.intersect=function(nt){return log$1.info("DoubleCircle intersect",O,F.width/2+Y+W,nt),intersect.circle(O,F.width/2+Y+W,nt)},z},subroutine$1=(D,O)=>{const{shapeSvg:z,bbox:F}=labelHelper(D,O,void 0,!0),Y=F.width+O.padding,W=F.height+O.padding,q=[{x:0,y:0},{x:Y,y:0},{x:Y,y:-W},{x:0,y:-W},{x:0,y:0},{x:-8,y:0},{x:Y+8,y:0},{x:Y+8,y:-W},{x:-8,y:-W},{x:-8,y:0}],X=insertPolygonShape$1(z,Y,W,q);return X.attr("style",O.style),updateNodeBounds(O,X),O.intersect=function(tt){return intersect.polygon(O,q,tt)},z},start=(D,O)=>{const z=D.insert("g").attr("class","node default").attr("id",O.domId||O.id),F=z.insert("circle",":first-child");return F.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),updateNodeBounds(O,F),O.intersect=function(Y){return intersect.circle(O,7,Y)},z},forkJoin=(D,O,z)=>{const F=D.insert("g").attr("class","node default").attr("id",O.domId||O.id);let Y=70,W=10;z==="LR"&&(Y=10,W=70);const q=F.append("rect").attr("x",-1*Y/2).attr("y",-1*W/2).attr("width",Y).attr("height",W).attr("class","fork-join");return updateNodeBounds(O,q),O.height=O.height+O.padding/2,O.width=O.width+O.padding/2,O.intersect=function(X){return intersect.rect(O,X)},F},end=(D,O)=>{const z=D.insert("g").attr("class","node default").attr("id",O.domId||O.id),F=z.insert("circle",":first-child"),Y=z.insert("circle",":first-child");return Y.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),F.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),updateNodeBounds(O,Y),O.intersect=function(W){return intersect.circle(O,7,W)},z},class_box=(D,O)=>{const z=O.padding/2,F=4,Y=8;let W;O.classes?W="node "+O.classes:W="node default";const q=D.insert("g").attr("class",W).attr("id",O.domId||O.id),X=q.insert("rect",":first-child"),tt=q.insert("line"),nt=q.insert("line");let st=0,ct=F;const lt=q.insert("g").attr("class","label");let ht=0;const bt=O.classData.annotations&&O.classData.annotations[0],wt=O.classData.annotations[0]?""+O.classData.annotations[0]+"":"",mt=lt.node().appendChild(createLabel$1(wt,O.labelStyle,!0,!0));let _t=mt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Ht=mt.children[0],qt=select(mt);_t=Ht.getBoundingClientRect(),qt.attr("width",_t.width),qt.attr("height",_t.height)}O.classData.annotations[0]&&(ct+=_t.height+F,st+=_t.width);let Et=O.classData.id;O.classData.type!==void 0&&O.classData.type!==""&&(getConfig$1().flowchart.htmlLabels?Et+="&lt;"+O.classData.type+"&gt;":Et+="<"+O.classData.type+">");const At=lt.node().appendChild(createLabel$1(Et,O.labelStyle,!0,!0));select(At).attr("class","classTitle");let Ct=At.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Ht=At.children[0],qt=select(At);Ct=Ht.getBoundingClientRect(),qt.attr("width",Ct.width),qt.attr("height",Ct.height)}ct+=Ct.height+F,Ct.width>st&&(st=Ct.width);const Ft=[];O.classData.members.forEach(Ht=>{const qt=parseMember(Ht);let te=qt.displayText;getConfig$1().flowchart.htmlLabels&&(te=te.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Xt=lt.node().appendChild(createLabel$1(te,qt.cssStyle?qt.cssStyle:O.labelStyle,!0,!0));let Dt=Xt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Qt=Xt.children[0],Nt=select(Xt);Dt=Qt.getBoundingClientRect(),Nt.attr("width",Dt.width),Nt.attr("height",Dt.height)}Dt.width>st&&(st=Dt.width),ct+=Dt.height+F,Ft.push(Xt)}),ct+=Y;const Lt=[];if(O.classData.methods.forEach(Ht=>{const qt=parseMember(Ht);let te=qt.displayText;getConfig$1().flowchart.htmlLabels&&(te=te.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Xt=lt.node().appendChild(createLabel$1(te,qt.cssStyle?qt.cssStyle:O.labelStyle,!0,!0));let Dt=Xt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Qt=Xt.children[0],Nt=select(Xt);Dt=Qt.getBoundingClientRect(),Nt.attr("width",Dt.width),Nt.attr("height",Dt.height)}Dt.width>st&&(st=Dt.width),ct+=Dt.height+F,Lt.push(Xt)}),ct+=Y,bt){let Ht=(st-_t.width)/2;select(mt).attr("transform","translate( "+(-1*st/2+Ht)+", "+-1*ct/2+")"),ht=_t.height+F}let Yt=(st-Ct.width)/2;return select(At).attr("transform","translate( "+(-1*st/2+Yt)+", "+(-1*ct/2+ht)+")"),ht+=Ct.height+F,tt.attr("class","divider").attr("x1",-st/2-z).attr("x2",st/2+z).attr("y1",-ct/2-z+Y+ht).attr("y2",-ct/2-z+Y+ht),ht+=Y,Ft.forEach(Ht=>{select(Ht).attr("transform","translate( "+-st/2+", "+(-1*ct/2+ht+Y/2)+")"),ht+=Ct.height+F}),ht+=Y,nt.attr("class","divider").attr("x1",-st/2-z).attr("x2",st/2+z).attr("y1",-ct/2-z+Y+ht).attr("y2",-ct/2-z+Y+ht),ht+=Y,Lt.forEach(Ht=>{select(Ht).attr("transform","translate( "+-st/2+", "+(-1*ct/2+ht)+")"),ht+=Ct.height+F}),X.attr("class","outer title-state").attr("x",-st/2-z).attr("y",-(ct/2)-z).attr("width",st+O.padding).attr("height",ct+O.padding),updateNodeBounds(O,X),O.intersect=function(Ht){return intersect.rect(O,Ht)},q},shapes$1={rhombus:question$1,question:question$1,rect:rect$1,labelRect,rectWithTitle,choice,circle,doublecircle,stadium:stadium$1,hexagon:hexagon$1,rect_left_inv_arrow:rect_left_inv_arrow$1,lean_right:lean_right$1,lean_left:lean_left$1,trapezoid:trapezoid$1,inv_trapezoid:inv_trapezoid$1,rect_right_inv_arrow:rect_right_inv_arrow$1,cylinder:cylinder$1,start,end,note:note$1,subroutine:subroutine$1,fork:forkJoin,join:forkJoin,class_box};let nodeElems={};const insertNode=(D,O,z)=>{let F,Y;if(O.link){let W;getConfig$1().securityLevel==="sandbox"?W="_top":O.linkTarget&&(W=O.linkTarget||"_blank"),F=D.insert("svg:a").attr("xlink:href",O.link).attr("target",W),Y=shapes$1[O.shape](F,O,z)}else Y=shapes$1[O.shape](D,O,z),F=Y;return O.tooltip&&Y.attr("title",O.tooltip),O.class&&Y.attr("class","node default "+O.class),nodeElems[O.id]=F,O.haveCallback&&nodeElems[O.id].attr("class",nodeElems[O.id].attr("class")+" clickable"),F},setNodeElem=(D,O)=>{nodeElems[O.id]=D},clear$a=()=>{nodeElems={}},positionNode=D=>{const O=nodeElems[D.id];log$1.trace("Transforming node",D.diff,D,"translate("+(D.x-D.width/2-5)+", "+D.width/2+")");const z=8,F=D.diff||0;return D.clusterNode?O.attr("transform","translate("+(D.x+F-D.width/2)+", "+(D.y-D.height/2-z)+")"):O.attr("transform","translate("+D.x+", "+D.y+")"),F},rect=(D,O)=>{log$1.trace("Creating subgraph rect for ",O.id,O);const z=D.insert("g").attr("class","cluster"+(O.class?" "+O.class:"")).attr("id",O.id),F=z.insert("rect",":first-child"),Y=z.insert("g").attr("class","cluster-label"),W=Y.node().appendChild(createLabel$1(O.labelText,O.labelStyle,void 0,!0));let q=W.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const ct=W.children[0],lt=select(W);q=ct.getBoundingClientRect(),lt.attr("width",q.width),lt.attr("height",q.height)}const X=0*O.padding,tt=X/2,nt=O.width<=q.width+X?q.width+X:O.width;O.width<=q.width+X?O.diff=(q.width-O.width)/2-O.padding/2:O.diff=-O.padding/2,log$1.trace("Data ",O,JSON.stringify(O)),F.attr("style",O.style).attr("rx",O.rx).attr("ry",O.ry).attr("x",O.x-nt/2).attr("y",O.y-O.height/2-tt).attr("width",nt).attr("height",O.height+X),Y.attr("transform","translate("+(O.x-q.width/2)+", "+(O.y-O.height/2)+")");const st=F.node().getBBox();return O.width=st.width,O.height=st.height,O.intersect=function(ct){return intersectRect$1(O,ct)},z},noteGroup=(D,O)=>{const z=D.insert("g").attr("class","note-cluster").attr("id",O.id),F=z.insert("rect",":first-child"),Y=0*O.padding,W=Y/2;F.attr("rx",O.rx).attr("ry",O.ry).attr("x",O.x-O.width/2-W).attr("y",O.y-O.height/2-W).attr("width",O.width+Y).attr("height",O.height+Y).attr("fill","none");const q=F.node().getBBox();return O.width=q.width,O.height=q.height,O.intersect=function(X){return intersectRect$1(O,X)},z},roundedWithTitle=(D,O)=>{const z=D.insert("g").attr("class",O.classes).attr("id",O.id),F=z.insert("rect",":first-child"),Y=z.insert("g").attr("class","cluster-label"),W=z.append("rect"),q=Y.node().appendChild(createLabel$1(O.labelText,O.labelStyle,void 0,!0));let X=q.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const lt=q.children[0],ht=select(q);X=lt.getBoundingClientRect(),ht.attr("width",X.width),ht.attr("height",X.height)}X=q.getBBox();const tt=0*O.padding,nt=tt/2,st=O.width<=X.width+O.padding?X.width+O.padding:O.width;O.width<=X.width+O.padding?O.diff=(X.width+O.padding*0-O.width)/2:O.diff=-O.padding/2,F.attr("class","outer").attr("x",O.x-st/2-nt).attr("y",O.y-O.height/2-nt).attr("width",st+tt).attr("height",O.height+tt),W.attr("class","inner").attr("x",O.x-st/2-nt).attr("y",O.y-O.height/2-nt+X.height-1).attr("width",st+tt).attr("height",O.height+tt-X.height-3),Y.attr("transform","translate("+(O.x-X.width/2)+", "+(O.y-O.height/2-O.padding/3+(evaluate(getConfig$1().flowchart.htmlLabels)?5:3))+")");const ct=F.node().getBBox();return O.height=ct.height,O.intersect=function(lt){return intersectRect$1(O,lt)},z},divider=(D,O)=>{const z=D.insert("g").attr("class",O.classes).attr("id",O.id),F=z.insert("rect",":first-child"),Y=0*O.padding,W=Y/2;F.attr("class","divider").attr("x",O.x-O.width/2-W).attr("y",O.y-O.height/2).attr("width",O.width+Y).attr("height",O.height+Y);const q=F.node().getBBox();return O.width=q.width,O.height=q.height,O.diff=-O.padding/2,O.intersect=function(X){return intersectRect$1(O,X)},z},shapes={rect,roundedWithTitle,noteGroup,divider};let clusterElems={};const insertCluster=(D,O)=>{log$1.trace("Inserting cluster");const z=O.shape||"rect";clusterElems[O.id]=shapes[z](D,O)},clear$9=()=>{clusterElems={}};let edgeLabels={},terminalLabels={};const clear$8=()=>{edgeLabels={},terminalLabels={}},insertEdgeLabel=(D,O)=>{const z=createLabel$1(O.label,O.labelStyle),F=D.insert("g").attr("class","edgeLabel"),Y=F.insert("g").attr("class","label");Y.node().appendChild(z);let W=z.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const X=z.children[0],tt=select(z);W=X.getBoundingClientRect(),tt.attr("width",W.width),tt.attr("height",W.height)}Y.attr("transform","translate("+-W.width/2+", "+-W.height/2+")"),edgeLabels[O.id]=F,O.width=W.width,O.height=W.height;let q;if(O.startLabelLeft){const X=createLabel$1(O.startLabelLeft,O.labelStyle),tt=D.insert("g").attr("class","edgeTerminals"),nt=tt.insert("g").attr("class","inner");q=nt.node().appendChild(X);const st=X.getBBox();nt.attr("transform","translate("+-st.width/2+", "+-st.height/2+")"),terminalLabels[O.id]||(terminalLabels[O.id]={}),terminalLabels[O.id].startLeft=tt,setTerminalWidth(q,O.startLabelLeft)}if(O.startLabelRight){const X=createLabel$1(O.startLabelRight,O.labelStyle),tt=D.insert("g").attr("class","edgeTerminals"),nt=tt.insert("g").attr("class","inner");q=tt.node().appendChild(X),nt.node().appendChild(X);const st=X.getBBox();nt.attr("transform","translate("+-st.width/2+", "+-st.height/2+")"),terminalLabels[O.id]||(terminalLabels[O.id]={}),terminalLabels[O.id].startRight=tt,setTerminalWidth(q,O.startLabelRight)}if(O.endLabelLeft){const X=createLabel$1(O.endLabelLeft,O.labelStyle),tt=D.insert("g").attr("class","edgeTerminals"),nt=tt.insert("g").attr("class","inner");q=nt.node().appendChild(X);const st=X.getBBox();nt.attr("transform","translate("+-st.width/2+", "+-st.height/2+")"),tt.node().appendChild(X),terminalLabels[O.id]||(terminalLabels[O.id]={}),terminalLabels[O.id].endLeft=tt,setTerminalWidth(q,O.endLabelLeft)}if(O.endLabelRight){const X=createLabel$1(O.endLabelRight,O.labelStyle),tt=D.insert("g").attr("class","edgeTerminals"),nt=tt.insert("g").attr("class","inner");q=nt.node().appendChild(X);const st=X.getBBox();nt.attr("transform","translate("+-st.width/2+", "+-st.height/2+")"),tt.node().appendChild(X),terminalLabels[O.id]||(terminalLabels[O.id]={}),terminalLabels[O.id].endRight=tt,setTerminalWidth(q,O.endLabelRight)}return z};function setTerminalWidth(D,O){getConfig$1().flowchart.htmlLabels&&D&&(D.style.width=O.length*9+"px",D.style.height="12px")}const positionEdgeLabel=(D,O)=>{log$1.info("Moving label abc78 ",D.id,D.label,edgeLabels[D.id]);let z=O.updatedPath?O.updatedPath:O.originalPath;if(D.label){const F=edgeLabels[D.id];let Y=D.x,W=D.y;if(z){const q=utils.calcLabelPosition(z);log$1.info("Moving label "+D.label+" from (",Y,",",W,") to (",q.x,",",q.y,") abc78"),O.updatedPath&&(Y=q.x,W=q.y)}F.attr("transform","translate("+Y+", "+W+")")}if(D.startLabelLeft){const F=terminalLabels[D.id].startLeft;let Y=D.x,W=D.y;if(z){const q=utils.calcTerminalLabelPosition(D.arrowTypeStart?10:0,"start_left",z);Y=q.x,W=q.y}F.attr("transform","translate("+Y+", "+W+")")}if(D.startLabelRight){const F=terminalLabels[D.id].startRight;let Y=D.x,W=D.y;if(z){const q=utils.calcTerminalLabelPosition(D.arrowTypeStart?10:0,"start_right",z);Y=q.x,W=q.y}F.attr("transform","translate("+Y+", "+W+")")}if(D.endLabelLeft){const F=terminalLabels[D.id].endLeft;let Y=D.x,W=D.y;if(z){const q=utils.calcTerminalLabelPosition(D.arrowTypeEnd?10:0,"end_left",z);Y=q.x,W=q.y}F.attr("transform","translate("+Y+", "+W+")")}if(D.endLabelRight){const F=terminalLabels[D.id].endRight;let Y=D.x,W=D.y;if(z){const q=utils.calcTerminalLabelPosition(D.arrowTypeEnd?10:0,"end_right",z);Y=q.x,W=q.y}F.attr("transform","translate("+Y+", "+W+")")}},outsideNode=(D,O)=>{const z=D.x,F=D.y,Y=Math.abs(O.x-z),W=Math.abs(O.y-F),q=D.width/2,X=D.height/2;return Y>=q||W>=X},intersection=(D,O,z)=>{log$1.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(O)}
  insidePoint : ${JSON.stringify(z)}
  node        : x:${D.x} y:${D.y} w:${D.width} h:${D.height}`);const F=D.x,Y=D.y,W=Math.abs(F-z.x),q=D.width/2;let X=z.x<O.x?q-W:q+W;const tt=D.height/2,nt=Math.abs(O.y-z.y),st=Math.abs(O.x-z.x);if(Math.abs(Y-O.y)*q>Math.abs(F-O.x)*tt){let ct=z.y<O.y?O.y-tt-Y:Y-tt-O.y;X=st*ct/nt;const lt={x:z.x<O.x?z.x+X:z.x-st+X,y:z.y<O.y?z.y+nt-ct:z.y-nt+ct};return X===0&&(lt.x=O.x,lt.y=O.y),st===0&&(lt.x=O.x),nt===0&&(lt.y=O.y),log$1.warn(`abc89 topp/bott calc, Q ${nt}, q ${ct}, R ${st}, r ${X}`,lt),lt}else{z.x<O.x?X=O.x-q-F:X=F-q-O.x;let ct=nt*X/st,lt=z.x<O.x?z.x+st-X:z.x-st+X,ht=z.y<O.y?z.y+ct:z.y-ct;return log$1.warn(`sides calc abc89, Q ${nt}, q ${ct}, R ${st}, r ${X}`,{_x:lt,_y:ht}),X===0&&(lt=O.x,ht=O.y),st===0&&(lt=O.x),nt===0&&(ht=O.y),{x:lt,y:ht}}},cutPathAtIntersect=(D,O)=>{log$1.warn("abc88 cutPathAtIntersect",D,O);let z=[],F=D[0],Y=!1;return D.forEach(W=>{if(log$1.info("abc88 checking point",W,O),!outsideNode(O,W)&&!Y){const q=intersection(O,F,W);log$1.warn("abc88 inside",W,F,q),log$1.warn("abc88 intersection",q);let X=!1;z.forEach(tt=>{X=X||tt.x===q.x&&tt.y===q.y}),z.some(tt=>tt.x===q.x&&tt.y===q.y)?log$1.warn("abc88 no intersect",q,z):z.push(q),Y=!0}else log$1.warn("abc88 outside",W,F),F=W,Y||z.push(W)}),log$1.warn("abc88 returning points",z),z},insertEdge=function(D,O,z,F,Y,W){let q=z.points,X=!1;const tt=W.node(O.v);var nt=W.node(O.w);log$1.info("abc88 InsertEdge: ",z),nt.intersect&&tt.intersect&&(q=q.slice(1,z.points.length-1),q.unshift(tt.intersect(q[0])),log$1.info("Last point",q[q.length-1],nt,nt.intersect(q[q.length-1])),q.push(nt.intersect(q[q.length-1]))),z.toCluster&&(log$1.info("to cluster abc88",F[z.toCluster]),q=cutPathAtIntersect(z.points,F[z.toCluster].node),X=!0),z.fromCluster&&(log$1.info("from cluster abc88",F[z.fromCluster]),q=cutPathAtIntersect(q.reverse(),F[z.fromCluster].node).reverse(),X=!0);const st=q.filter(_t=>!Number.isNaN(_t.y));let ct;Y==="graph"||Y==="flowchart"?ct=z.curve||curveBasis:ct=curveBasis;const lt=line$1().x(function(_t){return _t.x}).y(function(_t){return _t.y}).curve(ct);let ht;switch(z.thickness){case"normal":ht="edge-thickness-normal";break;case"thick":ht="edge-thickness-thick";break;default:ht=""}switch(z.pattern){case"solid":ht+=" edge-pattern-solid";break;case"dotted":ht+=" edge-pattern-dotted";break;case"dashed":ht+=" edge-pattern-dashed";break}const bt=D.append("path").attr("d",lt(st)).attr("id",z.id).attr("class"," "+ht+(z.classes?" "+z.classes:"")).attr("style",z.style);let wt="";switch((getConfig$1().flowchart.arrowMarkerAbsolute||getConfig$1().state.arrowMarkerAbsolute)&&(wt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,wt=wt.replace(/\(/g,"\\("),wt=wt.replace(/\)/g,"\\)")),log$1.info("arrowTypeStart",z.arrowTypeStart),log$1.info("arrowTypeEnd",z.arrowTypeEnd),z.arrowTypeStart){case"arrow_cross":bt.attr("marker-start","url("+wt+"#"+Y+"-crossStart)");break;case"arrow_point":bt.attr("marker-start","url("+wt+"#"+Y+"-pointStart)");break;case"arrow_barb":bt.attr("marker-start","url("+wt+"#"+Y+"-barbStart)");break;case"arrow_circle":bt.attr("marker-start","url("+wt+"#"+Y+"-circleStart)");break;case"aggregation":bt.attr("marker-start","url("+wt+"#"+Y+"-aggregationStart)");break;case"extension":bt.attr("marker-start","url("+wt+"#"+Y+"-extensionStart)");break;case"composition":bt.attr("marker-start","url("+wt+"#"+Y+"-compositionStart)");break;case"dependency":bt.attr("marker-start","url("+wt+"#"+Y+"-dependencyStart)");break;case"lollipop":bt.attr("marker-start","url("+wt+"#"+Y+"-lollipopStart)");break}switch(z.arrowTypeEnd){case"arrow_cross":bt.attr("marker-end","url("+wt+"#"+Y+"-crossEnd)");break;case"arrow_point":bt.attr("marker-end","url("+wt+"#"+Y+"-pointEnd)");break;case"arrow_barb":bt.attr("marker-end","url("+wt+"#"+Y+"-barbEnd)");break;case"arrow_circle":bt.attr("marker-end","url("+wt+"#"+Y+"-circleEnd)");break;case"aggregation":bt.attr("marker-end","url("+wt+"#"+Y+"-aggregationEnd)");break;case"extension":bt.attr("marker-end","url("+wt+"#"+Y+"-extensionEnd)");break;case"composition":bt.attr("marker-end","url("+wt+"#"+Y+"-compositionEnd)");break;case"dependency":bt.attr("marker-end","url("+wt+"#"+Y+"-dependencyEnd)");break;case"lollipop":bt.attr("marker-end","url("+wt+"#"+Y+"-lollipopEnd)");break}let mt={};return X&&(mt.updatedPath=q),mt.originalPath=z.points,mt},recursiveRender=(D,O,z,F)=>{log$1.info("Graph in recursive render: XXX",write(O),F);const Y=O.graph().rankdir;log$1.trace("Dir in recursive render - dir:",Y);const W=D.insert("g").attr("class","root");O.nodes()?log$1.info("Recursive render XXX",O.nodes()):log$1.info("No nodes found for",O),O.edges().length>0&&log$1.trace("Recursive edges",O.edge(O.edges()[0]));const q=W.insert("g").attr("class","clusters"),X=W.insert("g").attr("class","edgePaths"),tt=W.insert("g").attr("class","edgeLabels"),nt=W.insert("g").attr("class","nodes");O.nodes().forEach(function(ct){const lt=O.node(ct);if(F!==void 0){const ht=JSON.parse(JSON.stringify(F.clusterData));log$1.info("Setting data for cluster XXX (",ct,") ",ht,F),O.setNode(F.id,ht),O.parent(ct)||(log$1.trace("Setting parent",ct,F.id),O.setParent(ct,F.id,ht))}if(log$1.info("(Insert) Node XXX"+ct+": "+JSON.stringify(O.node(ct))),lt&&lt.clusterNode){log$1.info("Cluster identified",ct,lt.width,O.node(ct));const ht=recursiveRender(nt,lt.graph,z,O.node(ct)),bt=ht.elem;updateNodeBounds(lt,bt),lt.diff=ht.diff||0,log$1.info("Node bounds (abc123)",ct,lt,lt.width,lt.x,lt.y),setNodeElem(bt,lt),log$1.warn("Recursive render complete ",bt,lt)}else O.children(ct).length>0?(log$1.info("Cluster - the non recursive path XXX",ct,lt.id,lt,O),log$1.info(findNonClusterChild(lt.id,O)),clusterDb[lt.id]={id:findNonClusterChild(lt.id,O),node:lt}):(log$1.info("Node - the non recursive path",ct,lt.id,lt),insertNode(nt,O.node(ct),Y))}),O.edges().forEach(function(ct){const lt=O.edge(ct.v,ct.w,ct.name);log$1.info("Edge "+ct.v+" -> "+ct.w+": "+JSON.stringify(ct)),log$1.info("Edge "+ct.v+" -> "+ct.w+": ",ct," ",JSON.stringify(O.edge(ct))),log$1.info("Fix",clusterDb,"ids:",ct.v,ct.w,"Translateing: ",clusterDb[ct.v],clusterDb[ct.w]),insertEdgeLabel(tt,lt)}),O.edges().forEach(function(ct){log$1.info("Edge "+ct.v+" -> "+ct.w+": "+JSON.stringify(ct))}),log$1.info("#############################################"),log$1.info("###                Layout                 ###"),log$1.info("#############################################"),log$1.info(O),layout(O),log$1.info("Graph after layout:",write(O));let st=0;return sortNodesByHierarchy(O).forEach(function(ct){const lt=O.node(ct);log$1.info("Position "+ct+": "+JSON.stringify(O.node(ct))),log$1.info("Position "+ct+": ("+lt.x,","+lt.y,") width: ",lt.width," height: ",lt.height),lt&&lt.clusterNode?positionNode(lt):O.children(ct).length>0?(insertCluster(q,lt),clusterDb[lt.id].node=lt):positionNode(lt)}),O.edges().forEach(function(ct){const lt=O.edge(ct);log$1.info("Edge "+ct.v+" -> "+ct.w+": "+JSON.stringify(lt),lt);const ht=insertEdge(X,ct,lt,clusterDb,z,O);positionEdgeLabel(lt,ht)}),O.nodes().forEach(function(ct){const lt=O.node(ct);log$1.info(ct,lt.type,lt.diff),lt.type==="group"&&(st=lt.diff)}),{elem:W,diff:st}},render$1=(D,O,z,F,Y)=>{insertMarkers$3(D,z,F,Y),clear$a(),clear$8(),clear$9(),clear$b(),log$1.warn("Graph at first:",write(O)),adjustClustersAndEdges(O),log$1.warn("Graph after:",write(O)),recursiveRender(D,O,F)},sanitizeText$1=D=>common$1.sanitizeText(D,getConfig$1());let conf$9={dividerMargin:10,padding:5,textHeight:10};const addClasses=function(D,O,z,F){const Y=Object.keys(D);log$1.info("keys:",Y),log$1.info(D),Y.forEach(function(W){const q=D[W];let X="";q.cssClasses.length>0&&(X=X+" "+q.cssClasses.join(" "));const tt={labelStyle:""};let nt=q.text!==void 0?q.text:q.id,st=0,ct="";switch(q.type){case"class":ct="class_box";break;default:ct="class_box"}O.setNode(q.id,{labelStyle:tt.labelStyle,shape:ct,labelText:sanitizeText$1(nt),classData:q,rx:st,ry:st,class:X,style:tt.style,id:q.id,domId:q.domId,tooltip:F.db.getTooltip(q.id)||"",haveCallback:q.haveCallback,link:q.link,width:q.type==="group"?500:void 0,type:q.type,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:tt.labelStyle,shape:ct,labelText:nt,rx:st,ry:st,class:X,style:tt.style,id:q.id,width:q.type==="group"?500:void 0,type:q.type,padding:getConfig$1().flowchart.padding})})},addNotes=function(D,O,z,F){log$1.info(D),D.forEach(function(Y,W){const q=Y;let X="";const tt={labelStyle:"",style:""};let nt=q.text,st=0,ct="note";if(O.setNode(q.id,{labelStyle:tt.labelStyle,shape:ct,labelText:sanitizeText$1(nt),noteData:q,rx:st,ry:st,class:X,style:tt.style,id:q.id,domId:q.id,tooltip:"",type:"note",padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:tt.labelStyle,shape:ct,labelText:nt,rx:st,ry:st,style:tt.style,id:q.id,type:"note",padding:getConfig$1().flowchart.padding}),!q.class||!(q.class in F))return;const lt=z+W,ht={};ht.classes="relation",ht.pattern="dotted",ht.id=`edgeNote${lt}`,ht.arrowhead="none",log$1.info(`Note edge: ${JSON.stringify(ht)}, ${JSON.stringify(q)}`),ht.startLabelRight="",ht.endLabelLeft="",ht.arrowTypeStart="none",ht.arrowTypeEnd="none";let bt="fill:none",wt="";ht.style=bt,ht.labelStyle=wt,ht.curve=interpolateToCurve(conf$9.curve,curveLinear),O.setEdge(q.id,q.class,ht,lt)})},addRelations=function(D,O){const z=getConfig$1().flowchart;let F=0;D.forEach(function(Y){F++;const W={};W.classes="relation",W.pattern=Y.relation.lineType==1?"dashed":"solid",W.id="id"+F,Y.type==="arrow_open"?W.arrowhead="none":W.arrowhead="normal",log$1.info(W,Y),W.startLabelRight=Y.relationTitle1==="none"?"":Y.relationTitle1,W.endLabelLeft=Y.relationTitle2==="none"?"":Y.relationTitle2,W.arrowTypeStart=getArrowMarker(Y.relation.type1),W.arrowTypeEnd=getArrowMarker(Y.relation.type2);let q="",X="";if(Y.style!==void 0){const tt=getStylesFromArray(Y.style);q=tt.style,X=tt.labelStyle}else q="fill:none";W.style=q,W.labelStyle=X,Y.interpolate!==void 0?W.curve=interpolateToCurve(Y.interpolate,curveLinear):D.defaultInterpolate!==void 0?W.curve=interpolateToCurve(D.defaultInterpolate,curveLinear):W.curve=interpolateToCurve(z.curve,curveLinear),Y.text=Y.title,Y.text===void 0?Y.style!==void 0&&(W.arrowheadStyle="fill: #333"):(W.arrowheadStyle="fill: #333",W.labelpos="c",getConfig$1().flowchart.htmlLabels?(W.labelType="html",W.label='<span class="edgeLabel">'+Y.text+"</span>"):(W.labelType="text",W.label=Y.text.replace(common$1.lineBreakRegex,`
`),Y.style===void 0&&(W.style=W.style||"stroke: #333; stroke-width: 1.5px;fill:none"),W.labelStyle=W.labelStyle.replace("color:","fill:"))),O.setEdge(Y.id1,Y.id2,W,F)})},setConf$9=function(D){Object.keys(D).forEach(function(z){conf$9[z]=D[z]})},draw$c=function(D,O,z,F){log$1.info("Drawing class - ",O);const Y=getConfig$1().flowchart,W=getConfig$1().securityLevel;log$1.info("config:",Y);const q=Y.nodeSpacing||50,X=Y.rankSpacing||50,tt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:F.db.getDirection(),nodesep:q,ranksep:X,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),nt=F.db.getClasses(),st=F.db.getRelations(),ct=F.db.getNotes();log$1.info(st),addClasses(nt,tt,O,F),addRelations(st,tt),addNotes(ct,tt,st.length+1,nt);let lt;W==="sandbox"&&(lt=select("#i"+O));const ht=select(W==="sandbox"?lt.nodes()[0].contentDocument.body:"body"),bt=ht.select(`[id="${O}"]`),wt=ht.select("#"+O+" g");if(render$1(wt,tt,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",O),utils.insertTitle(bt,"classTitleText",Y.titleTopMargin,F.db.getDiagramTitle()),setupGraphViewbox$1(tt,bt,Y.diagramPadding,Y.useMaxWidth),!Y.htmlLabels){const mt=W==="sandbox"?lt.nodes()[0].contentDocument:document,_t=mt.querySelectorAll('[id="'+O+'"] .edgeLabel .label');for(const Et of _t){const At=Et.getBBox(),Ct=mt.createElementNS("http://www.w3.org/2000/svg","rect");Ct.setAttribute("rx",0),Ct.setAttribute("ry",0),Ct.setAttribute("width",At.width),Ct.setAttribute("height",At.height),Et.insertBefore(Ct,Et.firstChild)}}};function getArrowMarker(D){let O;switch(D){case 0:O="aggregation";break;case 1:O="extension";break;case 2:O="composition";break;case 3:O="dependency";break;case 4:O="lollipop";break;default:O="none"}return O}const classRendererV2={setConf:setConf$9,draw:draw$c};var parser$9=function(){var D=function(Xt,Dt,Qt,Nt){for(Qt=Qt||{},Nt=Xt.length;Nt--;Qt[Xt[Nt]]=Dt);return Qt},O=[1,2],z=[1,5],F=[6,9,11,23,25,27,29,30,31,51],Y=[1,17],W=[1,18],q=[1,19],X=[1,20],tt=[1,21],nt=[1,22],st=[1,25],ct=[1,30],lt=[1,31],ht=[1,32],bt=[1,33],wt=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],mt=[1,45],_t=[30,31,48,49],Et=[4,6,9,11,23,25,27,29,30,31,51],At=[44,45,46,47],Ct=[22,37],Ft=[1,65],Lt=[1,64],Yt=[22,37,39,41],Ht={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(Dt,Qt,Nt,ce,Pt,de,ye){var pe=de.length-1;switch(Pt){case 1:break;case 3:this.$=[];break;case 4:de[pe-1].push(de[pe]),this.$=de[pe-1];break;case 5:case 6:this.$=de[pe];break;case 7:case 8:this.$=[];break;case 12:ce.addEntity(de[pe-4]),ce.addEntity(de[pe-2]),ce.addRelationship(de[pe-4],de[pe],de[pe-2],de[pe-3]);break;case 13:ce.addEntity(de[pe-3]),ce.addAttributes(de[pe-3],de[pe-1]);break;case 14:ce.addEntity(de[pe-2]);break;case 15:ce.addEntity(de[pe]);break;case 16:case 17:this.$=de[pe].trim(),ce.setAccTitle(this.$);break;case 18:case 19:this.$=de[pe].trim(),ce.setAccDescription(this.$);break;case 20:case 43:this.$=de[pe];break;case 21:case 41:case 42:this.$=de[pe].replace(/"/g,"");break;case 22:case 30:this.$=[de[pe]];break;case 23:de[pe].push(de[pe-1]),this.$=de[pe];break;case 24:this.$={attributeType:de[pe-1],attributeName:de[pe]};break;case 25:this.$={attributeType:de[pe-2],attributeName:de[pe-1],attributeKeyTypeList:de[pe]};break;case 26:this.$={attributeType:de[pe-2],attributeName:de[pe-1],attributeComment:de[pe]};break;case 27:this.$={attributeType:de[pe-3],attributeName:de[pe-2],attributeKeyTypeList:de[pe-1],attributeComment:de[pe]};break;case 28:case 29:case 32:this.$=de[pe];break;case 31:de[pe-2].push(de[pe]),this.$=de[pe-2];break;case 33:this.$=de[pe].replace(/"/g,"");break;case 34:this.$={cardA:de[pe],relType:de[pe-1],cardB:de[pe-2]};break;case 35:this.$=ce.Cardinality.ZERO_OR_ONE;break;case 36:this.$=ce.Cardinality.ZERO_OR_MORE;break;case 37:this.$=ce.Cardinality.ONE_OR_MORE;break;case 38:this.$=ce.Cardinality.ONLY_ONE;break;case 39:this.$=ce.Identification.NON_IDENTIFYING;break;case 40:this.$=ce.Identification.IDENTIFYING;break;case 44:ce.parseDirective("%%{","open_directive");break;case 45:ce.parseDirective(de[pe],"type_directive");break;case 46:de[pe]=de[pe].trim().replace(/'/g,'"'),ce.parseDirective(de[pe],"arg_directive");break;case 47:ce.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:O,7:3,12:4,51:z},{1:[3]},D(F,[2,3],{5:6}),{3:7,4:O,7:3,12:4,51:z},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:Y,25:W,27:q,29:X,30:tt,31:nt,51:z},{1:[2,2]},{14:23,15:[1,24],54:st},D([15,54],[2,45]),D(F,[2,8],{1:[2,1]}),D(F,[2,4]),{7:15,10:26,12:4,17:16,23:Y,25:W,27:q,29:X,30:tt,31:nt,51:z},D(F,[2,6]),D(F,[2,7]),D(F,[2,11]),D(F,[2,15],{18:27,42:29,20:[1,28],44:ct,45:lt,46:ht,47:bt}),{24:[1,34]},{26:[1,35]},{28:[1,36]},D(F,[2,19]),D(wt,[2,20]),D(wt,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},D(F,[2,5]),{17:40,30:tt,31:nt},{21:41,22:[1,42],32:43,33:44,37:mt},{43:46,48:[1,47],49:[1,48]},D(_t,[2,35]),D(_t,[2,36]),D(_t,[2,37]),D(_t,[2,38]),D(F,[2,16]),D(F,[2,17]),D(F,[2,18]),D(Et,[2,9]),{14:49,54:st},{54:[2,46]},{15:[1,50]},{22:[1,51]},D(F,[2,14]),{21:52,22:[2,22],32:43,33:44,37:mt},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:ct,45:lt,46:ht,47:bt},D(At,[2,39]),D(At,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},D(F,[2,13]),{22:[2,23]},D(Ct,[2,24],{35:61,36:62,38:63,40:Ft,41:Lt}),D([22,37,40,41],[2,29]),D([30,31],[2,34]),D(Et,[2,10]),D(F,[2,12]),D(F,[2,41]),D(F,[2,42]),D(F,[2,43]),D(Ct,[2,25],{36:66,39:[1,67],41:Lt}),D(Ct,[2,26]),D(Yt,[2,30]),D(Ct,[2,33]),D(Yt,[2,32]),D(Ct,[2,27]),{38:68,40:Ft},D(Yt,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(Dt,Qt){if(Qt.recoverable)this.trace(Dt);else{var Nt=new Error(Dt);throw Nt.hash=Qt,Nt}},parse:function(Dt){var Qt=this,Nt=[0],ce=[],Pt=[null],de=[],ye=this.table,pe="",ve=0,Ce=0,De=2,Oe=1,Je=de.slice.call(arguments,1),qe=Object.create(this.lexer),ze={yy:{}};for(var we in this.yy)Object.prototype.hasOwnProperty.call(this.yy,we)&&(ze.yy[we]=this.yy[we]);qe.setInput(Dt,ze.yy),ze.yy.lexer=qe,ze.yy.parser=this,typeof qe.yylloc>"u"&&(qe.yylloc={});var Me=qe.yylloc;de.push(Me);var He=qe.options&&qe.options.ranges;typeof ze.yy.parseError=="function"?this.parseError=ze.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Le(){var ke;return ke=ce.pop()||qe.lex()||Oe,typeof ke!="number"&&(ke instanceof Array&&(ce=ke,ke=ce.pop()),ke=Qt.symbols_[ke]||ke),ke}for(var Ye,Kt,kt,jt,$t={},oe,Vt,Be,ge;;){if(Kt=Nt[Nt.length-1],this.defaultActions[Kt]?kt=this.defaultActions[Kt]:((Ye===null||typeof Ye>"u")&&(Ye=Le()),kt=ye[Kt]&&ye[Kt][Ye]),typeof kt>"u"||!kt.length||!kt[0]){var Pe="";ge=[];for(oe in ye[Kt])this.terminals_[oe]&&oe>De&&ge.push("'"+this.terminals_[oe]+"'");qe.showPosition?Pe="Parse error on line "+(ve+1)+`:
`+qe.showPosition()+`
Expecting `+ge.join(", ")+", got '"+(this.terminals_[Ye]||Ye)+"'":Pe="Parse error on line "+(ve+1)+": Unexpected "+(Ye==Oe?"end of input":"'"+(this.terminals_[Ye]||Ye)+"'"),this.parseError(Pe,{text:qe.match,token:this.terminals_[Ye]||Ye,line:qe.yylineno,loc:Me,expected:ge})}if(kt[0]instanceof Array&&kt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Kt+", token: "+Ye);switch(kt[0]){case 1:Nt.push(Ye),Pt.push(qe.yytext),de.push(qe.yylloc),Nt.push(kt[1]),Ye=null,Ce=qe.yyleng,pe=qe.yytext,ve=qe.yylineno,Me=qe.yylloc;break;case 2:if(Vt=this.productions_[kt[1]][1],$t.$=Pt[Pt.length-Vt],$t._$={first_line:de[de.length-(Vt||1)].first_line,last_line:de[de.length-1].last_line,first_column:de[de.length-(Vt||1)].first_column,last_column:de[de.length-1].last_column},He&&($t._$.range=[de[de.length-(Vt||1)].range[0],de[de.length-1].range[1]]),jt=this.performAction.apply($t,[pe,Ce,ve,ze.yy,kt[1],Pt,de].concat(Je)),typeof jt<"u")return jt;Vt&&(Nt=Nt.slice(0,-1*Vt*2),Pt=Pt.slice(0,-1*Vt),de=de.slice(0,-1*Vt)),Nt.push(this.productions_[kt[1]][0]),Pt.push($t.$),de.push($t._$),Be=ye[Nt[Nt.length-2]][Nt[Nt.length-1]],Nt.push(Be);break;case 3:return!0}}return!0}},qt=function(){var Xt={EOF:1,parseError:function(Qt,Nt){if(this.yy.parser)this.yy.parser.parseError(Qt,Nt);else throw new Error(Qt)},setInput:function(Dt,Qt){return this.yy=Qt||this.yy||{},this._input=Dt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Dt=this._input[0];this.yytext+=Dt,this.yyleng++,this.offset++,this.match+=Dt,this.matched+=Dt;var Qt=Dt.match(/(?:\r\n?|\n).*/g);return Qt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Dt},unput:function(Dt){var Qt=Dt.length,Nt=Dt.split(/(?:\r\n?|\n)/g);this._input=Dt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Qt),this.offset-=Qt;var ce=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Nt.length-1&&(this.yylineno-=Nt.length-1);var Pt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Nt?(Nt.length===ce.length?this.yylloc.first_column:0)+ce[ce.length-Nt.length].length-Nt[0].length:this.yylloc.first_column-Qt},this.options.ranges&&(this.yylloc.range=[Pt[0],Pt[0]+this.yyleng-Qt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Dt){this.unput(this.match.slice(Dt))},pastInput:function(){var Dt=this.matched.substr(0,this.matched.length-this.match.length);return(Dt.length>20?"...":"")+Dt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Dt=this.match;return Dt.length<20&&(Dt+=this._input.substr(0,20-Dt.length)),(Dt.substr(0,20)+(Dt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Dt=this.pastInput(),Qt=new Array(Dt.length+1).join("-");return Dt+this.upcomingInput()+`
`+Qt+"^"},test_match:function(Dt,Qt){var Nt,ce,Pt;if(this.options.backtrack_lexer&&(Pt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Pt.yylloc.range=this.yylloc.range.slice(0))),ce=Dt[0].match(/(?:\r\n?|\n).*/g),ce&&(this.yylineno+=ce.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ce?ce[ce.length-1].length-ce[ce.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Dt[0].length},this.yytext+=Dt[0],this.match+=Dt[0],this.matches=Dt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Dt[0].length),this.matched+=Dt[0],Nt=this.performAction.call(this,this.yy,this,Qt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Nt)return Nt;if(this._backtrack){for(var de in Pt)this[de]=Pt[de];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Dt,Qt,Nt,ce;this._more||(this.yytext="",this.match="");for(var Pt=this._currentRules(),de=0;de<Pt.length;de++)if(Nt=this._input.match(this.rules[Pt[de]]),Nt&&(!Qt||Nt[0].length>Qt[0].length)){if(Qt=Nt,ce=de,this.options.backtrack_lexer){if(Dt=this.test_match(Nt,Pt[de]),Dt!==!1)return Dt;if(this._backtrack){Qt=!1;continue}else return!1}else if(!this.options.flex)break}return Qt?(Dt=this.test_match(Qt,Pt[ce]),Dt!==!1?Dt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Qt=this.next();return Qt||this.lex()},begin:function(Qt){this.conditionStack.push(Qt)},popState:function(){var Qt=this.conditionStack.length-1;return Qt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Qt){return Qt=this.conditionStack.length-1-Math.abs(Qt||0),Qt>=0?this.conditionStack[Qt]:"INITIAL"},pushState:function(Qt){this.begin(Qt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Qt,Nt,ce,Pt){switch(ce){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 22:break;case 23:return 40;case 24:return 37;case 25:return 37;case 26:return 41;case 27:break;case 28:return this.popState(),22;case 29:return Nt.yytext[0];case 30:return 44;case 31:return 46;case 32:return 46;case 33:return 46;case 34:return 44;case 35:return 44;case 36:return 45;case 37:return 45;case 38:return 45;case 39:return 45;case 40:return 45;case 41:return 46;case 42:return 45;case 43:return 46;case 44:return 47;case 45:return 47;case 46:return 47;case 47:return 47;case 48:return 44;case 49:return 45;case 50:return 46;case 51:return 48;case 52:return 49;case 53:return 49;case 54:return 48;case 55:return 48;case 56:return 48;case 57:return 30;case 58:return Nt.yytext[0];case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}};return Xt}();Ht.lexer=qt;function te(){this.yy={}}return te.prototype=Ht,Ht.Parser=te,new te}();parser$9.parser=parser$9;const erParser=parser$9,erDetector=D=>D.match(/^\s*erDiagram/)!==null;let entities={},relationships=[];const Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective$7=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},addEntity=function(D){return entities[D]===void 0&&(entities[D]={attributes:[]},log$1.info("Added new entity :",D)),entities[D]},getEntities=()=>entities,addAttributes=function(D,O){let z=addEntity(D),F;for(F=O.length-1;F>=0;F--)z.attributes.push(O[F]),log$1.debug("Added attribute ",O[F].attributeName)},addRelationship$1=function(D,O,z,F){let Y={entityA:D,roleA:O,entityB:z,relSpec:F};relationships.push(Y),log$1.debug("Added new relationship :",Y)},getRelationships$1=()=>relationships,clear$7=function(){entities={},relationships=[],clear$g()},erDb={Cardinality,Identification,parseDirective:parseDirective$7,getConfig:()=>getConfig$1().er,addEntity,addAttributes,getEntities,addRelationship:addRelationship$1,getRelationships:getRelationships$1,clear:clear$7,setAccTitle,getAccTitle,setAccDescription,getAccDescription,setDiagramTitle,getDiagramTitle},ERMarkers={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},insertMarkers$1=function(D,O){let z;D.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),D.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),z=D.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),z.append("circle").attr("stroke",O.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),z.append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M9,0 L9,18"),z=D.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),z.append("circle").attr("stroke",O.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),z.append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M21,0 L21,18"),D.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),D.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),z=D.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),z.append("circle").attr("stroke",O.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),z.append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),z=D.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),z.append("circle").attr("stroke",O.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),z.append("path").attr("stroke",O.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},erMarkers={ERMarkers,insertMarkers:insertMarkers$1},BAD_ID_CHARS_REGEXP=/[^\dA-Za-z](\W)*/g;let conf$8={},entityNameIds=new Map;const setConf$8=function(D){const O=Object.keys(D);for(const z of O)conf$8[z]=D[z]},drawAttributes=(D,O,z)=>{const F=conf$8.entityPadding/3,Y=conf$8.entityPadding/3,W=conf$8.fontSize*.85,q=O.node().getBBox(),X=[];let tt=!1,nt=!1,st=0,ct=0,lt=0,ht=0,bt=q.height+F*2,wt=1;z.forEach(At=>{At.attributeKeyTypeList!==void 0&&At.attributeKeyTypeList.length>0&&(tt=!0),At.attributeComment!==void 0&&(nt=!0)}),z.forEach(At=>{const Ct=`${O.node().id}-attr-${wt}`;let Ft=0;const Lt=parseGenericTypes(At.attributeType),Yt=D.append("text").classed("er entityLabel",!0).attr("id",`${Ct}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",W+"px").text(Lt),Ht=D.append("text").classed("er entityLabel",!0).attr("id",`${Ct}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",W+"px").text(At.attributeName),qt={};qt.tn=Yt,qt.nn=Ht;const te=Yt.node().getBBox(),Xt=Ht.node().getBBox();if(st=Math.max(st,te.width),ct=Math.max(ct,Xt.width),Ft=Math.max(te.height,Xt.height),tt){const Dt=At.attributeKeyTypeList!==void 0?At.attributeKeyTypeList.join(","):"",Qt=D.append("text").classed("er entityLabel",!0).attr("id",`${Ct}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",W+"px").text(Dt);qt.kn=Qt;const Nt=Qt.node().getBBox();lt=Math.max(lt,Nt.width),Ft=Math.max(Ft,Nt.height)}if(nt){const Dt=D.append("text").classed("er entityLabel",!0).attr("id",`${Ct}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",W+"px").text(At.attributeComment||"");qt.cn=Dt;const Qt=Dt.node().getBBox();ht=Math.max(ht,Qt.width),Ft=Math.max(Ft,Qt.height)}qt.height=Ft,X.push(qt),bt+=Ft+F*2,wt+=1});let mt=4;tt&&(mt+=2),nt&&(mt+=2);const _t=st+ct+lt+ht,Et={width:Math.max(conf$8.minEntityWidth,Math.max(q.width+conf$8.entityPadding*2,_t+Y*mt)),height:z.length>0?bt:Math.max(conf$8.minEntityHeight,q.height+conf$8.entityPadding*2)};if(z.length>0){const At=Math.max(0,(Et.width-_t-Y*mt)/(mt/2));O.attr("transform","translate("+Et.width/2+","+(F+q.height/2)+")");let Ct=q.height+F*2,Ft="attributeBoxOdd";X.forEach(Lt=>{const Yt=Ct+F+Lt.height/2;Lt.tn.attr("transform","translate("+Y+","+Yt+")");const Ht=D.insert("rect","#"+Lt.tn.node().id).classed(`er ${Ft}`,!0).attr("x",0).attr("y",Ct).attr("width",st+Y*2+At).attr("height",Lt.height+F*2),qt=parseFloat(Ht.attr("x"))+parseFloat(Ht.attr("width"));Lt.nn.attr("transform","translate("+(qt+Y)+","+Yt+")");const te=D.insert("rect","#"+Lt.nn.node().id).classed(`er ${Ft}`,!0).attr("x",qt).attr("y",Ct).attr("width",ct+Y*2+At).attr("height",Lt.height+F*2);let Xt=parseFloat(te.attr("x"))+parseFloat(te.attr("width"));if(tt){Lt.kn.attr("transform","translate("+(Xt+Y)+","+Yt+")");const Dt=D.insert("rect","#"+Lt.kn.node().id).classed(`er ${Ft}`,!0).attr("x",Xt).attr("y",Ct).attr("width",lt+Y*2+At).attr("height",Lt.height+F*2);Xt=parseFloat(Dt.attr("x"))+parseFloat(Dt.attr("width"))}nt&&(Lt.cn.attr("transform","translate("+(Xt+Y)+","+Yt+")"),D.insert("rect","#"+Lt.cn.node().id).classed(`er ${Ft}`,"true").attr("x",Xt).attr("y",Ct).attr("width",ht+Y*2+At).attr("height",Lt.height+F*2)),Ct+=Lt.height+F*2,Ft=Ft==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Et.height=Math.max(conf$8.minEntityHeight,bt),O.attr("transform","translate("+Et.width/2+","+Et.height/2+")");return Et},drawEntities=function(D,O,z){const F=Object.keys(O);let Y;return F.forEach(function(W){const q=generateId(W,"entity");entityNameIds.set(W,q);const X=D.append("g").attr("id",q);Y=Y===void 0?q:Y;const tt="text-"+q,nt=X.append("text").classed("er entityLabel",!0).attr("id",tt).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",getConfig$1().fontFamily).style("font-size",conf$8.fontSize+"px").text(W),{width:st,height:ct}=drawAttributes(X,nt,O[W].attributes),ht=X.insert("rect","#"+tt).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",st).attr("height",ct).node().getBBox();z.setNode(q,{width:ht.width,height:ht.height,shape:"rect",id:q})}),Y},adjustEntities$1=function(D,O){O.nodes().forEach(function(z){z!==void 0&&O.node(z)!==void 0&&D.select("#"+z).attr("transform","translate("+(O.node(z).x-O.node(z).width/2)+","+(O.node(z).y-O.node(z).height/2)+" )")})},getEdgeName=function(D){return(D.entityA+D.roleA+D.entityB).replace(/\s/g,"")},addRelationships$1=function(D,O){return D.forEach(function(z){O.setEdge(entityNameIds.get(z.entityA),entityNameIds.get(z.entityB),{relationship:z},getEdgeName(z))}),D};let relCnt$1=0;const drawRelationshipFromLayout$1=function(D,O,z,F,Y){relCnt$1++;const W=z.edge(entityNameIds.get(O.entityA),entityNameIds.get(O.entityB),getEdgeName(O)),q=line$1().x(function(bt){return bt.x}).y(function(bt){return bt.y}).curve(curveBasis),X=D.insert("path","#"+F).classed("er relationshipLine",!0).attr("d",q(W.points)).style("stroke",conf$8.stroke).style("fill","none");O.relSpec.relType===Y.db.Identification.NON_IDENTIFYING&&X.attr("stroke-dasharray","8,8");let tt="";switch(conf$8.arrowMarkerAbsolute&&(tt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,tt=tt.replace(/\(/g,"\\("),tt=tt.replace(/\)/g,"\\)")),O.relSpec.cardA){case Y.db.Cardinality.ZERO_OR_ONE:X.attr("marker-end","url("+tt+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_END+")");break;case Y.db.Cardinality.ZERO_OR_MORE:X.attr("marker-end","url("+tt+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_END+")");break;case Y.db.Cardinality.ONE_OR_MORE:X.attr("marker-end","url("+tt+"#"+erMarkers.ERMarkers.ONE_OR_MORE_END+")");break;case Y.db.Cardinality.ONLY_ONE:X.attr("marker-end","url("+tt+"#"+erMarkers.ERMarkers.ONLY_ONE_END+")");break}switch(O.relSpec.cardB){case Y.db.Cardinality.ZERO_OR_ONE:X.attr("marker-start","url("+tt+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_START+")");break;case Y.db.Cardinality.ZERO_OR_MORE:X.attr("marker-start","url("+tt+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_START+")");break;case Y.db.Cardinality.ONE_OR_MORE:X.attr("marker-start","url("+tt+"#"+erMarkers.ERMarkers.ONE_OR_MORE_START+")");break;case Y.db.Cardinality.ONLY_ONE:X.attr("marker-start","url("+tt+"#"+erMarkers.ERMarkers.ONLY_ONE_START+")");break}const nt=X.node().getTotalLength(),st=X.node().getPointAtLength(nt*.5),ct="rel"+relCnt$1,ht=D.append("text").classed("er relationshipLabel",!0).attr("id",ct).attr("x",st.x).attr("y",st.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",getConfig$1().fontFamily).style("font-size",conf$8.fontSize+"px").text(O.roleA).node().getBBox();D.insert("rect","#"+ct).classed("er relationshipLabelBox",!0).attr("x",st.x-ht.width/2).attr("y",st.y-ht.height/2).attr("width",ht.width).attr("height",ht.height)},draw$b=function(D,O,z,F){conf$8=getConfig$1().er,log$1.info("Drawing ER diagram");const Y=getConfig$1().securityLevel;let W;Y==="sandbox"&&(W=select("#i"+O));const X=select(Y==="sandbox"?W.nodes()[0].contentDocument.body:"body").select(`[id='${O}']`);erMarkers.insertMarkers(X,conf$8);let tt;tt=new Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:conf$8.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const nt=drawEntities(X,F.db.getEntities(),tt),st=addRelationships$1(F.db.getRelationships(),tt);layout(tt),adjustEntities$1(X,tt),st.forEach(function(wt){drawRelationshipFromLayout$1(X,wt,tt,nt,F)});const ct=conf$8.diagramPadding;utils.insertTitle(X,"entityTitleText",conf$8.titleTopMargin,F.db.getDiagramTitle());const lt=X.node().getBBox(),ht=lt.width+ct*2,bt=lt.height+ct*2;configureSvgSize(X,bt,ht,conf$8.useMaxWidth),X.attr("viewBox",`${lt.x-ct} ${lt.y-ct} ${ht} ${bt}`)},MERMAID_ERDIAGRAM_UUID="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function generateId(D="",O=""){const z=D.replace(BAD_ID_CHARS_REGEXP,"");return`${strWithHyphen(O)}${strWithHyphen(z)}${v5$1(D,MERMAID_ERDIAGRAM_UUID)}`}function strWithHyphen(D=""){return D.length>0?`${D}-`:""}const erRenderer={setConf:setConf$8,draw:draw$b};var parser$7=function(){var D=function(Uo,_r,Ir,$r){for(Ir=Ir||{},$r=Uo.length;$r--;Ir[Uo[$r]]=_r);return Ir},O=[1,9],z=[1,7],F=[1,6],Y=[1,8],W=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],q=[2,10],X=[1,20],tt=[1,21],nt=[1,22],st=[1,23],ct=[1,30],lt=[1,32],ht=[1,33],bt=[1,34],wt=[1,62],mt=[1,48],_t=[1,52],Et=[1,36],At=[1,37],Ct=[1,38],Ft=[1,39],Lt=[1,40],Yt=[1,56],Ht=[1,63],qt=[1,51],te=[1,53],Xt=[1,55],Dt=[1,59],Qt=[1,60],Nt=[1,41],ce=[1,42],Pt=[1,43],de=[1,44],ye=[1,61],pe=[1,50],ve=[1,54],Ce=[1,57],De=[1,58],Oe=[1,49],Je=[1,66],qe=[1,71],ze=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],we=[1,75],Me=[1,74],He=[1,76],Le=[20,21,23,81,82],Ye=[1,99],Kt=[1,104],kt=[1,107],jt=[1,108],$t=[1,101],oe=[1,106],Vt=[1,109],Be=[1,102],ge=[1,114],Pe=[1,113],ke=[1,103],$e=[1,105],Fe=[1,110],Qe=[1,111],We=[1,112],rn=[1,115],zn=[20,21,22,23,81,82],Bn=[20,21,22,23,53,81,82],Pn=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],jn=[20,21,23],Jn=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],rr=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],sr=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],on=[1,149],ie=[1,157],ne=[1,158],xe=[1,159],Ae=[1,160],Ve=[1,144],vn=[1,145],Ge=[1,141],Dn=[1,152],en=[1,153],Fn=[1,154],$n=[1,155],Kn=[1,156],Wn=[1,161],mr=[1,162],ir=[1,147],wr=[1,150],Lr=[1,146],Dr=[1,143],Fo=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],xo=[1,165],tr=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Cr=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],go=[12,21,22,24],Un=[22,106],zi=[1,250],uo=[1,245],io=[1,246],sn=[1,254],En=[1,251],un=[1,248],je=[1,247],gn=[1,249],In=[1,252],Hn=[1,253],Er=[1,255],Or=[1,273],ci=[20,21,23,106],Si=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],si={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(_r,Ir,$r,er,Nr,Xe,xs){var an=Xe.length-1;switch(Nr){case 5:er.parseDirective("%%{","open_directive");break;case 6:er.parseDirective(Xe[an],"type_directive");break;case 7:Xe[an]=Xe[an].trim().replace(/'/g,'"'),er.parseDirective(Xe[an],"arg_directive");break;case 8:er.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Xe[an])||Xe[an].length>0)&&Xe[an-1].push(Xe[an]),this.$=Xe[an-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Xe[an];break;case 19:er.setDirection("TB"),this.$="TB";break;case 20:er.setDirection(Xe[an-1]),this.$=Xe[an-1];break;case 35:this.$=Xe[an-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=er.addSubGraph(Xe[an-6],Xe[an-1],Xe[an-4]);break;case 42:this.$=er.addSubGraph(Xe[an-3],Xe[an-1],Xe[an-3]);break;case 43:this.$=er.addSubGraph(void 0,Xe[an-1],void 0);break;case 45:this.$=Xe[an].trim(),er.setAccTitle(this.$);break;case 46:case 47:this.$=Xe[an].trim(),er.setAccDescription(this.$);break;case 51:er.addLink(Xe[an-2].stmt,Xe[an],Xe[an-1]),this.$={stmt:Xe[an],nodes:Xe[an].concat(Xe[an-2].nodes)};break;case 52:er.addLink(Xe[an-3].stmt,Xe[an-1],Xe[an-2]),this.$={stmt:Xe[an-1],nodes:Xe[an-1].concat(Xe[an-3].nodes)};break;case 53:this.$={stmt:Xe[an-1],nodes:Xe[an-1]};break;case 54:this.$={stmt:Xe[an],nodes:Xe[an]};break;case 55:this.$=[Xe[an]];break;case 56:this.$=Xe[an-4].concat(Xe[an]);break;case 57:this.$=[Xe[an-2]],er.setClass(Xe[an-2],Xe[an]);break;case 58:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"square");break;case 59:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"doublecircle");break;case 60:this.$=Xe[an-5],er.addVertex(Xe[an-5],Xe[an-2],"circle");break;case 61:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"ellipse");break;case 62:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"stadium");break;case 63:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"subroutine");break;case 64:this.$=Xe[an-7],er.addVertex(Xe[an-7],Xe[an-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Xe[an-5],Xe[an-3]]]));break;case 65:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"cylinder");break;case 66:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"round");break;case 67:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"diamond");break;case 68:this.$=Xe[an-5],er.addVertex(Xe[an-5],Xe[an-2],"hexagon");break;case 69:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"odd");break;case 70:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"trapezoid");break;case 71:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"inv_trapezoid");break;case 72:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"lean_right");break;case 73:this.$=Xe[an-3],er.addVertex(Xe[an-3],Xe[an-1],"lean_left");break;case 74:this.$=Xe[an],er.addVertex(Xe[an]);break;case 75:Xe[an-1].text=Xe[an],this.$=Xe[an-1];break;case 76:case 77:Xe[an-2].text=Xe[an-1],this.$=Xe[an-2];break;case 78:this.$=Xe[an];break;case 79:var Do=er.destructLink(Xe[an],Xe[an-2]);this.$={type:Do.type,stroke:Do.stroke,length:Do.length,text:Xe[an-1]};break;case 80:var Do=er.destructLink(Xe[an]);this.$={type:Do.type,stroke:Do.stroke,length:Do.length};break;case 81:this.$=Xe[an-1];break;case 83:case 97:case 153:this.$=Xe[an-1]+""+Xe[an];break;case 98:case 99:this.$=Xe[an-4],er.addClass(Xe[an-2],Xe[an]);break;case 100:this.$=Xe[an-4],er.setClass(Xe[an-2],Xe[an]);break;case 101:case 109:this.$=Xe[an-1],er.setClickEvent(Xe[an-1],Xe[an]);break;case 102:case 110:this.$=Xe[an-3],er.setClickEvent(Xe[an-3],Xe[an-2]),er.setTooltip(Xe[an-3],Xe[an]);break;case 103:this.$=Xe[an-2],er.setClickEvent(Xe[an-2],Xe[an-1],Xe[an]);break;case 104:this.$=Xe[an-4],er.setClickEvent(Xe[an-4],Xe[an-3],Xe[an-2]),er.setTooltip(Xe[an-4],Xe[an]);break;case 105:case 111:this.$=Xe[an-1],er.setLink(Xe[an-1],Xe[an]);break;case 106:case 112:this.$=Xe[an-3],er.setLink(Xe[an-3],Xe[an-2]),er.setTooltip(Xe[an-3],Xe[an]);break;case 107:case 113:this.$=Xe[an-3],er.setLink(Xe[an-3],Xe[an-2],Xe[an]);break;case 108:case 114:this.$=Xe[an-5],er.setLink(Xe[an-5],Xe[an-4],Xe[an]),er.setTooltip(Xe[an-5],Xe[an-2]);break;case 115:this.$=Xe[an-4],er.addVertex(Xe[an-2],void 0,void 0,Xe[an]);break;case 116:case 118:this.$=Xe[an-4],er.updateLink(Xe[an-2],Xe[an]);break;case 117:this.$=Xe[an-4],er.updateLink([Xe[an-2]],Xe[an]);break;case 119:this.$=Xe[an-8],er.updateLinkInterpolate([Xe[an-6]],Xe[an-2]),er.updateLink([Xe[an-6]],Xe[an]);break;case 120:this.$=Xe[an-8],er.updateLinkInterpolate(Xe[an-6],Xe[an-2]),er.updateLink(Xe[an-6],Xe[an]);break;case 121:this.$=Xe[an-6],er.updateLinkInterpolate([Xe[an-4]],Xe[an]);break;case 122:this.$=Xe[an-6],er.updateLinkInterpolate(Xe[an-4],Xe[an]);break;case 123:case 125:this.$=[Xe[an]];break;case 124:case 126:Xe[an-2].push(Xe[an]),this.$=Xe[an-2];break;case 128:this.$=Xe[an-1]+Xe[an];break;case 150:this.$=Xe[an];break;case 151:this.$=Xe[an-1]+""+Xe[an];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:O,16:4,21:z,22:F,24:Y},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:O,16:4,21:z,22:F,24:Y},D(W,q,{17:11}),{7:12,13:[1,13]},{16:14,21:z,22:F,24:Y},{16:15,21:z,22:F,24:Y},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:X,21:tt,22:nt,23:st,32:24,33:25,34:26,35:27,36:28,37:29,38:ct,43:31,44:lt,46:ht,48:bt,50:35,51:45,52:wt,54:46,66:mt,67:_t,86:Et,87:At,88:Ct,89:Ft,90:Lt,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,118:Nt,119:ce,120:Pt,121:de,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},{8:64,10:[1,65],15:Je},D([10,15],[2,6]),D(W,[2,17]),D(W,[2,18]),D(W,[2,19]),{20:[1,68],21:[1,69],22:qe,27:67,30:70},D(ze,[2,11]),D(ze,[2,12]),D(ze,[2,13]),D(ze,[2,14]),D(ze,[2,15]),D(ze,[2,16]),{9:72,20:we,21:Me,23:He,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:we,21:Me,23:He},{9:81,20:we,21:Me,23:He},{9:82,20:we,21:Me,23:He},{9:83,20:we,21:Me,23:He},{9:84,20:we,21:Me,23:He},{9:86,20:we,21:Me,22:[1,85],23:He},D(ze,[2,44]),{45:[1,87]},{47:[1,88]},D(ze,[2,47]),D(Le,[2,54],{30:89,22:qe}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:Ye,52:Kt,66:kt,67:jt,84:[1,97],91:$t,97:96,98:[1,94],100:[1,95],105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(ze,[2,158]),D(ze,[2,159]),D(ze,[2,160]),D(ze,[2,161]),D(zn,[2,55],{53:[1,116]}),D(Bn,[2,74],{116:129,40:[1,117],52:wt,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:mt,67:_t,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe}),D(Pn,[2,150]),D(Pn,[2,175]),D(Pn,[2,176]),D(Pn,[2,177]),D(Pn,[2,178]),D(Pn,[2,179]),D(Pn,[2,180]),D(Pn,[2,181]),D(Pn,[2,182]),D(Pn,[2,183]),D(Pn,[2,184]),D(Pn,[2,185]),D(Pn,[2,186]),D(Pn,[2,187]),D(Pn,[2,188]),D(Pn,[2,189]),D(Pn,[2,190]),{9:130,20:we,21:Me,23:He},{11:131,14:[1,132]},D(jn,[2,8]),D(W,[2,20]),D(W,[2,26]),D(W,[2,27]),{21:[1,133]},D(Jn,[2,34],{30:134,22:qe}),D(ze,[2,35]),{50:135,51:45,52:wt,54:46,66:mt,67:_t,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},D(rr,[2,48]),D(rr,[2,49]),D(rr,[2,50]),D(sr,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:on,24:ie,26:ne,38:xe,39:139,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),D(ze,[2,36]),D(ze,[2,37]),D(ze,[2,38]),D(ze,[2,39]),D(ze,[2,40]),{22:on,24:ie,26:ne,38:xe,39:163,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Fo,q,{17:164}),D(ze,[2,45]),D(ze,[2,46]),D(Le,[2,53],{52:xo}),{26:Ye,52:Kt,66:kt,67:jt,91:$t,97:166,102:[1,167],105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{95:[1,168],103:169,105:[1,170]},{26:Ye,52:Kt,66:kt,67:jt,91:$t,95:[1,171],97:172,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{26:Ye,52:Kt,66:kt,67:jt,91:$t,97:173,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(jn,[2,101],{22:[1,174],99:[1,175]}),D(jn,[2,105],{22:[1,176]}),D(jn,[2,109],{115:100,117:178,22:[1,177],26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn}),D(jn,[2,111],{22:[1,179]}),D(tr,[2,152]),D(tr,[2,154]),D(tr,[2,155]),D(tr,[2,156]),D(tr,[2,157]),D(Cr,[2,162]),D(Cr,[2,163]),D(Cr,[2,164]),D(Cr,[2,165]),D(Cr,[2,166]),D(Cr,[2,167]),D(Cr,[2,168]),D(Cr,[2,169]),D(Cr,[2,170]),D(Cr,[2,171]),D(Cr,[2,172]),D(Cr,[2,173]),D(Cr,[2,174]),{52:wt,54:180,66:mt,67:_t,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},{22:on,24:ie,26:ne,38:xe,39:181,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:182,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:184,42:Ae,52:Kt,57:[1,183],66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:185,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:186,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:187,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{66:[1,188]},{22:on,24:ie,26:ne,38:xe,39:189,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:190,42:Ae,52:Kt,66:kt,67:jt,71:[1,191],73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:192,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:193,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:194,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Pn,[2,151]),D(go,[2,3]),{8:195,15:Je},{15:[2,7]},D(W,[2,28]),D(Jn,[2,33]),D(Le,[2,51],{30:196,22:qe}),D(sr,[2,75],{22:[1,197]}),{22:[1,198]},{22:on,24:ie,26:ne,38:xe,39:199,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,82:[1,200],83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Cr,[2,82]),D(Cr,[2,84]),D(Cr,[2,140]),D(Cr,[2,141]),D(Cr,[2,142]),D(Cr,[2,143]),D(Cr,[2,144]),D(Cr,[2,145]),D(Cr,[2,146]),D(Cr,[2,147]),D(Cr,[2,148]),D(Cr,[2,149]),D(Cr,[2,85]),D(Cr,[2,86]),D(Cr,[2,87]),D(Cr,[2,88]),D(Cr,[2,89]),D(Cr,[2,90]),D(Cr,[2,91]),D(Cr,[2,92]),D(Cr,[2,93]),D(Cr,[2,94]),D(Cr,[2,95]),{9:203,20:we,21:Me,22:on,23:He,24:ie,26:ne,38:xe,40:[1,202],42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{18:18,19:19,20:X,21:tt,22:nt,23:st,32:24,33:25,34:26,35:27,36:28,37:29,38:ct,42:[1,204],43:31,44:lt,46:ht,48:bt,50:35,51:45,52:wt,54:46,66:mt,67:_t,86:Et,87:At,88:Ct,89:Ft,90:Lt,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,118:Nt,119:ce,120:Pt,121:de,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},{22:qe,30:205},{22:[1,206],26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:178,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},D(Un,[2,123]),{22:[1,211]},{22:[1,212],26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:178,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:[1,213],26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:178,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{84:[1,214]},D(jn,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},D(tr,[2,153]),{84:[1,219],101:[1,220]},D(zn,[2,57],{116:129,52:wt,66:mt,67:_t,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe}),{22:on,24:ie,26:ne,38:xe,41:[1,221],42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,56:[1,222],66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:223,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,58:[1,224],66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,60:[1,225],66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,62:[1,226],66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,64:[1,227],66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{67:[1,228]},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,70:[1,229],73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,72:[1,230],73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,39:231,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,41:[1,232],42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,73:Ve,75:[1,233],77:[1,234],81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,73:Ve,75:[1,236],77:[1,235],81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{9:237,20:we,21:Me,23:He},D(Le,[2,52],{52:xo}),D(sr,[2,77]),D(sr,[2,76]),{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,68:[1,238],73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(sr,[2,79]),D(Cr,[2,83]),{22:on,24:ie,26:ne,38:xe,39:239,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Fo,q,{17:240}),D(ze,[2,43]),{51:241,52:wt,54:46,66:mt,67:_t,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},{22:zi,66:uo,67:io,86:sn,96:242,102:En,105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{22:zi,66:uo,67:io,86:sn,96:256,102:En,105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{22:zi,66:uo,67:io,86:sn,96:257,102:En,104:[1,258],105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{22:zi,66:uo,67:io,86:sn,96:259,102:En,104:[1,260],105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{105:[1,261]},{22:zi,66:uo,67:io,86:sn,96:262,102:En,105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{22:zi,66:uo,67:io,86:sn,96:263,102:En,105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{26:Ye,52:Kt,66:kt,67:jt,91:$t,97:264,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(jn,[2,102]),{84:[1,265]},D(jn,[2,106],{22:[1,266]}),D(jn,[2,107]),D(jn,[2,110]),D(jn,[2,112],{22:[1,267]}),D(jn,[2,113]),D(Bn,[2,58]),D(Bn,[2,59]),{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,58:[1,268],66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Bn,[2,66]),D(Bn,[2,61]),D(Bn,[2,62]),D(Bn,[2,63]),{66:[1,269]},D(Bn,[2,65]),D(Bn,[2,67]),{22:on,24:ie,26:ne,38:xe,42:Ae,52:Kt,66:kt,67:jt,72:[1,270],73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Bn,[2,69]),D(Bn,[2,70]),D(Bn,[2,72]),D(Bn,[2,71]),D(Bn,[2,73]),D(go,[2,4]),D([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:on,24:ie,26:ne,38:xe,41:[1,271],42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{18:18,19:19,20:X,21:tt,22:nt,23:st,32:24,33:25,34:26,35:27,36:28,37:29,38:ct,42:[1,272],43:31,44:lt,46:ht,48:bt,50:35,51:45,52:wt,54:46,66:mt,67:_t,86:Et,87:At,88:Ct,89:Ft,90:Lt,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,118:Nt,119:ce,120:Pt,121:de,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},D(zn,[2,56]),D(jn,[2,115],{106:Or}),D(ci,[2,125],{108:274,22:zi,66:uo,67:io,86:sn,102:En,105:un,109:je,110:gn,111:In,112:Hn,113:Er}),D(Si,[2,127]),D(Si,[2,129]),D(Si,[2,130]),D(Si,[2,131]),D(Si,[2,132]),D(Si,[2,133]),D(Si,[2,134]),D(Si,[2,135]),D(Si,[2,136]),D(Si,[2,137]),D(Si,[2,138]),D(Si,[2,139]),D(jn,[2,116],{106:Or}),D(jn,[2,117],{106:Or}),{22:[1,275]},D(jn,[2,118],{106:Or}),{22:[1,276]},D(Un,[2,124]),D(jn,[2,98],{106:Or}),D(jn,[2,99],{106:Or}),D(jn,[2,100],{115:100,117:178,26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn}),D(jn,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:we,21:Me,23:He},D(ze,[2,42]),{22:zi,66:uo,67:io,86:sn,102:En,105:un,107:283,108:244,109:je,110:gn,111:In,112:Hn,113:Er},D(Si,[2,128]),{26:Ye,52:Kt,66:kt,67:jt,91:$t,97:284,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{26:Ye,52:Kt,66:kt,67:jt,91:$t,97:285,105:oe,106:Vt,109:Be,111:ge,112:Pe,115:100,117:98,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(jn,[2,108]),D(jn,[2,114]),D(Bn,[2,60]),{22:on,24:ie,26:ne,38:xe,39:286,42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:140,84:Ge,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},D(Bn,[2,68]),D(Fo,q,{17:287}),D(ci,[2,126],{108:274,22:zi,66:uo,67:io,86:sn,102:En,105:un,109:je,110:gn,111:In,112:Hn,113:Er}),D(jn,[2,121],{115:100,117:178,22:[1,288],26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn}),D(jn,[2,122],{115:100,117:178,22:[1,289],26:Ye,52:Kt,66:kt,67:jt,91:$t,105:oe,106:Vt,109:Be,111:ge,112:Pe,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn}),{22:on,24:ie,26:ne,38:xe,41:[1,290],42:Ae,52:Kt,66:kt,67:jt,73:Ve,81:vn,83:201,85:151,86:Dn,87:en,88:Fn,89:$n,90:Kn,91:Wn,92:mr,94:142,95:ir,105:oe,106:Vt,109:wr,111:ge,112:Pe,113:Lr,114:Dr,115:148,122:ke,123:$e,124:Fe,125:Qe,126:We,127:rn},{18:18,19:19,20:X,21:tt,22:nt,23:st,32:24,33:25,34:26,35:27,36:28,37:29,38:ct,42:[1,291],43:31,44:lt,46:ht,48:bt,50:35,51:45,52:wt,54:46,66:mt,67:_t,86:Et,87:At,88:Ct,89:Ft,90:Lt,91:Yt,95:Ht,105:qt,106:te,109:Xt,111:Dt,112:Qt,116:47,118:Nt,119:ce,120:Pt,121:de,122:ye,123:pe,124:ve,125:Ce,126:De,127:Oe},{22:zi,66:uo,67:io,86:sn,96:292,102:En,105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},{22:zi,66:uo,67:io,86:sn,96:293,102:En,105:un,107:243,108:244,109:je,110:gn,111:In,112:Hn,113:Er},D(Bn,[2,64]),D(ze,[2,41]),D(jn,[2,119],{106:Or}),D(jn,[2,120],{106:Or})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(_r,Ir){if(Ir.recoverable)this.trace(_r);else{var $r=new Error(_r);throw $r.hash=Ir,$r}},parse:function(_r){var Ir=this,$r=[0],er=[],Nr=[null],Xe=[],xs=this.table,an="",Do=0,Ka=0,ei=2,Pr=1,oc=Xe.slice.call(arguments,1),ur=Object.create(this.lexer),Yr={yy:{}};for(var Qs in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qs)&&(Yr.yy[Qs]=this.yy[Qs]);ur.setInput(_r,Yr.yy),Yr.yy.lexer=ur,Yr.yy.parser=this,typeof ur.yylloc>"u"&&(ur.yylloc={});var tl=ur.yylloc;Xe.push(tl);var _a=ur.options&&ur.options.ranges;typeof Yr.yy.parseError=="function"?this.parseError=Yr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Mo(){var Ps;return Ps=er.pop()||ur.lex()||Pr,typeof Ps!="number"&&(Ps instanceof Array&&(er=Ps,Ps=er.pop()),Ps=Ir.symbols_[Ps]||Ps),Ps}for(var ai,Es,Io,el,Yo={},wa,Os,Pl,gl;;){if(Es=$r[$r.length-1],this.defaultActions[Es]?Io=this.defaultActions[Es]:((ai===null||typeof ai>"u")&&(ai=Mo()),Io=xs[Es]&&xs[Es][ai]),typeof Io>"u"||!Io.length||!Io[0]){var zl="";gl=[];for(wa in xs[Es])this.terminals_[wa]&&wa>ei&&gl.push("'"+this.terminals_[wa]+"'");ur.showPosition?zl="Parse error on line "+(Do+1)+`:
`+ur.showPosition()+`
Expecting `+gl.join(", ")+", got '"+(this.terminals_[ai]||ai)+"'":zl="Parse error on line "+(Do+1)+": Unexpected "+(ai==Pr?"end of input":"'"+(this.terminals_[ai]||ai)+"'"),this.parseError(zl,{text:ur.match,token:this.terminals_[ai]||ai,line:ur.yylineno,loc:tl,expected:gl})}if(Io[0]instanceof Array&&Io.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Es+", token: "+ai);switch(Io[0]){case 1:$r.push(ai),Nr.push(ur.yytext),Xe.push(ur.yylloc),$r.push(Io[1]),ai=null,Ka=ur.yyleng,an=ur.yytext,Do=ur.yylineno,tl=ur.yylloc;break;case 2:if(Os=this.productions_[Io[1]][1],Yo.$=Nr[Nr.length-Os],Yo._$={first_line:Xe[Xe.length-(Os||1)].first_line,last_line:Xe[Xe.length-1].last_line,first_column:Xe[Xe.length-(Os||1)].first_column,last_column:Xe[Xe.length-1].last_column},_a&&(Yo._$.range=[Xe[Xe.length-(Os||1)].range[0],Xe[Xe.length-1].range[1]]),el=this.performAction.apply(Yo,[an,Ka,Do,Yr.yy,Io[1],Nr,Xe].concat(oc)),typeof el<"u")return el;Os&&($r=$r.slice(0,-1*Os*2),Nr=Nr.slice(0,-1*Os),Xe=Xe.slice(0,-1*Os)),$r.push(this.productions_[Io[1]][0]),Nr.push(Yo.$),Xe.push(Yo._$),Pl=xs[$r[$r.length-2]][$r[$r.length-1]],$r.push(Pl);break;case 3:return!0}}return!0}},mo=function(){var Uo={EOF:1,parseError:function(Ir,$r){if(this.yy.parser)this.yy.parser.parseError(Ir,$r);else throw new Error(Ir)},setInput:function(_r,Ir){return this.yy=Ir||this.yy||{},this._input=_r,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _r=this._input[0];this.yytext+=_r,this.yyleng++,this.offset++,this.match+=_r,this.matched+=_r;var Ir=_r.match(/(?:\r\n?|\n).*/g);return Ir?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_r},unput:function(_r){var Ir=_r.length,$r=_r.split(/(?:\r\n?|\n)/g);this._input=_r+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ir),this.offset-=Ir;var er=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$r.length-1&&(this.yylineno-=$r.length-1);var Nr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$r?($r.length===er.length?this.yylloc.first_column:0)+er[er.length-$r.length].length-$r[0].length:this.yylloc.first_column-Ir},this.options.ranges&&(this.yylloc.range=[Nr[0],Nr[0]+this.yyleng-Ir]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_r){this.unput(this.match.slice(_r))},pastInput:function(){var _r=this.matched.substr(0,this.matched.length-this.match.length);return(_r.length>20?"...":"")+_r.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _r=this.match;return _r.length<20&&(_r+=this._input.substr(0,20-_r.length)),(_r.substr(0,20)+(_r.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _r=this.pastInput(),Ir=new Array(_r.length+1).join("-");return _r+this.upcomingInput()+`
`+Ir+"^"},test_match:function(_r,Ir){var $r,er,Nr;if(this.options.backtrack_lexer&&(Nr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Nr.yylloc.range=this.yylloc.range.slice(0))),er=_r[0].match(/(?:\r\n?|\n).*/g),er&&(this.yylineno+=er.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:er?er[er.length-1].length-er[er.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_r[0].length},this.yytext+=_r[0],this.match+=_r[0],this.matches=_r,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_r[0].length),this.matched+=_r[0],$r=this.performAction.call(this,this.yy,this,Ir,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$r)return $r;if(this._backtrack){for(var Xe in Nr)this[Xe]=Nr[Xe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _r,Ir,$r,er;this._more||(this.yytext="",this.match="");for(var Nr=this._currentRules(),Xe=0;Xe<Nr.length;Xe++)if($r=this._input.match(this.rules[Nr[Xe]]),$r&&(!Ir||$r[0].length>Ir[0].length)){if(Ir=$r,er=Xe,this.options.backtrack_lexer){if(_r=this.test_match($r,Nr[Xe]),_r!==!1)return _r;if(this._backtrack){Ir=!1;continue}else return!1}else if(!this.options.flex)break}return Ir?(_r=this.test_match(Ir,Nr[er]),_r!==!1?_r:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ir=this.next();return Ir||this.lex()},begin:function(Ir){this.conditionStack.push(Ir)},popState:function(){var Ir=this.conditionStack.length-1;return Ir>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ir){return Ir=this.conditionStack.length-1-Math.abs(Ir||0),Ir>=0?this.conditionStack[Ir]:"INITIAL"},pushState:function(Ir){this.begin(Ir)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Ir,$r,er,Nr){switch(er){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return Ir.lex.firstGraph()&&this.begin("dir"),24;case 36:return Ir.lex.firstGraph()&&this.begin("dir"),24;case 37:return Ir.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return 101;case 44:return this.popState(),25;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Uo}();si.lexer=mo;function Co(){this.yy={}}return Co.prototype=si,si.Parser=Co,new Co}();parser$7.parser=parser$7;const parser$8=parser$7,flowDetector=(D,O)=>{var z,F;return((z=O==null?void 0:O.flowchart)==null?void 0:z.defaultRenderer)==="dagre-wrapper"||((F=O==null?void 0:O.flowchart)==null?void 0:F.defaultRenderer)==="elk"?!1:D.match(/^\s*graph/)!==null},flowDetectorV2=(D,O)=>{var z,F;return((z=O==null?void 0:O.flowchart)==null?void 0:z.defaultRenderer)==="dagre-d3"||((F=O==null?void 0:O.flowchart)==null?void 0:F.defaultRenderer)==="elk"?!1:D.match(/^\s*graph/)!==null?!0:D.match(/^\s*flowchart/)!==null},MERMAID_DOM_ID_PREFIX="flowchart-";let vertexCounter=0,config=getConfig$1(),vertices={},edges=[],classes$1={},subGraphs=[],subGraphLookup={},tooltips={},subCount=0,firstGraphFlag=!0,direction$1,version,funs$1=[];const sanitizeText=D=>common$1.sanitizeText(D,config),parseDirective$6=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},lookUpDomId=function(D){const O=Object.keys(vertices);for(const z of O)if(vertices[z].id===D)return vertices[z].domId;return D},addVertex=function(D,O,z,F,Y,W,q={}){let X,tt=D;tt!==void 0&&tt.trim().length!==0&&(vertices[tt]===void 0&&(vertices[tt]={id:tt,domId:MERMAID_DOM_ID_PREFIX+tt+"-"+vertexCounter,styles:[],classes:[]}),vertexCounter++,O!==void 0?(config=getConfig$1(),X=sanitizeText(O.trim()),X[0]==='"'&&X[X.length-1]==='"'&&(X=X.substring(1,X.length-1)),vertices[tt].text=X):vertices[tt].text===void 0&&(vertices[tt].text=D),z!==void 0&&(vertices[tt].type=z),F!=null&&F.forEach(function(nt){vertices[tt].styles.push(nt)}),Y!=null&&Y.forEach(function(nt){vertices[tt].classes.push(nt)}),W!==void 0&&(vertices[tt].dir=W),vertices[tt].props===void 0?vertices[tt].props=q:q!==void 0&&Object.assign(vertices[tt].props,q))},addSingleLink=function(D,O,z,F){const q={start:D,end:O,type:void 0,text:""};F=z.text,F!==void 0&&(q.text=sanitizeText(F.trim()),q.text[0]==='"'&&q.text[q.text.length-1]==='"'&&(q.text=q.text.substring(1,q.text.length-1))),z!==void 0&&(q.type=z.type,q.stroke=z.stroke,q.length=z.length),edges.push(q)},addLink=function(D,O,z,F){let Y,W;for(Y=0;Y<D.length;Y++)for(W=0;W<O.length;W++)addSingleLink(D[Y],O[W],z,F)},updateLinkInterpolate=function(D,O){D.forEach(function(z){z==="default"?edges.defaultInterpolate=O:edges[z].interpolate=O})},updateLink=function(D,O){D.forEach(function(z){z==="default"?edges.defaultStyle=O:(utils.isSubstringInArray("fill",O)===-1&&O.push("fill:none"),edges[z].style=O)})},addClass=function(D,O){classes$1[D]===void 0&&(classes$1[D]={id:D,styles:[],textStyles:[]}),O!=null&&O.forEach(function(z){if(z.match("color")){const Y=z.replace("fill","bgFill").replace("color","fill");classes$1[D].textStyles.push(Y)}classes$1[D].styles.push(z)})},setDirection$1=function(D){direction$1=D,direction$1.match(/.*</)&&(direction$1="RL"),direction$1.match(/.*\^/)&&(direction$1="BT"),direction$1.match(/.*>/)&&(direction$1="LR"),direction$1.match(/.*v/)&&(direction$1="TB"),direction$1==="TD"&&(direction$1="TB")},setClass$1=function(D,O){D.split(",").forEach(function(z){let F=z;vertices[F]!==void 0&&vertices[F].classes.push(O),subGraphLookup[F]!==void 0&&subGraphLookup[F].classes.push(O)})},setTooltip=function(D,O){D.split(",").forEach(function(z){O!==void 0&&(tooltips[version==="gen-1"?lookUpDomId(z):z]=sanitizeText(O))})},setClickFun$1=function(D,O,z){let F=lookUpDomId(D);if(getConfig$1().securityLevel!=="loose"||O===void 0)return;let Y=[];if(typeof z=="string"){Y=z.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let W=0;W<Y.length;W++){let q=Y[W].trim();q.charAt(0)==='"'&&q.charAt(q.length-1)==='"'&&(q=q.substr(1,q.length-2)),Y[W]=q}}Y.length===0&&Y.push(D),vertices[D]!==void 0&&(vertices[D].haveCallback=!0,funs$1.push(function(){const W=document.querySelector(`[id="${F}"]`);W!==null&&W.addEventListener("click",function(){utils.runFunc(O,...Y)},!1)}))},setLink$1=function(D,O,z){D.split(",").forEach(function(F){vertices[F]!==void 0&&(vertices[F].link=utils.formatUrl(O,config),vertices[F].linkTarget=z)}),setClass$1(D,"clickable")},getTooltip=function(D){return tooltips[D]},setClickEvent$1=function(D,O,z){D.split(",").forEach(function(F){setClickFun$1(F,O,z)}),setClass$1(D,"clickable")},bindFunctions$1=function(D){funs$1.forEach(function(O){O(D)})},getDirection$1=function(){return direction$1.trim()},getVertices=function(){return vertices},getEdges=function(){return edges},getClasses$4=function(){return classes$1},setupToolTips=function(D){let O=select(".mermaidTooltip");(O._groups||O)[0][0]===null&&(O=select("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select(D).select("svg").selectAll("g.node").on("mouseover",function(){const Y=select(this);if(Y.attr("title")===null)return;const q=this.getBoundingClientRect();O.transition().duration(200).style("opacity",".9"),O.text(Y.attr("title")).style("left",window.scrollX+q.left+(q.right-q.left)/2+"px").style("top",window.scrollY+q.top-14+document.body.scrollTop+"px"),O.html(O.html().replace(/&lt;br\/&gt;/g,"<br/>")),Y.classed("hover",!0)}).on("mouseout",function(){O.transition().duration(500).style("opacity",0),select(this).classed("hover",!1)})};funs$1.push(setupToolTips);const clear$6=function(D="gen-1"){vertices={},classes$1={},edges=[],funs$1=[setupToolTips],subGraphs=[],subGraphLookup={},subCount=0,tooltips=[],firstGraphFlag=!0,version=D,clear$g()},setGen=D=>{version=D||"gen-2"},defaultStyle=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph=function(D,O,z){let F=D.trim(),Y=z;D===z&&z.match(/\s/)&&(F=void 0);function W(st){const ct={boolean:{},number:{},string:{}},lt=[];let ht;return{nodeList:st.filter(function(wt){const mt=typeof wt;return wt.stmt&&wt.stmt==="dir"?(ht=wt.value,!1):wt.trim()===""?!1:mt in ct?ct[mt].hasOwnProperty(wt)?!1:ct[mt][wt]=!0:lt.includes(wt)?!1:lt.push(wt)}),dir:ht}}let q=[];const{nodeList:X,dir:tt}=W(q.concat.apply(q,O));if(q=X,version==="gen-1")for(let st=0;st<q.length;st++)q[st]=lookUpDomId(q[st]);F=F||"subGraph"+subCount,Y=Y||"",Y=sanitizeText(Y),subCount=subCount+1;const nt={id:F,nodes:q,title:Y.trim(),classes:[],dir:tt};return log$1.info("Adding",nt.id,nt.nodes,nt.dir),nt.nodes=makeUniq(nt,subGraphs).nodes,subGraphs.push(nt),subGraphLookup[F]=nt,F},getPosForId=function(D){for(const[O,z]of subGraphs.entries())if(z.id===D)return O;return-1};let secCount=-1;const posCrossRef=[],indexNodes2=function(D,O){const z=subGraphs[O].nodes;if(secCount=secCount+1,secCount>2e3)return;if(posCrossRef[secCount]=O,subGraphs[O].id===D)return{result:!0,count:0};let F=0,Y=1;for(;F<z.length;){const W=getPosForId(z[F]);if(W>=0){const q=indexNodes2(D,W);if(q.result)return{result:!0,count:Y+q.count};Y=Y+q.count}F=F+1}return{result:!1,count:Y}},getDepthFirstPos=function(D){return posCrossRef[D]},indexNodes=function(){secCount=-1,subGraphs.length>0&&indexNodes2("none",subGraphs.length-1)},getSubGraphs=function(){return subGraphs},firstGraph=()=>firstGraphFlag?(firstGraphFlag=!1,!0):!1,destructStartLink=D=>{let O=D.trim(),z="arrow_open";switch(O[0]){case"<":z="arrow_point",O=O.slice(1);break;case"x":z="arrow_cross",O=O.slice(1);break;case"o":z="arrow_circle",O=O.slice(1);break}let F="normal";return O.includes("=")&&(F="thick"),O.includes(".")&&(F="dotted"),{type:z,stroke:F}},countChar=(D,O)=>{const z=O.length;let F=0;for(let Y=0;Y<z;++Y)O[Y]===D&&++F;return F},destructEndLink=D=>{const O=D.trim();let z=O.slice(0,-1),F="arrow_open";switch(O.slice(-1)){case"x":F="arrow_cross",O[0]==="x"&&(F="double_"+F,z=z.slice(1));break;case">":F="arrow_point",O[0]==="<"&&(F="double_"+F,z=z.slice(1));break;case"o":F="arrow_circle",O[0]==="o"&&(F="double_"+F,z=z.slice(1));break}let Y="normal",W=z.length-1;z[0]==="="&&(Y="thick");let q=countChar(".",z);return q&&(Y="dotted",W=q),{type:F,stroke:Y,length:W}},destructLink=(D,O)=>{const z=destructEndLink(D);let F;if(O){if(F=destructStartLink(O),F.stroke!==z.stroke)return{type:"INVALID",stroke:"INVALID"};if(F.type==="arrow_open")F.type=z.type;else{if(F.type!==z.type)return{type:"INVALID",stroke:"INVALID"};F.type="double_"+F.type}return F.type==="double_arrow"&&(F.type="double_arrow_point"),F.length=z.length,F}return z},exists=(D,O)=>{let z=!1;return D.forEach(F=>{F.nodes.indexOf(O)>=0&&(z=!0)}),z},makeUniq=(D,O)=>{const z=[];return D.nodes.forEach((F,Y)=>{exists(O,F)||z.push(D.nodes[Y])}),{nodes:z}},lex={firstGraph},flowDb={parseDirective:parseDirective$6,defaultConfig:()=>defaultConfig.flowchart,setAccTitle,getAccTitle,getAccDescription,setAccDescription,addVertex,lookUpDomId,addLink,updateLinkInterpolate,updateLink,addClass,setDirection:setDirection$1,setClass:setClass$1,setTooltip,getTooltip,setClickEvent:setClickEvent$1,setLink:setLink$1,bindFunctions:bindFunctions$1,getDirection:getDirection$1,getVertices,getEdges,getClasses:getClasses$4,clear:clear$6,setGen,defaultStyle,addSubGraph,getDepthFirstPos,indexNodes,getSubGraphs,destructLink,lex,exists,makeUniq,setDiagramTitle,getDiagramTitle},db=Object.freeze(Object.defineProperty({__proto__:null,addClass,addLink,addSingleLink,addSubGraph,addVertex,bindFunctions:bindFunctions$1,clear:clear$6,default:flowDb,defaultStyle,destructLink,firstGraph,getClasses:getClasses$4,getDepthFirstPos,getDirection:getDirection$1,getEdges,getSubGraphs,getTooltip,getVertices,indexNodes,lex,lookUpDomId,parseDirective:parseDirective$6,setClass:setClass$1,setClickEvent:setClickEvent$1,setDirection:setDirection$1,setGen,setLink:setLink$1,updateLink,updateLinkInterpolate},Symbol.toStringTag,{value:"Module"}));function question(D,O,z){const F=O.width,Y=O.height,W=(F+Y)*.9,q=[{x:W/2,y:0},{x:W,y:-W/2},{x:W/2,y:-W},{x:0,y:-W/2}],X=insertPolygonShape(D,W,W,q);return z.intersect=function(tt){return intersectPolygon$1(z,q,tt)},X}function hexagon(D,O,z){const Y=O.height,W=Y/4,q=O.width+2*W,X=[{x:W,y:0},{x:q-W,y:0},{x:q,y:-Y/2},{x:q-W,y:-Y},{x:W,y:-Y},{x:0,y:-Y/2}],tt=insertPolygonShape(D,q,Y,X);return z.intersect=function(nt){return intersectPolygon$1(z,X,nt)},tt}function rect_left_inv_arrow(D,O,z){const F=O.width,Y=O.height,W=[{x:-Y/2,y:0},{x:F,y:0},{x:F,y:-Y},{x:-Y/2,y:-Y},{x:0,y:-Y/2}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function lean_right(D,O,z){const F=O.width,Y=O.height,W=[{x:-2*Y/6,y:0},{x:F-Y/6,y:0},{x:F+2*Y/6,y:-Y},{x:Y/6,y:-Y}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function lean_left(D,O,z){const F=O.width,Y=O.height,W=[{x:2*Y/6,y:0},{x:F+Y/6,y:0},{x:F-2*Y/6,y:-Y},{x:-Y/6,y:-Y}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function trapezoid(D,O,z){const F=O.width,Y=O.height,W=[{x:-2*Y/6,y:0},{x:F+2*Y/6,y:0},{x:F-Y/6,y:-Y},{x:Y/6,y:-Y}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function inv_trapezoid(D,O,z){const F=O.width,Y=O.height,W=[{x:Y/6,y:0},{x:F-Y/6,y:0},{x:F+2*Y/6,y:-Y},{x:-2*Y/6,y:-Y}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function rect_right_inv_arrow(D,O,z){const F=O.width,Y=O.height,W=[{x:0,y:0},{x:F+Y/2,y:0},{x:F,y:-Y/2},{x:F+Y/2,y:-Y},{x:0,y:-Y}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function stadium(D,O,z){const F=O.height,Y=O.width+F/4,W=D.insert("rect",":first-child").attr("rx",F/2).attr("ry",F/2).attr("x",-Y/2).attr("y",-F/2).attr("width",Y).attr("height",F);return z.intersect=function(q){return intersectRect$2(z,q)},W}function subroutine(D,O,z){const F=O.width,Y=O.height,W=[{x:0,y:0},{x:F,y:0},{x:F,y:-Y},{x:0,y:-Y},{x:0,y:0},{x:-8,y:0},{x:F+8,y:0},{x:F+8,y:-Y},{x:-8,y:-Y},{x:-8,y:0}],q=insertPolygonShape(D,F,Y,W);return z.intersect=function(X){return intersectPolygon$1(z,W,X)},q}function cylinder(D,O,z){const F=O.width,Y=F/2,W=Y/(2.5+F/50),q=O.height+W,X="M 0,"+W+" a "+Y+","+W+" 0,0,0 "+F+" 0 a "+Y+","+W+" 0,0,0 "+-F+" 0 l 0,"+q+" a "+Y+","+W+" 0,0,0 "+F+" 0 l 0,"+-q,tt=D.attr("label-offset-y",W).insert("path",":first-child").attr("d",X).attr("transform","translate("+-F/2+","+-(q/2+W)+")");return z.intersect=function(nt){const st=intersectRect$2(z,nt),ct=st.x-z.x;if(Y!=0&&(Math.abs(ct)<z.width/2||Math.abs(ct)==z.width/2&&Math.abs(st.y-z.y)>z.height/2-W)){let lt=W*W*(1-ct*ct/(Y*Y));lt!=0&&(lt=Math.sqrt(lt)),lt=W-lt,nt.y-z.y>0&&(lt=-lt),st.y+=lt}return st},tt}function addToRender(D){D.shapes().question=question,D.shapes().hexagon=hexagon,D.shapes().stadium=stadium,D.shapes().subroutine=subroutine,D.shapes().cylinder=cylinder,D.shapes().rect_left_inv_arrow=rect_left_inv_arrow,D.shapes().lean_right=lean_right,D.shapes().lean_left=lean_left,D.shapes().trapezoid=trapezoid,D.shapes().inv_trapezoid=inv_trapezoid,D.shapes().rect_right_inv_arrow=rect_right_inv_arrow}function addToRenderV2(D){D({question}),D({hexagon}),D({stadium}),D({subroutine}),D({cylinder}),D({rect_left_inv_arrow}),D({lean_right}),D({lean_left}),D({trapezoid}),D({inv_trapezoid}),D({rect_right_inv_arrow})}function insertPolygonShape(D,O,z,F){return D.insert("polygon",":first-child").attr("points",F.map(function(Y){return Y.x+","+Y.y}).join(" ")).attr("transform","translate("+-O/2+","+z/2+")")}const flowChartShapes={addToRender,addToRenderV2},conf$7={},setConf$7=function(D){const O=Object.keys(D);for(const z of O)conf$7[z]=D[z]},addVertices$1=function(D,O,z,F,Y,W){const q=F?F.select(`[id="${z}"]`):select(`[id="${z}"]`),X=Y||document;Object.keys(D).forEach(function(nt){const st=D[nt];let ct="default";st.classes.length>0&&(ct=st.classes.join(" "));const lt=getStylesFromArray(st.styles);let ht=st.text!==void 0?st.text:st.id,bt;if(evaluate(getConfig$1().flowchart.htmlLabels)){const _t={label:ht.replace(/fa[blrs]?:fa-[\w-]+/g,Et=>`<i class='${Et.replace(":"," ")}'></i>`)};bt=addHtmlLabel$1(q,_t).node(),bt.parentNode.removeChild(bt)}else{const _t=X.createElementNS("http://www.w3.org/2000/svg","text");_t.setAttribute("style",lt.labelStyle.replace("color:","fill:"));const Et=ht.split(common$1.lineBreakRegex);for(const At of Et){const Ct=X.createElementNS("http://www.w3.org/2000/svg","tspan");Ct.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Ct.setAttribute("dy","1em"),Ct.setAttribute("x","1"),Ct.textContent=At,_t.appendChild(Ct)}bt=_t}let wt=0,mt="";switch(st.type){case"round":wt=5,mt="rect";break;case"square":mt="rect";break;case"diamond":mt="question";break;case"hexagon":mt="hexagon";break;case"odd":mt="rect_left_inv_arrow";break;case"lean_right":mt="lean_right";break;case"lean_left":mt="lean_left";break;case"trapezoid":mt="trapezoid";break;case"inv_trapezoid":mt="inv_trapezoid";break;case"odd_right":mt="rect_left_inv_arrow";break;case"circle":mt="circle";break;case"ellipse":mt="ellipse";break;case"stadium":mt="stadium";break;case"subroutine":mt="subroutine";break;case"cylinder":mt="cylinder";break;case"group":mt="rect";break;default:mt="rect"}log$1.warn("Adding node",st.id,st.domId),O.setNode(W.db.lookUpDomId(st.id),{labelType:"svg",labelStyle:lt.labelStyle,shape:mt,label:bt,rx:wt,ry:wt,class:ct,style:lt.style,id:W.db.lookUpDomId(st.id)})})},addEdges$1=function(D,O,z){let F=0,Y,W;if(D.defaultStyle!==void 0){const q=getStylesFromArray(D.defaultStyle);Y=q.style,W=q.labelStyle}D.forEach(function(q){F++;var X="L-"+q.start+"-"+q.end,tt="LS-"+q.start,nt="LE-"+q.end;const st={};q.type==="arrow_open"?st.arrowhead="none":st.arrowhead="normal";let ct="",lt="";if(q.style!==void 0){const ht=getStylesFromArray(q.style);ct=ht.style,lt=ht.labelStyle}else switch(q.stroke){case"normal":ct="fill:none",Y!==void 0&&(ct=Y),W!==void 0&&(lt=W);break;case"dotted":ct="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":ct=" stroke-width: 3.5px;fill:none";break}st.style=ct,st.labelStyle=lt,q.interpolate!==void 0?st.curve=interpolateToCurve(q.interpolate,curveLinear):D.defaultInterpolate!==void 0?st.curve=interpolateToCurve(D.defaultInterpolate,curveLinear):st.curve=interpolateToCurve(conf$7.curve,curveLinear),q.text===void 0?q.style!==void 0&&(st.arrowheadStyle="fill: #333"):(st.arrowheadStyle="fill: #333",st.labelpos="c",evaluate(getConfig$1().flowchart.htmlLabels)?(st.labelType="html",st.label=`<span id="L-${X}" class="edgeLabel L-${tt}' L-${nt}" style="${st.labelStyle}">${q.text.replace(/fa[blrs]?:fa-[\w-]+/g,ht=>`<i class='${ht.replace(":"," ")}'></i>`)}</span>`):(st.labelType="text",st.label=q.text.replace(common$1.lineBreakRegex,`
`),q.style===void 0&&(st.style=st.style||"stroke: #333; stroke-width: 1.5px;fill:none"),st.labelStyle=st.labelStyle.replace("color:","fill:"))),st.id=X,st.class=tt+" "+nt,st.minlen=q.length||1,O.setEdge(z.db.lookUpDomId(q.start),z.db.lookUpDomId(q.end),st,F)})},getClasses$3=function(D,O){log$1.info("Extracting classes"),O.db.clear();try{return O.parse(D),O.db.getClasses()}catch(z){return log$1.error(z),{}}},draw$a=function(D,O,z,F){log$1.info("Drawing flowchart"),F.db.clear();const{securityLevel:Y,flowchart:W}=getConfig$1();let q;Y==="sandbox"&&(q=select("#i"+O));const X=select(Y==="sandbox"?q.nodes()[0].contentDocument.body:"body"),tt=Y==="sandbox"?q.nodes()[0].contentDocument:document;try{F.parser.parse(D)}catch{log$1.debug("Parsing failed")}let nt=F.db.getDirection();nt===void 0&&(nt="TD");const st=W.nodeSpacing||50,ct=W.rankSpacing||50,lt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:nt,nodesep:st,ranksep:ct,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let ht;const bt=F.db.getSubGraphs();for(let Lt=bt.length-1;Lt>=0;Lt--)ht=bt[Lt],F.db.addVertex(ht.id,ht.title,"group",void 0,ht.classes);const wt=F.db.getVertices();log$1.warn("Get vertices",wt);const mt=F.db.getEdges();let _t=0;for(_t=bt.length-1;_t>=0;_t--){ht=bt[_t],selectAll("cluster").append("text");for(let Lt=0;Lt<ht.nodes.length;Lt++)log$1.warn("Setting subgraph",ht.nodes[Lt],F.db.lookUpDomId(ht.nodes[Lt]),F.db.lookUpDomId(ht.id)),lt.setParent(F.db.lookUpDomId(ht.nodes[Lt]),F.db.lookUpDomId(ht.id))}addVertices$1(wt,lt,O,X,tt,F),addEdges$1(mt,lt,F);const Et=new render$2;flowChartShapes.addToRender(Et),Et.arrows().none=function(Yt,Ht,qt,te){const Dt=Yt.append("marker").attr("id",Ht).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");applyStyle$1(Dt,qt[te+"Style"])},Et.arrows().normal=function(Yt,Ht){Yt.append("marker").attr("id",Ht).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const At=X.select(`[id="${O}"]`),Ct=X.select("#"+O+" g");for(Et(Ct,lt),Ct.selectAll("g.node").attr("title",function(){return F.db.getTooltip(this.id)}),F.db.indexNodes("subGraph"+_t),_t=0;_t<bt.length;_t++)if(ht=bt[_t],ht.title!=="undefined"){const Lt=tt.querySelectorAll("#"+O+' [id="'+F.db.lookUpDomId(ht.id)+'"] rect'),Yt=tt.querySelectorAll("#"+O+' [id="'+F.db.lookUpDomId(ht.id)+'"]'),Ht=Lt[0].x.baseVal.value,qt=Lt[0].y.baseVal.value,te=Lt[0].width.baseVal.value,Dt=select(Yt[0]).select(".label");Dt.attr("transform",`translate(${Ht+te/2}, ${qt+14})`),Dt.attr("id",O+"Text");for(let Qt=0;Qt<ht.classes.length;Qt++)Yt[0].classList.add(ht.classes[Qt])}if(!W.htmlLabels){const Lt=tt.querySelectorAll('[id="'+O+'"] .edgeLabel .label');for(const Yt of Lt){const Ht=Yt.getBBox(),qt=tt.createElementNS("http://www.w3.org/2000/svg","rect");qt.setAttribute("rx",0),qt.setAttribute("ry",0),qt.setAttribute("width",Ht.width),qt.setAttribute("height",Ht.height),Yt.insertBefore(qt,Yt.firstChild)}}setupGraphViewbox$1(lt,At,W.diagramPadding,W.useMaxWidth),Object.keys(wt).forEach(function(Lt){const Yt=wt[Lt];if(Yt.link){const Ht=X.select("#"+O+' [id="'+F.db.lookUpDomId(Lt)+'"]');if(Ht){const qt=tt.createElementNS("http://www.w3.org/2000/svg","a");qt.setAttributeNS("http://www.w3.org/2000/svg","class",Yt.classes.join(" ")),qt.setAttributeNS("http://www.w3.org/2000/svg","href",Yt.link),qt.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),Y==="sandbox"?qt.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):Yt.linkTarget&&qt.setAttributeNS("http://www.w3.org/2000/svg","target",Yt.linkTarget);const te=Ht.insert(function(){return qt},":first-child"),Xt=Ht.select(".label-container");Xt&&te.append(function(){return Xt.node()});const Dt=Ht.select(".label");Dt&&te.append(function(){return Dt.node()})}}})},flowRenderer={setConf:setConf$7,addVertices:addVertices$1,addEdges:addEdges$1,getClasses:getClasses$3,draw:draw$a},conf$6={},setConf$6=function(D){const O=Object.keys(D);for(const z of O)conf$6[z]=D[z]},addVertices=function(D,O,z,F,Y,W){const q=F.select(`[id="${z}"]`);Object.keys(D).forEach(function(tt){const nt=D[tt];let st="default";nt.classes.length>0&&(st=nt.classes.join(" "));const ct=getStylesFromArray(nt.styles);let lt=nt.text!==void 0?nt.text:nt.id,ht;if(evaluate(getConfig$1().flowchart.htmlLabels)){const mt={label:lt.replace(/fa[blrs]?:fa-[\w-]+/g,_t=>`<i class='${_t.replace(":"," ")}'></i>`)};ht=addHtmlLabel$1(q,mt).node(),ht.parentNode.removeChild(ht)}else{const mt=Y.createElementNS("http://www.w3.org/2000/svg","text");mt.setAttribute("style",ct.labelStyle.replace("color:","fill:"));const _t=lt.split(common$1.lineBreakRegex);for(const Et of _t){const At=Y.createElementNS("http://www.w3.org/2000/svg","tspan");At.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),At.setAttribute("dy","1em"),At.setAttribute("x","1"),At.textContent=Et,mt.appendChild(At)}ht=mt}let bt=0,wt="";switch(nt.type){case"round":bt=5,wt="rect";break;case"square":wt="rect";break;case"diamond":wt="question";break;case"hexagon":wt="hexagon";break;case"odd":wt="rect_left_inv_arrow";break;case"lean_right":wt="lean_right";break;case"lean_left":wt="lean_left";break;case"trapezoid":wt="trapezoid";break;case"inv_trapezoid":wt="inv_trapezoid";break;case"odd_right":wt="rect_left_inv_arrow";break;case"circle":wt="circle";break;case"ellipse":wt="ellipse";break;case"stadium":wt="stadium";break;case"subroutine":wt="subroutine";break;case"cylinder":wt="cylinder";break;case"group":wt="rect";break;case"doublecircle":wt="doublecircle";break;default:wt="rect"}O.setNode(nt.id,{labelStyle:ct.labelStyle,shape:wt,labelText:lt,rx:bt,ry:bt,class:st,style:ct.style,id:nt.id,link:nt.link,linkTarget:nt.linkTarget,tooltip:W.db.getTooltip(nt.id)||"",domId:W.db.lookUpDomId(nt.id),haveCallback:nt.haveCallback,width:nt.type==="group"?500:void 0,dir:nt.dir,type:nt.type,props:nt.props,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:ct.labelStyle,shape:wt,labelText:lt,rx:bt,ry:bt,class:st,style:ct.style,id:nt.id,domId:W.db.lookUpDomId(nt.id),width:nt.type==="group"?500:void 0,type:nt.type,dir:nt.dir,props:nt.props,padding:getConfig$1().flowchart.padding})})},addEdges=function(D,O,z){log$1.info("abc78 edges = ",D);let F=0,Y={},W,q;if(D.defaultStyle!==void 0){const X=getStylesFromArray(D.defaultStyle);W=X.style,q=X.labelStyle}D.forEach(function(X){F++;var tt="L-"+X.start+"-"+X.end;Y[tt]===void 0?(Y[tt]=0,log$1.info("abc78 new entry",tt,Y[tt])):(Y[tt]++,log$1.info("abc78 new entry",tt,Y[tt]));let nt=tt+"-"+Y[tt];log$1.info("abc78 new link id to be used is",tt,nt,Y[tt]);var st="LS-"+X.start,ct="LE-"+X.end;const lt={style:"",labelStyle:""};switch(lt.minlen=X.length||1,X.type==="arrow_open"?lt.arrowhead="none":lt.arrowhead="normal",lt.arrowTypeStart="arrow_open",lt.arrowTypeEnd="arrow_open",X.type){case"double_arrow_cross":lt.arrowTypeStart="arrow_cross";case"arrow_cross":lt.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":lt.arrowTypeStart="arrow_point";case"arrow_point":lt.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":lt.arrowTypeStart="arrow_circle";case"arrow_circle":lt.arrowTypeEnd="arrow_circle";break}let ht="",bt="";switch(X.stroke){case"normal":ht="fill:none;",W!==void 0&&(ht=W),q!==void 0&&(bt=q),lt.thickness="normal",lt.pattern="solid";break;case"dotted":lt.thickness="normal",lt.pattern="dotted",lt.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":lt.thickness="thick",lt.pattern="solid",lt.style="stroke-width: 3.5px;fill:none;";break}if(X.style!==void 0){const wt=getStylesFromArray(X.style);ht=wt.style,bt=wt.labelStyle}lt.style=lt.style+=ht,lt.labelStyle=lt.labelStyle+=bt,X.interpolate!==void 0?lt.curve=interpolateToCurve(X.interpolate,curveLinear):D.defaultInterpolate!==void 0?lt.curve=interpolateToCurve(D.defaultInterpolate,curveLinear):lt.curve=interpolateToCurve(conf$6.curve,curveLinear),X.text===void 0?X.style!==void 0&&(lt.arrowheadStyle="fill: #333"):(lt.arrowheadStyle="fill: #333",lt.labelpos="c"),lt.labelType="text",lt.label=X.text.replace(common$1.lineBreakRegex,`
`),X.style===void 0&&(lt.style=lt.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),lt.labelStyle=lt.labelStyle.replace("color:","fill:"),lt.id=nt,lt.classes="flowchart-link "+st+" "+ct,O.setEdge(X.start,X.end,lt,F)})},getClasses$2=function(D,O){log$1.info("Extracting classes"),O.db.clear();try{return O.parse(D),O.db.getClasses()}catch{return}},draw$9=function(D,O,z,F){log$1.info("Drawing flowchart"),F.db.clear(),flowDb.setGen("gen-2"),F.parser.parse(D);let Y=F.db.getDirection();Y===void 0&&(Y="TD");const{securityLevel:W,flowchart:q}=getConfig$1(),X=q.nodeSpacing||50,tt=q.rankSpacing||50;let nt;W==="sandbox"&&(nt=select("#i"+O));const st=select(W==="sandbox"?nt.nodes()[0].contentDocument.body:"body"),ct=W==="sandbox"?nt.nodes()[0].contentDocument:document,lt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Y,nodesep:X,ranksep:tt,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let ht;const bt=F.db.getSubGraphs();log$1.info("Subgraphs - ",bt);for(let Ft=bt.length-1;Ft>=0;Ft--)ht=bt[Ft],log$1.info("Subgraph - ",ht),F.db.addVertex(ht.id,ht.title,"group",void 0,ht.classes,ht.dir);const wt=F.db.getVertices(),mt=F.db.getEdges();log$1.info("Edges",mt);let _t=0;for(_t=bt.length-1;_t>=0;_t--){ht=bt[_t],selectAll("cluster").append("text");for(let Ft=0;Ft<ht.nodes.length;Ft++)log$1.info("Setting up subgraphs",ht.nodes[Ft],ht.id),lt.setParent(ht.nodes[Ft],ht.id)}addVertices(wt,lt,O,st,ct,F),addEdges(mt,lt);const Et=st.select(`[id="${O}"]`),At=st.select("#"+O+" g");if(render$1(At,lt,["point","circle","cross"],"flowchart",O),utils.insertTitle(Et,"flowchartTitleText",q.titleTopMargin,F.db.getDiagramTitle()),setupGraphViewbox$1(lt,Et,q.diagramPadding,q.useMaxWidth),F.db.indexNodes("subGraph"+_t),!q.htmlLabels){const Ft=ct.querySelectorAll('[id="'+O+'"] .edgeLabel .label');for(const Lt of Ft){const Yt=Lt.getBBox(),Ht=ct.createElementNS("http://www.w3.org/2000/svg","rect");Ht.setAttribute("rx",0),Ht.setAttribute("ry",0),Ht.setAttribute("width",Yt.width),Ht.setAttribute("height",Yt.height),Lt.insertBefore(Ht,Lt.firstChild)}}Object.keys(wt).forEach(function(Ft){const Lt=wt[Ft];if(Lt.link){const Yt=select("#"+O+' [id="'+Ft+'"]');if(Yt){const Ht=ct.createElementNS("http://www.w3.org/2000/svg","a");Ht.setAttributeNS("http://www.w3.org/2000/svg","class",Lt.classes.join(" ")),Ht.setAttributeNS("http://www.w3.org/2000/svg","href",Lt.link),Ht.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),W==="sandbox"?Ht.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):Lt.linkTarget&&Ht.setAttributeNS("http://www.w3.org/2000/svg","target",Lt.linkTarget);const qt=Yt.insert(function(){return Ht},":first-child"),te=Yt.select(".label-container");te&&qt.append(function(){return te.node()});const Xt=Yt.select(".label");Xt&&qt.append(function(){return Xt.node()})}}})},flowRendererV2={setConf:setConf$6,addVertices,addEdges,getClasses:getClasses$2,draw:draw$9};var parser$6=function(){var D=function(Ht,qt,te,Xt){for(te=te||{},Xt=Ht.length;Xt--;te[Ht[Xt]]=qt);return te},O=[1,3],z=[1,5],F=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],Y=[1,15],W=[1,16],q=[1,17],X=[1,18],tt=[1,19],nt=[1,20],st=[1,21],ct=[1,22],lt=[1,23],ht=[1,24],bt=[1,25],wt=[1,26],mt=[1,27],_t=[1,29],Et=[1,31],At=[1,34],Ct=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],Ft={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(qt,te,Xt,Dt,Qt,Nt,ce){var Pt=Nt.length-1;switch(Qt){case 2:return Nt[Pt-1];case 3:this.$=[];break;case 4:Nt[Pt-1].push(Nt[Pt]),this.$=Nt[Pt-1];break;case 5:case 6:this.$=Nt[Pt];break;case 7:case 8:this.$=[];break;case 9:Dt.setDateFormat(Nt[Pt].substr(11)),this.$=Nt[Pt].substr(11);break;case 10:Dt.enableInclusiveEndDates(),this.$=Nt[Pt].substr(18);break;case 11:Dt.TopAxis(),this.$=Nt[Pt].substr(8);break;case 12:Dt.setAxisFormat(Nt[Pt].substr(11)),this.$=Nt[Pt].substr(11);break;case 13:Dt.setTickInterval(Nt[Pt].substr(13)),this.$=Nt[Pt].substr(13);break;case 14:Dt.setExcludes(Nt[Pt].substr(9)),this.$=Nt[Pt].substr(9);break;case 15:Dt.setIncludes(Nt[Pt].substr(9)),this.$=Nt[Pt].substr(9);break;case 16:Dt.setTodayMarker(Nt[Pt].substr(12)),this.$=Nt[Pt].substr(12);break;case 17:Dt.setDiagramTitle(Nt[Pt].substr(6)),this.$=Nt[Pt].substr(6);break;case 18:this.$=Nt[Pt].trim(),Dt.setAccTitle(this.$);break;case 19:case 20:this.$=Nt[Pt].trim(),Dt.setAccDescription(this.$);break;case 21:Dt.addSection(Nt[Pt].substr(8)),this.$=Nt[Pt].substr(8);break;case 23:Dt.addTask(Nt[Pt-1],Nt[Pt]),this.$="task";break;case 27:this.$=Nt[Pt-1],Dt.setClickEvent(Nt[Pt-1],Nt[Pt],null);break;case 28:this.$=Nt[Pt-2],Dt.setClickEvent(Nt[Pt-2],Nt[Pt-1],Nt[Pt]);break;case 29:this.$=Nt[Pt-2],Dt.setClickEvent(Nt[Pt-2],Nt[Pt-1],null),Dt.setLink(Nt[Pt-2],Nt[Pt]);break;case 30:this.$=Nt[Pt-3],Dt.setClickEvent(Nt[Pt-3],Nt[Pt-2],Nt[Pt-1]),Dt.setLink(Nt[Pt-3],Nt[Pt]);break;case 31:this.$=Nt[Pt-2],Dt.setClickEvent(Nt[Pt-2],Nt[Pt],null),Dt.setLink(Nt[Pt-2],Nt[Pt-1]);break;case 32:this.$=Nt[Pt-3],Dt.setClickEvent(Nt[Pt-3],Nt[Pt-1],Nt[Pt]),Dt.setLink(Nt[Pt-3],Nt[Pt-2]);break;case 33:this.$=Nt[Pt-1],Dt.setLink(Nt[Pt-1],Nt[Pt]);break;case 34:case 40:this.$=Nt[Pt-1]+" "+Nt[Pt];break;case 35:case 36:case 38:this.$=Nt[Pt-2]+" "+Nt[Pt-1]+" "+Nt[Pt];break;case 37:case 39:this.$=Nt[Pt-3]+" "+Nt[Pt-2]+" "+Nt[Pt-1]+" "+Nt[Pt];break;case 41:Dt.parseDirective("%%{","open_directive");break;case 42:Dt.parseDirective(Nt[Pt],"type_directive");break;case 43:Nt[Pt]=Nt[Pt].trim().replace(/'/g,'"'),Dt.parseDirective(Nt[Pt],"arg_directive");break;case 44:Dt.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:O,30:4,40:z},{1:[3]},{3:6,4:2,5:O,30:4,40:z},D(F,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:Y,13:W,14:q,15:X,16:tt,17:nt,18:st,19:ct,20:lt,21:ht,23:bt,25:wt,26:mt,27:28,28:_t,30:4,35:Et,40:z},{32:32,33:[1,33],43:At},D([33,43],[2,42]),D(F,[2,8],{1:[2,2]}),D(F,[2,4]),{4:30,10:35,12:Y,13:W,14:q,15:X,16:tt,17:nt,18:st,19:ct,20:lt,21:ht,23:bt,25:wt,26:mt,27:28,28:_t,30:4,35:Et,40:z},D(F,[2,6]),D(F,[2,7]),D(F,[2,9]),D(F,[2,10]),D(F,[2,11]),D(F,[2,12]),D(F,[2,13]),D(F,[2,14]),D(F,[2,15]),D(F,[2,16]),D(F,[2,17]),{22:[1,36]},{24:[1,37]},D(F,[2,20]),D(F,[2,21]),D(F,[2,22]),{29:[1,38]},D(F,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},D(F,[2,5]),D(F,[2,18]),D(F,[2,19]),D(F,[2,23]),D(F,[2,27],{37:[1,44],38:[1,45]}),D(F,[2,33],{36:[1,46]}),D(Ct,[2,25]),{32:47,43:At},{43:[2,43]},D(F,[2,28],{38:[1,48]}),D(F,[2,29]),D(F,[2,31],{37:[1,49]}),{11:[1,50]},D(F,[2,30]),D(F,[2,32]),D(Ct,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(qt,te){if(te.recoverable)this.trace(qt);else{var Xt=new Error(qt);throw Xt.hash=te,Xt}},parse:function(qt){var te=this,Xt=[0],Dt=[],Qt=[null],Nt=[],ce=this.table,Pt="",de=0,ye=0,pe=2,ve=1,Ce=Nt.slice.call(arguments,1),De=Object.create(this.lexer),Oe={yy:{}};for(var Je in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Je)&&(Oe.yy[Je]=this.yy[Je]);De.setInput(qt,Oe.yy),Oe.yy.lexer=De,Oe.yy.parser=this,typeof De.yylloc>"u"&&(De.yylloc={});var qe=De.yylloc;Nt.push(qe);var ze=De.options&&De.options.ranges;typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function we(){var Be;return Be=Dt.pop()||De.lex()||ve,typeof Be!="number"&&(Be instanceof Array&&(Dt=Be,Be=Dt.pop()),Be=te.symbols_[Be]||Be),Be}for(var Me,He,Le,Ye,Kt={},kt,jt,$t,oe;;){if(He=Xt[Xt.length-1],this.defaultActions[He]?Le=this.defaultActions[He]:((Me===null||typeof Me>"u")&&(Me=we()),Le=ce[He]&&ce[He][Me]),typeof Le>"u"||!Le.length||!Le[0]){var Vt="";oe=[];for(kt in ce[He])this.terminals_[kt]&&kt>pe&&oe.push("'"+this.terminals_[kt]+"'");De.showPosition?Vt="Parse error on line "+(de+1)+`:
`+De.showPosition()+`
Expecting `+oe.join(", ")+", got '"+(this.terminals_[Me]||Me)+"'":Vt="Parse error on line "+(de+1)+": Unexpected "+(Me==ve?"end of input":"'"+(this.terminals_[Me]||Me)+"'"),this.parseError(Vt,{text:De.match,token:this.terminals_[Me]||Me,line:De.yylineno,loc:qe,expected:oe})}if(Le[0]instanceof Array&&Le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+Me);switch(Le[0]){case 1:Xt.push(Me),Qt.push(De.yytext),Nt.push(De.yylloc),Xt.push(Le[1]),Me=null,ye=De.yyleng,Pt=De.yytext,de=De.yylineno,qe=De.yylloc;break;case 2:if(jt=this.productions_[Le[1]][1],Kt.$=Qt[Qt.length-jt],Kt._$={first_line:Nt[Nt.length-(jt||1)].first_line,last_line:Nt[Nt.length-1].last_line,first_column:Nt[Nt.length-(jt||1)].first_column,last_column:Nt[Nt.length-1].last_column},ze&&(Kt._$.range=[Nt[Nt.length-(jt||1)].range[0],Nt[Nt.length-1].range[1]]),Ye=this.performAction.apply(Kt,[Pt,ye,de,Oe.yy,Le[1],Qt,Nt].concat(Ce)),typeof Ye<"u")return Ye;jt&&(Xt=Xt.slice(0,-1*jt*2),Qt=Qt.slice(0,-1*jt),Nt=Nt.slice(0,-1*jt)),Xt.push(this.productions_[Le[1]][0]),Qt.push(Kt.$),Nt.push(Kt._$),$t=ce[Xt[Xt.length-2]][Xt[Xt.length-1]],Xt.push($t);break;case 3:return!0}}return!0}},Lt=function(){var Ht={EOF:1,parseError:function(te,Xt){if(this.yy.parser)this.yy.parser.parseError(te,Xt);else throw new Error(te)},setInput:function(qt,te){return this.yy=te||this.yy||{},this._input=qt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qt=this._input[0];this.yytext+=qt,this.yyleng++,this.offset++,this.match+=qt,this.matched+=qt;var te=qt.match(/(?:\r\n?|\n).*/g);return te?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qt},unput:function(qt){var te=qt.length,Xt=qt.split(/(?:\r\n?|\n)/g);this._input=qt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-te),this.offset-=te;var Dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Xt.length-1&&(this.yylineno-=Xt.length-1);var Qt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Xt?(Xt.length===Dt.length?this.yylloc.first_column:0)+Dt[Dt.length-Xt.length].length-Xt[0].length:this.yylloc.first_column-te},this.options.ranges&&(this.yylloc.range=[Qt[0],Qt[0]+this.yyleng-te]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(qt){this.unput(this.match.slice(qt))},pastInput:function(){var qt=this.matched.substr(0,this.matched.length-this.match.length);return(qt.length>20?"...":"")+qt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qt=this.match;return qt.length<20&&(qt+=this._input.substr(0,20-qt.length)),(qt.substr(0,20)+(qt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qt=this.pastInput(),te=new Array(qt.length+1).join("-");return qt+this.upcomingInput()+`
`+te+"^"},test_match:function(qt,te){var Xt,Dt,Qt;if(this.options.backtrack_lexer&&(Qt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qt.yylloc.range=this.yylloc.range.slice(0))),Dt=qt[0].match(/(?:\r\n?|\n).*/g),Dt&&(this.yylineno+=Dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Dt?Dt[Dt.length-1].length-Dt[Dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qt[0].length},this.yytext+=qt[0],this.match+=qt[0],this.matches=qt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qt[0].length),this.matched+=qt[0],Xt=this.performAction.call(this,this.yy,this,te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Xt)return Xt;if(this._backtrack){for(var Nt in Qt)this[Nt]=Qt[Nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var qt,te,Xt,Dt;this._more||(this.yytext="",this.match="");for(var Qt=this._currentRules(),Nt=0;Nt<Qt.length;Nt++)if(Xt=this._input.match(this.rules[Qt[Nt]]),Xt&&(!te||Xt[0].length>te[0].length)){if(te=Xt,Dt=Nt,this.options.backtrack_lexer){if(qt=this.test_match(Xt,Qt[Nt]),qt!==!1)return qt;if(this._backtrack){te=!1;continue}else return!1}else if(!this.options.flex)break}return te?(qt=this.test_match(te,Qt[Dt]),qt!==!1?qt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var te=this.next();return te||this.lex()},begin:function(te){this.conditionStack.push(te)},popState:function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},pushState:function(te){this.begin(te)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(te,Xt,Dt,Qt){switch(Dt){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return Ht}();Ft.lexer=Lt;function Yt(){this.yy={}}return Yt.prototype=Ft,Ft.Parser=Yt,new Yt}();parser$6.parser=parser$6;const ganttParser=parser$6,ganttDetector=D=>D.match(/^\s*gantt/)!==null;dayjs.extend(dayjsIsoWeek);dayjs.extend(dayjsCustomParseFormat);dayjs.extend(dayjsAdvancedFormat);let dateFormat="",axisFormat="",tickInterval,todayMarker="",includes=[],excludes=[],links={},sections$2=[],tasks$1=[],currentSection$1="";const tags=["active","done","crit","milestone"];let funs=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0;const parseDirective$5=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},clear$5=function(){sections$2=[],tasks$1=[],currentSection$1="",funs=[],taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks$1=[],dateFormat="",axisFormat="",tickInterval=void 0,todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={},clear$g()},setAxisFormat=function(D){axisFormat=D},getAxisFormat=function(){return axisFormat},setTickInterval=function(D){tickInterval=D},getTickInterval=function(){return tickInterval},setTodayMarker=function(D){todayMarker=D},getTodayMarker=function(){return todayMarker},setDateFormat=function(D){dateFormat=D},enableInclusiveEndDates=function(){inclusiveEndDates=!0},endDatesAreInclusive=function(){return inclusiveEndDates},enableTopAxis=function(){topAxis=!0},topAxisEnabled=function(){return topAxis},getDateFormat=function(){return dateFormat},setIncludes=function(D){includes=D.toLowerCase().split(/[\s,]+/)},getIncludes=function(){return includes},setExcludes=function(D){excludes=D.toLowerCase().split(/[\s,]+/)},getExcludes=function(){return excludes},getLinks=function(){return links},addSection$2=function(D){currentSection$1=D,sections$2.push(D)},getSections$2=function(){return sections$2},getTasks$1=function(){let D=compileTasks$1();const O=10;let z=0;for(;!D&&z<O;)D=compileTasks$1(),z++;return tasks$1=rawTasks$1,tasks$1},isInvalidDate=function(D,O,z,F){return F.includes(D.format(O.trim()))?!1:D.isoWeekday()>=6&&z.includes("weekends")||z.includes(D.format("dddd").toLowerCase())?!0:z.includes(D.format(O.trim()))},checkTaskDates=function(D,O,z,F){if(!z.length||D.manualEndTime)return;let Y;D.startTime instanceof Date?Y=dayjs(D.startTime):Y=dayjs(D.startTime,O,!0),Y=Y.add(1,"d");let W;D.endTime instanceof Date?W=dayjs(D.endTime):W=dayjs(D.endTime,O,!0);const[q,X]=fixTaskDates(Y,W,O,z,F);D.endTime=q.toDate(),D.renderEndTime=X},fixTaskDates=function(D,O,z,F,Y){let W=!1,q=null;for(;D<=O;)W||(q=O.toDate()),W=isInvalidDate(D,z,F,Y),W&&(O=O.add(1,"d")),D=D.add(1,"d");return[O,q]},getStartDate=function(D,O,z){z=z.trim();const Y=/^after\s+([\d\w- ]+)/.exec(z.trim());if(Y!==null){let q=null;if(Y[1].split(" ").forEach(function(X){let tt=findTaskById(X);tt!==void 0&&(q?tt.endTime>q.endTime&&(q=tt):q=tt)}),q)return q.endTime;{const X=new Date;return X.setHours(0,0,0,0),X}}let W=dayjs(z,O.trim(),!0);if(W.isValid())return W.toDate();{log$1.debug("Invalid date:"+z),log$1.debug("With date format:"+O.trim());const q=new Date(z);if(q===void 0||isNaN(q.getTime()))throw new Error("Invalid date:"+z);return q}},parseDuration=function(D){const O=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(D.trim());return O!==null?[Number.parseFloat(O[1]),O[2]]:[NaN,"ms"]},getEndDate=function(D,O,z,F=!1){z=z.trim();let Y=dayjs(z,O.trim(),!0);if(Y.isValid())return F&&(Y=Y.add(1,"d")),Y.toDate();let W=dayjs(D);const[q,X]=parseDuration(z);if(!Number.isNaN(q)){const tt=W.add(q,X);tt.isValid()&&(W=tt)}return W.toDate()};let taskCnt=0;const parseId=function(D){return D===void 0?(taskCnt=taskCnt+1,"task"+taskCnt):D},compileData=function(D,O){let z;O.substr(0,1)===":"?z=O.substr(1,O.length):z=O;const F=z.split(","),Y={};getTaskTags(F,Y,tags);for(let q=0;q<F.length;q++)F[q]=F[q].trim();let W="";switch(F.length){case 1:Y.id=parseId(),Y.startTime=D.endTime,W=F[0];break;case 2:Y.id=parseId(),Y.startTime=getStartDate(void 0,dateFormat,F[0]),W=F[1];break;case 3:Y.id=parseId(F[0]),Y.startTime=getStartDate(void 0,dateFormat,F[1]),W=F[2];break}return W&&(Y.endTime=getEndDate(Y.startTime,dateFormat,W,inclusiveEndDates),Y.manualEndTime=dayjs(W,"YYYY-MM-DD",!0).isValid(),checkTaskDates(Y,dateFormat,excludes,includes)),Y},parseData=function(D,O){let z;O.substr(0,1)===":"?z=O.substr(1,O.length):z=O;const F=z.split(","),Y={};getTaskTags(F,Y,tags);for(let W=0;W<F.length;W++)F[W]=F[W].trim();switch(F.length){case 1:Y.id=parseId(),Y.startTime={type:"prevTaskEnd",id:D},Y.endTime={data:F[0]};break;case 2:Y.id=parseId(),Y.startTime={type:"getStartDate",startData:F[0]},Y.endTime={data:F[1]};break;case 3:Y.id=parseId(F[0]),Y.startTime={type:"getStartDate",startData:F[1]},Y.endTime={data:F[2]};break}return Y};let lastTask,lastTaskID,rawTasks$1=[];const taskDb={},addTask$1=function(D,O){const z={section:currentSection$1,type:currentSection$1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:O},task:D,classes:[]},F=parseData(lastTaskID,O);z.raw.startTime=F.startTime,z.raw.endTime=F.endTime,z.id=F.id,z.prevTaskId=lastTaskID,z.active=F.active,z.done=F.done,z.crit=F.crit,z.milestone=F.milestone,z.order=lastOrder,lastOrder++;const Y=rawTasks$1.push(z);lastTaskID=z.id,taskDb[z.id]=Y-1},findTaskById=function(D){const O=taskDb[D];return rawTasks$1[O]},addTaskOrg$1=function(D,O){const z={section:currentSection$1,type:currentSection$1,description:D,task:D,classes:[]},F=compileData(lastTask,O);z.startTime=F.startTime,z.endTime=F.endTime,z.id=F.id,z.active=F.active,z.done=F.done,z.crit=F.crit,z.milestone=F.milestone,lastTask=z,tasks$1.push(z)},compileTasks$1=function(){const D=function(z){const F=rawTasks$1[z];let Y="";switch(rawTasks$1[z].raw.startTime.type){case"prevTaskEnd":{const W=findTaskById(F.prevTaskId);F.startTime=W.endTime;break}case"getStartDate":Y=getStartDate(void 0,dateFormat,rawTasks$1[z].raw.startTime.startData),Y&&(rawTasks$1[z].startTime=Y);break}return rawTasks$1[z].startTime&&(rawTasks$1[z].endTime=getEndDate(rawTasks$1[z].startTime,dateFormat,rawTasks$1[z].raw.endTime.data,inclusiveEndDates),rawTasks$1[z].endTime&&(rawTasks$1[z].processed=!0,rawTasks$1[z].manualEndTime=dayjs(rawTasks$1[z].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks$1[z],dateFormat,excludes,includes))),rawTasks$1[z].processed};let O=!0;for(const[z,F]of rawTasks$1.entries())D(z),O=O&&F.processed;return O},setLink=function(D,O){let z=O;getConfig$1().securityLevel!=="loose"&&(z=dist.sanitizeUrl(O)),D.split(",").forEach(function(F){findTaskById(F)!==void 0&&(pushFun(F,()=>{window.open(z,"_self")}),links[F]=z)}),setClass(D,"clickable")},setClass=function(D,O){D.split(",").forEach(function(z){let F=findTaskById(z);F!==void 0&&F.classes.push(O)})},setClickFun=function(D,O,z){if(getConfig$1().securityLevel!=="loose"||O===void 0)return;let F=[];if(typeof z=="string"){F=z.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let W=0;W<F.length;W++){let q=F[W].trim();q.charAt(0)==='"'&&q.charAt(q.length-1)==='"'&&(q=q.substr(1,q.length-2)),F[W]=q}}F.length===0&&F.push(D),findTaskById(D)!==void 0&&pushFun(D,()=>{utils.runFunc(O,...F)})},pushFun=function(D,O){funs.push(function(){const z=document.querySelector(`[id="${D}"]`);z!==null&&z.addEventListener("click",function(){O()})},function(){const z=document.querySelector(`[id="${D}-text"]`);z!==null&&z.addEventListener("click",function(){O()})})},setClickEvent=function(D,O,z){D.split(",").forEach(function(F){setClickFun(F,O,z)}),setClass(D,"clickable")},bindFunctions=function(D){funs.forEach(function(O){O(D)})},ganttDb={parseDirective:parseDirective$5,getConfig:()=>getConfig$1().gantt,clear:clear$5,setDateFormat,getDateFormat,enableInclusiveEndDates,endDatesAreInclusive,enableTopAxis,topAxisEnabled,setAxisFormat,getAxisFormat,setTickInterval,getTickInterval,setTodayMarker,getTodayMarker,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setAccDescription,getAccDescription,addSection:addSection$2,getSections:getSections$2,getTasks:getTasks$1,addTask:addTask$1,findTaskById,addTaskOrg:addTaskOrg$1,setIncludes,getIncludes,setExcludes,getExcludes,setClickEvent,setLink,getLinks,bindFunctions,parseDuration,isInvalidDate};function getTaskTags(D,O,z){let F=!0;for(;F;)F=!1,z.forEach(function(Y){const W="^\\s*"+Y+"\\s*$",q=new RegExp(W);D[0].match(q)&&(O[Y]=!0,D.shift(1),F=!0)})}const setConf$5=function(){log$1.debug("Something is calling, setConf, remove the call")};let w;const draw$8=function(D,O,z,F){const Y=getConfig$1().gantt,W=getConfig$1().securityLevel;let q;W==="sandbox"&&(q=select("#i"+O));const X=select(W==="sandbox"?q.nodes()[0].contentDocument.body:"body"),tt=W==="sandbox"?q.nodes()[0].contentDocument:document,nt=tt.getElementById(O);w=nt.parentElement.offsetWidth,w===void 0&&(w=1200),Y.useWidth!==void 0&&(w=Y.useWidth);const st=F.db.getTasks(),ct=st.length*(Y.barHeight+Y.barGap)+2*Y.topPadding;nt.setAttribute("viewBox","0 0 "+w+" "+ct);const lt=X.select(`[id="${O}"]`),ht=time$1().domain([min$2(st,function(te){return te.startTime}),max$2(st,function(te){return te.endTime})]).rangeRound([0,w-Y.leftPadding-Y.rightPadding]);let bt=[];for(const te of st)bt.push(te.type);const wt=bt;bt=Yt(bt);function mt(te,Xt){const Dt=te.startTime,Qt=Xt.startTime;let Nt=0;return Dt>Qt?Nt=1:Dt<Qt&&(Nt=-1),Nt}st.sort(mt),_t(st,w,ct),configureSvgSize(lt,ct,w,Y.useMaxWidth),lt.append("text").text(F.db.getDiagramTitle()).attr("x",w/2).attr("y",Y.titleTopMargin).attr("class","titleText");function _t(te,Xt,Dt){const Qt=Y.barHeight,Nt=Qt+Y.barGap,ce=Y.topPadding,Pt=Y.leftPadding,de=linear().domain([0,bt.length]).range(["#00B9FA","#F95002"]).interpolate(interpolateHcl);At(Nt,ce,Pt,Xt,Dt,te,F.db.getExcludes(),F.db.getIncludes()),Ct(Pt,ce,Xt,Dt),Et(te,Nt,ce,Pt,Qt,de,Xt),Ft(Nt,ce),Lt(Pt,ce,Xt,Dt)}function Et(te,Xt,Dt,Qt,Nt,ce,Pt){lt.append("g").selectAll("rect").data(te).enter().append("rect").attr("x",0).attr("y",function(ve,Ce){return Ce=ve.order,Ce*Xt+Dt-2}).attr("width",function(){return Pt-Y.rightPadding/2}).attr("height",Xt).attr("class",function(ve){for(const[Ce,De]of bt.entries())if(ve.type===De)return"section section"+Ce%Y.numberSectionStyles;return"section section0"});const de=lt.append("g").selectAll("rect").data(te).enter(),ye=F.db.getLinks();if(de.append("rect").attr("id",function(ve){return ve.id}).attr("rx",3).attr("ry",3).attr("x",function(ve){return ve.milestone?ht(ve.startTime)+Qt+.5*(ht(ve.endTime)-ht(ve.startTime))-.5*Nt:ht(ve.startTime)+Qt}).attr("y",function(ve,Ce){return Ce=ve.order,Ce*Xt+Dt}).attr("width",function(ve){return ve.milestone?Nt:ht(ve.renderEndTime||ve.endTime)-ht(ve.startTime)}).attr("height",Nt).attr("transform-origin",function(ve,Ce){return Ce=ve.order,(ht(ve.startTime)+Qt+.5*(ht(ve.endTime)-ht(ve.startTime))).toString()+"px "+(Ce*Xt+Dt+.5*Nt).toString()+"px"}).attr("class",function(ve){const Ce="task";let De="";ve.classes.length>0&&(De=ve.classes.join(" "));let Oe=0;for(const[qe,ze]of bt.entries())ve.type===ze&&(Oe=qe%Y.numberSectionStyles);let Je="";return ve.active?ve.crit?Je+=" activeCrit":Je=" active":ve.done?ve.crit?Je=" doneCrit":Je=" done":ve.crit&&(Je+=" crit"),Je.length===0&&(Je=" task"),ve.milestone&&(Je=" milestone "+Je),Je+=Oe,Je+=" "+De,Ce+Je}),de.append("text").attr("id",function(ve){return ve.id+"-text"}).text(function(ve){return ve.task}).attr("font-size",Y.fontSize).attr("x",function(ve){let Ce=ht(ve.startTime),De=ht(ve.renderEndTime||ve.endTime);ve.milestone&&(Ce+=.5*(ht(ve.endTime)-ht(ve.startTime))-.5*Nt),ve.milestone&&(De=Ce+Nt);const Oe=this.getBBox().width;return Oe>De-Ce?De+Oe+1.5*Y.leftPadding>Pt?Ce+Qt-5:De+Qt+5:(De-Ce)/2+Ce+Qt}).attr("y",function(ve,Ce){return Ce=ve.order,Ce*Xt+Y.barHeight/2+(Y.fontSize/2-2)+Dt}).attr("text-height",Nt).attr("class",function(ve){const Ce=ht(ve.startTime);let De=ht(ve.endTime);ve.milestone&&(De=Ce+Nt);const Oe=this.getBBox().width;let Je="";ve.classes.length>0&&(Je=ve.classes.join(" "));let qe=0;for(const[we,Me]of bt.entries())ve.type===Me&&(qe=we%Y.numberSectionStyles);let ze="";return ve.active&&(ve.crit?ze="activeCritText"+qe:ze="activeText"+qe),ve.done?ve.crit?ze=ze+" doneCritText"+qe:ze=ze+" doneText"+qe:ve.crit&&(ze=ze+" critText"+qe),ve.milestone&&(ze+=" milestoneText"),Oe>De-Ce?De+Oe+1.5*Y.leftPadding>Pt?Je+" taskTextOutsideLeft taskTextOutside"+qe+" "+ze:Je+" taskTextOutsideRight taskTextOutside"+qe+" "+ze+" width-"+Oe:Je+" taskText taskText"+qe+" "+ze+" width-"+Oe}),getConfig$1().securityLevel==="sandbox"){let ve;ve=select("#i"+O);const Ce=ve.nodes()[0].contentDocument;de.filter(function(De){return ye[De.id]!==void 0}).each(function(De){var Oe=Ce.querySelector("#"+De.id),Je=Ce.querySelector("#"+De.id+"-text");const qe=Oe.parentNode;var ze=Ce.createElement("a");ze.setAttribute("xlink:href",ye[De.id]),ze.setAttribute("target","_top"),qe.appendChild(ze),ze.appendChild(Oe),ze.appendChild(Je)})}}function At(te,Xt,Dt,Qt,Nt,ce,Pt,de){const ye=ce.reduce((qe,{startTime:ze})=>qe?Math.min(qe,ze):ze,0),pe=ce.reduce((qe,{endTime:ze})=>qe?Math.max(qe,ze):ze,0),ve=F.db.getDateFormat();if(!ye||!pe)return;const Ce=[];let De=null,Oe=dayjs(ye);for(;Oe.valueOf()<=pe;)F.db.isInvalidDate(Oe,ve,Pt,de)?De?De.end=Oe:De={start:Oe,end:Oe}:De&&(Ce.push(De),De=null),Oe=Oe.add(1,"d");lt.append("g").selectAll("rect").data(Ce).enter().append("rect").attr("id",function(qe){return"exclude-"+qe.start.format("YYYY-MM-DD")}).attr("x",function(qe){return ht(qe.start)+Dt}).attr("y",Y.gridLineStartPadding).attr("width",function(qe){const ze=qe.end.add(1,"day");return ht(ze)-ht(qe.start)}).attr("height",Nt-Xt-Y.gridLineStartPadding).attr("transform-origin",function(qe,ze){return(ht(qe.start)+Dt+.5*(ht(qe.end)-ht(qe.start))).toString()+"px "+(ze*te+.5*Nt).toString()+"px"}).attr("class","exclude-range")}function Ct(te,Xt,Dt,Qt){let Nt=axisBottom(ht).tickSize(-Qt+Xt+Y.gridLineStartPadding).tickFormat(timeFormat(F.db.getAxisFormat()||Y.axisFormat||"%Y-%m-%d"));const Pt=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(F.db.getTickInterval()||Y.tickInterval);if(Pt!==null){const de=Pt[1];switch(Pt[2]){case"minute":Nt.ticks(timeMinute.every(de));break;case"hour":Nt.ticks(timeHour.every(de));break;case"day":Nt.ticks(timeDay.every(de));break;case"week":Nt.ticks(timeSunday.every(de));break;case"month":Nt.ticks(timeMonth.every(de));break}}if(lt.append("g").attr("class","grid").attr("transform","translate("+te+", "+(Qt-50)+")").call(Nt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),F.db.topAxisEnabled()||Y.topAxis){let de=axisTop(ht).tickSize(-Qt+Xt+Y.gridLineStartPadding).tickFormat(timeFormat(F.db.getAxisFormat()||Y.axisFormat||"%Y-%m-%d"));if(Pt!==null){const ye=Pt[1];switch(Pt[2]){case"minute":de.ticks(timeMinute.every(ye));break;case"hour":de.ticks(timeHour.every(ye));break;case"day":de.ticks(timeDay.every(ye));break;case"week":de.ticks(timeSunday.every(ye));break;case"month":de.ticks(timeMonth.every(ye));break}}lt.append("g").attr("class","grid").attr("transform","translate("+te+", "+Xt+")").call(de).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function Ft(te,Xt){const Dt=[];let Qt=0;for(const[Nt,ce]of bt.entries())Dt[Nt]=[ce,qt(ce,wt)];lt.append("g").selectAll("text").data(Dt).enter().append(function(Nt){const ce=Nt[0].split(common$1.lineBreakRegex),Pt=-(ce.length-1)/2,de=tt.createElementNS("http://www.w3.org/2000/svg","text");de.setAttribute("dy",Pt+"em");for(const[ye,pe]of ce.entries()){const ve=tt.createElementNS("http://www.w3.org/2000/svg","tspan");ve.setAttribute("alignment-baseline","central"),ve.setAttribute("x","10"),ye>0&&ve.setAttribute("dy","1em"),ve.textContent=pe,de.appendChild(ve)}return de}).attr("x",10).attr("y",function(Nt,ce){if(ce>0)for(let Pt=0;Pt<ce;Pt++)return Qt+=Dt[ce-1][1],Nt[1]*te/2+Qt*te+Xt;else return Nt[1]*te/2+Xt}).attr("font-size",Y.sectionFontSize).attr("font-size",Y.sectionFontSize).attr("class",function(Nt){for(const[ce,Pt]of bt.entries())if(Nt[0]===Pt)return"sectionTitle sectionTitle"+ce%Y.numberSectionStyles;return"sectionTitle"})}function Lt(te,Xt,Dt,Qt){const Nt=F.db.getTodayMarker();if(Nt==="off")return;const ce=lt.append("g").attr("class","today"),Pt=new Date,de=ce.append("line");de.attr("x1",ht(Pt)+te).attr("x2",ht(Pt)+te).attr("y1",Y.titleTopMargin).attr("y2",Qt-Y.titleTopMargin).attr("class","today"),Nt!==""&&de.attr("style",Nt.replace(/,/g,";"))}function Yt(te){const Xt={},Dt=[];for(let Qt=0,Nt=te.length;Qt<Nt;++Qt)Object.prototype.hasOwnProperty.call(Xt,te[Qt])||(Xt[te[Qt]]=!0,Dt.push(te[Qt]));return Dt}function Ht(te){let Xt=te.length;const Dt={};for(;Xt;)Dt[te[--Xt]]=(Dt[te[Xt]]||0)+1;return Dt}function qt(te,Xt){return Ht(Xt)[te]||0}},ganttRenderer={setConf:setConf$5,draw:draw$8};var parser$5=function(){var D=function(W,q,X,tt){for(X=X||{},tt=W.length;tt--;X[W[tt]]=q);return X},O=[6,9,10],z={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(q,X,tt,nt,st,ct,lt){switch(ct.length-1,st){case 1:return nt;case 4:break;case 6:nt.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},D(O,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},D(O,[2,3]),D(O,[2,4]),D(O,[2,5]),D(O,[2,6])],defaultActions:{4:[2,1]},parseError:function(q,X){if(X.recoverable)this.trace(q);else{var tt=new Error(q);throw tt.hash=X,tt}},parse:function(q){var X=this,tt=[0],nt=[],st=[null],ct=[],lt=this.table,ht="",bt=0,wt=0,mt=2,_t=1,Et=ct.slice.call(arguments,1),At=Object.create(this.lexer),Ct={yy:{}};for(var Ft in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ft)&&(Ct.yy[Ft]=this.yy[Ft]);At.setInput(q,Ct.yy),Ct.yy.lexer=At,Ct.yy.parser=this,typeof At.yylloc>"u"&&(At.yylloc={});var Lt=At.yylloc;ct.push(Lt);var Yt=At.options&&At.options.ranges;typeof Ct.yy.parseError=="function"?this.parseError=Ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ht(){var pe;return pe=nt.pop()||At.lex()||_t,typeof pe!="number"&&(pe instanceof Array&&(nt=pe,pe=nt.pop()),pe=X.symbols_[pe]||pe),pe}for(var qt,te,Xt,Dt,Qt={},Nt,ce,Pt,de;;){if(te=tt[tt.length-1],this.defaultActions[te]?Xt=this.defaultActions[te]:((qt===null||typeof qt>"u")&&(qt=Ht()),Xt=lt[te]&&lt[te][qt]),typeof Xt>"u"||!Xt.length||!Xt[0]){var ye="";de=[];for(Nt in lt[te])this.terminals_[Nt]&&Nt>mt&&de.push("'"+this.terminals_[Nt]+"'");At.showPosition?ye="Parse error on line "+(bt+1)+`:
`+At.showPosition()+`
Expecting `+de.join(", ")+", got '"+(this.terminals_[qt]||qt)+"'":ye="Parse error on line "+(bt+1)+": Unexpected "+(qt==_t?"end of input":"'"+(this.terminals_[qt]||qt)+"'"),this.parseError(ye,{text:At.match,token:this.terminals_[qt]||qt,line:At.yylineno,loc:Lt,expected:de})}if(Xt[0]instanceof Array&&Xt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+te+", token: "+qt);switch(Xt[0]){case 1:tt.push(qt),st.push(At.yytext),ct.push(At.yylloc),tt.push(Xt[1]),qt=null,wt=At.yyleng,ht=At.yytext,bt=At.yylineno,Lt=At.yylloc;break;case 2:if(ce=this.productions_[Xt[1]][1],Qt.$=st[st.length-ce],Qt._$={first_line:ct[ct.length-(ce||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(ce||1)].first_column,last_column:ct[ct.length-1].last_column},Yt&&(Qt._$.range=[ct[ct.length-(ce||1)].range[0],ct[ct.length-1].range[1]]),Dt=this.performAction.apply(Qt,[ht,wt,bt,Ct.yy,Xt[1],st,ct].concat(Et)),typeof Dt<"u")return Dt;ce&&(tt=tt.slice(0,-1*ce*2),st=st.slice(0,-1*ce),ct=ct.slice(0,-1*ce)),tt.push(this.productions_[Xt[1]][0]),st.push(Qt.$),ct.push(Qt._$),Pt=lt[tt[tt.length-2]][tt[tt.length-1]],tt.push(Pt);break;case 3:return!0}}return!0}},F=function(){var W={EOF:1,parseError:function(X,tt){if(this.yy.parser)this.yy.parser.parseError(X,tt);else throw new Error(X)},setInput:function(q,X){return this.yy=X||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var X=q.match(/(?:\r\n?|\n).*/g);return X?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var X=q.length,tt=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-X),this.offset-=X;var nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tt.length-1&&(this.yylineno-=tt.length-1);var st=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tt?(tt.length===nt.length?this.yylloc.first_column:0)+nt[nt.length-tt.length].length-tt[0].length:this.yylloc.first_column-X},this.options.ranges&&(this.yylloc.range=[st[0],st[0]+this.yyleng-X]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),X=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+X+"^"},test_match:function(q,X){var tt,nt,st;if(this.options.backtrack_lexer&&(st={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(st.yylloc.range=this.yylloc.range.slice(0))),nt=q[0].match(/(?:\r\n?|\n).*/g),nt&&(this.yylineno+=nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nt?nt[nt.length-1].length-nt[nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],tt=this.performAction.call(this,this.yy,this,X,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tt)return tt;if(this._backtrack){for(var ct in st)this[ct]=st[ct];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,X,tt,nt;this._more||(this.yytext="",this.match="");for(var st=this._currentRules(),ct=0;ct<st.length;ct++)if(tt=this._input.match(this.rules[st[ct]]),tt&&(!X||tt[0].length>X[0].length)){if(X=tt,nt=ct,this.options.backtrack_lexer){if(q=this.test_match(tt,st[ct]),q!==!1)return q;if(this._backtrack){X=!1;continue}else return!1}else if(!this.options.flex)break}return X?(q=this.test_match(X,st[nt]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var X=this.next();return X||this.lex()},begin:function(X){this.conditionStack.push(X)},popState:function(){var X=this.conditionStack.length-1;return X>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(X){return X=this.conditionStack.length-1-Math.abs(X||0),X>=0?this.conditionStack[X]:"INITIAL"},pushState:function(X){this.begin(X)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(X,tt,nt,st){switch(nt){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return W}();z.lexer=F;function Y(){this.yy={}}return Y.prototype=z,z.Parser=Y,new Y}();parser$5.parser=parser$5;const infoParser=parser$5;var message="",info=!1;const setMessage=D=>{log$1.debug("Setting message to: "+D),message=D},getMessage=()=>message,setInfo=D=>{info=D},getInfo=()=>info,infoDb={setMessage,getMessage,setInfo,getInfo,clear:clear$g},draw$7=(D,O,z)=>{try{log$1.debug(`Rendering info diagram
`+D);const F=getConfig$1().securityLevel;let Y;F==="sandbox"&&(Y=select("#i"+O));const q=select(F==="sandbox"?Y.nodes()[0].contentDocument.body:"body").select("#"+O);q.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+z),q.attr("height",100),q.attr("width",400)}catch(F){log$1.error("Error while rendering info diagram"),log$1.error(F.message)}},infoRenderer={draw:draw$7},infoDetector=D=>D.match(/^\s*info/)!==null;var parser$4=function(){var D=function(Lt,Yt,Ht,qt){for(Ht=Ht||{},qt=Lt.length;qt--;Ht[Lt[qt]]=Yt);return Ht},O=[1,4],z=[1,5],F=[1,6],Y=[1,7],W=[1,9],q=[1,11,13,15,17,19,20,26,27,28,29],X=[2,5],tt=[1,6,11,13,15,17,19,20,26,27,28,29],nt=[26,27,28],st=[2,8],ct=[1,18],lt=[1,19],ht=[1,20],bt=[1,21],wt=[1,22],mt=[1,23],_t=[1,28],Et=[6,26,27,28,29],At={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(Yt,Ht,qt,te,Xt,Dt,Qt){var Nt=Dt.length-1;switch(Xt){case 4:te.setShowData(!0);break;case 7:this.$=Dt[Nt-1];break;case 9:te.addSection(Dt[Nt-1],te.cleanupValue(Dt[Nt]));break;case 10:this.$=Dt[Nt].trim(),te.setDiagramTitle(this.$);break;case 11:this.$=Dt[Nt].trim(),te.setAccTitle(this.$);break;case 12:case 13:this.$=Dt[Nt].trim(),te.setAccDescription(this.$);break;case 14:te.addSection(Dt[Nt].substr(8)),this.$=Dt[Nt].substr(8);break;case 21:te.parseDirective("%%{","open_directive");break;case 22:te.parseDirective(Dt[Nt],"type_directive");break;case 23:Dt[Nt]=Dt[Nt].trim().replace(/'/g,'"'),te.parseDirective(Dt[Nt],"arg_directive");break;case 24:te.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:O,21:8,26:z,27:F,28:Y,29:W},{1:[3]},{3:10,4:2,5:3,6:O,21:8,26:z,27:F,28:Y,29:W},{3:11,4:2,5:3,6:O,21:8,26:z,27:F,28:Y,29:W},D(q,X,{7:12,8:[1,13]}),D(tt,[2,18]),D(tt,[2,19]),D(tt,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},D(nt,st,{21:8,9:16,10:17,5:24,1:[2,3],11:ct,13:lt,15:ht,17:bt,19:wt,20:mt,29:W}),D(q,X,{7:25}),{23:26,24:[1,27],32:_t},D([24,32],[2,22]),D(q,[2,6]),{4:29,26:z,27:F,28:Y},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},D(nt,[2,13]),D(nt,[2,14]),D(nt,[2,15]),D(nt,st,{21:8,9:16,10:17,5:24,1:[2,4],11:ct,13:lt,15:ht,17:bt,19:wt,20:mt,29:W}),D(Et,[2,16]),{25:34,31:[1,35]},D(Et,[2,24]),D(q,[2,7]),D(nt,[2,9]),D(nt,[2,10]),D(nt,[2,11]),D(nt,[2,12]),{23:36,32:_t},{32:[2,23]},D(Et,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(Yt,Ht){if(Ht.recoverable)this.trace(Yt);else{var qt=new Error(Yt);throw qt.hash=Ht,qt}},parse:function(Yt){var Ht=this,qt=[0],te=[],Xt=[null],Dt=[],Qt=this.table,Nt="",ce=0,Pt=0,de=2,ye=1,pe=Dt.slice.call(arguments,1),ve=Object.create(this.lexer),Ce={yy:{}};for(var De in this.yy)Object.prototype.hasOwnProperty.call(this.yy,De)&&(Ce.yy[De]=this.yy[De]);ve.setInput(Yt,Ce.yy),Ce.yy.lexer=ve,Ce.yy.parser=this,typeof ve.yylloc>"u"&&(ve.yylloc={});var Oe=ve.yylloc;Dt.push(Oe);var Je=ve.options&&ve.options.ranges;typeof Ce.yy.parseError=="function"?this.parseError=Ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function qe(){var oe;return oe=te.pop()||ve.lex()||ye,typeof oe!="number"&&(oe instanceof Array&&(te=oe,oe=te.pop()),oe=Ht.symbols_[oe]||oe),oe}for(var ze,we,Me,He,Le={},Ye,Kt,kt,jt;;){if(we=qt[qt.length-1],this.defaultActions[we]?Me=this.defaultActions[we]:((ze===null||typeof ze>"u")&&(ze=qe()),Me=Qt[we]&&Qt[we][ze]),typeof Me>"u"||!Me.length||!Me[0]){var $t="";jt=[];for(Ye in Qt[we])this.terminals_[Ye]&&Ye>de&&jt.push("'"+this.terminals_[Ye]+"'");ve.showPosition?$t="Parse error on line "+(ce+1)+`:
`+ve.showPosition()+`
Expecting `+jt.join(", ")+", got '"+(this.terminals_[ze]||ze)+"'":$t="Parse error on line "+(ce+1)+": Unexpected "+(ze==ye?"end of input":"'"+(this.terminals_[ze]||ze)+"'"),this.parseError($t,{text:ve.match,token:this.terminals_[ze]||ze,line:ve.yylineno,loc:Oe,expected:jt})}if(Me[0]instanceof Array&&Me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+we+", token: "+ze);switch(Me[0]){case 1:qt.push(ze),Xt.push(ve.yytext),Dt.push(ve.yylloc),qt.push(Me[1]),ze=null,Pt=ve.yyleng,Nt=ve.yytext,ce=ve.yylineno,Oe=ve.yylloc;break;case 2:if(Kt=this.productions_[Me[1]][1],Le.$=Xt[Xt.length-Kt],Le._$={first_line:Dt[Dt.length-(Kt||1)].first_line,last_line:Dt[Dt.length-1].last_line,first_column:Dt[Dt.length-(Kt||1)].first_column,last_column:Dt[Dt.length-1].last_column},Je&&(Le._$.range=[Dt[Dt.length-(Kt||1)].range[0],Dt[Dt.length-1].range[1]]),He=this.performAction.apply(Le,[Nt,Pt,ce,Ce.yy,Me[1],Xt,Dt].concat(pe)),typeof He<"u")return He;Kt&&(qt=qt.slice(0,-1*Kt*2),Xt=Xt.slice(0,-1*Kt),Dt=Dt.slice(0,-1*Kt)),qt.push(this.productions_[Me[1]][0]),Xt.push(Le.$),Dt.push(Le._$),kt=Qt[qt[qt.length-2]][qt[qt.length-1]],qt.push(kt);break;case 3:return!0}}return!0}},Ct=function(){var Lt={EOF:1,parseError:function(Ht,qt){if(this.yy.parser)this.yy.parser.parseError(Ht,qt);else throw new Error(Ht)},setInput:function(Yt,Ht){return this.yy=Ht||this.yy||{},this._input=Yt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Yt=this._input[0];this.yytext+=Yt,this.yyleng++,this.offset++,this.match+=Yt,this.matched+=Yt;var Ht=Yt.match(/(?:\r\n?|\n).*/g);return Ht?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Yt},unput:function(Yt){var Ht=Yt.length,qt=Yt.split(/(?:\r\n?|\n)/g);this._input=Yt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ht),this.offset-=Ht;var te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),qt.length-1&&(this.yylineno-=qt.length-1);var Xt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:qt?(qt.length===te.length?this.yylloc.first_column:0)+te[te.length-qt.length].length-qt[0].length:this.yylloc.first_column-Ht},this.options.ranges&&(this.yylloc.range=[Xt[0],Xt[0]+this.yyleng-Ht]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Yt){this.unput(this.match.slice(Yt))},pastInput:function(){var Yt=this.matched.substr(0,this.matched.length-this.match.length);return(Yt.length>20?"...":"")+Yt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Yt=this.match;return Yt.length<20&&(Yt+=this._input.substr(0,20-Yt.length)),(Yt.substr(0,20)+(Yt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Yt=this.pastInput(),Ht=new Array(Yt.length+1).join("-");return Yt+this.upcomingInput()+`
`+Ht+"^"},test_match:function(Yt,Ht){var qt,te,Xt;if(this.options.backtrack_lexer&&(Xt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Xt.yylloc.range=this.yylloc.range.slice(0))),te=Yt[0].match(/(?:\r\n?|\n).*/g),te&&(this.yylineno+=te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:te?te[te.length-1].length-te[te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Yt[0].length},this.yytext+=Yt[0],this.match+=Yt[0],this.matches=Yt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Yt[0].length),this.matched+=Yt[0],qt=this.performAction.call(this,this.yy,this,Ht,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),qt)return qt;if(this._backtrack){for(var Dt in Xt)this[Dt]=Xt[Dt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Yt,Ht,qt,te;this._more||(this.yytext="",this.match="");for(var Xt=this._currentRules(),Dt=0;Dt<Xt.length;Dt++)if(qt=this._input.match(this.rules[Xt[Dt]]),qt&&(!Ht||qt[0].length>Ht[0].length)){if(Ht=qt,te=Dt,this.options.backtrack_lexer){if(Yt=this.test_match(qt,Xt[Dt]),Yt!==!1)return Yt;if(this._backtrack){Ht=!1;continue}else return!1}else if(!this.options.flex)break}return Ht?(Yt=this.test_match(Ht,Xt[te]),Yt!==!1?Yt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ht=this.next();return Ht||this.lex()},begin:function(Ht){this.conditionStack.push(Ht)},popState:function(){var Ht=this.conditionStack.length-1;return Ht>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ht){return Ht=this.conditionStack.length-1-Math.abs(Ht||0),Ht>=0?this.conditionStack[Ht]:"INITIAL"},pushState:function(Ht){this.begin(Ht)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ht,qt,te,Xt){switch(te){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return Lt}();At.lexer=Ct;function Ft(){this.yy={}}return Ft.prototype=At,At.Parser=Ft,new Ft}();parser$4.parser=parser$4;const pieParser=parser$4,pieDetector=D=>D.match(/^\s*pie/)!==null||D.match(/^\s*bar/)!==null;let sections$1={},showData=!1;const parseDirective$4=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},addSection$1=function(D,O){D=common$1.sanitizeText(D,getConfig$1()),sections$1[D]===void 0&&(sections$1[D]=O,log$1.debug("Added new section :",D))},getSections$1=()=>sections$1,setShowData=function(D){showData=D},getShowData=function(){return showData},cleanupValue=function(D){return D.substring(0,1)===":"&&(D=D.substring(1).trim()),Number(D.trim())},clear$4=function(){sections$1={},showData=!1,clear$g()},pieDb={parseDirective:parseDirective$4,getConfig:()=>getConfig$1().pie,addSection:addSection$1,getSections:getSections$1,cleanupValue,clear:clear$4,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setShowData,getShowData,getAccDescription,setAccDescription};let conf$5=getConfig$1(),width;const height=450,draw$6=(D,O,z,F)=>{try{conf$5=getConfig$1(),log$1.debug(`Rendering info diagram
`+D);const Et=getConfig$1().securityLevel;let At;Et==="sandbox"&&(At=select("#i"+O));const Ct=select(Et==="sandbox"?At.nodes()[0].contentDocument.body:"body"),Ft=Et==="sandbox"?At.nodes()[0].contentDocument:document;F.db.clear(),F.parser.parse(D),log$1.debug("Parsed info diagram");const Lt=Ft.getElementById(O);width=Lt.parentElement.offsetWidth,width===void 0&&(width=1200),conf$5.useWidth!==void 0&&(width=conf$5.useWidth),conf$5.pie.useWidth!==void 0&&(width=conf$5.pie.useWidth);const Yt=Ct.select("#"+O);configureSvgSize(Yt,height,width,conf$5.pie.useMaxWidth),Lt.setAttribute("viewBox","0 0 "+width+" "+height);var Y=40,W=18,q=4,X=Math.min(width,height)/2-Y,tt=Yt.append("g").attr("transform","translate("+width/2+","+height/2+")"),nt=F.db.getSections(),st=0;Object.keys(nt).forEach(function(qt){st+=nt[qt]});const Ht=conf$5.themeVariables;var ct=[Ht.pie1,Ht.pie2,Ht.pie3,Ht.pie4,Ht.pie5,Ht.pie6,Ht.pie7,Ht.pie8,Ht.pie9,Ht.pie10,Ht.pie11,Ht.pie12],lt=ordinal().range(ct),ht=Object.entries(nt).map(function(qt,te){return{order:te,name:qt[0],value:qt[1]}}),bt=pie().value(function(qt){return qt.value}).sort(function(qt,te){return qt.order-te.order}),wt=bt(ht),mt=arc().innerRadius(0).outerRadius(X);tt.selectAll("mySlices").data(wt).enter().append("path").attr("d",mt).attr("fill",function(qt){return lt(qt.data.name)}).attr("class","pieCircle"),tt.selectAll("mySlices").data(wt).enter().append("text").text(function(qt){return(qt.data.value/st*100).toFixed(0)+"%"}).attr("transform",function(qt){return"translate("+mt.centroid(qt)+")"}).style("text-anchor","middle").attr("class","slice"),tt.append("text").text(F.db.getDiagramTitle()).attr("x",0).attr("y",-(height-50)/2).attr("class","pieTitleText");var _t=tt.selectAll(".legend").data(lt.domain()).enter().append("g").attr("class","legend").attr("transform",function(qt,te){const Xt=W+q,Dt=Xt*lt.domain().length/2,Qt=12*W,Nt=te*Xt-Dt;return"translate("+Qt+","+Nt+")"});_t.append("rect").attr("width",W).attr("height",W).style("fill",lt).style("stroke",lt),_t.data(wt).append("text").attr("x",W+q).attr("y",W-q).text(function(qt){return F.db.getShowData()||conf$5.showData||conf$5.pie.showData?qt.data.name+" ["+qt.data.value+"]":qt.data.name})}catch(Et){log$1.error("Error while rendering info diagram"),log$1.error(Et)}},pieRenderer={draw:draw$6};var parser$3=function(){var D=function(we,Me,He,Le){for(He=He||{},Le=we.length;Le--;He[we[Le]]=Me);return He},O=[1,3],z=[1,5],F=[1,6],Y=[1,7],W=[1,8],q=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],X=[1,22],tt=[2,13],nt=[1,26],st=[1,27],ct=[1,28],lt=[1,29],ht=[1,30],bt=[1,31],wt=[1,24],mt=[1,32],_t=[1,33],Et=[1,36],At=[71,72],Ct=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],Ft=[1,56],Lt=[1,57],Yt=[1,58],Ht=[1,59],qt=[1,60],te=[1,61],Xt=[1,62],Dt=[62,63],Qt=[1,74],Nt=[1,70],ce=[1,71],Pt=[1,72],de=[1,73],ye=[1,75],pe=[1,79],ve=[1,80],Ce=[1,77],De=[1,78],Oe=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Je={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(Me,He,Le,Ye,Kt,kt,jt){var $t=kt.length-1;switch(Kt){case 6:this.$=kt[$t].trim(),Ye.setAccTitle(this.$);break;case 7:case 8:this.$=kt[$t].trim(),Ye.setAccDescription(this.$);break;case 9:Ye.parseDirective("%%{","open_directive");break;case 10:Ye.parseDirective(kt[$t],"type_directive");break;case 11:kt[$t]=kt[$t].trim().replace(/'/g,'"'),Ye.parseDirective(kt[$t],"arg_directive");break;case 12:Ye.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:Ye.addRequirement(kt[$t-3],kt[$t-4]);break;case 20:Ye.setNewReqId(kt[$t-2]);break;case 21:Ye.setNewReqText(kt[$t-2]);break;case 22:Ye.setNewReqRisk(kt[$t-2]);break;case 23:Ye.setNewReqVerifyMethod(kt[$t-2]);break;case 26:this.$=Ye.RequirementType.REQUIREMENT;break;case 27:this.$=Ye.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=Ye.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=Ye.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=Ye.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=Ye.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=Ye.RiskLevel.LOW_RISK;break;case 33:this.$=Ye.RiskLevel.MED_RISK;break;case 34:this.$=Ye.RiskLevel.HIGH_RISK;break;case 35:this.$=Ye.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=Ye.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=Ye.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=Ye.VerifyType.VERIFY_TEST;break;case 39:Ye.addElement(kt[$t-3]);break;case 40:Ye.setNewElementType(kt[$t-2]);break;case 41:Ye.setNewElementDocRef(kt[$t-2]);break;case 44:Ye.addRelationship(kt[$t-2],kt[$t],kt[$t-4]);break;case 45:Ye.addRelationship(kt[$t-2],kt[$t-4],kt[$t]);break;case 46:this.$=Ye.Relationships.CONTAINS;break;case 47:this.$=Ye.Relationships.COPIES;break;case 48:this.$=Ye.Relationships.DERIVES;break;case 49:this.$=Ye.Relationships.SATISFIES;break;case 50:this.$=Ye.Relationships.VERIFIES;break;case 51:this.$=Ye.Relationships.REFINES;break;case 52:this.$=Ye.Relationships.TRACES;break}},table:[{3:1,4:2,6:O,9:4,14:z,16:F,18:Y,19:W},{1:[3]},{3:10,4:2,5:[1,9],6:O,9:4,14:z,16:F,18:Y,19:W},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},D(q,[2,8]),{20:[2,9]},{3:16,4:2,6:O,9:4,14:z,16:F,18:Y,19:W},{1:[2,2]},{4:21,5:X,7:17,8:tt,9:4,14:z,16:F,18:Y,19:W,23:18,24:19,25:20,26:23,32:25,40:nt,41:st,42:ct,43:lt,44:ht,45:bt,53:wt,71:mt,72:_t},{11:34,12:[1,35],22:Et},D([12,22],[2,10]),D(q,[2,6]),D(q,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:X,7:38,8:tt,9:4,14:z,16:F,18:Y,19:W,23:18,24:19,25:20,26:23,32:25,40:nt,41:st,42:ct,43:lt,44:ht,45:bt,53:wt,71:mt,72:_t},{4:21,5:X,7:39,8:tt,9:4,14:z,16:F,18:Y,19:W,23:18,24:19,25:20,26:23,32:25,40:nt,41:st,42:ct,43:lt,44:ht,45:bt,53:wt,71:mt,72:_t},{4:21,5:X,7:40,8:tt,9:4,14:z,16:F,18:Y,19:W,23:18,24:19,25:20,26:23,32:25,40:nt,41:st,42:ct,43:lt,44:ht,45:bt,53:wt,71:mt,72:_t},{4:21,5:X,7:41,8:tt,9:4,14:z,16:F,18:Y,19:W,23:18,24:19,25:20,26:23,32:25,40:nt,41:st,42:ct,43:lt,44:ht,45:bt,53:wt,71:mt,72:_t},{4:21,5:X,7:42,8:tt,9:4,14:z,16:F,18:Y,19:W,23:18,24:19,25:20,26:23,32:25,40:nt,41:st,42:ct,43:lt,44:ht,45:bt,53:wt,71:mt,72:_t},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},D(At,[2,26]),D(At,[2,27]),D(At,[2,28]),D(At,[2,29]),D(At,[2,30]),D(At,[2,31]),D(Ct,[2,55]),D(Ct,[2,56]),D(q,[2,4]),{13:51,21:[1,52]},D(q,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:Ft,65:Lt,66:Yt,67:Ht,68:qt,69:te,70:Xt},{61:63,64:Ft,65:Lt,66:Yt,67:Ht,68:qt,69:te,70:Xt},{11:64,22:Et},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},D(Dt,[2,46]),D(Dt,[2,47]),D(Dt,[2,48]),D(Dt,[2,49]),D(Dt,[2,50]),D(Dt,[2,51]),D(Dt,[2,52]),{63:[1,68]},D(q,[2,5]),{5:Qt,29:69,30:Nt,33:ce,35:Pt,37:de,39:ye},{5:pe,39:ve,55:76,56:Ce,58:De},{32:81,71:mt,72:_t},{32:82,71:mt,72:_t},D(Oe,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:Qt,29:87,30:Nt,33:ce,35:Pt,37:de,39:ye},D(Oe,[2,25]),D(Oe,[2,39]),{31:[1,88]},{31:[1,89]},{5:pe,39:ve,55:90,56:Ce,58:De},D(Oe,[2,43]),D(Oe,[2,44]),D(Oe,[2,45]),{32:91,71:mt,72:_t},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},D(Oe,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},D(Oe,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:Qt,29:116,30:Nt,33:ce,35:Pt,37:de,39:ye},{5:Qt,29:117,30:Nt,33:ce,35:Pt,37:de,39:ye},{5:Qt,29:118,30:Nt,33:ce,35:Pt,37:de,39:ye},{5:Qt,29:119,30:Nt,33:ce,35:Pt,37:de,39:ye},{5:pe,39:ve,55:120,56:Ce,58:De},{5:pe,39:ve,55:121,56:Ce,58:De},D(Oe,[2,20]),D(Oe,[2,21]),D(Oe,[2,22]),D(Oe,[2,23]),D(Oe,[2,40]),D(Oe,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(Me,He){if(He.recoverable)this.trace(Me);else{var Le=new Error(Me);throw Le.hash=He,Le}},parse:function(Me){var He=this,Le=[0],Ye=[],Kt=[null],kt=[],jt=this.table,$t="",oe=0,Vt=0,Be=2,ge=1,Pe=kt.slice.call(arguments,1),ke=Object.create(this.lexer),$e={yy:{}};for(var Fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fe)&&($e.yy[Fe]=this.yy[Fe]);ke.setInput(Me,$e.yy),$e.yy.lexer=ke,$e.yy.parser=this,typeof ke.yylloc>"u"&&(ke.yylloc={});var Qe=ke.yylloc;kt.push(Qe);var We=ke.options&&ke.options.ranges;typeof $e.yy.parseError=="function"?this.parseError=$e.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rn(){var xe;return xe=Ye.pop()||ke.lex()||ge,typeof xe!="number"&&(xe instanceof Array&&(Ye=xe,xe=Ye.pop()),xe=He.symbols_[xe]||xe),xe}for(var zn,Bn,Pn,jn,Jn={},rr,sr,on,ie;;){if(Bn=Le[Le.length-1],this.defaultActions[Bn]?Pn=this.defaultActions[Bn]:((zn===null||typeof zn>"u")&&(zn=rn()),Pn=jt[Bn]&&jt[Bn][zn]),typeof Pn>"u"||!Pn.length||!Pn[0]){var ne="";ie=[];for(rr in jt[Bn])this.terminals_[rr]&&rr>Be&&ie.push("'"+this.terminals_[rr]+"'");ke.showPosition?ne="Parse error on line "+(oe+1)+`:
`+ke.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[zn]||zn)+"'":ne="Parse error on line "+(oe+1)+": Unexpected "+(zn==ge?"end of input":"'"+(this.terminals_[zn]||zn)+"'"),this.parseError(ne,{text:ke.match,token:this.terminals_[zn]||zn,line:ke.yylineno,loc:Qe,expected:ie})}if(Pn[0]instanceof Array&&Pn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Bn+", token: "+zn);switch(Pn[0]){case 1:Le.push(zn),Kt.push(ke.yytext),kt.push(ke.yylloc),Le.push(Pn[1]),zn=null,Vt=ke.yyleng,$t=ke.yytext,oe=ke.yylineno,Qe=ke.yylloc;break;case 2:if(sr=this.productions_[Pn[1]][1],Jn.$=Kt[Kt.length-sr],Jn._$={first_line:kt[kt.length-(sr||1)].first_line,last_line:kt[kt.length-1].last_line,first_column:kt[kt.length-(sr||1)].first_column,last_column:kt[kt.length-1].last_column},We&&(Jn._$.range=[kt[kt.length-(sr||1)].range[0],kt[kt.length-1].range[1]]),jn=this.performAction.apply(Jn,[$t,Vt,oe,$e.yy,Pn[1],Kt,kt].concat(Pe)),typeof jn<"u")return jn;sr&&(Le=Le.slice(0,-1*sr*2),Kt=Kt.slice(0,-1*sr),kt=kt.slice(0,-1*sr)),Le.push(this.productions_[Pn[1]][0]),Kt.push(Jn.$),kt.push(Jn._$),on=jt[Le[Le.length-2]][Le[Le.length-1]],Le.push(on);break;case 3:return!0}}return!0}},qe=function(){var we={EOF:1,parseError:function(He,Le){if(this.yy.parser)this.yy.parser.parseError(He,Le);else throw new Error(He)},setInput:function(Me,He){return this.yy=He||this.yy||{},this._input=Me,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Me=this._input[0];this.yytext+=Me,this.yyleng++,this.offset++,this.match+=Me,this.matched+=Me;var He=Me.match(/(?:\r\n?|\n).*/g);return He?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Me},unput:function(Me){var He=Me.length,Le=Me.split(/(?:\r\n?|\n)/g);this._input=Me+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-He),this.offset-=He;var Ye=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Le.length-1&&(this.yylineno-=Le.length-1);var Kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Le?(Le.length===Ye.length?this.yylloc.first_column:0)+Ye[Ye.length-Le.length].length-Le[0].length:this.yylloc.first_column-He},this.options.ranges&&(this.yylloc.range=[Kt[0],Kt[0]+this.yyleng-He]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Me){this.unput(this.match.slice(Me))},pastInput:function(){var Me=this.matched.substr(0,this.matched.length-this.match.length);return(Me.length>20?"...":"")+Me.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Me=this.match;return Me.length<20&&(Me+=this._input.substr(0,20-Me.length)),(Me.substr(0,20)+(Me.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Me=this.pastInput(),He=new Array(Me.length+1).join("-");return Me+this.upcomingInput()+`
`+He+"^"},test_match:function(Me,He){var Le,Ye,Kt;if(this.options.backtrack_lexer&&(Kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Kt.yylloc.range=this.yylloc.range.slice(0))),Ye=Me[0].match(/(?:\r\n?|\n).*/g),Ye&&(this.yylineno+=Ye.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ye?Ye[Ye.length-1].length-Ye[Ye.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Me[0].length},this.yytext+=Me[0],this.match+=Me[0],this.matches=Me,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Me[0].length),this.matched+=Me[0],Le=this.performAction.call(this,this.yy,this,He,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Le)return Le;if(this._backtrack){for(var kt in Kt)this[kt]=Kt[kt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Me,He,Le,Ye;this._more||(this.yytext="",this.match="");for(var Kt=this._currentRules(),kt=0;kt<Kt.length;kt++)if(Le=this._input.match(this.rules[Kt[kt]]),Le&&(!He||Le[0].length>He[0].length)){if(He=Le,Ye=kt,this.options.backtrack_lexer){if(Me=this.test_match(Le,Kt[kt]),Me!==!1)return Me;if(this._backtrack){He=!1;continue}else return!1}else if(!this.options.flex)break}return He?(Me=this.test_match(He,Kt[Ye]),Me!==!1?Me:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var He=this.next();return He||this.lex()},begin:function(He){this.conditionStack.push(He)},popState:function(){var He=this.conditionStack.length-1;return He>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(He){return He=this.conditionStack.length-1-Math.abs(He||0),He>=0?this.conditionStack[He]:"INITIAL"},pushState:function(He){this.begin(He)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(He,Le,Ye,Kt){switch(Ye){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return Le.yytext=Le.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return we}();Je.lexer=qe;function ze(){this.yy={}}return ze.prototype=Je,Je.Parser=ze,new ze}();parser$3.parser=parser$3;const requirementParser=parser$3,requirementDetector=D=>D.match(/^\s*requirement(Diagram)?/)!==null;let relations=[],latestRequirement={},requirements={},latestElement={},elements={};const RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective$3=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},addRequirement=(D,O)=>(requirements[D]===void 0&&(requirements[D]={name:D,type:O,id:latestRequirement.id,text:latestRequirement.text,risk:latestRequirement.risk,verifyMethod:latestRequirement.verifyMethod}),latestRequirement={},requirements[D]),getRequirements=()=>requirements,setNewReqId=D=>{latestRequirement!==void 0&&(latestRequirement.id=D)},setNewReqText=D=>{latestRequirement!==void 0&&(latestRequirement.text=D)},setNewReqRisk=D=>{latestRequirement!==void 0&&(latestRequirement.risk=D)},setNewReqVerifyMethod=D=>{latestRequirement!==void 0&&(latestRequirement.verifyMethod=D)},addElement=D=>(elements[D]===void 0&&(elements[D]={name:D,type:latestElement.type,docRef:latestElement.docRef},log$1.info("Added new requirement: ",D)),latestElement={},elements[D]),getElements=()=>elements,setNewElementType=D=>{latestElement!==void 0&&(latestElement.type=D)},setNewElementDocRef=D=>{latestElement!==void 0&&(latestElement.docRef=D)},addRelationship=(D,O,z)=>{relations.push({type:D,src:O,dst:z})},getRelationships=()=>relations,clear$3=()=>{relations=[],latestRequirement={},requirements={},latestElement={},elements={},clear$g()},requirementDb={RequirementType,RiskLevel,VerifyType,Relationships,parseDirective:parseDirective$3,getConfig:()=>getConfig$1().req,addRequirement,getRequirements,setNewReqId,setNewReqText,setNewReqRisk,setNewReqVerifyMethod,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addElement,getElements,setNewElementType,setNewElementDocRef,addRelationship,getRelationships,clear:clear$3},ReqMarkers={CONTAINS:"contains",ARROW:"arrow"},insertLineEndings=(D,O)=>{let z=D.append("defs").append("marker").attr("id",ReqMarkers.CONTAINS+"_line_ending").attr("refX",0).attr("refY",O.line_height/2).attr("markerWidth",O.line_height).attr("markerHeight",O.line_height).attr("orient","auto").append("g");z.append("circle").attr("cx",O.line_height/2).attr("cy",O.line_height/2).attr("r",O.line_height/2).attr("fill","none"),z.append("line").attr("x1",0).attr("x2",O.line_height).attr("y1",O.line_height/2).attr("y2",O.line_height/2).attr("stroke-width",1),z.append("line").attr("y1",0).attr("y2",O.line_height).attr("x1",O.line_height/2).attr("x2",O.line_height/2).attr("stroke-width",1),D.append("defs").append("marker").attr("id",ReqMarkers.ARROW+"_line_ending").attr("refX",O.line_height).attr("refY",.5*O.line_height).attr("markerWidth",O.line_height).attr("markerHeight",O.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${O.line_height},${O.line_height/2}
      M${O.line_height},${O.line_height/2}
      L0,${O.line_height}`).attr("stroke-width",1)},markers={ReqMarkers,insertLineEndings};let conf$4={},relCnt=0;const newRectNode=(D,O)=>D.insert("rect","#"+O).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",conf$4.rect_min_width+"px").attr("height",conf$4.rect_min_height+"px"),newTitleNode=(D,O,z)=>{let F=conf$4.rect_min_width/2,Y=D.append("text").attr("class","req reqLabel reqTitle").attr("id",O).attr("x",F).attr("y",conf$4.rect_padding).attr("dominant-baseline","hanging"),W=0;z.forEach(nt=>{W==0?Y.append("tspan").attr("text-anchor","middle").attr("x",conf$4.rect_min_width/2).attr("dy",0).text(nt):Y.append("tspan").attr("text-anchor","middle").attr("x",conf$4.rect_min_width/2).attr("dy",conf$4.line_height*.75).text(nt),W++});let q=1.5*conf$4.rect_padding,X=W*conf$4.line_height*.75,tt=q+X;return D.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",conf$4.rect_min_width).attr("y1",tt).attr("y2",tt),{titleNode:Y,y:tt}},newBodyNode=(D,O,z,F)=>{let Y=D.append("text").attr("class","req reqLabel").attr("id",O).attr("x",conf$4.rect_padding).attr("y",F).attr("dominant-baseline","hanging"),W=0;const q=30;let X=[];return z.forEach(tt=>{let nt=tt.length;for(;nt>q&&W<3;){let st=tt.substring(0,q);tt=tt.substring(q,tt.length),nt=tt.length,X[X.length]=st,W++}if(W==3){let st=X[X.length-1];X[X.length-1]=st.substring(0,st.length-4)+"..."}else X[X.length]=tt;W=0}),X.forEach(tt=>{Y.append("tspan").attr("x",conf$4.rect_padding).attr("dy",conf$4.line_height).text(tt)}),Y},addEdgeLabel=(D,O,z,F)=>{const Y=O.node().getTotalLength(),W=O.node().getPointAtLength(Y*.5),q="rel"+relCnt;relCnt++;const tt=D.append("text").attr("class","req relationshipLabel").attr("id",q).attr("x",W.x).attr("y",W.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(F).node().getBBox();D.insert("rect","#"+q).attr("class","req reqLabelBox").attr("x",W.x-tt.width/2).attr("y",W.y-tt.height/2).attr("width",tt.width).attr("height",tt.height).attr("fill","white").attr("fill-opacity","85%")},drawRelationshipFromLayout=function(D,O,z,F,Y){const W=z.edge(elementString(O.src),elementString(O.dst)),q=line$1().x(function(tt){return tt.x}).y(function(tt){return tt.y}),X=D.insert("path","#"+F).attr("class","er relationshipLine").attr("d",q(W.points)).attr("fill","none");O.type==Y.db.Relationships.CONTAINS?X.attr("marker-start","url("+common$1.getUrl(conf$4.arrowMarkerAbsolute)+"#"+O.type+"_line_ending)"):(X.attr("stroke-dasharray","10,7"),X.attr("marker-end","url("+common$1.getUrl(conf$4.arrowMarkerAbsolute)+"#"+markers.ReqMarkers.ARROW+"_line_ending)")),addEdgeLabel(D,X,conf$4,`<<${O.type}>>`)},drawReqs=(D,O,z)=>{Object.keys(D).forEach(F=>{let Y=D[F];F=elementString(F),log$1.info("Added new requirement: ",F);const W=z.append("g").attr("id",F),q="req-"+F,X=newRectNode(W,q);let tt=newTitleNode(W,F+"_title",[`<<${Y.type}>>`,`${Y.name}`]);newBodyNode(W,F+"_body",[`Id: ${Y.id}`,`Text: ${Y.text}`,`Risk: ${Y.risk}`,`Verification: ${Y.verifyMethod}`],tt.y);const nt=X.node().getBBox();O.setNode(F,{width:nt.width,height:nt.height,shape:"rect",id:F})})},drawElements=(D,O,z)=>{Object.keys(D).forEach(F=>{let Y=D[F];const W=elementString(F),q=z.append("g").attr("id",W),X="element-"+W,tt=newRectNode(q,X);let nt=newTitleNode(q,X+"_title",["<<Element>>",`${F}`]);newBodyNode(q,X+"_body",[`Type: ${Y.type||"Not Specified"}`,`Doc Ref: ${Y.docRef||"None"}`],nt.y);const st=tt.node().getBBox();O.setNode(W,{width:st.width,height:st.height,shape:"rect",id:W})})},addRelationships=(D,O)=>(D.forEach(function(z){let F=elementString(z.src),Y=elementString(z.dst);O.setEdge(F,Y,{relationship:z})}),D),adjustEntities=function(D,O){O.nodes().forEach(function(z){z!==void 0&&O.node(z)!==void 0&&(D.select("#"+z),D.select("#"+z).attr("transform","translate("+(O.node(z).x-O.node(z).width/2)+","+(O.node(z).y-O.node(z).height/2)+" )"))})},elementString=D=>D.replace(/\s/g,"").replace(/\./g,"_"),draw$5=(D,O,z,F)=>{conf$4=getConfig$1().requirement,F.db.clear(),F.parser.parse(D);const Y=conf$4.securityLevel;let W;Y==="sandbox"&&(W=select("#i"+O));const X=select(Y==="sandbox"?W.nodes()[0].contentDocument.body:"body").select(`[id='${O}']`);markers.insertLineEndings(X,conf$4);const tt=new Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:conf$4.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let nt=F.db.getRequirements(),st=F.db.getElements(),ct=F.db.getRelationships();drawReqs(nt,tt,X),drawElements(st,tt,X),addRelationships(ct,tt),layout(tt),adjustEntities(X,tt),ct.forEach(function(mt){drawRelationshipFromLayout(X,mt,tt,O,F)});const lt=conf$4.rect_padding,ht=X.node().getBBox(),bt=ht.width+lt*2,wt=ht.height+lt*2;configureSvgSize(X,wt,bt,conf$4.useMaxWidth),X.attr("viewBox",`${ht.x-lt} ${ht.y-lt} ${bt} ${wt}`)},requirementRenderer={draw:draw$5};var parser$2=function(){var D=function(He,Le,Ye,Kt){for(Ye=Ye||{},Kt=He.length;Kt--;Ye[He[Kt]]=Le);return Ye},O=[1,2],z=[1,3],F=[1,5],Y=[1,7],W=[2,5],q=[1,15],X=[1,17],tt=[1,19],nt=[1,21],st=[1,22],ct=[1,23],lt=[1,29],ht=[1,30],bt=[1,31],wt=[1,32],mt=[1,33],_t=[1,34],Et=[1,35],At=[1,36],Ct=[1,37],Ft=[1,38],Lt=[1,39],Yt=[1,40],Ht=[1,42],qt=[1,43],te=[1,45],Xt=[1,46],Dt=[1,47],Qt=[1,48],Nt=[1,49],ce=[1,50],Pt=[1,53],de=[1,4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],ye=[4,5,21,54,56],pe=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],ve=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,53,54,56,57,62,63,64,65,73,83],Ce=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,52,54,56,57,62,63,64,65,73,83],De=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,54,56,57,62,63,64,65,73,83],Oe=[71,72,73],Je=[1,125],qe=[1,4,5,7,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],ze={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,box_section:11,box_line:12,participant_statement:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,box:19,restOfLine:20,end:21,signal:22,autonumber:23,NUM:24,off:25,activate:26,actor:27,deactivate:28,note_statement:29,links_statement:30,link_statement:31,properties_statement:32,details_statement:33,title:34,legacy_title:35,acc_title:36,acc_title_value:37,acc_descr:38,acc_descr_value:39,acc_descr_multiline_value:40,loop:41,rect:42,opt:43,alt:44,else_sections:45,par:46,par_sections:47,critical:48,option_sections:49,break:50,option:51,and:52,else:53,participant:54,AS:55,participant_actor:56,note:57,placement:58,text2:59,over:60,actor_pair:61,links:62,link:63,properties:64,details:65,spaceList:66,",":67,left_of:68,right_of:69,signaltype:70,"+":71,"-":72,ACTOR:73,SOLID_OPEN_ARROW:74,DOTTED_OPEN_ARROW:75,SOLID_ARROW:76,DOTTED_ARROW:77,SOLID_CROSS:78,DOTTED_CROSS:79,SOLID_POINT:80,DOTTED_POINT:81,TXT:82,open_directive:83,type_directive:84,arg_directive:85,close_directive:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",17:":",19:"box",20:"restOfLine",21:"end",23:"autonumber",24:"NUM",25:"off",26:"activate",28:"deactivate",34:"title",35:"legacy_title",36:"acc_title",37:"acc_title_value",38:"acc_descr",39:"acc_descr_value",40:"acc_descr_multiline_value",41:"loop",42:"rect",43:"opt",44:"alt",46:"par",48:"critical",50:"break",51:"option",52:"and",53:"else",54:"participant",55:"AS",56:"participant_actor",57:"note",60:"over",62:"links",63:"link",64:"properties",65:"details",67:",",68:"left_of",69:"right_of",71:"+",72:"-",73:"ACTOR",74:"SOLID_OPEN_ARROW",75:"DOTTED_OPEN_ARROW",76:"SOLID_ARROW",77:"DOTTED_ARROW",78:"SOLID_CROSS",79:"DOTTED_CROSS",80:"SOLID_POINT",81:"DOTTED_POINT",82:"TXT",83:"open_directive",84:"type_directive",85:"arg_directive",86:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[11,0],[11,2],[12,2],[12,1],[12,1],[6,4],[6,6],[10,1],[10,4],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[49,1],[49,4],[47,1],[47,4],[45,1],[45,4],[13,5],[13,3],[13,5],[13,3],[29,4],[29,4],[30,3],[31,3],[32,3],[33,3],[66,2],[66,1],[61,3],[61,1],[58,1],[58,1],[22,5],[22,5],[22,4],[27,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[59,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(Le,Ye,Kt,kt,jt,$t,oe){var Vt=$t.length-1;switch(jt){case 4:return kt.apply($t[Vt]),$t[Vt];case 5:case 10:this.$=[];break;case 6:case 11:$t[Vt-1].push($t[Vt]),this.$=$t[Vt-1];break;case 7:case 8:case 12:case 13:this.$=$t[Vt];break;case 9:case 14:this.$=[];break;case 18:$t[Vt-1].unshift({type:"boxStart",boxData:kt.parseBoxData($t[Vt-2])}),$t[Vt-1].push({type:"boxEnd",boxText:$t[Vt-2]}),this.$=$t[Vt-1];break;case 20:this.$={type:"sequenceIndex",sequenceIndex:Number($t[Vt-2]),sequenceIndexStep:Number($t[Vt-1]),sequenceVisible:!0,signalType:kt.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceIndex:Number($t[Vt-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:kt.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:kt.LINETYPE.AUTONUMBER};break;case 23:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:kt.LINETYPE.AUTONUMBER};break;case 24:this.$={type:"activeStart",signalType:kt.LINETYPE.ACTIVE_START,actor:$t[Vt-1]};break;case 25:this.$={type:"activeEnd",signalType:kt.LINETYPE.ACTIVE_END,actor:$t[Vt-1]};break;case 31:kt.setDiagramTitle($t[Vt].substring(6)),this.$=$t[Vt].substring(6);break;case 32:kt.setDiagramTitle($t[Vt].substring(7)),this.$=$t[Vt].substring(7);break;case 33:this.$=$t[Vt].trim(),kt.setAccTitle(this.$);break;case 34:case 35:this.$=$t[Vt].trim(),kt.setAccDescription(this.$);break;case 36:$t[Vt-1].unshift({type:"loopStart",loopText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.LOOP_START}),$t[Vt-1].push({type:"loopEnd",loopText:$t[Vt-2],signalType:kt.LINETYPE.LOOP_END}),this.$=$t[Vt-1];break;case 37:$t[Vt-1].unshift({type:"rectStart",color:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.RECT_START}),$t[Vt-1].push({type:"rectEnd",color:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.RECT_END}),this.$=$t[Vt-1];break;case 38:$t[Vt-1].unshift({type:"optStart",optText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.OPT_START}),$t[Vt-1].push({type:"optEnd",optText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.OPT_END}),this.$=$t[Vt-1];break;case 39:$t[Vt-1].unshift({type:"altStart",altText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.ALT_START}),$t[Vt-1].push({type:"altEnd",signalType:kt.LINETYPE.ALT_END}),this.$=$t[Vt-1];break;case 40:$t[Vt-1].unshift({type:"parStart",parText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.PAR_START}),$t[Vt-1].push({type:"parEnd",signalType:kt.LINETYPE.PAR_END}),this.$=$t[Vt-1];break;case 41:$t[Vt-1].unshift({type:"criticalStart",criticalText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.CRITICAL_START}),$t[Vt-1].push({type:"criticalEnd",signalType:kt.LINETYPE.CRITICAL_END}),this.$=$t[Vt-1];break;case 42:$t[Vt-1].unshift({type:"breakStart",breakText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.BREAK_START}),$t[Vt-1].push({type:"breakEnd",optText:kt.parseMessage($t[Vt-2]),signalType:kt.LINETYPE.BREAK_END}),this.$=$t[Vt-1];break;case 45:this.$=$t[Vt-3].concat([{type:"option",optionText:kt.parseMessage($t[Vt-1]),signalType:kt.LINETYPE.CRITICAL_OPTION},$t[Vt]]);break;case 47:this.$=$t[Vt-3].concat([{type:"and",parText:kt.parseMessage($t[Vt-1]),signalType:kt.LINETYPE.PAR_AND},$t[Vt]]);break;case 49:this.$=$t[Vt-3].concat([{type:"else",altText:kt.parseMessage($t[Vt-1]),signalType:kt.LINETYPE.ALT_ELSE},$t[Vt]]);break;case 50:$t[Vt-3].type="addParticipant",$t[Vt-3].description=kt.parseMessage($t[Vt-1]),this.$=$t[Vt-3];break;case 51:$t[Vt-1].type="addParticipant",this.$=$t[Vt-1];break;case 52:$t[Vt-3].type="addActor",$t[Vt-3].description=kt.parseMessage($t[Vt-1]),this.$=$t[Vt-3];break;case 53:$t[Vt-1].type="addActor",this.$=$t[Vt-1];break;case 54:this.$=[$t[Vt-1],{type:"addNote",placement:$t[Vt-2],actor:$t[Vt-1].actor,text:$t[Vt]}];break;case 55:$t[Vt-2]=[].concat($t[Vt-1],$t[Vt-1]).slice(0,2),$t[Vt-2][0]=$t[Vt-2][0].actor,$t[Vt-2][1]=$t[Vt-2][1].actor,this.$=[$t[Vt-1],{type:"addNote",placement:kt.PLACEMENT.OVER,actor:$t[Vt-2].slice(0,2),text:$t[Vt]}];break;case 56:this.$=[$t[Vt-1],{type:"addLinks",actor:$t[Vt-1].actor,text:$t[Vt]}];break;case 57:this.$=[$t[Vt-1],{type:"addALink",actor:$t[Vt-1].actor,text:$t[Vt]}];break;case 58:this.$=[$t[Vt-1],{type:"addProperties",actor:$t[Vt-1].actor,text:$t[Vt]}];break;case 59:this.$=[$t[Vt-1],{type:"addDetails",actor:$t[Vt-1].actor,text:$t[Vt]}];break;case 62:this.$=[$t[Vt-2],$t[Vt]];break;case 63:this.$=$t[Vt];break;case 64:this.$=kt.PLACEMENT.LEFTOF;break;case 65:this.$=kt.PLACEMENT.RIGHTOF;break;case 66:this.$=[$t[Vt-4],$t[Vt-1],{type:"addMessage",from:$t[Vt-4].actor,to:$t[Vt-1].actor,signalType:$t[Vt-3],msg:$t[Vt]},{type:"activeStart",signalType:kt.LINETYPE.ACTIVE_START,actor:$t[Vt-1]}];break;case 67:this.$=[$t[Vt-4],$t[Vt-1],{type:"addMessage",from:$t[Vt-4].actor,to:$t[Vt-1].actor,signalType:$t[Vt-3],msg:$t[Vt]},{type:"activeEnd",signalType:kt.LINETYPE.ACTIVE_END,actor:$t[Vt-4]}];break;case 68:this.$=[$t[Vt-3],$t[Vt-1],{type:"addMessage",from:$t[Vt-3].actor,to:$t[Vt-1].actor,signalType:$t[Vt-2],msg:$t[Vt]}];break;case 69:this.$={type:"addParticipant",actor:$t[Vt]};break;case 70:this.$=kt.LINETYPE.SOLID_OPEN;break;case 71:this.$=kt.LINETYPE.DOTTED_OPEN;break;case 72:this.$=kt.LINETYPE.SOLID;break;case 73:this.$=kt.LINETYPE.DOTTED;break;case 74:this.$=kt.LINETYPE.SOLID_CROSS;break;case 75:this.$=kt.LINETYPE.DOTTED_CROSS;break;case 76:this.$=kt.LINETYPE.SOLID_POINT;break;case 77:this.$=kt.LINETYPE.DOTTED_POINT;break;case 78:this.$=kt.parseMessage($t[Vt].trim().substring(1));break;case 79:kt.parseDirective("%%{","open_directive");break;case 80:kt.parseDirective($t[Vt],"type_directive");break;case 81:$t[Vt]=$t[Vt].trim().replace(/'/g,'"'),kt.parseDirective($t[Vt],"arg_directive");break;case 82:kt.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:O,5:z,6:4,7:F,14:6,83:Y},{1:[3]},{3:8,4:O,5:z,6:4,7:F,14:6,83:Y},{3:9,4:O,5:z,6:4,7:F,14:6,83:Y},{3:10,4:O,5:z,6:4,7:F,14:6,83:Y},D([1,4,5,19,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],W,{8:11}),{15:12,84:[1,13]},{84:[2,79]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{16:51,17:[1,52],86:Pt},D([17,86],[2,80]),D(de,[2,6]),{6:41,10:54,13:18,14:6,19:tt,22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},D(de,[2,8]),D(de,[2,9]),D(de,[2,17]),{20:[1,55]},{5:[1,56]},{5:[1,59],24:[1,57],25:[1,58]},{27:60,73:ce},{27:61,73:ce},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},{5:[1,66]},D(de,[2,31]),D(de,[2,32]),{37:[1,67]},{39:[1,68]},D(de,[2,35]),{20:[1,69]},{20:[1,70]},{20:[1,71]},{20:[1,72]},{20:[1,73]},{20:[1,74]},{20:[1,75]},D(de,[2,43]),{27:76,73:ce},{27:77,73:ce},{70:78,74:[1,79],75:[1,80],76:[1,81],77:[1,82],78:[1,83],79:[1,84],80:[1,85],81:[1,86]},{58:87,60:[1,88],68:[1,89],69:[1,90]},{27:91,73:ce},{27:92,73:ce},{27:93,73:ce},{27:94,73:ce},D([5,55,67,74,75,76,77,78,79,80,81,82],[2,69]),{5:[1,95]},{18:96,85:[1,97]},{5:[2,82]},D(de,[2,7]),D(ye,[2,10],{11:98}),D(de,[2,19]),{5:[1,100],24:[1,99]},{5:[1,101]},D(de,[2,23]),{5:[1,102]},{5:[1,103]},D(de,[2,26]),D(de,[2,27]),D(de,[2,28]),D(de,[2,29]),D(de,[2,30]),D(de,[2,33]),D(de,[2,34]),D(pe,W,{8:104}),D(pe,W,{8:105}),D(pe,W,{8:106}),D(ve,W,{45:107,8:108}),D(Ce,W,{47:109,8:110}),D(De,W,{49:111,8:112}),D(pe,W,{8:113}),{5:[1,115],55:[1,114]},{5:[1,117],55:[1,116]},{27:120,71:[1,118],72:[1,119],73:ce},D(Oe,[2,70]),D(Oe,[2,71]),D(Oe,[2,72]),D(Oe,[2,73]),D(Oe,[2,74]),D(Oe,[2,75]),D(Oe,[2,76]),D(Oe,[2,77]),{27:121,73:ce},{27:123,61:122,73:ce},{73:[2,64]},{73:[2,65]},{59:124,82:Je},{59:126,82:Je},{59:127,82:Je},{59:128,82:Je},D(qe,[2,15]),{16:129,86:Pt},{86:[2,81]},{4:[1,132],5:[1,134],12:131,13:133,21:[1,130],54:Ht,56:qt},{5:[1,135]},D(de,[2,21]),D(de,[2,22]),D(de,[2,24]),D(de,[2,25]),{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[1,136],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[1,137],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[1,138],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{21:[1,139]},{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[2,48],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,53:[1,140],54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{21:[1,141]},{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[2,46],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,52:[1,142],54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{21:[1,143]},{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[2,44],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,51:[1,144],54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{4:q,5:X,6:41,9:14,10:16,13:18,14:6,19:tt,21:[1,145],22:20,23:nt,26:st,27:44,28:ct,29:24,30:25,31:26,32:27,33:28,34:lt,35:ht,36:bt,38:wt,40:mt,41:_t,42:Et,43:At,44:Ct,46:Ft,48:Lt,50:Yt,54:Ht,56:qt,57:te,62:Xt,63:Dt,64:Qt,65:Nt,73:ce,83:Y},{20:[1,146]},D(de,[2,51]),{20:[1,147]},D(de,[2,53]),{27:148,73:ce},{27:149,73:ce},{59:150,82:Je},{59:151,82:Je},{59:152,82:Je},{67:[1,153],82:[2,63]},{5:[2,56]},{5:[2,78]},{5:[2,57]},{5:[2,58]},{5:[2,59]},{5:[1,154]},D(de,[2,18]),D(ye,[2,11]),{13:155,54:Ht,56:qt},D(ye,[2,13]),D(ye,[2,14]),D(de,[2,20]),D(de,[2,36]),D(de,[2,37]),D(de,[2,38]),D(de,[2,39]),{20:[1,156]},D(de,[2,40]),{20:[1,157]},D(de,[2,41]),{20:[1,158]},D(de,[2,42]),{5:[1,159]},{5:[1,160]},{59:161,82:Je},{59:162,82:Je},{5:[2,68]},{5:[2,54]},{5:[2,55]},{27:163,73:ce},D(qe,[2,16]),D(ye,[2,12]),D(ve,W,{8:108,45:164}),D(Ce,W,{8:110,47:165}),D(De,W,{8:112,49:166}),D(de,[2,50]),D(de,[2,52]),{5:[2,66]},{5:[2,67]},{82:[2,62]},{21:[2,49]},{21:[2,47]},{21:[2,45]}],defaultActions:{7:[2,79],8:[2,1],9:[2,2],10:[2,3],53:[2,82],89:[2,64],90:[2,65],97:[2,81],124:[2,56],125:[2,78],126:[2,57],127:[2,58],128:[2,59],150:[2,68],151:[2,54],152:[2,55],161:[2,66],162:[2,67],163:[2,62],164:[2,49],165:[2,47],166:[2,45]},parseError:function(Le,Ye){if(Ye.recoverable)this.trace(Le);else{var Kt=new Error(Le);throw Kt.hash=Ye,Kt}},parse:function(Le){var Ye=this,Kt=[0],kt=[],jt=[null],$t=[],oe=this.table,Vt="",Be=0,ge=0,Pe=2,ke=1,$e=$t.slice.call(arguments,1),Fe=Object.create(this.lexer),Qe={yy:{}};for(var We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(Qe.yy[We]=this.yy[We]);Fe.setInput(Le,Qe.yy),Qe.yy.lexer=Fe,Qe.yy.parser=this,typeof Fe.yylloc>"u"&&(Fe.yylloc={});var rn=Fe.yylloc;$t.push(rn);var zn=Fe.options&&Fe.options.ranges;typeof Qe.yy.parseError=="function"?this.parseError=Qe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Bn(){var Ve;return Ve=kt.pop()||Fe.lex()||ke,typeof Ve!="number"&&(Ve instanceof Array&&(kt=Ve,Ve=kt.pop()),Ve=Ye.symbols_[Ve]||Ve),Ve}for(var Pn,jn,Jn,rr,sr={},on,ie,ne,xe;;){if(jn=Kt[Kt.length-1],this.defaultActions[jn]?Jn=this.defaultActions[jn]:((Pn===null||typeof Pn>"u")&&(Pn=Bn()),Jn=oe[jn]&&oe[jn][Pn]),typeof Jn>"u"||!Jn.length||!Jn[0]){var Ae="";xe=[];for(on in oe[jn])this.terminals_[on]&&on>Pe&&xe.push("'"+this.terminals_[on]+"'");Fe.showPosition?Ae="Parse error on line "+(Be+1)+`:
`+Fe.showPosition()+`
Expecting `+xe.join(", ")+", got '"+(this.terminals_[Pn]||Pn)+"'":Ae="Parse error on line "+(Be+1)+": Unexpected "+(Pn==ke?"end of input":"'"+(this.terminals_[Pn]||Pn)+"'"),this.parseError(Ae,{text:Fe.match,token:this.terminals_[Pn]||Pn,line:Fe.yylineno,loc:rn,expected:xe})}if(Jn[0]instanceof Array&&Jn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+jn+", token: "+Pn);switch(Jn[0]){case 1:Kt.push(Pn),jt.push(Fe.yytext),$t.push(Fe.yylloc),Kt.push(Jn[1]),Pn=null,ge=Fe.yyleng,Vt=Fe.yytext,Be=Fe.yylineno,rn=Fe.yylloc;break;case 2:if(ie=this.productions_[Jn[1]][1],sr.$=jt[jt.length-ie],sr._$={first_line:$t[$t.length-(ie||1)].first_line,last_line:$t[$t.length-1].last_line,first_column:$t[$t.length-(ie||1)].first_column,last_column:$t[$t.length-1].last_column},zn&&(sr._$.range=[$t[$t.length-(ie||1)].range[0],$t[$t.length-1].range[1]]),rr=this.performAction.apply(sr,[Vt,ge,Be,Qe.yy,Jn[1],jt,$t].concat($e)),typeof rr<"u")return rr;ie&&(Kt=Kt.slice(0,-1*ie*2),jt=jt.slice(0,-1*ie),$t=$t.slice(0,-1*ie)),Kt.push(this.productions_[Jn[1]][0]),jt.push(sr.$),$t.push(sr._$),ne=oe[Kt[Kt.length-2]][Kt[Kt.length-1]],Kt.push(ne);break;case 3:return!0}}return!0}},we=function(){var He={EOF:1,parseError:function(Ye,Kt){if(this.yy.parser)this.yy.parser.parseError(Ye,Kt);else throw new Error(Ye)},setInput:function(Le,Ye){return this.yy=Ye||this.yy||{},this._input=Le,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Le=this._input[0];this.yytext+=Le,this.yyleng++,this.offset++,this.match+=Le,this.matched+=Le;var Ye=Le.match(/(?:\r\n?|\n).*/g);return Ye?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Le},unput:function(Le){var Ye=Le.length,Kt=Le.split(/(?:\r\n?|\n)/g);this._input=Le+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ye),this.offset-=Ye;var kt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Kt.length-1&&(this.yylineno-=Kt.length-1);var jt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Kt?(Kt.length===kt.length?this.yylloc.first_column:0)+kt[kt.length-Kt.length].length-Kt[0].length:this.yylloc.first_column-Ye},this.options.ranges&&(this.yylloc.range=[jt[0],jt[0]+this.yyleng-Ye]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Le){this.unput(this.match.slice(Le))},pastInput:function(){var Le=this.matched.substr(0,this.matched.length-this.match.length);return(Le.length>20?"...":"")+Le.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Le=this.match;return Le.length<20&&(Le+=this._input.substr(0,20-Le.length)),(Le.substr(0,20)+(Le.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Le=this.pastInput(),Ye=new Array(Le.length+1).join("-");return Le+this.upcomingInput()+`
`+Ye+"^"},test_match:function(Le,Ye){var Kt,kt,jt;if(this.options.backtrack_lexer&&(jt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(jt.yylloc.range=this.yylloc.range.slice(0))),kt=Le[0].match(/(?:\r\n?|\n).*/g),kt&&(this.yylineno+=kt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:kt?kt[kt.length-1].length-kt[kt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Le[0].length},this.yytext+=Le[0],this.match+=Le[0],this.matches=Le,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Le[0].length),this.matched+=Le[0],Kt=this.performAction.call(this,this.yy,this,Ye,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Kt)return Kt;if(this._backtrack){for(var $t in jt)this[$t]=jt[$t];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Le,Ye,Kt,kt;this._more||(this.yytext="",this.match="");for(var jt=this._currentRules(),$t=0;$t<jt.length;$t++)if(Kt=this._input.match(this.rules[jt[$t]]),Kt&&(!Ye||Kt[0].length>Ye[0].length)){if(Ye=Kt,kt=$t,this.options.backtrack_lexer){if(Le=this.test_match(Kt,jt[$t]),Le!==!1)return Le;if(this._backtrack){Ye=!1;continue}else return!1}else if(!this.options.flex)break}return Ye?(Le=this.test_match(Ye,jt[kt]),Le!==!1?Le:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ye=this.next();return Ye||this.lex()},begin:function(Ye){this.conditionStack.push(Ye)},popState:function(){var Ye=this.conditionStack.length-1;return Ye>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ye){return Ye=this.conditionStack.length-1-Math.abs(Ye||0),Ye>=0?this.conditionStack[Ye]:"INITIAL"},pushState:function(Ye){this.begin(Ye)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ye,Kt,kt,jt){switch(kt){case 0:return this.begin("open_directive"),83;case 1:return this.begin("type_directive"),84;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),86;case 4:return 85;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 24;case 12:return this.begin("LINE"),19;case 13:return this.begin("ID"),54;case 14:return this.begin("ID"),56;case 15:return Kt.yytext=Kt.yytext.trim(),this.begin("ALIAS"),73;case 16:return this.popState(),this.popState(),this.begin("LINE"),55;case 17:return this.popState(),this.popState(),5;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),44;case 22:return this.begin("LINE"),53;case 23:return this.begin("LINE"),46;case 24:return this.begin("LINE"),52;case 25:return this.begin("LINE"),48;case 26:return this.begin("LINE"),51;case 27:return this.begin("LINE"),50;case 28:return this.popState(),20;case 29:return 21;case 30:return 68;case 31:return 69;case 32:return 62;case 33:return 63;case 34:return 64;case 35:return 65;case 36:return 60;case 37:return 57;case 38:return this.begin("ID"),26;case 39:return this.begin("ID"),28;case 40:return 34;case 41:return 35;case 42:return this.begin("acc_title"),36;case 43:return this.popState(),"acc_title_value";case 44:return this.begin("acc_descr"),38;case 45:return this.popState(),"acc_descr_value";case 46:this.begin("acc_descr_multiline");break;case 47:this.popState();break;case 48:return"acc_descr_multiline_value";case 49:return 7;case 50:return 23;case 51:return 25;case 52:return 67;case 53:return 5;case 54:return Kt.yytext=Kt.yytext.trim(),73;case 55:return 76;case 56:return 77;case 57:return 74;case 58:return 75;case 59:return 78;case 60:return 79;case 61:return 80;case 62:return 81;case 63:return 82;case 64:return 71;case 65:return 72;case 66:return 5;case 67:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[47,48],inclusive:!1},acc_descr:{rules:[45],inclusive:!1},acc_title:{rules:[43],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,15],inclusive:!1},ALIAS:{rules:[7,8,16,17],inclusive:!1},LINE:{rules:[7,8,28],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return He}();ze.lexer=we;function Me(){this.yy={}}return Me.prototype=ze,ze.Parser=Me,new Me}();parser$2.parser=parser$2;const sequenceParser=parser$2,sequenceDetector=D=>D.match(/^\s*sequenceDiagram/)!==null;let prevActor,actors$1={},boxes=[],messages=[],sequenceNumbersEnabled=!1,wrapEnabled,currentBox;const parseDirective$2=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},addBox=function(D){boxes.push({name:D.text,wrap:D.wrap===void 0&&autoWrap()||!!D.wrap,fill:D.color,actorKeys:[]}),currentBox=boxes.slice(-1)[0]},addActor=function(D,O,z,F){let Y=currentBox;const W=actors$1[D];if(W){if(currentBox&&W.box&&currentBox!==W.box)throw new Error("A same participant should only be defined in one Box: "+W.name+" can't be in '"+W.box.name+"' and in '"+currentBox.name+"' at the same time.");if(Y=W.box?W.box:currentBox,W.box=Y,W&&O===W.name&&z==null)return}(z==null||z.text==null)&&(z={text:O,wrap:null,type:F}),(F==null||z.text==null)&&(z={text:O,wrap:null,type:F}),actors$1[D]={box:Y,name:O,description:z.text,wrap:z.wrap===void 0&&autoWrap()||!!z.wrap,prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:F||"participant"},prevActor&&actors$1[prevActor]&&(actors$1[prevActor].nextActor=D),currentBox&&currentBox.actorKeys.push(D),prevActor=D},activationCount=D=>{let O,z=0;for(O=0;O<messages.length;O++)messages[O].type===LINETYPE.ACTIVE_START&&messages[O].from.actor===D&&z++,messages[O].type===LINETYPE.ACTIVE_END&&messages[O].from.actor===D&&z--;return z},addMessage=function(D,O,z,F){messages.push({from:D,to:O,message:z.text,wrap:z.wrap===void 0&&autoWrap()||!!z.wrap,answer:F})},addSignal=function(D,O,z={text:void 0,wrap:void 0},F){if(F===LINETYPE.ACTIVE_END&&activationCount(D.actor)<1){let W=new Error("Trying to inactivate an inactive participant ("+D.actor+")");throw W.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},W}return messages.push({from:D,to:O,message:z.text,wrap:z.wrap===void 0&&autoWrap()||!!z.wrap,type:F}),!0},hasAtLeastOneBox=function(){return boxes.length>0},hasAtLeastOneBoxWithTitle=function(){return boxes.some(D=>D.name)},getMessages=function(){return messages},getBoxes=function(){return boxes},getActors$1=function(){return actors$1},getActor=function(D){return actors$1[D]},getActorKeys=function(){return Object.keys(actors$1)},enableSequenceNumbers=function(){sequenceNumbersEnabled=!0},disableSequenceNumbers=function(){sequenceNumbersEnabled=!1},showSequenceNumbers=()=>sequenceNumbersEnabled,setWrap=function(D){wrapEnabled=D},autoWrap=()=>wrapEnabled!==void 0?wrapEnabled:getConfig$1().sequence.wrap,clear$2=function(){actors$1={},boxes=[],messages=[],sequenceNumbersEnabled=!1,clear$g()},parseMessage=function(D){const O=D.trim(),z={text:O.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:O.match(/^:?wrap:/)!==null?!0:O.match(/^:?nowrap:/)!==null?!1:void 0};return log$1.debug("parseMessage:",z),z},parseBoxData=function(D){const O=D.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let z=O!=null&&O[1]?O[1].trim():"transparent",F=O!=null&&O[2]?O[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",z)||(z="transparent",F=D.trim());else{const W=new Option().style;W.color=z,W.color!==z&&(z="transparent",F=D.trim())}return{color:z,text:F!==void 0?sanitizeText$5(F.replace(/^:?(?:no)?wrap:/,""),getConfig$1()):void 0,wrap:F!==void 0?F.match(/^:?wrap:/)!==null?!0:F.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},LINETYPE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},ARROWTYPE={FILLED:0,OPEN:1},PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},addNote=function(D,O,z){z.text,z.wrap===void 0&&autoWrap()||z.wrap;const F=[].concat(D,D);messages.push({from:F[0],to:F[1],message:z.text,wrap:z.wrap===void 0&&autoWrap()||!!z.wrap,type:LINETYPE.NOTE,placement:O})},addLinks=function(D,O){const z=getActor(D);try{let F=sanitizeText$5(O.text,getConfig$1());F=F.replace(/&amp;/g,"&"),F=F.replace(/&equals;/g,"=");const Y=JSON.parse(F);insertLinks(z,Y)}catch(F){log$1.error("error while parsing actor link text",F)}},addALink=function(D,O){const z=getActor(D);try{const q={};let X=sanitizeText$5(O.text,getConfig$1());var F=X.indexOf("@");X=X.replace(/&amp;/g,"&"),X=X.replace(/&equals;/g,"=");var Y=X.slice(0,F-1).trim(),W=X.slice(F+1).trim();q[Y]=W,insertLinks(z,q)}catch(q){log$1.error("error while parsing actor link text",q)}};function insertLinks(D,O){if(D.links==null)D.links=O;else for(let z in O)D.links[z]=O[z]}const addProperties=function(D,O){const z=getActor(D);try{let F=sanitizeText$5(O.text,getConfig$1());const Y=JSON.parse(F);insertProperties(z,Y)}catch(F){log$1.error("error while parsing actor properties text",F)}};function insertProperties(D,O){if(D.properties==null)D.properties=O;else for(let z in O)D.properties[z]=O[z]}function boxEnd(){currentBox=void 0}const addDetails=function(D,O){const z=getActor(D),F=document.getElementById(O.text);try{const Y=F.innerHTML,W=JSON.parse(Y);W.properties&&insertProperties(z,W.properties),W.links&&insertLinks(z,W.links)}catch(Y){log$1.error("error while parsing actor details text",Y)}},getActorProperty=function(D,O){if(D!==void 0&&D.properties!==void 0)return D.properties[O]},apply=function(D){if(Array.isArray(D))D.forEach(function(O){apply(O)});else switch(D.type){case"sequenceIndex":messages.push({from:void 0,to:void 0,message:{start:D.sequenceIndex,step:D.sequenceIndexStep,visible:D.sequenceVisible},wrap:!1,type:D.signalType});break;case"addParticipant":addActor(D.actor,D.actor,D.description,"participant");break;case"addActor":addActor(D.actor,D.actor,D.description,"actor");break;case"activeStart":addSignal(D.actor,void 0,void 0,D.signalType);break;case"activeEnd":addSignal(D.actor,void 0,void 0,D.signalType);break;case"addNote":addNote(D.actor,D.placement,D.text);break;case"addLinks":addLinks(D.actor,D.text);break;case"addALink":addALink(D.actor,D.text);break;case"addProperties":addProperties(D.actor,D.text);break;case"addDetails":addDetails(D.actor,D.text);break;case"addMessage":addSignal(D.from,D.to,D.msg,D.signalType);break;case"boxStart":addBox(D.boxData);break;case"boxEnd":boxEnd();break;case"loopStart":addSignal(void 0,void 0,D.loopText,D.signalType);break;case"loopEnd":addSignal(void 0,void 0,void 0,D.signalType);break;case"rectStart":addSignal(void 0,void 0,D.color,D.signalType);break;case"rectEnd":addSignal(void 0,void 0,void 0,D.signalType);break;case"optStart":addSignal(void 0,void 0,D.optText,D.signalType);break;case"optEnd":addSignal(void 0,void 0,void 0,D.signalType);break;case"altStart":addSignal(void 0,void 0,D.altText,D.signalType);break;case"else":addSignal(void 0,void 0,D.altText,D.signalType);break;case"altEnd":addSignal(void 0,void 0,void 0,D.signalType);break;case"setAccTitle":setAccTitle(D.text);break;case"parStart":addSignal(void 0,void 0,D.parText,D.signalType);break;case"and":addSignal(void 0,void 0,D.parText,D.signalType);break;case"parEnd":addSignal(void 0,void 0,void 0,D.signalType);break;case"criticalStart":addSignal(void 0,void 0,D.criticalText,D.signalType);break;case"option":addSignal(void 0,void 0,D.optionText,D.signalType);break;case"criticalEnd":addSignal(void 0,void 0,void 0,D.signalType);break;case"breakStart":addSignal(void 0,void 0,D.breakText,D.signalType);break;case"breakEnd":addSignal(void 0,void 0,void 0,D.signalType);break}},sequenceDb={addActor,addMessage,addSignal,addLinks,addDetails,addProperties,autoWrap,setWrap,enableSequenceNumbers,disableSequenceNumbers,showSequenceNumbers,getMessages,getActors:getActors$1,getActor,getActorKeys,getActorProperty,getAccTitle,getBoxes,getDiagramTitle,setDiagramTitle,parseDirective:parseDirective$2,getConfig:()=>getConfig$1().sequence,clear:clear$2,parseMessage,parseBoxData,LINETYPE,ARROWTYPE,PLACEMENT,addNote,setAccTitle,apply,setAccDescription,getAccDescription,hasAtLeastOneBox,hasAtLeastOneBoxWithTitle};let interactionFunctions=[];const addFunction=D=>{interactionFunctions.push(D)},attachFunctions=()=>{interactionFunctions.forEach(D=>{D()}),interactionFunctions=[]},drawRect$1=function(D,O){const z=D.append("rect");return z.attr("x",O.x),z.attr("y",O.y),z.attr("fill",O.fill),z.attr("stroke",O.stroke),z.attr("width",O.width),z.attr("height",O.height),z.attr("rx",O.rx),z.attr("ry",O.ry),O.class!==void 0&&z.attr("class",O.class),z},addPopupInteraction=(D,O)=>{addFunction(()=>{const z=document.querySelectorAll(D);z.length!==0&&(z[0].addEventListener("mouseover",function(){popupMenuUpFunc("actor"+O+"_popup")}),z[0].addEventListener("mouseout",function(){popupMenuDownFunc("actor"+O+"_popup")}))})},drawPopup=function(D,O,z,F,Y){if(O.links===void 0||O.links===null||Object.keys(O.links).length===0)return{height:0,width:0};const W=O.links,q=O.actorCnt,X=O.rectData;var tt="none";Y&&(tt="block !important");const nt=D.append("g");nt.attr("id","actor"+q+"_popup"),nt.attr("class","actorPopupMenu"),nt.attr("display",tt),addPopupInteraction("#actor"+q+"_popup",q);var st="";X.class!==void 0&&(st=" "+X.class);let ct=X.width>z?X.width:z;const lt=nt.append("rect");if(lt.attr("class","actorPopupMenuPanel"+st),lt.attr("x",X.x),lt.attr("y",X.height),lt.attr("fill",X.fill),lt.attr("stroke",X.stroke),lt.attr("width",ct),lt.attr("height",X.height),lt.attr("rx",X.rx),lt.attr("ry",X.ry),W!=null){var ht=20;for(let mt in W){var bt=nt.append("a"),wt=dist.sanitizeUrl(W[mt]);bt.attr("xlink:href",wt),bt.attr("target","_blank"),_drawMenuItemTextCandidateFunc(F)(mt,bt,X.x+10,X.height+ht,ct,20,{class:"actor"},F),ht+=30}}return lt.attr("height",ht),{height:X.height+ht,width:ct}},drawImage=function(D,O,z,F){const Y=D.append("image");Y.attr("x",O),Y.attr("y",z);var W=dist.sanitizeUrl(F);Y.attr("xlink:href",W)},drawEmbeddedImage=function(D,O,z,F){const Y=D.append("use");Y.attr("x",O),Y.attr("y",z);var W=dist.sanitizeUrl(F);Y.attr("xlink:href","#"+W)},popupMenu=function(D){return"var pu = document.getElementById('"+D+"'); if (pu != null) { pu.style.display = 'block'; }"},popdownMenu=function(D){return"var pu = document.getElementById('"+D+"'); if (pu != null) { pu.style.display = 'none'; }"},popupMenuUpFunc=function(D){var O=document.getElementById(D);O!=null&&(O.style.display="block")},popupMenuDownFunc=function(D){var O=document.getElementById(D);O!=null&&(O.style.display="none")},drawText$1=function(D,O){let z=0,F=0;const Y=O.text.split(common$1.lineBreakRegex),[W,q]=parseFontSize(O.fontSize);let X=[],tt=0,nt=()=>O.y;if(O.valign!==void 0&&O.textMargin!==void 0&&O.textMargin>0)switch(O.valign){case"top":case"start":nt=()=>Math.round(O.y+O.textMargin);break;case"middle":case"center":nt=()=>Math.round(O.y+(z+F+O.textMargin)/2);break;case"bottom":case"end":nt=()=>Math.round(O.y+(z+F+2*O.textMargin)-O.textMargin);break}if(O.anchor!==void 0&&O.textMargin!==void 0&&O.width!==void 0)switch(O.anchor){case"left":case"start":O.x=Math.round(O.x+O.textMargin),O.anchor="start",O.dominantBaseline="middle",O.alignmentBaseline="middle";break;case"middle":case"center":O.x=Math.round(O.x+O.width/2),O.anchor="middle",O.dominantBaseline="middle",O.alignmentBaseline="middle";break;case"right":case"end":O.x=Math.round(O.x+O.width-O.textMargin),O.anchor="end",O.dominantBaseline="middle",O.alignmentBaseline="middle";break}for(let[st,ct]of Y.entries()){O.textMargin!==void 0&&O.textMargin===0&&W!==void 0&&(tt=st*W);const lt=D.append("text");if(lt.attr("x",O.x),lt.attr("y",nt()),O.anchor!==void 0&&lt.attr("text-anchor",O.anchor).attr("dominant-baseline",O.dominantBaseline).attr("alignment-baseline",O.alignmentBaseline),O.fontFamily!==void 0&&lt.style("font-family",O.fontFamily),q!==void 0&&lt.style("font-size",q),O.fontWeight!==void 0&&lt.style("font-weight",O.fontWeight),O.fill!==void 0&&lt.attr("fill",O.fill),O.class!==void 0&&lt.attr("class",O.class),O.dy!==void 0?lt.attr("dy",O.dy):tt!==0&&lt.attr("dy",tt),O.tspan){const ht=lt.append("tspan");ht.attr("x",O.x),O.fill!==void 0&&ht.attr("fill",O.fill),ht.text(ct)}else lt.text(ct);O.valign!==void 0&&O.textMargin!==void 0&&O.textMargin>0&&(F+=(lt._groups||lt)[0][0].getBBox().height,z=F),X.push(lt)}return X},drawLabel$1=function(D,O){function z(Y,W,q,X,tt){return Y+","+W+" "+(Y+q)+","+W+" "+(Y+q)+","+(W+X-tt)+" "+(Y+q-tt*1.2)+","+(W+X)+" "+Y+","+(W+X)}const F=D.append("polygon");return F.attr("points",z(O.x,O.y,O.width,O.height,7)),F.attr("class","labelBox"),O.y=O.y+O.height/2,drawText$1(D,O),F};let actorCnt=-1;const fixLifeLineHeights=(D,O)=>{D.selectAll&&D.selectAll(".actor-line").attr("class","200").attr("y2",O-55)},drawActorTypeParticipant=function(D,O,z,F){const Y=O.x+O.width/2,W=O.y+5,q=D.append("g");var X=q;F||(actorCnt++,X.append("line").attr("id","actor"+actorCnt).attr("x1",Y).attr("y1",W).attr("x2",Y).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),X=q.append("g"),O.actorCnt=actorCnt,O.links!=null&&(X.attr("id","root-"+actorCnt),addPopupInteraction("#root-"+actorCnt,actorCnt)));const tt=getNoteRect$1();var nt="actor";O.properties!=null&&O.properties.class?nt=O.properties.class:tt.fill="#eaeaea",tt.x=O.x,tt.y=O.y,tt.width=O.width,tt.height=O.height,tt.class=nt,tt.rx=3,tt.ry=3;const st=drawRect$1(X,tt);if(O.rectData=tt,O.properties!=null&&O.properties.icon){const lt=O.properties.icon.trim();lt.charAt(0)==="@"?drawEmbeddedImage(X,tt.x+tt.width-20,tt.y+10,lt.substr(1)):drawImage(X,tt.x+tt.width-20,tt.y+10,lt)}_drawTextCandidateFunc$1(z)(O.description,X,tt.x,tt.y,tt.width,tt.height,{class:"actor"},z);let ct=O.height;if(st.node){const lt=st.node().getBBox();O.height=lt.height,ct=lt.height}return ct},drawActorTypeActor=function(D,O,z,F){const Y=O.x+O.width/2,W=O.y+80;F||(actorCnt++,D.append("line").attr("id","actor"+actorCnt).attr("x1",Y).attr("y1",W).attr("x2",Y).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const q=D.append("g");q.attr("class","actor-man");const X=getNoteRect$1();X.x=O.x,X.y=O.y,X.fill="#eaeaea",X.width=O.width,X.height=O.height,X.class="actor",X.rx=3,X.ry=3,q.append("line").attr("id","actor-man-torso"+actorCnt).attr("x1",Y).attr("y1",O.y+25).attr("x2",Y).attr("y2",O.y+45),q.append("line").attr("id","actor-man-arms"+actorCnt).attr("x1",Y-18).attr("y1",O.y+33).attr("x2",Y+18).attr("y2",O.y+33),q.append("line").attr("x1",Y-18).attr("y1",O.y+60).attr("x2",Y).attr("y2",O.y+45),q.append("line").attr("x1",Y).attr("y1",O.y+45).attr("x2",Y+16).attr("y2",O.y+60);const tt=q.append("circle");tt.attr("cx",O.x+O.width/2),tt.attr("cy",O.y+10),tt.attr("r",15),tt.attr("width",O.width),tt.attr("height",O.height);const nt=q.node().getBBox();return O.height=nt.height,_drawTextCandidateFunc$1(z)(O.description,q,X.x,X.y+35,X.width,X.height,{class:"actor"},z),O.height},drawActor=function(D,O,z,F){switch(O.type){case"actor":return drawActorTypeActor(D,O,z,F);case"participant":return drawActorTypeParticipant(D,O,z,F)}},drawBox=function(D,O,z){const Y=D.append("g");drawBackgroundRect$1(Y,O),O.name&&_drawTextCandidateFunc$1(z)(O.name,Y,O.x,O.y+(O.textMaxHeight||0)/2,O.width,0,{class:"text"},z),Y.lower()},anchorElement=function(D){return D.append("g")},drawActivation=function(D,O,z,F,Y){const W=getNoteRect$1(),q=O.anchored;W.x=O.startx,W.y=O.starty,W.class="activation"+Y%3,W.width=O.stopx-O.startx,W.height=z-O.starty,drawRect$1(q,W)},drawLoop=function(D,O,z,F){const{boxMargin:Y,boxTextMargin:W,labelBoxHeight:q,labelBoxWidth:X,messageFontFamily:tt,messageFontSize:nt,messageFontWeight:st}=F,ct=D.append("g"),lt=function(wt,mt,_t,Et){return ct.append("line").attr("x1",wt).attr("y1",mt).attr("x2",_t).attr("y2",Et).attr("class","loopLine")};lt(O.startx,O.starty,O.stopx,O.starty),lt(O.stopx,O.starty,O.stopx,O.stopy),lt(O.startx,O.stopy,O.stopx,O.stopy),lt(O.startx,O.starty,O.startx,O.stopy),O.sections!==void 0&&O.sections.forEach(function(wt){lt(O.startx,wt.y,O.stopx,wt.y).style("stroke-dasharray","3, 3")});let ht=getTextObj$1();ht.text=z,ht.x=O.startx,ht.y=O.starty,ht.fontFamily=tt,ht.fontSize=nt,ht.fontWeight=st,ht.anchor="middle",ht.valign="middle",ht.tspan=!1,ht.width=X||50,ht.height=q||20,ht.textMargin=W,ht.class="labelText",drawLabel$1(ct,ht),ht=getTextObj$1(),ht.text=O.title,ht.x=O.startx+X/2+(O.stopx-O.startx)/2,ht.y=O.starty+Y+W,ht.anchor="middle",ht.valign="middle",ht.textMargin=W,ht.class="loopText",ht.fontFamily=tt,ht.fontSize=nt,ht.fontWeight=st,ht.wrap=!0;let bt=drawText$1(ct,ht);return O.sectionTitles!==void 0&&O.sectionTitles.forEach(function(wt,mt){if(wt.message){ht.text=wt.message,ht.x=O.startx+(O.stopx-O.startx)/2,ht.y=O.sections[mt].y+Y+W,ht.class="loopText",ht.anchor="middle",ht.valign="middle",ht.tspan=!1,ht.fontFamily=tt,ht.fontSize=nt,ht.fontWeight=st,ht.wrap=O.wrap,bt=drawText$1(ct,ht);let _t=Math.round(bt.map(Et=>(Et._groups||Et)[0][0].getBBox().height).reduce((Et,At)=>Et+At));O.sections[mt].height+=_t-(Y+W)}}),O.height=Math.round(O.stopy-O.starty),ct},drawBackgroundRect$1=function(D,O){drawRect$1(D,{x:O.startx,y:O.starty,width:O.stopx-O.startx,height:O.stopy-O.starty,fill:O.fill,stroke:O.stroke,class:"rect"}).lower()},insertDatabaseIcon=function(D){D.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon=function(D){D.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon=function(D){D.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead=function(D){D.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowFilledHead=function(D){D.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertSequenceNumber=function(D){D.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead=function(D){D.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},getTextObj$1=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},getNoteRect$1=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc$1=function(){function D(Y,W,q,X,tt,nt,st){const ct=W.append("text").attr("x",q+tt/2).attr("y",X+nt/2+5).style("text-anchor","middle").text(Y);F(ct,st)}function O(Y,W,q,X,tt,nt,st,ct){const{actorFontSize:lt,actorFontFamily:ht,actorFontWeight:bt}=ct,[wt,mt]=parseFontSize(lt),_t=Y.split(common$1.lineBreakRegex);for(let Et=0;Et<_t.length;Et++){const At=Et*wt-wt*(_t.length-1)/2,Ct=W.append("text").attr("x",q+tt/2).attr("y",X).style("text-anchor","middle").style("font-size",mt).style("font-weight",bt).style("font-family",ht);Ct.append("tspan").attr("x",q+tt/2).attr("dy",At).text(_t[Et]),Ct.attr("y",X+nt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),F(Ct,st)}}function z(Y,W,q,X,tt,nt,st,ct){const lt=W.append("switch"),bt=lt.append("foreignObject").attr("x",q).attr("y",X).attr("width",tt).attr("height",nt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");bt.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(Y),O(Y,lt,q,X,tt,nt,st,ct),F(bt,st)}function F(Y,W){for(const q in W)W.hasOwnProperty(q)&&Y.attr(q,W[q])}return function(Y){return Y.textPlacement==="fo"?z:Y.textPlacement==="old"?D:O}}(),_drawMenuItemTextCandidateFunc=function(){function D(Y,W,q,X,tt,nt,st){const ct=W.append("text").attr("x",q).attr("y",X).style("text-anchor","start").text(Y);F(ct,st)}function O(Y,W,q,X,tt,nt,st,ct){const{actorFontSize:lt,actorFontFamily:ht,actorFontWeight:bt}=ct,wt=Y.split(common$1.lineBreakRegex);for(let mt=0;mt<wt.length;mt++){const _t=mt*lt-lt*(wt.length-1)/2,Et=W.append("text").attr("x",q).attr("y",X).style("text-anchor","start").style("font-size",lt).style("font-weight",bt).style("font-family",ht);Et.append("tspan").attr("x",q).attr("dy",_t).text(wt[mt]),Et.attr("y",X+nt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),F(Et,st)}}function z(Y,W,q,X,tt,nt,st,ct){const lt=W.append("switch"),bt=lt.append("foreignObject").attr("x",q).attr("y",X).attr("width",tt).attr("height",nt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");bt.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(Y),O(Y,lt,q,X,tt,nt,st,ct),F(bt,st)}function F(Y,W){for(const q in W)W.hasOwnProperty(q)&&Y.attr(q,W[q])}return function(Y){return Y.textPlacement==="fo"?z:Y.textPlacement==="old"?D:O}}(),svgDraw$1={drawRect:drawRect$1,drawText:drawText$1,drawLabel:drawLabel$1,drawActor,drawBox,drawPopup,drawImage,drawEmbeddedImage,anchorElement,drawActivation,drawLoop,drawBackgroundRect:drawBackgroundRect$1,insertArrowHead,insertArrowFilledHead,insertSequenceNumber,insertArrowCrossHead,insertDatabaseIcon,insertComputerIcon,insertClockIcon,getTextObj:getTextObj$1,getNoteRect:getNoteRect$1,popupMenu,popdownMenu,fixLifeLineHeights,sanitizeUrl:dist.sanitizeUrl};let conf$3={};const bounds$1={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(D=>D.height||0))+(this.loops.length===0?0:this.loops.map(D=>D.height||0).reduce((D,O)=>D+O))+(this.messages.length===0?0:this.messages.map(D=>D.height||0).reduce((D,O)=>D+O))+(this.notes.length===0?0:this.notes.map(D=>D.height||0).reduce((D,O)=>D+O))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(D){this.boxes.push(D)},addActor:function(D){this.actors.push(D)},addLoop:function(D){this.loops.push(D)},addMessage:function(D){this.messages.push(D)},addNote:function(D){this.notes.push(D)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,setConf$4(getConfig$1())},updateVal:function(D,O,z,F){D[O]===void 0?D[O]=z:D[O]=F(z,D[O])},updateBounds:function(D,O,z,F){const Y=this;let W=0;function q(X){return function(nt){W++;const st=Y.sequenceItems.length-W+1;Y.updateVal(nt,"starty",O-st*conf$3.boxMargin,Math.min),Y.updateVal(nt,"stopy",F+st*conf$3.boxMargin,Math.max),Y.updateVal(bounds$1.data,"startx",D-st*conf$3.boxMargin,Math.min),Y.updateVal(bounds$1.data,"stopx",z+st*conf$3.boxMargin,Math.max),X!=="activation"&&(Y.updateVal(nt,"startx",D-st*conf$3.boxMargin,Math.min),Y.updateVal(nt,"stopx",z+st*conf$3.boxMargin,Math.max),Y.updateVal(bounds$1.data,"starty",O-st*conf$3.boxMargin,Math.min),Y.updateVal(bounds$1.data,"stopy",F+st*conf$3.boxMargin,Math.max))}}this.sequenceItems.forEach(q()),this.activations.forEach(q("activation"))},insert:function(D,O,z,F){const Y=Math.min(D,z),W=Math.max(D,z),q=Math.min(O,F),X=Math.max(O,F);this.updateVal(bounds$1.data,"startx",Y,Math.min),this.updateVal(bounds$1.data,"starty",q,Math.min),this.updateVal(bounds$1.data,"stopx",W,Math.max),this.updateVal(bounds$1.data,"stopy",X,Math.max),this.updateBounds(Y,q,W,X)},newActivation:function(D,O,z){const F=z[D.from.actor],Y=actorActivations(D.from.actor).length||0,W=F.x+F.width/2+(Y-1)*conf$3.activationWidth/2;this.activations.push({startx:W,starty:this.verticalPos+2,stopx:W+conf$3.activationWidth,stopy:void 0,actor:D.from.actor,anchored:svgDraw$1.anchorElement(O)})},endActivation:function(D){const O=this.activations.map(function(z){return z.actor}).lastIndexOf(D.from.actor);return this.activations.splice(O,1)[0]},createLoop:function(D={message:void 0,wrap:!1,width:void 0},O){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:D.message,wrap:D.wrap,width:D.width,height:0,fill:O}},newLoop:function(D={message:void 0,wrap:!1,width:void 0},O){this.sequenceItems.push(this.createLoop(D,O))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(D){const O=this.sequenceItems.pop();O.sections=O.sections||[],O.sectionTitles=O.sectionTitles||[],O.sections.push({y:bounds$1.getVerticalPos(),height:0}),O.sectionTitles.push(D),this.sequenceItems.push(O)},bumpVerticalPos:function(D){this.verticalPos=this.verticalPos+D,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},drawNote$1=function(D,O){bounds$1.bumpVerticalPos(conf$3.boxMargin),O.height=conf$3.boxMargin,O.starty=bounds$1.getVerticalPos();const z=svgDraw$1.getNoteRect();z.x=O.startx,z.y=O.starty,z.width=O.width||conf$3.width,z.class="note";const F=D.append("g"),Y=svgDraw$1.drawRect(F,z),W=svgDraw$1.getTextObj();W.x=O.startx,W.y=O.starty,W.width=z.width,W.dy="1em",W.text=O.message,W.class="noteText",W.fontFamily=conf$3.noteFontFamily,W.fontSize=conf$3.noteFontSize,W.fontWeight=conf$3.noteFontWeight,W.anchor=conf$3.noteAlign,W.textMargin=conf$3.noteMargin,W.valign="center";const q=drawText$1(F,W),X=Math.round(q.map(tt=>(tt._groups||tt)[0][0].getBBox().height).reduce((tt,nt)=>tt+nt));Y.attr("height",X+2*conf$3.noteMargin),O.height+=X+2*conf$3.noteMargin,bounds$1.bumpVerticalPos(X+2*conf$3.noteMargin),O.stopy=O.starty+X+2*conf$3.noteMargin,O.stopx=O.startx+z.width,bounds$1.insert(O.startx,O.starty,O.stopx,O.stopy),bounds$1.models.addNote(O)},messageFont=D=>({fontFamily:D.messageFontFamily,fontSize:D.messageFontSize,fontWeight:D.messageFontWeight}),noteFont=D=>({fontFamily:D.noteFontFamily,fontSize:D.noteFontSize,fontWeight:D.noteFontWeight}),actorFont=D=>({fontFamily:D.actorFontFamily,fontSize:D.actorFontSize,fontWeight:D.actorFontWeight});function boundMessage(D,O){bounds$1.bumpVerticalPos(10);const{startx:z,stopx:F,message:Y}=O,W=common$1.splitBreaks(Y).length,q=utils.calculateTextDimensions(Y,messageFont(conf$3)),X=q.height/W;O.height+=X,bounds$1.bumpVerticalPos(X);let tt,nt=q.height-10;const st=q.width;if(z===F){tt=bounds$1.getVerticalPos()+nt,conf$3.rightAngles||(nt+=conf$3.boxMargin,tt=bounds$1.getVerticalPos()+nt),nt+=30;const ct=Math.max(st/2,conf$3.width/2);bounds$1.insert(z-ct,bounds$1.getVerticalPos()-10+nt,F+ct,bounds$1.getVerticalPos()+30+nt)}else nt+=conf$3.boxMargin,tt=bounds$1.getVerticalPos()+nt,bounds$1.insert(z,tt-10,F,tt);return bounds$1.bumpVerticalPos(nt),O.height+=nt,O.stopy=O.starty+O.height,bounds$1.insert(O.fromBounds,O.starty,O.toBounds,O.stopy),tt}const drawMessage=function(D,O,z,F){const{startx:Y,stopx:W,starty:q,message:X,type:tt,sequenceIndex:nt,sequenceVisible:st}=O,ct=utils.calculateTextDimensions(X,messageFont(conf$3)),lt=svgDraw$1.getTextObj();lt.x=Y,lt.y=q+10,lt.width=W-Y,lt.class="messageText",lt.dy="1em",lt.text=X,lt.fontFamily=conf$3.messageFontFamily,lt.fontSize=conf$3.messageFontSize,lt.fontWeight=conf$3.messageFontWeight,lt.anchor=conf$3.messageAlign,lt.valign="center",lt.textMargin=conf$3.wrapPadding,lt.tspan=!1,drawText$1(D,lt);const ht=ct.width;let bt;Y===W?conf$3.rightAngles?bt=D.append("path").attr("d",`M  ${Y},${z} H ${Y+Math.max(conf$3.width/2,ht/2)} V ${z+25} H ${Y}`):bt=D.append("path").attr("d","M "+Y+","+z+" C "+(Y+60)+","+(z-10)+" "+(Y+60)+","+(z+30)+" "+Y+","+(z+20)):(bt=D.append("line"),bt.attr("x1",Y),bt.attr("y1",z),bt.attr("x2",W),bt.attr("y2",z)),tt===F.db.LINETYPE.DOTTED||tt===F.db.LINETYPE.DOTTED_CROSS||tt===F.db.LINETYPE.DOTTED_POINT||tt===F.db.LINETYPE.DOTTED_OPEN?(bt.style("stroke-dasharray","3, 3"),bt.attr("class","messageLine1")):bt.attr("class","messageLine0");let wt="";conf$3.arrowMarkerAbsolute&&(wt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,wt=wt.replace(/\(/g,"\\("),wt=wt.replace(/\)/g,"\\)")),bt.attr("stroke-width",2),bt.attr("stroke","none"),bt.style("fill","none"),(tt===F.db.LINETYPE.SOLID||tt===F.db.LINETYPE.DOTTED)&&bt.attr("marker-end","url("+wt+"#arrowhead)"),(tt===F.db.LINETYPE.SOLID_POINT||tt===F.db.LINETYPE.DOTTED_POINT)&&bt.attr("marker-end","url("+wt+"#filled-head)"),(tt===F.db.LINETYPE.SOLID_CROSS||tt===F.db.LINETYPE.DOTTED_CROSS)&&bt.attr("marker-end","url("+wt+"#crosshead)"),(st||conf$3.showSequenceNumbers)&&(bt.attr("marker-start","url("+wt+"#sequencenumber)"),D.append("text").attr("x",Y).attr("y",z+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(nt))},drawActors=function(D,O,z,F,Y,W,q){if(Y.hideUnusedParticipants===!0){const ct=new Set;W.forEach(lt=>{ct.add(lt.from),ct.add(lt.to)}),z=z.filter(lt=>ct.has(lt))}let X=0,tt=0,nt=0,st;for(const ct of z){const lt=O[ct],ht=lt.box;st&&st!=ht&&(q||bounds$1.models.addBox(st),tt+=conf$3.boxMargin+st.margin),ht&&ht!=st&&(q||(ht.x=X+tt,ht.y=F),tt+=ht.margin),lt.width=lt.width||conf$3.width,lt.height=Math.max(lt.height||conf$3.height,conf$3.height),lt.margin=lt.margin||conf$3.actorMargin,lt.x=X+tt,lt.y=bounds$1.getVerticalPos();const bt=svgDraw$1.drawActor(D,lt,conf$3,q);nt=Math.max(nt,bt),bounds$1.insert(lt.x,F,lt.x+lt.width,lt.height),X+=lt.width+tt,lt.box&&(lt.box.width=X+ht.margin-lt.box.x),tt=lt.margin,st=lt.box,bounds$1.models.addActor(lt)}st&&!q&&bounds$1.models.addBox(st),bounds$1.bumpVerticalPos(nt)},drawActorsPopup=function(D,O,z,F){let Y=0,W=0;for(const q of z){const X=O[q],tt=getRequiredPopupWidth(X),nt=svgDraw$1.drawPopup(D,X,tt,conf$3,conf$3.forceMenus,F);nt.height>Y&&(Y=nt.height),nt.width+X.x>W&&(W=nt.width+X.x)}return{maxHeight:Y,maxWidth:W}},setConf$4=function(D){assignWithDepth$1(conf$3,D),D.fontFamily&&(conf$3.actorFontFamily=conf$3.noteFontFamily=conf$3.messageFontFamily=D.fontFamily),D.fontSize&&(conf$3.actorFontSize=conf$3.noteFontSize=conf$3.messageFontSize=D.fontSize),D.fontWeight&&(conf$3.actorFontWeight=conf$3.noteFontWeight=conf$3.messageFontWeight=D.fontWeight)},actorActivations=function(D){return bounds$1.activations.filter(function(O){return O.actor===D})},activationBounds=function(D,O){const z=O[D],F=actorActivations(D),Y=F.reduce(function(q,X){return Math.min(q,X.startx)},z.x+z.width/2),W=F.reduce(function(q,X){return Math.max(q,X.stopx)},z.x+z.width/2);return[Y,W]};function adjustLoopHeightForWrap(D,O,z,F,Y){bounds$1.bumpVerticalPos(z);let W=F;if(O.id&&O.message&&D[O.id]){const q=D[O.id].width,X=messageFont(conf$3);O.message=utils.wrapLabel(`[${O.message}]`,q-2*conf$3.wrapPadding,X),O.width=q,O.wrap=!0;const tt=utils.calculateTextDimensions(O.message,X),nt=Math.max(tt.height,conf$3.labelBoxHeight);W=F+nt,log$1.debug(`${nt} - ${O.message}`)}Y(O),bounds$1.bumpVerticalPos(W)}const draw$4=function(D,O,z,F){const{securityLevel:Y,sequence:W}=getConfig$1();conf$3=W,F.db.clear(),F.parser.parse(D);let q;Y==="sandbox"&&(q=select("#i"+O));const X=select(Y==="sandbox"?q.nodes()[0].contentDocument.body:"body"),tt=Y==="sandbox"?q.nodes()[0].contentDocument:document;bounds$1.init(),log$1.debug(F.db);const nt=Y==="sandbox"?X.select(`[id="${O}"]`):select(`[id="${O}"]`),st=F.db.getActors(),ct=F.db.getBoxes(),lt=F.db.getActorKeys(),ht=F.db.getMessages(),bt=F.db.getDiagramTitle(),wt=F.db.hasAtLeastOneBox(),mt=F.db.hasAtLeastOneBoxWithTitle(),_t=getMaxMessageWidthPerActor(st,ht,F);conf$3.height=calculateActorMargins(st,_t,ct),svgDraw$1.insertComputerIcon(nt),svgDraw$1.insertDatabaseIcon(nt),svgDraw$1.insertClockIcon(nt),wt&&(bounds$1.bumpVerticalPos(conf$3.boxMargin),mt&&bounds$1.bumpVerticalPos(ct[0].textMaxHeight)),drawActors(nt,st,lt,0,conf$3,ht,!1);const Et=calculateLoopBounds(ht,st,_t,F);svgDraw$1.insertArrowHead(nt),svgDraw$1.insertArrowCrossHead(nt),svgDraw$1.insertArrowFilledHead(nt),svgDraw$1.insertSequenceNumber(nt);function At(ce,Pt){const de=bounds$1.endActivation(ce);de.starty+18>Pt&&(de.starty=Pt-6,Pt+=12),svgDraw$1.drawActivation(nt,de,Pt,conf$3,actorActivations(ce.from.actor).length),bounds$1.insert(de.startx,Pt-10,de.stopx,Pt)}let Ct=1,Ft=1;const Lt=[];ht.forEach(function(ce){let Pt,de,ye;switch(ce.type){case F.db.LINETYPE.NOTE:de=ce.noteModel,drawNote$1(nt,de);break;case F.db.LINETYPE.ACTIVE_START:bounds$1.newActivation(ce,nt,st);break;case F.db.LINETYPE.ACTIVE_END:At(ce,bounds$1.getVerticalPos());break;case F.db.LINETYPE.LOOP_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,pe=>bounds$1.newLoop(pe));break;case F.db.LINETYPE.LOOP_END:Pt=bounds$1.endLoop(),svgDraw$1.drawLoop(nt,Pt,"loop",conf$3),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Pt);break;case F.db.LINETYPE.RECT_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin,pe=>bounds$1.newLoop(void 0,pe.message));break;case F.db.LINETYPE.RECT_END:Pt=bounds$1.endLoop(),svgDraw$1.drawBackgroundRect(nt,Pt),bounds$1.models.addLoop(Pt),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos());break;case F.db.LINETYPE.OPT_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,pe=>bounds$1.newLoop(pe));break;case F.db.LINETYPE.OPT_END:Pt=bounds$1.endLoop(),svgDraw$1.drawLoop(nt,Pt,"opt",conf$3),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Pt);break;case F.db.LINETYPE.ALT_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,pe=>bounds$1.newLoop(pe));break;case F.db.LINETYPE.ALT_ELSE:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,pe=>bounds$1.addSectionToLoop(pe));break;case F.db.LINETYPE.ALT_END:Pt=bounds$1.endLoop(),svgDraw$1.drawLoop(nt,Pt,"alt",conf$3),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Pt);break;case F.db.LINETYPE.PAR_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,pe=>bounds$1.newLoop(pe));break;case F.db.LINETYPE.PAR_AND:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,pe=>bounds$1.addSectionToLoop(pe));break;case F.db.LINETYPE.PAR_END:Pt=bounds$1.endLoop(),svgDraw$1.drawLoop(nt,Pt,"par",conf$3),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Pt);break;case F.db.LINETYPE.AUTONUMBER:Ct=ce.message.start||Ct,Ft=ce.message.step||Ft,ce.message.visible?F.db.enableSequenceNumbers():F.db.disableSequenceNumbers();break;case F.db.LINETYPE.CRITICAL_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,pe=>bounds$1.newLoop(pe));break;case F.db.LINETYPE.CRITICAL_OPTION:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,pe=>bounds$1.addSectionToLoop(pe));break;case F.db.LINETYPE.CRITICAL_END:Pt=bounds$1.endLoop(),svgDraw$1.drawLoop(nt,Pt,"critical",conf$3),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Pt);break;case F.db.LINETYPE.BREAK_START:adjustLoopHeightForWrap(Et,ce,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,pe=>bounds$1.newLoop(pe));break;case F.db.LINETYPE.BREAK_END:Pt=bounds$1.endLoop(),svgDraw$1.drawLoop(nt,Pt,"break",conf$3),bounds$1.bumpVerticalPos(Pt.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Pt);break;default:try{ye=ce.msgModel,ye.starty=bounds$1.getVerticalPos(),ye.sequenceIndex=Ct,ye.sequenceVisible=F.db.showSequenceNumbers();const pe=boundMessage(nt,ye);Lt.push({messageModel:ye,lineStartY:pe}),bounds$1.models.addMessage(ye)}catch(pe){log$1.error("error while drawing message",pe)}}[F.db.LINETYPE.SOLID_OPEN,F.db.LINETYPE.DOTTED_OPEN,F.db.LINETYPE.SOLID,F.db.LINETYPE.DOTTED,F.db.LINETYPE.SOLID_CROSS,F.db.LINETYPE.DOTTED_CROSS,F.db.LINETYPE.SOLID_POINT,F.db.LINETYPE.DOTTED_POINT].includes(ce.type)&&(Ct=Ct+Ft)}),Lt.forEach(ce=>drawMessage(nt,ce.messageModel,ce.lineStartY,F)),conf$3.mirrorActors&&(bounds$1.bumpVerticalPos(conf$3.boxMargin*2),drawActors(nt,st,lt,bounds$1.getVerticalPos(),conf$3,ht,!0),bounds$1.bumpVerticalPos(conf$3.boxMargin),fixLifeLineHeights(nt,bounds$1.getVerticalPos())),bounds$1.models.boxes.forEach(function(ce){ce.height=bounds$1.getVerticalPos()-ce.y,bounds$1.insert(ce.x,ce.y,ce.x+ce.width,ce.height),ce.startx=ce.x,ce.starty=ce.y,ce.stopx=ce.startx+ce.width,ce.stopy=ce.starty+ce.height,ce.stroke="rgb(0,0,0, 0.5)",svgDraw$1.drawBox(nt,ce,conf$3)}),wt&&bounds$1.bumpVerticalPos(conf$3.boxMargin);const Yt=drawActorsPopup(nt,st,lt,tt),{bounds:Ht}=bounds$1.getBounds();log$1.debug("For line height fix Querying: #"+O+" .actor-line"),selectAll("#"+O+" .actor-line").attr("y2",Ht.stopy);let te=Ht.stopy-Ht.starty;te<Yt.maxHeight&&(te=Yt.maxHeight);let Xt=te+2*conf$3.diagramMarginY;conf$3.mirrorActors&&(Xt=Xt-conf$3.boxMargin+conf$3.bottomMarginAdj);let Dt=Ht.stopx-Ht.startx;Dt<Yt.maxWidth&&(Dt=Yt.maxWidth);const Qt=Dt+2*conf$3.diagramMarginX;bt&&nt.append("text").text(bt).attr("x",(Ht.stopx-Ht.startx)/2-2*conf$3.diagramMarginX).attr("y",-25),configureSvgSize(nt,Xt,Qt,conf$3.useMaxWidth);const Nt=bt?40:0;nt.attr("viewBox",Ht.startx-conf$3.diagramMarginX+" -"+(conf$3.diagramMarginY+Nt)+" "+Qt+" "+(Xt+Nt)),log$1.debug("models:",bounds$1.models)};function getMaxMessageWidthPerActor(D,O,z){const F={};return O.forEach(function(Y){if(D[Y.to]&&D[Y.from]){const W=D[Y.to];if(Y.placement===z.db.PLACEMENT.LEFTOF&&!W.prevActor||Y.placement===z.db.PLACEMENT.RIGHTOF&&!W.nextActor)return;const q=Y.placement!==void 0,X=!q,tt=q?noteFont(conf$3):messageFont(conf$3),nt=Y.wrap?utils.wrapLabel(Y.message,conf$3.width-2*conf$3.wrapPadding,tt):Y.message,ct=utils.calculateTextDimensions(nt,tt).width+2*conf$3.wrapPadding;X&&Y.from===W.nextActor?F[Y.to]=Math.max(F[Y.to]||0,ct):X&&Y.from===W.prevActor?F[Y.from]=Math.max(F[Y.from]||0,ct):X&&Y.from===Y.to?(F[Y.from]=Math.max(F[Y.from]||0,ct/2),F[Y.to]=Math.max(F[Y.to]||0,ct/2)):Y.placement===z.db.PLACEMENT.RIGHTOF?F[Y.from]=Math.max(F[Y.from]||0,ct):Y.placement===z.db.PLACEMENT.LEFTOF?F[W.prevActor]=Math.max(F[W.prevActor]||0,ct):Y.placement===z.db.PLACEMENT.OVER&&(W.prevActor&&(F[W.prevActor]=Math.max(F[W.prevActor]||0,ct/2)),W.nextActor&&(F[Y.from]=Math.max(F[Y.from]||0,ct/2)))}}),log$1.debug("maxMessageWidthPerActor:",F),F}const getRequiredPopupWidth=function(D){let O=0;const z=actorFont(conf$3);for(const F in D.links){const W=utils.calculateTextDimensions(F,z).width+2*conf$3.wrapPadding+2*conf$3.boxMargin;O<W&&(O=W)}return O};function calculateActorMargins(D,O,z){let F=0;Object.keys(D).forEach(W=>{const q=D[W];q.wrap&&(q.description=utils.wrapLabel(q.description,conf$3.width-2*conf$3.wrapPadding,actorFont(conf$3)));const X=utils.calculateTextDimensions(q.description,actorFont(conf$3));q.width=q.wrap?conf$3.width:Math.max(conf$3.width,X.width+2*conf$3.wrapPadding),q.height=q.wrap?Math.max(X.height,conf$3.height):conf$3.height,F=Math.max(F,q.height)});for(const W in O){const q=D[W];if(!q)continue;const X=D[q.nextActor];if(!X){const ct=O[W]+conf$3.actorMargin-q.width/2;q.margin=Math.max(ct,conf$3.actorMargin);continue}const nt=O[W]+conf$3.actorMargin-q.width/2-X.width/2;q.margin=Math.max(nt,conf$3.actorMargin)}let Y=0;return z.forEach(W=>{const q=messageFont(conf$3);let X=W.actorKeys.reduce((st,ct)=>st+=D[ct].width+(D[ct].margin||0),0);X-=2*conf$3.boxTextMargin,W.wrap&&(W.name=utils.wrapLabel(W.name,X-2*conf$3.wrapPadding,q));const tt=utils.calculateTextDimensions(W.name,q);Y=Math.max(tt.height,Y);const nt=Math.max(X,tt.width+2*conf$3.wrapPadding);if(W.margin=conf$3.boxTextMargin,X<nt){const st=(nt-X)/2;W.margin+=st}}),z.forEach(W=>W.textMaxHeight=Y),Math.max(F,conf$3.height)}const buildNoteModel=function(D,O,z){const F=O[D.from].x,Y=O[D.to].x,W=D.wrap&&D.message;let q=utils.calculateTextDimensions(W?utils.wrapLabel(D.message,conf$3.width,noteFont(conf$3)):D.message,noteFont(conf$3));const X={width:W?conf$3.width:Math.max(conf$3.width,q.width+2*conf$3.noteMargin),height:0,startx:O[D.from].x,stopx:0,starty:0,stopy:0,message:D.message};return D.placement===z.db.PLACEMENT.RIGHTOF?(X.width=W?Math.max(conf$3.width,q.width):Math.max(O[D.from].width/2+O[D.to].width/2,q.width+2*conf$3.noteMargin),X.startx=F+(O[D.from].width+conf$3.actorMargin)/2):D.placement===z.db.PLACEMENT.LEFTOF?(X.width=Math.max(W?conf$3.width:O[D.from].width/2+O[D.to].width/2,q.width+2*conf$3.noteMargin),X.startx=F-X.width+(O[D.from].width-conf$3.actorMargin)/2):D.to===D.from?(q=utils.calculateTextDimensions(W?utils.wrapLabel(D.message,Math.max(conf$3.width,O[D.from].width),noteFont(conf$3)):D.message,noteFont(conf$3)),X.width=W?Math.max(conf$3.width,O[D.from].width):Math.max(O[D.from].width,conf$3.width,q.width+2*conf$3.noteMargin),X.startx=F+(O[D.from].width-X.width)/2):(X.width=Math.abs(F+O[D.from].width/2-(Y+O[D.to].width/2))+conf$3.actorMargin,X.startx=F<Y?F+O[D.from].width/2-conf$3.actorMargin/2:Y+O[D.to].width/2-conf$3.actorMargin/2),W&&(X.message=utils.wrapLabel(D.message,X.width-2*conf$3.wrapPadding,noteFont(conf$3))),log$1.debug(`NM:[${X.startx},${X.stopx},${X.starty},${X.stopy}:${X.width},${X.height}=${D.message}]`),X},buildMessageModel=function(D,O,z){let F=!1;if([z.db.LINETYPE.SOLID_OPEN,z.db.LINETYPE.DOTTED_OPEN,z.db.LINETYPE.SOLID,z.db.LINETYPE.DOTTED,z.db.LINETYPE.SOLID_CROSS,z.db.LINETYPE.DOTTED_CROSS,z.db.LINETYPE.SOLID_POINT,z.db.LINETYPE.DOTTED_POINT].includes(D.type)&&(F=!0),!F)return{};const Y=activationBounds(D.from,O),W=activationBounds(D.to,O),q=Y[0]<=W[0]?1:0,X=Y[0]<W[0]?0:1,tt=[...Y,...W],nt=Math.abs(W[X]-Y[q]);D.wrap&&D.message&&(D.message=utils.wrapLabel(D.message,Math.max(nt+2*conf$3.wrapPadding,conf$3.width),messageFont(conf$3)));const st=utils.calculateTextDimensions(D.message,messageFont(conf$3));return{width:Math.max(D.wrap?0:st.width+2*conf$3.wrapPadding,nt+2*conf$3.wrapPadding,conf$3.width),height:0,startx:Y[q],stopx:W[X],starty:0,stopy:0,message:D.message,type:D.type,wrap:D.wrap,fromBounds:Math.min.apply(null,tt),toBounds:Math.max.apply(null,tt)}},calculateLoopBounds=function(D,O,z,F){const Y={},W=[];let q,X,tt;return D.forEach(function(nt){switch(nt.id=utils.random({length:10}),nt.type){case F.db.LINETYPE.LOOP_START:case F.db.LINETYPE.ALT_START:case F.db.LINETYPE.OPT_START:case F.db.LINETYPE.PAR_START:case F.db.LINETYPE.CRITICAL_START:case F.db.LINETYPE.BREAK_START:W.push({id:nt.id,msg:nt.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case F.db.LINETYPE.ALT_ELSE:case F.db.LINETYPE.PAR_AND:case F.db.LINETYPE.CRITICAL_OPTION:nt.message&&(q=W.pop(),Y[q.id]=q,Y[nt.id]=q,W.push(q));break;case F.db.LINETYPE.LOOP_END:case F.db.LINETYPE.ALT_END:case F.db.LINETYPE.OPT_END:case F.db.LINETYPE.PAR_END:case F.db.LINETYPE.CRITICAL_END:case F.db.LINETYPE.BREAK_END:q=W.pop(),Y[q.id]=q;break;case F.db.LINETYPE.ACTIVE_START:{const ct=O[nt.from?nt.from.actor:nt.to.actor],lt=actorActivations(nt.from?nt.from.actor:nt.to.actor).length,ht=ct.x+ct.width/2+(lt-1)*conf$3.activationWidth/2,bt={startx:ht,stopx:ht+conf$3.activationWidth,actor:nt.from.actor,enabled:!0};bounds$1.activations.push(bt)}break;case F.db.LINETYPE.ACTIVE_END:{const ct=bounds$1.activations.map(lt=>lt.actor).lastIndexOf(nt.from.actor);delete bounds$1.activations.splice(ct,1)[0]}break}nt.placement!==void 0?(X=buildNoteModel(nt,O,F),nt.noteModel=X,W.forEach(ct=>{q=ct,q.from=Math.min(q.from,X.startx),q.to=Math.max(q.to,X.startx+X.width),q.width=Math.max(q.width,Math.abs(q.from-q.to))-conf$3.labelBoxWidth})):(tt=buildMessageModel(nt,O,F),nt.msgModel=tt,tt.startx&&tt.stopx&&W.length>0&&W.forEach(ct=>{if(q=ct,tt.startx===tt.stopx){const lt=O[nt.from],ht=O[nt.to];q.from=Math.min(lt.x-tt.width/2,lt.x-lt.width/2,q.from),q.to=Math.max(ht.x+tt.width/2,ht.x+lt.width/2,q.to),q.width=Math.max(q.width,Math.abs(q.to-q.from))-conf$3.labelBoxWidth}else q.from=Math.min(tt.startx,q.from),q.to=Math.max(tt.stopx,q.to),q.width=Math.max(q.width,tt.width)-conf$3.labelBoxWidth}))}),bounds$1.activations=[],log$1.debug("Loop type widths:",Y),Y},sequenceRenderer={bounds:bounds$1,drawActors,drawActorsPopup,setConf:setConf$4,draw:draw$4};var parser$1=function(){var D=function(ve,Ce,De,Oe){for(De=De||{},Oe=ve.length;Oe--;De[ve[Oe]]=Ce);return De},O=[1,2],z=[1,3],F=[1,5],Y=[1,7],W=[2,5],q=[1,15],X=[1,17],tt=[1,21],nt=[1,22],st=[1,23],ct=[1,24],lt=[1,37],ht=[1,25],bt=[1,26],wt=[1,27],mt=[1,28],_t=[1,29],Et=[1,32],At=[1,33],Ct=[1,34],Ft=[1,35],Lt=[1,36],Yt=[1,39],Ht=[1,40],qt=[1,41],te=[1,42],Xt=[1,38],Dt=[1,45],Qt=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Nt=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ce=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Pt=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],de={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(Ce,De,Oe,Je,qe,ze,we){var Me=ze.length-1;switch(qe){case 4:return Je.setRootDoc(ze[Me]),ze[Me];case 5:this.$=[];break;case 6:ze[Me]!="nl"&&(ze[Me-1].push(ze[Me]),this.$=ze[Me-1]);break;case 7:case 8:this.$=ze[Me];break;case 9:this.$="nl";break;case 12:this.$=ze[Me];break;case 13:const Kt=ze[Me-1];Kt.description=Je.trimColon(ze[Me]),this.$=Kt;break;case 14:this.$={stmt:"relation",state1:ze[Me-2],state2:ze[Me]};break;case 15:const kt=Je.trimColon(ze[Me]);this.$={stmt:"relation",state1:ze[Me-3],state2:ze[Me-1],description:kt};break;case 19:this.$={stmt:"state",id:ze[Me-3],type:"default",description:"",doc:ze[Me-1]};break;case 20:var He=ze[Me],Le=ze[Me-2].trim();if(ze[Me].match(":")){var Ye=ze[Me].split(":");He=Ye[0],Le=[Le,Ye[1]]}this.$={stmt:"state",id:He,type:"default",description:Le};break;case 21:this.$={stmt:"state",id:ze[Me-3],type:"default",description:ze[Me-5],doc:ze[Me-1]};break;case 22:this.$={stmt:"state",id:ze[Me],type:"fork"};break;case 23:this.$={stmt:"state",id:ze[Me],type:"join"};break;case 24:this.$={stmt:"state",id:ze[Me],type:"choice"};break;case 25:this.$={stmt:"state",id:Je.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:ze[Me-1].trim(),note:{position:ze[Me-2].trim(),text:ze[Me].trim()}};break;case 30:this.$=ze[Me].trim(),Je.setAccTitle(this.$);break;case 31:case 32:this.$=ze[Me].trim(),Je.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:ze[Me-1].trim(),classes:ze[Me].trim()};break;case 35:this.$={stmt:"applyClass",id:ze[Me-1].trim(),styleClass:ze[Me].trim()};break;case 38:Je.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Je.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Je.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Je.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:ze[Me].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:ze[Me-2].trim(),classes:[ze[Me].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:ze[Me-2].trim(),classes:[ze[Me].trim()],type:"default",description:""};break;case 50:Je.parseDirective("%%{","open_directive");break;case 51:Je.parseDirective(ze[Me],"type_directive");break;case 52:ze[Me]=ze[Me].trim().replace(/'/g,'"'),Je.parseDirective(ze[Me],"arg_directive");break;case 53:Je.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:O,5:z,6:4,7:F,45:6,60:Y},{1:[3]},{3:8,4:O,5:z,6:4,7:F,45:6,60:Y},{3:9,4:O,5:z,6:4,7:F,45:6,60:Y},{3:10,4:O,5:z,6:4,7:F,45:6,60:Y},D([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],W,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:q,5:X,6:30,9:14,10:16,11:18,12:19,13:20,16:tt,17:nt,19:st,22:ct,24:lt,25:ht,26:bt,27:wt,28:mt,29:_t,32:31,33:Et,35:At,37:Ct,38:Ft,42:Lt,45:6,50:Yt,51:Ht,52:qt,53:te,56:Xt,60:Y},{47:43,48:[1,44],63:Dt},D([48,63],[2,51]),D(Qt,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:tt,17:nt,19:st,22:ct,24:lt,25:ht,26:bt,27:wt,28:mt,29:_t,32:31,33:Et,35:At,37:Ct,38:Ft,42:Lt,45:6,50:Yt,51:Ht,52:qt,53:te,56:Xt,60:Y},D(Qt,[2,8]),D(Qt,[2,9]),D(Qt,[2,10]),D(Qt,[2,11]),D(Qt,[2,12],{14:[1,47],15:[1,48]}),D(Qt,[2,16]),{18:[1,49]},D(Qt,[2,18],{20:[1,50]}),{23:[1,51]},D(Qt,[2,22]),D(Qt,[2,23]),D(Qt,[2,24]),D(Qt,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},D(Qt,[2,28]),D(Qt,[2,29]),{34:[1,56]},{36:[1,57]},D(Qt,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},D(Nt,[2,44],{57:[1,61]}),D(Nt,[2,45],{57:[1,62]}),D(Qt,[2,38]),D(Qt,[2,39]),D(Qt,[2,40]),D(Qt,[2,41]),D(ce,[2,36]),{49:63,62:[1,64]},D(ce,[2,53]),D(Qt,[2,7]),D(Qt,[2,13]),{13:65,24:lt,56:Xt},D(Qt,[2,17]),D(Pt,W,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},D(Qt,[2,30]),D(Qt,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:Dt},{63:[2,52]},D(Qt,[2,14],{14:[1,76]}),{4:q,5:X,6:30,9:14,10:16,11:18,12:19,13:20,16:tt,17:nt,19:st,21:[1,77],22:ct,24:lt,25:ht,26:bt,27:wt,28:mt,29:_t,32:31,33:Et,35:At,37:Ct,38:Ft,42:Lt,45:6,50:Yt,51:Ht,52:qt,53:te,56:Xt,60:Y},D(Qt,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},D(Qt,[2,33]),D(Qt,[2,34]),D(Qt,[2,35]),D(Nt,[2,46]),D(Nt,[2,47]),D(ce,[2,37]),D(Qt,[2,15]),D(Qt,[2,19]),D(Pt,W,{8:81}),D(Qt,[2,26]),D(Qt,[2,27]),{4:q,5:X,6:30,9:14,10:16,11:18,12:19,13:20,16:tt,17:nt,19:st,21:[1,82],22:ct,24:lt,25:ht,26:bt,27:wt,28:mt,29:_t,32:31,33:Et,35:At,37:Ct,38:Ft,42:Lt,45:6,50:Yt,51:Ht,52:qt,53:te,56:Xt,60:Y},D(Qt,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(Ce,De){if(De.recoverable)this.trace(Ce);else{var Oe=new Error(Ce);throw Oe.hash=De,Oe}},parse:function(Ce){var De=this,Oe=[0],Je=[],qe=[null],ze=[],we=this.table,Me="",He=0,Le=0,Ye=2,Kt=1,kt=ze.slice.call(arguments,1),jt=Object.create(this.lexer),$t={yy:{}};for(var oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,oe)&&($t.yy[oe]=this.yy[oe]);jt.setInput(Ce,$t.yy),$t.yy.lexer=jt,$t.yy.parser=this,typeof jt.yylloc>"u"&&(jt.yylloc={});var Vt=jt.yylloc;ze.push(Vt);var Be=jt.options&&jt.options.ranges;typeof $t.yy.parseError=="function"?this.parseError=$t.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(){var jn;return jn=Je.pop()||jt.lex()||Kt,typeof jn!="number"&&(jn instanceof Array&&(Je=jn,jn=Je.pop()),jn=De.symbols_[jn]||jn),jn}for(var Pe,ke,$e,Fe,Qe={},We,rn,zn,Bn;;){if(ke=Oe[Oe.length-1],this.defaultActions[ke]?$e=this.defaultActions[ke]:((Pe===null||typeof Pe>"u")&&(Pe=ge()),$e=we[ke]&&we[ke][Pe]),typeof $e>"u"||!$e.length||!$e[0]){var Pn="";Bn=[];for(We in we[ke])this.terminals_[We]&&We>Ye&&Bn.push("'"+this.terminals_[We]+"'");jt.showPosition?Pn="Parse error on line "+(He+1)+`:
`+jt.showPosition()+`
Expecting `+Bn.join(", ")+", got '"+(this.terminals_[Pe]||Pe)+"'":Pn="Parse error on line "+(He+1)+": Unexpected "+(Pe==Kt?"end of input":"'"+(this.terminals_[Pe]||Pe)+"'"),this.parseError(Pn,{text:jt.match,token:this.terminals_[Pe]||Pe,line:jt.yylineno,loc:Vt,expected:Bn})}if($e[0]instanceof Array&&$e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ke+", token: "+Pe);switch($e[0]){case 1:Oe.push(Pe),qe.push(jt.yytext),ze.push(jt.yylloc),Oe.push($e[1]),Pe=null,Le=jt.yyleng,Me=jt.yytext,He=jt.yylineno,Vt=jt.yylloc;break;case 2:if(rn=this.productions_[$e[1]][1],Qe.$=qe[qe.length-rn],Qe._$={first_line:ze[ze.length-(rn||1)].first_line,last_line:ze[ze.length-1].last_line,first_column:ze[ze.length-(rn||1)].first_column,last_column:ze[ze.length-1].last_column},Be&&(Qe._$.range=[ze[ze.length-(rn||1)].range[0],ze[ze.length-1].range[1]]),Fe=this.performAction.apply(Qe,[Me,Le,He,$t.yy,$e[1],qe,ze].concat(kt)),typeof Fe<"u")return Fe;rn&&(Oe=Oe.slice(0,-1*rn*2),qe=qe.slice(0,-1*rn),ze=ze.slice(0,-1*rn)),Oe.push(this.productions_[$e[1]][0]),qe.push(Qe.$),ze.push(Qe._$),zn=we[Oe[Oe.length-2]][Oe[Oe.length-1]],Oe.push(zn);break;case 3:return!0}}return!0}},ye=function(){var ve={EOF:1,parseError:function(De,Oe){if(this.yy.parser)this.yy.parser.parseError(De,Oe);else throw new Error(De)},setInput:function(Ce,De){return this.yy=De||this.yy||{},this._input=Ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ce=this._input[0];this.yytext+=Ce,this.yyleng++,this.offset++,this.match+=Ce,this.matched+=Ce;var De=Ce.match(/(?:\r\n?|\n).*/g);return De?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ce},unput:function(Ce){var De=Ce.length,Oe=Ce.split(/(?:\r\n?|\n)/g);this._input=Ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-De),this.offset-=De;var Je=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Oe.length-1&&(this.yylineno-=Oe.length-1);var qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Oe?(Oe.length===Je.length?this.yylloc.first_column:0)+Je[Je.length-Oe.length].length-Oe[0].length:this.yylloc.first_column-De},this.options.ranges&&(this.yylloc.range=[qe[0],qe[0]+this.yyleng-De]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ce){this.unput(this.match.slice(Ce))},pastInput:function(){var Ce=this.matched.substr(0,this.matched.length-this.match.length);return(Ce.length>20?"...":"")+Ce.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ce=this.match;return Ce.length<20&&(Ce+=this._input.substr(0,20-Ce.length)),(Ce.substr(0,20)+(Ce.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ce=this.pastInput(),De=new Array(Ce.length+1).join("-");return Ce+this.upcomingInput()+`
`+De+"^"},test_match:function(Ce,De){var Oe,Je,qe;if(this.options.backtrack_lexer&&(qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qe.yylloc.range=this.yylloc.range.slice(0))),Je=Ce[0].match(/(?:\r\n?|\n).*/g),Je&&(this.yylineno+=Je.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Je?Je[Je.length-1].length-Je[Je.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ce[0].length},this.yytext+=Ce[0],this.match+=Ce[0],this.matches=Ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ce[0].length),this.matched+=Ce[0],Oe=this.performAction.call(this,this.yy,this,De,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Oe)return Oe;if(this._backtrack){for(var ze in qe)this[ze]=qe[ze];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ce,De,Oe,Je;this._more||(this.yytext="",this.match="");for(var qe=this._currentRules(),ze=0;ze<qe.length;ze++)if(Oe=this._input.match(this.rules[qe[ze]]),Oe&&(!De||Oe[0].length>De[0].length)){if(De=Oe,Je=ze,this.options.backtrack_lexer){if(Ce=this.test_match(Oe,qe[ze]),Ce!==!1)return Ce;if(this._backtrack){De=!1;continue}else return!1}else if(!this.options.flex)break}return De?(Ce=this.test_match(De,qe[Je]),Ce!==!1?Ce:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var De=this.next();return De||this.lex()},begin:function(De){this.conditionStack.push(De)},popState:function(){var De=this.conditionStack.length-1;return De>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(De){return De=this.conditionStack.length-1-Math.abs(De||0),De>=0?this.conditionStack[De]:"INITIAL"},pushState:function(De){this.begin(De)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(De,Oe,Je,qe){switch(Je){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),Oe.yytext=Oe.yytext.substr(2).trim(),31;case 69:return this.popState(),Oe.yytext=Oe.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return Oe.yytext=Oe.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return ve}();de.lexer=ye;function pe(){this.yy={}}return pe.prototype=de,de.Parser=pe,new pe}();parser$1.parser=parser$1;const stateParser=parser$1,stateDetector=(D,O)=>{var z;return((z=O==null?void 0:O.state)==null?void 0:z.defaultRenderer)==="dagre-wrapper"?!1:D.match(/^\s*stateDiagram/)!==null},stateDetectorV2=(D,O)=>{var z;return!!(D.match(/^\s*stateDiagram-v2/)!==null||D.match(/^\s*stateDiagram/)&&((z=O==null?void 0:O.state)==null?void 0:z.defaultRenderer)==="dagre-wrapper")},DEFAULT_DIAGRAM_DIRECTION="LR",DEFAULT_NESTED_DOC_DIR="TB",STMT_STATE="state",STMT_RELATION="relation",STMT_CLASSDEF="classDef",STMT_APPLYCLASS="applyClass",DEFAULT_STATE_TYPE="default",DIVIDER_TYPE="divider",START_NODE="[*]",START_TYPE="start",END_NODE=START_NODE,END_TYPE="end",COLOR_KEYWORD="color",FILL_KEYWORD="fill",BG_FILL="bgFill",STYLECLASS_SEP=",";function newClassesList(){return{}}let direction=DEFAULT_DIAGRAM_DIRECTION,rootDoc=[],classes=newClassesList();const newDoc=()=>({relations:[],states:{},documents:{}});let documents={root:newDoc()},currentDocument=documents.root,startEndCount=0,dividerCnt=0;const lineType={LINE:0,DOTTED_LINE:1},relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},clone=D=>JSON.parse(JSON.stringify(D)),parseDirective$1=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},setRootDoc=D=>{log$1.info("Setting root doc",D),rootDoc=D},getRootDoc=()=>rootDoc,docTranslator=(D,O,z)=>{if(O.stmt===STMT_RELATION)docTranslator(D,O.state1,!0),docTranslator(D,O.state2,!1);else if(O.stmt===STMT_STATE&&(O.id==="[*]"?(O.id=z?D.id+"_start":D.id+"_end",O.start=z):O.id=O.id.trim()),O.doc){const F=[];let Y=[],W;for(W=0;W<O.doc.length;W++)if(O.doc[W].type===DIVIDER_TYPE){const q=clone(O.doc[W]);q.doc=clone(Y),F.push(q),Y=[]}else Y.push(O.doc[W]);if(F.length>0&&Y.length>0){const q={stmt:STMT_STATE,id:generateId$1(),type:"divider",doc:clone(Y)};F.push(clone(q)),O.doc=F}O.doc.forEach(q=>docTranslator(O,q,!0))}},getRootDocV2=()=>(docTranslator({id:"root"},{id:"root",doc:rootDoc},!0),{id:"root",doc:rootDoc}),extract=D=>{let O;D.doc?O=D.doc:O=D,log$1.info(O),clear$1(!0),log$1.info("Extract",O),O.forEach(z=>{switch(z.stmt){case STMT_STATE:addState(z.id.trim(),z.type,z.doc,z.description,z.note,z.classes,z.styles,z.textStyles);break;case STMT_RELATION:addRelation(z.state1,z.state2,z.description);break;case STMT_CLASSDEF:addStyleClass(z.id.trim(),z.classes);break;case STMT_APPLYCLASS:setCssClass(z.id.trim(),z.styleClass);break}})},addState=function(D,O=DEFAULT_STATE_TYPE,z=null,F=null,Y=null,W=null,q=null,X=null){const tt=D==null?void 0:D.trim();currentDocument.states[tt]===void 0?(log$1.info("Adding state ",tt,F),currentDocument.states[tt]={id:tt,descriptions:[],type:O,doc:z,note:Y,classes:[],styles:[],textStyles:[]}):(currentDocument.states[tt].doc||(currentDocument.states[tt].doc=z),currentDocument.states[tt].type||(currentDocument.states[tt].type=O)),F&&(log$1.info("Setting state description",tt,F),typeof F=="string"&&addDescription(tt,F.trim()),typeof F=="object"&&F.forEach(nt=>addDescription(tt,nt.trim()))),Y&&(currentDocument.states[tt].note=Y,currentDocument.states[tt].note.text=common$1.sanitizeText(currentDocument.states[tt].note.text,getConfig$1())),W&&(log$1.info("Setting state classes",tt,W),(typeof W=="string"?[W]:W).forEach(st=>setCssClass(tt,st.trim()))),q&&(log$1.info("Setting state styles",tt,q),(typeof q=="string"?[q]:q).forEach(st=>setStyle(tt,st.trim()))),X&&(log$1.info("Setting state styles",tt,q),(typeof X=="string"?[X]:X).forEach(st=>setTextStyle(tt,st.trim())))},clear$1=function(D){documents={root:newDoc()},currentDocument=documents.root,startEndCount=0,classes=newClassesList(),D||clear$g()},getState=function(D){return currentDocument.states[D]},getStates=function(){return currentDocument.states},logDocuments=function(){log$1.info("Documents = ",documents)},getRelations=function(){return currentDocument.relations};function startIdIfNeeded(D=""){let O=D;return D===START_NODE&&(startEndCount++,O=`${START_TYPE}${startEndCount}`),O}function startTypeIfNeeded(D="",O=DEFAULT_STATE_TYPE){return D===START_NODE?START_TYPE:O}function endIdIfNeeded(D=""){let O=D;return D===END_NODE&&(startEndCount++,O=`${END_TYPE}${startEndCount}`),O}function endTypeIfNeeded(D="",O=DEFAULT_STATE_TYPE){return D===END_NODE?END_TYPE:O}function addRelationObjs(D,O,z){let F=startIdIfNeeded(D.id.trim()),Y=startTypeIfNeeded(D.id.trim(),D.type),W=startIdIfNeeded(O.id.trim()),q=startTypeIfNeeded(O.id.trim(),O.type);addState(F,Y,D.doc,D.description,D.note,D.classes,D.styles,D.textStyles),addState(W,q,O.doc,O.description,O.note,O.classes,O.styles,O.textStyles),currentDocument.relations.push({id1:F,id2:W,relationTitle:common$1.sanitizeText(z,getConfig$1())})}const addRelation=function(D,O,z){if(typeof D=="object")addRelationObjs(D,O,z);else{const F=startIdIfNeeded(D.trim()),Y=startTypeIfNeeded(D),W=endIdIfNeeded(O.trim()),q=endTypeIfNeeded(O);addState(F,Y),addState(W,q),currentDocument.relations.push({id1:F,id2:W,title:common$1.sanitizeText(z,getConfig$1())})}},addDescription=function(D,O){const z=currentDocument.states[D],F=O.startsWith(":")?O.replace(":","").trim():O;z.descriptions.push(common$1.sanitizeText(F,getConfig$1()))},cleanupLabel=function(D){return D.substring(0,1)===":"?D.substr(2).trim():D.trim()},getDividerId=()=>(dividerCnt++,"divider-id-"+dividerCnt),addStyleClass=function(D,O=""){classes[D]===void 0&&(classes[D]={id:D,styles:[],textStyles:[]});const z=classes[D];O!=null&&O.split(STYLECLASS_SEP).forEach(F=>{const Y=F.replace(/([^;]*);/,"$1").trim();if(F.match(COLOR_KEYWORD)){const q=Y.replace(FILL_KEYWORD,BG_FILL).replace(COLOR_KEYWORD,FILL_KEYWORD);z.textStyles.push(q)}z.styles.push(Y)})},getClasses$1=function(){return classes},setCssClass=function(D,O){D.split(",").forEach(function(z){let F=getState(z);if(F===void 0){const Y=z.trim();addState(Y),F=getState(Y)}F.classes.push(O)})},setStyle=function(D,O){const z=getState(D);z!==void 0&&z.textStyles.push(O)},setTextStyle=function(D,O){const z=getState(D);z!==void 0&&z.textStyles.push(O)},getDirection=()=>direction,setDirection=D=>{direction=D},trimColon=D=>D&&D[0]===":"?D.substr(1).trim():D.trim(),stateDb={parseDirective:parseDirective$1,getConfig:()=>getConfig$1().state,addState,clear:clear$1,getState,getStates,getRelations,getClasses:getClasses$1,getDirection,addRelation,getDividerId,setDirection,cleanupLabel,lineType,relationType,logDocuments,getRootDoc,setRootDoc,getRootDocV2,extract,trimColon,getAccTitle,setAccTitle,getAccDescription,setAccDescription,addStyleClass,setCssClass,addDescription,setDiagramTitle,getDiagramTitle},drawStartState=D=>D.append("circle").attr("class","start-state").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit),drawDivider=D=>D.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",getConfig$1().state.textHeight).attr("class","divider").attr("x2",getConfig$1().state.textHeight*2).attr("y1",0).attr("y2",0),drawSimpleState=(D,O)=>{const z=D.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+2*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(O.id),F=z.node().getBBox();return D.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",F.width+2*getConfig$1().state.padding).attr("height",F.height+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),z},drawDescrState=(D,O)=>{const z=function(lt,ht,bt){const wt=lt.append("tspan").attr("x",2*getConfig$1().state.padding).text(ht);bt||wt.attr("dy",getConfig$1().state.textHeight)},Y=D.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+1.3*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(O.descriptions[0]).node().getBBox(),W=Y.height,q=D.append("text").attr("x",getConfig$1().state.padding).attr("y",W+getConfig$1().state.padding*.4+getConfig$1().state.dividerMargin+getConfig$1().state.textHeight).attr("class","state-description");let X=!0,tt=!0;O.descriptions.forEach(function(lt){X||(z(q,lt,tt),tt=!1),X=!1});const nt=D.append("line").attr("x1",getConfig$1().state.padding).attr("y1",getConfig$1().state.padding+W+getConfig$1().state.dividerMargin/2).attr("y2",getConfig$1().state.padding+W+getConfig$1().state.dividerMargin/2).attr("class","descr-divider"),st=q.node().getBBox(),ct=Math.max(st.width,Y.width);return nt.attr("x2",ct+3*getConfig$1().state.padding),D.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",ct+2*getConfig$1().state.padding).attr("height",st.height+W+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),D},addTitleAndBox=(D,O,z)=>{const F=getConfig$1().state.padding,Y=2*getConfig$1().state.padding,W=D.node().getBBox(),q=W.width,X=W.x,tt=D.append("text").attr("x",0).attr("y",getConfig$1().state.titleShift).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(O.id),st=tt.node().getBBox().width+Y;let ct=Math.max(st,q);ct===q&&(ct=ct+Y);let lt;const ht=D.node().getBBox();O.doc,lt=X-F,st>q&&(lt=(q-ct)/2+F),Math.abs(X-ht.x)<F&&st>q&&(lt=X-(st-q)/2);const bt=1-getConfig$1().state.textHeight;return D.insert("rect",":first-child").attr("x",lt).attr("y",bt).attr("class",z?"alt-composit":"composit").attr("width",ct).attr("height",ht.height+getConfig$1().state.textHeight+getConfig$1().state.titleShift+1).attr("rx","0"),tt.attr("x",lt+F),st<=q&&tt.attr("x",X+(ct-Y)/2-st/2+F),D.insert("rect",":first-child").attr("x",lt).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",ct).attr("height",getConfig$1().state.textHeight*3).attr("rx",getConfig$1().state.radius),D.insert("rect",":first-child").attr("x",lt).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",ct).attr("height",ht.height+3+2*getConfig$1().state.textHeight).attr("rx",getConfig$1().state.radius),D},drawEndState=D=>(D.append("circle").attr("class","end-state-outer").attr("r",getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding),D.append("circle").attr("class","end-state-inner").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2)),drawForkJoinState=(D,O)=>{let z=getConfig$1().state.forkWidth,F=getConfig$1().state.forkHeight;if(O.parentId){let Y=z;z=F,F=Y}return D.append("rect").style("stroke","black").style("fill","black").attr("width",z).attr("height",F).attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding)},_drawLongText=(D,O,z,F)=>{let Y=0;const W=F.append("text");W.style("text-anchor","start"),W.attr("class","noteText");let q=D.replace(/\r\n/g,"<br/>");q=q.replace(/\n/g,"<br/>");const X=q.split(common$1.lineBreakRegex);let tt=1.25*getConfig$1().state.noteMargin;for(const nt of X){const st=nt.trim();if(st.length>0){const ct=W.append("tspan");if(ct.text(st),tt===0){const lt=ct.node().getBBox();tt+=lt.height}Y+=tt,ct.attr("x",O+getConfig$1().state.noteMargin),ct.attr("y",z+Y+1.25*getConfig$1().state.noteMargin)}}return{textWidth:W.node().getBBox().width,textHeight:Y}},drawNote=(D,O)=>{O.attr("class","state-note");const z=O.append("rect").attr("x",0).attr("y",getConfig$1().state.padding),F=O.append("g"),{textWidth:Y,textHeight:W}=_drawLongText(D,0,0,F);return z.attr("height",W+2*getConfig$1().state.noteMargin),z.attr("width",Y+getConfig$1().state.noteMargin*2),z},drawState=function(D,O){const z=O.id,F={id:z,label:O.id,width:0,height:0},Y=D.append("g").attr("id",z).attr("class","stateGroup");O.type==="start"&&drawStartState(Y),O.type==="end"&&drawEndState(Y),(O.type==="fork"||O.type==="join")&&drawForkJoinState(Y,O),O.type==="note"&&drawNote(O.note.text,Y),O.type==="divider"&&drawDivider(Y),O.type==="default"&&O.descriptions.length===0&&drawSimpleState(Y,O),O.type==="default"&&O.descriptions.length>0&&drawDescrState(Y,O);const W=Y.node().getBBox();return F.width=W.width+2*getConfig$1().state.padding,F.height=W.height+2*getConfig$1().state.padding,F};let edgeCount=0;const drawEdge=function(D,O,z){const F=function(tt){switch(tt){case stateDb.relationType.AGGREGATION:return"aggregation";case stateDb.relationType.EXTENSION:return"extension";case stateDb.relationType.COMPOSITION:return"composition";case stateDb.relationType.DEPENDENCY:return"dependency"}};O.points=O.points.filter(tt=>!Number.isNaN(tt.y));const Y=O.points,W=line$1().x(function(tt){return tt.x}).y(function(tt){return tt.y}).curve(curveBasis),q=D.append("path").attr("d",W(Y)).attr("id","edge"+edgeCount).attr("class","transition");let X="";if(getConfig$1().state.arrowMarkerAbsolute&&(X=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,X=X.replace(/\(/g,"\\("),X=X.replace(/\)/g,"\\)")),q.attr("marker-end","url("+X+"#"+F(stateDb.relationType.DEPENDENCY)+"End)"),z.title!==void 0){const tt=D.append("g").attr("class","stateLabel"),{x:nt,y:st}=utils.calcLabelPosition(O.points),ct=common$1.getRows(z.title);let lt=0;const ht=[];let bt=0,wt=0;for(let Et=0;Et<=ct.length;Et++){const At=tt.append("text").attr("text-anchor","middle").text(ct[Et]).attr("x",nt).attr("y",st+lt),Ct=At.node().getBBox();bt=Math.max(bt,Ct.width),wt=Math.min(wt,Ct.x),log$1.info(Ct.x,nt,st+lt),lt===0&&(lt=At.node().getBBox().height,log$1.info("Title height",lt,st)),ht.push(At)}let mt=lt*ct.length;if(ct.length>1){const Et=(ct.length-1)*lt*.5;ht.forEach((At,Ct)=>At.attr("y",st+Ct*lt-Et)),mt=lt*ct.length}const _t=tt.node().getBBox();tt.insert("rect",":first-child").attr("class","box").attr("x",nt-bt/2-getConfig$1().state.padding/2).attr("y",st-mt/2-getConfig$1().state.padding/2-3.5).attr("width",bt+getConfig$1().state.padding).attr("height",mt+getConfig$1().state.padding),log$1.info(_t)}edgeCount++};let conf$2;const transformationLog={},setConf$3=function(){},insertMarkers=function(D){D.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},draw$3=function(D,O,z,F){conf$2=getConfig$1().state;const Y=getConfig$1().securityLevel;let W;Y==="sandbox"&&(W=select("#i"+O));const q=select(Y==="sandbox"?W.nodes()[0].contentDocument.body:"body"),X=Y==="sandbox"?W.nodes()[0].contentDocument:document;log$1.debug("Rendering diagram "+D);const tt=q.select(`[id='${O}']`);insertMarkers(tt),new Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const st=F.db.getRootDoc();renderDoc(st,tt,void 0,!1,q,X,F);const ct=conf$2.padding,lt=tt.node().getBBox(),ht=lt.width+ct*2,bt=lt.height+ct*2,wt=ht*1.75;configureSvgSize(tt,bt,wt,conf$2.useMaxWidth),tt.attr("viewBox",`${lt.x-conf$2.padding}  ${lt.y-conf$2.padding} `+ht+" "+bt)},getLabelWidth=D=>D?D.length*conf$2.fontSizeFactor:1,renderDoc=(D,O,z,F,Y,W,q)=>{const X=new Graph({compound:!0,multigraph:!0});let tt,nt=!0;for(tt=0;tt<D.length;tt++)if(D[tt].stmt==="relation"){nt=!1;break}z?X.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:nt?1:conf$2.edgeLengthFactor,nodeSep:nt?1:50,isMultiGraph:!0}):X.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:nt?1:conf$2.edgeLengthFactor,nodeSep:nt?1:50,ranker:"tight-tree",isMultiGraph:!0}),X.setDefaultEdgeLabel(function(){return{}}),q.db.extract(D);const st=q.db.getStates(),ct=q.db.getRelations(),lt=Object.keys(st);for(const _t of lt){const Et=st[_t];z&&(Et.parentId=z);let At;if(Et.doc){let Ct=O.append("g").attr("id",Et.id).attr("class","stateGroup");At=renderDoc(Et.doc,Ct,Et.id,!F,Y,W,q);{Ct=addTitleAndBox(Ct,Et,F);let Ft=Ct.node().getBBox();At.width=Ft.width,At.height=Ft.height+conf$2.padding/2,transformationLog[Et.id]={y:conf$2.compositTitleSize}}}else At=drawState(O,Et);if(Et.note){const Ct={descriptions:[],id:Et.id+"-note",note:Et.note,type:"note"},Ft=drawState(O,Ct);Et.note.position==="left of"?(X.setNode(At.id+"-note",Ft),X.setNode(At.id,At)):(X.setNode(At.id,At),X.setNode(At.id+"-note",Ft)),X.setParent(At.id,At.id+"-group"),X.setParent(At.id+"-note",At.id+"-group")}else X.setNode(At.id,At)}log$1.debug("Count=",X.nodeCount(),X);let ht=0;ct.forEach(function(_t){ht++,log$1.debug("Setting edge",_t),X.setEdge(_t.id1,_t.id2,{relation:_t,width:getLabelWidth(_t.title),height:conf$2.labelHeight*common$1.getRows(_t.title).length,labelpos:"c"},"id"+ht)}),layout(X),log$1.debug("Graph after layout",X.nodes());const bt=O.node();X.nodes().forEach(function(_t){_t!==void 0&&X.node(_t)!==void 0?(log$1.warn("Node "+_t+": "+JSON.stringify(X.node(_t))),Y.select("#"+bt.id+" #"+_t).attr("transform","translate("+(X.node(_t).x-X.node(_t).width/2)+","+(X.node(_t).y+(transformationLog[_t]?transformationLog[_t].y:0)-X.node(_t).height/2)+" )"),Y.select("#"+bt.id+" #"+_t).attr("data-x-shift",X.node(_t).x-X.node(_t).width/2),W.querySelectorAll("#"+bt.id+" #"+_t+" .divider").forEach(At=>{const Ct=At.parentElement;let Ft=0,Lt=0;Ct&&(Ct.parentElement&&(Ft=Ct.parentElement.getBBox().width),Lt=parseInt(Ct.getAttribute("data-x-shift"),10),Number.isNaN(Lt)&&(Lt=0)),At.setAttribute("x1",0-Lt+8),At.setAttribute("x2",Ft-Lt-8)})):log$1.debug("No Node "+_t+": "+JSON.stringify(X.node(_t)))});let wt=bt.getBBox();X.edges().forEach(function(_t){_t!==void 0&&X.edge(_t)!==void 0&&(log$1.debug("Edge "+_t.v+" -> "+_t.w+": "+JSON.stringify(X.edge(_t))),drawEdge(O,X.edge(_t),X.edge(_t).relation))}),wt=bt.getBBox();const mt={id:z||"root",label:z||"root",width:0,height:0};return mt.width=wt.width+2*conf$2.padding,mt.height=wt.height+2*conf$2.padding,log$1.debug("Doc rendered",mt,X),mt},stateRenderer={setConf:setConf$3,draw:draw$3},SHAPE_STATE="rect",SHAPE_STATE_WITH_DESC="rectWithTitle",SHAPE_START="start",SHAPE_END="end",SHAPE_DIVIDER="divider",SHAPE_GROUP="roundedWithTitle",SHAPE_NOTE="note",SHAPE_NOTEGROUP="noteGroup",CSS_DIAGRAM="statediagram",CSS_STATE="state",CSS_DIAGRAM_STATE=`${CSS_DIAGRAM}-${CSS_STATE}`,CSS_EDGE="transition",CSS_NOTE="note",CSS_NOTE_EDGE="note-edge",CSS_EDGE_NOTE_EDGE=`${CSS_EDGE} ${CSS_NOTE_EDGE}`,CSS_DIAGRAM_NOTE=`${CSS_DIAGRAM}-${CSS_NOTE}`,CSS_CLUSTER="cluster",CSS_DIAGRAM_CLUSTER=`${CSS_DIAGRAM}-${CSS_CLUSTER}`,CSS_CLUSTER_ALT="cluster-alt",CSS_DIAGRAM_CLUSTER_ALT=`${CSS_DIAGRAM}-${CSS_CLUSTER_ALT}`,PARENT="parent",NOTE="note",DOMID_STATE="state",DOMID_TYPE_SPACER="----",NOTE_ID=`${DOMID_TYPE_SPACER}${NOTE}`,PARENT_ID=`${DOMID_TYPE_SPACER}${PARENT}`,G_EDGE_STYLE="fill:none",G_EDGE_ARROWHEADSTYLE="fill: #333",G_EDGE_LABELPOS="c",G_EDGE_LABELTYPE="text",G_EDGE_THICKNESS="normal";let nodeDb={},graphItemCount=0;const setConf$2=function(D){const O=Object.keys(D);for(const z of O)D[z]},getClasses=function(D,O){log$1.trace("Extracting classes"),O.db.clear();try{return O.parser.parse(D),O.db.extract(O.db.getRootDocV2()),O.db.getClasses()}catch(z){return z}};function getClassesFromDbInfo(D){return D==null?"":D.classes?D.classes.join(" "):""}function stateDomId(D="",O=0,z="",F=DOMID_TYPE_SPACER){const Y=z!==null&&z.length>0?`${F}${z}`:"";return`${DOMID_STATE}-${D}${Y}-${O}`}const setupNode=(D,O,z,F,Y,W)=>{const q=z.id,X=getClassesFromDbInfo(F[q]);if(q!=="root"){let tt=SHAPE_STATE;z.start===!0&&(tt=SHAPE_START),z.start===!1&&(tt=SHAPE_END),z.type!==DEFAULT_STATE_TYPE&&(tt=z.type),nodeDb[q]||(nodeDb[q]={id:q,shape:tt,description:common$1.sanitizeText(q,getConfig$1()),classes:`${X} ${CSS_DIAGRAM_STATE}`});const nt=nodeDb[q];z.description&&(Array.isArray(nt.description)?(nt.shape=SHAPE_STATE_WITH_DESC,nt.description.push(z.description)):nt.description.length>0?(nt.shape=SHAPE_STATE_WITH_DESC,nt.description===q?nt.description=[z.description]:nt.description=[nt.description,z.description]):(nt.shape=SHAPE_STATE,nt.description=z.description),nt.description=common$1.sanitizeTextOrArray(nt.description,getConfig$1())),nt.description.length===1&&nt.shape===SHAPE_STATE_WITH_DESC&&(nt.shape=SHAPE_STATE),!nt.type&&z.doc&&(log$1.info("Setting cluster for ",q,getDir(z)),nt.type="group",nt.dir=getDir(z),nt.shape=z.type===DIVIDER_TYPE?SHAPE_DIVIDER:SHAPE_GROUP,nt.classes=nt.classes+" "+CSS_DIAGRAM_CLUSTER+" "+(W?CSS_DIAGRAM_CLUSTER_ALT:""));const st={labelStyle:"",shape:nt.shape,labelText:nt.description,classes:nt.classes,style:"",id:q,dir:nt.dir,domId:stateDomId(q,graphItemCount),type:nt.type,padding:15};if(z.note){const ct={labelStyle:"",shape:SHAPE_NOTE,labelText:z.note.text,classes:CSS_DIAGRAM_NOTE,style:"",id:q+NOTE_ID+"-"+graphItemCount,domId:stateDomId(q,graphItemCount,NOTE),type:nt.type,padding:15},lt={labelStyle:"",shape:SHAPE_NOTEGROUP,labelText:z.note.text,classes:nt.classes,style:"",id:q+PARENT_ID,domId:stateDomId(q,graphItemCount,PARENT),type:"group",padding:0};graphItemCount++;const ht=q+PARENT_ID;D.setNode(ht,lt),D.setNode(ct.id,ct),D.setNode(q,st),D.setParent(q,ht),D.setParent(ct.id,ht);let bt=q,wt=ct.id;z.note.position==="left of"&&(bt=ct.id,wt=q),D.setEdge(bt,wt,{arrowhead:"none",arrowType:"",style:G_EDGE_STYLE,labelStyle:"",classes:CSS_EDGE_NOTE_EDGE,arrowheadStyle:G_EDGE_ARROWHEADSTYLE,labelpos:G_EDGE_LABELPOS,labelType:G_EDGE_LABELTYPE,thickness:G_EDGE_THICKNESS})}else D.setNode(q,st)}O&&O.id!=="root"&&(log$1.trace("Setting node ",q," to be child of its parent ",O.id),D.setParent(q,O.id)),z.doc&&(log$1.trace("Adding nodes children "),setupDoc(D,z,z.doc,F,Y,!W))},setupDoc=(D,O,z,F,Y,W)=>{log$1.trace("items",z),z.forEach(q=>{switch(q.stmt){case STMT_STATE:setupNode(D,O,q,F,Y,W);break;case DEFAULT_STATE_TYPE:setupNode(D,O,q,F,Y,W);break;case STMT_RELATION:{setupNode(D,O,q.state1,F,Y,W),setupNode(D,O,q.state2,F,Y,W);const X={id:"edge"+graphItemCount,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:G_EDGE_STYLE,labelStyle:"",label:common$1.sanitizeText(q.description,getConfig$1()),arrowheadStyle:G_EDGE_ARROWHEADSTYLE,labelpos:G_EDGE_LABELPOS,labelType:G_EDGE_LABELTYPE,thickness:G_EDGE_THICKNESS,classes:CSS_EDGE};D.setEdge(q.state1.id,q.state2.id,X,graphItemCount),graphItemCount++}break}})},getDir=(D,O=DEFAULT_NESTED_DOC_DIR)=>{let z=O;if(D.doc)for(let F=0;F<D.doc.length;F++){const Y=D.doc[F];Y.stmt==="dir"&&(z=Y.value)}return z},draw$2=function(D,O,z,F){log$1.info("Drawing state diagram (v2)",O),nodeDb={},F.db.getDirection();const{securityLevel:Y,state:W}=getConfig$1(),q=W.nodeSpacing||50,X=W.rankSpacing||50;log$1.info(F.db.getRootDocV2()),F.db.extract(F.db.getRootDocV2()),log$1.info(F.db.getRootDocV2());const tt=F.db.getStates(),nt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:getDir(F.db.getRootDocV2()),nodesep:q,ranksep:X,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});setupNode(nt,void 0,F.db.getRootDocV2(),tt,F.db,!0);let st;Y==="sandbox"&&(st=select("#i"+O));const ct=select(Y==="sandbox"?st.nodes()[0].contentDocument.body:"body"),lt=ct.select(`[id="${O}"]`),ht=ct.select("#"+O+" g");render$1(ht,nt,["barb"],CSS_DIAGRAM,O);const bt=8;utils.insertTitle(lt,"statediagramTitleText",W.titleTopMargin,F.db.getDiagramTitle());const wt=lt.node().getBBox(),mt=wt.width+bt*2,_t=wt.height+bt*2;lt.attr("class",CSS_DIAGRAM);const Et=lt.node().getBBox();configureSvgSize(lt,_t,mt,W.useMaxWidth);const At=`${Et.x-bt} ${Et.y-bt} ${mt} ${_t}`;log$1.debug(`viewBox ${At}`),lt.attr("viewBox",At);const Ct=document.querySelectorAll('[id="'+O+'"] .edgeLabel .label');for(const Ft of Ct){const Lt=Ft.getBBox(),Yt=document.createElementNS("http://www.w3.org/2000/svg",SHAPE_STATE);Yt.setAttribute("rx",0),Yt.setAttribute("ry",0),Yt.setAttribute("width",Lt.width),Yt.setAttribute("height",Lt.height),Ft.insertBefore(Yt,Ft.firstChild)}},stateRendererV2={setConf:setConf$2,getClasses,draw:draw$2};var parser=function(){var D=function(wt,mt,_t,Et){for(_t=_t||{},Et=wt.length;Et--;_t[wt[Et]]=mt);return _t},O=[1,2],z=[1,5],F=[6,9,11,17,18,20,22,23,24,26],Y=[1,15],W=[1,16],q=[1,17],X=[1,18],tt=[1,19],nt=[1,20],st=[1,24],ct=[4,6,9,11,17,18,20,22,23,24,26],lt={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(mt,_t,Et,At,Ct,Ft,Lt){var Yt=Ft.length-1;switch(Ct){case 1:return Ft[Yt-1];case 3:this.$=[];break;case 4:Ft[Yt-1].push(Ft[Yt]),this.$=Ft[Yt-1];break;case 5:case 6:this.$=Ft[Yt];break;case 7:case 8:this.$=[];break;case 11:At.setDiagramTitle(Ft[Yt].substr(6)),this.$=Ft[Yt].substr(6);break;case 12:this.$=Ft[Yt].trim(),At.setAccTitle(this.$);break;case 13:case 14:this.$=Ft[Yt].trim(),At.setAccDescription(this.$);break;case 15:At.addSection(Ft[Yt].substr(8)),this.$=Ft[Yt].substr(8);break;case 16:At.addTask(Ft[Yt-1],Ft[Yt]),this.$="task";break;case 18:At.parseDirective("%%{","open_directive");break;case 19:At.parseDirective(Ft[Yt],"type_directive");break;case 20:Ft[Yt]=Ft[Yt].trim().replace(/'/g,'"'),At.parseDirective(Ft[Yt],"arg_directive");break;case 21:At.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:O,7:3,12:4,26:z},{1:[3]},D(F,[2,3],{5:6}),{3:7,4:O,7:3,12:4,26:z},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:Y,18:W,20:q,22:X,23:tt,24:nt,26:z},{1:[2,2]},{14:22,15:[1,23],29:st},D([15,29],[2,19]),D(F,[2,8],{1:[2,1]}),D(F,[2,4]),{7:21,10:25,12:4,17:Y,18:W,20:q,22:X,23:tt,24:nt,26:z},D(F,[2,6]),D(F,[2,7]),D(F,[2,11]),{19:[1,26]},{21:[1,27]},D(F,[2,14]),D(F,[2,15]),{25:[1,28]},D(F,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},D(F,[2,5]),D(F,[2,12]),D(F,[2,13]),D(F,[2,16]),D(ct,[2,9]),{14:32,29:st},{29:[2,20]},{11:[1,33]},D(ct,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(mt,_t){if(_t.recoverable)this.trace(mt);else{var Et=new Error(mt);throw Et.hash=_t,Et}},parse:function(mt){var _t=this,Et=[0],At=[],Ct=[null],Ft=[],Lt=this.table,Yt="",Ht=0,qt=0,te=2,Xt=1,Dt=Ft.slice.call(arguments,1),Qt=Object.create(this.lexer),Nt={yy:{}};for(var ce in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ce)&&(Nt.yy[ce]=this.yy[ce]);Qt.setInput(mt,Nt.yy),Nt.yy.lexer=Qt,Nt.yy.parser=this,typeof Qt.yylloc>"u"&&(Qt.yylloc={});var Pt=Qt.yylloc;Ft.push(Pt);var de=Qt.options&&Qt.options.ranges;typeof Nt.yy.parseError=="function"?this.parseError=Nt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ye(){var He;return He=At.pop()||Qt.lex()||Xt,typeof He!="number"&&(He instanceof Array&&(At=He,He=At.pop()),He=_t.symbols_[He]||He),He}for(var pe,ve,Ce,De,Oe={},Je,qe,ze,we;;){if(ve=Et[Et.length-1],this.defaultActions[ve]?Ce=this.defaultActions[ve]:((pe===null||typeof pe>"u")&&(pe=ye()),Ce=Lt[ve]&&Lt[ve][pe]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Me="";we=[];for(Je in Lt[ve])this.terminals_[Je]&&Je>te&&we.push("'"+this.terminals_[Je]+"'");Qt.showPosition?Me="Parse error on line "+(Ht+1)+`:
`+Qt.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":Me="Parse error on line "+(Ht+1)+": Unexpected "+(pe==Xt?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(Me,{text:Qt.match,token:this.terminals_[pe]||pe,line:Qt.yylineno,loc:Pt,expected:we})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ve+", token: "+pe);switch(Ce[0]){case 1:Et.push(pe),Ct.push(Qt.yytext),Ft.push(Qt.yylloc),Et.push(Ce[1]),pe=null,qt=Qt.yyleng,Yt=Qt.yytext,Ht=Qt.yylineno,Pt=Qt.yylloc;break;case 2:if(qe=this.productions_[Ce[1]][1],Oe.$=Ct[Ct.length-qe],Oe._$={first_line:Ft[Ft.length-(qe||1)].first_line,last_line:Ft[Ft.length-1].last_line,first_column:Ft[Ft.length-(qe||1)].first_column,last_column:Ft[Ft.length-1].last_column},de&&(Oe._$.range=[Ft[Ft.length-(qe||1)].range[0],Ft[Ft.length-1].range[1]]),De=this.performAction.apply(Oe,[Yt,qt,Ht,Nt.yy,Ce[1],Ct,Ft].concat(Dt)),typeof De<"u")return De;qe&&(Et=Et.slice(0,-1*qe*2),Ct=Ct.slice(0,-1*qe),Ft=Ft.slice(0,-1*qe)),Et.push(this.productions_[Ce[1]][0]),Ct.push(Oe.$),Ft.push(Oe._$),ze=Lt[Et[Et.length-2]][Et[Et.length-1]],Et.push(ze);break;case 3:return!0}}return!0}},ht=function(){var wt={EOF:1,parseError:function(_t,Et){if(this.yy.parser)this.yy.parser.parseError(_t,Et);else throw new Error(_t)},setInput:function(mt,_t){return this.yy=_t||this.yy||{},this._input=mt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var mt=this._input[0];this.yytext+=mt,this.yyleng++,this.offset++,this.match+=mt,this.matched+=mt;var _t=mt.match(/(?:\r\n?|\n).*/g);return _t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),mt},unput:function(mt){var _t=mt.length,Et=mt.split(/(?:\r\n?|\n)/g);this._input=mt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_t),this.offset-=_t;var At=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Et.length-1&&(this.yylineno-=Et.length-1);var Ct=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Et?(Et.length===At.length?this.yylloc.first_column:0)+At[At.length-Et.length].length-Et[0].length:this.yylloc.first_column-_t},this.options.ranges&&(this.yylloc.range=[Ct[0],Ct[0]+this.yyleng-_t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(mt){this.unput(this.match.slice(mt))},pastInput:function(){var mt=this.matched.substr(0,this.matched.length-this.match.length);return(mt.length>20?"...":"")+mt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var mt=this.match;return mt.length<20&&(mt+=this._input.substr(0,20-mt.length)),(mt.substr(0,20)+(mt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var mt=this.pastInput(),_t=new Array(mt.length+1).join("-");return mt+this.upcomingInput()+`
`+_t+"^"},test_match:function(mt,_t){var Et,At,Ct;if(this.options.backtrack_lexer&&(Ct={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ct.yylloc.range=this.yylloc.range.slice(0))),At=mt[0].match(/(?:\r\n?|\n).*/g),At&&(this.yylineno+=At.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:At?At[At.length-1].length-At[At.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+mt[0].length},this.yytext+=mt[0],this.match+=mt[0],this.matches=mt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(mt[0].length),this.matched+=mt[0],Et=this.performAction.call(this,this.yy,this,_t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Et)return Et;if(this._backtrack){for(var Ft in Ct)this[Ft]=Ct[Ft];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var mt,_t,Et,At;this._more||(this.yytext="",this.match="");for(var Ct=this._currentRules(),Ft=0;Ft<Ct.length;Ft++)if(Et=this._input.match(this.rules[Ct[Ft]]),Et&&(!_t||Et[0].length>_t[0].length)){if(_t=Et,At=Ft,this.options.backtrack_lexer){if(mt=this.test_match(Et,Ct[Ft]),mt!==!1)return mt;if(this._backtrack){_t=!1;continue}else return!1}else if(!this.options.flex)break}return _t?(mt=this.test_match(_t,Ct[At]),mt!==!1?mt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var _t=this.next();return _t||this.lex()},begin:function(_t){this.conditionStack.push(_t)},popState:function(){var _t=this.conditionStack.length-1;return _t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(_t){return _t=this.conditionStack.length-1-Math.abs(_t||0),_t>=0?this.conditionStack[_t]:"INITIAL"},pushState:function(_t){this.begin(_t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(_t,Et,At,Ct){switch(At){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return wt}();lt.lexer=ht;function bt(){this.yy={}}return bt.prototype=lt,lt.Parser=bt,new bt}();parser.parser=parser;const journeyParser=parser,journeyDetector=D=>D.match(/^\s*journey/)!==null;let currentSection="";const sections=[],tasks=[],rawTasks=[],parseDirective=function(D,O,z){mermaidAPI.parseDirective(this,D,O,z)},clear=function(){sections.length=0,tasks.length=0,currentSection="",rawTasks.length=0,clear$g()},addSection=function(D){currentSection=D,sections.push(D)},getSections=function(){return sections},getTasks=function(){let D=compileTasks();const O=100;let z=0;for(;!D&&z<O;)D=compileTasks(),z++;return tasks.push(...rawTasks),tasks},updateActors=function(){const D=[];return tasks.forEach(z=>{z.people&&D.push(...z.people)}),[...new Set(D)].sort()},addTask=function(D,O){const z=O.substr(1).split(":");let F=0,Y=[];z.length===1?(F=Number(z[0]),Y=[]):(F=Number(z[0]),Y=z[1].split(","));const W=Y.map(X=>X.trim()),q={section:currentSection,type:currentSection,people:W,task:D,score:F};rawTasks.push(q)},addTaskOrg=function(D){const O={section:currentSection,type:currentSection,description:D,task:D,classes:[]};tasks.push(O)},compileTasks=function(){const D=function(z){return rawTasks[z].processed};let O=!0;for(const[z,F]of rawTasks.entries())D(z),O=O&&F.processed;return O},getActors=function(){return updateActors()},journeyDb={parseDirective,getConfig:()=>getConfig$1().journey,clear,setDiagramTitle,getDiagramTitle,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addSection,getSections,getTasks,addTask,addTaskOrg,getActors},drawRect=function(D,O){const z=D.append("rect");return z.attr("x",O.x),z.attr("y",O.y),z.attr("fill",O.fill),z.attr("stroke",O.stroke),z.attr("width",O.width),z.attr("height",O.height),z.attr("rx",O.rx),z.attr("ry",O.ry),O.class!==void 0&&z.attr("class",O.class),z},drawFace=function(D,O){const F=D.append("circle").attr("cx",O.cx).attr("cy",O.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),Y=D.append("g");Y.append("circle").attr("cx",O.cx-15/3).attr("cy",O.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),Y.append("circle").attr("cx",O.cx+15/3).attr("cy",O.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function W(tt){const nt=arc().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);tt.append("path").attr("class","mouth").attr("d",nt).attr("transform","translate("+O.cx+","+(O.cy+2)+")")}function q(tt){const nt=arc().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);tt.append("path").attr("class","mouth").attr("d",nt).attr("transform","translate("+O.cx+","+(O.cy+7)+")")}function X(tt){tt.append("line").attr("class","mouth").attr("stroke",2).attr("x1",O.cx-5).attr("y1",O.cy+7).attr("x2",O.cx+5).attr("y2",O.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return O.score>3?W(Y):O.score<3?q(Y):X(Y),F},drawCircle=function(D,O){const z=D.append("circle");return z.attr("cx",O.cx),z.attr("cy",O.cy),z.attr("class","actor-"+O.pos),z.attr("fill",O.fill),z.attr("stroke",O.stroke),z.attr("r",O.r),z.class!==void 0&&z.attr("class",z.class),O.title!==void 0&&z.append("title").text(O.title),z},drawText=function(D,O){const z=O.text.replace(/<br\s*\/?>/gi," "),F=D.append("text");F.attr("x",O.x),F.attr("y",O.y),F.attr("class","legend"),F.style("text-anchor",O.anchor),O.class!==void 0&&F.attr("class",O.class);const Y=F.append("tspan");return Y.attr("x",O.x+O.textMargin*2),Y.text(z),F},drawLabel=function(D,O){function z(Y,W,q,X,tt){return Y+","+W+" "+(Y+q)+","+W+" "+(Y+q)+","+(W+X-tt)+" "+(Y+q-tt*1.2)+","+(W+X)+" "+Y+","+(W+X)}const F=D.append("polygon");F.attr("points",z(O.x,O.y,50,20,7)),F.attr("class","labelBox"),O.y=O.y+O.labelMargin,O.x=O.x+.5*O.labelMargin,drawText(D,O)},drawSection=function(D,O,z){const F=D.append("g"),Y=getNoteRect();Y.x=O.x,Y.y=O.y,Y.fill=O.fill,Y.width=z.width,Y.height=z.height,Y.class="journey-section section-type-"+O.num,Y.rx=3,Y.ry=3,drawRect(F,Y),_drawTextCandidateFunc(z)(O.text,F,Y.x,Y.y,Y.width,Y.height,{class:"journey-section section-type-"+O.num},z,O.colour)};let taskCount=-1;const drawTask=function(D,O,z){const F=O.x+z.width/2,Y=D.append("g");taskCount++;const W=300+5*30;Y.append("line").attr("id","task"+taskCount).attr("x1",F).attr("y1",O.y).attr("x2",F).attr("y2",W).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),drawFace(Y,{cx:F,cy:300+(5-O.score)*30,score:O.score});const q=getNoteRect();q.x=O.x,q.y=O.y,q.fill=O.fill,q.width=z.width,q.height=z.height,q.class="task task-type-"+O.num,q.rx=3,q.ry=3,drawRect(Y,q);let X=O.x+14;O.people.forEach(tt=>{const nt=O.actors[tt].color,st={cx:X,cy:O.y,r:7,fill:nt,stroke:"#000",title:tt,pos:O.actors[tt].position};drawCircle(Y,st),X+=10}),_drawTextCandidateFunc(z)(O.task,Y,q.x,q.y,q.width,q.height,{class:"task"},z,O.colour)},drawBackgroundRect=function(D,O){drawRect(D,{x:O.startx,y:O.starty,width:O.stopx-O.startx,height:O.stopy-O.starty,fill:O.fill,class:"rect"}).lower()},getTextObj=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},getNoteRect=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc=function(){function D(Y,W,q,X,tt,nt,st,ct){const lt=W.append("text").attr("x",q+tt/2).attr("y",X+nt/2+5).style("font-color",ct).style("text-anchor","middle").text(Y);F(lt,st)}function O(Y,W,q,X,tt,nt,st,ct,lt){const{taskFontSize:ht,taskFontFamily:bt}=ct,wt=Y.split(/<br\s*\/?>/gi);for(let mt=0;mt<wt.length;mt++){const _t=mt*ht-ht*(wt.length-1)/2,Et=W.append("text").attr("x",q+tt/2).attr("y",X).attr("fill",lt).style("text-anchor","middle").style("font-size",ht).style("font-family",bt);Et.append("tspan").attr("x",q+tt/2).attr("dy",_t).text(wt[mt]),Et.attr("y",X+nt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),F(Et,st)}}function z(Y,W,q,X,tt,nt,st,ct){const lt=W.append("switch"),bt=lt.append("foreignObject").attr("x",q).attr("y",X).attr("width",tt).attr("height",nt).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");bt.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(Y),O(Y,lt,q,X,tt,nt,st,ct),F(bt,st)}function F(Y,W){for(const q in W)q in W&&Y.attr(q,W[q])}return function(Y){return Y.textPlacement==="fo"?z:Y.textPlacement==="old"?D:O}}(),initGraphics=function(D){D.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},svgDraw={drawRect,drawCircle,drawSection,drawText,drawLabel,drawTask,drawBackgroundRect,getTextObj,getNoteRect,initGraphics},setConf$1=function(D){Object.keys(D).forEach(function(z){conf$1[z]=D[z]})},actors={};function drawActorLegend(D){const O=getConfig$1().journey;let z=60;Object.keys(actors).forEach(F=>{const Y=actors[F].color,W={cx:20,cy:z,r:7,fill:Y,stroke:"#000",pos:actors[F].position};svgDraw.drawCircle(D,W);const q={x:40,y:z+7,fill:"#666",text:F,textMargin:O.boxTextMargin|5};svgDraw.drawText(D,q),z+=20})}const conf$1=getConfig$1().journey,LEFT_MARGIN=conf$1.leftMargin,draw$1=function(D,O,z,F){const Y=getConfig$1().journey;F.db.clear(),F.parser.parse(D+`
`);const W=getConfig$1().securityLevel;let q;W==="sandbox"&&(q=select("#i"+O));const X=select(W==="sandbox"?q.nodes()[0].contentDocument.body:"body");bounds.init();const tt=X.select("#"+O);svgDraw.initGraphics(tt);const nt=F.db.getTasks(),st=F.db.getDiagramTitle(),ct=F.db.getActors();for(const _t in actors)delete actors[_t];let lt=0;ct.forEach(_t=>{actors[_t]={color:Y.actorColours[lt%Y.actorColours.length],position:lt},lt++}),drawActorLegend(tt),bounds.insert(0,0,LEFT_MARGIN,Object.keys(actors).length*50),drawTasks(tt,nt,0);const ht=bounds.getBounds();st&&tt.append("text").text(st).attr("x",LEFT_MARGIN).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const bt=ht.stopy-ht.starty+2*Y.diagramMarginY,wt=LEFT_MARGIN+ht.stopx+2*Y.diagramMarginX;configureSvgSize(tt,bt,wt,Y.useMaxWidth),tt.append("line").attr("x1",LEFT_MARGIN).attr("y1",Y.height*4).attr("x2",wt-LEFT_MARGIN-4).attr("y2",Y.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const mt=st?70:0;tt.attr("viewBox",`${ht.startx} -25 ${wt} ${bt+mt}`),tt.attr("preserveAspectRatio","xMinYMin meet"),tt.attr("height",bt+mt+25)},bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(D,O,z,F){D[O]===void 0?D[O]=z:D[O]=F(z,D[O])},updateBounds:function(D,O,z,F){const Y=getConfig$1().journey,W=this;let q=0;function X(tt){return function(st){q++;const ct=W.sequenceItems.length-q+1;W.updateVal(st,"starty",O-ct*Y.boxMargin,Math.min),W.updateVal(st,"stopy",F+ct*Y.boxMargin,Math.max),W.updateVal(bounds.data,"startx",D-ct*Y.boxMargin,Math.min),W.updateVal(bounds.data,"stopx",z+ct*Y.boxMargin,Math.max),tt!=="activation"&&(W.updateVal(st,"startx",D-ct*Y.boxMargin,Math.min),W.updateVal(st,"stopx",z+ct*Y.boxMargin,Math.max),W.updateVal(bounds.data,"starty",O-ct*Y.boxMargin,Math.min),W.updateVal(bounds.data,"stopy",F+ct*Y.boxMargin,Math.max))}}this.sequenceItems.forEach(X())},insert:function(D,O,z,F){const Y=Math.min(D,z),W=Math.max(D,z),q=Math.min(O,F),X=Math.max(O,F);this.updateVal(bounds.data,"startx",Y,Math.min),this.updateVal(bounds.data,"starty",q,Math.min),this.updateVal(bounds.data,"stopx",W,Math.max),this.updateVal(bounds.data,"stopy",X,Math.max),this.updateBounds(Y,q,W,X)},bumpVerticalPos:function(D){this.verticalPos=this.verticalPos+D,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},fills=conf$1.sectionFills,textColours=conf$1.sectionColours,drawTasks=function(D,O,z){const F=getConfig$1().journey;let Y="";const W=F.height*2+F.diagramMarginY,q=z+W;let X=0,tt="#CCC",nt="black",st=0;for(const[ct,lt]of O.entries()){if(Y!==lt.section){tt=fills[X%fills.length],st=X%fills.length,nt=textColours[X%textColours.length];const bt={x:ct*F.taskMargin+ct*F.width+LEFT_MARGIN,y:50,text:lt.section,fill:tt,num:st,colour:nt};svgDraw.drawSection(D,bt,F),Y=lt.section,X++}const ht=lt.people.reduce((bt,wt)=>(actors[wt]&&(bt[wt]=actors[wt]),bt),{});lt.x=ct*F.taskMargin+ct*F.width+LEFT_MARGIN,lt.y=q,lt.width=F.diagramMarginX,lt.height=F.diagramMarginY,lt.colour=nt,lt.fill=tt,lt.num=st,lt.actors=ht,svgDraw.drawTask(D,lt,F),bounds.insert(lt.x,lt.y,lt.x+lt.width+F.taskMargin,300+5*30)}},journeyRenderer={setConf:setConf$1,draw:draw$1};let conf={};const setConf=function(D){conf={...conf,...D}},draw=(D,O,z)=>{try{log$1.debug(`Renering svg for syntax error
`);const F=select("#"+O),Y=F.append("g");Y.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),Y.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),Y.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),Y.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),Y.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),Y.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),Y.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),Y.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+z),F.attr("height",100),F.attr("width",500),F.attr("viewBox","768 0 912 512")}catch(F){log$1.error("Error while rendering info diagram"),log$1.error(getErrorMessage(F))}},errorRenderer={setConf,draw},id$2="flowchart-elk",detector$2=(D,O)=>{var z;return!!(D.match(/^\s*flowchart-elk/)||D.match(/^\s*flowchart|graph/)&&((z=O==null?void 0:O.flowchart)==null?void 0:z.defaultRenderer)==="elk")},loader$2=async()=>{const{diagram:D}=await __vitePreload(()=>import("./flowchart-elk-definition-170a3958-bbc12650.js"),[]);return{id:id$2,diagram:D}},plugin$2={id:id$2,detector:detector$2,loader:loader$2},flowchartElk=plugin$2,id$1="timeline",detector$1=D=>D.match(/^\s*timeline/)!==null,loader$1=async()=>{const{diagram:D}=await __vitePreload(()=>import("./timeline-definition-8e5a9bc6-dfcae598.js"),["js/timeline-definition-8e5a9bc6-dfcae598.js","js/is_dark-29bf40eb.js"]);return{id:id$1,diagram:D}},plugin$1={id:id$1,detector:detector$1,loader:loader$1},timelineDetector=plugin$1,id="mindmap",detector=D=>D.match(/^\s*mindmap/)!==null,loader=async()=>{const{diagram:D}=await __vitePreload(()=>import("./mindmap-definition-44684416-9c505796.js"),["js/mindmap-definition-44684416-9c505796.js","js/is_dark-29bf40eb.js"]);return{id,diagram:D}},plugin={id,detector,loader},mindmapDetector=plugin;let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerLazyLoadedDiagrams(flowchartElk,timelineDetector,mindmapDetector),registerDiagram("error",{db:{clear:()=>{}},styles:errorStyles,renderer:errorRenderer,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},D=>D.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:errorStyles,renderer:errorRenderer,parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with unindented `---` blocks")}},init:()=>null},D=>D.toLowerCase().trimStart().startsWith("---")),registerDiagram("c4",{parser:c4Parser,db:c4Db,renderer:c4Renderer,styles:c4Styles,init:D=>{c4Renderer.setConf(D.c4)}},c4Detector),registerDiagram("class",{parser:classParser,db:classDb,renderer:classRenderer,styles:classStyles,init:D=>{D.class||(D.class={}),D.class.arrowMarkerAbsolute=D.arrowMarkerAbsolute,classDb.clear()}},classDetector),registerDiagram("classDiagram",{parser:classParser,db:classDb,renderer:classRendererV2,styles:classStyles,init:D=>{D.class||(D.class={}),D.class.arrowMarkerAbsolute=D.arrowMarkerAbsolute,classDb.clear()}},classDetectorV2),registerDiagram("er",{parser:erParser,db:erDb,renderer:erRenderer,styles:erStyles},erDetector),registerDiagram("gantt",{parser:ganttParser,db:ganttDb,renderer:ganttRenderer,styles:ganttStyles},ganttDetector),registerDiagram("info",{parser:infoParser,db:infoDb,renderer:infoRenderer,styles:infoStyles},infoDetector),registerDiagram("pie",{parser:pieParser,db:pieDb,renderer:pieRenderer,styles:pieStyles},pieDetector),registerDiagram("requirement",{parser:requirementParser,db:requirementDb,renderer:requirementRenderer,styles:requirementStyles},requirementDetector),registerDiagram("sequence",{parser:sequenceParser,db:sequenceDb,renderer:sequenceRenderer,styles:sequenceStyles,init:D=>{if(D.sequence||(D.sequence={}),D.sequence.arrowMarkerAbsolute=D.arrowMarkerAbsolute,"sequenceDiagram"in D)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");sequenceDb.setWrap(D.wrap),sequenceRenderer.setConf(D.sequence)}},sequenceDetector),registerDiagram("state",{parser:stateParser,db:stateDb,renderer:stateRenderer,styles:stateStyles,init:D=>{D.state||(D.state={}),D.state.arrowMarkerAbsolute=D.arrowMarkerAbsolute,stateDb.clear()}},stateDetector),registerDiagram("stateDiagram",{parser:stateParser,db:stateDb,renderer:stateRendererV2,styles:stateStyles,init:D=>{D.state||(D.state={}),D.state.arrowMarkerAbsolute=D.arrowMarkerAbsolute,stateDb.clear()}},stateDetectorV2),registerDiagram("journey",{parser:journeyParser,db:journeyDb,renderer:journeyRenderer,styles:journeyStyles,init:D=>{journeyRenderer.setConf(D.journey),journeyDb.clear()}},journeyDetector),registerDiagram("flowchart",{parser:parser$8,db:flowDb,renderer:flowRendererV2,styles:flowStyles,init:D=>{D.flowchart||(D.flowchart={}),D.flowchart.arrowMarkerAbsolute=D.arrowMarkerAbsolute,flowRenderer.setConf(D.flowchart),flowDb.clear(),flowDb.setGen("gen-1")}},flowDetector),registerDiagram("flowchart-v2",{parser:parser$8,db:flowDb,renderer:flowRendererV2,styles:flowStyles,init:D=>{D.flowchart||(D.flowchart={}),D.flowchart.arrowMarkerAbsolute=D.arrowMarkerAbsolute,setConfig({flowchart:{arrowMarkerAbsolute:D.arrowMarkerAbsolute}}),flowRendererV2.setConf(D.flowchart),flowDb.clear(),flowDb.setGen("gen-2")}},flowDetectorV2),registerDiagram("gitGraph",{parser:gitGraphParser,db:gitGraphDb,renderer:gitGraphRenderer,styles:gitGraphStyles},gitGraphDetector))};class Diagram{constructor(O,z){var F,Y;this.txt=O,this.type="graph",this.detectTypeFailed=!1;const W=getConfig$1();this.txt=O;try{this.type=detectType(O,W)}catch(tt){this.handleError(tt,z),this.type="error",this.detectTypeFailed=!0}const q=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=q.db,(Y=(F=this.db).clear)==null||Y.call(F),this.renderer=q.renderer,this.parser=q.parser;const X=this.parser.parse.bind(this.parser);this.parser.parse=tt=>X(extractFrontMatter(tt,this.db)),this.parser.parser.yy=this.db,q.init&&(q.init(W),log$1.info("Initialized diagram "+this.type,W)),this.txt+=`
`,this.parse(this.txt,z)}parse(O,z){var F,Y;if(this.detectTypeFailed)return!1;try{return O=O+`
`,(Y=(F=this.db).clear)==null||Y.call(F),this.parser.parse(O),!0}catch(W){this.handleError(W,z)}return!1}handleError(O,z){if(z===void 0)throw O;if(isDetailedError(O)){z(O.str,O.hash);return}z(O)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText=(D,O)=>{const z=detectType(D,getConfig$1());try{getDiagram(z)}catch{const Y=getDiagramLoader(z);if(!Y)throw new Error(`Diagram ${z} not found.`);return Y().then(({diagram:W})=>(registerDiagram(z,W,void 0),new Diagram(D,O)))}return new Diagram(D,O)},Diagram$1=Diagram,SVG_ROLE="graphics-document document";function setA11yDiagramInfo(D,O){D.attr("role",SVG_ROLE),isEmpty(O)||D.attr("aria-roledescription",O)}function addSVGa11yTitleDescription(D,O,z,F){if(D.insert!==void 0)if(O||z){if(z){const Y="chart-desc-"+F;D.attr("aria-describedby",Y),D.insert("desc",":first-child").attr("id",Y).text(z)}if(O){const Y="chart-title-"+F;D.attr("aria-labelledby",Y),D.insert("title",":first-child").attr("id",Y).text(O)}}else return}const CLASSDEF_DIAGRAMS=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function parse$1(D,O){return addDiagrams(),new Diagram$1(D,O).parse(D,O)}async function parseAsync$1(D,O){return addDiagrams(),(await getDiagramFromText(D,O)).parse(D,O)}const encodeEntities=function(D){let O=D;return O=O.replace(/style.*:\S*#.*;/g,function(z){return z.substring(0,z.length-1)}),O=O.replace(/classDef.*:\S*#.*;/g,function(z){return z.substring(0,z.length-1)}),O=O.replace(/#\w+;/g,function(z){const F=z.substring(1,z.length-1);return/^\+?\d+$/.test(F)?""+F+"":""+F+""}),O},decodeEntities=function(D){let O=D;return O=O.replace(//g,"&#"),O=O.replace(//g,"&"),O=O.replace(//g,";"),O},cssImportantStyles=(D,O,z=[])=>`
.${D} ${O} { ${z.join(" !important; ")} !important; }`,createCssStyles=(D,O,z={})=>{var F;let Y="";if(D.themeCSS!==void 0&&(Y+=`
${D.themeCSS}`),D.fontFamily!==void 0&&(Y+=`
:root { --mermaid-font-family: ${D.fontFamily}}`),D.altFontFamily!==void 0&&(Y+=`
:root { --mermaid-alt-font-family: ${D.altFontFamily}}`),!isEmpty(z)&&CLASSDEF_DIAGRAMS.includes(O)){const tt=D.htmlLabels||((F=D.flowchart)==null?void 0:F.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const nt in z){const st=z[nt];isEmpty(st.styles)||tt.forEach(ct=>{Y+=cssImportantStyles(st.id,ct,st.styles)}),isEmpty(st.textStyles)||(Y+=cssImportantStyles(st.id,"tspan",st.textStyles))}}return Y},createUserStyles=(D,O,z,F)=>{const Y=createCssStyles(D,O,z),W=getStyles$2(O,Y,D.themeVariables);return serialize(compile(`${F}{${W}}`),stringify)},cleanUpSvgCode=(D="",O,z)=>{let F=D;return!z&&!O&&(F=F.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),F=decodeEntities(F),F=F.replace(/<br>/g,"<br/>"),F},putIntoIFrame=(D="",O)=>{const z=O?O.viewBox.baseVal.height+"px":IFRAME_HEIGHT,F=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+D+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${z};${IFRAME_STYLES}" src="data:text/html;base64,${F}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(D,O,z,F,Y)=>{const W=D.append("div");W.attr("id",z),F&&W.attr("style",F);const q=W.append("svg").attr("id",O).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return Y&&q.attr("xmlns:xlink",Y),q.append("g"),D};function sandboxedIframe(D,O){return D.append("iframe").attr("id",O).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(D,O,z,F)=>{var Y,W,q;(Y=D.getElementById(O))==null||Y.remove(),(W=D.getElementById(z))==null||W.remove(),(q=D.getElementById(F))==null||q.remove()},render=function(D,O,z,F){var Y,W,q,X;addDiagrams(),reset();const tt=utils.detectInit(O);tt&&(directiveSanitizer(tt),addDirective(tt));const nt=getConfig$1();log$1.debug(nt),O.length>((nt==null?void 0:nt.maxTextSize)??5e4)&&(O=MAX_TEXTLENGTH_EXCEEDED_MSG),O=O.replace(/\r\n?/g,`
`);const st="#"+D,ct="i"+D,lt="#"+ct,ht="d"+D,bt="#"+ht;let wt=select("body");const mt=nt.securityLevel===SECURITY_LVL_SANDBOX,_t=nt.securityLevel===SECURITY_LVL_LOOSE,Et=nt.fontFamily;if(F!==void 0){if(F&&(F.innerHTML=""),mt){const ye=sandboxedIframe(select(F),ct);wt=select(ye.nodes()[0].contentDocument.body),wt.node().style.margin=0}else wt=select(F);appendDivSvgG(wt,D,ht,`font-family: ${Et}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,D,ht,ct),mt){const ye=sandboxedIframe(select("body"),ct);wt=select(ye.nodes()[0].contentDocument.body),wt.node().style.margin=0}else wt=select("body");appendDivSvgG(wt,D,ht)}O=encodeEntities(O);let At,Ct;try{if(At=getDiagramFromText(O),"then"in At)throw new Error("Diagram is a promise. Use renderAsync.")}catch(ye){At=new Diagram$1("error"),Ct=ye}const Ft=wt.select(bt).node(),Lt=At.type,Yt=Ft.firstChild,Ht=Yt.firstChild,qt=CLASSDEF_DIAGRAMS.includes(Lt)?At.renderer.getClasses(O,At):{},te=createUserStyles(nt,Lt,qt,st),Xt=document.createElement("style");Xt.innerHTML=te,Yt.insertBefore(Xt,Ht);try{At.renderer.draw(O,D,version$1,At)}catch(ye){throw errorRenderer.draw(O,D,version$1),ye}const Dt=wt.select(`${bt} svg`),Qt=(W=(Y=At.db).getAccTitle)==null?void 0:W.call(Y),Nt=(X=(q=At.db).getAccDescription)==null?void 0:X.call(q);addA11yInfo(Lt,Dt,Qt,Nt),wt.select(`[id="${D}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let ce=wt.select(bt).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",nt.arrowMarkerAbsolute),ce=cleanUpSvgCode(ce,mt,evaluate(nt.arrowMarkerAbsolute)),mt){const ye=wt.select(bt+" svg").node();ce=putIntoIFrame(ce,ye)}else _t||(ce=purify.sanitize(ce,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(z!==void 0)switch(Lt){case"flowchart":case"flowchart-v2":z(ce,flowDb.bindFunctions);break;case"gantt":z(ce,ganttDb.bindFunctions);break;case"class":case"classDiagram":z(ce,classDb.bindFunctions);break;default:z(ce)}else log$1.debug("CB = undefined!");attachFunctions();const de=select(mt?lt:bt).node();if(de&&"remove"in de&&de.remove(),Ct)throw Ct;return ce},renderAsync$1=async function(D,O,z,F){var Y,W,q,X;addDiagrams(),reset();const tt=utils.detectInit(O);tt&&(directiveSanitizer(tt),addDirective(tt));const nt=getConfig$1();log$1.debug(nt),O.length>((nt==null?void 0:nt.maxTextSize)??5e4)&&(O=MAX_TEXTLENGTH_EXCEEDED_MSG),O=O.replace(/\r\n?/g,`
`);const st="#"+D,ct="i"+D,lt="#"+ct,ht="d"+D,bt="#"+ht;let wt=select("body");const mt=nt.securityLevel===SECURITY_LVL_SANDBOX,_t=nt.securityLevel===SECURITY_LVL_LOOSE,Et=nt.fontFamily;if(F!==void 0){if(F&&(F.innerHTML=""),mt){const ye=sandboxedIframe(select(F),ct);wt=select(ye.nodes()[0].contentDocument.body),wt.node().style.margin=0}else wt=select(F);appendDivSvgG(wt,D,ht,`font-family: ${Et}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,D,ht,ct),mt){const ye=sandboxedIframe(select("body"),ct);wt=select(ye.nodes()[0].contentDocument.body),wt.node().style.margin=0}else wt=select("body");appendDivSvgG(wt,D,ht)}O=encodeEntities(O);let At,Ct;try{At=await getDiagramFromText(O)}catch(ye){At=new Diagram$1("error"),Ct=ye}const Ft=wt.select(bt).node(),Lt=At.type,Yt=Ft.firstChild,Ht=Yt.firstChild,qt=CLASSDEF_DIAGRAMS.includes(Lt)?At.renderer.getClasses(O,At):{},te=createUserStyles(nt,Lt,qt,st),Xt=document.createElement("style");Xt.innerHTML=te,Yt.insertBefore(Xt,Ht);try{await At.renderer.draw(O,D,version$1,At)}catch(ye){throw errorRenderer.draw(O,D,version$1),ye}const Dt=wt.select(`${bt} svg`),Qt=(W=(Y=At.db).getAccTitle)==null?void 0:W.call(Y),Nt=(X=(q=At.db).getAccDescription)==null?void 0:X.call(q);addA11yInfo(Lt,Dt,Qt,Nt),wt.select(`[id="${D}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let ce=wt.select(bt).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",nt.arrowMarkerAbsolute),ce=cleanUpSvgCode(ce,mt,evaluate(nt.arrowMarkerAbsolute)),mt){const ye=wt.select(bt+" svg").node();ce=putIntoIFrame(ce,ye)}else _t||(ce=purify.sanitize(ce,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(z!==void 0)switch(Lt){case"flowchart":case"flowchart-v2":z(ce,flowDb.bindFunctions);break;case"gantt":z(ce,ganttDb.bindFunctions);break;case"class":case"classDiagram":z(ce,classDb.bindFunctions);break;default:z(ce)}else log$1.debug("CB = undefined!");attachFunctions();const de=select(mt?lt:bt).node();if(de&&"remove"in de&&de.remove(),Ct)throw Ct;return ce};function initialize$1(D={}){var O;D!=null&&D.fontFamily&&!((O=D.themeVariables)!=null&&O.fontFamily)&&(D.themeVariables={fontFamily:D.fontFamily}),saveConfigFromInitialize(D),D!=null&&D.theme&&D.theme in theme?D.themeVariables=theme[D.theme].getThemeVariables(D.themeVariables):D&&(D.themeVariables=theme.default.getThemeVariables(D.themeVariables));const z=typeof D=="object"?setSiteConfig(D):getSiteConfig();setLogLevel$1(z.logLevel),addDiagrams()}function addA11yInfo(D,O,z,F){setA11yDiagramInfo(O,D),addSVGa11yTitleDescription(O,z,F,O.attr("id"))}const mermaidAPI=Object.freeze({render,renderAsync:renderAsync$1,parse:parse$1,parseAsync:parseAsync$1,parseDirective:parseDirective$c,initialize:initialize$1,getConfig:getConfig$1,setConfig,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig)},defaultConfig});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const init=async function(D,O,z){try{await initThrowsErrorsAsync(D,O,z)}catch(F){log$1.warn("Syntax Error rendering"),isDetailedError(F)&&log$1.warn(F.str),mermaid.parseError&&mermaid.parseError(F)}},handleError=(D,O,z)=>{log$1.warn(D),isDetailedError(D)?(z&&z(D.str,D.hash),O.push({...D,message:D.str,error:D})):(z&&z(D),D instanceof Error&&O.push({str:D.message,message:D.message,hash:D.name,error:D}))},initThrowsErrors=function(D,O,z){const F=mermaidAPI.getConfig();D&&(mermaid.sequenceConfig=D),log$1.debug(`${z?"":"No "}Callback function found`);let Y;if(O===void 0)Y=document.querySelectorAll(".mermaid");else if(typeof O=="string")Y=document.querySelectorAll(O);else if(O instanceof HTMLElement)Y=[O];else if(O instanceof NodeList)Y=O;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${Y.length} diagrams`),(D==null?void 0:D.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(D==null?void 0:D.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:D==null?void 0:D.startOnLoad}));const W=new utils.initIdGenerator(F.deterministicIds,F.deterministicIDSeed);let q;const X=[];for(const tt of Array.from(Y)){log$1.info("Rendering diagram: "+tt.id);/*! Check if previously processed */if(tt.getAttribute("data-processed"))continue;tt.setAttribute("data-processed","true");const nt=`mermaid-${W.next()}`;q=tt.innerHTML,q=dedent(utils.entityDecode(q)).trim().replace(/<br\s*\/?>/gi,"<br/>");const st=utils.detectInit(q);st&&log$1.debug("Detected early reinit: ",st);try{mermaidAPI.render(nt,q,(ct,lt)=>{tt.innerHTML=ct,z!==void 0&&z(nt),lt&&lt(tt)},tt)}catch(ct){handleError(ct,X,mermaid.parseError)}}if(X.length>0)throw X[0]},loadExternalDiagrams=async(...D)=>{log$1.debug(`Loading ${D.length} external diagrams`);const z=(await Promise.allSettled(D.map(async({id:F,detector:Y,loader:W})=>{const{diagram:q}=await W();registerDiagram(F,q,Y)}))).filter(F=>F.status==="rejected");if(z.length>0){log$1.error(`Failed to load ${z.length} external diagrams`);for(const F of z)log$1.error(F);throw new Error(`Failed to load ${z.length} external diagrams`)}},initThrowsErrorsAsync=async function(D,O,z){const F=mermaidAPI.getConfig();D&&(mermaid.sequenceConfig=D),log$1.debug(`${z?"":"No "}Callback function found`);let Y;if(O===void 0)Y=document.querySelectorAll(".mermaid");else if(typeof O=="string")Y=document.querySelectorAll(O);else if(O instanceof HTMLElement)Y=[O];else if(O instanceof NodeList)Y=O;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${Y.length} diagrams`),(D==null?void 0:D.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(D==null?void 0:D.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:D==null?void 0:D.startOnLoad}));const W=new utils.initIdGenerator(F.deterministicIds,F.deterministicIDSeed);let q;const X=[];for(const tt of Array.from(Y)){log$1.info("Rendering diagram: "+tt.id);/*! Check if previously processed */if(tt.getAttribute("data-processed"))continue;tt.setAttribute("data-processed","true");const nt=`mermaid-${W.next()}`;q=tt.innerHTML,q=dedent(utils.entityDecode(q)).trim().replace(/<br\s*\/?>/gi,"<br/>");const st=utils.detectInit(q);st&&log$1.debug("Detected early reinit: ",st);try{await mermaidAPI.renderAsync(nt,q,(ct,lt)=>{tt.innerHTML=ct,z!==void 0&&z(nt),lt&&lt(tt)},tt)}catch(ct){handleError(ct,X,mermaid.parseError)}}if(X.length>0)throw X[0]},initialize=function(D){mermaidAPI.initialize(D)},registerExternalDiagrams=async(D,{lazyLoad:O=!0}={})=>{O?registerLazyLoadedDiagrams(...D):await loadExternalDiagrams(...D)},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:D}=mermaidAPI.getConfig();D&&mermaid.init().catch(O=>log$1.error("Mermaid failed to initialize",O))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(D){mermaid.parseError=D},parse=D=>mermaidAPI.parse(D,mermaid.parseError),executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const D=executionQueue.shift();if(D)try{await D()}catch(O){log$1.error("Error executing queue",O)}}executionQueueRunning=!1}},parseAsync=D=>new Promise((O,z)=>{const F=()=>new Promise((Y,W)=>{mermaidAPI.parseAsync(D,mermaid.parseError).then(q=>{Y(q),O(q)},q=>{log$1.error("Error parsing",q),W(q),z(q)})});executionQueue.push(F),executeQueue().catch(z)}),renderAsync=(D,O,z,F)=>new Promise((Y,W)=>{const q=()=>new Promise((X,tt)=>{mermaidAPI.renderAsync(D,O,z,F).then(nt=>{X(nt),Y(nt)},nt=>{log$1.error("Error parsing",nt),tt(nt),W(nt)})});executionQueue.push(q),executeQueue().catch(W)}),mermaid={startOnLoad:!0,diagrams:{},mermaidAPI,parse,parseAsync,render:mermaidAPI.render,renderAsync,init,initThrowsErrors,initThrowsErrorsAsync,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler},_hoisted_1$5={class:"content"},_hoisted_2$4=createBaseVNode("div",{id:"diagram"},null,-1),_hoisted_3$2={key:0,id:"caption-bar"},_hoisted_4$2=["innerHTML"],_sfc_main$7=defineComponent({__name:"Mermaid.ce",props:{type:{type:String},caption:{type:String},width:{type:String},height:{type:String},position:{type:String},right:{type:Boolean},left:{type:Boolean},full:{type:Boolean},sticky:{type:Boolean}},setup(D){const O=D,z=ref(null),F=computed(()=>{var nt;return(nt=z==null?void 0:z.value)==null?void 0:nt.parentNode}),Y=computed(()=>{var nt,st;return(st=(nt=z.value)==null?void 0:nt.getRootNode())==null?void 0:st.host}),W=computed(()=>{var nt;return(nt=F.value)==null?void 0:nt.querySelector(".content")});watch$1(Y,()=>X());const q=O.position||(O.right?"right":O.left?"left":"full");function X(){Y.value.classList.add("ve-component"),Y.value.classList.add(q),q==="full"?Y.value.style.width="100%":(Y.value.style.float=q,Y.value.style.width="50%"),Y.value.style.width=window.getComputedStyle(Y.value).width,W.value.style.width=O.width||"100%";let nt=parseInt(window.getComputedStyle(W.value).width.slice(0,-2));W.value.style.width=`${nt}px`,tt()}function tt(){let nt=Y.value.textContent.trim();mermaid.initialize({startOnLoad:!1}),async function(){var lt;let st=(lt=F.value)==null?void 0:lt.querySelector("#diagram");const ct=function(ht){st&&(st.innerHTML=ht)};await mermaid.render("diagram",nt,ct)}()}return(nt,st)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:z,id:"main"},[createBaseVNode("div",_hoisted_1$5,[_hoisted_2$4,O.caption?(openBlock(),createElementBlock("div",_hoisted_3$2,[createBaseVNode("div",{class:"label",innerHTML:D.caption},null,8,_hoisted_4$2)])):createCommentVNode("",!0)])],512))}}),_style_0$4=`*{box-sizing:border-box}.content{display:flex;flex-direction:column;justify-content:center;align-content:center;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#diagram{display:block;margin:auto;width:100%;padding:12px 0}#caption-bar{display:flex;align-items:center;height:32px;width:100%;background-color:#555;color:#fff;padding:0 12px}.entityBox:hover{fill:#ff0}
`,Mermaid=_export_sfc(_sfc_main$7,[["styles",[_style_0$4]]]),_sfc_main$6=defineComponent({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(D){return(O,z)=>null}});/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class HSOverlay extends Component{constructor(z){super("[data-hs-overlay]");F1(this,"root");this.root=z,this.openNextOverlay=!1}init(){this.root.addEventListener("click",z=>{const Y=z.target.closest(this.selector),W=z.target.closest("[data-hs-overlay-close]"),q=z.target.getAttribute("aria-overlay")==="true";if(W)return this.close(W.closest(".hs-overlay.open"));if(Y)return this.toggle(this.root.querySelector(Y.getAttribute("data-hs-overlay")));q&&this._onBackdropClick(z.target)}),this.root.addEventListener("keydown",z=>{if(z.keyCode===27){const F=this.root.querySelector(".hs-overlay.open");if(!F)return;setTimeout(()=>{F.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(F)})}})}toggle(z){z&&(z.classList.contains("hidden")?this.open(z):this.close(z))}open(z){if(!z)return;const F=this.root.querySelector(".hs-overlay.open"),Y=this.getClassProperty(z,"--body-scroll","false")!=="true";if(F)return this.openNextOverlay=!0,this.close(F).then(()=>{this.open(z),this.openNextOverlay=!1});Y&&(this.root.style.overflow="hidden"),this._buildBackdrop(z),this._checkTimer(z),this._autoHide(z),z.classList.remove("hidden"),z.setAttribute("aria-overlay","true"),z.setAttribute("tabindex","-1"),setTimeout(()=>{z.classList.contains("hidden")||(z.classList.add("open"),this._fireEvent("open",z),this._dispatch("open.hs.overlay",z,z),this._focusInput(z))},50)}close(z){return new Promise(F=>{z&&(z.classList.remove("open"),z.removeAttribute("aria-overlay"),z.removeAttribute("tabindex","-1"),this.afterTransition(z,()=>{z.classList.contains("open")||(z.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",z),this._dispatch("close.hs.overlay",z,z),this.root.style.overflow="",F(z))}))})}_autoHide(z){const F=parseInt(this.getClassProperty(z,"--auto-hide","0"));F&&(z.autoHide=setTimeout(()=>{this.close(z)},F))}_checkTimer(z){z.autoHide&&(clearTimeout(z.autoHide),delete z.autoHide)}_onBackdropClick(z){this.getClassProperty(z,"--overlay-backdrop","true")!=="static"&&this.close(z)}_buildBackdrop(z){const F=z.getAttribute("data-hs-overlay-backdrop-container")||!1;let Y=document.createElement("div"),W="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const tt of z.classList.values())tt.startsWith("hs-overlay-backdrop-open:")&&(W+=` ${tt}`);const q=this.getClassProperty(z,"--overlay-backdrop","true")!=="static";this.getClassProperty(z,"--overlay-backdrop","true")!=="false"&&(F&&(Y=this.root.querySelector(F).cloneNode(!0),Y.classList.remove("hidden"),W=Y.classList,Y.classList=""),q&&Y.addEventListener("click",()=>this.close(z),!0),Y.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(Y),setTimeout(()=>{Y.classList=W}))}_destroyBackdrop(){const z=this.root.querySelector("[data-hs-overlay-backdrop-template]");z&&(this.openNextOverlay&&(z.style.transitionDuration=`${parseFloat(window.getComputedStyle(z).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),z.classList.add("opacity-0"),this.afterTransition(z,()=>{z.remove()}))}_focusInput(z){const F=z.querySelector("[autofocus]");F&&F.focus()}}const _hoisted_1$4=createStaticVNode('<div class="hs-overlay-open:opacity-100 hs-overlay-open:duration-500 opacity-0 transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto"><div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"><div class="flex justify-between items-center py-3 px-4 border-b dark:border-gray-700"><h3 class="font-bold text-gray-800 dark:text-white"> Modal title </h3><button type="button" class="inline-flex flex-shrink-0 justify-center items-center h-8 w-8 rounded-md text-gray-500 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 focus:ring-offset-white transition-all text-sm dark:focus:ring-gray-700 dark:focus:ring-offset-gray-800" data-hs-overlay="#hs-basic-modal"><span class="sr-only">Close</span><svg class="w-3.5 h-3.5" width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z" fill="currentColor"></path></svg></button></div><div class="p-4 overflow-y-auto"><p class="mt-1 text-gray-800 dark:text-gray-400"> This is a wider card with supporting text below as a natural lead-in to additional content. </p></div><div class="flex justify-end items-center gap-x-2 py-3 px-4 border-t dark:border-gray-700"><button type="button" class="py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800" data-hs-overlay="#hs-basic-modal"> Close </button><a class="py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800" href="#"> Save changes </a></div></div></div>',1),_hoisted_2$3=[_hoisted_1$4],_sfc_main$5=defineComponent({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(D){const O=ref(null),z=ref(null),F=computed(()=>{var nt,st;return(st=(nt=O.value)==null?void 0:nt.getRootNode())==null?void 0:st.host}),Y=computed(()=>O==null?void 0:O.value),W=computed(()=>z==null?void 0:z.value),q=computed(()=>new HSOverlay(Y.value));watch$1(W,()=>{q.value.init(),W.value.addEventListener("open.hs.overlay",nt=>X.value=!0),W.value.addEventListener("close.hs.overlay",nt=>X.value=!1)});const X=ref(!1);watch$1(X,nt=>{nt?(q.value.open(W.value),F.value.setAttribute("open","")):(q.value.close(W.value),F.value.removeAttribute("open"))});const tt=D;return watch$1(tt,()=>{X.value=tt.open}),onMounted(()=>{X.value=tt.open}),(nt,st)=>(openBlock(),createElementBlock("div",{ref_key:"overlayRef",ref:O},[createBaseVNode("div",{ref_key:"modalRef",ref:z,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 left-0 z-[60] overflow-x-hidden overflow-y-auto"},_hoisted_2$3,512)],512))}}),_style_0$3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Modal=_export_sfc(_sfc_main$5,[["styles",[_style_0$3]]]),_hoisted_1$3={key:0},_hoisted_2$2=["href"],_hoisted_3$1=["src"],_hoisted_4$1=["src"],_hoisted_5$1={class:"flex flex-col ml-4"},_hoisted_6$1=["innerHTML"],_hoisted_7$1=["innerHTML"],_hoisted_8$1={class:"flex items-center gap-4 ml-auto mr-4"},_hoisted_9$1=["search-domain","search-cx","search-key"],_hoisted_10$1=["auth","contact","innerHTML"],_sfc_main$4=defineComponent({__name:"Navbar.ce",props:{label:{type:String},subtitle:{type:String},background:{type:String},logo:{type:String},url:{type:String},auth:{type:String},alpha:{type:Number},contact:{type:String},sticky:{type:Boolean,default:!1},height:{type:Number,default:80},offset:{type:Number,default:0},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String}},setup(D){const O=D,z=ref(null),F=computed(()=>{var X,tt;return(tt=(X=z.value)==null?void 0:X.getRootNode())==null?void 0:tt.host}),Y=computed(()=>{var X,tt;return(tt=(X=z==null?void 0:z.value)==null?void 0:X.parentNode)==null?void 0:tt.querySelector("section")});watch$1(Y,()=>q());const W=ref();onMounted(()=>{nextTick(()=>{var tt,nt;let X=F.value.querySelector("ul");!X&&((tt=window.config)!=null&&tt.nav)&&(X=document.createElement("ul"),(nt=window.config)==null||nt.nav.forEach(st=>{const ct=document.createElement("li"),lt=document.createElement("a");lt.href=st.href,lt.innerHTML=`${st.icon}${st.label}`,ct.appendChild(lt),X.appendChild(ct)})),W.value=X.innerHTML})}),watch$1(O,()=>q());function q(){if(Y.value.style.height=`${O.height}px`,O.offset&&(Y.value.style.marginTop=`-${O.offset}px`),O.sticky&&(F.value.classList.add("sticky"),F.value.style.position="sticky",F.value.style.background="#444A1E",F.value.style.opacity="100",F.value.style.marginTop=`-${O.offset}px`),O.label){let X=document.querySelector("title");X||(X=document.createElement("title"),document.head.appendChild(X)),X.innerText=O.label}}return(X,tt)=>(openBlock(),createElementBlock("section",{ref_key:"root",ref:z,class:"flex sticky top-0 items-center w-full pl-4 z-10 bg-[#000]/30",style:normalizeStyle({height:`${O.height}px`})},[O.logo?(openBlock(),createElementBlock("div",_hoisted_1$3,[O.url?(openBlock(),createElementBlock("a",{key:0,href:O.url},[createBaseVNode("img",{class:"h-[80px] w-[80px]",src:O.logo,alt:"logo"},null,8,_hoisted_3$1)],8,_hoisted_2$2)):(openBlock(),createElementBlock("img",{key:1,src:O.logo,alt:"logo",class:"logo"},null,8,_hoisted_4$1))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",{class:"text-4xl text-white",innerHTML:O.label},null,8,_hoisted_6$1),O.subtitle?(openBlock(),createElementBlock("div",{key:0,class:"text-xl text-white",innerHTML:O.subtitle},null,8,_hoisted_7$1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$1,[O.searchDomain?(openBlock(),createElementBlock("ve-site-search",{key:0,"search-domain":O.searchDomain,"search-cx":O.searchCx,"search-key":O.searchKey},null,8,_hoisted_9$1)):createCommentVNode("",!0),W.value!==void 0?(openBlock(),createElementBlock("ve-menu",{key:1,auth:D.auth,contact:D.contact,innerHTML:W.value},null,8,_hoisted_10$1)):createCommentVNode("",!0)])],4))}}),_style_0$2=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Navbar=_export_sfc(_sfc_main$4,[["styles",[_style_0$2]]]);var lib={},IdentifierIssuer_1=class Mb{constructor(O,z=new Map,F=0){this.prefix=O,this._existing=z,this.counter=F}clone(){const{prefix:O,_existing:z,counter:F}=this;return new Mb(O,new Map(z),F)}getId(O){const z=O&&this._existing.get(O);if(z)return z;const F=this.prefix+this.counter;return this.counter++,O&&this._existing.set(O,F),F}hasId(O){return this._existing.has(O)}getOldIds(){return[...this._existing.keys()]}};(function(D,O){if(D.setImmediate)return;var z=1,F={},Y=!1,W=D.document,q;function X(Et){typeof Et!="function"&&(Et=new Function(""+Et));for(var At=new Array(arguments.length-1),Ct=0;Ct<At.length;Ct++)At[Ct]=arguments[Ct+1];var Ft={callback:Et,args:At};return F[z]=Ft,q(z),z++}function tt(Et){delete F[Et]}function nt(Et){var At=Et.callback,Ct=Et.args;switch(Ct.length){case 0:At();break;case 1:At(Ct[0]);break;case 2:At(Ct[0],Ct[1]);break;case 3:At(Ct[0],Ct[1],Ct[2]);break;default:At.apply(O,Ct);break}}function st(Et){if(Y)setTimeout(st,0,Et);else{var At=F[Et];if(At){Y=!0;try{nt(At)}finally{tt(Et),Y=!1}}}}function ct(){q=function(Et){process.nextTick(function(){st(Et)})}}function lt(){if(D.postMessage&&!D.importScripts){var Et=!0,At=D.onmessage;return D.onmessage=function(){Et=!1},D.postMessage("","*"),D.onmessage=At,Et}}function ht(){var Et="setImmediate$"+Math.random()+"$",At=function(Ct){Ct.source===D&&typeof Ct.data=="string"&&Ct.data.indexOf(Et)===0&&st(+Ct.data.slice(Et.length))};D.addEventListener?D.addEventListener("message",At,!1):D.attachEvent("onmessage",At),q=function(Ct){D.postMessage(Et+Ct,"*")}}function bt(){var Et=new MessageChannel;Et.port1.onmessage=function(At){var Ct=At.data;st(Ct)},q=function(At){Et.port2.postMessage(At)}}function wt(){var Et=W.documentElement;q=function(At){var Ct=W.createElement("script");Ct.onreadystatechange=function(){st(At),Ct.onreadystatechange=null,Et.removeChild(Ct),Ct=null},Et.appendChild(Ct)}}function mt(){q=function(Et){setTimeout(st,0,Et)}}var _t=Object.getPrototypeOf&&Object.getPrototypeOf(D);_t=_t&&_t.setTimeout?_t:D,{}.toString.call(D.process)==="[object process]"?ct():lt()?ht():D.MessageChannel?bt():W&&"onreadystatechange"in W.createElement("script")?wt():mt(),_t.setImmediate=X,_t.clearImmediate=tt})(typeof self>"u"?commonjsGlobal$1:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const crypto$1=self.crypto||self.msCrypto;var MessageDigestBrowser=class{constructor(O){if(!(crypto$1&&crypto$1.subtle))throw new Error("crypto.subtle not found.");if(O==="sha256")this.algorithm={name:"SHA-256"};else if(O==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${O}".`);this._content=""}update(O){this._content+=O}async digest(){const O=new TextEncoder().encode(this._content),z=new Uint8Array(await crypto$1.subtle.digest(this.algorithm,O));let F="";for(let Y=0;Y<z.length;++Y)F+=z[Y].toString(16).padStart(2,"0");return F}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var Permuter_1=class{constructor(O){this.current=O.sort(),this.done=!1,this.dir=new Map;for(let z=0;z<O.length;++z)this.dir.set(O[z],!0)}hasNext(){return!this.done}next(){const{current:O,dir:z}=this,F=O.slice();let Y=null,W=0;const q=O.length;for(let X=0;X<q;++X){const tt=O[X],nt=z.get(tt);(Y===null||tt>Y)&&(nt&&X>0&&tt>O[X-1]||!nt&&X<q-1&&tt>O[X+1])&&(Y=tt,W=X)}if(Y===null)this.done=!0;else{const X=z.get(Y)?W-1:W+1;O[W]=O[X],O[X]=Y;for(const tt of O)tt>Y&&z.set(tt,!z.get(tt))}return F}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const RDF$1="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_LANGSTRING$1=RDF$1+"langString",XSD_STRING$2="http://www.w3.org/2001/XMLSchema#string",TYPE_NAMED_NODE="NamedNode",TYPE_BLANK_NODE="BlankNode",TYPE_LITERAL="Literal",TYPE_DEFAULT_GRAPH="DefaultGraph",REGEX={};(()=>{const D="(?:<([^:]+:[^>]*)>)",z="A-Za-z-----------"+"_",F=z+"0-9---",W="(_:(?:["+z+"0-9])(?:(?:["+F+".])*(?:["+F+"]))?)",q='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',X="(?:\\^\\^"+D+")",tt="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",nt="(?:"+q+"(?:"+X+"|"+tt+")?)",st="[ \\t]+",ct="[ \\t]*",lt="(?:"+D+"|"+W+")"+st,ht=D+st,bt="(?:"+D+"|"+W+"|"+nt+")"+ct,wt="(?:\\.|(?:(?:"+D+"|"+W+")"+ct+"\\.))";REGEX.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,REGEX.empty=new RegExp("^"+ct+"$"),REGEX.quad=new RegExp("^"+ct+lt+ht+bt+wt+ct+"$")})();var NQuads_1=class U1{static parse(O){const z=[],F={},Y=O.split(REGEX.eoln);let W=0;for(const q of Y){if(W++,REGEX.empty.test(q))continue;const X=q.match(REGEX.quad);if(X===null)throw new Error("N-Quads parse error on line "+W+".");const tt={subject:null,predicate:null,object:null,graph:null};if(X[1]!==void 0?tt.subject={termType:TYPE_NAMED_NODE,value:X[1]}:tt.subject={termType:TYPE_BLANK_NODE,value:X[2]},tt.predicate={termType:TYPE_NAMED_NODE,value:X[3]},X[4]!==void 0?tt.object={termType:TYPE_NAMED_NODE,value:X[4]}:X[5]!==void 0?tt.object={termType:TYPE_BLANK_NODE,value:X[5]}:(tt.object={termType:TYPE_LITERAL,value:void 0,datatype:{termType:TYPE_NAMED_NODE}},X[7]!==void 0?tt.object.datatype.value=X[7]:X[8]!==void 0?(tt.object.datatype.value=RDF_LANGSTRING$1,tt.object.language=X[8]):tt.object.datatype.value=XSD_STRING$2,tt.object.value=_unescape(X[6])),X[9]!==void 0?tt.graph={termType:TYPE_NAMED_NODE,value:X[9]}:X[10]!==void 0?tt.graph={termType:TYPE_BLANK_NODE,value:X[10]}:tt.graph={termType:TYPE_DEFAULT_GRAPH,value:""},!(tt.graph.value in F))F[tt.graph.value]=[tt],z.push(tt);else{let nt=!0;const st=F[tt.graph.value];for(const ct of st)if(_compareTriples(ct,tt)){nt=!1;break}nt&&(st.push(tt),z.push(tt))}}return z}static serialize(O){Array.isArray(O)||(O=U1.legacyDatasetToQuads(O));const z=[];for(const F of O)z.push(U1.serializeQuad(F));return z.sort().join("")}static serializeQuadComponents(O,z,F,Y){let W="";return O.termType===TYPE_NAMED_NODE?W+=`<${O.value}>`:W+=`${O.value}`,W+=` <${z.value}> `,F.termType===TYPE_NAMED_NODE?W+=`<${F.value}>`:F.termType===TYPE_BLANK_NODE?W+=F.value:(W+=`"${_escape(F.value)}"`,F.datatype.value===RDF_LANGSTRING$1?F.language&&(W+=`@${F.language}`):F.datatype.value!==XSD_STRING$2&&(W+=`^^<${F.datatype.value}>`)),Y.termType===TYPE_NAMED_NODE?W+=` <${Y.value}>`:Y.termType===TYPE_BLANK_NODE&&(W+=` ${Y.value}`),W+=` .
`,W}static serializeQuad(O){return U1.serializeQuadComponents(O.subject,O.predicate,O.object,O.graph)}static legacyDatasetToQuads(O){const z=[],F={"blank node":TYPE_BLANK_NODE,IRI:TYPE_NAMED_NODE,literal:TYPE_LITERAL};for(const Y in O)O[Y].forEach(q=>{const X={};for(const tt in q){const nt=q[tt],st={termType:F[nt.type],value:nt.value};st.termType===TYPE_LITERAL&&(st.datatype={termType:TYPE_NAMED_NODE},"datatype"in nt&&(st.datatype.value=nt.datatype),"language"in nt?("datatype"in nt||(st.datatype.value=RDF_LANGSTRING$1),st.language=nt.language):"datatype"in nt||(st.datatype.value=XSD_STRING$2)),X[tt]=st}Y==="@default"?X.graph={termType:TYPE_DEFAULT_GRAPH,value:""}:X.graph={termType:Y.startsWith("_:")?TYPE_BLANK_NODE:TYPE_NAMED_NODE,value:Y},z.push(X)});return z}};function _compareTriples(D,O){return!(D.subject.termType===O.subject.termType&&D.object.termType===O.object.termType)||!(D.subject.value===O.subject.value&&D.predicate.value===O.predicate.value&&D.object.value===O.object.value)?!1:D.object.termType!==TYPE_LITERAL?!0:D.object.datatype.termType===O.object.datatype.termType&&D.object.language===O.object.language&&D.object.datatype.value===O.object.datatype.value}const _escapeRegex=/["\\\n\r]/g;function _escape(D){return D.replace(_escapeRegex,function(O){switch(O){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const _unescapeRegex=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function _unescape(D){return D.replace(_unescapeRegex,function(O,z,F,Y){if(z)switch(z){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(F)return String.fromCharCode(parseInt(F,16));if(Y)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$3=IdentifierIssuer_1,MessageDigest$3=MessageDigestBrowser,Permuter$1=Permuter_1,NQuads$3=NQuads_1;var URDNA2015_1=class{constructor({createMessageDigest:O=()=>new MessageDigest$3("sha256"),canonicalIdMap:z=new Map,maxDeepIterations:F=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$3("_:c14n",z),this.createMessageDigest=O,this.maxDeepIterations=F,this.quads=null,this.deepIterations=null}async main(O){this.deepIterations=new Map,this.quads=O;for(const tt of O)this._addBlankNodeQuadInfo({quad:tt,component:tt.subject}),this._addBlankNodeQuadInfo({quad:tt,component:tt.object}),this._addBlankNodeQuadInfo({quad:tt,component:tt.graph});const z=new Map,F=[...this.blankNodeInfo.keys()];let Y=0;for(const tt of F)++Y%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:tt,hashToBlankNodes:z});const W=[...z.keys()].sort(),q=[];for(const tt of W){const nt=z.get(tt);if(nt.length>1){q.push(nt);continue}const st=nt[0];this.canonicalIssuer.getId(st)}for(const tt of q){const nt=[];for(const st of tt){if(this.canonicalIssuer.hasId(st))continue;const ct=new IdentifierIssuer$3("_:b");ct.getId(st);const lt=await this.hashNDegreeQuads(st,ct);nt.push(lt)}nt.sort(_stringHashCompare$1);for(const st of nt){const ct=st.issuer.getOldIds();for(const lt of ct)this.canonicalIssuer.getId(lt)}}const X=[];for(const tt of this.quads){const nt=NQuads$3.serializeQuadComponents(this._componentWithCanonicalId(tt.subject),tt.predicate,this._componentWithCanonicalId(tt.object),this._componentWithCanonicalId(tt.graph));X.push(nt)}return X.sort(),X.join("")}async hashFirstDegreeQuads(O){const z=[],F=this.blankNodeInfo.get(O),Y=F.quads;for(const q of Y){const X={subject:null,predicate:q.predicate,object:null,graph:null};X.subject=this.modifyFirstDegreeComponent(O,q.subject,"subject"),X.object=this.modifyFirstDegreeComponent(O,q.object,"object"),X.graph=this.modifyFirstDegreeComponent(O,q.graph,"graph"),z.push(NQuads$3.serializeQuad(X))}z.sort();const W=this.createMessageDigest();for(const q of z)W.update(q);return F.hash=await W.digest(),F.hash}async hashRelatedBlankNode(O,z,F,Y){let W;this.canonicalIssuer.hasId(O)?W=this.canonicalIssuer.getId(O):F.hasId(O)?W=F.getId(O):W=this.blankNodeInfo.get(O).hash;const q=this.createMessageDigest();return q.update(Y),Y!=="g"&&q.update(this.getRelatedPredicate(z)),q.update(W),q.digest()}async hashNDegreeQuads(O,z){const F=this.deepIterations.get(O)||0;if(F>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(O,F+1);const Y=this.createMessageDigest(),W=await this.createHashToRelated(O,z),q=[...W.keys()].sort();for(const X of q){Y.update(X);let tt="",nt;const st=new Permuter$1(W.get(X));let ct=0;for(;st.hasNext();){const lt=st.next();++ct%3===0&&await this._yield();let ht=z.clone(),bt="";const wt=[];let mt=!1;for(const _t of lt)if(this.canonicalIssuer.hasId(_t)?bt+=this.canonicalIssuer.getId(_t):(ht.hasId(_t)||wt.push(_t),bt+=ht.getId(_t)),tt.length!==0&&bt>tt){mt=!0;break}if(!mt){for(const _t of wt){const Et=await this.hashNDegreeQuads(_t,ht);if(bt+=ht.getId(_t),bt+=`<${Et.hash}>`,ht=Et.issuer,tt.length!==0&&bt>tt){mt=!0;break}}mt||(tt.length===0||bt<tt)&&(tt=bt,nt=ht)}}Y.update(tt),z=nt}return{hash:await Y.digest(),issuer:z}}modifyFirstDegreeComponent(O,z){return z.termType!=="BlankNode"?z:{termType:"BlankNode",value:z.value===O?"_:a":"_:z"}}getRelatedPredicate(O){return`<${O.predicate.value}>`}async createHashToRelated(O,z){const F=new Map,Y=this.blankNodeInfo.get(O).quads;let W=0;for(const q of Y)++W%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:q,component:q.subject,position:"s",id:O,issuer:z,hashToRelated:F}),this._addRelatedBlankNodeHash({quad:q,component:q.object,position:"o",id:O,issuer:z,hashToRelated:F}),this._addRelatedBlankNodeHash({quad:q,component:q.graph,position:"g",id:O,issuer:z,hashToRelated:F})]);return F}async _hashAndTrackBlankNode({id:O,hashToBlankNodes:z}){const F=await this.hashFirstDegreeQuads(O),Y=z.get(F);Y?Y.push(O):z.set(F,[O])}_addBlankNodeQuadInfo({quad:O,component:z}){if(z.termType!=="BlankNode")return;const F=z.value,Y=this.blankNodeInfo.get(F);Y?Y.quads.add(O):this.blankNodeInfo.set(F,{quads:new Set([O]),hash:null})}async _addRelatedBlankNodeHash({quad:O,component:z,position:F,id:Y,issuer:W,hashToRelated:q}){if(!(z.termType==="BlankNode"&&z.value!==Y))return;const X=z.value,tt=await this.hashRelatedBlankNode(X,O,W,F),nt=q.get(tt);nt?nt.push(X):q.set(tt,[X])}_componentWithCanonicalId(O){return O.termType==="BlankNode"&&!O.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(O.value)}:O}async _yield(){return new Promise(O=>setImmediate(O))}};function _stringHashCompare$1(D,O){return D.hash<O.hash?-1:D.hash>O.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest$2=MessageDigestBrowser,URDNA2015=URDNA2015_1;var URGNA2012=class extends URDNA2015{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest$2("sha1")}modifyFirstDegreeComponent(O,z,F){return z.termType!=="BlankNode"?z:F==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:z.value===O?"_:a":"_:z"}}getRelatedPredicate(O){return O.predicate.value}async createHashToRelated(O,z){const F=new Map,Y=this.blankNodeInfo.get(O).quads;let W=0;for(const q of Y){let X,tt;if(q.subject.termType==="BlankNode"&&q.subject.value!==O)tt=q.subject.value,X="p";else if(q.object.termType==="BlankNode"&&q.object.value!==O)tt=q.object.value,X="r";else continue;++W%100===0&&await this._yield();const nt=await this.hashRelatedBlankNode(tt,q,z,X),st=F.get(nt);st?st.push(tt):F.set(nt,[tt])}return F}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$2=IdentifierIssuer_1,MessageDigest$1=MessageDigestBrowser,Permuter=Permuter_1,NQuads$2=NQuads_1;var URDNA2015Sync_1=class{constructor({createMessageDigest:O=()=>new MessageDigest$1("sha256"),canonicalIdMap:z=new Map,maxDeepIterations:F=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$2("_:c14n",z),this.createMessageDigest=O,this.maxDeepIterations=F,this.quads=null,this.deepIterations=null}main(O){this.deepIterations=new Map,this.quads=O;for(const X of O)this._addBlankNodeQuadInfo({quad:X,component:X.subject}),this._addBlankNodeQuadInfo({quad:X,component:X.object}),this._addBlankNodeQuadInfo({quad:X,component:X.graph});const z=new Map,F=[...this.blankNodeInfo.keys()];for(const X of F)this._hashAndTrackBlankNode({id:X,hashToBlankNodes:z});const Y=[...z.keys()].sort(),W=[];for(const X of Y){const tt=z.get(X);if(tt.length>1){W.push(tt);continue}const nt=tt[0];this.canonicalIssuer.getId(nt)}for(const X of W){const tt=[];for(const nt of X){if(this.canonicalIssuer.hasId(nt))continue;const st=new IdentifierIssuer$2("_:b");st.getId(nt);const ct=this.hashNDegreeQuads(nt,st);tt.push(ct)}tt.sort(_stringHashCompare);for(const nt of tt){const st=nt.issuer.getOldIds();for(const ct of st)this.canonicalIssuer.getId(ct)}}const q=[];for(const X of this.quads){const tt=NQuads$2.serializeQuadComponents(this._componentWithCanonicalId({component:X.subject}),X.predicate,this._componentWithCanonicalId({component:X.object}),this._componentWithCanonicalId({component:X.graph}));q.push(tt)}return q.sort(),q.join("")}hashFirstDegreeQuads(O){const z=[],F=this.blankNodeInfo.get(O),Y=F.quads;for(const q of Y){const X={subject:null,predicate:q.predicate,object:null,graph:null};X.subject=this.modifyFirstDegreeComponent(O,q.subject,"subject"),X.object=this.modifyFirstDegreeComponent(O,q.object,"object"),X.graph=this.modifyFirstDegreeComponent(O,q.graph,"graph"),z.push(NQuads$2.serializeQuad(X))}z.sort();const W=this.createMessageDigest();for(const q of z)W.update(q);return F.hash=W.digest(),F.hash}hashRelatedBlankNode(O,z,F,Y){let W;this.canonicalIssuer.hasId(O)?W=this.canonicalIssuer.getId(O):F.hasId(O)?W=F.getId(O):W=this.blankNodeInfo.get(O).hash;const q=this.createMessageDigest();return q.update(Y),Y!=="g"&&q.update(this.getRelatedPredicate(z)),q.update(W),q.digest()}hashNDegreeQuads(O,z){const F=this.deepIterations.get(O)||0;if(F>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(O,F+1);const Y=this.createMessageDigest(),W=this.createHashToRelated(O,z),q=[...W.keys()].sort();for(const X of q){Y.update(X);let tt="",nt;const st=new Permuter(W.get(X));for(;st.hasNext();){const ct=st.next();let lt=z.clone(),ht="";const bt=[];let wt=!1;for(const mt of ct)if(this.canonicalIssuer.hasId(mt)?ht+=this.canonicalIssuer.getId(mt):(lt.hasId(mt)||bt.push(mt),ht+=lt.getId(mt)),tt.length!==0&&ht>tt){wt=!0;break}if(!wt){for(const mt of bt){const _t=this.hashNDegreeQuads(mt,lt);if(ht+=lt.getId(mt),ht+=`<${_t.hash}>`,lt=_t.issuer,tt.length!==0&&ht>tt){wt=!0;break}}wt||(tt.length===0||ht<tt)&&(tt=ht,nt=lt)}}Y.update(tt),z=nt}return{hash:Y.digest(),issuer:z}}modifyFirstDegreeComponent(O,z){return z.termType!=="BlankNode"?z:{termType:"BlankNode",value:z.value===O?"_:a":"_:z"}}getRelatedPredicate(O){return`<${O.predicate.value}>`}createHashToRelated(O,z){const F=new Map,Y=this.blankNodeInfo.get(O).quads;for(const W of Y)this._addRelatedBlankNodeHash({quad:W,component:W.subject,position:"s",id:O,issuer:z,hashToRelated:F}),this._addRelatedBlankNodeHash({quad:W,component:W.object,position:"o",id:O,issuer:z,hashToRelated:F}),this._addRelatedBlankNodeHash({quad:W,component:W.graph,position:"g",id:O,issuer:z,hashToRelated:F});return F}_hashAndTrackBlankNode({id:O,hashToBlankNodes:z}){const F=this.hashFirstDegreeQuads(O),Y=z.get(F);Y?Y.push(O):z.set(F,[O])}_addBlankNodeQuadInfo({quad:O,component:z}){if(z.termType!=="BlankNode")return;const F=z.value,Y=this.blankNodeInfo.get(F);Y?Y.quads.add(O):this.blankNodeInfo.set(F,{quads:new Set([O]),hash:null})}_addRelatedBlankNodeHash({quad:O,component:z,position:F,id:Y,issuer:W,hashToRelated:q}){if(!(z.termType==="BlankNode"&&z.value!==Y))return;const X=z.value,tt=this.hashRelatedBlankNode(X,O,W,F),nt=q.get(tt);nt?nt.push(X):q.set(tt,[X])}_componentWithCanonicalId({component:O}){return O.termType==="BlankNode"&&!O.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(O.value)}:O}};function _stringHashCompare(D,O){return D.hash<O.hash?-1:D.hash>O.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest=MessageDigestBrowser,URDNA2015Sync=URDNA2015Sync_1;var URGNA2012Sync=class extends URDNA2015Sync{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest("sha1")}modifyFirstDegreeComponent(O,z,F){return z.termType!=="BlankNode"?z:F==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:z.value===O?"_:a":"_:z"}}getRelatedPredicate(O){return O.predicate.value}createHashToRelated(O,z){const F=new Map,Y=this.blankNodeInfo.get(O).quads;for(const W of Y){let q,X;if(W.subject.termType==="BlankNode"&&W.subject.value!==O)X=W.subject.value,q="p";else if(W.object.termType==="BlankNode"&&W.object.value!==O)X=W.object.value,q="r";else continue;const tt=this.hashRelatedBlankNode(X,W,z,q),nt=F.get(tt);nt?nt.push(X):F.set(tt,[X])}return F}};(function(D){const O=URDNA2015_1,z=URGNA2012,F=URDNA2015Sync_1,Y=URGNA2012Sync;let W;try{W=require$$4}catch{}function q(X){return Array.isArray(X)?X:D.NQuads.legacyDatasetToQuads(X)}D.NQuads=NQuads_1,D.IdentifierIssuer=IdentifierIssuer_1,D._rdfCanonizeNative=function(X){return X&&(W=X),W},D.canonize=async function(X,tt){const nt=q(X);if(tt.useNative){if(!W)throw new Error("rdf-canonize-native not available");if(tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((st,ct)=>W.canonize(nt,tt,(lt,ht)=>lt?ct(lt):st(ht)))}if(tt.algorithm==="URDNA2015")return new O(tt).main(nt);if(tt.algorithm==="URGNA2012"){if(tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new z(tt).main(nt)}throw"algorithm"in tt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+tt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},D._canonizeSync=function(X,tt){const nt=q(X);if(tt.useNative){if(!W)throw new Error("rdf-canonize-native not available");if(tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return W.canonizeSync(nt,tt)}if(tt.algorithm==="URDNA2015")return new F(tt).main(nt);if(tt.algorithm==="URGNA2012"){if(tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new Y(tt).main(nt)}throw"algorithm"in tt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+tt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(lib);var rdfCanonize=lib;const api$d={};var types$7=api$d;api$d.isArray=Array.isArray;api$d.isBoolean=D=>typeof D=="boolean"||Object.prototype.toString.call(D)==="[object Boolean]";api$d.isDouble=D=>api$d.isNumber(D)&&(String(D).indexOf(".")!==-1||Math.abs(D)>=1e21);api$d.isEmptyObject=D=>api$d.isObject(D)&&Object.keys(D).length===0;api$d.isNumber=D=>typeof D=="number"||Object.prototype.toString.call(D)==="[object Number]";api$d.isNumeric=D=>!isNaN(parseFloat(D))&&isFinite(D);api$d.isObject=D=>Object.prototype.toString.call(D)==="[object Object]";api$d.isString=D=>typeof D=="string"||Object.prototype.toString.call(D)==="[object String]";api$d.isUndefined=D=>typeof D>"u";const types$6=types$7,api$c={};var graphTypes$5=api$c;api$c.isSubject=D=>types$6.isObject(D)&&!("@value"in D||"@set"in D||"@list"in D)?Object.keys(D).length>1||!("@id"in D):!1;api$c.isSubjectReference=D=>types$6.isObject(D)&&Object.keys(D).length===1&&"@id"in D;api$c.isValue=D=>types$6.isObject(D)&&"@value"in D;api$c.isList=D=>types$6.isObject(D)&&"@list"in D;api$c.isGraph=D=>types$6.isObject(D)&&"@graph"in D&&Object.keys(D).filter(O=>O!=="@id"&&O!=="@index").length===1;api$c.isSimpleGraph=D=>api$c.isGraph(D)&&!("@id"in D);api$c.isBlankNode=D=>{if(types$6.isObject(D)){if("@id"in D){const O=D["@id"];return!types$6.isString(O)||O.indexOf("_:")===0}return Object.keys(D).length===0||!("@value"in D||"@set"in D||"@list"in D)}return!1};var JsonLdError_1=class extends Error{constructor(O="An unspecified JSON-LD error occurred.",z="jsonld.Error",F={}){super(O),this.name=z,this.message=O,this.details=F}};const graphTypes$4=graphTypes$5,types$5=types$7,IdentifierIssuer$1=rdfCanonize.IdentifierIssuer,JsonLdError$b=JsonLdError_1,REGEX_BCP47$3=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,REGEX_LINK_HEADERS=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,REGEX_LINK_HEADER$1=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,REGEX_LINK_HEADER_PARAMS=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,REGEX_KEYWORD$3=/^@[a-zA-Z]+$/,DEFAULTS={headers:{accept:"application/ld+json, application/json"}},api$b={};var util$5=api$b;api$b.IdentifierIssuer=IdentifierIssuer$1;api$b.REGEX_BCP47=REGEX_BCP47$3;api$b.REGEX_KEYWORD=REGEX_KEYWORD$3;api$b.clone=function(D){if(D&&typeof D=="object"){let O;if(types$5.isArray(D)){O=[];for(let z=0;z<D.length;++z)O[z]=api$b.clone(D[z])}else if(D instanceof Map){O=new Map;for(const[z,F]of D)O.set(z,api$b.clone(F))}else if(D instanceof Set){O=new Set;for(const z of D)O.add(api$b.clone(z))}else if(types$5.isObject(D)){O={};for(const z in D)O[z]=api$b.clone(D[z])}else O=D.toString();return O}return D};api$b.asArray=function(D){return Array.isArray(D)?D:[D]};api$b.buildHeaders=(D={})=>{if(Object.keys(D).some(z=>z.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+DEFAULTS.headers.accept+'" is supported.');return Object.assign({Accept:DEFAULTS.headers.accept},D)};api$b.parseLinkHeader=D=>{const O={},z=D.match(REGEX_LINK_HEADERS);for(let F=0;F<z.length;++F){let Y=z[F].match(REGEX_LINK_HEADER$1);if(!Y)continue;const W={target:Y[1]},q=Y[2];for(;Y=REGEX_LINK_HEADER_PARAMS.exec(q);)W[Y[1]]=Y[2]===void 0?Y[3]:Y[2];const X=W.rel||"";Array.isArray(O[X])?O[X].push(W):O.hasOwnProperty(X)?O[X]=[O[X],W]:O[X]=W}return O};api$b.validateTypeValue=(D,O)=>{if(!types$5.isString(D)&&!(types$5.isArray(D)&&D.every(z=>types$5.isString(z)))){if(O&&types$5.isObject(D))switch(Object.keys(D).length){case 0:return;case 1:if("@default"in D&&api$b.asArray(D["@default"]).every(z=>types$5.isString(z)))return}throw new JsonLdError$b('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:D})}};api$b.hasProperty=(D,O)=>{if(D.hasOwnProperty(O)){const z=D[O];return!types$5.isArray(z)||z.length>0}return!1};api$b.hasValue=(D,O,z)=>{if(api$b.hasProperty(D,O)){let F=D[O];const Y=graphTypes$4.isList(F);if(types$5.isArray(F)||Y){Y&&(F=F["@list"]);for(let W=0;W<F.length;++W)if(api$b.compareValues(z,F[W]))return!0}else if(!types$5.isArray(z))return api$b.compareValues(z,F)}return!1};api$b.addValue=(D,O,z,F)=>{if(F=F||{},"propertyIsArray"in F||(F.propertyIsArray=!1),"valueIsArray"in F||(F.valueIsArray=!1),"allowDuplicate"in F||(F.allowDuplicate=!0),"prependValue"in F||(F.prependValue=!1),F.valueIsArray)D[O]=z;else if(types$5.isArray(z)){z.length===0&&F.propertyIsArray&&!D.hasOwnProperty(O)&&(D[O]=[]),F.prependValue&&(z=z.concat(D[O]),D[O]=[]);for(let Y=0;Y<z.length;++Y)api$b.addValue(D,O,z[Y],F)}else if(D.hasOwnProperty(O)){const Y=!F.allowDuplicate&&api$b.hasValue(D,O,z);!types$5.isArray(D[O])&&(!Y||F.propertyIsArray)&&(D[O]=[D[O]]),Y||(F.prependValue?D[O].unshift(z):D[O].push(z))}else D[O]=F.propertyIsArray?[z]:z};api$b.getValues=(D,O)=>[].concat(D[O]||[]);api$b.removeProperty=(D,O)=>{delete D[O]};api$b.removeValue=(D,O,z,F)=>{F=F||{},"propertyIsArray"in F||(F.propertyIsArray=!1);const Y=api$b.getValues(D,O).filter(W=>!api$b.compareValues(W,z));Y.length===0?api$b.removeProperty(D,O):Y.length===1&&!F.propertyIsArray?D[O]=Y[0]:D[O]=Y};api$b.relabelBlankNodes=(D,O)=>{O=O||{};const z=O.issuer||new IdentifierIssuer$1("_:b");return _labelBlankNodes(z,D)};api$b.compareValues=(D,O)=>D===O||graphTypes$4.isValue(D)&&graphTypes$4.isValue(O)&&D["@value"]===O["@value"]&&D["@type"]===O["@type"]&&D["@language"]===O["@language"]&&D["@index"]===O["@index"]?!0:types$5.isObject(D)&&"@id"in D&&types$5.isObject(O)&&"@id"in O?D["@id"]===O["@id"]:!1;api$b.compareShortestLeast=(D,O)=>D.length<O.length?-1:O.length<D.length?1:D===O?0:D<O?-1:1;function _labelBlankNodes(D,O){if(types$5.isArray(O))for(let z=0;z<O.length;++z)O[z]=_labelBlankNodes(D,O[z]);else if(graphTypes$4.isList(O))O["@list"]=_labelBlankNodes(D,O["@list"]);else if(types$5.isObject(O)){graphTypes$4.isBlankNode(O)&&(O["@id"]=D.getId(O["@id"]));const z=Object.keys(O).sort();for(let F=0;F<z.length;++F){const Y=z[F];Y!=="@id"&&(O[Y]=_labelBlankNodes(D,O[Y]))}}return O}const RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",XSD="http://www.w3.org/2001/XMLSchema#";var constants={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF,RDF_LIST:RDF+"List",RDF_FIRST:RDF+"first",RDF_REST:RDF+"rest",RDF_NIL:RDF+"nil",RDF_TYPE:RDF+"type",RDF_PLAIN_LITERAL:RDF+"PlainLiteral",RDF_XML_LITERAL:RDF+"XMLLiteral",RDF_JSON_LITERAL:RDF+"JSON",RDF_OBJECT:RDF+"object",RDF_LANGSTRING:RDF+"langString",XSD,XSD_BOOLEAN:XSD+"boolean",XSD_DOUBLE:XSD+"double",XSD_INTEGER:XSD+"integer",XSD_STRING:XSD+"string"},RequestQueue_1,hasRequiredRequestQueue;function requireRequestQueue(){return hasRequiredRequestQueue||(hasRequiredRequestQueue=1,RequestQueue_1=class{constructor(){this._requests={}}wrapLoader(O){const z=this;return z._loader=O,function(){return z.add.apply(z,arguments)}}async add(O){let z=this._requests[O];if(z)return Promise.resolve(z);z=this._requests[O]=this._loader(O);try{return await z}finally{delete this._requests[O]}}}),RequestQueue_1}const types$4=types$7,api$a={};var url$1=api$a;api$a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};api$a.parse=(D,O)=>{const z={},F=api$a.parsers[O||"full"],Y=F.regex.exec(D);let W=F.keys.length;for(;W--;)z[F.keys[W]]=Y[W]===void 0?null:Y[W];return(z.scheme==="https"&&z.port==="443"||z.scheme==="http"&&z.port==="80")&&(z.href=z.href.replace(":"+z.port,""),z.authority=z.authority.replace(":"+z.port,""),z.port=null),z.normalizedPath=api$a.removeDotSegments(z.path),z};api$a.prependBase=(D,O)=>{if(D===null||api$a.isAbsolute(O))return O;(!D||types$4.isString(D))&&(D=api$a.parse(D||""));const z=api$a.parse(O),F={protocol:D.protocol||""};if(z.authority!==null)F.authority=z.authority,F.path=z.path,F.query=z.query;else if(F.authority=D.authority,z.path==="")F.path=D.path,z.query!==null?F.query=z.query:F.query=D.query;else{if(z.path.indexOf("/")===0)F.path=z.path;else{let W=D.path;W=W.substr(0,W.lastIndexOf("/")+1),(W.length>0||D.authority)&&W.substr(-1)!=="/"&&(W+="/"),W+=z.path,F.path=W}F.query=z.query}z.path!==""&&(F.path=api$a.removeDotSegments(F.path));let Y=F.protocol;return F.authority!==null&&(Y+="//"+F.authority),Y+=F.path,F.query!==null&&(Y+="?"+F.query),z.fragment!==null&&(Y+="#"+z.fragment),Y===""&&(Y="./"),Y};api$a.removeBase=(D,O)=>{if(D===null)return O;(!D||types$4.isString(D))&&(D=api$a.parse(D||""));let z="";if(D.href!==""?z+=(D.protocol||"")+"//"+(D.authority||""):O.indexOf("//")&&(z+="//"),O.indexOf(z)!==0)return O;const F=api$a.parse(O.substr(z.length)),Y=D.normalizedPath.split("/"),W=F.normalizedPath.split("/"),q=F.fragment||F.query?0:1;for(;Y.length>0&&W.length>q&&Y[0]===W[0];)Y.shift(),W.shift();let X="";if(Y.length>0){Y.pop();for(let tt=0;tt<Y.length;++tt)X+="../"}return X+=W.join("/"),F.query!==null&&(X+="?"+F.query),F.fragment!==null&&(X+="#"+F.fragment),X===""&&(X="./"),X};api$a.removeDotSegments=D=>{if(D.length===0)return"";const O=D.split("/"),z=[];for(;O.length>0;){const F=O.shift(),Y=O.length===0;if(F==="."){Y&&z.push("");continue}if(F===".."){z.pop(),Y&&z.push("");continue}z.push(F)}return D[0]==="/"&&z.length>0&&z[0]!==""&&z.unshift(""),z.length===1&&z[0]===""?"/":z.join("/")};const isAbsoluteRegex=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;api$a.isAbsolute=D=>types$4.isString(D)&&isAbsoluteRegex.test(D);api$a.isRelative=D=>types$4.isString(D);const{parseLinkHeader,buildHeaders}=util$5,{LINK_HEADER_CONTEXT}=constants,JsonLdError$a=JsonLdError_1,RequestQueue=requireRequestQueue(),{prependBase:prependBase$2}=url$1,REGEX_LINK_HEADER=/(^|(\r\n))link:/i;var xhr=({secure:D,headers:O={},xhr:z}={headers:{}})=>{return O=buildHeaders(O),new RequestQueue().wrapLoader(Y);async function Y(W){if(W.indexOf("http:")!==0&&W.indexOf("https:")!==0)throw new JsonLdError$a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:W});if(D&&W.indexOf("https")!==0)throw new JsonLdError$a(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:W});let q;try{q=await _get(z,W,O)}catch(ct){throw new JsonLdError$a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:W,cause:ct})}if(q.status>=400)throw new JsonLdError$a("URL could not be dereferenced: "+q.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:W,httpStatusCode:q.status});let X={contextUrl:null,documentUrl:W,document:q.response},tt=null;const nt=q.getResponseHeader("Content-Type");let st;if(REGEX_LINK_HEADER.test(q.getAllResponseHeaders())&&(st=q.getResponseHeader("Link")),st&&nt!=="application/ld+json"){const ct=parseLinkHeader(st),lt=ct[LINK_HEADER_CONTEXT];if(Array.isArray(lt))throw new JsonLdError$a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:W});lt&&(X.contextUrl=lt.target),tt=ct.alternate,tt&&tt.type=="application/ld+json"&&!(nt||"").match(/^application\/(\w*\+)?json$/)&&(X=await Y(prependBase$2(W,tt.target)))}return X}};function _get(D,O,z){D=D||XMLHttpRequest;const F=new D;return new Promise((Y,W)=>{F.onload=()=>Y(F),F.onerror=q=>W(q),F.open("GET",O,!0);for(const q in z)F.setRequestHeader(q,z[q]);F.send()})}const xhrLoader=xhr,api$9={};var platformBrowser=api$9;api$9.setupDocumentLoaders=function(D){typeof XMLHttpRequest<"u"&&(D.documentLoaders.xhr=xhrLoader,D.useDocumentLoader("xhr"))};api$9.setupGlobals=function(D){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:D.JsonLdProcessor})};var iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=function(D){D.prototype[Symbol.iterator]=function*(){for(let O=this.head;O;O=O.next)yield O.value}}),iterator}var yallist=Yallist$1;Yallist$1.Node=Node$1;Yallist$1.create=Yallist$1;function Yallist$1(D){var O=this;if(O instanceof Yallist$1||(O=new Yallist$1),O.tail=null,O.head=null,O.length=0,D&&typeof D.forEach=="function")D.forEach(function(Y){O.push(Y)});else if(arguments.length>0)for(var z=0,F=arguments.length;z<F;z++)O.push(arguments[z]);return O}Yallist$1.prototype.removeNode=function(D){if(D.list!==this)throw new Error("removing node which does not belong to this list");var O=D.next,z=D.prev;return O&&(O.prev=z),z&&(z.next=O),D===this.head&&(this.head=O),D===this.tail&&(this.tail=z),D.list.length--,D.next=null,D.prev=null,D.list=null,O};Yallist$1.prototype.unshiftNode=function(D){if(D!==this.head){D.list&&D.list.removeNode(D);var O=this.head;D.list=this,D.next=O,O&&(O.prev=D),this.head=D,this.tail||(this.tail=D),this.length++}};Yallist$1.prototype.pushNode=function(D){if(D!==this.tail){D.list&&D.list.removeNode(D);var O=this.tail;D.list=this,D.prev=O,O&&(O.next=D),this.tail=D,this.head||(this.head=D),this.length++}};Yallist$1.prototype.push=function(){for(var D=0,O=arguments.length;D<O;D++)push(this,arguments[D]);return this.length};Yallist$1.prototype.unshift=function(){for(var D=0,O=arguments.length;D<O;D++)unshift(this,arguments[D]);return this.length};Yallist$1.prototype.pop=function(){if(this.tail){var D=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,D}};Yallist$1.prototype.shift=function(){if(this.head){var D=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,D}};Yallist$1.prototype.forEach=function(D,O){O=O||this;for(var z=this.head,F=0;z!==null;F++)D.call(O,z.value,F,this),z=z.next};Yallist$1.prototype.forEachReverse=function(D,O){O=O||this;for(var z=this.tail,F=this.length-1;z!==null;F--)D.call(O,z.value,F,this),z=z.prev};Yallist$1.prototype.get=function(D){for(var O=0,z=this.head;z!==null&&O<D;O++)z=z.next;if(O===D&&z!==null)return z.value};Yallist$1.prototype.getReverse=function(D){for(var O=0,z=this.tail;z!==null&&O<D;O++)z=z.prev;if(O===D&&z!==null)return z.value};Yallist$1.prototype.map=function(D,O){O=O||this;for(var z=new Yallist$1,F=this.head;F!==null;)z.push(D.call(O,F.value,this)),F=F.next;return z};Yallist$1.prototype.mapReverse=function(D,O){O=O||this;for(var z=new Yallist$1,F=this.tail;F!==null;)z.push(D.call(O,F.value,this)),F=F.prev;return z};Yallist$1.prototype.reduce=function(D,O){var z,F=this.head;if(arguments.length>1)z=O;else if(this.head)F=this.head.next,z=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Y=0;F!==null;Y++)z=D(z,F.value,Y),F=F.next;return z};Yallist$1.prototype.reduceReverse=function(D,O){var z,F=this.tail;if(arguments.length>1)z=O;else if(this.tail)F=this.tail.prev,z=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Y=this.length-1;F!==null;Y--)z=D(z,F.value,Y),F=F.prev;return z};Yallist$1.prototype.toArray=function(){for(var D=new Array(this.length),O=0,z=this.head;z!==null;O++)D[O]=z.value,z=z.next;return D};Yallist$1.prototype.toArrayReverse=function(){for(var D=new Array(this.length),O=0,z=this.tail;z!==null;O++)D[O]=z.value,z=z.prev;return D};Yallist$1.prototype.slice=function(D,O){O=O||this.length,O<0&&(O+=this.length),D=D||0,D<0&&(D+=this.length);var z=new Yallist$1;if(O<D||O<0)return z;D<0&&(D=0),O>this.length&&(O=this.length);for(var F=0,Y=this.head;Y!==null&&F<D;F++)Y=Y.next;for(;Y!==null&&F<O;F++,Y=Y.next)z.push(Y.value);return z};Yallist$1.prototype.sliceReverse=function(D,O){O=O||this.length,O<0&&(O+=this.length),D=D||0,D<0&&(D+=this.length);var z=new Yallist$1;if(O<D||O<0)return z;D<0&&(D=0),O>this.length&&(O=this.length);for(var F=this.length,Y=this.tail;Y!==null&&F>O;F--)Y=Y.prev;for(;Y!==null&&F>D;F--,Y=Y.prev)z.push(Y.value);return z};Yallist$1.prototype.splice=function(D,O,...z){D>this.length&&(D=this.length-1),D<0&&(D=this.length+D);for(var F=0,Y=this.head;Y!==null&&F<D;F++)Y=Y.next;for(var W=[],F=0;Y&&F<O;F++)W.push(Y.value),Y=this.removeNode(Y);Y===null&&(Y=this.tail),Y!==this.head&&Y!==this.tail&&(Y=Y.prev);for(var F=0;F<z.length;F++)Y=insert(this,Y,z[F]);return W};Yallist$1.prototype.reverse=function(){for(var D=this.head,O=this.tail,z=D;z!==null;z=z.prev){var F=z.prev;z.prev=z.next,z.next=F}return this.head=O,this.tail=D,this};function insert(D,O,z){var F=O===D.head?new Node$1(z,null,O,D):new Node$1(z,O,O.next,D);return F.next===null&&(D.tail=F),F.prev===null&&(D.head=F),D.length++,F}function push(D,O){D.tail=new Node$1(O,D.tail,null,D),D.head||(D.head=D.tail),D.length++}function unshift(D,O){D.head=new Node$1(O,null,D.head,D),D.tail||(D.tail=D.head),D.length++}function Node$1(D,O,z,F){if(!(this instanceof Node$1))return new Node$1(D,O,z,F);this.list=F,this.value=D,O?(O.next=this,this.prev=O):this.prev=null,z?(z.prev=this,this.next=z):this.next=null}try{requireIterator()(Yallist$1)}catch(D){}const Yallist=yallist,MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(O){if(typeof O=="number"&&(O={max:O}),O||(O={}),O.max&&(typeof O.max!="number"||O.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=O.max||1/0;const z=O.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof z!="function"?naiveLength:z,this[ALLOW_STALE]=O.stale||!1,O.maxAge&&typeof O.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=O.maxAge||0,this[DISPOSE]=O.dispose,this[NO_DISPOSE_ON_SET]=O.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=O.updateAgeOnGet||!1,this.reset()}set max(O){if(typeof O!="number"||O<0)throw new TypeError("max must be a non-negative number");this[MAX]=O||1/0,trim(this)}get max(){return this[MAX]}set allowStale(O){this[ALLOW_STALE]=!!O}get allowStale(){return this[ALLOW_STALE]}set maxAge(O){if(typeof O!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=O,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(O){typeof O!="function"&&(O=naiveLength),O!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=O,this[LENGTH]=0,this[LRU_LIST].forEach(z=>{z.length=this[LENGTH_CALCULATOR](z.value,z.key),this[LENGTH]+=z.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(O,z){z=z||this;for(let F=this[LRU_LIST].tail;F!==null;){const Y=F.prev;forEachStep(this,O,F,z),F=Y}}forEach(O,z){z=z||this;for(let F=this[LRU_LIST].head;F!==null;){const Y=F.next;forEachStep(this,O,F,z),F=Y}}keys(){return this[LRU_LIST].toArray().map(O=>O.key)}values(){return this[LRU_LIST].toArray().map(O=>O.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(O=>this[DISPOSE](O.key,O.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(O=>isStale(this,O)?!1:{k:O.key,v:O.value,e:O.now+(O.maxAge||0)}).toArray().filter(O=>O)}dumpLru(){return this[LRU_LIST]}set(O,z,F){if(F=F||this[MAX_AGE],F&&typeof F!="number")throw new TypeError("maxAge must be a number");const Y=F?Date.now():0,W=this[LENGTH_CALCULATOR](z,O);if(this[CACHE].has(O)){if(W>this[MAX])return del(this,this[CACHE].get(O)),!1;const tt=this[CACHE].get(O).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](O,tt.value)),tt.now=Y,tt.maxAge=F,tt.value=z,this[LENGTH]+=W-tt.length,tt.length=W,this.get(O),trim(this),!0}const q=new Entry(O,z,W,Y,F);return q.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](O,z),!1):(this[LENGTH]+=q.length,this[LRU_LIST].unshift(q),this[CACHE].set(O,this[LRU_LIST].head),trim(this),!0)}has(O){if(!this[CACHE].has(O))return!1;const z=this[CACHE].get(O).value;return!isStale(this,z)}get(O){return get(this,O,!0)}peek(O){return get(this,O,!1)}pop(){const O=this[LRU_LIST].tail;return O?(del(this,O),O.value):null}del(O){del(this,this[CACHE].get(O))}load(O){this.reset();const z=Date.now();for(let F=O.length-1;F>=0;F--){const Y=O[F],W=Y.e||0;if(W===0)this.set(Y.k,Y.v);else{const q=W-z;q>0&&this.set(Y.k,Y.v,q)}}}prune(){this[CACHE].forEach((O,z)=>get(this,z,!1))}}const get=(D,O,z)=>{const F=D[CACHE].get(O);if(F){const Y=F.value;if(isStale(D,Y)){if(del(D,F),!D[ALLOW_STALE])return}else z&&(D[UPDATE_AGE_ON_GET]&&(F.value.now=Date.now()),D[LRU_LIST].unshiftNode(F));return Y.value}},isStale=(D,O)=>{if(!O||!O.maxAge&&!D[MAX_AGE])return!1;const z=Date.now()-O.now;return O.maxAge?z>O.maxAge:D[MAX_AGE]&&z>D[MAX_AGE]},trim=D=>{if(D[LENGTH]>D[MAX])for(let O=D[LRU_LIST].tail;D[LENGTH]>D[MAX]&&O!==null;){const z=O.prev;del(D,O),O=z}},del=(D,O)=>{if(O){const z=O.value;D[DISPOSE]&&D[DISPOSE](z.key,z.value),D[LENGTH]-=z.length,D[CACHE].delete(z.key),D[LRU_LIST].removeNode(O)}};class Entry{constructor(O,z,F,Y,W){this.key=O,this.value=z,this.length=F,this.now=Y,this.maxAge=W||0}}const forEachStep=(D,O,z,F)=>{let Y=z.value;isStale(D,Y)&&(del(D,z),D[ALLOW_STALE]||(Y=void 0)),Y&&O.call(F,Y.value,Y.key,D)};var lruCache=LRUCache;const LRU$1=lruCache,MAX_ACTIVE_CONTEXTS=10;var ResolvedContext_1=class{constructor({document:O}){this.document=O,this.cache=new LRU$1({max:MAX_ACTIVE_CONTEXTS})}getProcessed(O){return this.cache.get(O)}setProcessed(O,z){this.cache.set(O,z)}};const{isArray:_isArray$5,isObject:_isObject$4,isString:_isString$4}=types$7,{asArray:_asArray$4}=util$5,{prependBase:prependBase$1}=url$1,JsonLdError$9=JsonLdError_1,ResolvedContext=ResolvedContext_1,MAX_CONTEXT_URLS=10;var ContextResolver_1=class{constructor({sharedCache:O}){this.perOpCache=new Map,this.sharedCache=O}async resolve({activeCtx:O,context:z,documentLoader:F,base:Y,cycles:W=new Set}){z&&_isObject$4(z)&&z["@context"]&&(z=z["@context"]),z=_asArray$4(z);const q=[];for(const X of z){if(_isString$4(X)){let st=this._get(X);st||(st=await this._resolveRemoteContext({activeCtx:O,url:X,documentLoader:F,base:Y,cycles:W})),_isArray$5(st)?q.push(...st):q.push(st);continue}if(X===null){q.push(new ResolvedContext({document:null}));continue}_isObject$4(X)||_throwInvalidLocalContext(z);const tt=JSON.stringify(X);let nt=this._get(tt);nt||(nt=new ResolvedContext({document:X}),this._cacheResolvedContext({key:tt,resolved:nt,tag:"static"})),q.push(nt)}return q}_get(O){let z=this.perOpCache.get(O);if(!z){const F=this.sharedCache.get(O);F&&(z=F.get("static"),z&&this.perOpCache.set(O,z))}return z}_cacheResolvedContext({key:O,resolved:z,tag:F}){if(this.perOpCache.set(O,z),F!==void 0){let Y=this.sharedCache.get(O);Y||(Y=new Map,this.sharedCache.set(O,Y)),Y.set(F,z)}return z}async _resolveRemoteContext({activeCtx:O,url:z,documentLoader:F,base:Y,cycles:W}){z=prependBase$1(Y,z);const{context:q,remoteDoc:X}=await this._fetchContext({activeCtx:O,url:z,documentLoader:F,cycles:W});Y=X.documentUrl||z,_resolveContextUrls({context:q,base:Y});const tt=await this.resolve({activeCtx:O,context:q,documentLoader:F,base:Y,cycles:W});return this._cacheResolvedContext({key:z,resolved:tt,tag:X.tag}),tt}async _fetchContext({activeCtx:O,url:z,documentLoader:F,cycles:Y}){if(Y.size>MAX_CONTEXT_URLS)throw new JsonLdError$9("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:O.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:MAX_CONTEXT_URLS});if(Y.has(z))throw new JsonLdError$9("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:O.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:z});Y.add(z);let W,q;try{q=await F(z),W=q.document||null,_isString$4(W)&&(W=JSON.parse(W))}catch(X){throw new JsonLdError$9("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:z,cause:X})}if(!_isObject$4(W))throw new JsonLdError$9("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:z});return"@context"in W?W={"@context":W["@context"]}:W={"@context":{}},q.contextUrl&&(_isArray$5(W["@context"])||(W["@context"]=[W["@context"]]),W["@context"].push(q.contextUrl)),{context:W,remoteDoc:q}}};function _throwInvalidLocalContext(D){throw new JsonLdError$9("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:D})}function _resolveContextUrls({context:D,base:O}){if(!D)return;const z=D["@context"];if(_isString$4(z)){D["@context"]=prependBase$1(O,z);return}if(_isArray$5(z)){for(let F=0;F<z.length;++F){const Y=z[F];if(_isString$4(Y)){z[F]=prependBase$1(O,Y);continue}_isObject$4(Y)&&_resolveContextUrls({context:{"@context":Y},base:O})}return}if(_isObject$4(z))for(const F in z)_resolveContextUrls({context:z[F],base:O})}var NQuads$1=rdfCanonize.NQuads;const JsonLdError$8=JsonLdError_1,{isArray:_isArray$4}=types$7,{asArray:_asArray$3}=util$5,api$8={};var events=api$8;api$8.defaultEventHandler=null;api$8.setupEventHandler=({options:D={}})=>{const O=[].concat(D.safe?api$8.safeEventHandler:[],D.eventHandler?_asArray$3(D.eventHandler):[],api$8.defaultEventHandler?api$8.defaultEventHandler:[]);return O.length===0?null:O};api$8.handleEvent=({event:D,options:O})=>{_handle({event:D,handlers:O.eventHandler})};function _handle({event:D,handlers:O}){let z=!0;for(let F=0;z&&F<O.length;++F){z=!1;const Y=O[F];if(_isArray$4(Y))z=_handle({event:D,handlers:Y});else if(typeof Y=="function")Y({event:D,next:()=>{z=!0}});else if(typeof Y=="object")D.code in Y?Y[D.code]({event:D,next:()=>{z=!0}}):z=!0;else throw new JsonLdError$8("Invalid event handler.","jsonld.InvalidEventHandler",{event:D})}return z}const _notSafeEventCodes=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);api$8.safeEventHandler=function D({event:O,next:z}){if(O.level==="warning"&&_notSafeEventCodes.has(O.code))throw new JsonLdError$8("Safe mode validation error.","jsonld.ValidationError",{event:O});z()};api$8.logEventHandler=function D({event:O,next:z}){console.log(`EVENT: ${O.message}`,{event:O}),z()};api$8.logWarningEventHandler=function D({event:O,next:z}){O.level==="warning"&&console.warn(`WARNING: ${O.message}`,{event:O}),z()};api$8.unhandledEventHandler=function D({event:O}){throw new JsonLdError$8("No handler for event.","jsonld.UnhandledEvent",{event:O})};api$8.setDefaultEventHandler=function({eventHandler:D}={}){api$8.defaultEventHandler=D?_asArray$3(D):null};const util$4=util$5,JsonLdError$7=JsonLdError_1,{isArray:_isArray$3,isObject:_isObject$3,isString:_isString$3,isUndefined:_isUndefined$2}=types$7,{isAbsolute:_isAbsoluteIri$2,isRelative:_isRelativeIri,prependBase}=url$1,{handleEvent:_handleEvent$3}=events,{REGEX_BCP47:REGEX_BCP47$2,REGEX_KEYWORD:REGEX_KEYWORD$2,asArray:_asArray$2,compareShortestLeast:_compareShortestLeast$1}=util$5,INITIAL_CONTEXT_CACHE=new Map,INITIAL_CONTEXT_CACHE_MAX_SIZE=1e4,api$7={};var context=api$7;api$7.process=async({activeCtx:D,localCtx:O,options:z,propagate:F=!0,overrideProtected:Y=!1,cycles:W=new Set})=>{if(_isObject$3(O)&&"@context"in O&&_isArray$3(O["@context"])&&(O=O["@context"]),_asArray$2(O).length===0)return D;const X=[],tt=[({event:lt,next:ht})=>{X.push(lt),ht()}];z.eventHandler&&tt.push(z.eventHandler);const nt=z;z={...z,eventHandler:tt};const st=await z.contextResolver.resolve({activeCtx:D,context:O,documentLoader:z.documentLoader,base:z.base});_isObject$3(st[0].document)&&typeof st[0].document["@propagate"]=="boolean"&&(F=st[0].document["@propagate"]);let ct=D;!F&&!ct.previousContext&&(ct=ct.clone(),ct.previousContext=D);for(const lt of st){let{document:ht}=lt;if(D=ct,ht===null){if(!Y&&Object.keys(D.protected).length!==0)throw new JsonLdError$7("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});ct=D=api$7.getInitialContext(z).clone();continue}const bt=lt.getProcessed(D);if(bt){if(nt.eventHandler)for(const mt of bt.events)_handleEvent$3({event:mt,options:nt});ct=D=bt.context;continue}if(_isObject$3(ht)&&"@context"in ht&&(ht=ht["@context"]),!_isObject$3(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:ht});ct=ct.clone();const wt=new Map;if("@version"in ht){if(ht["@version"]!==1.1)throw new JsonLdError$7("Unsupported JSON-LD version: "+ht["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:ht});if(D.processingMode&&D.processingMode==="json-ld-1.0")throw new JsonLdError$7("@version: "+ht["@version"]+" not compatible with "+D.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:ht});ct.processingMode="json-ld-1.1",ct["@version"]=ht["@version"],wt.set("@version",!0)}if(ct.processingMode=ct.processingMode||D.processingMode,"@base"in ht){let mt=ht["@base"];if(!(mt===null||_isAbsoluteIri$2(mt)))if(_isRelativeIri(mt))mt=prependBase(ct["@base"],mt);else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:ht});ct["@base"]=mt,wt.set("@base",!0)}if("@vocab"in ht){const mt=ht["@vocab"];if(mt===null)delete ct["@vocab"];else if(_isString$3(mt)){if(!_isAbsoluteIri$2(mt)&&api$7.processingMode(ct,1))throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ht});{const _t=_expandIri$3(ct,mt,{vocab:!0,base:!0},void 0,void 0,z);_isAbsoluteIri$2(_t)||z.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:_t}},options:z}),ct["@vocab"]=_t}}else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ht});wt.set("@vocab",!0)}if("@language"in ht){const mt=ht["@language"];if(mt===null)delete ct["@language"];else if(_isString$3(mt))mt.match(REGEX_BCP47$2)||z.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:mt}},options:z}),ct["@language"]=mt.toLowerCase();else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:ht});wt.set("@language",!0)}if("@direction"in ht){const mt=ht["@direction"];if(D.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @direction not compatible with "+D.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:ht});if(mt===null)delete ct["@direction"];else{if(mt!=="ltr"&&mt!=="rtl")throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:ht});ct["@direction"]=mt}wt.set("@direction",!0)}if("@propagate"in ht){const mt=ht["@propagate"];if(D.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @propagate not compatible with "+D.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:ht});if(typeof mt!="boolean")throw new JsonLdError$7("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:O});wt.set("@propagate",!0)}if("@import"in ht){const mt=ht["@import"];if(D.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @import not compatible with "+D.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:ht});if(!_isString$3(mt))throw new JsonLdError$7("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:O});const _t=await z.contextResolver.resolve({activeCtx:D,context:mt,documentLoader:z.documentLoader,base:z.base});if(_t.length!==1)throw new JsonLdError$7("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:O});const Et=_t[0].getProcessed(D);if(Et)ht=Et;else{const At=_t[0].document;if("@import"in At)throw new JsonLdError$7("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:O});for(const Ct in At)ht.hasOwnProperty(Ct)||(ht[Ct]=At[Ct]);_t[0].setProcessed(D,ht)}wt.set("@import",!0)}wt.set("@protected",ht["@protected"]||!1);for(const mt in ht)if(api$7.createTermDefinition({activeCtx:ct,localCtx:ht,term:mt,defined:wt,options:z,overrideProtected:Y}),_isObject$3(ht[mt])&&"@context"in ht[mt]){const _t=ht[mt]["@context"];let Et=!0;if(_isString$3(_t)){const At=prependBase(z.base,_t);W.has(At)?Et=!1:W.add(At)}if(Et)try{await api$7.process({activeCtx:ct.clone(),localCtx:ht[mt]["@context"],overrideProtected:!0,options:z,cycles:W})}catch{throw new JsonLdError$7("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:ht[mt]["@context"],term:mt})}}lt.setProcessed(D,{context:ct,events:X})}return ct};api$7.createTermDefinition=({activeCtx:D,localCtx:O,term:z,defined:F,options:Y,overrideProtected:W=!1})=>{if(F.has(z)){if(F.get(z))return;throw new JsonLdError$7("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:O,term:z})}F.set(z,!1);let q;if(O.hasOwnProperty(z)&&(q=O[z]),z==="@type"&&_isObject$3(q)&&(q["@container"]||"@set")==="@set"&&api$7.processingMode(D,1.1)){const ht=["@container","@id","@protected"],bt=Object.keys(q);if(bt.length===0||bt.some(wt=>!ht.includes(wt)))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:O,term:z})}else{if(api$7.isKeyword(z))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:O,term:z});if(z.match(REGEX_KEYWORD$2)){Y.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:z}},options:Y});return}else if(z==="")throw new JsonLdError$7("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:O})}const X=D.mappings.get(z);D.mappings.has(z)&&D.mappings.delete(z);let tt=!1;if((_isString$3(q)||q===null)&&(tt=!0,q={"@id":q}),!_isObject$3(q))throw new JsonLdError$7("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:O});const nt={};D.mappings.set(z,nt),nt.reverse=!1;const st=["@container","@id","@language","@reverse","@type"];api$7.processingMode(D,1.1)&&st.push("@context","@direction","@index","@nest","@prefix","@protected");for(const ht in q)if(!st.includes(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; a term definition must not contain "+ht,"jsonld.SyntaxError",{code:"invalid term definition",context:O});const ct=z.indexOf(":");if(nt._termHasColon=ct>0,"@reverse"in q){if("@id"in q)throw new JsonLdError$7("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:O});if("@nest"in q)throw new JsonLdError$7("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:O});const ht=q["@reverse"];if(!_isString$3(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:O});if(ht.match(REGEX_KEYWORD$2)){Y.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:ht}},options:Y}),X?D.mappings.set(z,X):D.mappings.delete(z);return}const bt=_expandIri$3(D,ht,{vocab:!0,base:!1},O,F,Y);if(!_isAbsoluteIri$2(bt))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:O});nt["@id"]=bt,nt.reverse=!0}else if("@id"in q){let ht=q["@id"];if(ht&&!_isString$3(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:O});if(ht===null)nt["@id"]=null;else if(!api$7.isKeyword(ht)&&ht.match(REGEX_KEYWORD$2)){Y.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:ht}},options:Y}),X?D.mappings.set(z,X):D.mappings.delete(z);return}else if(ht!==z){if(ht=_expandIri$3(D,ht,{vocab:!0,base:!1},O,F,Y),!_isAbsoluteIri$2(ht)&&!api$7.isKeyword(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:O});if(z.match(/(?::[^:])|\//)){const bt=new Map(F).set(z,!0);if(_expandIri$3(D,z,{vocab:!0,base:!1},O,bt,Y)!==ht)throw new JsonLdError$7("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:O})}nt["@id"]=ht,nt._prefix=tt&&!nt._termHasColon&&ht.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in nt))if(nt._termHasColon){const ht=z.substr(0,ct);if(O.hasOwnProperty(ht)&&api$7.createTermDefinition({activeCtx:D,localCtx:O,term:ht,defined:F,options:Y}),D.mappings.has(ht)){const bt=z.substr(ct+1);nt["@id"]=D.mappings.get(ht)["@id"]+bt}else nt["@id"]=z}else if(z==="@type")nt["@id"]=z;else{if(!("@vocab"in D))throw new JsonLdError$7("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:O,term:z});nt["@id"]=D["@vocab"]+z}if((q["@protected"]===!0||F.get("@protected")===!0&&q["@protected"]!==!1)&&(D.protected[z]=!0,nt.protected=!0),F.set(z,!0),"@type"in q){let ht=q["@type"];if(!_isString$3(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:O});if(ht==="@json"||ht==="@none"){if(api$7.processingMode(D,1))throw new JsonLdError$7(`Invalid JSON-LD syntax; an @context @type value must not be "${ht}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:O})}else if(ht!=="@id"&&ht!=="@vocab"){if(ht=_expandIri$3(D,ht,{vocab:!0,base:!1},O,F,Y),!_isAbsoluteIri$2(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:O});if(ht.indexOf("_:")===0)throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:O})}nt["@type"]=ht}if("@container"in q){const ht=_isString$3(q["@container"])?[q["@container"]]:q["@container"]||[],bt=["@list","@set","@index","@language"];let wt=!0;const mt=ht.includes("@set");if(api$7.processingMode(D,1.1)){if(bt.push("@graph","@id","@type"),ht.includes("@list")){if(ht.length!==1)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:O})}else if(ht.includes("@graph")){if(ht.some(_t=>_t!=="@graph"&&_t!=="@id"&&_t!=="@index"&&_t!=="@set"))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:O})}else wt&=ht.length<=(mt?2:1);if(ht.includes("@type")&&(nt["@type"]=nt["@type"]||"@id",!["@id","@vocab"].includes(nt["@type"])))throw new JsonLdError$7("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:O})}else wt&=!_isArray$3(q["@container"]),wt&=ht.length<=1;if(wt&=ht.every(_t=>bt.includes(_t)),wt&=!(mt&&ht.includes("@list")),!wt)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container value must be one of the following: "+bt.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:O});if(nt.reverse&&!ht.every(_t=>["@index","@set"].includes(_t)))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:O});nt["@container"]=ht}if("@index"in q){if(!("@container"in q)||!nt["@container"].includes("@index"))throw new JsonLdError$7(`Invalid JSON-LD syntax; @index without @index in @container: "${q["@index"]}" on term "${z}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:O});if(!_isString$3(q["@index"])||q["@index"].indexOf("@")===0)throw new JsonLdError$7(`Invalid JSON-LD syntax; @index must expand to an IRI: "${q["@index"]}" on term "${z}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:O});nt["@index"]=q["@index"]}if("@context"in q&&(nt["@context"]=q["@context"]),"@language"in q&&!("@type"in q)){let ht=q["@language"];if(ht!==null&&!_isString$3(ht))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:O});ht!==null&&(ht=ht.toLowerCase()),nt["@language"]=ht}if("@prefix"in q){if(z.match(/:|\//))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:O});if(api$7.isKeyword(nt["@id"]))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:O});if(typeof q["@prefix"]=="boolean")nt._prefix=q["@prefix"]===!0;else throw new JsonLdError$7("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:O})}if("@direction"in q){const ht=q["@direction"];if(ht!==null&&ht!=="ltr"&&ht!=="rtl")throw new JsonLdError$7('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:O});nt["@direction"]=ht}if("@nest"in q){const ht=q["@nest"];if(!_isString$3(ht)||ht!=="@nest"&&ht.indexOf("@")===0)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:O});nt["@nest"]=ht}// disallow aliasing @context and @preserve
const lt=nt["@id"];if(lt==="@context"||lt==="@preserve")throw new JsonLdError$7("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:O});if(X&&X.protected&&!W&&(D.protected[z]=!0,nt.protected=!0,!_deepCompare(X,nt)))throw new JsonLdError$7("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:O,term:z})};api$7.expandIri=(D,O,z,F)=>_expandIri$3(D,O,z,void 0,void 0,F);function _expandIri$3(D,O,z,F,Y,W){if(O===null||!_isString$3(O)||api$7.isKeyword(O))return O;if(O.match(REGEX_KEYWORD$2))return null;if(F&&F.hasOwnProperty(O)&&Y.get(O)!==!0&&api$7.createTermDefinition({activeCtx:D,localCtx:F,term:O,defined:Y,options:W}),z=z||{},z.vocab){const X=D.mappings.get(O);if(X===null)return null;if(_isObject$3(X)&&"@id"in X)return X["@id"]}const q=O.indexOf(":");if(q>0){const X=O.substr(0,q),tt=O.substr(q+1);if(X==="_"||tt.indexOf("//")===0)return O;F&&F.hasOwnProperty(X)&&api$7.createTermDefinition({activeCtx:D,localCtx:F,term:X,defined:Y,options:W});const nt=D.mappings.get(X);if(nt&&nt._prefix)return nt["@id"]+tt;if(_isAbsoluteIri$2(O))return O}if(z.vocab&&"@vocab"in D)O=D["@vocab"]+O;else if(z.base){let X,tt;"@base"in D?D["@base"]?(tt=prependBase(W.base,D["@base"]),X=prependBase(tt,O)):(tt=D["@base"],X=O):(tt=W.base,X=prependBase(W.base,O)),O=X}return O}api$7.getInitialContext=D=>{const O=JSON.stringify({processingMode:D.processingMode}),z=INITIAL_CONTEXT_CACHE.get(O);if(z)return z;const F={processingMode:D.processingMode,mappings:new Map,inverse:null,getInverse:Y,clone:X,revertToPreviousContext:tt,protected:{}};return INITIAL_CONTEXT_CACHE.size===INITIAL_CONTEXT_CACHE_MAX_SIZE&&INITIAL_CONTEXT_CACHE.clear(),INITIAL_CONTEXT_CACHE.set(O,F),F;function Y(){const nt=this;if(nt.inverse)return nt.inverse;const st=nt.inverse={},ct=nt.fastCurieMap={},lt={},ht=(nt["@language"]||"@none").toLowerCase(),bt=nt["@direction"],wt=nt.mappings,mt=[...wt.keys()].sort(_compareShortestLeast$1);for(const _t of mt){const Et=wt.get(_t);if(Et===null)continue;let At=Et["@container"]||"@none";if(At=[].concat(At).sort().join(""),Et["@id"]===null)continue;const Ct=_asArray$2(Et["@id"]);for(const Ft of Ct){let Lt=st[Ft];const Yt=api$7.isKeyword(Ft);if(Lt)!Yt&&!Et._termHasColon&&lt[Ft].push(_t);else if(st[Ft]=Lt={},!Yt&&!Et._termHasColon){lt[Ft]=[_t];const Ht={iri:Ft,terms:lt[Ft]};Ft[0]in ct?ct[Ft[0]].push(Ht):ct[Ft[0]]=[Ht]}if(Lt[At]||(Lt[At]={"@language":{},"@type":{},"@any":{}}),Lt=Lt[At],q(_t,Lt["@any"],"@none"),Et.reverse)q(_t,Lt["@type"],"@reverse");else if(Et["@type"]==="@none")q(_t,Lt["@any"],"@none"),q(_t,Lt["@language"],"@none"),q(_t,Lt["@type"],"@none");else if("@type"in Et)q(_t,Lt["@type"],Et["@type"]);else if("@language"in Et&&"@direction"in Et){const Ht=Et["@language"],qt=Et["@direction"];Ht&&qt?q(_t,Lt["@language"],`${Ht}_${qt}`.toLowerCase()):Ht?q(_t,Lt["@language"],Ht.toLowerCase()):qt?q(_t,Lt["@language"],`_${qt}`):q(_t,Lt["@language"],"@null")}else"@language"in Et?q(_t,Lt["@language"],(Et["@language"]||"@null").toLowerCase()):"@direction"in Et?Et["@direction"]?q(_t,Lt["@language"],`_${Et["@direction"]}`):q(_t,Lt["@language"],"@none"):bt?(q(_t,Lt["@language"],`_${bt}`),q(_t,Lt["@language"],"@none"),q(_t,Lt["@type"],"@none")):(q(_t,Lt["@language"],ht),q(_t,Lt["@language"],"@none"),q(_t,Lt["@type"],"@none"))}}for(const _t in ct)W(ct,_t,1);return st}function W(nt,st,ct){const lt=nt[st],ht=nt[st]={};let bt,wt;for(const mt of lt)bt=mt.iri,ct>=bt.length?wt="":wt=bt[ct],wt in ht?ht[wt].push(mt):ht[wt]=[mt];for(const mt in ht)mt!==""&&W(ht,mt,ct+1)}function q(nt,st,ct){st.hasOwnProperty(ct)||(st[ct]=nt)}function X(){const nt={};return nt.mappings=util$4.clone(this.mappings),nt.clone=this.clone,nt.inverse=null,nt.getInverse=this.getInverse,nt.protected=util$4.clone(this.protected),this.previousContext&&(nt.previousContext=this.previousContext.clone()),nt.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(nt["@base"]=this["@base"]),"@language"in this&&(nt["@language"]=this["@language"]),"@vocab"in this&&(nt["@vocab"]=this["@vocab"]),nt}function tt(){return this.previousContext?this.previousContext.clone():this}};api$7.getContextValue=(D,O,z)=>{if(O===null)return z==="@context"?void 0:null;if(D.mappings.has(O)){const F=D.mappings.get(O);if(_isUndefined$2(z))return F;if(F.hasOwnProperty(z))return F[z]}if(z==="@language"&&z in D||z==="@direction"&&z in D)return D[z];if(z!=="@context")return null};api$7.processingMode=(D,O)=>O.toString()>="1.1"?!D.processingMode||D.processingMode>="json-ld-"+O.toString():D.processingMode==="json-ld-1.0";api$7.isKeyword=D=>{if(!_isString$3(D)||D[0]!=="@")return!1;switch(D){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function _deepCompare(D,O){if(!(D&&typeof D=="object")||!(O&&typeof O=="object"))return D===O;const z=Array.isArray(D);if(z!==Array.isArray(O))return!1;if(z){if(D.length!==O.length)return!1;for(let W=0;W<D.length;++W)if(!_deepCompare(D[W],O[W]))return!1;return!0}const F=Object.keys(D),Y=Object.keys(O);if(F.length!==Y.length)return!1;for(const W in D){let q=D[W],X=O[W];if(W==="@container"&&Array.isArray(q)&&Array.isArray(X)&&(q=q.slice().sort(),X=X.slice().sort()),!_deepCompare(q,X))return!1}return!0}const JsonLdError$6=JsonLdError_1,{isArray:_isArray$2,isObject:_isObject$2,isEmptyObject:_isEmptyObject,isString:_isString$2,isUndefined:_isUndefined$1}=types$7,{isList:_isList$1,isValue:_isValue$1,isGraph:_isGraph$1,isSubject:_isSubject}=graphTypes$5,{expandIri:_expandIri$2,getContextValue:_getContextValue$1,isKeyword:_isKeyword$1,process:_processContext$2,processingMode:_processingMode$2}=context,{isAbsolute:_isAbsoluteIri$1}=url$1,{REGEX_BCP47:REGEX_BCP47$1,REGEX_KEYWORD:REGEX_KEYWORD$1,addValue:_addValue$2,asArray:_asArray$1,getValues:_getValues,validateTypeValue:_validateTypeValue}=util$5,{handleEvent:_handleEvent$2}=events,api$6={};var expand=api$6;api$6.expand=async({activeCtx:D,activeProperty:O=null,element:z,options:F={},insideList:Y=!1,insideIndex:W=!1,typeScopedContext:q=null})=>{if(z==null)return null;if(O==="@default"&&(F=Object.assign({},F,{isFrame:!1})),!_isArray$2(z)&&!_isObject$2(z))return!Y&&(O===null||_expandIri$2(D,O,{vocab:!0},F)==="@graph")?(F.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:z}},options:F}),null):_expandValue({activeCtx:D,activeProperty:O,value:z,options:F});if(_isArray$2(z)){let bt=[];const wt=_getContextValue$1(D,O,"@container")||[];Y=Y||wt.includes("@list");for(let mt=0;mt<z.length;++mt){let _t=await api$6.expand({activeCtx:D,activeProperty:O,element:z[mt],options:F,insideIndex:W,typeScopedContext:q});Y&&_isArray$2(_t)&&(_t={"@list":_t}),_t!==null&&(_isArray$2(_t)?bt=bt.concat(_t):bt.push(_t))}return bt}const X=_expandIri$2(D,O,{vocab:!0},F),tt=_getContextValue$1(D,O,"@context");q=q||(D.previousContext?D:null);let nt=Object.keys(z).sort(),st=!W;if(st&&q&&nt.length<=2&&!nt.includes("@context"))for(const bt of nt){const wt=_expandIri$2(q,bt,{vocab:!0},F);if(wt==="@value"){st=!1,D=q;break}if(wt==="@id"&&nt.length===1){st=!1;break}}st&&(D=D.revertToPreviousContext()),_isUndefined$1(tt)||(D=await _processContext$2({activeCtx:D,localCtx:tt,propagate:!0,overrideProtected:!0,options:F})),"@context"in z&&(D=await _processContext$2({activeCtx:D,localCtx:z["@context"],options:F})),q=D;let ct=null;for(const bt of nt)if(_expandIri$2(D,bt,{vocab:!0},F)==="@type"){ct=ct||bt;const mt=z[bt],_t=Array.isArray(mt)?mt.length>1?mt.slice().sort():mt:[mt];for(const Et of _t){const At=_getContextValue$1(q,Et,"@context");_isUndefined$1(At)||(D=await _processContext$2({activeCtx:D,localCtx:At,options:F,propagate:!1}))}}let lt={};await _expandObject({activeCtx:D,activeProperty:O,expandedActiveProperty:X,element:z,expandedParent:lt,options:F,insideList:Y,typeKey:ct,typeScopedContext:q}),nt=Object.keys(lt);let ht=nt.length;if("@value"in lt){if("@type"in lt&&("@language"in lt||"@direction"in lt))throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:lt});let bt=ht-1;if("@type"in lt&&(bt-=1),"@index"in lt&&(bt-=1),"@language"in lt&&(bt-=1),"@direction"in lt&&(bt-=1),bt!==0)throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:lt});const wt=lt["@value"]===null?[]:_asArray$1(lt["@value"]),mt=_getValues(lt,"@type");if(!(_processingMode$2(D,1.1)&&mt.includes("@json")&&mt.length===1))if(wt.length===0)F.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:lt}},options:F}),lt=null;else{if(!wt.every(_t=>_isString$2(_t)||_isEmptyObject(_t))&&"@language"in lt)throw new JsonLdError$6("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:lt});if(!mt.every(_t=>_isAbsoluteIri$1(_t)&&!(_isString$2(_t)&&_t.indexOf("_:")===0)||_isEmptyObject(_t)))throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:lt})}}else if("@type"in lt&&!_isArray$2(lt["@type"]))lt["@type"]=[lt["@type"]];else if("@set"in lt||"@list"in lt){if(ht>1&&!(ht===2&&"@index"in lt))throw new JsonLdError$6('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:lt});"@set"in lt&&(lt=lt["@set"],nt=Object.keys(lt),ht=nt.length)}else ht===1&&"@language"in lt&&(F.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:lt}},options:F}),lt=null);return _isObject$2(lt)&&!F.keepFreeFloatingNodes&&!Y&&(O===null||X==="@graph"||(_getContextValue$1(D,O,"@container")||[]).includes("@graph"))&&(lt=_dropUnsafeObject({value:lt,count:ht,options:F})),lt};function _dropUnsafeObject({value:D,count:O,options:z}){if(O===0||"@value"in D||"@list"in D||O===1&&"@id"in D){if(z.eventHandler){let F,Y;O===0?(F="empty object",Y="Dropping empty object."):"@value"in D?(F="object with only @value",Y="Dropping object with only @value."):"@list"in D?(F="object with only @list",Y="Dropping object with only @list."):O===1&&"@id"in D&&(F="object with only @id",Y="Dropping object with only @id."),_handleEvent$2({event:{type:["JsonLdEvent"],code:F,level:"warning",message:Y,details:{value:D}},options:z})}return null}return D}async function _expandObject({activeCtx:D,activeProperty:O,expandedActiveProperty:z,element:F,expandedParent:Y,options:W={},insideList:q,typeKey:X,typeScopedContext:tt}){const nt=Object.keys(F).sort(),st=[];let ct;const lt=F[X]&&_expandIri$2(D,_isArray$2(F[X])?F[X][0]:F[X],{vocab:!0},{...W,typeExpansion:!0})==="@json";for(const ht of nt){let bt=F[ht],wt;if(ht==="@context")continue;const mt=_expandIri$2(D,ht,{vocab:!0},W);if(mt===null||!(_isAbsoluteIri$1(mt)||_isKeyword$1(mt))){W.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:ht,expandedProperty:mt}},options:W});continue}if(_isKeyword$1(mt)){if(z==="@reverse")throw new JsonLdError$6("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:bt});if(mt in Y&&mt!=="@included"&&mt!=="@type")throw new JsonLdError$6("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:mt})}if(mt==="@id"){if(!_isString$2(bt)){if(!W.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:bt});if(_isObject$2(bt)){if(!_isEmptyObject(bt))throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:bt})}else if(_isArray$2(bt)){if(!bt.every(Ct=>_isString$2(Ct)))throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:bt})}else throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:bt})}_addValue$2(Y,"@id",_asArray$1(bt).map(Ct=>{if(_isString$2(Ct)){const Ft=_expandIri$2(D,Ct,{base:!0},W);return W.eventHandler&&(Ft===null?_handleEvent$2(Ct===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:Ct}},options:W}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:Ct}},options:W}):_isAbsoluteIri$1(Ft)||_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:Ct,expandedId:Ft}},options:W})),Ft}return Ct}),{propertyIsArray:W.isFrame});continue}if(mt==="@type"){_isObject$2(bt)&&(bt=Object.fromEntries(Object.entries(bt).map(([Ct,Ft])=>[_expandIri$2(tt,Ct,{vocab:!0}),_asArray$1(Ft).map(Lt=>_expandIri$2(tt,Lt,{base:!0,vocab:!0},{...W,typeExpansion:!0}))]))),_validateTypeValue(bt,W.isFrame),_addValue$2(Y,"@type",_asArray$1(bt).map(Ct=>{if(_isString$2(Ct)){const Ft=_expandIri$2(tt,Ct,{base:!0,vocab:!0},{...W,typeExpansion:!0});return Ft!=="@json"&&!_isAbsoluteIri$1(Ft)&&W.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:Ct}},options:W}),Ft}return Ct}),{propertyIsArray:!!W.isFrame});continue}if(mt==="@included"&&_processingMode$2(D,1.1)){const Ct=_asArray$1(await api$6.expand({activeCtx:D,activeProperty:O,element:bt,options:W}));if(!Ct.every(Ft=>_isSubject(Ft)))throw new JsonLdError$6("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:bt});_addValue$2(Y,"@included",Ct,{propertyIsArray:!0});continue}if(mt==="@graph"&&!(_isObject$2(bt)||_isArray$2(bt)))throw new JsonLdError$6('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:bt});if(mt==="@value"){ct=bt,lt&&_processingMode$2(D,1.1)?Y["@value"]=bt:_addValue$2(Y,"@value",bt,{propertyIsArray:W.isFrame});continue}if(mt==="@language"){if(bt===null)continue;if(!_isString$2(bt)&&!W.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:bt});bt=_asArray$1(bt).map(Ct=>_isString$2(Ct)?Ct.toLowerCase():Ct);for(const Ct of bt)_isString$2(Ct)&&!Ct.match(REGEX_BCP47$1)&&W.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ct}},options:W});_addValue$2(Y,"@language",bt,{propertyIsArray:W.isFrame});continue}if(mt==="@direction"){if(!_isString$2(bt)&&!W.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:bt});bt=_asArray$1(bt);for(const Ct of bt)if(_isString$2(Ct)&&Ct!=="ltr"&&Ct!=="rtl")throw new JsonLdError$6('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:bt});_addValue$2(Y,"@direction",bt,{propertyIsArray:W.isFrame});continue}if(mt==="@index"){if(!_isString$2(bt))throw new JsonLdError$6('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:bt});_addValue$2(Y,"@index",bt);continue}if(mt==="@reverse"){if(!_isObject$2(bt))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:bt});if(wt=await api$6.expand({activeCtx:D,activeProperty:"@reverse",element:bt,options:W}),"@reverse"in wt)for(const Ft in wt["@reverse"])_addValue$2(Y,Ft,wt["@reverse"][Ft],{propertyIsArray:!0});let Ct=Y["@reverse"]||null;for(const Ft in wt){if(Ft==="@reverse")continue;Ct===null&&(Ct=Y["@reverse"]={}),_addValue$2(Ct,Ft,[],{propertyIsArray:!0});const Lt=wt[Ft];for(let Yt=0;Yt<Lt.length;++Yt){const Ht=Lt[Yt];if(_isValue$1(Ht)||_isList$1(Ht))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:wt});_addValue$2(Ct,Ft,Ht,{propertyIsArray:!0})}}continue}if(mt==="@nest"){st.push(ht);continue}let _t=D;const Et=_getContextValue$1(D,ht,"@context");_isUndefined$1(Et)||(_t=await _processContext$2({activeCtx:D,localCtx:Et,propagate:!0,overrideProtected:!0,options:W}));const At=_getContextValue$1(_t,ht,"@container")||[];if(At.includes("@language")&&_isObject$2(bt)){const Ct=_getContextValue$1(_t,ht,"@direction");wt=_expandLanguageMap(_t,bt,Ct,W)}else if(At.includes("@index")&&_isObject$2(bt)){const Ct=At.includes("@graph"),Ft=_getContextValue$1(_t,ht,"@index")||"@index",Lt=Ft!=="@index"&&_expandIri$2(D,Ft,{vocab:!0},W);wt=await _expandIndexMap({activeCtx:_t,options:W,activeProperty:ht,value:bt,asGraph:Ct,indexKey:Ft,propertyIndex:Lt})}else if(At.includes("@id")&&_isObject$2(bt)){const Ct=At.includes("@graph");wt=await _expandIndexMap({activeCtx:_t,options:W,activeProperty:ht,value:bt,asGraph:Ct,indexKey:"@id"})}else if(At.includes("@type")&&_isObject$2(bt))wt=await _expandIndexMap({activeCtx:_t.revertToPreviousContext(),options:W,activeProperty:ht,value:bt,asGraph:!1,indexKey:"@type"});else{const Ct=mt==="@list";if(Ct||mt==="@set"){let Ft=O;Ct&&z==="@graph"&&(Ft=null),wt=await api$6.expand({activeCtx:_t,activeProperty:Ft,element:bt,options:W,insideList:Ct})}else _getContextValue$1(D,ht,"@type")==="@json"?wt={"@type":"@json","@value":bt}:wt=await api$6.expand({activeCtx:_t,activeProperty:ht,element:bt,options:W,insideList:!1})}if(!(wt===null&&mt!=="@value")){if(mt!=="@list"&&!_isList$1(wt)&&At.includes("@list")&&(wt={"@list":_asArray$1(wt)}),At.includes("@graph")&&!At.some(Ct=>Ct==="@id"||Ct==="@index")){if(wt=_asArray$1(wt),W.isFrame||(wt=wt.filter(Ct=>{const Ft=Object.keys(Ct).length;return _dropUnsafeObject({value:Ct,count:Ft,options:W})!==null})),wt.length===0)continue;wt=wt.map(Ct=>({"@graph":_asArray$1(Ct)}))}if(_t.mappings.has(ht)&&_t.mappings.get(ht).reverse){const Ct=Y["@reverse"]=Y["@reverse"]||{};wt=_asArray$1(wt);for(let Ft=0;Ft<wt.length;++Ft){const Lt=wt[Ft];if(_isValue$1(Lt)||_isList$1(Lt))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:wt});_addValue$2(Ct,mt,Lt,{propertyIsArray:!0})}continue}_addValue$2(Y,mt,wt,{propertyIsArray:!0})}}if("@value"in Y&&!(Y["@type"]==="@json"&&_processingMode$2(D,1.1))){if((_isObject$2(ct)||_isArray$2(ct))&&!W.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:ct})}for(const ht of st){const bt=_isArray$2(F[ht])?F[ht]:[F[ht]];for(const wt of bt){if(!_isObject$2(wt)||Object.keys(wt).some(mt=>_expandIri$2(D,mt,{vocab:!0},W)==="@value"))throw new JsonLdError$6("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:wt});await _expandObject({activeCtx:D,activeProperty:O,expandedActiveProperty:z,element:wt,expandedParent:Y,options:W,insideList:q,typeScopedContext:tt,typeKey:X})}}}function _expandValue({activeCtx:D,activeProperty:O,value:z,options:F}){if(z==null)return null;const Y=_expandIri$2(D,O,{vocab:!0},F);if(Y==="@id")return _expandIri$2(D,z,{base:!0},F);if(Y==="@type")return _expandIri$2(D,z,{vocab:!0,base:!0},{...F,typeExpansion:!0});const W=_getContextValue$1(D,O,"@type");if((W==="@id"||Y==="@graph")&&_isString$2(z)){const X=_expandIri$2(D,z,{base:!0},F);return X===null&&z.match(REGEX_KEYWORD$1)&&F.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:O}},options:F}),{"@id":X}}if(W==="@vocab"&&_isString$2(z))return{"@id":_expandIri$2(D,z,{vocab:!0,base:!0},F)};if(_isKeyword$1(Y))return z;const q={};if(W&&!["@id","@vocab","@none"].includes(W))q["@type"]=W;else if(_isString$2(z)){const X=_getContextValue$1(D,O,"@language");X!==null&&(q["@language"]=X);const tt=_getContextValue$1(D,O,"@direction");tt!==null&&(q["@direction"]=tt)}return["boolean","number","string"].includes(typeof z)||(z=z.toString()),q["@value"]=z,q}function _expandLanguageMap(D,O,z,F){const Y=[],W=Object.keys(O).sort();for(const q of W){const X=_expandIri$2(D,q,{vocab:!0},F);let tt=O[q];_isArray$2(tt)||(tt=[tt]);for(const nt of tt){if(nt===null)continue;if(!_isString$2(nt))throw new JsonLdError$6("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:O});const st={"@value":nt};X!=="@none"&&(q.match(REGEX_BCP47$1)||F.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:q}},options:F}),st["@language"]=q.toLowerCase()),z&&(st["@direction"]=z),Y.push(st)}}return Y}async function _expandIndexMap({activeCtx:D,options:O,activeProperty:z,value:F,asGraph:Y,indexKey:W,propertyIndex:q}){const X=[],tt=Object.keys(F).sort(),nt=W==="@type";for(let st of tt){if(nt){const ht=_getContextValue$1(D,st,"@context");_isUndefined$1(ht)||(D=await _processContext$2({activeCtx:D,localCtx:ht,propagate:!1,options:O}))}let ct=F[st];_isArray$2(ct)||(ct=[ct]),ct=await api$6.expand({activeCtx:D,activeProperty:z,element:ct,options:O,insideList:!1,insideIndex:!0});let lt;q?st==="@none"?lt="@none":lt=_expandValue({activeCtx:D,activeProperty:W,value:st,options:O}):lt=_expandIri$2(D,st,{vocab:!0},O),W==="@id"?st=_expandIri$2(D,st,{base:!0},O):nt&&(st=lt);for(let ht of ct){if(Y&&!_isGraph$1(ht)&&(ht={"@graph":[ht]}),W==="@type")lt==="@none"||(ht["@type"]?ht["@type"]=[st].concat(ht["@type"]):ht["@type"]=[st]);else{if(_isValue$1(ht)&&!["@language","@type","@index"].includes(W))throw new JsonLdError$6(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${W}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ht});q?lt!=="@none"&&_addValue$2(ht,q,lt,{propertyIsArray:!0,prependValue:!0}):lt!=="@none"&&!(W in ht)&&(ht[W]=st)}X.push(ht)}}return X}const{isKeyword:isKeyword$2}=context,graphTypes$3=graphTypes$5,types$3=types$7,util$3=util$5,JsonLdError$5=JsonLdError_1,api$5={};var nodeMap=api$5;api$5.createMergedNodeMap=(D,O)=>{O=O||{};const z=O.issuer||new util$3.IdentifierIssuer("_:b"),F={"@default":{}};return api$5.createNodeMap(D,F,"@default",z),api$5.mergeNodeMaps(F)};api$5.createNodeMap=(D,O,z,F,Y,W)=>{if(types$3.isArray(D)){for(const nt of D)api$5.createNodeMap(nt,O,z,F,void 0,W);return}if(!types$3.isObject(D)){W&&W.push(D);return}if(graphTypes$3.isValue(D)){if("@type"in D){let nt=D["@type"];nt.indexOf("_:")===0&&(D["@type"]=nt=F.getId(nt))}W&&W.push(D);return}else if(W&&graphTypes$3.isList(D)){const nt=[];api$5.createNodeMap(D["@list"],O,z,F,Y,nt),W.push({"@list":nt});return}if("@type"in D){const nt=D["@type"];for(const st of nt)st.indexOf("_:")===0&&F.getId(st)}types$3.isUndefined(Y)&&(Y=graphTypes$3.isBlankNode(D)?F.getId(D["@id"]):D["@id"]),W&&W.push({"@id":Y});const q=O[z],X=q[Y]=q[Y]||{};X["@id"]=Y;const tt=Object.keys(D).sort();for(let nt of tt){if(nt==="@id")continue;if(nt==="@reverse"){const ct={"@id":Y},lt=D["@reverse"];for(const ht in lt){const bt=lt[ht];for(const wt of bt){let mt=wt["@id"];graphTypes$3.isBlankNode(wt)&&(mt=F.getId(mt)),api$5.createNodeMap(wt,O,z,F,mt),util$3.addValue(q[mt],ht,ct,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(nt==="@graph"){Y in O||(O[Y]={}),api$5.createNodeMap(D[nt],O,Y,F);continue}if(nt==="@included"){api$5.createNodeMap(D[nt],O,z,F);continue}if(nt!=="@type"&&isKeyword$2(nt)){if(nt==="@index"&&nt in X&&(D[nt]!==X[nt]||D[nt]["@id"]!==X[nt]["@id"]))throw new JsonLdError$5("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:X});X[nt]=D[nt];continue}const st=D[nt];if(nt.indexOf("_:")===0&&(nt=F.getId(nt)),st.length===0){util$3.addValue(X,nt,[],{propertyIsArray:!0});continue}for(let ct of st)if(nt==="@type"&&(ct=ct.indexOf("_:")===0?F.getId(ct):ct),graphTypes$3.isSubject(ct)||graphTypes$3.isSubjectReference(ct)){if("@id"in ct&&!ct["@id"])continue;const lt=graphTypes$3.isBlankNode(ct)?F.getId(ct["@id"]):ct["@id"];util$3.addValue(X,nt,{"@id":lt},{propertyIsArray:!0,allowDuplicate:!1}),api$5.createNodeMap(ct,O,z,F,lt)}else if(graphTypes$3.isValue(ct))util$3.addValue(X,nt,ct,{propertyIsArray:!0,allowDuplicate:!1});else if(graphTypes$3.isList(ct)){const lt=[];api$5.createNodeMap(ct["@list"],O,z,F,Y,lt),ct={"@list":lt},util$3.addValue(X,nt,ct,{propertyIsArray:!0,allowDuplicate:!1})}else api$5.createNodeMap(ct,O,z,F,Y),util$3.addValue(X,nt,ct,{propertyIsArray:!0,allowDuplicate:!1})}};api$5.mergeNodeMapGraphs=D=>{const O={};for(const z of Object.keys(D).sort())for(const F of Object.keys(D[z]).sort()){const Y=D[z][F];F in O||(O[F]={"@id":F});const W=O[F];for(const q of Object.keys(Y).sort())if(isKeyword$2(q)&&q!=="@type")W[q]=util$3.clone(Y[q]);else for(const X of Y[q])util$3.addValue(W,q,util$3.clone(X),{propertyIsArray:!0,allowDuplicate:!1})}return O};api$5.mergeNodeMaps=D=>{const O=D["@default"],z=Object.keys(D).sort();for(const F of z){if(F==="@default")continue;const Y=D[F];let W=O[F];W?"@graph"in W||(W["@graph"]=[]):O[F]=W={"@id":F,"@graph":[]};const q=W["@graph"];for(const X of Object.keys(Y).sort()){const tt=Y[X];graphTypes$3.isSubjectReference(tt)||q.push(tt)}}return O};const{isSubjectReference:_isSubjectReference$2}=graphTypes$5,{createMergedNodeMap:_createMergedNodeMap$1}=nodeMap,api$4={};var flatten=api$4;api$4.flatten=D=>{const O=_createMergedNodeMap$1(D),z=[],F=Object.keys(O).sort();for(let Y=0;Y<F.length;++Y){const W=O[F[Y]];_isSubjectReference$2(W)||z.push(W)}return z};const JsonLdError$4=JsonLdError_1,graphTypes$2=graphTypes$5,types$2=types$7,{REGEX_BCP47,addValue:_addValue$1}=util$5,{handleEvent:_handleEvent$1}=events,{RDF_LIST,RDF_FIRST:RDF_FIRST$1,RDF_REST:RDF_REST$1,RDF_NIL:RDF_NIL$1,RDF_TYPE:RDF_TYPE$1,RDF_JSON_LITERAL:RDF_JSON_LITERAL$1,XSD_BOOLEAN:XSD_BOOLEAN$1,XSD_DOUBLE:XSD_DOUBLE$1,XSD_INTEGER:XSD_INTEGER$1,XSD_STRING:XSD_STRING$1}=constants,api$3={};var fromRdf=api$3;api$3.fromRDF=async(D,O)=>{const{useRdfType:z=!1,useNativeTypes:F=!1,rdfDirection:Y=null}=O,W={},q={"@default":W},X={};if(Y){if(Y==="compound-literal")throw new JsonLdError$4("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:Y});if(Y!=="i18n-datatype")throw new JsonLdError$4("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:Y})}for(const st of D){const ct=st.graph.termType==="DefaultGraph"?"@default":st.graph.value;ct in q||(q[ct]={}),ct!=="@default"&&!(ct in W)&&(W[ct]={"@id":ct});const lt=q[ct],ht=st.subject.value,bt=st.predicate.value,wt=st.object;ht in lt||(lt[ht]={"@id":ht});const mt=lt[ht],_t=wt.termType.endsWith("Node");if(_t&&!(wt.value in lt)&&(lt[wt.value]={"@id":wt.value}),bt===RDF_TYPE$1&&!z&&_t){_addValue$1(mt,"@type",wt.value,{propertyIsArray:!0});continue}const Et=_RDFToObject(wt,F,Y,O);if(_addValue$1(mt,bt,Et,{propertyIsArray:!0}),_t)if(wt.value===RDF_NIL$1){const At=lt[wt.value];"usages"in At||(At.usages=[]),At.usages.push({node:mt,property:bt,value:Et})}else wt.value in X?X[wt.value]=!1:X[wt.value]={node:mt,property:bt,value:Et}}for(const st in q){const ct=q[st];if(!(RDF_NIL$1 in ct))continue;const lt=ct[RDF_NIL$1];if(lt.usages){for(let ht of lt.usages){let bt=ht.node,wt=ht.property,mt=ht.value;const _t=[],Et=[];let At=Object.keys(bt).length;for(;wt===RDF_REST$1&&types$2.isObject(X[bt["@id"]])&&types$2.isArray(bt[RDF_FIRST$1])&&bt[RDF_FIRST$1].length===1&&types$2.isArray(bt[RDF_REST$1])&&bt[RDF_REST$1].length===1&&(At===3||At===4&&types$2.isArray(bt["@type"])&&bt["@type"].length===1&&bt["@type"][0]===RDF_LIST)&&(_t.push(bt[RDF_FIRST$1][0]),Et.push(bt["@id"]),ht=X[bt["@id"]],bt=ht.node,wt=ht.property,mt=ht.value,At=Object.keys(bt).length,!!graphTypes$2.isBlankNode(bt)););delete mt["@id"],mt["@list"]=_t.reverse();for(const Ct of Et)delete ct[Ct]}delete lt.usages}}const tt=[],nt=Object.keys(W).sort();for(const st of nt){const ct=W[st];if(st in q){const lt=ct["@graph"]=[],ht=q[st],bt=Object.keys(ht).sort();for(const wt of bt){const mt=ht[wt];graphTypes$2.isSubjectReference(mt)||lt.push(mt)}}graphTypes$2.isSubjectReference(ct)||tt.push(ct)}return tt};function _RDFToObject(D,O,z,F){if(D.termType.endsWith("Node"))return{"@id":D.value};const Y={"@value":D.value};if(D.language)D.language.match(REGEX_BCP47)||F.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:D.language}},options:F}),Y["@language"]=D.language;else{let W=D.datatype.value;if(W||(W=XSD_STRING$1),W===RDF_JSON_LITERAL$1){W="@json";try{Y["@value"]=JSON.parse(Y["@value"])}catch(q){throw new JsonLdError$4("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:Y["@value"],cause:q})}}if(O){if(W===XSD_BOOLEAN$1)Y["@value"]==="true"?Y["@value"]=!0:Y["@value"]==="false"&&(Y["@value"]=!1);else if(types$2.isNumeric(Y["@value"]))if(W===XSD_INTEGER$1){const q=parseInt(Y["@value"],10);q.toFixed(0)===Y["@value"]&&(Y["@value"]=q)}else W===XSD_DOUBLE$1&&(Y["@value"]=parseFloat(Y["@value"]));[XSD_BOOLEAN$1,XSD_INTEGER$1,XSD_DOUBLE$1,XSD_STRING$1].includes(W)||(Y["@type"]=W)}else if(z==="i18n-datatype"&&W.startsWith("https://www.w3.org/ns/i18n#")){const[,q,X]=W.split(/[#_]/);q.length>0&&(Y["@language"]=q,q.match(REGEX_BCP47)||F.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:q}},options:F})),Y["@direction"]=X}else W!==XSD_STRING$1&&(Y["@type"]=W)}return Y}var canonicalize=function D(O){return O===null||typeof O!="object"||O.toJSON!=null?JSON.stringify(O):Array.isArray(O)?"["+O.reduce((z,F,Y)=>{const W=Y===0?"":",",q=F===void 0||typeof F=="symbol"?null:F;return z+W+D(q)},"")+"]":"{"+Object.keys(O).sort().reduce((z,F,Y)=>{if(O[F]===void 0||typeof O[F]=="symbol")return z;const W=z.length===0?"":",";return z+W+D(F)+":"+D(O[F])},"")+"}"};const{createNodeMap}=nodeMap,{isKeyword:isKeyword$1}=context,graphTypes$1=graphTypes$5,jsonCanonicalize=canonicalize,JsonLdError$3=JsonLdError_1,types$1=types$7,util$2=util$5,{handleEvent:_handleEvent}=events,{RDF_FIRST,RDF_REST,RDF_NIL,RDF_TYPE,RDF_JSON_LITERAL,RDF_LANGSTRING,XSD_BOOLEAN,XSD_DOUBLE,XSD_INTEGER,XSD_STRING}=constants,{isAbsolute:_isAbsoluteIri}=url$1,api$2={};var toRdf=api$2;api$2.toRDF=(D,O)=>{const z=new util$2.IdentifierIssuer("_:b"),F={"@default":{}};createNodeMap(D,F,"@default",z);const Y=[],W=Object.keys(F).sort();for(const q of W){let X;if(q==="@default")X={termType:"DefaultGraph",value:""};else if(_isAbsoluteIri(q))q.startsWith("_:")?X={termType:"BlankNode"}:X={termType:"NamedNode"},X.value=q;else{O.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:q}},options:O});continue}_graphToRDF(Y,F[q],X,z,O)}return Y};function _graphToRDF(D,O,z,F,Y){const W=Object.keys(O).sort();for(const q of W){const X=O[q],tt=Object.keys(X).sort();for(let nt of tt){const st=X[nt];if(nt==="@type")nt=RDF_TYPE;else if(isKeyword$1(nt))continue;for(const ct of st){const lt={termType:q.startsWith("_:")?"BlankNode":"NamedNode",value:q};if(!_isAbsoluteIri(q)){Y.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:q}},options:Y});continue}const ht={termType:nt.startsWith("_:")?"BlankNode":"NamedNode",value:nt};if(!_isAbsoluteIri(nt)){Y.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:nt}},options:Y});continue}if(ht.termType==="BlankNode"&&!Y.produceGeneralizedRdf){Y.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:F.getOldIds().find(wt=>F.getId(wt)===nt)}},options:Y});continue}const bt=_objectToRDF(ct,F,D,z,Y.rdfDirection,Y);bt&&D.push({subject:lt,predicate:ht,object:bt,graph:z})}}}}function _listToRDF(D,O,z,F,Y,W){const q={termType:"NamedNode",value:RDF_FIRST},X={termType:"NamedNode",value:RDF_REST},tt={termType:"NamedNode",value:RDF_NIL},nt=D.pop(),st=nt?{termType:"BlankNode",value:O.getId()}:tt;let ct=st;for(const lt of D){const ht=_objectToRDF(lt,O,z,F,Y,W),bt={termType:"BlankNode",value:O.getId()};z.push({subject:ct,predicate:q,object:ht,graph:F}),z.push({subject:ct,predicate:X,object:bt,graph:F}),ct=bt}if(nt){const lt=_objectToRDF(nt,O,z,F,Y,W);z.push({subject:ct,predicate:q,object:lt,graph:F}),z.push({subject:ct,predicate:X,object:tt,graph:F})}return st}function _objectToRDF(D,O,z,F,Y,W){const q={};if(graphTypes$1.isValue(D)){q.termType="Literal",q.value=void 0,q.datatype={termType:"NamedNode"};let X=D["@value"];const tt=D["@type"]||null;if(tt==="@json")q.value=jsonCanonicalize(X),q.datatype.value=RDF_JSON_LITERAL;else if(types$1.isBoolean(X))q.value=X.toString(),q.datatype.value=tt||XSD_BOOLEAN;else if(types$1.isDouble(X)||tt===XSD_DOUBLE)types$1.isDouble(X)||(X=parseFloat(X)),q.value=X.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),q.datatype.value=tt||XSD_DOUBLE;else if(types$1.isNumber(X))q.value=X.toFixed(0),q.datatype.value=tt||XSD_INTEGER;else if("@direction"in D&&Y==="i18n-datatype"){const nt=(D["@language"]||"").toLowerCase(),st=D["@direction"],ct=`https://www.w3.org/ns/i18n#${nt}_${st}`;q.datatype.value=ct,q.value=X}else{if("@direction"in D&&Y==="compound-literal")throw new JsonLdError$3("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:Y});if("@direction"in D&&Y)throw new JsonLdError$3("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:Y});"@language"in D?("@direction"in D&&!Y&&W.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:q.value}},options:W}),q.value=X,q.datatype.value=tt||RDF_LANGSTRING,q.language=D["@language"]):("@direction"in D&&!Y&&W.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:q.value}},options:W}),q.value=X,q.datatype.value=tt||XSD_STRING)}}else if(graphTypes$1.isList(D)){const X=_listToRDF(D["@list"],O,z,F,Y,W);q.termType=X.termType,q.value=X.value}else{const X=types$1.isObject(D)?D["@id"]:D;q.termType=X.startsWith("_:")?"BlankNode":"NamedNode",q.value=X}return q.termType==="NamedNode"&&!_isAbsoluteIri(q.value)?(W.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:q.value}},options:W}),null):q}const{isKeyword}=context,graphTypes=graphTypes$5,types=types$7,util$1=util$5,url=url$1,JsonLdError$2=JsonLdError_1,{createNodeMap:_createNodeMap$1,mergeNodeMapGraphs:_mergeNodeMapGraphs}=nodeMap,api$1={};var frame=api$1;api$1.frameMergedOrDefault=(D,O,z)=>{const F={options:z,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},Y=new util$1.IdentifierIssuer("_:b");_createNodeMap$1(D,F.graphMap,"@default",Y),z.merged&&(F.graphMap["@merged"]=_mergeNodeMapGraphs(F.graphMap),F.graph="@merged"),F.subjects=F.graphMap[F.graph];const W=[];api$1.frame(F,Object.keys(F.subjects).sort(),O,W),z.pruneBlankNodeIdentifiers&&(z.bnodesToClear=Object.keys(F.bnodeMap).filter(q=>F.bnodeMap[q].length===1));// remove @preserve from results
return z.link={},_cleanupPreserve(W,z)};api$1.frame=(D,O,z,F,Y=null)=>{_validateFrame(z),z=z[0];const W=D.options,q={embed:_getFrameFlag(z,W,"embed"),explicit:_getFrameFlag(z,W,"explicit"),requireAll:_getFrameFlag(z,W,"requireAll")};D.link.hasOwnProperty(D.graph)||(D.link[D.graph]={});const X=D.link[D.graph],tt=_filterSubjects(D,O,z,q),nt=Object.keys(tt).sort();for(const st of nt){const ct=tt[st];if(Y===null?D.uniqueEmbeds={[D.graph]:{}}:D.uniqueEmbeds[D.graph]=D.uniqueEmbeds[D.graph]||{},q.embed==="@link"&&st in X){_addFrameOutput(F,Y,X[st]);continue}const lt={"@id":st};if(st.indexOf("_:")===0&&util$1.addValue(D.bnodeMap,st,lt,{propertyIsArray:!0}),X[st]=lt,(q.embed==="@first"||q.embed==="@last")&&D.is11)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:z});if(!(!D.embedded&&D.uniqueEmbeds[D.graph].hasOwnProperty(st))){if(D.embedded&&(q.embed==="@never"||_createsCircularReference(ct,D.graph,D.subjectStack))){_addFrameOutput(F,Y,lt);continue}if(D.embedded&&(q.embed=="@first"||q.embed=="@once")&&D.uniqueEmbeds[D.graph].hasOwnProperty(st)){_addFrameOutput(F,Y,lt);continue}if(q.embed==="@last"&&st in D.uniqueEmbeds[D.graph]&&_removeEmbed(D,st),D.uniqueEmbeds[D.graph][st]={parent:F,property:Y},D.subjectStack.push({subject:ct,graph:D.graph}),st in D.graphMap){let ht=!1,bt=null;"@graph"in z?(bt=z["@graph"][0],ht=!(st==="@merged"||st==="@default"),types.isObject(bt)||(bt={})):(ht=D.graph!=="@merged",bt={}),ht&&api$1.frame({...D,graph:st,embedded:!1},Object.keys(D.graphMap[st]).sort(),[bt],lt,"@graph")}"@included"in z&&api$1.frame({...D,embedded:!1},O,z["@included"],lt,"@included");for(const ht of Object.keys(ct).sort()){if(isKeyword(ht)){if(lt[ht]=util$1.clone(ct[ht]),ht==="@type")for(const bt of ct["@type"])bt.indexOf("_:")===0&&util$1.addValue(D.bnodeMap,bt,lt,{propertyIsArray:!0});continue}if(!(q.explicit&&!(ht in z)))for(const bt of ct[ht]){const wt=ht in z?z[ht]:_createImplicitFrame(q);if(graphTypes.isList(bt)){const mt=z[ht]&&z[ht][0]&&z[ht][0]["@list"]?z[ht][0]["@list"]:_createImplicitFrame(q),_t={"@list":[]};_addFrameOutput(lt,ht,_t);const Et=bt["@list"];for(const At of Et)graphTypes.isSubjectReference(At)?api$1.frame({...D,embedded:!0},[At["@id"]],mt,_t,"@list"):_addFrameOutput(_t,"@list",util$1.clone(At))}else graphTypes.isSubjectReference(bt)?api$1.frame({...D,embedded:!0},[bt["@id"]],wt,lt,ht):_valueMatch(wt[0],bt)&&_addFrameOutput(lt,ht,util$1.clone(bt))}}for(const ht of Object.keys(z).sort()){if(ht==="@type"){if(!types.isObject(z[ht][0])||!("@default"in z[ht][0]))continue}else if(isKeyword(ht))continue;const bt=z[ht][0]||{};if(!_getFrameFlag(bt,W,"omitDefault")&&!(ht in lt)){let mt="@null";"@default"in bt&&(mt=util$1.clone(bt["@default"])),types.isArray(mt)||(mt=[mt]),lt[ht]=[{"@preserve":mt}]}}for(const ht of Object.keys(z["@reverse"]||{}).sort()){const bt=z["@reverse"][ht];for(const wt of Object.keys(D.subjects))util$1.getValues(D.subjects[wt],ht).some(_t=>_t["@id"]===st)&&(lt["@reverse"]=lt["@reverse"]||{},util$1.addValue(lt["@reverse"],ht,[],{propertyIsArray:!0}),api$1.frame({...D,embedded:!0},[wt],bt,lt["@reverse"][ht],Y))}_addFrameOutput(F,Y,lt),D.subjectStack.pop()}}};api$1.cleanupNull=(D,O)=>{if(types.isArray(D))return D.map(F=>api$1.cleanupNull(F,O)).filter(F=>F);if(D==="@null")return null;if(types.isObject(D)){if("@id"in D){const z=D["@id"];if(O.link.hasOwnProperty(z)){const F=O.link[z].indexOf(D);if(F!==-1)return O.link[z][F];O.link[z].push(D)}else O.link[z]=[D]}for(const z in D)D[z]=api$1.cleanupNull(D[z],O)}return D};function _createImplicitFrame(D){const O={};for(const z in D)D[z]!==void 0&&(O["@"+z]=[D[z]]);return[O]}function _createsCircularReference(D,O,z){for(let F=z.length-1;F>=0;--F){const Y=z[F];if(Y.graph===O&&Y.subject["@id"]===D["@id"])return!0}return!1}function _getFrameFlag(D,O,z){const F="@"+z;let Y=F in D?D[F][0]:O[z];if(z==="embed"){if(Y===!0)Y="@once";else if(Y===!1)Y="@never";else if(Y!=="@always"&&Y!=="@never"&&Y!=="@link"&&Y!=="@first"&&Y!=="@last"&&Y!=="@once")throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:D})}return Y}function _validateFrame(D){if(!types.isArray(D)||D.length!==1||!types.isObject(D[0]))throw new JsonLdError$2("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:D});if("@id"in D[0]){for(const O of util$1.asArray(D[0]["@id"]))if(!(types.isObject(O)||url.isAbsolute(O))||types.isString(O)&&O.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:D})}if("@type"in D[0]){for(const O of util$1.asArray(D[0]["@type"]))if(!(types.isObject(O)||url.isAbsolute(O)||O==="@json")||types.isString(O)&&O.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:D})}}function _filterSubjects(D,O,z,F){const Y={};for(const W of O){const q=D.graphMap[D.graph][W];_filterSubject(D,q,z,F)&&(Y[W]=q)}return Y}function _filterSubject(D,O,z,F){let Y=!0,W=!1;for(const q in z){let X=!1;const tt=util$1.getValues(O,q),nt=util$1.getValues(z,q).length===0;if(q==="@id"){if(types.isEmptyObject(z["@id"][0]||{})?X=!0:z["@id"].length>=0&&(X=z["@id"].includes(tt[0])),!F.requireAll)return X}else if(q==="@type"){if(Y=!1,nt){if(tt.length>0)return!1;X=!0}else if(z["@type"].length===1&&types.isEmptyObject(z["@type"][0]))X=tt.length>0;else for(const st of z["@type"])types.isObject(st)&&"@default"in st?X=!0:X=X||tt.some(ct=>ct===st);if(!F.requireAll)return X}else{if(isKeyword(q))continue;{const st=util$1.getValues(z,q)[0];let ct=!1;if(st&&(_validateFrame([st]),ct="@default"in st),Y=!1,tt.length===0&&ct)continue;if(tt.length>0&&nt)return!1;if(st===void 0){if(tt.length>0)return!1;X=!0}else if(graphTypes.isList(st)){const lt=st["@list"][0];if(graphTypes.isList(tt[0])){const ht=tt[0]["@list"];graphTypes.isValue(lt)?X=ht.some(bt=>_valueMatch(lt,bt)):(graphTypes.isSubject(lt)||graphTypes.isSubjectReference(lt))&&(X=ht.some(bt=>_nodeMatch(D,lt,bt,F)))}}else graphTypes.isValue(st)?X=tt.some(lt=>_valueMatch(st,lt)):graphTypes.isSubjectReference(st)?X=tt.some(lt=>_nodeMatch(D,st,lt,F)):types.isObject(st)?X=tt.length>0:X=!1}}if(!X&&F.requireAll)return!1;W=W||X}return Y||W}function _removeEmbed(D,O){const z=D.uniqueEmbeds[D.graph],F=z[O],Y=F.parent,W=F.property,q={"@id":O};if(types.isArray(Y)){for(let tt=0;tt<Y.length;++tt)if(util$1.compareValues(Y[tt],q)){Y[tt]=q;break}}else{const tt=types.isArray(Y[W]);util$1.removeValue(Y,W,q,{propertyIsArray:tt}),util$1.addValue(Y,W,q,{propertyIsArray:tt})}const X=tt=>{const nt=Object.keys(z);for(const st of nt)st in z&&types.isObject(z[st].parent)&&z[st].parent["@id"]===tt&&(delete z[st],X(st))};X(O)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function _cleanupPreserve(D,O){if(types.isArray(D))return D.map(z=>_cleanupPreserve(z,O));if(types.isObject(D)){// remove @preserve
if("@preserve"in D)return D["@preserve"][0];if(graphTypes.isValue(D))return D;if(graphTypes.isList(D))return D["@list"]=_cleanupPreserve(D["@list"],O),D;if("@id"in D){const z=D["@id"];if(O.link.hasOwnProperty(z)){const F=O.link[z].indexOf(D);if(F!==-1)return O.link[z][F];O.link[z].push(D)}else O.link[z]=[D]}for(const z in D){if(z==="@id"&&O.bnodesToClear.includes(D[z])){delete D["@id"];continue}D[z]=_cleanupPreserve(D[z],O)}}return D}function _addFrameOutput(D,O,z){types.isObject(D)?util$1.addValue(D,O,z,{propertyIsArray:!0}):D.push(z)}function _nodeMatch(D,O,z,F){if(!("@id"in z))return!1;const Y=D.subjects[z["@id"]];return Y&&_filterSubject(D,Y,O,F)}function _valueMatch(D,O){const z=O["@value"],F=O["@type"],Y=O["@language"],W=D["@value"]?types.isArray(D["@value"])?D["@value"]:[D["@value"]]:[],q=D["@type"]?types.isArray(D["@type"])?D["@type"]:[D["@type"]]:[],X=D["@language"]?types.isArray(D["@language"])?D["@language"]:[D["@language"]]:[];return W.length===0&&q.length===0&&X.length===0?!0:!(!(W.includes(z)||types.isEmptyObject(W[0]))||!(!F&&q.length===0||q.includes(F)||F&&types.isEmptyObject(q[0]))||!(!Y&&X.length===0||X.includes(Y)||Y&&types.isEmptyObject(X[0])))}const JsonLdError$1=JsonLdError_1,{isArray:_isArray$1,isObject:_isObject$1,isString:_isString$1,isUndefined:_isUndefined}=types$7,{isList:_isList,isValue:_isValue,isGraph:_isGraph,isSimpleGraph:_isSimpleGraph,isSubjectReference:_isSubjectReference$1}=graphTypes$5,{expandIri:_expandIri$1,getContextValue:_getContextValue,isKeyword:_isKeyword,process:_processContext$1,processingMode:_processingMode$1}=context,{removeBase:_removeBase,prependBase:_prependBase}=url$1,{REGEX_KEYWORD,addValue:_addValue,asArray:_asArray,compareShortestLeast:_compareShortestLeast}=util$5,api={};var compact=api;api.compact=async({activeCtx:D,activeProperty:O=null,element:z,options:F={}})=>{if(_isArray$1(z)){let W=[];for(let q=0;q<z.length;++q){const X=await api.compact({activeCtx:D,activeProperty:O,element:z[q],options:F});X!==null&&W.push(X)}return F.compactArrays&&W.length===1&&(_getContextValue(D,O,"@container")||[]).length===0&&(W=W[0]),W}const Y=_getContextValue(D,O,"@context");if(_isUndefined(Y)||(D=await _processContext$1({activeCtx:D,localCtx:Y,propagate:!0,overrideProtected:!0,options:F})),_isObject$1(z)){if(F.link&&"@id"in z&&F.link.hasOwnProperty(z["@id"])){const lt=F.link[z["@id"]];for(let ht=0;ht<lt.length;++ht)if(lt[ht].expanded===z)return lt[ht].compacted}if(_isValue(z)||_isSubjectReference$1(z)){const lt=api.compactValue({activeCtx:D,activeProperty:O,value:z,options:F});return F.link&&_isSubjectReference$1(z)&&(F.link.hasOwnProperty(z["@id"])||(F.link[z["@id"]]=[]),F.link[z["@id"]].push({expanded:z,compacted:lt})),lt}if(_isList(z)&&(_getContextValue(D,O,"@container")||[]).includes("@list"))return api.compact({activeCtx:D,activeProperty:O,element:z["@list"],options:F});const W=O==="@reverse",q={},X=D;!_isValue(z)&&!_isSubjectReference$1(z)&&(D=D.revertToPreviousContext());const tt=_getContextValue(X,O,"@context");_isUndefined(tt)||(D=await _processContext$1({activeCtx:D,localCtx:tt,propagate:!0,overrideProtected:!0,options:F})),F.link&&"@id"in z&&(F.link.hasOwnProperty(z["@id"])||(F.link[z["@id"]]=[]),F.link[z["@id"]].push({expanded:z,compacted:q}));let nt=z["@type"]||[];nt.length>1&&(nt=Array.from(nt).sort());const st=D;for(const lt of nt){const ht=api.compactIri({activeCtx:st,iri:lt,relativeTo:{vocab:!0}}),bt=_getContextValue(X,ht,"@context");_isUndefined(bt)||(D=await _processContext$1({activeCtx:D,localCtx:bt,options:F,propagate:!1}))}const ct=Object.keys(z).sort();for(const lt of ct){const ht=z[lt];if(lt==="@id"){let bt=_asArray(ht).map(mt=>api.compactIri({activeCtx:D,iri:mt,relativeTo:{vocab:!1},base:F.base}));bt.length===1&&(bt=bt[0]);const wt=api.compactIri({activeCtx:D,iri:"@id",relativeTo:{vocab:!0}});q[wt]=bt;continue}if(lt==="@type"){let bt=_asArray(ht).map(At=>api.compactIri({activeCtx:X,iri:At,relativeTo:{vocab:!0}}));bt.length===1&&(bt=bt[0]);const wt=api.compactIri({activeCtx:D,iri:"@type",relativeTo:{vocab:!0}}),Et=(_getContextValue(D,wt,"@container")||[]).includes("@set")&&_processingMode$1(D,1.1)||_isArray$1(bt)&&ht.length===0;_addValue(q,wt,bt,{propertyIsArray:Et});continue}if(lt==="@reverse"){const bt=await api.compact({activeCtx:D,activeProperty:"@reverse",element:ht,options:F});for(const wt in bt)if(D.mappings.has(wt)&&D.mappings.get(wt).reverse){const mt=bt[wt],Et=(_getContextValue(D,wt,"@container")||[]).includes("@set")||!F.compactArrays;_addValue(q,wt,mt,{propertyIsArray:Et}),delete bt[wt]}if(Object.keys(bt).length>0){const wt=api.compactIri({activeCtx:D,iri:lt,relativeTo:{vocab:!0}});_addValue(q,wt,bt)}continue}if(lt==="@preserve"){const bt=await api.compact({activeCtx:D,activeProperty:O,element:ht,options:F});_isArray$1(bt)&&bt.length===0||_addValue(q,lt,bt);continue}if(lt==="@index"){if((_getContextValue(D,O,"@container")||[]).includes("@index"))continue;const wt=api.compactIri({activeCtx:D,iri:lt,relativeTo:{vocab:!0}});_addValue(q,wt,ht);continue}if(lt!=="@graph"&&lt!=="@list"&&lt!=="@included"&&_isKeyword(lt)){const bt=api.compactIri({activeCtx:D,iri:lt,relativeTo:{vocab:!0}});_addValue(q,bt,ht);continue}if(!_isArray$1(ht))throw new JsonLdError$1("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(ht.length===0){const bt=api.compactIri({activeCtx:D,iri:lt,value:ht,relativeTo:{vocab:!0},reverse:W}),wt=D.mappings.has(bt)?D.mappings.get(bt)["@nest"]:null;let mt=q;wt&&(_checkNestProperty(D,wt,F),_isObject$1(q[wt])||(q[wt]={}),mt=q[wt]),_addValue(mt,bt,ht,{propertyIsArray:!0})}for(const bt of ht){const wt=api.compactIri({activeCtx:D,iri:lt,value:bt,relativeTo:{vocab:!0},reverse:W}),mt=D.mappings.has(wt)?D.mappings.get(wt)["@nest"]:null;let _t=q;mt&&(_checkNestProperty(D,mt,F),_isObject$1(q[mt])||(q[mt]={}),_t=q[mt]);const Et=_getContextValue(D,wt,"@container")||[],At=_isGraph(bt),Ct=_isList(bt);let Ft;Ct?Ft=bt["@list"]:At&&(Ft=bt["@graph"]);let Lt=await api.compact({activeCtx:D,activeProperty:wt,element:Ct||At?Ft:bt,options:F});if(Ct)if(_isArray$1(Lt)||(Lt=[Lt]),!Et.includes("@list"))Lt={[api.compactIri({activeCtx:D,iri:"@list",relativeTo:{vocab:!0}})]:Lt},"@index"in bt&&(Lt[api.compactIri({activeCtx:D,iri:"@index",relativeTo:{vocab:!0}})]=bt["@index"]);else{_addValue(_t,wt,Lt,{valueIsArray:!0,allowDuplicate:!0});continue}if(At)if(Et.includes("@graph")&&(Et.includes("@id")||Et.includes("@index")&&_isSimpleGraph(bt))){let Yt;_t.hasOwnProperty(wt)?Yt=_t[wt]:_t[wt]=Yt={};const Ht=(Et.includes("@id")?bt["@id"]:bt["@index"])||api.compactIri({activeCtx:D,iri:"@none",relativeTo:{vocab:!0}});_addValue(Yt,Ht,Lt,{propertyIsArray:!F.compactArrays||Et.includes("@set")})}else Et.includes("@graph")&&_isSimpleGraph(bt)?(_isArray$1(Lt)&&Lt.length>1&&(Lt={"@included":Lt}),_addValue(_t,wt,Lt,{propertyIsArray:!F.compactArrays||Et.includes("@set")})):(_isArray$1(Lt)&&Lt.length===1&&F.compactArrays&&(Lt=Lt[0]),Lt={[api.compactIri({activeCtx:D,iri:"@graph",relativeTo:{vocab:!0}})]:Lt},"@id"in bt&&(Lt[api.compactIri({activeCtx:D,iri:"@id",relativeTo:{vocab:!0}})]=bt["@id"]),"@index"in bt&&(Lt[api.compactIri({activeCtx:D,iri:"@index",relativeTo:{vocab:!0}})]=bt["@index"]),_addValue(_t,wt,Lt,{propertyIsArray:!F.compactArrays||Et.includes("@set")}));else if(Et.includes("@language")||Et.includes("@index")||Et.includes("@id")||Et.includes("@type")){let Yt;_t.hasOwnProperty(wt)?Yt=_t[wt]:_t[wt]=Yt={};let Ht;if(Et.includes("@language"))_isValue(Lt)&&(Lt=Lt["@value"]),Ht=bt["@language"];else if(Et.includes("@index")){const qt=_getContextValue(D,wt,"@index")||"@index",te=api.compactIri({activeCtx:D,iri:qt,relativeTo:{vocab:!0}});if(qt==="@index")Ht=bt["@index"],delete Lt[te];else{let Xt;if([Ht,...Xt]=_asArray(Lt[qt]||[]),!_isString$1(Ht))Ht=null;else switch(Xt.length){case 0:delete Lt[qt];break;case 1:Lt[qt]=Xt[0];break;default:Lt[qt]=Xt;break}}}else if(Et.includes("@id")){const qt=api.compactIri({activeCtx:D,iri:"@id",relativeTo:{vocab:!0}});Ht=Lt[qt],delete Lt[qt]}else if(Et.includes("@type")){const qt=api.compactIri({activeCtx:D,iri:"@type",relativeTo:{vocab:!0}});let te;switch([Ht,...te]=_asArray(Lt[qt]||[]),te.length){case 0:delete Lt[qt];break;case 1:Lt[qt]=te[0];break;default:Lt[qt]=te;break}Object.keys(Lt).length===1&&"@id"in bt&&(Lt=await api.compact({activeCtx:D,activeProperty:wt,element:{"@id":bt["@id"]},options:F}))}Ht||(Ht=api.compactIri({activeCtx:D,iri:"@none",relativeTo:{vocab:!0}})),_addValue(Yt,Ht,Lt,{propertyIsArray:Et.includes("@set")})}else{const Yt=!F.compactArrays||Et.includes("@set")||Et.includes("@list")||_isArray$1(Lt)&&Lt.length===0||lt==="@list"||lt==="@graph";_addValue(_t,wt,Lt,{propertyIsArray:Yt})}}}return q}return z};api.compactIri=({activeCtx:D,iri:O,value:z=null,relativeTo:F={vocab:!1},reverse:Y=!1,base:W=null})=>{if(O===null)return O;D.isPropertyTermScoped&&D.previousContext&&(D=D.previousContext);const q=D.getInverse();if(_isKeyword(O)&&O in q&&"@none"in q[O]&&"@type"in q[O]["@none"]&&"@none"in q[O]["@none"]["@type"])return q[O]["@none"]["@type"]["@none"];if(F.vocab&&O in q){const ct=D["@language"]||"@none",lt=[];_isObject$1(z)&&"@index"in z&&!("@graph"in z)&&lt.push("@index","@index@set"),_isObject$1(z)&&"@preserve"in z&&(z=z["@preserve"][0]),_isGraph(z)?("@index"in z&&lt.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in z&&lt.push("@graph@id","@graph@id@set"),lt.push("@graph","@graph@set","@set"),"@index"in z||lt.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in z||lt.push("@graph@id","@graph@id@set")):_isObject$1(z)&&!_isValue(z)&&lt.push("@id","@id@set","@type","@set@type");let ht="@language",bt="@null";if(Y)ht="@type",bt="@reverse",lt.push("@set");else if(_isList(z)){"@index"in z||lt.push("@list");const mt=z["@list"];if(mt.length===0)ht="@any",bt="@none";else{let _t=mt.length===0?ct:null,Et=null;for(let At=0;At<mt.length;++At){const Ct=mt[At];let Ft="@none",Lt="@none";if(_isValue(Ct))if("@direction"in Ct){const Yt=(Ct["@language"]||"").toLowerCase(),Ht=Ct["@direction"];Ft=`${Yt}_${Ht}`}else"@language"in Ct?Ft=Ct["@language"].toLowerCase():"@type"in Ct?Lt=Ct["@type"]:Ft="@null";else Lt="@id";if(_t===null?_t=Ft:Ft!==_t&&_isValue(Ct)&&(_t="@none"),Et===null?Et=Lt:Lt!==Et&&(Et="@none"),_t==="@none"&&Et==="@none")break}_t=_t||"@none",Et=Et||"@none",Et!=="@none"?(ht="@type",bt=Et):bt=_t}}else{if(_isValue(z))if("@language"in z&&!("@index"in z)){lt.push("@language","@language@set"),bt=z["@language"];const mt=z["@direction"];mt&&(bt=`${bt}_${mt}`)}else"@direction"in z&&!("@index"in z)?bt=`_${z["@direction"]}`:"@type"in z&&(ht="@type",bt=z["@type"]);else ht="@type",bt="@id";lt.push("@set")}lt.push("@none"),_isObject$1(z)&&!("@index"in z)&&lt.push("@index","@index@set"),_isValue(z)&&Object.keys(z).length===1&&lt.push("@language","@language@set");const wt=_selectTerm(D,O,z,lt,ht,bt);if(wt!==null)return wt}if(F.vocab&&"@vocab"in D){const ct=D["@vocab"];if(O.indexOf(ct)===0&&O!==ct){const lt=O.substr(ct.length);if(!D.mappings.has(lt))return lt}}let X=null;const tt=[];let nt=D.fastCurieMap;const st=O.length-1;for(let ct=0;ct<st&&O[ct]in nt;++ct)nt=nt[O[ct]],""in nt&&tt.push(nt[""][0]);for(let ct=tt.length-1;ct>=0;--ct){const lt=tt[ct],ht=lt.terms;for(const bt of ht){const wt=bt+":"+O.substr(lt.iri.length);D.mappings.get(bt)._prefix&&(!D.mappings.has(wt)||z===null&&D.mappings.get(wt)["@id"]===O)&&(X===null||_compareShortestLeast(wt,X)<0)&&(X=wt)}}if(X!==null)return X;for(const[ct,lt]of D.mappings)if(lt&&lt._prefix&&O.startsWith(ct+":"))throw new JsonLdError$1(`Absolute IRI "${O}" confused with prefix "${ct}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:D});if(!F.vocab)if("@base"in D)if(D["@base"]){const ct=_removeBase(_prependBase(W,D["@base"]),O);return REGEX_KEYWORD.test(ct)?`./${ct}`:ct}else return O;else return _removeBase(W,O);return O};api.compactValue=({activeCtx:D,activeProperty:O,value:z,options:F})=>{if(_isValue(z)){const X=_getContextValue(D,O,"@type"),tt=_getContextValue(D,O,"@language"),nt=_getContextValue(D,O,"@direction"),st=_getContextValue(D,O,"@container")||[],ct="@index"in z&&!st.includes("@index");if(!ct&&X!=="@none"&&(z["@type"]===X||"@language"in z&&z["@language"]===tt&&"@direction"in z&&z["@direction"]===nt||"@language"in z&&z["@language"]===tt||"@direction"in z&&z["@direction"]===nt))return z["@value"];const lt=Object.keys(z).length,ht=lt===1||lt===2&&"@index"in z&&!ct,bt="@language"in D,wt=_isString$1(z["@value"]),mt=D.mappings.has(O)&&D.mappings.get(O)["@language"]===null;if(ht&&X!=="@none"&&(!bt||!wt||mt))return z["@value"];const _t={};return ct&&(_t[api.compactIri({activeCtx:D,iri:"@index",relativeTo:{vocab:!0}})]=z["@index"]),"@type"in z?_t[api.compactIri({activeCtx:D,iri:"@type",relativeTo:{vocab:!0}})]=api.compactIri({activeCtx:D,iri:z["@type"],relativeTo:{vocab:!0}}):"@language"in z&&(_t[api.compactIri({activeCtx:D,iri:"@language",relativeTo:{vocab:!0}})]=z["@language"]),"@direction"in z&&(_t[api.compactIri({activeCtx:D,iri:"@direction",relativeTo:{vocab:!0}})]=z["@direction"]),_t[api.compactIri({activeCtx:D,iri:"@value",relativeTo:{vocab:!0}})]=z["@value"],_t}const Y=_expandIri$1(D,O,{vocab:!0},F),W=_getContextValue(D,O,"@type"),q=api.compactIri({activeCtx:D,iri:z["@id"],relativeTo:{vocab:W==="@vocab"},base:F.base});return W==="@id"||W==="@vocab"||Y==="@graph"?q:{[api.compactIri({activeCtx:D,iri:"@id",relativeTo:{vocab:!0}})]:q}};function _selectTerm(D,O,z,F,Y,W){W===null&&(W="@null");const q=[];if((W==="@id"||W==="@reverse")&&_isObject$1(z)&&"@id"in z){W==="@reverse"&&q.push("@reverse");const tt=api.compactIri({activeCtx:D,iri:z["@id"],relativeTo:{vocab:!0}});D.mappings.has(tt)&&D.mappings.get(tt)&&D.mappings.get(tt)["@id"]===z["@id"]?q.push.apply(q,["@vocab","@id"]):q.push.apply(q,["@id","@vocab"])}else{q.push(W);const tt=q.find(nt=>nt.includes("_"));tt&&q.push(tt.replace(/^[^_]+_/,"_"))}q.push("@none");const X=D.inverse[O];for(const tt of F){if(!(tt in X))continue;const nt=X[tt][Y];for(const st of q)if(st in nt)return nt[st]}return null}function _checkNestProperty(D,O,z){if(_expandIri$1(D,O,{vocab:!0},z)!=="@nest")throw new JsonLdError$1("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var JsonLdProcessor,hasRequiredJsonLdProcessor;function requireJsonLdProcessor(){return hasRequiredJsonLdProcessor||(hasRequiredJsonLdProcessor=1,JsonLdProcessor=D=>{class O{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(O,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(O.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:O}),O.compact=function(z,F){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):D.compact(z,F)},O.expand=function(z){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):D.expand(z)},O.flatten=function(z){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):D.flatten(z)},O}),JsonLdProcessor}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const canonize=rdfCanonize,platform=platformBrowser,util=util$5,ContextResolver=ContextResolver_1,IdentifierIssuer=util.IdentifierIssuer,JsonLdError=JsonLdError_1,LRU=lruCache,NQuads=NQuads$1,{expand:_expand}=expand,{flatten:_flatten}=flatten,{fromRDF:_fromRDF}=fromRdf,{toRDF:_toRDF}=toRdf,{frameMergedOrDefault:_frameMergedOrDefault,cleanupNull:_cleanupNull}=frame,{isArray:_isArray,isObject:_isObject,isString:_isString}=types$7,{isSubjectReference:_isSubjectReference}=graphTypes$5,{expandIri:_expandIri,getInitialContext:_getInitialContext,process:_processContext,processingMode:_processingMode}=context,{compact:_compact,compactIri:_compactIri}=compact,{createNodeMap:_createNodeMap,createMergedNodeMap:_createMergedNodeMap,mergeNodeMaps:_mergeNodeMaps}=nodeMap,{logEventHandler:_logEventHandler,logWarningEventHandler:_logWarningEventHandler,safeEventHandler:_safeEventHandler,setDefaultEventHandler:_setDefaultEventHandler,setupEventHandler:_setupEventHandler,strictEventHandler:_strictEventHandler,unhandledEventHandler:_unhandledEventHandler}=events,wrapper=function(D){const O={},F=new LRU({max:100});D.compact=async function(W,q,X){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(q===null)throw new JsonLdError("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(W===null)return null;X=Y(X,{base:_isString(W)?W:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new IdentifierIssuer("_:b"),contextResolver:new ContextResolver({sharedCache:F})}),X.link&&(X.skipExpansion=!0),X.compactToRelative||delete X.base;let tt;X.skipExpansion?tt=W:tt=await D.expand(W,X);const nt=await D.processContext(_getInitialContext(X),q,X);let st=await _compact({activeCtx:nt,element:tt,options:X});X.compactArrays&&!X.graph&&_isArray(st)?st.length===1?st=st[0]:st.length===0&&(st={}):X.graph&&_isObject(st)&&(st=[st]),_isObject(q)&&"@context"in q&&(q=q["@context"]),q=util.clone(q),_isArray(q)||(q=[q]);const ct=q;q=[];for(let ht=0;ht<ct.length;++ht)(!_isObject(ct[ht])||Object.keys(ct[ht]).length>0)&&q.push(ct[ht]);const lt=q.length>0;if(q.length===1&&(q=q[0]),_isArray(st)){const ht=_compactIri({activeCtx:nt,iri:"@graph",relativeTo:{vocab:!0}}),bt=st;st={},lt&&(st["@context"]=q),st[ht]=bt}else if(_isObject(st)&&lt){const ht=st;st={"@context":q};for(const bt in ht)st[bt]=ht[bt]}return st},D.expand=async function(W,q){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");q=Y(q,{keepFreeFloatingNodes:!1,contextResolver:new ContextResolver({sharedCache:F})});const X={},tt=[];if("expandContext"in q){const lt=util.clone(q.expandContext);_isObject(lt)&&"@context"in lt?X.expandContext=lt:X.expandContext={"@context":lt},tt.push(X.expandContext)}let nt;if(!_isString(W))X.input=util.clone(W);else{const lt=await D.get(W,q);nt=lt.documentUrl,X.input=lt.document,lt.contextUrl&&(X.remoteContext={"@context":lt.contextUrl},tt.push(X.remoteContext))}"base"in q||(q.base=nt||"");let st=_getInitialContext(q);for(const lt of tt)st=await _processContext({activeCtx:st,localCtx:lt,options:q});let ct=await _expand({activeCtx:st,element:X.input,options:q});return _isObject(ct)&&"@graph"in ct&&Object.keys(ct).length===1?ct=ct["@graph"]:ct===null&&(ct=[]),_isArray(ct)||(ct=[ct]),ct},D.flatten=async function(W,q,X){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof q=="function"?q=null:q=q||null,X=Y(X,{base:_isString(W)?W:"",contextResolver:new ContextResolver({sharedCache:F})});const tt=await D.expand(W,X),nt=_flatten(tt);return q===null?nt:(X.graph=!0,X.skipExpansion=!0,await D.compact(nt,q,X))},D.frame=async function(W,q,X){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(X=Y(X,{base:_isString(W)?W:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new ContextResolver({sharedCache:F})}),_isString(q)){const mt=await D.get(q,X);if(q=mt.document,mt.contextUrl){let _t=q["@context"];_t?_isArray(_t)?_t.push(mt.contextUrl):_t=[_t,mt.contextUrl]:_t=mt.contextUrl,q["@context"]=_t}}const tt=q?q["@context"]||{}:{},nt=await D.processContext(_getInitialContext(X),tt,X);X.hasOwnProperty("omitGraph")||(X.omitGraph=_processingMode(nt,1.1)),X.hasOwnProperty("pruneBlankNodeIdentifiers")||(X.pruneBlankNodeIdentifiers=_processingMode(nt,1.1));const st=await D.expand(W,X),ct={...X};ct.isFrame=!0,ct.keepFreeFloatingNodes=!0;const lt=await D.expand(q,ct),ht=Object.keys(q).map(mt=>_expandIri(nt,mt,{vocab:!0}));ct.merged=!ht.includes("@graph"),ct.is11=_processingMode(nt,1.1);const bt=_frameMergedOrDefault(st,lt,ct);ct.graph=!X.omitGraph,ct.skipExpansion=!0,ct.link={},ct.framing=!0;let wt=await D.compact(bt,tt,ct);return ct.link={},wt=_cleanupNull(wt,ct),wt},D.link=async function(W,q,X){const tt={};return q&&(tt["@context"]=q),tt["@embed"]="@link",D.frame(W,tt,X)},D.normalize=D.canonize=async function(W,q){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(q=Y(q,{base:_isString(W)?W:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new ContextResolver({sharedCache:F})}),"inputFormat"in q){if(q.inputFormat!=="application/n-quads"&&q.inputFormat!=="application/nquads")throw new JsonLdError("Unknown canonicalization input format.","jsonld.CanonizeError");const nt=NQuads.parse(W);return canonize.canonize(nt,q)}const X={...q};delete X.format,X.produceGeneralizedRdf=!1;const tt=await D.toRDF(W,X);return canonize.canonize(tt,q)},D.fromRDF=async function(W,q){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");q=Y(q,{format:_isString(W)?"application/n-quads":void 0});const{format:X}=q;let{rdfParser:tt}=q;if(X){if(tt=tt||O[X],!tt)throw new JsonLdError("Unknown input format.","jsonld.UnknownFormat",{format:X})}else tt=()=>W;const nt=await tt(W);return _fromRDF(nt,q)},D.toRDF=async function(W,q){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");q=Y(q,{base:_isString(W)?W:"",skipExpansion:!1,contextResolver:new ContextResolver({sharedCache:F})});let X;q.skipExpansion?X=W:X=await D.expand(W,q);const tt=_toRDF(X,q);if(q.format){if(q.format==="application/n-quads"||q.format==="application/nquads")return NQuads.serialize(tt);throw new JsonLdError("Unknown output format.","jsonld.UnknownFormat",{format:q.format})}return tt},D.createNodeMap=async function(W,q){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");q=Y(q,{base:_isString(W)?W:"",contextResolver:new ContextResolver({sharedCache:F})});const X=await D.expand(W,q);return _createMergedNodeMap(X,q)},D.merge=async function(W,q,X){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!_isArray(W))throw new TypeError('Could not merge, "docs" must be an array.');typeof q=="function"?q=null:q=q||null,X=Y(X,{contextResolver:new ContextResolver({sharedCache:F})});const tt=await Promise.all(W.map(mt=>{const _t={...X};return D.expand(mt,_t)}));let nt=!0;"mergeNodes"in X&&(nt=X.mergeNodes);const st=X.issuer||new IdentifierIssuer("_:b"),ct={"@default":{}};for(let mt=0;mt<tt.length;++mt){const _t=util.relabelBlankNodes(tt[mt],{issuer:new IdentifierIssuer("_:b"+mt+"-")}),Et=nt||mt===0?ct:{"@default":{}};if(_createNodeMap(_t,Et,"@default",st),Et!==ct)for(const At in Et){const Ct=Et[At];if(!(At in ct)){ct[At]=Ct;continue}const Ft=ct[At];for(const Lt in Ct)Lt in Ft||(Ft[Lt]=Ct[Lt])}}const lt=_mergeNodeMaps(ct),ht=[],bt=Object.keys(lt).sort();for(let mt=0;mt<bt.length;++mt){const _t=lt[bt[mt]];_isSubjectReference(_t)||ht.push(_t)}return q===null?ht:(X.graph=!0,X.skipExpansion=!0,await D.compact(ht,q,X))},Object.defineProperty(D,"documentLoader",{get:()=>D._documentLoader,set:W=>D._documentLoader=W}),D.documentLoader=async W=>{throw new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:W})},D.get=async function(W,q){let X;typeof q.documentLoader=="function"?X=q.documentLoader:X=D.documentLoader;const tt=await X(W);try{if(!tt.document)throw new JsonLdError("No remote document found at the given URL.","jsonld.NullRemoteDocument");_isString(tt.document)&&(tt.document=JSON.parse(tt.document))}catch(nt){throw new JsonLdError("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:nt,remoteDoc:tt})}return tt},D.processContext=async function(W,q,X){return X=Y(X,{base:"",contextResolver:new ContextResolver({sharedCache:F})}),q===null?_getInitialContext(X):(q=util.clone(q),_isObject(q)&&"@context"in q||(q={"@context":q}),_processContext({activeCtx:W,localCtx:q,options:X}))},D.getContextValue=context.getContextValue,D.documentLoaders={},D.useDocumentLoader=function(W){if(!(W in D.documentLoaders))throw new JsonLdError('Unknown document loader type: "'+W+'"',"jsonld.UnknownDocumentLoader",{type:W});D.documentLoader=D.documentLoaders[W].apply(D,Array.prototype.slice.call(arguments,1))},D.registerRDFParser=function(W,q){O[W]=q},D.unregisterRDFParser=function(W){delete O[W]},D.registerRDFParser("application/n-quads",NQuads.parse),D.registerRDFParser("application/nquads",NQuads.parse),D.url=url$1,D.logEventHandler=_logEventHandler,D.logWarningEventHandler=_logWarningEventHandler,D.safeEventHandler=_safeEventHandler,D.setDefaultEventHandler=_setDefaultEventHandler,D.strictEventHandler=_strictEventHandler,D.unhandledEventHandler=_unhandledEventHandler,D.util=util,Object.assign(D,util),D.promises=D,D.RequestQueue=requireRequestQueue(),D.JsonLdProcessor=requireJsonLdProcessor()(D),platform.setupGlobals(D),platform.setupDocumentLoaders(D);function Y(W,{documentLoader:q=D.documentLoader,...X}){if(W&&"compactionMap"in W)throw new JsonLdError('"compactionMap" not supported.',"jsonld.OptionsError");if(W&&"expansionMap"in W)throw new JsonLdError('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:q},X,W,{eventHandler:_setupEventHandler({options:W})})}return D},factory=function(){return wrapper(function(){return factory()})};wrapper(factory);var jsonld=factory;const _hoisted_1$2=["grid","caption","right","left","full","width","height"],_hoisted_2$1=["innerHTML"],sparqlEndpoint="https://cy9in0xsv5.execute-api.us-east-1.amazonaws.com/prod/sparql",iiifService="https://iiif.juncture-digital.org",sparql=`
    PREFIX jwd: <http://kg.jstor.org/entity/>
    PREFIX jwdt: <http://kg.jstor.org/prop/direct/>
    PREFIX jp: <http://kg.jstor.org/prop/>
    PREFIX jps: <http://kg.jstor.org/prop/statement/>
    PREFIX jpq: <http://kg.jstor.org/prop/qualifier/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX schema: <http://schema.org/>
    CONSTRUCT {
      ?specimen jwdt:P1660 ?specimenOf ;
                schema:description ?description ;
                rdf:type jwd:Q14316 ;
                jwdt:P1663 ?collectionDate ;
                jwdt:P1662 ?collector ;
                jwdt:P1665 ?locationCollected ;
                jwdt:P1106 ?jstorPlantsId ;
                jwdt:P1661 ?specimenType ;
                jwdt:P501 ?taxonName ;
                jwdt:P1666 ?availableAt ;
                jp:P1467 ?img .
      ?img jps:P1467 ?url ; jpq:P1669 ?imgSize .
      ?availableAt jps:P1666 ?wdID ; rdfs:label ?herbariumName .
      ?locationCollected jps:P1665 ?locId ; rdfs:label ?locationName ; wdt:P6766 ?wofId .
    } WHERE {
      ?specimen jwdt:P17 jwd:Q14316 ;
              <<SELECTOR>>
              schema:description ?description ;
              jwdt:P1106 ?jstorPlantsId ;
              jwdt:P501 ?taxonName ;
              jp:P1467 [ jps:P1467 ?img ;
                        jpq:P1669 ?imgSize ] .
      FILTER(?imgSize = 'best')
      OPTIONAL { ?specimen jwdt:P1661 ?specimenType . }
      OPTIONAL { ?specimen jwdt:P1660 ?specimenOf . }
      OPTIONAL { ?specimen jwdt:P1663 ?collectionDate . }
      OPTIONAL { ?specimen jwdt:P1662 ?collector . }
      OPTIONAL {
          ?specimen jwdt:P1665 ?locationCollected .
          SERVICE <https://query.wikidata.org/sparql> {
              ?locationCollected rdfs:label ?locationName .
              FILTER(LANG(?locationName) = 'en')
              OPTIONAL { ?locationCollected wdt:P6766 ?wofId . }
          }
      }        
      OPTIONAL {
          ?specimen jwdt:P1666 ?availableAt .
          SERVICE <https://query.wikidata.org/sparql> {
              ?availableAt rdfs:label ?herbariumName .
              FILTER(LANG(?herbariumName) = 'en')
          }
      }
    }
    LIMIT <<LIMIT>>`,_sfc_main$3=defineComponent({__name:"PlantSpecimen.ce",props:{eid:{type:String},qid:{type:String},jpid:{type:String},wdid:{type:String},taxonName:{type:String},caption:{type:String},max:{type:Number,default:1},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String}},setup(D){const O=D,z=ref(null),F=ref([]),Y=ref([]);watch$1(F,async()=>{var st;Y.value=await Promise.all((((st=F.value)==null?void 0:st.length)===1?[F.value[0]]:F.value||[]).map(ct=>fetch(`${iiifService}/manifest/`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(nt(ct))}).then(lt=>lt.json())))});const W=computed(()=>{var st;return O.caption||(((st=F.value)==null?void 0:st.length)>0?F.value[0].description:"")});onMounted(()=>X());const q={"@context":{jwd:"http://kg.jstor.org/entity/",jwdt:"http://kg.jstor.org/prop/direct/",jp:"http://kg.jstor.org/prop/",jps:"http://kg.jstor.org/prop/statement/",jpq:"http://kg.jstor.org/prop/qualifier/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",xsd:"http://www.w3.org/2001/XMLSchema#",Specimen:"jwd:Q14316",id:"@id",collectionDate:{"@id":"jwdt:P1663","@type":"xsd:dateTime"},collector:{"@id":"jwdt:P1662","@container":"@set"},description:{"@id":"schema:description","@language":"en"},herbarium:{"@id":"jwdt:P1666","@type":"@id"},images:{"@id":"jp:P1467","@type":"@id","@container":"@set"},imgSize:{"@id":"jpq:P1669"},"instance of":{"@id":"jwdt:P17","@type":"@id"},jstorPlantsId:{"@id":"jwdt:P1106"},locationCollected:{"@id":"jwdt:P1665"},label:{"@id":"rdfs:label","@language":"en"},specimenOf:{"@id":"jwdt:P1660","@type":"@id"},specimenType:{"@id":"jwdt:P1661"},taxonName:{"@id":"jwdt:P501"},wofId:{"@id":"wdt:P6766"}}};async function X(){let st=O.jpid?`jwdt:P1106 "${O.jpid}" ;`:O.eid||O.qid||O.wdid?`jwdt:P1660 <http://www.wikidata.org/entity/${O.eid||O.qid||O.wdid}> ;`:`jwdt:P501 "${O.taxonName}" ;`,ct=sparql.replace(/<<SELECTOR>>/,st).replace(/<<LIMIT>>/,`${O.max}`),lt=await tt(ct);lt["@graph"]?F.value=(await tt(ct))["@graph"]:(delete lt["@context"],F.value=[lt])}async function tt(st){let lt=await(await fetch(sparqlEndpoint,{method:"POST",body:new URLSearchParams({query:st}),headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"}})).text(),ht=await jsonld.fromRDF(lt,{format:"application/n-quads"});return jsonld.frame(ht,{"@context":q,"@type":"Specimen"})}function nt(st){let lt=st.images.find(bt=>bt.imgSize==="best").id.match(/rft_id=([^&]*)/)[1],ht={url:`${iiifService}/gp-proxy${lt}`};return st.taxonName&&(ht["Taxon name"]=st.taxonName),st.jstorPlantsId&&(ht["Global Plants ID"]=st.jstorPlantsId),st.description&&(ht.Description=st.description),st.description&&(ht.Label=st.description),st.specimenType&&(ht["Specimen type"]=st.specimenType),st.collector&&(ht.Collector=st.collector.join("; ")),st.locationCollected&&(ht["Location collected"]=st.locationCollected.label),st.collectionDate&&(ht["Date collected"]=st.collectionDate),st.herbarium&&(ht.Herbarium=st.herbarium.label),ht}return(st,ct)=>(openBlock(),createElementBlock("div",{class:"osd",id:"osd",ref_key:"root",ref:z},[F.value.length>0?(openBlock(),createElementBlock("ve-media",{key:0,grid:Y.value.length>1,caption:W.value,right:O.right,left:O.left,full:O.full,width:O.width,height:O.height},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Y.value,lt=>(openBlock(),createElementBlock("li",{key:lt.id||lt["@id"],innerHTML:lt.id||lt["@id"]},null,8,_hoisted_2$1))),128))])],8,_hoisted_1$2)):createCommentVNode("",!0)],512))}}),_hoisted_1$1=createBaseVNode("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),_hoisted_2={class:"wrapper"},_hoisted_3={class:"search-form"},_hoisted_4={class:"input-wrapper relative"},_hoisted_5=createBaseVNode("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),_hoisted_6=[_hoisted_5],_hoisted_7={key:0,class:"search-results"},_hoisted_8=["href"],_hoisted_9=["innerHTML"],_hoisted_10=["innerHTML"],_hoisted_11={key:0},_hoisted_12=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[createBaseVNode("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),_hoisted_13=[_hoisted_12],searchEndpoint="https://www.googleapis.com/customsearch/v1",_sfc_main$2=defineComponent({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(D){const O=D,z=ref(_t(O.searchDomain||"",O.searchKey||"")),F=ref(null),Y=computed(()=>{var Et;return(Et=F==null?void 0:F.value)==null?void 0:Et.parentNode}),W=ref(),q=ref(),X=ref(""),tt=ref([]),nt=ref(0),st=ref(!1);onMounted(()=>lt());function ct(Et){Et.preventDefault(),st.value=!0}function lt(){var Et,At;W.value=(Et=Y.value)==null?void 0:Et.querySelector("#search-input"),W.value.value="",q.value=(At=Y.value)==null?void 0:At.querySelector("#search-btn"),tt.value=[]}watch$1(st,()=>{var Et;q.value&&(q.value.checked=st.value),st&&((Et=W.value)==null||Et.focus())});function ht(){var Lt;let Et=(Lt=W.value)==null?void 0:Lt.value.replace(/ /,"%20"),At={q:Et,start:Et===X.value?tt.value.length+1:1,key:z.value,cx:O.searchCx},Ct=Object.keys(At).map(Yt=>`${Yt}=${At[Yt]}`).join("&"),Ft=`${searchEndpoint}?${Ct}`;fetch(Ft).then(Yt=>Yt.json()).then(Yt=>{nt.value=parseInt(Yt.searchInformation.totalResults);let Ht=Yt.items.map(qt=>{let te=new URL(qt.link);return qt.link=`${location.origin}${te.pathname}`,qt});tt.value=Et!==X.value?Ht:[...tt.value,...Ht],X.value=Et||""})}function bt(Et){Et.key==="Enter"&&ht()}function wt(Et){Et.preventDefault(),Et.stopPropagation(),st.value=!1,W.value&&(W.value.value=""),X.value="",nt.value=0,tt.value=[]}function mt(){st.value=!st.value}function _t(Et,At){const Ct=Ht=>Ht.split("").map(qt=>qt.charCodeAt(0)),Ft=Ht=>Ct(Et).reduce((qt,te)=>qt^te,Ht);let Lt=At.match(/.{1,2}/g);return Lt?Lt.map(Ht=>parseInt(Ht,16)).map(Ft).map(Ht=>String.fromCharCode(Ht)).join(""):""}return(Et,At)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:F,class:"search",onClick:ct},[_hoisted_1$1,createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("input",{type:"text",id:"search-input",class:"search-input",onKeyup:bt,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(openBlock(),createElementBlock("svg",{onClick:wt,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},_hoisted_6))]),tt.value.length>0?(openBlock(),createElementBlock("ul",_hoisted_7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value,(Ct,Ft)=>(openBlock(),createElementBlock("li",{key:`sr=${Ft}`},[createBaseVNode("a",{href:Ct.link},[createBaseVNode("h3",{innerHTML:Ct.htmlTitle},null,8,_hoisted_9),createBaseVNode("p",{innerHTML:Ct.htmlSnippet},null,8,_hoisted_10)],8,_hoisted_8)]))),128)),nt.value>tt.value.length?(openBlock(),createElementBlock("li",_hoisted_11,[createBaseVNode("div",{class:"more",onClick:ht},"More")])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("label",{class:"search-icon",htmlFor:"search-btn"},[createBaseVNode("span",{onClick:mt},_hoisted_13)])],512))}}),_style_0$1=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,SiteSearch=_export_sfc(_sfc_main$2,[["styles",[_style_0$1]]]),_sfc_main$1=defineComponent({__name:"Spacer.ce",props:{height:{type:String,default:"50vh"}},setup(D){const O=D;return(z,F)=>(openBlock(),createElementBlock("div",{style:normalizeStyle({height:O.height})},null,4))}}),_hoisted_1=["innerHTML","title"],_sfc_main=defineComponent({__name:"Trigger.ce",props:{anno:{type:String},play:{type:String},start:{type:String},zoomto:{type:String}},setup(D){const O=ref(null),z=computed(()=>{var X,tt;return(tt=(X=O.value)==null?void 0:X.getRootNode())==null?void 0:tt.host}),F=computed(()=>{var X;return(X=z.value)==null?void 0:X.textContent}),Y=ref(),W=D;watch$1(W,()=>{q()}),onMounted(()=>{q()});function q(){Y.value=W.anno&&"anno"||W.play&&"play"||W.start&&"play"||W.zoomto&&"zoomto"}return(X,tt)=>(openBlock(),createElementBlock("a",{ref_key:"root",ref:O,class:"bg-green-100",href:"javascript:;",innerHTML:F.value,title:`Click to trigger ${Y.value} action`},null,8,_hoisted_1))}}),_style_0=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-\\[10px\\]{right:10px}.top-0{top:0}.top-\\[12px\\]{top:12px}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-3{margin:.75rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-8{height:2rem}.h-\\[80px\\]{height:80px}.h-auto{height:auto}.h-full{height:100%}.w-1\\/2{width:50%}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-8{width:2rem}.w-\\[80px\\]{width:80px}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[\\#000\\]\\/30{background-color:#0000004d}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-sans{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:text-gray-400:hover{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.group:hover .group-hover\\:visible{visibility:visible}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100,.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-gray-700:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Trigger=_export_sfc(_sfc_main,[["styles",[_style_0]]]);__vitePreload(()=>import("./preline-7d6f83a6.js").then(D=>D.p),[]);function defineCustomElements(){customElements.define("ve-entity-infobox",defineCustomElement(EntityInfobox)),customElements.define("ve-footer",defineCustomElement(Footer)),customElements.define("ve-gif",defineCustomElement(GIF)),customElements.define("ve-header",defineCustomElement(Header)),customElements.define("ve-hero",defineCustomElement(Hero)),customElements.define("ve-manifest",defineCustomElement(Manifest)),customElements.define("ve-manifest-popup",defineCustomElement(ManifestPopup)),customElements.define("ve-map",defineCustomElement(Map$3)),customElements.define("ve-media",defineCustomElement(MediaViewer)),customElements.define("ve-menu",defineCustomElement(Menu)),customElements.define("ve-mermaid",defineCustomElement(Mermaid)),customElements.define("ve-meta",defineCustomElement(_sfc_main$6)),customElements.define("ve-modal",defineCustomElement(Modal)),customElements.define("ve-navbar",defineCustomElement(Navbar)),customElements.define("ve-plant-specimen",defineCustomElement(_sfc_main$3)),customElements.define("ve-site-search",defineCustomElement(SiteSearch)),customElements.define("ve-spacer",defineCustomElement(_sfc_main$1)),customElements.define("ve-trigger",defineCustomElement(Trigger))}console.log("juncture-webcomponents: version=0.4.0");defineCustomElements();export{Color$1 as C,_,getConfig$1 as a,setupGraphViewbox$1 as b,commonjsGlobal$1 as c,db as d,getStylesFromArray as e,evaluate as f,getDefaultExportFromCjs as g,addHtmlLabel$1 as h,insertMarkers$3 as i,common$1 as j,insertNode as k,log$1 as l,interpolateToCurve as m,curveLinear as n,insertEdgeLabel as o,parser$8 as p,line$1 as q,commonDb$1 as r,select as s,parseDirective$c as t,clear$g as u,lighten$1 as v,darken$1 as w,arc as x,sanitizeText$5 as y};
